(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{130:(at,Ee,V)=>{"use strict";V.d(Ee,{X:()=>i});var E=V(2615);let i=(()=>{class z{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"token",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0}]},{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}]}}static \u0275fac=function(Z){return new(Z||z)};static \u0275prov=E.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},467:(at,Ee,V)=>{"use strict";function E(z,M,X,Z,Y,ie,ge){try{var pe=z[ie](ge),re=pe.value}catch(ce){return void X(ce)}pe.done?M(re):Promise.resolve(re).then(Z,Y)}function i(z){return function(){var M=this,X=arguments;return new Promise(function(Z,Y){var ie=z.apply(M,X);function ge(re){E(ie,Z,Y,ge,pe,"next",re)}function pe(re){E(ie,Z,Y,ge,pe,"throw",re)}ge(void 0)})}}V.d(Ee,{A:()=>i})},591:(at,Ee,V)=>{"use strict";function E(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{L:()=>E})},1026:(at,Ee,V)=>{"use strict";V.d(Ee,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(at,Ee,V)=>{"use strict";V.d(Ee,{F:()=>i,m:()=>z});var E=V(3669);function i(...M){return z(M)}function z(M){return 0===M.length?E.D:1===M.length?M[0]:function(Z){return M.reduce((Y,ie)=>ie(Y),Z)}}},1397:(at,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ie});var E=V(6354),i=V(8750),z=V(9974),M=V(5225),X=V(4360),Y=V(8071);function ie(ge,pe,re=1/0){return(0,Y.T)(pe)?ie((ce,de)=>(0,E.T)((ye,Pe)=>pe(ce,ye,de,Pe))((0,i.Tg)(ge(ce,de))),re):("number"==typeof pe&&(re=pe),(0,z.N)((ce,de)=>function Z(ge,pe,re,ce,de,ye,Pe,He){const ze=[];let Ge=0,We=0,bt=!1;const _e=()=>{bt&&!ze.length&&!Ge&&pe.complete()},Te=Ve=>Ge<ce?Se(Ve):ze.push(Ve),Se=Ve=>{ye&&pe.next(Ve),Ge++;let Fe=!1;(0,i.Tg)(re(Ve,We++)).subscribe((0,X._)(pe,qe=>{de?.(qe),ye?Te(qe):pe.next(qe)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ge--;ze.length&&Ge<ce;){const qe=ze.shift();Pe?(0,M.N)(pe,Pe,()=>Se(qe)):Se(qe)}_e()}catch(qe){pe.error(qe)}}))};return ge.subscribe((0,X._)(pe,Te,()=>{bt=!0,_e()})),()=>{He?.()}}(ce,de,ge,re)))}},1413:(at,Ee,V)=>{"use strict";V.d(Ee,{B:()=>Y});var E=V(1985),i=V(8359);const M=(0,V(1853).L)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=V(7908),Z=V(9786);let Y=(()=>{class ge extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const ce=new ie(this,this);return ce.operator=re,ce}_throwIfClosed(){if(this.closed)throw new M}next(re){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(re)}})}error(re){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:ce}=this;for(;ce.length;)ce.shift().error(re)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:ce,isStopped:de,observers:ye}=this;return ce||de?i.Kn:(this.currentObservers=null,ye.push(re),new i.yU(()=>{this.currentObservers=null,(0,X.o)(ye,re)}))}_checkFinalizedStatuses(re){const{hasError:ce,thrownError:de,isStopped:ye}=this;ce?re.error(de):ye&&re.complete()}asObservable(){const re=new E.c;return re.source=this,re}}return ge.create=(pe,re)=>new ie(pe,re),ge})();class ie extends Y{constructor(pe,re){super(),this.destination=pe,this.source=re}next(pe){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===ce||ce.call(re,pe)}error(pe){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===ce||ce.call(re,pe)}complete(){var pe,re;null===(re=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===re||re.call(pe)}_subscribe(pe){var re,ce;return null!==(ce=null===(re=this.source)||void 0===re?void 0:re.subscribe(pe))&&void 0!==ce?ce:i.Kn}}},1635:(at,Ee,V)=>{"use strict";function ce(ae,le,be,ve){return new(be||(be=Promise))(function(Le,ct){function it(Be){try{me(ve.next(Be))}catch(Xe){ct(Xe)}}function qt(Be){try{me(ve.throw(Be))}catch(Xe){ct(Xe)}}function me(Be){Be.done?Le(Be.value):function De(Le){return Le instanceof be?Le:new be(function(ct){ct(Le)})}(Be.value).then(it,qt)}me((ve=ve.apply(ae,le||[])).next())})}function _e(ae){return this instanceof _e?(this.v=ae,this):new _e(ae)}function Te(ae,le,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ve=be.apply(ae,le||[]),Le=[];return De=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),it("next"),it("throw"),it("return",function ct(Ue){return function(Wt){return Promise.resolve(Wt).then(Ue,Xe)}}),De[Symbol.asyncIterator]=function(){return this},De;function it(Ue,Wt){ve[Ue]&&(De[Ue]=function(kt){return new Promise(function(ln,zt){Le.push([Ue,kt,ln,zt])>1||qt(Ue,kt)})},Wt&&(De[Ue]=Wt(De[Ue])))}function qt(Ue,Wt){try{!function me(Ue){Ue.value instanceof _e?Promise.resolve(Ue.value.v).then(Be,Xe):pt(Le[0][2],Ue)}(ve[Ue](Wt))}catch(kt){pt(Le[0][3],kt)}}function Be(Ue){qt("next",Ue)}function Xe(Ue){qt("throw",Ue)}function pt(Ue,Wt){Ue(Wt),Le.shift(),Le.length&&qt(Le[0][0],Le[0][1])}}function Ve(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function He(ae){var le="function"==typeof Symbol&&Symbol.iterator,be=le&&ae[le],ve=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),be={},ve("next"),ve("throw"),ve("return"),be[Symbol.asyncIterator]=function(){return this},be);function ve(Le){be[Le]=ae[Le]&&function(ct){return new Promise(function(it,qt){!function De(Le,ct,it,qt){Promise.resolve(qt).then(function(me){Le({value:me,done:it})},ct)}(it,qt,(ct=ae[Le](ct)).done,ct.value)})}}}V.d(Ee,{AQ:()=>Te,N3:()=>_e,sH:()=>ce,xN:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError},1853:(at,Ee,V)=>{"use strict";function E(i){const M=i(X=>{Error.call(X),X.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}V.d(Ee,{L:()=>E})},1948:(at,Ee,V)=>{"use strict";V.d(Ee,{a:()=>bi});var E=V(467);class z extends Error{constructor(g,h="FunctionsError",f){super(g),this.name=h,this.context=f}}class M extends z{constructor(g){super("Failed to send a request to the Edge Function","FunctionsFetchError",g)}}class X extends z{constructor(g){super("Relay Error invoking the Edge Function","FunctionsRelayError",g)}}class Z extends z{constructor(g){super("Edge Function returned a non-2xx status code","FunctionsHttpError",g)}}var Y=function(C){return C.Any="any",C.ApNortheast1="ap-northeast-1",C.ApNortheast2="ap-northeast-2",C.ApSouth1="ap-south-1",C.ApSoutheast1="ap-southeast-1",C.ApSoutheast2="ap-southeast-2",C.CaCentral1="ca-central-1",C.EuCentral1="eu-central-1",C.EuWest1="eu-west-1",C.EuWest2="eu-west-2",C.EuWest3="eu-west-3",C.SaEast1="sa-east-1",C.UsEast1="us-east-1",C.UsWest1="us-west-1",C.UsWest2="us-west-2",C}(Y||{});class ge{constructor(g,{headers:h={},customFetch:f,region:k=Y.Any}={}){this.url=g,this.headers=h,this.region=k,this.fetch=(C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)})(f)}setAuth(g){this.headers.Authorization=`Bearer ${g}`}invoke(g,h={}){var f;return function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:k,method:R,body:N}=h;let H={},{region:G}=h;G||(G=this.region);const ue=new URL(`${this.url}/${g}`);let oe;G&&"any"!==G&&(H["x-region"]=G,ue.searchParams.set("forceFunctionRegion",G)),N&&(k&&!Object.prototype.hasOwnProperty.call(k,"Content-Type")||!k)&&(typeof Blob<"u"&&N instanceof Blob||N instanceof ArrayBuffer?(H["Content-Type"]="application/octet-stream",oe=N):"string"==typeof N?(H["Content-Type"]="text/plain",oe=N):typeof FormData<"u"&&N instanceof FormData?oe=N:(H["Content-Type"]="application/json",oe=JSON.stringify(N)));const Ce=yield this.fetch(ue.toString(),{method:R||"POST",headers:Object.assign(Object.assign(Object.assign({},H),this.headers),k),body:oe}).catch(nt=>{throw new M(nt)}),vt=Ce.headers.get("x-relay-error");if(vt&&"true"===vt)throw new X(Ce);if(!Ce.ok)throw new Z(Ce);let lt,mt=(null!==(f=Ce.headers.get("Content-Type"))&&void 0!==f?f:"text/plain").split(";")[0].trim();return lt="application/json"===mt?yield Ce.json():"application/octet-stream"===mt?yield Ce.blob():"text/event-stream"===mt?Ce:"multipart/form-data"===mt?yield Ce.formData():yield Ce.text(),{data:lt,error:null,response:Ce}}catch(k){return{data:null,error:k,response:k instanceof Z||k instanceof X?k.context:void 0}}})}}var pe=V(4060);const{PostgrestClient:re}=pe,We=class Ge{static detectEnvironment(){var g;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(g=navigator.userAgent)&&void 0!==g&&g.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const h=parseInt(process.versions.node.split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const g=this.detectEnvironment();if(g.constructor)return g.constructor;let h=g.error||"WebSocket not supported in this environment.";throw g.workaround&&(h+=`\n\nSuggested solution: ${g.workaround}`),new Error(h)}static createWebSocket(g,h){return new(this.getWebSocketConstructor())(g,h)}static isWebSocketSupported(){try{const g=this.detectEnvironment();return"native"===g.type||"ws"===g.type}catch{return!1}}};var It=function(C){return C[C.connecting=0]="connecting",C[C.open=1]="open",C[C.closing=2]="closing",C[C.closed=3]="closed",C}(It||{}),et=function(C){return C.closed="closed",C.errored="errored",C.joined="joined",C.joining="joining",C.leaving="leaving",C}(et||{}),Vt=function(C){return C.close="phx_close",C.error="phx_error",C.join="phx_join",C.reply="phx_reply",C.leave="phx_leave",C.access_token="access_token",C}(Vt||{}),In=function(C){return C.websocket="websocket",C}(In||{}),vn=function(C){return C.Connecting="connecting",C.Open="open",C.Closing="closing",C.Closed="closed",C}(vn||{});class _n{constructor(){this.HEADER_LENGTH=1}decode(g,h){return g.constructor===ArrayBuffer?h(this._binaryDecode(g)):h("string"==typeof g?JSON.parse(g):{})}_binaryDecode(g){const h=new DataView(g),f=new TextDecoder;return this._decodeBroadcast(g,h,f)}_decodeBroadcast(g,h,f){const k=h.getUint8(1),R=h.getUint8(2);let N=this.HEADER_LENGTH+2;const H=f.decode(g.slice(N,N+k));N+=k;const G=f.decode(g.slice(N,N+R));return N+=R,{ref:null,topic:H,event:G,payload:JSON.parse(f.decode(g.slice(N,g.byteLength)))}}}class sr{constructor(g,h){this.callback=g,this.timerCalc=h,this.timer=void 0,this.tries=0,this.callback=g,this.timerCalc=h}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt=function(C){return C.abstime="abstime",C.bool="bool",C.date="date",C.daterange="daterange",C.float4="float4",C.float8="float8",C.int2="int2",C.int4="int4",C.int4range="int4range",C.int8="int8",C.int8range="int8range",C.json="json",C.jsonb="jsonb",C.money="money",C.numeric="numeric",C.oid="oid",C.reltime="reltime",C.text="text",C.time="time",C.timestamp="timestamp",C.timestamptz="timestamptz",C.timetz="timetz",C.tsrange="tsrange",C.tstzrange="tstzrange",C}(Bt||{});const lr=(C,g,h={})=>{var f;const k=null!==(f=h.skipTypes)&&void 0!==f?f:[];return Object.keys(g).reduce((R,N)=>(R[N]=Re(N,C,g,k),R),{})},Re=(C,g,h,f)=>{const k=g.find(H=>H.name===C),R=k?.type,N=h[C];return R&&!f.includes(R)?Ke(R,N):ae(N)},Ke=(C,g)=>{if("_"===C.charAt(0)){const h=C.slice(1,C.length);return De(g,h)}switch(C){case Bt.bool:return le(g);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return be(g);case Bt.json:case Bt.jsonb:return ve(g);case Bt.timestamp:return Le(g);default:return ae(g)}},ae=C=>C,le=C=>{switch(C){case"t":return!0;case"f":return!1;default:return C}},be=C=>{if("string"==typeof C){const g=parseFloat(C);if(!Number.isNaN(g))return g}return C},ve=C=>{if("string"==typeof C)try{return JSON.parse(C)}catch(g){return console.log(`JSON parse error: ${g}`),C}return C},De=(C,g)=>{if("string"!=typeof C)return C;const h=C.length-1;if("{"===C[0]&&"}"===C[h]){let R;const N=C.slice(1,h);try{R=JSON.parse("["+N+"]")}catch{R=N?N.split(","):[]}return R.map(H=>Ke(g,H))}return C},Le=C=>"string"==typeof C?C.replace(" ","T"):C,ct=C=>{let g=C;return g=g.replace(/^ws/i,"http"),g=g.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),g.replace(/\/+$/,"")+"/api/broadcast"};class it{constructor(g,h,f={},k=1e4){this.channel=g,this.event=h,this.payload=f,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(g){this.timeout=g,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(g){this.payload=Object.assign(Object.assign({},this.payload),g)}receive(g,h){var f;return this._hasReceived(g)&&h(null===(f=this.receivedResp)||void 0===f?void 0:f.response),this.recHooks.push({status:g,callback:h}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},h=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=h,this._matchReceive(h)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(g,h){this.refEvent&&this.channel._trigger(this.refEvent,{status:g,response:h})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:g,response:h}){this.recHooks.filter(f=>f.status===g).forEach(f=>f.callback(h))}_hasReceived(g){return this.receivedResp&&this.receivedResp.status===g}}class me{constructor(g,h){this.channel=g,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=h?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},k=>{const{onJoin:R,onLeave:N,onSync:H}=this.caller;this.joinRef=this.channel._joinRef(),this.state=me.syncState(this.state,k,R,N),this.pendingDiffs.forEach(G=>{this.state=me.syncDiff(this.state,G,R,N)}),this.pendingDiffs=[],H()}),this.channel._on(f.diff,{},k=>{const{onJoin:R,onLeave:N,onSync:H}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(k):(this.state=me.syncDiff(this.state,k,R,N),H())}),this.onJoin((k,R,N)=>{this.channel._trigger("presence",{event:"join",key:k,currentPresences:R,newPresences:N})}),this.onLeave((k,R,N)=>{this.channel._trigger("presence",{event:"leave",key:k,currentPresences:R,leftPresences:N})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(g,h,f,k){const R=this.cloneDeep(g),N=this.transformState(h),H={},G={};return this.map(R,(ue,oe)=>{N[ue]||(G[ue]=oe)}),this.map(N,(ue,oe)=>{const Ce=R[ue];if(Ce){const vt=oe.map(Tt=>Tt.presence_ref),mt=Ce.map(Tt=>Tt.presence_ref),lt=oe.filter(Tt=>mt.indexOf(Tt.presence_ref)<0),nt=Ce.filter(Tt=>vt.indexOf(Tt.presence_ref)<0);lt.length>0&&(H[ue]=lt),nt.length>0&&(G[ue]=nt)}else H[ue]=oe}),this.syncDiff(R,{joins:H,leaves:G},f,k)}static syncDiff(g,h,f,k){const{joins:R,leaves:N}={joins:this.transformState(h.joins),leaves:this.transformState(h.leaves)};return f||(f=()=>{}),k||(k=()=>{}),this.map(R,(H,G)=>{var ue;const oe=null!==(ue=g[H])&&void 0!==ue?ue:[];if(g[H]=this.cloneDeep(G),oe.length>0){const Ce=g[H].map(mt=>mt.presence_ref),vt=oe.filter(mt=>Ce.indexOf(mt.presence_ref)<0);g[H].unshift(...vt)}f(H,oe,G)}),this.map(N,(H,G)=>{let ue=g[H];if(!ue)return;const oe=G.map(Ce=>Ce.presence_ref);ue=ue.filter(Ce=>oe.indexOf(Ce.presence_ref)<0),g[H]=ue,k(H,ue,G),0===ue.length&&delete g[H]}),g}static map(g,h){return Object.getOwnPropertyNames(g).map(f=>h(f,g[f]))}static transformState(g){return g=this.cloneDeep(g),Object.getOwnPropertyNames(g).reduce((h,f)=>{const k=g[f];return h[f]="metas"in k?k.metas.map(R=>(R.presence_ref=R.phx_ref,delete R.phx_ref,delete R.phx_ref_prev,R)):k,h},{})}static cloneDeep(g){return JSON.parse(JSON.stringify(g))}onJoin(g){this.caller.onJoin=g}onLeave(g){this.caller.onLeave=g}onSync(g){this.caller.onSync=g}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xe=function(C){return C.BROADCAST="broadcast",C.PRESENCE="presence",C.POSTGRES_CHANGES="postgres_changes",C.SYSTEM="system",C}(Xe||{}),pt=function(C){return C.SUBSCRIBED="SUBSCRIBED",C.TIMED_OUT="TIMED_OUT",C.CLOSED="CLOSED",C.CHANNEL_ERROR="CHANNEL_ERROR",C}(pt||{});class Wt{constructor(g,h={config:{}},f){this.topic=g,this.params=h,this.socket=f,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=g.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},h.config),this.timeout=this.socket.timeout,this.joinPush=new it(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new sr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(k=>k.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(k,R)=>{this._trigger(this._replyEventName(R),k)}),this.presence=new me(this),this.broadcastEndpointURL=ct(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(g,h=this.timeout){var k,R,f=this;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:N,presence:H,private:G}}=this.params,ue=null!==(R=null===(k=this.bindings.postgres_changes)||void 0===k?void 0:k.map(mt=>mt.filter))&&void 0!==R?R:[],oe=!!this.bindings[Xe.PRESENCE]&&this.bindings[Xe.PRESENCE].length>0,Ce={},vt={broadcast:N,presence:Object.assign(Object.assign({},H),{enabled:oe}),postgres_changes:ue,private:G};this.socket.accessTokenValue&&(Ce.access_token=this.socket.accessTokenValue),this._onError(mt=>g?.(pt.CHANNEL_ERROR,mt)),this._onClose(()=>g?.(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:vt},Ce)),this.joinedOnce=!0,this._rejoin(h),this.joinPush.receive("ok",function(){var mt=(0,E.A)(function*({postgres_changes:lt}){var nt;if(f.socket.setAuth(),void 0!==lt){const Tt=f.bindings.postgres_changes,fn=null!==(nt=Tt?.length)&&void 0!==nt?nt:0,on=[];for(let yn=0;yn<fn;yn++){const ar=Tt[yn],{filter:{event:Dt,schema:Cn,table:Ao,filter:wn}}=ar,Qt=lt&&lt[yn];if(!Qt||Qt.event!==Dt||Qt.schema!==Cn||Qt.table!==Ao||Qt.filter!==wn)return f.unsubscribe(),f.state=et.errored,void g?.(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));on.push(Object.assign(Object.assign({},ar),{id:Qt.id}))}return f.bindings.postgres_changes=on,void(g&&g(pt.SUBSCRIBED))}g?.(pt.SUBSCRIBED)});return function(lt){return mt.apply(this,arguments)}}()).receive("error",mt=>{this.state=et.errored,g?.(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(mt).join(", ")||"error")))}).receive("timeout",()=>{g?.(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(g){var h=this;return(0,E.A)(function*(f,k={}){return yield h.send({type:"presence",event:"track",payload:f},k.timeout||h.timeout)}).apply(this,arguments)}untrack(){var g=this;return(0,E.A)(function*(h={}){return yield g.send({type:"presence",event:"untrack"},h)}).apply(this,arguments)}on(g,h,f){return this.state===et.joined&&g===Xe.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(g,h,f)}send(g){var h=this;return(0,E.A)(function*(f,k={}){var R,N;if(h._canPush()||"broadcast"!==f.type)return new Promise(H=>{var G,ue,oe;const Ce=h._push(f.type,f,k.timeout||h.timeout);"broadcast"===f.type&&!(null!==(oe=null===(ue=null===(G=h.params)||void 0===G?void 0:G.config)||void 0===ue?void 0:ue.broadcast)&&void 0!==oe&&oe.ack)&&H("ok"),Ce.receive("ok",()=>H("ok")),Ce.receive("error",()=>H("error")),Ce.receive("timeout",()=>H("timed out"))});{const{event:H,payload:G}=f,oe={method:"POST",headers:{Authorization:h.socket.accessTokenValue?`Bearer ${h.socket.accessTokenValue}`:"",apikey:h.socket.apiKey?h.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:h.subTopic,event:H,payload:G,private:h.private}]})};try{const Ce=yield h._fetchWithTimeout(h.broadcastEndpointURL,oe,null!==(R=k.timeout)&&void 0!==R?R:h.timeout);return yield null===(N=Ce.body)||void 0===N?void 0:N.cancel(),Ce.ok?"ok":"error"}catch(Ce){return"AbortError"===Ce.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(g){this.joinPush.updatePayload(g)}unsubscribe(g=this.timeout){this.state=et.leaving;const h=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(k=>{f=new it(this,Vt.leave,{},g),f.receive("ok",()=>{h(),k("ok")}).receive("timeout",()=>{h(),k("timed out")}).receive("error",()=>{k("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f?.destroy()})}teardown(){this.pushBuffer.forEach(g=>g.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}_fetchWithTimeout(g,h,f){var k=this;return(0,E.A)(function*(){const R=new AbortController,N=setTimeout(()=>R.abort(),f),H=yield k.socket.fetch(g,Object.assign(Object.assign({},h),{signal:R.signal}));return clearTimeout(N),H})()}_push(g,h,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${g}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let k=new it(this,g,h,f);return this._canPush()?k.send():this._addToPushBuffer(k),k}_addToPushBuffer(g){if(g.startTimeout(),this.pushBuffer.push(g),this.pushBuffer.length>100){const h=this.pushBuffer.shift();h&&(h.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${h.event}`,h.payload))}}_onMessage(g,h,f){return h}_isMember(g){return this.topic===g}_joinRef(){return this.joinPush.ref}_trigger(g,h,f){var k,R;const N=g.toLocaleLowerCase(),{close:H,error:G,leave:ue,join:oe}=Vt;if(f&&[H,G,ue,oe].indexOf(N)>=0&&f!==this._joinRef())return;let vt=this._onMessage(N,h,f);if(h&&!vt)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(N)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(mt=>{var lt,nt,Tt;return"*"===(null===(lt=mt.filter)||void 0===lt?void 0:lt.event)||(null===(Tt=null===(nt=mt.filter)||void 0===nt?void 0:nt.event)||void 0===Tt?void 0:Tt.toLocaleLowerCase())===N}).map(mt=>mt.callback(vt,f)):null===(R=this.bindings[N])||void 0===R||R.filter(mt=>{var lt,nt,Tt,fn,on,yn;if(["broadcast","presence","postgres_changes"].includes(N)){if("id"in mt){const ar=mt.id,Dt=null===(lt=mt.filter)||void 0===lt?void 0:lt.event;return ar&&(null===(nt=h.ids)||void 0===nt?void 0:nt.includes(ar))&&("*"===Dt||Dt?.toLocaleLowerCase()===(null===(Tt=h.data)||void 0===Tt?void 0:Tt.type.toLocaleLowerCase()))}{const ar=null===(on=null===(fn=mt?.filter)||void 0===fn?void 0:fn.event)||void 0===on?void 0:on.toLocaleLowerCase();return"*"===ar||ar===(null===(yn=h?.event)||void 0===yn?void 0:yn.toLocaleLowerCase())}}return mt.type.toLocaleLowerCase()===N}).map(mt=>{if("object"==typeof vt&&"ids"in vt){const lt=vt.data,{schema:nt,table:Tt,commit_timestamp:fn,type:on,errors:yn}=lt;vt=Object.assign(Object.assign({},{schema:nt,table:Tt,commit_timestamp:fn,eventType:on,new:{},old:{},errors:yn}),this._getPayloadRecords(lt))}mt.callback(vt,f)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(g){return`chan_reply_${g}`}_on(g,h,f){const k=g.toLocaleLowerCase(),R={type:k,filter:h,callback:f};return this.bindings[k]?this.bindings[k].push(R):this.bindings[k]=[R],this}_off(g,h){const f=g.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(k=>{var R;return!((null===(R=k.type)||void 0===R?void 0:R.toLocaleLowerCase())===f&&Wt.isEqual(k.filter,h))})),this}static isEqual(g,h){if(Object.keys(g).length!==Object.keys(h).length)return!1;for(const f in g)if(g[f]!==h[f])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(g){this._on(Vt.close,{},g)}_onError(g){this._on(Vt.error,{},h=>g(h))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(g=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(g))}_getPayloadRecords(g){const h={new:{},old:{}};return("INSERT"===g.type||"UPDATE"===g.type)&&(h.new=lr(g.columns,g.record)),("UPDATE"===g.type||"DELETE"===g.type)&&(h.old=lr(g.columns,g.old_record)),h}}const kt=()=>{},zt=[1e3,2e3,5e3,1e4];class Vn{constructor(g,h){var f;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kt,this.ref=0,this.reconnectTimer=null,this.logger=kt,this.conn=null,this.sendBuffer=[],this.serializer=new _n,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=k=>{let R;return R=k||(typeof fetch>"u"?(...N)=>Promise.resolve().then(V.bind(V,5286)).then(({default:H})=>H(...N)).catch(H=>{throw new Error(`Failed to load @supabase/node-fetch: ${H.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...N)=>R(...N)},null===(f=h?.params)||void 0===f||!f.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=h.params.apikey,this.endPoint=`${g}/${In.websocket}`,this.httpEndpoint=ct(g),this._initializeOptions(h),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(h?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=We.createWebSocket(this.endpointURL())}catch(g){this._setConnectionState("disconnected");const h=g.message;throw h.includes("Node.js")?new Error(`${h}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${h}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(g,h){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},g?this.conn.close(g,h??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(g){var h=this;return(0,E.A)(function*(){const f=yield g.unsubscribe();return 0===h.channels.length&&h.disconnect(),f})()}removeAllChannels(){var g=this;return(0,E.A)(function*(){const h=yield Promise.all(g.channels.map(f=>f.unsubscribe()));return g.channels=[],g.disconnect(),h})()}log(g,h,f){this.logger(g,h,f)}connectionState(){switch(this.conn&&this.conn.readyState){case It.connecting:return vn.Connecting;case It.open:return vn.Open;case It.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(g,h={config:{}}){const f=`realtime:${g}`,k=this.getChannels().find(R=>R.topic===f);if(k)return k;{const R=new Wt(`realtime:${g}`,h,this);return this.channels.push(R),R}}push(g){const{topic:h,event:f,payload:k,ref:R}=g,N=()=>{this.encode(g,H=>{var G;null===(G=this.conn)||void 0===G||G.send(H)})};this.log("push",`${h} ${f} (${R})`,k),this.isConnected()?N():this.sendBuffer.push(N)}setAuth(){var g=this;return(0,E.A)(function*(h=null){g._authPromise=g._performAuth(h);try{yield g._authPromise}finally{g._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var g=this;return(0,E.A)(function*(){var h;if(g.isConnected())return g.pendingHeartbeatRef?(g.pendingHeartbeatRef=null,g.log("transport","heartbeat timeout. Attempting to re-establish connection"),g.heartbeatCallback("timeout"),g._wasManualDisconnect=!1,null===(h=g.conn)||void 0===h||h.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var f;g.isConnected()||null===(f=g.reconnectTimer)||void 0===f||f.scheduleTimeout()},100)):(g.pendingHeartbeatRef=g._makeRef(),g.push({topic:"phoenix",event:"heartbeat",payload:{},ref:g.pendingHeartbeatRef}),g.heartbeatCallback("sent"),void g._setAuthSafely("heartbeat"));g.heartbeatCallback("disconnected")})()}onHeartbeat(g){this.heartbeatCallback=g}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(g=>g()),this.sendBuffer=[])}_makeRef(){let g=this.ref+1;return this.ref=g===this.ref?0:g,this.ref.toString()}_leaveOpenTopic(g){let h=this.channels.find(f=>f.topic===g&&(f._isJoined()||f._isJoining()));h&&(this.log("transport",`leaving duplicate topic "${g}"`),h.unsubscribe())}_remove(g){this.channels=this.channels.filter(h=>h.topic!==g.topic)}_onConnMessage(g){this.decode(g.data,h=>{"phoenix"===h.topic&&"phx_reply"===h.event&&this.heartbeatCallback("ok"===h.payload.status?"ok":"error"),h.ref&&h.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:k,payload:R,ref:N}=h;this.log("receive",`${R.status||""} ${f} ${k} ${N?`(${N})`:""}`.trim(),R),this.channels.filter(ue=>ue._isMember(f)).forEach(ue=>ue._trigger(k,R,N)),this._triggerStateCallbacks("message",h)})}_clearTimer(g){var h;"heartbeat"===g&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===g&&(null===(h=this.reconnectTimer)||void 0===h||h.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=g=>this._onConnError(g),this.conn.onmessage=g=>this._onConnMessage(g),this.conn.onclose=g=>this._onConnClose(g))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(g=>g.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const g=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(g),this.workerRef.onerror=h=>{this.log("worker","worker error",h.message),this.workerRef.terminate()},this.workerRef.onmessage=h=>{"keepAlive"===h.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(g){var h;this._setConnectionState("disconnected"),this.log("transport","close",g),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(h=this.reconnectTimer)||void 0===h||h.scheduleTimeout(),this._triggerStateCallbacks("close",g)}_onConnError(g){this._setConnectionState("disconnected"),this.log("transport",`${g}`),this._triggerChanError(),this._triggerStateCallbacks("error",g)}_triggerChanError(){this.channels.forEach(g=>g._trigger(Vt.error))}_appendParams(g,h){if(0===Object.keys(h).length)return g;const f=g.match(/\?/)?"&":"?";return`${g}${f}${new URLSearchParams(h)}`}_workerObjectUrl(g){let h;if(g)h=g;else{const f=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});h=URL.createObjectURL(f)}return h}_setConnectionState(g,h=!1){this._connectionState=g,"connecting"===g?this._wasManualDisconnect=!1:"disconnecting"===g&&(this._wasManualDisconnect=h)}_performAuth(){var g=this;return(0,E.A)(function*(h=null){let f;f=h||(g.accessToken?yield g.accessToken():g.accessTokenValue),g.accessTokenValue!=f&&(g.accessTokenValue=f,g.channels.forEach(k=>{f&&k.updateJoinPayload({access_token:f,version:"realtime-js/2.15.1"}),k.joinedOnce&&k._isJoined()&&k._push(Vt.access_token,{access_token:f})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var g=this;return(0,E.A)(function*(){g._authPromise&&(yield g._authPromise)})()}_setAuthSafely(g="general"){this.setAuth().catch(h=>{this.log("error",`error setting auth in ${g}`,h)})}_triggerStateCallbacks(g,h){try{this.stateChangeCallbacks[g].forEach(f=>{try{f(h)}catch(k){this.log("error",`error in ${g} callback`,k)}})}catch(f){this.log("error",`error triggering ${g} callbacks`,f)}}_setupReconnectionTimer(){var g=this;this.reconnectTimer=new sr((0,E.A)(function*(){setTimeout((0,E.A)(function*(){yield g._waitForAuthIfNeeded(),g.isConnected()||g.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(g){var h,f,k,R,N,H,G,ue;if(this.transport=null!==(h=g?.transport)&&void 0!==h?h:null,this.timeout=null!==(f=g?.timeout)&&void 0!==f?f:1e4,this.heartbeatIntervalMs=null!==(k=g?.heartbeatIntervalMs)&&void 0!==k?k:25e3,this.worker=null!==(R=g?.worker)&&void 0!==R&&R,this.accessToken=null!==(N=g?.accessToken)&&void 0!==N?N:null,g?.params&&(this.params=g.params),g?.logger&&(this.logger=g.logger),(g?.logLevel||g?.log_level)&&(this.logLevel=g.logLevel||g.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(H=g?.reconnectAfterMs)&&void 0!==H?H:oe=>zt[oe-1]||1e4,this.encode=null!==(G=g?.encode)&&void 0!==G?G:(oe,Ce)=>Ce(JSON.stringify(oe)),this.decode=null!==(ue=g?.decode)&&void 0!==ue?ue:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=g?.workerUrl}}}class un extends Error{constructor(g){super(g),this.__isStorageError=!0,this.name="StorageError"}}function Ut(C){return"object"==typeof C&&null!==C&&"__isStorageError"in C}class Lr extends un{constructor(g,h,f){super(g),this.name="StorageApiError",this.status=h,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fr extends un{constructor(g,h){super(g),this.name="StorageUnknownError",this.originalError=h}}const bo=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},Rn=C=>{if(Array.isArray(C))return C.map(h=>Rn(h));if("function"==typeof C||C!==Object(C))return C;const g={};return Object.entries(C).forEach(([h,f])=>{const k=h.replace(/([-_][a-z])/gi,R=>R.toUpperCase().replace(/[-_]/g,""));g[k]=Rn(f)}),g};var gr=function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};const vr=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),ua=(C,g,h)=>gr(void 0,void 0,void 0,function*(){const f=yield function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(V.bind(V,5286))).Response:Response});C instanceof f&&!h?.noResolveJson?C.json().then(k=>{const R=C.status||500,N=k?.statusCode||R+"";g(new Lr(vr(k),R,N))}).catch(k=>{g(new Fr(vr(k),k))}):g(new Fr(vr(C),C))});function tr(C,g,h,f,k,R){return gr(this,void 0,void 0,function*(){return new Promise((N,H)=>{C(h,((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"!==C&&f?((C=>{if("object"!=typeof C||null===C)return!1;const g=Object.getPrototypeOf(C);return!(null!==g&&g!==Object.prototype&&null!==Object.getPrototypeOf(g)||Symbol.toStringTag in C||Symbol.iterator in C)})(f)?(k.headers=Object.assign({"Content-Type":"application/json"},g?.headers),k.body=JSON.stringify(f)):k.body=f,g?.duplex&&(k.duplex=g.duplex),Object.assign(Object.assign({},k),h)):k})(g,f,k,R)).then(G=>{if(!G.ok)throw G;return f?.noResolveJson?G:G.json()}).then(G=>N(G)).catch(G=>ua(G,H,f))})})}function Hn(C,g,h,f){return gr(this,void 0,void 0,function*(){return tr(C,"GET",g,h,f)})}function Wn(C,g,h,f,k){return gr(this,void 0,void 0,function*(){return tr(C,"POST",g,f,k,h)})}function wo(C,g,h,f,k){return gr(this,void 0,void 0,function*(){return tr(C,"PUT",g,f,k,h)})}function zo(C,g,h,f,k){return gr(this,void 0,void 0,function*(){return tr(C,"DELETE",g,f,k,h)})}var Kt=function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};const jr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ko{constructor(g,h={},f,k){this.url=g,this.headers=h,this.bucketId=f,this.fetch=bo(k)}uploadOrUpdate(g,h,f,k){return Kt(this,void 0,void 0,function*(){try{let R;const N=Object.assign(Object.assign({},Qr),k);let H=Object.assign(Object.assign({},this.headers),"POST"===g&&{"x-upsert":String(N.upsert)});const G=N.metadata;typeof Blob<"u"&&f instanceof Blob?(R=new FormData,R.append("cacheControl",N.cacheControl),G&&R.append("metadata",this.encodeMetadata(G)),R.append("",f)):typeof FormData<"u"&&f instanceof FormData?(R=f,R.append("cacheControl",N.cacheControl),G&&R.append("metadata",this.encodeMetadata(G))):(R=f,H["cache-control"]=`max-age=${N.cacheControl}`,H["content-type"]=N.contentType,G&&(H["x-metadata"]=this.toBase64(this.encodeMetadata(G)))),k?.headers&&(H=Object.assign(Object.assign({},H),k.headers));const ue=this._removeEmptyFolders(h),oe=this._getFinalPath(ue),Ce=yield("PUT"==g?wo:Wn)(this.fetch,`${this.url}/object/${oe}`,R,Object.assign({headers:H},N?.duplex?{duplex:N.duplex}:{}));return{data:{path:ue,id:Ce.Id,fullPath:Ce.Key},error:null}}catch(R){if(Ut(R))return{data:null,error:R};throw R}})}upload(g,h,f){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",g,h,f)})}uploadToSignedUrl(g,h,f,k){return Kt(this,void 0,void 0,function*(){const R=this._removeEmptyFolders(g),N=this._getFinalPath(R),H=new URL(this.url+`/object/upload/sign/${N}`);H.searchParams.set("token",h);try{let G;const ue=Object.assign({upsert:Qr.upsert},k),oe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(ue.upsert)});return typeof Blob<"u"&&f instanceof Blob?(G=new FormData,G.append("cacheControl",ue.cacheControl),G.append("",f)):typeof FormData<"u"&&f instanceof FormData?(G=f,G.append("cacheControl",ue.cacheControl)):(G=f,oe["cache-control"]=`max-age=${ue.cacheControl}`,oe["content-type"]=ue.contentType),{data:{path:R,fullPath:(yield wo(this.fetch,H.toString(),G,{headers:oe})).Key},error:null}}catch(G){if(Ut(G))return{data:null,error:G};throw G}})}createSignedUploadUrl(g,h){return Kt(this,void 0,void 0,function*(){try{let f=this._getFinalPath(g);const k=Object.assign({},this.headers);h?.upsert&&(k["x-upsert"]="true");const R=yield Wn(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:k}),N=new URL(this.url+R.url),H=N.searchParams.get("token");if(!H)throw new un("No token returned by API");return{data:{signedUrl:N.toString(),path:g,token:H},error:null}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}update(g,h,f){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",g,h,f)})}move(g,h,f){return Kt(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers}),error:null}}catch(k){if(Ut(k))return{data:null,error:k};throw k}})}copy(g,h,f){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(k){if(Ut(k))return{data:null,error:k};throw k}})}createSignedUrl(g,h,f){return Kt(this,void 0,void 0,function*(){try{let k=this._getFinalPath(g),R=yield Wn(this.fetch,`${this.url}/object/sign/${k}`,Object.assign({expiresIn:h},f?.transform?{transform:f.transform}:{}),{headers:this.headers});const N=f?.download?`&download=${!0===f.download?"":f.download}`:"";return R={signedUrl:encodeURI(`${this.url}${R.signedURL}${N}`)},{data:R,error:null}}catch(k){if(Ut(k))return{data:null,error:k};throw k}})}createSignedUrls(g,h,f){return Kt(this,void 0,void 0,function*(){try{const k=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:h,paths:g},{headers:this.headers}),R=f?.download?`&download=${!0===f.download?"":f.download}`:"";return{data:k.map(N=>Object.assign(Object.assign({},N),{signedUrl:N.signedURL?encodeURI(`${this.url}${N.signedURL}${R}`):null})),error:null}}catch(k){if(Ut(k))return{data:null,error:k};throw k}})}download(g,h){return Kt(this,void 0,void 0,function*(){const k=typeof h?.transform<"u"?"render/image/authenticated":"object",R=this.transformOptsToQueryString(h?.transform||{}),N=R?`?${R}`:"";try{const H=this._getFinalPath(g);return{data:yield(yield Hn(this.fetch,`${this.url}/${k}/${H}${N}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(H){if(Ut(H))return{data:null,error:H};throw H}})}info(g){return Kt(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{const f=yield Hn(this.fetch,`${this.url}/object/info/${h}`,{headers:this.headers});return{data:Rn(f),error:null}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}exists(g){return Kt(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{return yield function Oo(C,g,h,f){return gr(this,void 0,void 0,function*(){return tr(C,"HEAD",g,Object.assign(Object.assign({},h),{noResolveJson:!0}),f)})}(this.fetch,`${this.url}/object/${h}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(Ut(f)&&f instanceof Fr){const k=f.originalError;if([400,404].includes(k?.status))return{data:!1,error:f}}throw f}})}getPublicUrl(g,h){const f=this._getFinalPath(g),k=[],R=h?.download?`download=${!0===h.download?"":h.download}`:"";""!==R&&k.push(R);const H=typeof h?.transform<"u"?"render/image":"object",G=this.transformOptsToQueryString(h?.transform||{});""!==G&&k.push(G);let ue=k.join("&");return""!==ue&&(ue=`?${ue}`),{data:{publicUrl:encodeURI(`${this.url}/${H}/public/${f}${ue}`)}}}remove(g){return Kt(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:g},{headers:this.headers}),error:null}}catch(h){if(Ut(h))return{data:null,error:h};throw h}})}list(g,h,f){return Kt(this,void 0,void 0,function*(){try{const k=Object.assign(Object.assign(Object.assign({},jr),h),{prefix:g||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,k,{headers:this.headers},f),error:null}}catch(k){if(Ut(k))return{data:null,error:k};throw k}})}listV2(g,h){return Kt(this,void 0,void 0,function*(){try{const f=Object.assign({},g);return{data:yield Wn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},h),error:null}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}encodeMetadata(g){return JSON.stringify(g)}toBase64(g){return typeof Buffer<"u"?Buffer.from(g).toString("base64"):btoa(g)}_getFinalPath(g){return`${this.bucketId}/${g.replace(/^\/+/,"")}`}_removeEmptyFolders(g){return g.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(g){const h=[];return g.width&&h.push(`width=${g.width}`),g.height&&h.push(`height=${g.height}`),g.resize&&h.push(`resize=${g.resize}`),g.format&&h.push(`format=${g.format}`),g.quality&&h.push(`quality=${g.quality}`),h.join("&")}}const ao={"X-Client-Info":"storage-js/2.11.0"};var zn=function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};class Xr{constructor(g,h={},f,k){const R=new URL(g);k?.useNewHostname&&/supabase\.(co|in|red)$/.test(R.hostname)&&!R.hostname.includes("storage.supabase.")&&(R.hostname=R.hostname.replace("supabase.","storage.supabase.")),this.url=R.href,this.headers=Object.assign(Object.assign({},ao),h),this.fetch=bo(f)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(g){if(Ut(g))return{data:null,error:g};throw g}})}getBucket(g){return zn(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${g}`,{headers:this.headers}),error:null}}catch(h){if(Ut(h))return{data:null,error:h};throw h}})}createBucket(g,h={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:g,name:g,type:h.type,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}updateBucket(g,h){return zn(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/bucket/${g}`,{id:g,name:g,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(Ut(f))return{data:null,error:f};throw f}})}emptyBucket(g){return zn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${g}/empty`,{},{headers:this.headers}),error:null}}catch(h){if(Ut(h))return{data:null,error:h};throw h}})}deleteBucket(g){return zn(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket/${g}`,{},{headers:this.headers}),error:null}}catch(h){if(Ut(h))return{data:null,error:h};throw h}})}}class Br extends Xr{constructor(g,h={},f,k){super(g,h,f,k)}from(g){return new Ko(this.url,this.headers,g,this.fetch)}}let An="";An=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Ea={headers:{"X-Client-Info":`supabase-js-${An}/2.56.0`}},ur={schema:"public"},Yr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ur={};var Eo=V(5286);const _r=(C,g,h)=>{const f=(C=>{let g;return g=C||(typeof fetch>"u"?Eo.default:fetch),(...h)=>g(...h)})(h),k=typeof Headers>"u"?Eo.Headers:Headers;return(R,N)=>function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){var H;const G=null!==(H=yield g())&&void 0!==H?H:C;let ue=new k(N?.headers);return ue.has("apikey")||ue.set("apikey",C),ue.has("Authorization")||ue.set("Authorization",`Bearer ${G}`),f(R,Object.assign(Object.assign({},N),{headers:ue}))})};const br=3e4,fe="X-Supabase-Api-Version",Er_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),Er_2024_01_01_name="2024-01-01",No=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class $r extends Error{constructor(g,h,f){super(g),this.__isAuthError=!0,this.name="AuthError",this.status=h,this.code=f}}function At(C){return"object"==typeof C&&null!==C&&"__isAuthError"in C}class lo extends $r{constructor(g,h,f){super(g,h,f),this.name="AuthApiError",this.status=h,this.code=f}}class Yn extends $r{constructor(g,h){super(g),this.name="AuthUnknownError",this.originalError=h}}class Pn extends $r{constructor(g,h,f,k){super(g,f,k),this.name=h,this.status=f}}class Jn extends Pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Hr extends Pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kr extends Pn{constructor(g){super(g,"AuthInvalidCredentialsError",400,void 0)}}class eo extends Pn{constructor(g,h=null){super(g,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uo extends Pn{constructor(g,h=null){super(g,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qn extends Pn{constructor(g,h){super(g,"AuthRetryableFetchError",h,void 0)}}function rr(C){return At(C)&&"AuthRetryableFetchError"===C.name}class Wr extends Pn{constructor(g,h,f){super(g,"AuthWeakPasswordError",h,"weak_password"),this.reasons=f}}class Dr extends Pn{constructor(g){super(g,"AuthInvalidJwtError",400,"invalid_jwt")}}const mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cr=" \t\n\r=".split(""),or=(()=>{const C=new Array(128);for(let g=0;g<C.length;g+=1)C[g]=-1;for(let g=0;g<Cr.length;g+=1)C[Cr[g].charCodeAt(0)]=-2;for(let g=0;g<mo.length;g+=1)C[mo[g].charCodeAt(0)]=g;return C})();function Sr(C,g,h){if(null!==C)for(g.queue=g.queue<<8|C,g.queuedBits+=8;g.queuedBits>=6;)h(mo[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6;else if(g.queuedBits>0)for(g.queue=g.queue<<6-g.queuedBits,g.queuedBits=6;g.queuedBits>=6;)h(mo[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6}function ho(C,g,h){const f=or[C];if(!(f>-1)){if(-2===f)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(C)}"`)}for(g.queue=g.queue<<6|f,g.queuedBits+=6;g.queuedBits>=8;)h(g.queue>>g.queuedBits-8&255),g.queuedBits-=8}function Da(C){const g=[],h=N=>{g.push(String.fromCodePoint(N))},f={utf8seq:0,codepoint:0},k={queue:0,queuedBits:0},R=N=>{!function F(C,g,h){if(0===g.utf8seq){if(C<=127)return void h(C);for(let f=1;f<6;f+=1)if(!(C>>7-f&1)){g.utf8seq=f;break}if(2===g.utf8seq)g.codepoint=31&C;else if(3===g.utf8seq)g.codepoint=15&C;else{if(4!==g.utf8seq)throw new Error("Invalid UTF-8 sequence");g.codepoint=7&C}g.utf8seq-=1}else if(g.utf8seq>0){if(C<=127)throw new Error("Invalid UTF-8 sequence");g.codepoint=g.codepoint<<6|63&C,g.utf8seq-=1,0===g.utf8seq&&h(g.codepoint)}}(N,f,h)};for(let N=0;N<C.length;N+=1)ho(C.charCodeAt(N),k,R);return g.join("")}function S(C,g){if(!(C<=127)){if(C<=2047)return g(192|C>>6),void g(128|63&C);if(C<=65535)return g(224|C>>12),g(128|C>>6&63),void g(128|63&C);if(C<=1114111)return g(240|C>>18),g(128|C>>12&63),g(128|C>>6&63),void g(128|63&C);throw new Error(`Unrecognized Unicode codepoint: ${C.toString(16)}`)}g(C)}function $(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};for(let k=0;k<C.length;k+=1)ho(C.charCodeAt(k),h,f);return new Uint8Array(g)}function Ie(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};return C.forEach(k=>Sr(k,h,f)),Sr(null,h,f),g.join("")}const Ft=()=>typeof window<"u"&&typeof document<"u",Pt={tested:!1,writable:!1},$t=()=>{if(!Ft())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Pt.tested)return Pt.writable;const C=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(C,C),globalThis.localStorage.removeItem(C),Pt.tested=!0,Pt.writable=!0}catch{Pt.tested=!0,Pt.writable=!1}return Pt.writable},dn=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},mn=function(){var C=(0,E.A)(function*(g,h,f){yield g.setItem(h,JSON.stringify(f))});return function(h,f,k){return C.apply(this,arguments)}}(),Fn=function(){var C=(0,E.A)(function*(g,h){const f=yield g.getItem(h);if(!f)return null;try{return JSON.parse(f)}catch{return f}});return function(h,f){return C.apply(this,arguments)}}(),Qn=function(){var C=(0,E.A)(function*(g,h){yield g.removeItem(h)});return function(h,f){return C.apply(this,arguments)}}();class Ar{constructor(){this.promise=new Ar.promiseConstructor((g,h)=>{this.resolve=g,this.reject=h})}}function Zn(C){const g=C.split(".");if(3!==g.length)throw new Dr("Invalid JWT structure");for(let f=0;f<g.length;f++)if(!No.test(g[f]))throw new Dr("JWT not in base64url format");return{header:JSON.parse(Da(g[0])),payload:JSON.parse(Da(g[1])),signature:$(g[2]),raw:{header:g[0],payload:g[1]}}}function hr(){return(hr=(0,E.A)(function*(C){return yield new Promise(g=>{setTimeout(()=>g(null),C)})})).apply(this,arguments)}function qa(C){return("0"+C.toString(16)).substr(-2)}function zr(){return(zr=(0,E.A)(function*(C){const h=(new TextEncoder).encode(C),f=yield crypto.subtle.digest("SHA-256",h),k=new Uint8Array(f);return Array.from(k).map(R=>String.fromCharCode(R)).join("")})).apply(this,arguments)}function pr(){return pr=(0,E.A)(function*(C){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),C;const h=yield function Sa(C){return zr.apply(this,arguments)}(C);return btoa(h).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),pr.apply(this,arguments)}function fo(C,g){return So.apply(this,arguments)}function So(){return So=(0,E.A)(function*(C,g,h=!1){const f=function Ca(){const g=new Uint32Array(56);if(typeof crypto>"u"){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=h.length;let k="";for(let R=0;R<56;R++)k+=h.charAt(Math.floor(Math.random()*f));return k}return crypto.getRandomValues(g),Array.from(g,qa).join("")}();let k=f;h&&(k+="/PASSWORD_RECOVERY"),yield mn(C,`${g}-code-verifier`,k);const R=yield function Xn(C){return pr.apply(this,arguments)}(f);return[R,f===R?"plain":"s256"]}),So.apply(this,arguments)}Ar.promiseConstructor=Promise;const ma=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,no=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(C){if(!no.test(C))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tn(){return new Proxy({},{get:(g,h)=>{if("__isUserNotAvailableProxy"===h)return!0;if("symbol"==typeof h){const f=h.toString();if("Symbol(Symbol.toPrimitive)"===f||"Symbol(Symbol.toStringTag)"===f||"Symbol(util.inspect.custom)"===f)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${h}" property of the session object is not supported. Please use getUser() instead.`)},set:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j(C){return JSON.parse(JSON.stringify(C))}const P=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),q=[502,503,504];function he(C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,E.A)(function*(C){var g;if(!(C=>"object"==typeof C&&null!==C&&"status"in C&&"ok"in C&&"json"in C&&"function"==typeof C.json)(C))throw new qn(P(C),0);if(q.includes(C.status))throw new qn(P(C),C.status);let h,f;try{h=yield C.json()}catch(R){throw new Yn(P(R),R)}const k=function Qa(C){const g=C.headers.get(fe);if(!g||!g.match(ma))return null;try{return new Date(`${g}T00:00:00.0Z`)}catch{return null}}(C);if(k&&k.getTime()>=Er_2024_01_01_timestamp&&"object"==typeof h&&h&&"string"==typeof h.code?f=h.code:"object"==typeof h&&h&&"string"==typeof h.error_code&&(f=h.error_code),f){if("weak_password"===f)throw new Wr(P(h),C.status,(null===(g=h.weak_password)||void 0===g?void 0:g.reasons)||[]);if("session_not_found"===f)throw new Jn}else if("object"==typeof h&&h&&"object"==typeof h.weak_password&&h.weak_password&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.reasons.reduce((R,N)=>R&&"string"==typeof N,!0))throw new Wr(P(h),C.status,h.weak_password.reasons);throw new lo(P(h),C.status||500,f)})).apply(this,arguments)}function xe(C,g,h,f){return dt.apply(this,arguments)}function dt(){return dt=(0,E.A)(function*(C,g,h,f){var k;const R=Object.assign({},f?.headers);R[fe]||(R[fe]=Er_2024_01_01_name),f?.jwt&&(R.Authorization=`Bearer ${f.jwt}`);const N=null!==(k=f?.query)&&void 0!==k?k:{};f?.redirectTo&&(N.redirect_to=f.redirectTo);const H=Object.keys(N).length?"?"+new URLSearchParams(N).toString():"",G=yield function wt(C,g,h,f,k,R){return Lt.apply(this,arguments)}(C,g,h+H,{headers:R,noResolveJson:f?.noResolveJson},{},f?.body);return f?.xform?f?.xform(G):{data:Object.assign({},G),error:null}}),dt.apply(this,arguments)}function Lt(){return(Lt=(0,E.A)(function*(C,g,h,f,k,R){const N=((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"===C?k:(k.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},g?.headers),k.body=JSON.stringify(f),Object.assign(Object.assign({},k),h))})(g,f,k,R);let H;try{H=yield C(h,Object.assign({},N))}catch(G){throw console.error(G),new qn(P(G),0)}if(H.ok||(yield he(H)),f?.noResolveJson)return H;try{return yield H.json()}catch(G){yield he(G)}})).apply(this,arguments)}function tt(C){var g;let h=null;return function xr(C){return C.access_token&&C.refresh_token&&C.expires_in}(C)&&(h=Object.assign({},C),C.expires_at||(h.expires_at=function Qe(C){return Math.round(Date.now()/1e3)+C}(C.expires_in))),{data:{session:h,user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function hn(C){const g=tt(C);return!g.error&&C.weak_password&&"object"==typeof C.weak_password&&Array.isArray(C.weak_password.reasons)&&C.weak_password.reasons.length&&C.weak_password.message&&"string"==typeof C.weak_password.message&&C.weak_password.reasons.reduce((h,f)=>h&&"string"==typeof f,!0)&&(g.data.weak_password=C.weak_password),g}function Yt(C){var g;return{data:{user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function cn(C){return{data:C,error:null}}function bn(C){const{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:R}=C,N=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(C,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:R},user:Object.assign({},N)},error:null}}function pn(C){return C}const rn=["global","local","others"];class Mn{constructor({url:g="",headers:h={},fetch:f}){this.url=g,this.headers=h,this.fetch=dn(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(g){var h=this;return(0,E.A)(function*(f,k=rn[0]){if(rn.indexOf(k)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rn.join(", ")}`);try{return yield xe(h.fetch,"POST",`${h.url}/logout?scope=${k}`,{headers:h.headers,jwt:f,noResolveJson:!0}),{data:null,error:null}}catch(R){if(At(R))return{data:null,error:R};throw R}}).apply(this,arguments)}inviteUserByEmail(g){var h=this;return(0,E.A)(function*(f,k={}){try{return yield xe(h.fetch,"POST",`${h.url}/invite`,{body:{email:f,data:k.data},headers:h.headers,redirectTo:k.redirectTo,xform:Yt})}catch(R){if(At(R))return{data:{user:null},error:R};throw R}}).apply(this,arguments)}generateLink(g){var h=this;return(0,E.A)(function*(){try{const{options:f}=g,k=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(g,["options"]),R=Object.assign(Object.assign({},k),f);return"newEmail"in k&&(R.new_email=k?.newEmail,delete R.newEmail),yield xe(h.fetch,"POST",`${h.url}/admin/generate_link`,{body:R,headers:h.headers,xform:bn,redirectTo:f?.redirectTo})}catch(f){if(At(f))return{data:{properties:null,user:null},error:f};throw f}})()}createUser(g){var h=this;return(0,E.A)(function*(){try{return yield xe(h.fetch,"POST",`${h.url}/admin/users`,{body:g,headers:h.headers,xform:Yt})}catch(f){if(At(f))return{data:{user:null},error:f};throw f}})()}listUsers(g){var h=this;return(0,E.A)(function*(){var f,k,R,N,H,G,ue;try{const oe={nextPage:null,lastPage:0,total:0},Ce=yield xe(h.fetch,"GET",`${h.url}/admin/users`,{headers:h.headers,noResolveJson:!0,query:{page:null!==(k=null===(f=g?.page)||void 0===f?void 0:f.toString())&&void 0!==k?k:"",per_page:null!==(N=null===(R=g?.perPage)||void 0===R?void 0:R.toString())&&void 0!==N?N:""},xform:pn});if(Ce.error)throw Ce.error;const vt=yield Ce.json(),mt=null!==(H=Ce.headers.get("x-total-count"))&&void 0!==H?H:0,lt=null!==(ue=null===(G=Ce.headers.get("link"))||void 0===G?void 0:G.split(","))&&void 0!==ue?ue:[];return lt.length>0&&(lt.forEach(nt=>{const Tt=parseInt(nt.split(";")[0].split("=")[1].substring(0,1)),fn=JSON.parse(nt.split(";")[1].split("=")[1]);oe[`${fn}Page`]=Tt}),oe.total=parseInt(mt)),{data:Object.assign(Object.assign({},vt),oe),error:null}}catch(oe){if(At(oe))return{data:{users:[]},error:oe};throw oe}})()}getUserById(g){var h=this;return(0,E.A)(function*(){Tr(g);try{return yield xe(h.fetch,"GET",`${h.url}/admin/users/${g}`,{headers:h.headers,xform:Yt})}catch(f){if(At(f))return{data:{user:null},error:f};throw f}})()}updateUserById(g,h){var f=this;return(0,E.A)(function*(){Tr(g);try{return yield xe(f.fetch,"PUT",`${f.url}/admin/users/${g}`,{body:h,headers:f.headers,xform:Yt})}catch(k){if(At(k))return{data:{user:null},error:k};throw k}})()}deleteUser(g){var h=this;return(0,E.A)(function*(f,k=!1){Tr(f);try{return yield xe(h.fetch,"DELETE",`${h.url}/admin/users/${f}`,{headers:h.headers,body:{should_soft_delete:k},xform:Yt})}catch(R){if(At(R))return{data:{user:null},error:R};throw R}}).apply(this,arguments)}_listFactors(g){var h=this;return(0,E.A)(function*(){Tr(g.userId);try{const{data:f,error:k}=yield xe(h.fetch,"GET",`${h.url}/admin/users/${g.userId}/factors`,{headers:h.headers,xform:R=>({data:{factors:R},error:null})});return{data:f,error:k}}catch(f){if(At(f))return{data:null,error:f};throw f}})()}_deleteFactor(g){var h=this;return(0,E.A)(function*(){Tr(g.userId),Tr(g.id);try{return{data:yield xe(h.fetch,"DELETE",`${h.url}/admin/users/${g.userId}/factors/${g.id}`,{headers:h.headers}),error:null}}catch(f){if(At(f))return{data:null,error:f};throw f}})()}}function Tn(C={}){return{getItem:g=>C[g]||null,setItem:(g,h)=>{C[g]=h},removeItem:g=>{delete C[g]}}}const kn_debug=!!(globalThis&&$t()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class jn extends Error{constructor(g){super(g),this.isAcquireTimeout=!0}}class Qo extends jn{}function Vi(C,g,h){return ha.apply(this,arguments)}function ha(){return ha=(0,E.A)(function*(C,g,h){kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",C,g);const f=new globalThis.AbortController;return g>0&&setTimeout(()=>{f.abort(),kn_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",C)},g),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(C,0===g?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},function(){var k=(0,E.A)(function*(R){if(!R){if(0===g)throw kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",C),new Qo(`Acquiring an exclusive Navigator LockManager lock "${C}" immediately failed`);if(kn_debug)try{const N=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(N,null,"  "))}catch(N){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",N)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield h()}kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",C,R.name);try{return yield h()}finally{kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",C,R.name)}});return function(R){return k.apply(this,arguments)}}()))}),ha.apply(this,arguments)}!function Xa(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Yo={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.71.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function gi(C,g,h){return La.apply(this,arguments)}function La(){return(La=(0,E.A)(function*(C,g,h){return yield h()})).apply(this,arguments)}const Jo={};const A=(()=>{class C{constructor(h){var k,R,f=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=C.nextInstanceID,C.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const N=Object.assign(Object.assign({},Yo),h);if(this.logDebugMessages=!!N.debug,"function"==typeof N.debug&&(this.logger=N.debug),this.persistSession=N.persistSession,this.storageKey=N.storageKey,this.autoRefreshToken=N.autoRefreshToken,this.admin=new Mn({url:N.url,headers:N.headers,fetch:N.fetch}),this.url=N.url,this.headers=N.headers,this.fetch=dn(N.fetch),this.lock=N.lock||gi,this.detectSessionInUrl=N.detectSessionInUrl,this.flowType=N.flowType,this.hasCustomAuthorizationHeader=N.hasCustomAuthorizationHeader,this.lock=N.lock?N.lock:Ft()&&null!==(k=globalThis?.navigator)&&void 0!==k&&k.locks?Vi:gi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(N.storage?this.storage=N.storage:$t()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tn(this.memoryStorage)),N.userStorage&&(this.userStorage=N.userStorage)):(this.memoryStorage={},this.storage=Tn(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(H){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",H)}null===(R=this.broadcastChannel)||void 0===R||R.addEventListener("message",function(){var H=(0,E.A)(function*(G){f._debug("received broadcast notification from other tab or client",G),yield f._notifyAllSubscribers(G.data.event,G.data.session,!1)});return function(G){return H.apply(this,arguments)}}())}this.initialize()}get jwks(){var h,f;return null!==(f=null===(h=Jo[this.storageKey])||void 0===h?void 0:h.jwks)&&void 0!==f?f:{keys:[]}}set jwks(h){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:h})}get jwks_cached_at(){var h,f;return null!==(f=null===(h=Jo[this.storageKey])||void 0===h?void 0:h.cachedAt)&&void 0!==f?f:Number.MIN_SAFE_INTEGER}set jwks_cached_at(h){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:h})}_debug(...h){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.71.1) ${(new Date).toISOString()}`,...h),this}initialize(){var h=this;return(0,E.A)(function*(){return h.initializePromise||(h.initializePromise=(0,E.A)(function*(){return yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._initialize()}))})()),yield h.initializePromise})()}_initialize(){var h=this;return(0,E.A)(function*(){var f;try{const k=function jt(C){const g={},h=new URL(C);if(h.hash&&"#"===h.hash[0])try{new URLSearchParams(h.hash.substring(1)).forEach((k,R)=>{g[R]=k})}catch{}return h.searchParams.forEach((f,k)=>{g[k]=f}),g}(window.location.href);let R="none";if(h._isImplicitGrantCallback(k)?R="implicit":(yield h._isPKCECallback(k))&&(R="pkce"),Ft()&&h.detectSessionInUrl&&"none"!==R){const{data:N,error:H}=yield h._getSessionFromURL(k,R);if(H){if(h._debug("#_initialize()","error detecting session from URL",H),function qo(C){return At(C)&&"AuthImplicitGrantRedirectError"===C.name}(H)){const oe=null===(f=H.details)||void 0===f?void 0:f.code;if("identity_already_exists"===oe||"identity_not_found"===oe||"single_identity_not_deletable"===oe)return{error:H}}return yield h._removeSession(),{error:H}}const{session:G,redirectType:ue}=N;return h._debug("#_initialize()","detected session in URL",G,"redirect type",ue),yield h._saveSession(G),setTimeout((0,E.A)(function*(){"recovery"===ue?yield h._notifyAllSubscribers("PASSWORD_RECOVERY",G):yield h._notifyAllSubscribers("SIGNED_IN",G)}),0),{error:null}}return yield h._recoverAndRefresh(),{error:null}}catch(k){return At(k)?{error:k}:{error:new Yn("Unexpected error during initialization",k)}}finally{yield h._handleVisibilityChange(),h._debug("#_initialize()","end")}})()}signInAnonymously(h){var f=this;return(0,E.A)(function*(){var k,R,N;try{const H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{data:null!==(R=null===(k=h?.options)||void 0===k?void 0:k.data)&&void 0!==R?R:{},gotrue_meta_security:{captcha_token:null===(N=h?.options)||void 0===N?void 0:N.captchaToken}},xform:tt}),{data:G,error:ue}=H;if(ue||!G)return{data:{user:null,session:null},error:ue};const oe=G.session,Ce=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:Ce,session:oe},error:null}}catch(H){if(At(H))return{data:{user:null,session:null},error:H};throw H}})()}signUp(h){var f=this;return(0,E.A)(function*(){var k,R,N;try{let H;if("email"in h){const{email:vt,password:mt,options:lt}=h;let nt=null,Tt=null;"pkce"===f.flowType&&([nt,Tt]=yield fo(f.storage,f.storageKey)),H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,redirectTo:lt?.emailRedirectTo,body:{email:vt,password:mt,data:null!==(k=lt?.data)&&void 0!==k?k:{},gotrue_meta_security:{captcha_token:lt?.captchaToken},code_challenge:nt,code_challenge_method:Tt},xform:tt})}else{if(!("phone"in h))throw new kr("You must provide either an email or phone number and a password");{const{phone:vt,password:mt,options:lt}=h;H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{phone:vt,password:mt,data:null!==(R=lt?.data)&&void 0!==R?R:{},channel:null!==(N=lt?.channel)&&void 0!==N?N:"sms",gotrue_meta_security:{captcha_token:lt?.captchaToken}},xform:tt})}}const{data:G,error:ue}=H;if(ue||!G)return{data:{user:null,session:null},error:ue};const oe=G.session,Ce=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:Ce,session:oe},error:null}}catch(H){if(At(H))return{data:{user:null,session:null},error:H};throw H}})()}signInWithPassword(h){var f=this;return(0,E.A)(function*(){try{let k;if("email"in h){const{email:H,password:G,options:ue}=h;k=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{email:H,password:G,gotrue_meta_security:{captcha_token:ue?.captchaToken}},xform:hn})}else{if(!("phone"in h))throw new kr("You must provide either an email or phone number and a password");{const{phone:H,password:G,options:ue}=h;k=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{phone:H,password:G,gotrue_meta_security:{captcha_token:ue?.captchaToken}},xform:hn})}}const{data:R,error:N}=k;return N?{data:{user:null,session:null},error:N}:R&&R.session&&R.user?(R.session&&(yield f._saveSession(R.session),yield f._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({user:R.user,session:R.session},R.weak_password?{weakPassword:R.weak_password}:null),error:N}):{data:{user:null,session:null},error:new Hr}}catch(k){if(At(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOAuth(h){var f=this;return(0,E.A)(function*(){var k,R,N,H;return yield f._handleProviderSignIn(h.provider,{redirectTo:null===(k=h.options)||void 0===k?void 0:k.redirectTo,scopes:null===(R=h.options)||void 0===R?void 0:R.scopes,queryParams:null===(N=h.options)||void 0===N?void 0:N.queryParams,skipBrowserRedirect:null===(H=h.options)||void 0===H?void 0:H.skipBrowserRedirect})})()}exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,f._acquireLock(-1,(0,E.A)(function*(){return f._exchangeCodeForSession(h)}))})()}signInWithWeb3(h){var f=this;return(0,E.A)(function*(){const{chain:k}=h;if("solana"===k)return yield f.signInWithSolana(h);throw new Error(`@supabase/auth-js: Unsupported chain "${k}"`)})()}signInWithSolana(h){var f=this;return(0,E.A)(function*(){var k,R,N,H,G,ue,oe,Ce,vt,mt,lt,nt;let Tt,fn;if("message"in h)Tt=h.message,fn=h.signature;else{const{wallet:yn,statement:ar,options:Dt}=h;let Cn;if(Ft())if("object"==typeof yn)Cn=yn;else{const wn=window;if(!("solana"in wn)||"object"!=typeof wn.solana||!("signIn"in wn.solana&&"function"==typeof wn.solana.signIn||"signMessage"in wn.solana&&"function"==typeof wn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Cn=wn.solana}else{if("object"!=typeof yn||!Dt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Cn=yn}const Ao=new URL(null!==(k=Dt?.url)&&void 0!==k?k:window.location.href);if("signIn"in Cn&&Cn.signIn){const wn=yield Cn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},Dt?.signInWithSolana),{version:"1",domain:Ao.host,uri:Ao.href}),ar?{statement:ar}:null));let Qt;if(Array.isArray(wn)&&wn[0]&&"object"==typeof wn[0])Qt=wn[0];else{if(!(wn&&"object"==typeof wn&&"signedMessage"in wn&&"signature"in wn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Qt=wn}if(!("signedMessage"in Qt&&"signature"in Qt&&("string"==typeof Qt.signedMessage||Qt.signedMessage instanceof Uint8Array)&&Qt.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Tt="string"==typeof Qt.signedMessage?Qt.signedMessage:(new TextDecoder).decode(Qt.signedMessage),fn=Qt.signature}else{if(!("signMessage"in Cn&&"function"==typeof Cn.signMessage&&"publicKey"in Cn&&"object"==typeof Cn&&Cn.publicKey&&"toBase58"in Cn.publicKey&&"function"==typeof Cn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Tt=[`${Ao.host} wants you to sign in with your Solana account:`,Cn.publicKey.toBase58(),...ar?["",ar,""]:[""],"Version: 1",`URI: ${Ao.href}`,`Issued At: ${null!==(N=null===(R=Dt?.signInWithSolana)||void 0===R?void 0:R.issuedAt)&&void 0!==N?N:(new Date).toISOString()}`,...null!==(H=Dt?.signInWithSolana)&&void 0!==H&&H.notBefore?[`Not Before: ${Dt.signInWithSolana.notBefore}`]:[],...null!==(G=Dt?.signInWithSolana)&&void 0!==G&&G.expirationTime?[`Expiration Time: ${Dt.signInWithSolana.expirationTime}`]:[],...null!==(ue=Dt?.signInWithSolana)&&void 0!==ue&&ue.chainId?[`Chain ID: ${Dt.signInWithSolana.chainId}`]:[],...null!==(oe=Dt?.signInWithSolana)&&void 0!==oe&&oe.nonce?[`Nonce: ${Dt.signInWithSolana.nonce}`]:[],...null!==(Ce=Dt?.signInWithSolana)&&void 0!==Ce&&Ce.requestId?[`Request ID: ${Dt.signInWithSolana.requestId}`]:[],...null!==(mt=null===(vt=Dt?.signInWithSolana)||void 0===vt?void 0:vt.resources)&&void 0!==mt&&mt.length?["Resources",...Dt.signInWithSolana.resources.map(Qt=>`- ${Qt}`)]:[]].join("\n");const wn=yield Cn.signMessage((new TextEncoder).encode(Tt),"utf8");if(!(wn&&wn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");fn=wn}}try{const{data:on,error:yn}=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=web3`,{headers:f.headers,body:Object.assign({chain:"solana",message:Tt,signature:Ie(fn)},null!==(lt=h.options)&&void 0!==lt&&lt.captchaToken?{gotrue_meta_security:{captcha_token:null===(nt=h.options)||void 0===nt?void 0:nt.captchaToken}}:null),xform:tt});if(yn)throw yn;return on&&on.session&&on.user?(on.session&&(yield f._saveSession(on.session),yield f._notifyAllSubscribers("SIGNED_IN",on.session)),{data:Object.assign({},on),error:yn}):{data:{user:null,session:null},error:new Hr}}catch(on){if(At(on))return{data:{user:null,session:null},error:on};throw on}})()}_exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){const k=yield Fn(f.storage,`${f.storageKey}-code-verifier`),[R,N]=(k??"").split("/");try{const{data:H,error:G}=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=pkce`,{headers:f.headers,body:{auth_code:h,code_verifier:R},xform:tt});if(yield Qn(f.storage,`${f.storageKey}-code-verifier`),G)throw G;return H&&H.session&&H.user?(H.session&&(yield f._saveSession(H.session),yield f._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign(Object.assign({},H),{redirectType:N??null}),error:G}):{data:{user:null,session:null,redirectType:null},error:new Hr}}catch(H){if(At(H))return{data:{user:null,session:null,redirectType:null},error:H};throw H}})()}signInWithIdToken(h){var f=this;return(0,E.A)(function*(){try{const{options:k,provider:R,token:N,access_token:H,nonce:G}=h,ue=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=id_token`,{headers:f.headers,body:{provider:R,id_token:N,access_token:H,nonce:G,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:tt}),{data:oe,error:Ce}=ue;return Ce?{data:{user:null,session:null},error:Ce}:oe&&oe.session&&oe.user?(oe.session&&(yield f._saveSession(oe.session),yield f._notifyAllSubscribers("SIGNED_IN",oe.session)),{data:oe,error:Ce}):{data:{user:null,session:null},error:new Hr}}catch(k){if(At(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOtp(h){var f=this;return(0,E.A)(function*(){var k,R,N,H,G;try{if("email"in h){const{email:ue,options:oe}=h;let Ce=null,vt=null;"pkce"===f.flowType&&([Ce,vt]=yield fo(f.storage,f.storageKey));const{error:mt}=yield xe(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{email:ue,data:null!==(k=oe?.data)&&void 0!==k?k:{},create_user:null===(R=oe?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:oe?.captchaToken},code_challenge:Ce,code_challenge_method:vt},redirectTo:oe?.emailRedirectTo});return{data:{user:null,session:null},error:mt}}if("phone"in h){const{phone:ue,options:oe}=h,{data:Ce,error:vt}=yield xe(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{phone:ue,data:null!==(N=oe?.data)&&void 0!==N?N:{},create_user:null===(H=oe?.shouldCreateUser)||void 0===H||H,gotrue_meta_security:{captcha_token:oe?.captchaToken},channel:null!==(G=oe?.channel)&&void 0!==G?G:"sms"}});return{data:{user:null,session:null,messageId:Ce?.message_id},error:vt}}throw new kr("You must provide either an email or phone number.")}catch(ue){if(At(ue))return{data:{user:null,session:null},error:ue};throw ue}})()}verifyOtp(h){var f=this;return(0,E.A)(function*(){var k,R;try{let N,H;"options"in h&&(N=null===(k=h.options)||void 0===k?void 0:k.redirectTo,H=null===(R=h.options)||void 0===R?void 0:R.captchaToken);const{data:G,error:ue}=yield xe(f.fetch,"POST",`${f.url}/verify`,{headers:f.headers,body:Object.assign(Object.assign({},h),{gotrue_meta_security:{captcha_token:H}}),redirectTo:N,xform:tt});if(ue)throw ue;if(!G)throw new Error("An error occurred on token verification.");const oe=G.session,Ce=G.user;return oe?.access_token&&(yield f._saveSession(oe),yield f._notifyAllSubscribers("recovery"==h.type?"PASSWORD_RECOVERY":"SIGNED_IN",oe)),{data:{user:Ce,session:oe},error:null}}catch(N){if(At(N))return{data:{user:null,session:null},error:N};throw N}})()}signInWithSSO(h){var f=this;return(0,E.A)(function*(){var k,R,N;try{let H=null,G=null;return"pkce"===f.flowType&&([H,G]=yield fo(f.storage,f.storageKey)),yield xe(f.fetch,"POST",`${f.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in h?{provider_id:h.providerId}:null),"domain"in h?{domain:h.domain}:null),{redirect_to:null!==(R=null===(k=h.options)||void 0===k?void 0:k.redirectTo)&&void 0!==R?R:void 0}),null!==(N=h?.options)&&void 0!==N&&N.captchaToken?{gotrue_meta_security:{captcha_token:h.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:H,code_challenge_method:G}),headers:f.headers,xform:cn})}catch(H){if(At(H))return{data:null,error:H};throw H}})()}reauthenticate(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._reauthenticate()}))})()}_reauthenticate(){var h=this;return(0,E.A)(function*(){try{return yield h._useSession(function(){var f=(0,E.A)(function*(k){const{data:{session:R},error:N}=k;if(N)throw N;if(!R)throw new Jn;const{error:H}=yield xe(h.fetch,"GET",`${h.url}/reauthenticate`,{headers:h.headers,jwt:R.access_token});return{data:{user:null,session:null},error:H}});return function(k){return f.apply(this,arguments)}}())}catch(f){if(At(f))return{data:{user:null,session:null},error:f};throw f}})()}resend(h){var f=this;return(0,E.A)(function*(){try{const k=`${f.url}/resend`;if("email"in h){const{email:R,type:N,options:H}=h,{error:G}=yield xe(f.fetch,"POST",k,{headers:f.headers,body:{email:R,type:N,gotrue_meta_security:{captcha_token:H?.captchaToken}},redirectTo:H?.emailRedirectTo});return{data:{user:null,session:null},error:G}}if("phone"in h){const{phone:R,type:N,options:H}=h,{data:G,error:ue}=yield xe(f.fetch,"POST",k,{headers:f.headers,body:{phone:R,type:N,gotrue_meta_security:{captcha_token:H?.captchaToken}}});return{data:{user:null,session:null,messageId:G?.message_id},error:ue}}throw new kr("You must provide either an email or phone number and a type")}catch(k){if(At(k))return{data:{user:null,session:null},error:k};throw k}})()}getSession(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return h._useSession(function(){var k=(0,E.A)(function*(R){return R});return function(R){return k.apply(this,arguments)}}())}))})()}_acquireLock(h,f){var k=this;return(0,E.A)(function*(){k._debug("#_acquireLock","begin",h);try{if(k.lockAcquired){const R=k.pendingInLock.length?k.pendingInLock[k.pendingInLock.length-1]:Promise.resolve(),N=(0,E.A)(function*(){return yield R,yield f()})();return k.pendingInLock.push((0,E.A)(function*(){try{yield N}catch{}})()),N}return yield k.lock(`lock:${k.storageKey}`,h,(0,E.A)(function*(){k._debug("#_acquireLock","lock acquired for storage key",k.storageKey);try{k.lockAcquired=!0;const R=f();for(k.pendingInLock.push((0,E.A)(function*(){try{yield R}catch{}})()),yield R;k.pendingInLock.length;){const N=[...k.pendingInLock];yield Promise.all(N),k.pendingInLock.splice(0,N.length)}return yield R}finally{k._debug("#_acquireLock","lock released for storage key",k.storageKey),k.lockAcquired=!1}}))}finally{k._debug("#_acquireLock","end")}})()}_useSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_useSession","begin");try{const k=yield f.__loadSession();return yield h(k)}finally{f._debug("#_useSession","end")}})()}__loadSession(){var h=this;return(0,E.A)(function*(){h._debug("#__loadSession()","begin"),h.lockAcquired||h._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let f=null;const k=yield Fn(h.storage,h.storageKey);if(h._debug("#getSession()","session from storage",k),null!==k&&(h._isValidSession(k)?f=k:(h._debug("#getSession()","session from storage is not valid"),yield h._removeSession())),!f)return{data:{session:null},error:null};const R=!!f.expires_at&&1e3*f.expires_at-Date.now()<9e4;if(h._debug("#__loadSession()",`session has${R?"":" not"} expired`,"expires_at",f.expires_at),!R){if(h.userStorage){const G=yield Fn(h.userStorage,h.storageKey+"-user");f.user=G?.user?G.user:tn()}if(h.storage.isServer&&f.user){let G=h.suppressGetSessionWarning;f=new Proxy(f,{get:(oe,Ce,vt)=>(!G&&"user"===Ce&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),G=!0,h.suppressGetSessionWarning=!0),Reflect.get(oe,Ce,vt))})}return{data:{session:f},error:null}}const{session:N,error:H}=yield h._callRefreshToken(f.refresh_token);return H?{data:{session:null},error:H}:{data:{session:N},error:null}}finally{h._debug("#__loadSession()","end")}})()}getUser(h){var f=this;return(0,E.A)(function*(){return h?yield f._getUser(h):(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._getUser()})))})()}_getUser(h){var f=this;return(0,E.A)(function*(){try{return h?yield xe(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:h,xform:Yt}):yield f._useSession(function(){var k=(0,E.A)(function*(R){var N,H,G;const{data:ue,error:oe}=R;if(oe)throw oe;return null!==(N=ue.session)&&void 0!==N&&N.access_token||f.hasCustomAuthorizationHeader?yield xe(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:null!==(G=null===(H=ue.session)||void 0===H?void 0:H.access_token)&&void 0!==G?G:void 0,xform:Yt}):{data:{user:null},error:new Jn}});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return function Lo(C){return At(C)&&"AuthSessionMissingError"===C.name}(k)&&(yield f._removeSession(),yield Qn(f.storage,`${f.storageKey}-code-verifier`)),{data:{user:null},error:k};throw k}})()}updateUser(h){var f=this;return(0,E.A)(function*(k,R={}){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._updateUser(k,R)}))}).apply(this,arguments)}_updateUser(h){var f=this;return(0,E.A)(function*(k,R={}){try{return yield f._useSession(function(){var N=(0,E.A)(function*(H){const{data:G,error:ue}=H;if(ue)throw ue;if(!G.session)throw new Jn;const oe=G.session;let Ce=null,vt=null;"pkce"===f.flowType&&null!=k.email&&([Ce,vt]=yield fo(f.storage,f.storageKey));const{data:mt,error:lt}=yield xe(f.fetch,"PUT",`${f.url}/user`,{headers:f.headers,redirectTo:R?.emailRedirectTo,body:Object.assign(Object.assign({},k),{code_challenge:Ce,code_challenge_method:vt}),jwt:oe.access_token,xform:Yt});if(lt)throw lt;return oe.user=mt.user,yield f._saveSession(oe),yield f._notifyAllSubscribers("USER_UPDATED",oe),{data:{user:oe.user},error:null}});return function(H){return N.apply(this,arguments)}}())}catch(N){if(At(N))return{data:{user:null},error:N};throw N}}).apply(this,arguments)}setSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._setSession(h)}))})()}_setSession(h){var f=this;return(0,E.A)(function*(){try{if(!h.access_token||!h.refresh_token)throw new Jn;const k=Date.now()/1e3;let R=k,N=!0,H=null;const{payload:G}=Zn(h.access_token);if(G.exp&&(R=G.exp,N=R<=k),N){const{session:ue,error:oe}=yield f._callRefreshToken(h.refresh_token);if(oe)return{data:{user:null,session:null},error:oe};if(!ue)return{data:{user:null,session:null},error:null};H=ue}else{const{data:ue,error:oe}=yield f._getUser(h.access_token);if(oe)throw oe;H={access_token:h.access_token,refresh_token:h.refresh_token,user:ue.user,token_type:"bearer",expires_in:R-k,expires_at:R},yield f._saveSession(H),yield f._notifyAllSubscribers("SIGNED_IN",H)}return{data:{user:H.user,session:H},error:null}}catch(k){if(At(k))return{data:{session:null,user:null},error:k};throw k}})()}refreshSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._refreshSession(h)}))})()}_refreshSession(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N;if(!h){const{data:ue,error:oe}=R;if(oe)throw oe;h=null!==(N=ue.session)&&void 0!==N?N:void 0}if(!h?.refresh_token)throw new Jn;const{session:H,error:G}=yield f._callRefreshToken(h.refresh_token);return G?{data:{user:null,session:null},error:G}:H?{data:{user:H.user,session:H},error:null}:{data:{user:null,session:null},error:null}});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:{user:null,session:null},error:k};throw k}})()}_getSessionFromURL(h,f){var k=this;return(0,E.A)(function*(){try{if(!Ft())throw new eo("No browser detected.");if(h.error||h.error_description||h.error_code)throw new eo(h.error_description||"Error in URL with unspecified error_description",{error:h.error||"unspecified_error",code:h.error_code||"unspecified_code"});switch(f){case"implicit":if("pkce"===k.flowType)throw new uo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===k.flowType)throw new eo("Not a valid implicit grant flow url.")}if("pkce"===f){if(k._debug("#_initialize()","begin","is PKCE flow",!0),!h.code)throw new uo("No code detected.");const{data:ar,error:Dt}=yield k._exchangeCodeForSession(h.code);if(Dt)throw Dt;const Cn=new URL(window.location.href);return Cn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Cn.toString()),{data:{session:ar.session,redirectType:null},error:null}}const{provider_token:R,provider_refresh_token:N,access_token:H,refresh_token:G,expires_in:ue,expires_at:oe,token_type:Ce}=h;if(!(H&&ue&&G&&Ce))throw new eo("No session defined in URL");const vt=Math.round(Date.now()/1e3),mt=parseInt(ue);let lt=vt+mt;oe&&(lt=parseInt(oe));const nt=lt-vt;1e3*nt<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${nt}s, should have been closer to ${mt}s`);const Tt=lt-mt;vt-Tt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Tt,lt,vt):vt-Tt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Tt,lt,vt);const{data:fn,error:on}=yield k._getUser(H);if(on)throw on;const yn={provider_token:R,provider_refresh_token:N,access_token:H,expires_in:mt,expires_at:lt,refresh_token:G,token_type:Ce,user:fn.user};return window.location.hash="",k._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:yn,redirectType:h.type},error:null}}catch(R){if(At(R))return{data:{session:null,redirectType:null},error:R};throw R}})()}_isImplicitGrantCallback(h){return!(!h.access_token&&!h.error_description)}_isPKCECallback(h){var f=this;return(0,E.A)(function*(){const k=yield Fn(f.storage,`${f.storageKey}-code-verifier`);return!(!h.code||!k)})()}signOut(){var h=this;return(0,E.A)(function*(f={scope:"global"}){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._signOut(f)}))}).apply(this,arguments)}_signOut(){var h=this;return(0,E.A)(function*({scope:f}={scope:"global"}){return yield h._useSession(function(){var k=(0,E.A)(function*(R){var N;const{data:H,error:G}=R;if(G)return{error:G};const ue=null===(N=H.session)||void 0===N?void 0:N.access_token;if(ue){const{error:oe}=yield h.admin.signOut(ue,f);if(oe&&(!function Zr(C){return At(C)&&"AuthApiError"===C.name}(oe)||404!==oe.status&&401!==oe.status&&403!==oe.status))return{error:oe}}return"others"!==f&&(yield h._removeSession(),yield Qn(h.storage,`${h.storageKey}-code-verifier`)),{error:null}});return function(R){return k.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(h){var f=this;const k=function st(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){const g=16*Math.random()|0;return("x"==C?g:3&g|8).toString(16)})}(),R={id:k,callback:h,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",k),this.stateChangeEmitters.delete(k)}};return this._debug("#onAuthStateChange()","registered callback with id",k),this.stateChangeEmitters.set(k,R),(0,E.A)(function*(){yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){f._emitInitialSession(k)}))})(),{data:{subscription:R}}}_emitInitialSession(h){var f=this;return(0,E.A)(function*(){return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N,H;try{const{data:{session:G},error:ue}=R;if(ue)throw ue;yield null===(N=f.stateChangeEmitters.get(h))||void 0===N?void 0:N.callback("INITIAL_SESSION",G),f._debug("INITIAL_SESSION","callback id",h,"session",G)}catch(G){yield null===(H=f.stateChangeEmitters.get(h))||void 0===H?void 0:H.callback("INITIAL_SESSION",null),f._debug("INITIAL_SESSION","callback id",h,"error",G),console.error(G)}});return function(R){return k.apply(this,arguments)}}())})()}resetPasswordForEmail(h){var f=this;return(0,E.A)(function*(k,R={}){let N=null,H=null;"pkce"===f.flowType&&([N,H]=yield fo(f.storage,f.storageKey,!0));try{return yield xe(f.fetch,"POST",`${f.url}/recover`,{body:{email:k,code_challenge:N,code_challenge_method:H,gotrue_meta_security:{captcha_token:R.captchaToken}},headers:f.headers,redirectTo:R.redirectTo})}catch(G){if(At(G))return{data:null,error:G};throw G}}).apply(this,arguments)}getUserIdentities(){var h=this;return(0,E.A)(function*(){var f;try{const{data:k,error:R}=yield h.getUser();if(R)throw R;return{data:{identities:null!==(f=k.user.identities)&&void 0!==f?f:[]},error:null}}catch(k){if(At(k))return{data:null,error:k};throw k}})()}linkIdentity(h){var f=this;return(0,E.A)(function*(){var k;try{const{data:R,error:N}=yield f._useSession(function(){var H=(0,E.A)(function*(G){var ue,oe,Ce,vt,mt;const{data:lt,error:nt}=G;if(nt)throw nt;const Tt=yield f._getUrlForProvider(`${f.url}/user/identities/authorize`,h.provider,{redirectTo:null===(ue=h.options)||void 0===ue?void 0:ue.redirectTo,scopes:null===(oe=h.options)||void 0===oe?void 0:oe.scopes,queryParams:null===(Ce=h.options)||void 0===Ce?void 0:Ce.queryParams,skipBrowserRedirect:!0});return yield xe(f.fetch,"GET",Tt,{headers:f.headers,jwt:null!==(mt=null===(vt=lt.session)||void 0===vt?void 0:vt.access_token)&&void 0!==mt?mt:void 0})});return function(G){return H.apply(this,arguments)}}());if(N)throw N;return Ft()&&!(null!==(k=h.options)&&void 0!==k&&k.skipBrowserRedirect)&&window.location.assign(R?.url),{data:{provider:h.provider,url:R?.url},error:null}}catch(R){if(At(R))return{data:{provider:h.provider,url:null},error:R};throw R}})()}unlinkIdentity(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N,H;const{data:G,error:ue}=R;if(ue)throw ue;return yield xe(f.fetch,"DELETE",`${f.url}/user/identities/${h.identity_id}`,{headers:f.headers,jwt:null!==(H=null===(N=G.session)||void 0===N?void 0:N.access_token)&&void 0!==H?H:void 0})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:null,error:k};throw k}})()}_refreshAccessToken(h){var f=this;return(0,E.A)(function*(){const k=`#_refreshAccessToken(${h.substring(0,5)}...)`;f._debug(k,"begin");try{const R=Date.now();return yield function to(C,g){return new Promise((f,k)=>{(0,E.A)(function*(){for(let R=0;R<1/0;R++)try{const N=yield C(R);if(!g(R,null,N))return void f(N)}catch(N){if(!g(R,N))return void k(N)}})()})}(function(){var N=(0,E.A)(function*(H){return H>0&&(yield function po(C){return hr.apply(this,arguments)}(200*Math.pow(2,H-1))),f._debug(k,"refreshing attempt",H),yield xe(f.fetch,"POST",`${f.url}/token?grant_type=refresh_token`,{body:{refresh_token:h},headers:f.headers,xform:tt})});return function(H){return N.apply(this,arguments)}}(),(N,H)=>{const G=200*Math.pow(2,N);return H&&rr(H)&&Date.now()+G-R<br})}catch(R){if(f._debug(k,"error",R),At(R))return{data:{session:null,user:null},error:R};throw R}finally{f._debug(k,"end")}})()}_isValidSession(h){return"object"==typeof h&&null!==h&&"access_token"in h&&"refresh_token"in h&&"expires_at"in h}_handleProviderSignIn(h,f){var k=this;return(0,E.A)(function*(){const R=yield k._getUrlForProvider(`${k.url}/authorize`,h,{redirectTo:f.redirectTo,scopes:f.scopes,queryParams:f.queryParams});return k._debug("#_handleProviderSignIn()","provider",h,"options",f,"url",R),Ft()&&!f.skipBrowserRedirect&&window.location.assign(R),{data:{provider:h,url:R},error:null}})()}_recoverAndRefresh(){var h=this;return(0,E.A)(function*(){var f,k;const R="#_recoverAndRefresh()";h._debug(R,"begin");try{const N=yield Fn(h.storage,h.storageKey);if(N&&h.userStorage){let G=yield Fn(h.userStorage,h.storageKey+"-user");!h.storage.isServer&&Object.is(h.storage,h.userStorage)&&!G&&(G={user:N.user},yield mn(h.userStorage,h.storageKey+"-user",G)),N.user=null!==(f=G?.user)&&void 0!==f?f:tn()}else if(N&&!N.user&&!N.user){const G=yield Fn(h.storage,h.storageKey+"-user");G&&G?.user?(N.user=G.user,yield Qn(h.storage,h.storageKey+"-user"),yield mn(h.storage,h.storageKey,N)):N.user=tn()}if(h._debug(R,"session from storage",N),!h._isValidSession(N))return h._debug(R,"session is not valid"),void(null!==N&&(yield h._removeSession()));const H=1e3*(null!==(k=N.expires_at)&&void 0!==k?k:1/0)-Date.now()<9e4;if(h._debug(R,`session has${H?"":" not"} expired with margin of 90000s`),H){if(h.autoRefreshToken&&N.refresh_token){const{error:G}=yield h._callRefreshToken(N.refresh_token);G&&(console.error(G),rr(G)||(h._debug(R,"refresh failed with a non-retryable error, removing the session",G),yield h._removeSession()))}}else if(N.user&&!0===N.user.__isUserNotAvailableProxy)try{const{data:G,error:ue}=yield h._getUser(N.access_token);!ue&&G?.user?(N.user=G.user,yield h._saveSession(N),yield h._notifyAllSubscribers("SIGNED_IN",N)):h._debug(R,"could not get user data, skipping SIGNED_IN notification")}catch(G){console.error("Error getting user data:",G),h._debug(R,"error getting user data, skipping SIGNED_IN notification",G)}else yield h._notifyAllSubscribers("SIGNED_IN",N)}catch(N){return h._debug(R,"error",N),void console.error(N)}finally{h._debug(R,"end")}})()}_callRefreshToken(h){var f=this;return(0,E.A)(function*(){var k,R;if(!h)throw new Jn;if(f.refreshingDeferred)return f.refreshingDeferred.promise;const N=`#_callRefreshToken(${h.substring(0,5)}...)`;f._debug(N,"begin");try{f.refreshingDeferred=new Ar;const{data:H,error:G}=yield f._refreshAccessToken(h);if(G)throw G;if(!H.session)throw new Jn;yield f._saveSession(H.session),yield f._notifyAllSubscribers("TOKEN_REFRESHED",H.session);const ue={session:H.session,error:null};return f.refreshingDeferred.resolve(ue),ue}catch(H){if(f._debug(N,"error",H),At(H)){const G={session:null,error:H};return rr(H)||(yield f._removeSession()),null===(k=f.refreshingDeferred)||void 0===k||k.resolve(G),G}throw null===(R=f.refreshingDeferred)||void 0===R||R.reject(H),H}finally{f.refreshingDeferred=null,f._debug(N,"end")}})()}_notifyAllSubscribers(h,f){var k=this;return(0,E.A)(function*(R,N,H=!0){const G=`#_notifyAllSubscribers(${R})`;k._debug(G,"begin",N,`broadcast = ${H}`);try{k.broadcastChannel&&H&&k.broadcastChannel.postMessage({event:R,session:N});const ue=[],oe=Array.from(k.stateChangeEmitters.values()).map(function(){var Ce=(0,E.A)(function*(vt){try{yield vt.callback(R,N)}catch(mt){ue.push(mt)}});return function(vt){return Ce.apply(this,arguments)}}());if(yield Promise.all(oe),ue.length>0){for(let Ce=0;Ce<ue.length;Ce+=1)console.error(ue[Ce]);throw ue[0]}}finally{k._debug(G,"end")}}).apply(this,arguments)}_saveSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_saveSession()",h),f.suppressGetSessionWarning=!0;const k=Object.assign({},h);if(f.userStorage){(!k.user||!0!==k.user.__isUserNotAvailableProxy)&&k.user&&(yield mn(f.userStorage,f.storageKey+"-user",{user:k.user}));const N=Object.assign({},k);delete N.user;const H=j(N);yield mn(f.storage,f.storageKey,H)}else{const N=j(k);yield mn(f.storage,f.storageKey,N)}})()}_removeSession(){var h=this;return(0,E.A)(function*(){h._debug("#_removeSession()"),yield Qn(h.storage,h.storageKey),yield Qn(h.storage,h.storageKey+"-code-verifier"),yield Qn(h.storage,h.storageKey+"-user"),h.userStorage&&(yield Qn(h.userStorage,h.storageKey+"-user")),yield h._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const h=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{h&&Ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",h)}catch(f){console.error("removing visibilitychange callback failed",f)}}_startAutoRefresh(){var h=this;return(0,E.A)(function*(){yield h._stopAutoRefresh(),h._debug("#_startAutoRefresh()");const f=setInterval(()=>h._autoRefreshTokenTick(),br);h.autoRefreshTicker=f,f&&"object"==typeof f&&"function"==typeof f.unref?f.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(f),setTimeout((0,E.A)(function*(){yield h.initializePromise,yield h._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._debug("#_stopAutoRefresh()");const f=h.autoRefreshTicker;h.autoRefreshTicker=null,f&&clearInterval(f)})()}startAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._startAutoRefresh()})()}stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._stopAutoRefresh()})()}_autoRefreshTokenTick(){var h=this;return(0,E.A)(function*(){h._debug("#_autoRefreshTokenTick()","begin");try{yield h._acquireLock(0,(0,E.A)(function*(){try{const f=Date.now();try{return yield h._useSession(function(){var k=(0,E.A)(function*(R){const{data:{session:N}}=R;if(!N||!N.refresh_token||!N.expires_at)return void h._debug("#_autoRefreshTokenTick()","no session");const H=Math.floor((1e3*N.expires_at-f)/br);h._debug("#_autoRefreshTokenTick()",`access token expires in ${H} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),H<=3&&(yield h._callRefreshToken(N.refresh_token))});return function(R){return k.apply(this,arguments)}}())}catch(k){console.error("Auto refresh tick failed with error. This is likely a transient error.",k)}}finally{h._debug("#_autoRefreshTokenTick()","end")}}))}catch(f){if(!(f.isAcquireTimeout||f instanceof jn))throw f;h._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var h=this;return(0,E.A)(function*(){if(h._debug("#_handleVisibilityChange()"),!Ft()||!window?.addEventListener)return h.autoRefreshToken&&h.startAutoRefresh(),!1;try{h.visibilityChangedCallback=(0,E.A)(function*(){return yield h._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",h.visibilityChangedCallback),yield h._onVisibilityChanged(!0)}catch(f){console.error("_handleVisibilityChange",f)}})()}_onVisibilityChanged(h){var f=this;return(0,E.A)(function*(){const k=`#_onVisibilityChanged(${h})`;f._debug(k,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(f.autoRefreshToken&&f._startAutoRefresh(),h||(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){"visible"===document.visibilityState?yield f._recoverAndRefresh():f._debug(k,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&f.autoRefreshToken&&f._stopAutoRefresh()})()}_getUrlForProvider(h,f,k){var R=this;return(0,E.A)(function*(){const N=[`provider=${encodeURIComponent(f)}`];if(k?.redirectTo&&N.push(`redirect_to=${encodeURIComponent(k.redirectTo)}`),k?.scopes&&N.push(`scopes=${encodeURIComponent(k.scopes)}`),"pkce"===R.flowType){const[H,G]=yield fo(R.storage,R.storageKey),ue=new URLSearchParams({code_challenge:`${encodeURIComponent(H)}`,code_challenge_method:`${encodeURIComponent(G)}`});N.push(ue.toString())}if(k?.queryParams){const H=new URLSearchParams(k.queryParams);N.push(H.toString())}return k?.skipBrowserRedirect&&N.push(`skip_http_redirect=${k.skipBrowserRedirect}`),`${h}?${N.join("&")}`})()}_unenroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N;const{data:H,error:G}=R;return G?{data:null,error:G}:yield xe(f.fetch,"DELETE",`${f.url}/factors/${h.factorId}`,{headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:null,error:k};throw k}})()}_enroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N,H;const{data:G,error:ue}=R;if(ue)return{data:null,error:ue};const oe=Object.assign({friendly_name:h.friendlyName,factor_type:h.factorType},"phone"===h.factorType?{phone:h.phone}:{issuer:h.issuer}),{data:Ce,error:vt}=yield xe(f.fetch,"POST",`${f.url}/factors`,{body:oe,headers:f.headers,jwt:null===(N=G?.session)||void 0===N?void 0:N.access_token});return vt?{data:null,error:vt}:("totp"===h.factorType&&!(null===(H=Ce?.totp)||void 0===H)&&H.qr_code&&(Ce.totp.qr_code=`data:image/svg+xml;utf-8,${Ce.totp.qr_code}`),{data:Ce,error:null})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:null,error:k};throw k}})()}_verify(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N;const{data:H,error:G}=R;if(G)return{data:null,error:G};const{data:ue,error:oe}=yield xe(f.fetch,"POST",`${f.url}/factors/${h.factorId}/verify`,{body:{code:h.code,challenge_id:h.challengeId},headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token});return oe?{data:null,error:oe}:(yield f._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+ue.expires_in},ue)),yield f._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",ue),{data:ue,error:oe})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:null,error:k};throw k}}))})()}_challenge(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var N;const{data:H,error:G}=R;return G?{data:null,error:G}:yield xe(f.fetch,"POST",`${f.url}/factors/${h.factorId}/challenge`,{body:{channel:h.channel},headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(At(k))return{data:null,error:k};throw k}}))})()}_challengeAndVerify(h){var f=this;return(0,E.A)(function*(){const{data:k,error:R}=yield f._challenge({factorId:h.factorId});return R?{data:null,error:R}:yield f._verify({factorId:h.factorId,challengeId:k.id,code:h.code})})()}_listFactors(){var h=this;return(0,E.A)(function*(){const{data:{user:f},error:k}=yield h.getUser();if(k)return{data:null,error:k};const R=f?.factors||[],N=R.filter(G=>"totp"===G.factor_type&&"verified"===G.status),H=R.filter(G=>"phone"===G.factor_type&&"verified"===G.status);return{data:{all:R,totp:N,phone:H},error:null}})()}_getAuthenticatorAssuranceLevel(){var h=this;return(0,E.A)(function*(){return h._acquireLock(-1,(0,E.A)(function*(){return yield h._useSession(function(){var f=(0,E.A)(function*(k){var R,N;const{data:{session:H},error:G}=k;if(G)return{data:null,error:G};if(!H)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:ue}=Zn(H.access_token);let oe=null;ue.aal&&(oe=ue.aal);let Ce=oe;return(null!==(N=null===(R=H.user.factors)||void 0===R?void 0:R.filter(lt=>"verified"===lt.status))&&void 0!==N?N:[]).length>0&&(Ce="aal2"),{data:{currentLevel:oe,nextLevel:Ce,currentAuthenticationMethods:ue.amr||[]},error:null}});return function(k){return f.apply(this,arguments)}}())}))})()}fetchJwk(h){var f=this;return(0,E.A)(function*(k,R={keys:[]}){let N=R.keys.find(oe=>oe.kid===k);if(N)return N;const H=Date.now();if(N=f.jwks.keys.find(oe=>oe.kid===k),N&&f.jwks_cached_at+6e5>H)return N;const{data:G,error:ue}=yield xe(f.fetch,"GET",`${f.url}/.well-known/jwks.json`,{headers:f.headers});if(ue)throw ue;return G.keys&&0!==G.keys.length&&(f.jwks=G,f.jwks_cached_at=H,N=G.keys.find(oe=>oe.kid===k),N)?N:null}).apply(this,arguments)}getClaims(h){var f=this;return(0,E.A)(function*(k,R={}){try{let N=k;if(!N){const{data:Tt,error:fn}=yield f.getSession();if(fn||!Tt.session)return{data:null,error:fn};N=Tt.session.access_token}const{header:H,payload:G,signature:ue,raw:{header:oe,payload:Ce}}=Zn(N);R?.allowExpired||function Aa(C){if(!C)throw new Error("Missing exp claim");if(C<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(G.exp);const vt=H.alg&&!H.alg.startsWith("HS")&&H.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield f.fetchJwk(H.kid,R?.keys?{keys:R.keys}:R?.jwks):null;if(!vt){const{error:Tt}=yield f.getUser(N);if(Tt)throw Tt;return{data:{claims:G,header:H,signature:ue},error:null}}const mt=function Mr(C){switch(C){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(H.alg),lt=yield crypto.subtle.importKey("jwk",vt,mt,!0,["verify"]);if(!(yield crypto.subtle.verify(mt,lt,ue,function se(C){const g=[];return function Q(C,g){for(let h=0;h<C.length;h+=1){let f=C.charCodeAt(h);if(f>55295&&f<=56319){const k=1024*(f-55296)&65535;f=65536+(C.charCodeAt(h+1)-56320&65535|k),h+=1}S(f,g)}}(C,h=>g.push(h)),new Uint8Array(g)}(`${oe}.${Ce}`))))throw new Dr("Invalid JWT signature");return{data:{claims:G,header:H,signature:ue},error:null}}catch(N){if(At(N))return{data:null,error:N};throw N}}).apply(this,arguments)}}return C.nextInstanceID=0,C})();class T extends A{constructor(g){super(g)}}(function ft(){if(typeof window<"u"||typeof process>"u")return!1;const C=process.version;if(null==C)return!1;const g=C.match(/^v(\d+)\./);return!!g&&parseInt(g[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Mt=V(3757),er=V(2615);const Zo=globalThis,jo=Zo.__supabaseClient??new class U{constructor(g,h,f){var k,R,N;if(this.supabaseUrl=g,this.supabaseKey=h,!g)throw new Error("supabaseUrl is required.");if(!h)throw new Error("supabaseKey is required.");const H=function Do(C){return C.endsWith("/")?C:C+"/"}(g),G=new URL(H);this.realtimeUrl=new URL("realtime/v1",G),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",G),this.storageUrl=new URL("storage/v1",G),this.functionsUrl=new URL("functions/v1",G);const ue=`sb-${G.hostname.split(".")[0]}-auth-token`,Ce=function Co(C,g){var h,f;const{db:k,auth:R,realtime:N,global:H}=C,{db:G,auth:ue,realtime:oe,global:Ce}=g,vt={db:Object.assign(Object.assign({},G),k),auth:Object.assign(Object.assign({},ue),R),realtime:Object.assign(Object.assign({},oe),N),storage:{},global:Object.assign(Object.assign(Object.assign({},Ce),H),{headers:Object.assign(Object.assign({},null!==(h=Ce?.headers)&&void 0!==h?h:{}),null!==(f=H?.headers)&&void 0!==f?f:{})}),accessToken:()=>function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){return""})};return C.accessToken?vt.accessToken=C.accessToken:delete vt.accessToken,vt}(f??{},{db:ur,realtime:Ur,auth:Object.assign(Object.assign({},Yr),{storageKey:ue}),global:Ea});this.storageKey=null!==(k=Ce.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==(R=Ce.global.headers)&&void 0!==R?R:{},Ce.accessToken?(this.accessToken=Ce.accessToken,this.auth=new Proxy({},{get:(vt,mt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(mt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(N=Ce.auth)&&void 0!==N?N:{},this.headers,Ce.global.fetch),this.fetch=_r(h,this._getAccessToken.bind(this),Ce.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Ce.realtime)),this.rest=new re(new URL("rest/v1",G).href,{headers:this.headers,schema:Ce.db.schema,fetch:this.fetch}),this.storage=new Br(this.storageUrl.href,this.headers,this.fetch,f?.storage),Ce.accessToken||this._listenForAuthEvents()}get functions(){return new ge(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,h={},f={}){return this.rest.rpc(g,h,f)}channel(g,h={config:{}}){return this.realtime.channel(g,h)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var g,h;return function(C,g,h,f){return new(h||(h=Promise))(function(R,N){function H(oe){try{ue(f.next(oe))}catch(Ce){N(Ce)}}function G(oe){try{ue(f.throw(oe))}catch(Ce){N(Ce)}}function ue(oe){oe.done?R(oe.value):function k(R){return R instanceof h?R:new h(function(N){N(R)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:f}=yield this.auth.getSession();return null!==(h=null===(g=f.session)||void 0===g?void 0:g.access_token)&&void 0!==h?h:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,storageKey:R,flowType:N,lock:H,debug:G},ue,oe){return new T({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),ue),storageKey:R,autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,flowType:N,lock:H,debug:G,fetch:oe,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(g){return new Vn(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,f)=>{this._handleTokenChanged(h,"CLIENT",f?.access_token)})}_handleTokenChanged(g,h,f){"TOKEN_REFRESHED"!==g&&"SIGNED_IN"!==g||this.changedAccessToken===f?"SIGNED_OUT"===g&&(this.realtime.setAuth(),"STORAGE"==h&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=f}}("https://ymlekirbwjanuxrclsgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltbGVraXJid2phbnV4cmNsc2dmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNjk4OTUsImV4cCI6MjA3MTY0NTg5NX0._a0-aMgphg5_bFCzy7oHhPRkP9Q54dRWGrZN4rzVnHM",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});Zo.__supabaseClient=jo;let bi=(()=>{class C{getCharacter(){return(0,E.A)(function*(){const{data:h,error:f}=yield jo.from("character").select("id,name,type,level").order("id",{ascending:!0});if(f)throw f;return h??[]})()}getUnlockedItems(){return(0,E.A)(function*(){let h=jo.from("craftable_item").select("id").eq("unlocked",!0).order("id",{ascending:!0});const{data:f,error:k}=yield h;if(k)throw k;return f??[]})()}getUnlockedPotions(){return(0,E.A)(function*(){let h=jo.from("craftable_item").select("id").eq("unlocked",!0).eq("type",Mt.o.Small).eq("sub_type","potion").order("id",{ascending:!0});const{data:f,error:k}=yield h;if(k)throw k;return f??[]})()}static \u0275fac=function(f){return new(f||C)};static \u0275prov=er.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},1985:(at,Ee,V)=>{"use strict";V.d(Ee,{c:()=>ie});var E=V(7707),i=V(8359),z=V(3494),M=V(1203),X=V(1026),Z=V(8071),Y=V(9786);let ie=(()=>{class ce{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Pe=new ce;return Pe.source=this,Pe.operator=ye,Pe}subscribe(ye,Pe,He){const ze=function re(ce){return ce&&ce instanceof E.vU||function pe(ce){return ce&&(0,Z.T)(ce.next)&&(0,Z.T)(ce.error)&&(0,Z.T)(ce.complete)}(ce)&&(0,i.Uv)(ce)}(ye)?ye:new E.Ms(ye,Pe,He);return(0,Y.Y)(()=>{const{operator:Ge,source:We}=this;ze.add(Ge?Ge.call(ze,We):We?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Pe){ye.error(Pe)}}forEach(ye,Pe){return new(Pe=ge(Pe))((He,ze)=>{const Ge=new E.Ms({next:We=>{try{ye(We)}catch(bt){ze(bt),Ge.unsubscribe()}},error:ze,complete:He});this.subscribe(Ge)})}_subscribe(ye){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(ye)}[z.s](){return this}pipe(...ye){return(0,M.m)(ye)(this)}toPromise(ye){return new(ye=ge(ye))((Pe,He)=>{let ze;this.subscribe(Ge=>ze=Ge,Ge=>He(Ge),()=>Pe(ze))})}}return ce.create=de=>new ce(de),ce})();function ge(ce){var de;return null!==(de=ce??X.$.Promise)&&void 0!==de?de:Promise}},2200:(at,Ee,V)=>{"use strict";V.d(Ee,{Jj:()=>At,MD:()=>Da,Sq:()=>cr,YU:()=>Ur,bT:()=>Gn,fw:()=>Z,vh:()=>kr});var E=V(2615),i=V(3664),z=V(7705),M=V(3597),X=V(7303);let Z=(()=>{class S extends X.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(F,$){super(),this._platformLocation=F,null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(F){const $=(0,X.om)(this._baseHref,F);return $.length>0?"#"+$:$}pushState(F,$,se,Ie){const Qe=this.prepareExternalUrl(se+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.pushState(F,$,Qe)}replaceState(F,$,se,Ie){const Qe=this.prepareExternalUrl(se+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.replaceState(F,$,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static \u0275fac=function($){return new($||S)(E.KVO(X.Vw),E.KVO(X.kB,8))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac})}return S})();var pe=function(S){return S[S.Format=0]="Format",S[S.Standalone=1]="Standalone",S}(pe||{}),re=function(S){return S[S.Narrow=0]="Narrow",S[S.Abbreviated=1]="Abbreviated",S[S.Wide=2]="Wide",S[S.Short=3]="Short",S}(re||{}),ce=function(S){return S[S.Short=0]="Short",S[S.Medium=1]="Medium",S[S.Long=2]="Long",S[S.Full=3]="Full",S}(ce||{});function Te(S,Q){return Re((0,i.kBR)(S)[i.NSC.DateFormat],Q)}function Se(S,Q){return Re((0,i.kBR)(S)[i.NSC.TimeFormat],Q)}function Ve(S,Q){return Re((0,i.kBR)(S)[i.NSC.DateTimeFormat],Q)}function Fe(S,Q){const F=(0,i.kBR)(S),$=F[i.NSC.NumberSymbols][Q];if(typeof $>"u"){if(12===Q)return F[i.NSC.NumberSymbols][0];if(13===Q)return F[i.NSC.NumberSymbols][1]}return $}function _n(S){if(!S[i.NSC.ExtraData])throw new E.buA(2303,!1)}function Re(S,Q){for(let F=Q;F>-1;F--)if(typeof S[F]<"u")return S[F];throw new E.buA(2304,!1)}function Ke(S){const[Q,F]=S.split(":");return{hours:+Q,minutes:+F}}const ve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,De={},Le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ct(S,Q,F,$){let se=function yr(S){if(vr(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[se,Ie=1,Qe=1]=S.split("-").map(st=>+st);return qt(se,Ie-1,Qe)}const F=parseFloat(S);if(!isNaN(S-F))return new Date(F);let $;if($=S.match(ve))return function gr(S){const Q=new Date(0);let F=0,$=0;const se=S[8]?Q.setUTCFullYear:Q.setFullYear,Ie=S[8]?Q.setUTCHours:Q.setHours;S[9]&&(F=Number(S[9]+S[10]),$=Number(S[9]+S[11])),se.call(Q,Number(S[1]),Number(S[2])-1,Number(S[3]));const Qe=Number(S[4]||0)-F,st=Number(S[5]||0)-$,Ft=Number(S[6]||0),Pt=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return Ie.call(Q,Qe,st,Ft,Pt),Q}($)}const Q=new Date(S);if(!vr(Q))throw new E.buA(2302,!1);return Q}(S);Q=me(F,Q)||Q;let st,Qe=[];for(;Q;){if(st=Le.exec(Q),!st){Qe.push(Q);break}{Qe=Qe.concat(st.slice(1));const $t=Qe.pop();if(!$t)break;Q=$t}}let Ft=se.getTimezoneOffset();$&&(Ft=bo($,Ft),se=function Rn(S,Q){const se=S.getTimezoneOffset();return function Ro(S,Q){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+Q),S}(S,-1*(bo(Q,se)-se))}(se,$));let Pt="";return Qe.forEach($t=>{const jt=function la(S){if(Fr[S])return Fr[S];let Q;switch(S){case"G":case"GG":case"GGG":Q=kt(3,re.Abbreviated);break;case"GGGG":Q=kt(3,re.Wide);break;case"GGGGG":Q=kt(3,re.Narrow);break;case"y":Q=Ue(0,1,0,!1,!0);break;case"yy":Q=Ue(0,2,0,!0,!0);break;case"yyy":Q=Ue(0,3,0,!1,!0);break;case"yyyy":Q=Ue(0,4,0,!1,!0);break;case"Y":Q=Lr(1);break;case"YY":Q=Lr(2,!0);break;case"YYY":Q=Lr(3);break;case"YYYY":Q=Lr(4);break;case"M":case"L":Q=Ue(1,1,1);break;case"MM":case"LL":Q=Ue(1,2,1);break;case"MMM":Q=kt(2,re.Abbreviated);break;case"MMMM":Q=kt(2,re.Wide);break;case"MMMMM":Q=kt(2,re.Narrow);break;case"LLL":Q=kt(2,re.Abbreviated,pe.Standalone);break;case"LLLL":Q=kt(2,re.Wide,pe.Standalone);break;case"LLLLL":Q=kt(2,re.Narrow,pe.Standalone);break;case"w":Q=Ut(1);break;case"ww":Q=Ut(2);break;case"W":Q=Ut(1,!0);break;case"d":Q=Ue(2,1);break;case"dd":Q=Ue(2,2);break;case"c":case"cc":Q=Ue(7,1);break;case"ccc":Q=kt(1,re.Abbreviated,pe.Standalone);break;case"cccc":Q=kt(1,re.Wide,pe.Standalone);break;case"ccccc":Q=kt(1,re.Narrow,pe.Standalone);break;case"cccccc":Q=kt(1,re.Short,pe.Standalone);break;case"E":case"EE":case"EEE":Q=kt(1,re.Abbreviated);break;case"EEEE":Q=kt(1,re.Wide);break;case"EEEEE":Q=kt(1,re.Narrow);break;case"EEEEEE":Q=kt(1,re.Short);break;case"a":case"aa":case"aaa":Q=kt(0,re.Abbreviated);break;case"aaaa":Q=kt(0,re.Wide);break;case"aaaaa":Q=kt(0,re.Narrow);break;case"b":case"bb":case"bbb":Q=kt(0,re.Abbreviated,pe.Standalone,!0);break;case"bbbb":Q=kt(0,re.Wide,pe.Standalone,!0);break;case"bbbbb":Q=kt(0,re.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":Q=kt(0,re.Abbreviated,pe.Format,!0);break;case"BBBB":Q=kt(0,re.Wide,pe.Format,!0);break;case"BBBBB":Q=kt(0,re.Narrow,pe.Format,!0);break;case"h":Q=Ue(3,1,-12);break;case"hh":Q=Ue(3,2,-12);break;case"H":Q=Ue(3,1);break;case"HH":Q=Ue(3,2);break;case"m":Q=Ue(4,1);break;case"mm":Q=Ue(4,2);break;case"s":Q=Ue(5,1);break;case"ss":Q=Ue(5,2);break;case"S":Q=Ue(6,1);break;case"SS":Q=Ue(6,2);break;case"SSS":Q=Ue(6,3);break;case"Z":case"ZZ":case"ZZZ":Q=zt(0);break;case"ZZZZZ":Q=zt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=zt(1);break;case"OOOO":case"ZZZZ":case"zzzz":Q=zt(2);break;default:return null}return Fr[S]=Q,Q}($t);Pt+=jt?jt(se,F,Ft):"''"===$t?"'":$t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pt}function qt(S,Q,F){const $=new Date(0);return $.setFullYear(S,Q,F),$.setHours(0,0,0),$}function me(S,Q){const F=function Pe(S){return(0,i.kBR)(S)[i.NSC.LocaleId]}(S);if(De[F]??={},De[F][Q])return De[F][Q];let $="";switch(Q){case"shortDate":$=Te(S,ce.Short);break;case"mediumDate":$=Te(S,ce.Medium);break;case"longDate":$=Te(S,ce.Long);break;case"fullDate":$=Te(S,ce.Full);break;case"shortTime":$=Se(S,ce.Short);break;case"mediumTime":$=Se(S,ce.Medium);break;case"longTime":$=Se(S,ce.Long);break;case"fullTime":$=Se(S,ce.Full);break;case"short":const se=me(S,"shortTime"),Ie=me(S,"shortDate");$=Be(Ve(S,ce.Short),[se,Ie]);break;case"medium":const Qe=me(S,"mediumTime"),st=me(S,"mediumDate");$=Be(Ve(S,ce.Medium),[Qe,st]);break;case"long":const Ft=me(S,"longTime"),Pt=me(S,"longDate");$=Be(Ve(S,ce.Long),[Ft,Pt]);break;case"full":const $t=me(S,"fullTime"),jt=me(S,"fullDate");$=Be(Ve(S,ce.Full),[$t,jt])}return $&&(De[F][Q]=$),$}function Be(S,Q){return Q&&(S=S.replace(/\{([^}]+)}/g,function(F,$){return null!=Q&&$ in Q?Q[$]:F})),S}function Xe(S,Q,F="-",$,se){let Ie="";(S<0||se&&S<=0)&&(se?S=1-S:(S=-S,Ie=F));let Qe=String(S);for(;Qe.length<Q;)Qe="0"+Qe;return $&&(Qe=Qe.slice(Qe.length-Q)),Ie+Qe}function Ue(S,Q,F=0,$=!1,se=!1){return function(Ie,Qe){let st=function Wt(S,Q){switch(S){case 0:return Q.getFullYear();case 1:return Q.getMonth();case 2:return Q.getDate();case 3:return Q.getHours();case 4:return Q.getMinutes();case 5:return Q.getSeconds();case 6:return Q.getMilliseconds();case 7:return Q.getDay();default:throw new E.buA(2301,!1)}}(S,Ie);if((F>0||st>-F)&&(st+=F),3===S)0===st&&-12===F&&(st=12);else if(6===S)return function pt(S,Q){return Xe(S,3).substring(0,Q)}(st,Q);const Ft=Fe(Qe,5);return Xe(st,Q,Ft,$,se)}}function kt(S,Q,F=pe.Format,$=!1){return function(se,Ie){return function ln(S,Q,F,$,se,Ie){switch(F){case 2:return function Ge(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.MonthsFormat],$[i.NSC.MonthsStandalone]],Q);return Re(Ie,F)}(Q,se,$)[S.getMonth()];case 1:return function ze(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.DaysFormat],$[i.NSC.DaysStandalone]],Q);return Re(Ie,F)}(Q,se,$)[S.getDay()];case 0:const Qe=S.getHours(),st=S.getMinutes();if(Ie){const Pt=function sr(S){const Q=(0,i.kBR)(S);return _n(Q),(Q[i.NSC.ExtraData][2]||[]).map($=>"string"==typeof $?Ke($):[Ke($[0]),Ke($[1])])}(Q),$t=function Bt(S,Q,F){const $=(0,i.kBR)(S);_n($);const Ie=Re([$[i.NSC.ExtraData][0],$[i.NSC.ExtraData][1]],Q)||[];return Re(Ie,F)||[]}(Q,se,$),jt=Pt.findIndex(dn=>{if(Array.isArray(dn)){const[en,mn]=dn,Fn=Qe>=en.hours&&st>=en.minutes,Qn=Qe<mn.hours||Qe===mn.hours&&st<mn.minutes;if(en.hours<mn.hours){if(Fn&&Qn)return!0}else if(Fn||Qn)return!0}else if(dn.hours===Qe&&dn.minutes===st)return!0;return!1});if(-1!==jt)return $t[jt]}return function He(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.DayPeriodsFormat],$[i.NSC.DayPeriodsStandalone]],Q);return Re(Ie,F)}(Q,se,$)[Qe<12?0:1];case 3:return function We(S,Q){return Re((0,i.kBR)(S)[i.NSC.Eras],Q)}(Q,$)[S.getFullYear()<=0?0:1];default:throw new E.buA(2302,!1)}}(se,Ie,S,Q,F,$)}}function zt(S){return function(Q,F,$){const se=-1*$,Ie=Fe(F,5),Qe=se>0?Math.floor(se/60):Math.ceil(se/60);switch(S){case 0:return(se>=0?"+":"")+Xe(Qe,2,Ie)+Xe(Math.abs(se%60),2,Ie);case 1:return"GMT"+(se>=0?"+":"")+Xe(Qe,1,Ie);case 2:return"GMT"+(se>=0?"+":"")+Xe(Qe,2,Ie)+":"+Xe(Math.abs(se%60),2,Ie);case 3:return 0===$?"Z":(se>=0?"+":"")+Xe(Qe,2,Ie)+":"+Xe(Math.abs(se%60),2,Ie);default:throw new E.buA(2302,!1)}}}const Gr=0,Nr=4;function un(S){const Q=S.getDay(),F=0===Q?-3:Nr-Q;return qt(S.getFullYear(),S.getMonth(),S.getDate()+F)}function Ut(S,Q=!1){return function(F,$){let se;if(Q){const Ie=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Qe=F.getDate();se=1+Math.floor((Qe+Ie)/7)}else{const Ie=un(F),Qe=function Vn(S){const Q=qt(S,Gr,1).getDay();return qt(S,0,1+(Q<=Nr?Nr:Nr+7)-Q)}(Ie.getFullYear()),st=Ie.getTime()-Qe.getTime();se=1+Math.round(st/6048e5)}return Xe(se,S,Fe($,5))}}function Lr(S,Q=!1){return function(F,$){return Xe(un(F).getFullYear(),S,Fe($,5),Q)}}const Fr={};function bo(S,Q){S=S.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(F)?Q:F}function vr(S){return S instanceof Date&&!isNaN(S.valueOf())}const ur=/\s+/,Yr=[];let Ur=(()=>{class S{_ngEl;_renderer;initialClasses=Yr;rawClass;stateMap=new Map;constructor(F,$){this._ngEl=F,this._renderer=$}set klass(F){this.initialClasses=null!=F?F.trim().split(ur):Yr}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(ur):F}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const $ of F)this._updateState($,!0);else if(null!=F)for(const $ of Object.keys(F))this._updateState($,!!F[$]);this._applyStateDiff()}_updateState(F,$){const se=this.stateMap.get(F);void 0!==se?(se.enabled!==$&&(se.changed=!0,se.enabled=$),se.touched=!0):this.stateMap.set(F,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const $=F[0],se=F[1];se.changed?(this._toggleClass($,se.enabled),se.changed=!1):se.touched||(se.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),se.touched=!1}}_toggleClass(F,$){(F=F.trim()).length>0&&F.split(ur).forEach(se=>{$?this._renderer.addClass(this._ngEl.nativeElement,se):this._renderer.removeClass(this._ngEl.nativeElement,se)})}static \u0275fac=function($){return new($||S)(i.rXU(i.aKT),i.rXU(i.sFG))};static \u0275dir=i.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return S})();class ka{$implicit;ngForOf;index;count;constructor(Q,F,$,se){this.$implicit=Q,this.ngForOf=F,this.index=$,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class S{_viewContainer;_template;_differs;set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(F,$,se){this._viewContainer=F,this._template=$,this._differs=se}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const $=this._viewContainer;F.forEachOperation((se,Ie,Qe)=>{if(null==se.previousIndex)$.createEmbeddedView(this._template,new ka(se.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)$.remove(null===Ie?void 0:Ie);else if(null!==Ie){const st=$.get(Ie);$.move(st,Qe),_r(st,se)}});for(let se=0,Ie=$.length;se<Ie;se++){const st=$.get(se).context;st.index=se,st.count=Ie,st.ngForOf=this._ngForOf}F.forEachIdentityChange(se=>{_r($.get(se.currentIndex),se)})}static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(z._q3))};static \u0275dir=i.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return S})();function _r(S,Q){S.context.$implicit=Q.item}let Gn=(()=>{class S{_viewContainer;_context=new Do;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(F,$){this._viewContainer=F,this._thenTemplateRef=$}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Vr(F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Vr(F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q))};static \u0275dir=i.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return S})();class Do{$implicit=null;ngIf=null}function Vr(S,Q){if(S&&!S.createEmbeddedView)throw new E.buA(2020,!1)}function fe(S,Q){return new E.buA(2100,!1)}class Er{createSubscription(Q,F,$){return(0,M.O8)(()=>Q.subscribe({next:F,error:$}))}dispose(Q){(0,M.O8)(()=>Q.unsubscribe())}}class No{createSubscription(Q,F,$){return Q.then(se=>F?.(se),se=>$?.(se)),{unsubscribe:()=>{F=null,$=null}}}dispose(Q){Q.unsubscribe()}}const nr=new No,$r=new Er;let At=(()=>{class S{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,E.WQX)(E.ZTf);constructor(F){this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){if(!this._obj){if(F)try{this.markForCheckOnValueUpdate=!1,this._subscribe(F)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,$=>this._updateLatestValue(F,$),$=>this.applicationErrorHandler($))}_selectStrategy(F){if((0,i.yLl)(F))return nr;if((0,i.cdK)(F))return $r;throw fe()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,$){F===this._obj&&(this._latestValue=$,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function($){return new($||S)(i.rXU(z.gRc,16))};static \u0275pipe=i.EJ8({name:"async",type:S,pure:!1})}return S})();const Lo=new E.nKC(""),Hr=new E.nKC("");let kr=(()=>{class S{locale;defaultTimezone;defaultOptions;constructor(F,$,se){this.locale=F,this.defaultTimezone=$,this.defaultOptions=se}transform(F,$,se,Ie){if(null==F||""===F||F!=F)return null;try{return ct(F,$??this.defaultOptions?.dateFormat??"mediumDate",Ie||this.locale,se??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Qe){throw fe()}}static \u0275fac=function($){return new($||S)(i.rXU(i.xe9,16),i.rXU(Lo,24),i.rXU(Hr,24))};static \u0275pipe=i.EJ8({name:"date",type:S,pure:!0})}return S})(),Da=(()=>{class S{static \u0275fac=function($){return new($||S)};static \u0275mod=i.$C({type:S});static \u0275inj=E.G2t({})}return S})()},2615:(at,Ee,V)=>{"use strict";let E;function i(){return E}function z(_){const O=E;return E=_,O}V.d(Ee,{JEi:()=>Xa,EJG:()=>wt,Yrj:()=>Lt,VVG:()=>he,Y20:()=>yo,SKP:()=>Ae,hk6:()=>ns,eVN:()=>Bo,b5C:()=>hn,rQE:()=>Yt,X5O:()=>tt,qFA:()=>Qo,qQL:()=>jl,abz:()=>js,tQN:()=>Mn,pcR:()=>Rt,oMQ:()=>xr,Mlv:()=>qn,MZA:()=>uo,M0L:()=>xe,Z63:()=>rr,VML:()=>Vs,uvJ:()=>po,zcH:()=>Ti,Wg1:()=>tn,Yw1:()=>kn,jgP:()=>no,tcA:()=>q,ID:()=>pn,YEL:()=>je,B9r:()=>co,GBX:()=>mn,ZTf:()=>Vo,nKC:()=>Vn,zZn:()=>ts,rJ1:()=>G,nfM:()=>ha,s6P:()=>Xo,K29:()=>D,CQl:()=>Wn,p9y:()=>jr,zSs:()=>Kt,ONQ:()=>Nr,hmW:()=>zo,yAH:()=>Gr,KXn:()=>Bl,oTH:()=>Dr,Czx:()=>rn,f7T:()=>j,wVl:()=>cn,GYQ:()=>yp,u5s:()=>oi,rev:()=>zl,Ds7:()=>bn,e5P:()=>hr,Iaj:()=>Tn,GpT:()=>dt,buA:()=>de,AQb:()=>pc,jNX:()=>H,eDl:()=>Tr,qlT:()=>P,bm_:()=>Vi,r4V:()=>Wl,ok8:()=>ce,Evm:()=>Gd,Jy$:()=>Hl,laP:()=>He,EYC:()=>Zr,ng7:()=>$r,llW:()=>Lo,gsJ:()=>Jn,GZS:()=>ft,iYM:()=>ve,PEr:()=>C,z7f:()=>Le,LZP:()=>ct,Xln:()=>_n,yzR:()=>jo,TWe:()=>bi,LIA:()=>vn,GWr:()=>ae,pbo:()=>le,bBq:()=>er,Af3:()=>Mr,zQk:()=>g,oZy:()=>h,tF7:()=>it,ZFY:()=>Vr,cP4:()=>go,MdC:()=>Zo,XvL:()=>Re,KET:()=>Mt,Tkx:()=>N,iw4:()=>sr,tdH:()=>$o,pr_:()=>me,IAh:()=>lr,U45:()=>et,WrV:()=>Vt,kNT:()=>qt,MI:()=>R,biv:()=>k,ZQF:()=>Bt,Cv0:()=>In,W0r:()=>ne,R2n:()=>U,O8q:()=>T,VKj:()=>A,Rom:()=>w,z6V:()=>Er,n$e:()=>Te,hjC:()=>Jr,Pz9:()=>Fl,PQT:()=>An,VX4:()=>io,_Z$:()=>ao,N79:()=>Hd,xLP:()=>lo,zuh:()=>qr,BI7:()=>ua,U7d:()=>gr,uXy:()=>vr,nZS:()=>yr,ihb:()=>ti,ID8:()=>uc,gv8:()=>xi,dwj:()=>bt,Bqz:()=>At,OsK:()=>Pe,Rfq:()=>Fe,c$7:()=>Rl,gxQ:()=>Il,ckz:()=>Ma,kLh:()=>We,xUg:()=>or,KdJ:()=>fn,db4:()=>Dt,VPL:()=>ic,MT:()=>Xi,Z9v:()=>Za,Ab:()=>qi,w7Z:()=>pa,Mx4:()=>Gi,veI:()=>Ci,HaV:()=>ho,Agf:()=>Sr,znI:()=>$d,wGu:()=>nr,ebl:()=>zt,OAn:()=>zi,_0$:()=>Ei,UaU:()=>oo,vaC:()=>Ce,d31:()=>vt,ZRn:()=>mt,phH:()=>mo,WbQ:()=>Cr,WB9:()=>Zn,d_l:()=>Al,vNG:()=>xs,oyA:()=>da,_px:()=>Nl,CpD:()=>Zi,XRZ:()=>lt,klJ:()=>Rs,Fje:()=>Ya,b$O:()=>Kd,SMZ:()=>Ge,WQX:()=>On,MzJ:()=>Do,jXY:()=>$,MME:()=>en,JlV:()=>Jo,Qs1:()=>gi,srX:()=>Yo,vOT:()=>on,YWB:()=>Tl,EPY:()=>Ms,yoD:()=>La,P3H:()=>xl,Jzi:()=>It,rFz:()=>Wd,JjR:()=>Qi,M6u:()=>Aa,KtD:()=>Hi,muV:()=>Wt,A0l:()=>Dn,q$2:()=>Fo,yP_:()=>zd,EFk:()=>vi,Hps:()=>Vl,UhH:()=>Wi,QuC:()=>Da,Y3W:()=>dn,n$r:()=>$l,K7h:()=>kr,FRF:()=>eo,ezK:()=>Hr,m7n:()=>es,niQ:()=>Ol,krE:()=>Is,bll:()=>Ji,Hh6:()=>nt,EmA:()=>S,blu:()=>wi,HAh:()=>Ao,WfI:()=>Pn,xbp:()=>ja,jvu:()=>Pl,lQ1:()=>Us,Rc9:()=>Sa,E6O:()=>Yn,DyX:()=>nc,eFE:()=>Ko,dMS:()=>Qt,HUe:()=>Cn,nl4:()=>qe,N4e:()=>Qa,XaM:()=>tr,Kw3:()=>Os,vQI:()=>Ns,RZ9:()=>ei,GA0:()=>Yi,iMd:()=>oc,Pfq:()=>ac,xyx:()=>Ps,a2B:()=>Gn,kcM:()=>Ro,DFp:()=>Lr,P2g:()=>sc,cBl:()=>lc,ypq:()=>Ll,vPA:()=>Bs,HO5:()=>hc,M_e:()=>Tt,B22:()=>Ml,ik5:()=>Ts,AsM:()=>_e,PP7:()=>Go,$8:()=>De,$Hz:()=>Yr,zAe:()=>oe,IvY:()=>ue,_gW:()=>tc,F1c:()=>yn,ITl:()=>ar,brz:()=>Ie,jRZ:()=>wn,SX7:()=>ni,jDH:()=>Be,G2t:()=>pt,fuf:()=>rc,cSN:()=>Ja,KVO:()=>wr,dmw:()=>mr,joV:()=>ta,By9:()=>ea,qSk:()=>Gt,Njj:()=>Ki,eBV:()=>Di});const X=Symbol("NotFound");function Y(_){return _===X||"\u0275NotFound"===_?.name}Error;var ie=V(8440),ge=V(4412),pe=V(1985);const ce="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class de extends Error{code;constructor(O,K){super(Pe(O,K)),this.code=O}}function Pe(_,O){return`${function ye(_){return`NG0${Math.abs(_)}`}(_)}${O?": "+O:""}`}const He=globalThis;function Ge(){return!1}function We(_){for(let O in _)if(_[O]===We)return O;throw Error("")}function bt(_,O){for(const K in O)O.hasOwnProperty(K)&&!_.hasOwnProperty(K)&&(_[K]=O[K])}function _e(_){if("string"==typeof _)return _;if(Array.isArray(_))return`[${_.map(_e).join(", ")}]`;if(null==_)return""+_;const O=_.overriddenName||_.name;if(O)return`${O}`;const K=_.toString();if(null==K)return""+K;const ke=K.indexOf("\n");return ke>=0?K.slice(0,ke):K}function Te(_,O){return _?O?`${_} ${O}`:_:O||""}const Ve=We({__forward_ref__:We});function Fe(_){return _.__forward_ref__=Fe,_.toString=function(){return _e(this())},_}function qe(_){return It(_)?_():_}function It(_){return"function"==typeof _&&_.hasOwnProperty(Ve)&&_.__forward_ref__===Fe}function et(_,O){"number"!=typeof _&&De(O,typeof _,"number","===")}function Vt(_,O,K){et(_,"Expected a number"),function Ke(_,O,K){_<=O||De(K,_,O,"<=")}(_,K,"Expected number to be less than or equal to"),le(_,O,"Expected number to be greater than or equal to")}function In(_,O){"string"!=typeof _&&De(O,null===_?"null":typeof _,"string","===")}function vn(_,O){"function"!=typeof _&&De(O,null===_?"null":typeof _,"function","===")}function _n(_,O,K){_!=O&&De(K,_,O,"==")}function sr(_,O,K){_==O&&De(K,_,O,"!=")}function Bt(_,O,K){_!==O&&De(K,_,O,"===")}function lr(_,O,K){_===O&&De(K,_,O,"!==")}function Re(_,O,K){_<O||De(K,_,O,"<")}function ae(_,O,K){_>O||De(K,_,O,">")}function le(_,O,K){_>=O||De(K,_,O,">=")}function ve(_,O){null==_&&De(O,_,null,"!=")}function De(_,O,K,ke){throw new Error(`ASSERTION ERROR: ${_}`+(null==ke?"":` [Expected=> ${K} ${ke} ${O} <=Actual]`))}function Le(_){_ instanceof Node||De(`The provided value must be an instance of a DOM Node but got ${_e(_)}`)}function ct(_){_ instanceof Element||De(`The provided value must be an element but got ${_e(_)}`)}function it(_,O){ve(_,"Array must be defined.");const K=_.length;(O<0||O>=K)&&De(`Index expected to be less than ${K} but got ${O}`)}function qt(_,...O){if(-1!==O.indexOf(_))return!0;De(`Expected value to be one of ${JSON.stringify(O)} but was ${JSON.stringify(_)}.`)}function me(_){null!==(0,ie.nR)()&&De(`${_}() should never be called in a reactive context.`)}function Be(_){return{token:_.token,providedIn:_.providedIn||null,factory:_.factory,value:void 0}}function pt(_){return{providers:_.providers||[],imports:_.imports||[]}}function Ue(_){return function kt(_,O){return _.hasOwnProperty(O)&&_[O]||null}(_,Gr)}function Wt(_){return null!==Ue(_)}function zt(_){return _&&_.hasOwnProperty(Nr)?_[Nr]:null}const Gr=We({\u0275prov:We}),Nr=We({\u0275inj:We});class Vn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(O,K){this._desc=O,this.\u0275prov=void 0,"number"==typeof K?this.__NG_ELEMENT_ID__=K:void 0!==K&&(this.\u0275prov=Be({token:this,providedIn:K.providedIn||"root",factory:K.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let un;function Ut(){return De("getInjectorProfilerContext should never be called in production mode"),un}function Lr(_){De("setInjectorProfilerContext should never be called in production mode");const O=un;return un=_,O}const Fr=[],la=()=>{};function Ro(_){return De("setInjectorProfiler should never be called in production mode"),null!==_?(Fr.includes(_)||Fr.push(_),()=>function bo(_){const O=Fr.indexOf(_);-1!==O&&Fr.splice(O,1)}(_)):(Fr.length=0,la)}function Rn(_){De("Injector profiler should never be called in production mode");for(let O=0;O<Fr.length;O++)(0,Fr[O])(_)}function yr(_,O=!1){let K;De("Injector profiler should never be called in production mode"),K="function"==typeof _||_ instanceof Vn?_:qe(_.provide);let ke=_;_ instanceof Vn&&(ke=_.\u0275prov||_),Rn({type:2,context:Ut(),providerRecord:{token:K,provider:ke,isViewProvider:O}})}function gr(_){De("Injector profiler should never be called in production mode"),Rn({type:4,context:Ut(),token:_})}function vr(_){De("Injector profiler should never be called in production mode"),Rn({type:1,context:Ut(),instance:{value:_}})}function ua(_,O,K){De("Injector profiler should never be called in production mode"),Rn({type:0,context:Ut(),service:{token:_,value:O,flags:K}})}function qr(_){De("Injector profiler should never be called in production mode"),Rn({type:3,context:Ut(),effect:_})}function tr(_,O,K){De("runInInjectorProfilerContext should never be called in production mode");const ke=Lr({injector:_,token:O});try{K()}finally{Lr(ke)}}function Hn(_){return _&&!!_.\u0275providers}const Wn=We({\u0275cmp:We}),wo=We({\u0275dir:We}),Oo=We({\u0275pipe:We}),zo=We({\u0275mod:We}),Kt=We({\u0275fac:We}),jr=We({__NG_ELEMENT_ID__:We}),Qr=We({__NG_ENV_ID__:We});function Ko(_){return"string"==typeof _?_:null==_?"":String(_)}function Go(_){return"function"==typeof _?_.name||_.toString():"object"==typeof _&&null!=_&&"function"==typeof _.type?_.type.name||_.type.toString():Ko(_)}function ao(_){let O=_[Wn]||null;return null!==O&&O.debugInfo?function zn(_){return _.filePath&&_.lineNumber?`${_.className} (at ${_.filePath}:${_.lineNumber})`:_.className}(O.debugInfo):Go(_)}const Xr=We({ngErrorCode:We}),Br=We({ngErrorMessage:We}),Kn=We({ngTokenPath:We});function An(_,O){return ko("",-200,O)}function io(_,O){return function Eo(_,O){return _.message=function cr(_,O,K=[],ke=null){let Ne="";K&&K.length>1&&(Ne=` Path: ${K.join(" -> ")}.`);return Pe(O,`${_}${ke?` Source: ${ke}.`:""}${Ne}`)}(_[Br]||_.message,_[Xr],_[Kn],O),_}(An(0,O),null)}function Yr(_,O){throw new de(-201,!1)}function ko(_,O,K){const ke=new de(O,_);return ke[Xr]=O,ke[Br]=_,K&&(ke[Kn]=K),ke}let _r;function Xt(){return _r}function Gn(_){const O=_r;return _r=_,O}function Do(_,O,K){const ke=Ue(_);return ke&&"root"==ke.providedIn?void 0===ke.value?ke.value=ke.factory():ke.value:8&K?null:void 0!==O?O:void Yr()}function Vr(_){}const dr={},br="__NG_DI_FLAG__";class ca{injector;constructor(O){this.injector=O}retrieve(O,K){const ke=Jr(K)||0;try{return this.injector.get(O,8&ke?null:dr,ke)}catch(Ne){if(Y(Ne))return Ne;throw Ne}}}function so(_,O=0){const K=i();if(void 0===K)throw new de(-203,!1);if(null===K)return Do(_,void 0,O);{const ke=function Po(_){return{optional:!!(8&_),host:!!(1&_),self:!!(2&_),skipSelf:!!(4&_)}}(O),Ne=K.retrieve(_,ke);if(Y(Ne)){if(ke.optional)return null;throw Ne}return Ne}}function wr(_,O=0){return(Xt()||so)(qe(_),O)}function mr(_){throw new de(202,!1)}function On(_,O){return wr(_,Jr(O))}function Jr(_){return typeof _>"u"||"number"==typeof _?_:0|(_.optional&&8)|(_.host&&1)|(_.self&&2)|(_.skipSelf&&4)}function fe(_){const O=[];for(let K=0;K<_.length;K++){const ke=qe(_[K]);if(Array.isArray(ke)){if(0===ke.length)throw new de(900,!1);let Ne,rt=0;for(let an=0;an<ke.length;an++){const Ir=ke[an],xn=No(Ir);"number"==typeof xn?-1===xn?Ne=Ir.token:rt|=xn:Ne=Ir}O.push(wr(Ne,rt))}else O.push(wr(ke))}return O}function Er(_,O){return _[br]=O,_.prototype[br]=O,_}function No(_){return _[br]}function nr(_,O){return _.hasOwnProperty(Kt)?_[Kt]:null}function $r(_,O,K){if(_.length!==O.length)return!1;for(let ke=0;ke<_.length;ke++){let Ne=_[ke],rt=O[ke];if(K&&(Ne=K(Ne),rt=K(rt)),rt!==Ne)return!1}return!0}function At(_){return _.flat(Number.POSITIVE_INFINITY)}function lo(_,O){_.forEach(K=>Array.isArray(K)?lo(K,O):O(K))}function Zr(_,O,K){O>=_.length?_.push(K):_.splice(O,0,K)}function Yn(_,O){return O>=_.length-1?_.pop():_.splice(O,1)[0]}function Pn(_,O){const K=[];for(let ke=0;ke<_;ke++)K.push(O);return K}function Jn(_,O,K){const ke=_.length-K;for(;O<ke;)_[O]=_[O+K],O++;for(;K--;)_.pop()}function Lo(_,O,K,ke){let Ne=_.length;if(Ne==O)_.push(K,ke);else if(1===Ne)_.push(ke,_[0]),_[0]=K;else{for(Ne--,_.push(_[Ne-1],_[Ne]);Ne>O;)_[Ne]=_[Ne-2],Ne--;_[O]=K,_[O+1]=ke}}function Hr(_,O,K){let ke=eo(_,O);return ke>=0?_[1|ke]=K:(ke=~ke,Lo(_,ke,O,K)),ke}function kr(_,O){const K=eo(_,O);if(K>=0)return _[1|K]}function eo(_,O){return function qo(_,O,K){let ke=0,Ne=_.length>>K;for(;Ne!==ke;){const rt=ke+(Ne-ke>>1),an=_[rt<<K];if(O===an)return rt<<K;an>O?Ne=rt:ke=rt+1}return~(Ne<<K)}(_,O,1)}const uo={},qn=[],rr=new Vn(""),Wr=new Vn("",-1),co=new Vn("");class Dr{get(O,K=dr){if(K===dr){const Ne=ko("",-201);throw Ne.name="\u0275NotFound",Ne}return K}}function mo(_){return _[zo]||null}function Cr(_){const O=mo(_);if(!O)throw new de(915,!1);return O}function or(_){return _[Wn]||null}function Sr(_){const O=ho(_);if(!O)throw new de(916,!1);return O}function ho(_){return _[wo]||null}function da(_){return _[Oo]||null}function Da(_){const O=or(_)||ho(_)||da(_);return null!==O&&O.standalone}function S(_){return{\u0275providers:_}}function F(..._){return{\u0275providers:$(0,_),\u0275fromNgModule:!0}}function $(_,...O){const K=[],ke=new Set;let Ne;const rt=an=>{K.push(an)};return lo(O,an=>{const Ir=an;Ie(Ir,rt,[],ke)&&(Ne||=[],Ne.push(Ir))}),void 0!==Ne&&se(Ne,rt),K}function se(_,O){for(let K=0;K<_.length;K++){const{ngModule:ke,providers:Ne}=_[K];st(Ne,rt=>{O(rt,ke)})}}function Ie(_,O,K,ke){if(!(_=qe(_)))return!1;let Ne=null,rt=zt(_);const an=!rt&&or(_);if(rt||an){if(an&&!an.standalone)return!1;Ne=_}else{const xn=_.ngModule;if(rt=zt(xn),!rt)return!1;Ne=xn}const Ir=ke.has(Ne);if(an){if(Ir)return!1;if(ke.add(Ne),an.dependencies){const xn="function"==typeof an.dependencies?an.dependencies():an.dependencies;for(const Sn of xn)Ie(Sn,O,K,ke)}}else{if(!rt)return!1;{if(null!=rt.imports&&!Ir){let Sn;ke.add(Ne);try{lo(rt.imports,Ta=>{Ie(Ta,O,K,ke)&&(Sn||=[],Sn.push(Ta))})}finally{}void 0!==Sn&&se(Sn,O)}if(!Ir){const Sn=nr(Ne)||(()=>new Ne);O({provide:Ne,useFactory:Sn,deps:qn},Ne),O({provide:co,useValue:Ne,multi:!0},Ne),O({provide:rr,useValue:()=>wr(Ne),multi:!0},Ne)}const xn=rt.providers;if(null!=xn&&!Ir){const Sn=_;st(xn,Ta=>{O(Ta,Sn)})}}}return Ne!==_&&void 0!==_.providers}function st(_,O){for(let K of _)Hn(K)&&(K=K.\u0275providers),Array.isArray(K)?st(K,O):O(K)}const Ft=We({provide:String,useValue:We});function Pt(_){return null!==_&&"object"==typeof _&&Ft in _}function dn(_){return"function"==typeof _}function en(_){return!!_.useClass}const mn=new Vn(""),Fn={},Qn={};let Ar;function Zn(){return void 0===Ar&&(Ar=new Dr),Ar}class po{}class hr extends po{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(O,K,ke,Ne){super(),this.parent=K,this.source=ke,this.scopes=Ne,ma(O,an=>this.processProvider(an)),this.records.set(Wr,Xn(void 0,this)),Ne.has("environment")&&this.records.set(po,Xn(void 0,this));const rt=this.records.get(mn);null!=rt&&"string"==typeof rt.value&&this.scopes.add(rt.value),this.injectorDefTypes=new Set(this.get(co,qn,{self:!0}))}retrieve(O,K){const ke=Jr(K)||0;try{return this.get(O,dr,ke)}catch(Ne){if(Y(Ne))return Ne;throw Ne}}destroy(){zr(this),this._destroyed=!0;const O=(0,ie.Ht)(null);try{for(const ke of this._ngOnDestroyHooks)ke.ngOnDestroy();const K=this._onDestroyHooks;this._onDestroyHooks=[];for(const ke of K)ke()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,ie.Ht)(O)}}onDestroy(O){return zr(this),this._onDestroyHooks.push(O),()=>this.removeOnDestroy(O)}runInContext(O){zr(this);const K=z(this),ke=Gn(void 0);try{return O()}finally{z(K),Gn(ke)}}get(O,K=dr,ke){if(zr(this),O.hasOwnProperty(Qr))return O[Qr](this);const Ne=Jr(ke),an=z(this),Ir=Gn(void 0);try{if(!(4&Ne)){let Sn=this.records.get(O);if(void 0===Sn){const Ta=function So(_){return"function"==typeof _||"object"==typeof _&&"InjectionToken"===_.ngMetadataName}(O)&&Ue(O);Sn=Ta&&this.injectableDefInScope(Ta)?Xn(to(O),Fn):null,this.records.set(O,Sn)}if(null!=Sn)return this.hydrate(O,Sn,Ne)}return(2&Ne?Zn():this.parent).get(O,K=8&Ne&&K===dr?null:K)}catch(xn){const Sn=function ka(_){return _[Xr]}(xn);throw-200===Sn||-201===Sn?new de(Sn,null):xn}finally{Gn(Ir),z(an)}}resolveInjectorInitializers(){const O=(0,ie.Ht)(null),K=z(this),ke=Gn(void 0);try{const rt=this.get(rr,qn,{self:!0});for(const an of rt)an()}finally{z(K),Gn(ke),(0,ie.Ht)(O)}}toString(){const O=[],K=this.records;for(const ke of K.keys())O.push(_e(ke));return`R3Injector[${O.join(", ")}]`}processProvider(O){let K=dn(O=qe(O))?O:qe(O&&O.provide);const ke=function Ca(_){return Pt(_)?Xn(void 0,_.useValue):Xn(Sa(_),Fn)}(O);if(!dn(O)&&!0===O.multi){let Ne=this.records.get(K);Ne||(Ne=Xn(void 0,Fn,!0),Ne.factory=()=>fe(Ne.multi),this.records.set(K,Ne)),K=O,Ne.multi.push(O)}this.records.set(K,ke)}hydrate(O,K,ke){const Ne=(0,ie.Ht)(null);try{if(K.value===Qn)throw An(_e(O));return K.value===Fn&&(K.value=Qn,K.value=K.factory(void 0,ke)),"object"==typeof K.value&&K.value&&function fo(_){return null!==_&&"object"==typeof _&&"function"==typeof _.ngOnDestroy}(K.value)&&this._ngOnDestroyHooks.add(K.value),K.value}finally{(0,ie.Ht)(Ne)}}injectableDefInScope(O){if(!O.providedIn)return!1;const K=qe(O.providedIn);return"string"==typeof K?"any"===K||this.scopes.has(K):this.injectorDefTypes.has(K)}removeOnDestroy(O){const K=this._onDestroyHooks.indexOf(O);-1!==K&&this._onDestroyHooks.splice(K,1)}}function to(_){const O=Ue(_),K=null!==O?O.factory:nr(_);if(null!==K)return K;if(_ instanceof Vn)throw new de(204,!1);if(_ instanceof Function)return function qa(_){if(_.length>0)throw new de(204,!1);const K=function ln(_){return(_?.[Gr]??null)||null}(_);return null!==K?()=>K.factory(_):()=>new _}(_);throw new de(204,!1)}function Sa(_,O,K){let ke;if(dn(_)){const Ne=qe(_);return nr(Ne)||to(Ne)}if(Pt(_))ke=()=>qe(_.useValue);else if(function jt(_){return!(!_||!_.useFactory)}(_))ke=()=>_.useFactory(...fe(_.deps||[]));else if(function $t(_){return!(!_||!_.useExisting)}(_))ke=(Ne,rt)=>wr(qe(_.useExisting),void 0!==rt&&8&rt?8:void 0);else{const Ne=qe(_&&(_.useClass||_.provide));if(!function pr(_){return!!_.deps}(_))return nr(Ne)||to(Ne);ke=()=>new Ne(...fe(_.deps))}return ke}function zr(_){if(_.destroyed)throw new de(205,!1)}function Xn(_,O,K=!1){return{factory:_,value:O,multi:K?[]:void 0}}function ma(_,O){for(const K of _)Array.isArray(K)?ma(K,O):K&&Hn(K)?ma(K.\u0275providers,O):O(K)}function Qa(_,O){let K;_ instanceof hr?(zr(_),K=_):K=new ca(_);const Ne=z(K),rt=Gn(void 0);try{return O()}finally{z(Ne),Gn(rt)}}function Aa(){return void 0!==Xt()||null!=i()}function Mr(_){if(!Aa())throw new de(-203,!1)}const no=0,Tr=1,tn=2,j=3,D=4,P=5,q=6,he=7,Ae=8,je=9,xe=10,dt=11,wt=12,Lt=13,tt=14,hn=15,Yt=16,cn=17,bn=18,pn=19,xr=20,rn=21,Rt=22,Mn=23,Tn=24,Xa=25,kn=26,jn=1,Qo=6,Xo=7,Vi=8,ha=9,yo=10;function Fo(_){return Array.isArray(_)&&"object"==typeof _[jn]}function Dn(_){return Array.isArray(_)&&!0===_[jn]}function Yo(_){return!!(4&_.flags)}function gi(_){return _.componentOffset>-1}function La(_){return!(1&~_.flags)}function Jo(_){return!!_.template}function vi(_){return!!(512&_[tn])}function Ms(_){return!(256&~_[tn])}function A(_,O){w(_,O[Tr])}function T(_,O){const K=O+kn;it(_,K),Re(K,_[Tr].bindingStartIndex,"TNodes should be created before any bindings")}function w(_,O){U(_);const K=O.data;for(let ke=kn;ke<K.length;ke++)if(K[ke]===_)return;De("This TNode does not belong to this TView.")}function U(_){ve(_,"TNode must be defined"),_&&"object"==typeof _&&_.hasOwnProperty("directiveStylingLast")||De("Not of type TNode, got: "+_)}function ne(_){ve(_,"Expected TIcu to be defined"),"number"!=typeof _.currentCaseLViewIndex&&De("Object is not of TIcu type.")}function ft(_,O="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){or(_)||De(O)}function Mt(_,O="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){mo(_)||De(O)}function er(_){ve(_,"currentTNode should exist!"),ve(_.parent,"currentTNode should have a parent")}function go(_){ve(_,"LContainer must be defined"),_n(Dn(_),!0,"Expecting LContainer")}function Zo(_){ve(_,"LView must be defined"),_n(Fo(_),!0,"Expecting LView")}function jo(_,O){_n(_.firstCreatePass,!0,O||"Should only be called in first create pass.")}function bi(_,O){_n(_.firstUpdatePass,!0,"Should only be called in first update pass.")}function C(_){(void 0===_.type||null==_.selectors||void 0===_.inputs)&&De("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function g(_,O){f(kn,_.bindingStartIndex,O)}function h(_,O){f(_[1].expandoStartIndex,_.length,O)}function f(_,O,K){_<=K&&K<O||De(`Index out of range (expecting ${_} <= ${K} < ${O})`)}function k(_,O){ve(_[hn],"Component views should exist."),ve(_[hn][P].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function R(_,O){ve(_,"Component views should always have a parent view (component's host view)")}function N(_,O){h(_,O),h(_,O+8),et(_[O+0],"injectorIndex should point to a bloom filter"),et(_[O+1],"injectorIndex should point to a bloom filter"),et(_[O+2],"injectorIndex should point to a bloom filter"),et(_[O+3],"injectorIndex should point to a bloom filter"),et(_[O+4],"injectorIndex should point to a bloom filter"),et(_[O+5],"injectorIndex should point to a bloom filter"),et(_[O+6],"injectorIndex should point to a bloom filter"),et(_[O+7],"injectorIndex should point to a bloom filter"),et(_[O+8],"injectorIndex should point to parent injector")}const H="svg",G="math";function ue(_){for(;Array.isArray(_);)_=_[no];return _}function oe(_){for(;Array.isArray(_);){if("object"==typeof _[jn])return _;_=_[no]}return null}function Ce(_,O){return ue(O[_])}function vt(_,O){return ue(O[_.index])}function mt(_,O){const K=null===_?-1:_.index;return-1!==K?ue(O[K]):null}function lt(_,O){return _.data[O]}function nt(_,O){return _[O]}function Tt(_,O,K,ke){K>=_.data.length&&(_.data[K]=null,_.blueprint[K]=null),O[K]=ke}function fn(_,O){const K=O[_];return Fo(K)?K:K[no]}function on(_){return!(4&~_[tn])}function yn(_){return!(128&~_[tn])}function ar(_){return Dn(_[j])}function Dt(_,O){return null==O?null:_[O]}function Cn(_){_[cn]=0}function Ao(_){1024&_[tn]||(_[tn]|=1024,yn(_)&&wi(_))}function wn(_,O){for(;_>0;)O=O[tt],_--;return O}function Qt(_){return!!(9216&_[tn]||_[Tn]?.dirty)}function tc(_){_[xe].changeDetectionScheduler?.notify(8),64&_[tn]&&(_[tn]|=1024),Qt(_)&&wi(_)}function wi(_){_[xe].changeDetectionScheduler?.notify(0);let O=Ei(_);for(;null!==O&&!(8192&O[tn])&&(O[tn]|=8192,yn(O));)O=Ei(O)}function Ts(_,O){if(Ms(_))throw new de(911,!1);null===_[rn]&&(_[rn]=[]),_[rn].push(O)}function nc(_,O){if(null===_[rn])return;const K=_[rn].indexOf(O);-1!==K&&_[rn].splice(K,1)}function Ei(_){const O=_[j];return Dn(O)?O[j]:O}function Al(_){return _[he]??=[]}function xs(_){return _.cleanup??=[]}function Ml(_,O,K,ke){const Ne=Al(O);Ne.push(K),_.firstCreatePass&&xs(_).push(ke,Ne.length-1)}const St={lFrame:Mi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bo=function(_){return _[_.Off=0]="Off",_[_.Exhaustive=1]="Exhaustive",_[_.OnlyDirtyViews=2]="OnlyDirtyViews",_}(Bo||{});let Jt=0,Fa=!1;function $d(){return St.lFrame.elementDepthCount}function Ya(){St.lFrame.elementDepthCount++}function Hd(){St.lFrame.elementDepthCount--}function Ma(){return St.bindingsEnabled}function Hi(){return null!==St.skipHydrationRootTNode}function Wi(_){return St.skipHydrationRootTNode===_}function Ja(){St.bindingsEnabled=!0}function rc(){St.bindingsEnabled=!1}function Is(){St.skipHydrationRootTNode=null}function zi(){return St.lFrame.lView}function Rs(){return St.lFrame.tView}function Di(_){return St.lFrame.contextLView=_,_[Ae]}function Ki(_){return St.lFrame.contextLView=null,_}function Gi(){let _=Ci();for(;null!==_&&64===_.type;)_=_.parent;return _}function Ci(){return St.lFrame.currentTNode}function qi(){const _=St.lFrame,O=_.currentTNode;return _.isParent?O:O.parent}function oc(_,O){const K=St.lFrame;K.currentTNode=_,K.isParent=O}function Tl(){return St.lFrame.isParent}function ac(){St.lFrame.isParent=!1}function ic(){return St.lFrame.contextLView}function Wd(){return De("Must never be called in production mode"),Jt!==Bo.Off}function xl(){return De("Must never be called in production mode"),Jt===Bo.Exhaustive}function sc(_){De("Must never be called in production mode"),Jt=_}function zd(){return Fa}function lc(_){const O=Fa;return Fa=_,O}function Il(){const _=St.lFrame;let O=_.bindingRootIndex;return-1===O&&(O=_.bindingRootIndex=_.tView.bindingStartIndex),O}function Rl(){return St.lFrame.bindingIndex}function Os(_){return St.lFrame.bindingIndex=_}function ja(){return St.lFrame.bindingIndex++}function Kd(_){const O=St.lFrame,K=O.bindingIndex;return O.bindingIndex=O.bindingIndex+_,K}function Qi(){return St.lFrame.inI18n}function Ps(_){St.lFrame.inI18n=_}function Ns(_,O){const K=St.lFrame;K.bindingIndex=K.bindingRootIndex=_,ei(O)}function Za(){return St.lFrame.currentDirectiveIndex}function ei(_){St.lFrame.currentDirectiveIndex=_}function Xi(_){const O=St.lFrame.currentDirectiveIndex;return-1===O?null:_[O]}function pa(){return St.lFrame.currentQueryIndex}function Yi(_){St.lFrame.currentQueryIndex=_}function Si(_){const O=_[Tr];return 2===O.type?O.declTNode:1===O.type?_[P]:null}function ti(_,O,K){if(4&K){let Ne=O,rt=_;for(;!(Ne=Ne.parent,null!==Ne||1&K||(Ne=Si(rt),null===Ne||(rt=rt[tt],10&Ne.type))););if(null===Ne)return!1;O=Ne,_=rt}const ke=St.lFrame=Ai();return ke.currentTNode=O,ke.lView=_,!0}function uc(_){const O=Ai(),K=_[Tr];St.lFrame=O,O.currentTNode=K.firstChild,O.lView=_,O.tView=K,O.contextLView=_,O.bindingIndex=K.bindingStartIndex,O.inI18n=!1}function Ai(){const _=St.lFrame,O=null===_?null:_.child;return null===O?Mi(_):O}function Mi(_){const O={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:_,child:null,inI18n:!1};return null!==_&&(_.child=O),O}function Ba(){const _=St.lFrame;return St.lFrame=_.parent,_.currentTNode=null,_.lView=null,_}const Ol=Ba;function Ji(){const _=Ba();_.isParent=!0,_.tView=null,_.selectedIndex=-1,_.contextLView=null,_.elementDepthCount=0,_.currentDirectiveIndex=-1,_.currentNamespace=null,_.bindingRootIndex=-1,_.bindingIndex=-1,_.currentQueryIndex=0}function Pl(_){return(St.lFrame.contextLView=wn(_,St.lFrame.contextLView))[Ae]}function Nl(){return St.lFrame.selectedIndex}function Ll(_){St.lFrame.selectedIndex=_}function Zi(){const _=St.lFrame;return lt(_.tView,_.selectedIndex)}function Gt(){St.lFrame.currentNamespace=H}function ea(){St.lFrame.currentNamespace=G}function ta(){!function Uo(){St.lFrame.currentNamespace=null}()}function oo(){return St.lFrame.currentNamespace}let Ls=!0;function ni(){return Ls}function es(_){Ls=_}function Fs(_,O=null,K=null,ke){const Ne=Fl(_,O,K,ke);return Ne.resolveInjectorInitializers(),Ne}function Fl(_,O=null,K=null,ke,Ne=new Set){const rt=[K||qn,F(_)];return ke=ke||("object"==typeof _?void 0:_e(_)),new hr(rt,O||Zn(),ke||null,Ne)}class ts{static THROW_IF_NOT_FOUND=dr;static NULL=new Dr;static create(O,K){if(Array.isArray(O))return Fs({name:""},K,O,"");{const ke=O.name??"";return Fs({name:ke},O.parent,O.providers,ke)}}static \u0275prov=Be({token:ts,providedIn:"any",factory:()=>wr(Wr)});static __NG_ELEMENT_ID__=-1}const jl=new Vn("");let js=(()=>class _{static __NG_ELEMENT_ID__=cc;static __NG_ENV_ID__=K=>K})();class Bl extends js{_lView;constructor(O){super(),this._lView=O}get destroyed(){return Ms(this._lView)}onDestroy(O){const K=this._lView;return Ts(K,O),()=>nc(K,O)}}function cc(){return new Bl(zi())}class Ti{_console=console;handleError(O){this._console.error("ERROR",O)}}const Vo=new Vn("",{providedIn:"root",factory:()=>{const _=On(po);let O;return K=>{_.destroyed&&!O?setTimeout(()=>{throw K}):(O??=_.get(Ti),O.handleError(K))}}}),xi={provide:rr,useValue:()=>{On(Ti)},multi:!0};function Vl(_){return"function"==typeof _&&void 0!==_[ie.bh]}function Bs(_,O){const[K,ke,Ne]=(0,ie.n5)(_,O?.equal),rt=K;return rt.set=ke,rt.update=Ne,rt.asReadonly=hc.bind(rt),rt}function hc(){const _=this[ie.bh];if(void 0===_.readonlyFn){const O=()=>this();O[ie.bh]=_,_.readonlyFn=O}return _.readonlyFn}function $l(_){return Vl(_)&&"function"==typeof _.set}class ns{}const Gd=new Vn("",{providedIn:"root",factory:()=>!1}),yp=new Vn("",{providedIn:"root",factory:()=>!1}),Hl=new Vn(""),pc=new Vn("");function $o(_,O){if(null!==(0,ie.nR)())throw new de(-602,!1)}let Wl=(()=>class _{view;node;constructor(K,ke){this.view=K,this.node=ke}static __NG_ELEMENT_ID__=ri})();function ri(){return new Wl(zi(),Gi())}let zl=(()=>{class _{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ge.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pe.c(K=>{K.next(!1),K.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const K=this.taskId++;return this.pendingTasks.add(K),K}has(K){return this.pendingTasks.has(K)}remove(K){this.pendingTasks.delete(K),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new _})}return _})(),oi=(()=>{class _{internalPendingTasks=On(zl);scheduler=On(ns);errorHandler=On(Vo);add(){const K=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(K)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(K))}}run(K){const ke=this.add();K().catch(this.errorHandler).finally(ke)}static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new _})}return _})();function Us(..._){}let Vs=(()=>{class _{static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new $s})}return _})();class $s{dirtyEffectCount=0;queues=new Map;add(O){this.enqueue(O),this.schedule(O)}schedule(O){O.dirty&&this.dirtyEffectCount++}remove(O){const ke=this.queues.get(O.zone);ke.has(O)&&(ke.delete(O),O.dirty&&this.dirtyEffectCount--)}enqueue(O){const K=O.zone;this.queues.has(K)||this.queues.set(K,new Set);const ke=this.queues.get(K);ke.has(O)||ke.add(O)}flush(){for(;this.dirtyEffectCount>0;){let O=!1;for(const[K,ke]of this.queues)O||=null===K?this.flushQueue(ke):K.run(()=>this.flushQueue(ke));O||(this.dirtyEffectCount=0)}}flushQueue(O){let K=!1;for(const ke of O)ke.dirty&&(this.dirtyEffectCount--,K=!0,ke.run());return K}}},3073:(at,Ee,V)=>{"use strict";V.d(Ee,{D:()=>X});const{isArray:E}=Array,{getPrototypeOf:i,prototype:z,keys:M}=Object;function X(Y){if(1===Y.length){const ie=Y[0];if(E(ie))return{args:ie,keys:null};if(function Z(Y){return Y&&"object"==typeof Y&&i(Y)===z}(ie)){const ge=M(ie);return{args:ge.map(pe=>ie[pe]),keys:ge}}}return{args:Y,keys:null}}},3077:(at,Ee,V)=>{"use strict";V.d(Ee,{s:()=>z});var E=V(467),i=V(2615);let z=(()=>{class M{SESSION_ID="sessionId";constructor(){}load(Z){const Y=localStorage.getItem(Z);return null!==Y?JSON.parse(Y):null}loadSessionId(){const Z=this.load(this.SESSION_ID);return null!==Z?Z:0}set(Z,Y){localStorage.setItem(Z,Y)}setSessionId(Z){this.set(this.SESSION_ID,Z.toString())}clear(Z){localStorage.removeItem(Z)}resetGame(){localStorage.clear(),location.reload()}loadFile(Z,Y){var ie=this;return(0,E.A)(function*(){if(!Z)throw new Error("Enter a valid scenario number");const ge=String(Z).padStart(3,"0"),pe=new URL(document.baseURI);pe.hash="";const re=new URL(`scenarios/${ge}.json`,pe);try{const ce=yield fetch(re.href,{cache:"no-store"});if(!ce.ok)throw new Error(`Failed to load file: ${ce.status} ${ce.statusText}`);const de=yield ce.json();return ie.processScenarioData(de,Y)}catch(ce){throw console.error("Error loading file:",ce),new Error(`Error loading scenario ${Z}. Tried: ${re.pathname}`)}})()}processScenarioData(Z,Y=1){return Z.rooms&&Z.rooms[0]&&Z.rooms[0].monster?Z.rooms[0].monster.map(ie=>({type:ie.name,level:Y,isElite:"elite"===ie?.type||"elite"===ie?.player4,aggressive:!0})):[]}static \u0275fac=function(Y){return new(Y||M)};static \u0275prov=i.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},3242:function(at,Ee,V){"use strict";var E=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(8666)),z=E(V(3608));class M{constructor(Z,{headers:Y={},schema:ie,fetch:ge}={}){this.url=Z,this.headers=new Headers(Y),this.schemaName=ie,this.fetch=ge}from(Z){const Y=new URL(`${this.url}/${Z}`);return new i.default(Y,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Z){return new M(this.url,{headers:this.headers,schema:Z,fetch:this.fetch})}rpc(Z,Y={},{head:ie=!1,get:ge=!1,count:pe}={}){var re;let ce;const de=new URL(`${this.url}/rpc/${Z}`);let ye;ie||ge?(ce=ie?"HEAD":"GET",Object.entries(Y).filter(([He,ze])=>void 0!==ze).map(([He,ze])=>[He,Array.isArray(ze)?`{${ze.join(",")}}`:`${ze}`]).forEach(([He,ze])=>{de.searchParams.append(He,ze)})):(ce="POST",ye=Y);const Pe=new Headers(this.headers);return pe&&Pe.set("Prefer",`count=${pe}`),new z.default({method:ce,url:de,headers:Pe,schema:this.schemaName,body:ye,fetch:null!==(re=this.fetch)&&void 0!==re?re:fetch})}}Ee.default=M},3342:function(at,Ee,V){"use strict";var E=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(5958));Ee.default=class z extends i.default{select(X){let Z=!1;const Y=(X??"*").split("").map(ie=>/\s/.test(ie)&&!Z?"":('"'===ie&&(Z=!Z),ie)).join("");return this.url.searchParams.set("select",Y),this.headers.append("Prefer","return=representation"),this}order(X,{ascending:Z=!0,nullsFirst:Y,foreignTable:ie,referencedTable:ge=ie}={}){const pe=ge?`${ge}.order`:"order",re=this.url.searchParams.get(pe);return this.url.searchParams.set(pe,`${re?`${re},`:""}${X}.${Z?"asc":"desc"}${void 0===Y?"":Y?".nullsfirst":".nullslast"}`),this}limit(X,{foreignTable:Z,referencedTable:Y=Z}={}){return this.url.searchParams.set(typeof Y>"u"?"limit":`${Y}.limit`,`${X}`),this}range(X,Z,{foreignTable:Y,referencedTable:ie=Y}={}){const pe=typeof ie>"u"?"limit":`${ie}.limit`;return this.url.searchParams.set(typeof ie>"u"?"offset":`${ie}.offset`,`${X}`),this.url.searchParams.set(pe,""+(Z-X+1)),this}abortSignal(X){return this.signal=X,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:X=!1,verbose:Z=!1,settings:Y=!1,buffers:ie=!1,wal:ge=!1,format:pe="text"}={}){var re;const ce=[X?"analyze":null,Z?"verbose":null,Y?"settings":null,ie?"buffers":null,ge?"wal":null].filter(Boolean).join("|"),de=null!==(re=this.headers.get("Accept"))&&void 0!==re?re:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${pe}; for="${de}"; options=${ce};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(X){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${X}`),this}}},3494:(at,Ee,V)=>{"use strict";V.d(Ee,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3597:(at,Ee,V)=>{"use strict";V.d(Ee,{EW:()=>ce,O8:()=>re}),V(467);var i=V(2615),z=V(8440);function re(Re){return function ie(Re){const Ke=(0,z.Ht)(null);try{return Re()}finally{(0,z.Ht)(Ke)}}(Re)}function ce(Re,Ke){return(0,z.KZ)(Re,Ke?.equal)}Error,Error},3608:function(at,Ee,V){"use strict";var E=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3342));Ee.default=class z extends i.default{eq(X,Z){return this.url.searchParams.append(X,`eq.${Z}`),this}neq(X,Z){return this.url.searchParams.append(X,`neq.${Z}`),this}gt(X,Z){return this.url.searchParams.append(X,`gt.${Z}`),this}gte(X,Z){return this.url.searchParams.append(X,`gte.${Z}`),this}lt(X,Z){return this.url.searchParams.append(X,`lt.${Z}`),this}lte(X,Z){return this.url.searchParams.append(X,`lte.${Z}`),this}like(X,Z){return this.url.searchParams.append(X,`like.${Z}`),this}likeAllOf(X,Z){return this.url.searchParams.append(X,`like(all).{${Z.join(",")}}`),this}likeAnyOf(X,Z){return this.url.searchParams.append(X,`like(any).{${Z.join(",")}}`),this}ilike(X,Z){return this.url.searchParams.append(X,`ilike.${Z}`),this}ilikeAllOf(X,Z){return this.url.searchParams.append(X,`ilike(all).{${Z.join(",")}}`),this}ilikeAnyOf(X,Z){return this.url.searchParams.append(X,`ilike(any).{${Z.join(",")}}`),this}is(X,Z){return this.url.searchParams.append(X,`is.${Z}`),this}in(X,Z){const Y=Array.from(new Set(Z)).map(ie=>"string"==typeof ie&&new RegExp("[,()]").test(ie)?`"${ie}"`:`${ie}`).join(",");return this.url.searchParams.append(X,`in.(${Y})`),this}contains(X,Z){return"string"==typeof Z?this.url.searchParams.append(X,`cs.${Z}`):Array.isArray(Z)?this.url.searchParams.append(X,`cs.{${Z.join(",")}}`):this.url.searchParams.append(X,`cs.${JSON.stringify(Z)}`),this}containedBy(X,Z){return"string"==typeof Z?this.url.searchParams.append(X,`cd.${Z}`):Array.isArray(Z)?this.url.searchParams.append(X,`cd.{${Z.join(",")}}`):this.url.searchParams.append(X,`cd.${JSON.stringify(Z)}`),this}rangeGt(X,Z){return this.url.searchParams.append(X,`sr.${Z}`),this}rangeGte(X,Z){return this.url.searchParams.append(X,`nxl.${Z}`),this}rangeLt(X,Z){return this.url.searchParams.append(X,`sl.${Z}`),this}rangeLte(X,Z){return this.url.searchParams.append(X,`nxr.${Z}`),this}rangeAdjacent(X,Z){return this.url.searchParams.append(X,`adj.${Z}`),this}overlaps(X,Z){return this.url.searchParams.append(X,"string"==typeof Z?`ov.${Z}`:`ov.{${Z.join(",")}}`),this}textSearch(X,Z,{config:Y,type:ie}={}){let ge="";return"plain"===ie?ge="pl":"phrase"===ie?ge="ph":"websearch"===ie&&(ge="w"),this.url.searchParams.append(X,`${ge}fts${void 0===Y?"":`(${Y})`}.${Z}`),this}match(X){return Object.entries(X).forEach(([Z,Y])=>{this.url.searchParams.append(Z,`eq.${Y}`)}),this}not(X,Z,Y){return this.url.searchParams.append(X,`not.${Z}.${Y}`),this}or(X,{foreignTable:Z,referencedTable:Y=Z}={}){return this.url.searchParams.append(Y?`${Y}.or`:"or",`(${X})`),this}filter(X,Z,Y){return this.url.searchParams.append(X,`${Z}.${Y}`),this}}},3664:(at,Ee,V)=>{"use strict";V.d(Ee,{$C:()=>Vh,$Ln:()=>Kv,AVh:()=>Hy,Ab1:()=>hi,Agw:()=>dt,B4B:()=>xn,BIS:()=>tt,BMQ:()=>wy,C4Q:()=>tl,C5r:()=>$b,C7A:()=>xv,Co$:()=>kd,DH7:()=>Cb,DNE:()=>d,DkB:()=>Oy,EFF:()=>sb,EJ8:()=>Zf,Ef8:()=>it,FsC:()=>Jf,G5x:()=>A0,GBs:()=>V_,H1s:()=>Yv,HbH:()=>J_,JRh:()=>zy,Jt5:()=>v_,Jv_:()=>Tb,KED:()=>$k,Lme:()=>Ky,NCX:()=>iu,NSC:()=>Yu,NYb:()=>Ow,OA$:()=>Bt,OR8:()=>li,Ocv:()=>hD,Ol2:()=>Dd,PLl:()=>xe,PYt:()=>$u,Ql9:()=>lD,R50:()=>Gy,R7$:()=>ym,RV6:()=>f_,SKi:()=>Nn,SdI:()=>l0,SpI:()=>cp,TFI:()=>Jh,Ts$:()=>d0,UQu:()=>iD,V5L:()=>s0,VBU:()=>Ka,VeQ:()=>Yt,Vt3:()=>Hh,VwU:()=>Fy,VzW:()=>Bh,XpG:()=>B_,Xx1:()=>He,Y8G:()=>Sy,YEm:()=>he,Zhj:()=>Kf,_9s:()=>Cu,_9u:()=>q,_jY:()=>ra,_qm:()=>lo,_ys:()=>_v,a8H:()=>ks,aKT:()=>Pn,bH1:()=>Uh,bIt:()=>Ly,bMT:()=>Ub,bVm:()=>Rd,bc$:()=>Lt,bkB:()=>Ct,c1b:()=>Pu,cDI:()=>G0,cZr:()=>rg,cdK:()=>Qv,czy:()=>Zl,d80:()=>uD,dOL:()=>zv,dfE:()=>as,e6s:()=>$1,eq3:()=>Ib,eux:()=>rp,gXe:()=>pa,giA:()=>Gv,i5U:()=>Vb,iLQ:()=>Jv,j41:()=>ep,k0s:()=>tp,kBR:()=>Ry,kS0:()=>br,kdw:()=>Ge,lJT:()=>Zv,l_i:()=>Rb,lsd:()=>H_,mGM:()=>$_,mal:()=>bv,mxI:()=>qy,n$t:()=>Qd,nI1:()=>Bb,nrm:()=>My,o8S:()=>Yh,ozJ:()=>di,phd:()=>Nw,pl0:()=>Lw,qex:()=>op,rXU:()=>ys,rj2:()=>np,sFG:()=>ld,sMw:()=>Ob,sZ2:()=>Ae,sdS:()=>W_,sgu:()=>ov,uiO:()=>bt,utN:()=>If,vDg:()=>hd,w6W:()=>Xf,wni:()=>U_,xGo:()=>Do,xc7:()=>$y,xe9:()=>m0,yLl:()=>qv,ypd:()=>Fw,zoo:()=>vv});var E=V(467),i=V(2615),z=V(8440),M=V(1413),X=V(8359),Z=V(6354);function Y(e){return{toString:e}.toString()}const ie="__annotations__",ge="__parameters__",pe="__prop__metadata__";function re(e,t,n,r,l){return Y(()=>{const c=ce(t);function m(...y){if(this instanceof m)return c.call(this,...y),this;const v=new m(...y);return function(L){return l&&l(L,...y),(L.hasOwnProperty(ie)?L[ie]:Object.defineProperty(L,ie,{value:[]})[ie]).push(v),L}}return n&&(m.prototype=Object.create(n.prototype)),m.prototype.ngMetadataName=e,m.annotationCls=m,m})}function ce(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}function de(e,t,n){return Y(()=>{const r=ce(t);function l(...c){if(this instanceof l)return r.apply(this,c),this;const m=new l(...c);return y.annotation=m,y;function y(v,x,L){const W=v.hasOwnProperty(ge)?v[ge]:Object.defineProperty(v,ge,{value:[]})[ge];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(m),v}}return l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Pe=(0,i.z6V)(de("Inject",e=>({token:e})),-1),He=(0,i.z6V)(de("Optional"),8),ze=(0,i.z6V)(de("Self"),2),Ge=(0,i.z6V)(de("SkipSelf"),4),We=(0,i.z6V)(de("Host"),1);function bt(e){const t=i.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const _e={\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275inject:i.KVO,\u0275\u0275invalidFactoryDep:i.dmw,resolveForwardRef:i.nl4},Te=Function;function Se(e){return"function"==typeof e}const Ve=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Fe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,It=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Vt{_reflect;constructor(t){this._reflect=t||i.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=(0,i.WfI)(typeof t>"u"?n.length:t.length);for(let l=0;l<r.length;l++)r[l]=typeof t>"u"?[]:t[l]&&t[l]!=Object?[t[l]]:[],n&&null!=n[l]&&(r[l]=r[l].concat(n[l]));return r}_ownParameters(t,n){if(function et(e){return Ve.test(e)||It.test(e)||Fe.test(e)&&!qe.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const l=t.ctorParameters;if(l&&l!==n.ctorParameters){const y="function"==typeof l?l():l,v=y.map(L=>L&&L.type),x=y.map(L=>L&&In(L.decorators));return this._zipTypesAndAnnotations(v,x)}const c=t.hasOwnProperty(ge)&&t[ge],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return m||c?this._zipTypesAndAnnotations(m,c):(0,i.WfI)(t.length)}parameters(t){if(!Se(t))return[];const n=vn(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?In(t.decorators):t.hasOwnProperty(ie)?t[ie]:null}annotations(t){if(!Se(t))return[];const n=vn(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,l={};return Object.keys(r).forEach(c=>{l[c]=In(r[c])}),l}return t.hasOwnProperty(pe)?t[pe]:null}propMetadata(t){if(!Se(t))return{};const n=vn(t),r={};if(n!==Object){const c=this.propMetadata(n);Object.keys(c).forEach(m=>{r[m]=c[m]})}const l=this._ownPropMetadata(t,n);return l&&Object.keys(l).forEach(c=>{const m=[];r.hasOwnProperty(c)&&m.push(...r[c]),m.push(...l[c]),r[c]=m}),r}ownPropMetadata(t){return Se(t)&&this._ownPropMetadata(t,vn(t))||{}}hasLifecycleHook(t,n){return t instanceof Te&&n in t.prototype}}function In(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function vn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}class _n{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const Bt=(()=>{const e=()=>lr;return e.ngInherit=!0,e})();function lr(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ke),Re}function Re(){const e=le(this),t=e?.current;if(t){const n=e.previous;if(n===i.MZA)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ke(e,t,n,r,l){const c=this.declaredInputs[r],m=le(e)||function be(e,t){return e[ae]=t}(e,{previous:i.MZA,current:null}),y=m.current||(m.current={}),v=m.previous,x=v[c];y[c]=new _n(x&&x.currentValue,n,v===i.MZA),sr(e,t,l,n)}const ae="__ngSimpleChanges__";function le(e){return e[ae]||null}const ve=[],it=function(e,t=null,n){for(let r=0;r<ve.length;r++)(0,ve[r])(e,t,n)};function me(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:v,ngAfterViewChecked:x,ngOnDestroy:L}=c;m&&(e.contentHooks??=[]).push(-n,m),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),v&&(e.viewHooks??=[]).push(-n,v),x&&((e.viewHooks??=[]).push(n,x),(e.viewCheckHooks??=[]).push(n,x)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function Be(e,t,n){Ue(e,t,3,n)}function Xe(e,t,n,r){(3&e[i.Wg1])===n&&Ue(e,t,n,r)}function pt(e,t){let n=e[i.Wg1];(3&n)===t&&(n&=16383,n+=1,e[i.Wg1]=n)}function Ue(e,t,n,r){const c=r??-1,m=t.length-1;let y=0;for(let v=void 0!==r?65535&e[i.wVl]:0;v<m;v++)if("number"==typeof t[v+1]){if(y=t[v],null!=r&&y>=r)break}else t[v]<0&&(e[i.wVl]+=65536),(y<c||-1==c)&&(kt(e,n,t,v),e[i.wVl]=(4294901760&e[i.wVl])+v+2),v++}function Wt(e,t){it(4,e,t);const n=(0,z.Ht)(null);try{t.call(e)}finally{(0,z.Ht)(n),it(5,e,t)}}function kt(e,t,n,r){const l=n[r]<0,c=n[r+1],y=e[l?-n[r]:n[r]];l?e[i.Wg1]>>14<e[i.wVl]>>16&&(3&e[i.Wg1])===t&&(e[i.Wg1]+=16384,Wt(y,c)):Wt(y,c)}const ln=-1;class zt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,l){this.factory=t,this.name=l,this.canSeeViewProviders=n,this.injectImpl=r}}function Nr(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function bo(e){return 3===e||4===e||6===e}function Ro(e){return 64===e.charCodeAt(0)}function Rn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||yr(e,n,l,0,-1===n||2===n?t[++r]:null)}}return e}function yr(e,t,n,r,l){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){m=-1;break}if(y>t){m=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n)return void(null!==l&&(e[c+1]=l));c++,null!==l&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,n),null!==l&&e.splice(c++,0,l)}function gr(e){return e!==ln}function vr(e){return 32767&e}function qr(e,t){let n=function ua(e){return e>>16}(e),r=t;for(;n>0;)r=r[i.X5O],n--;return r}let tr=!0;function Hn(e){const t=tr;return tr=e,t}const wo=255,Oo=5;let zo=0;const Kt={};function Qr(e,t){const n=Go(e,t);if(-1!==n)return n;const r=t[i.eDl];r.firstCreatePass&&(e.injectorIndex=t.length,Ko(r.data,e),Ko(t,null),Ko(r.blueprint,null));const l=ao(e,t),c=e.injectorIndex;if(gr(l)){const m=vr(l),y=qr(l,t),v=y[i.eDl].data;for(let x=0;x<8;x++)t[c+x]=y[m+x]|v[m+x]}return t[c+8]=l,c}function Ko(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Go(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ao(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=dr(l),null===r)return ln;if(n++,l=l[i.X5O],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ln}function zn(e,t,n){!function jr(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(i.p9y)&&(r=n[i.p9y]),null==r&&(r=n[i.p9y]=zo++);const l=r&wo;t.data[e+(l>>Oo)]|=1<<l}(e,t,n)}function Br(e,t,n){if(8&n||void 0!==e)return e;(0,i.$Hz)(t,"NodeInjector")}function Kn(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const l=e[i.YEL],c=(0,i.a2B)(void 0);try{return l?l.get(t,r,8&n):(0,i.MzJ)(t,r,8&n)}finally{(0,i.a2B)(c)}}return Br(r,t,n)}function An(e,t,n,r=0,l){if(null!==e){if(2048&t[i.Wg1]&&!(2&r)){const m=function Co(e,t,n,r,l){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[i.Wg1]&&!(0,i.EFk)(m);){const y=io(c,m,n,2|r,Kt);if(y!==Kt)return y;let v=c.parent;if(!v){const x=m[i.oMQ];if(x){const L=x.get(n,Kt,r);if(L!==Kt)return L}v=dr(m),m=m[i.X5O]}c=v}return l}(e,t,n,r,Kt);if(m!==Kt)return m}const c=io(e,t,n,r,Kt);if(c!==Kt)return c}return Kn(t,n,r,l)}function io(e,t,n,r,l){const c=function Eo(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(i.p9y)?e[i.p9y]:void 0;return"number"==typeof t?t>=0?t&wo:Gn:t}(n);if("function"==typeof c){if(!(0,i.ihb)(t,e,r))return 1&r?Br(l,n,r):Kn(t,n,r,l);try{let m;if(m=c(r),null!=m||8&r)return m;(0,i.$Hz)(n)}finally{(0,i.niQ)()}}else if("number"==typeof c){let m=null,y=Go(e,t),v=ln,x=1&r?t[i.b5C][i.qlT]:null;for((-1===y||4&r)&&(v=-1===y?ao(e,t):t[y+8],v!==ln&&ka(r,!1)?(m=t[i.eDl],y=vr(v),t=qr(v,t)):y=-1);-1!==y;){const L=t[i.eDl];if(ko(c,y,L.data)){const W=Ea(y,t,n,m,r,x);if(W!==Kt)return W}v=t[y+8],v!==ln&&ka(r,t[i.eDl].data[y+8]===x)&&ko(c,y,t)?(m=L,y=vr(v),t=qr(v,t)):y=-1}}return l}function Ea(e,t,n,r,l,c){const m=t[i.eDl],y=m.data[e+8],L=ur(y,m,n,null==r?(0,i.Qs1)(y)&&tr:r!=m&&!!(3&y.type),1&l&&c===y);return null!==L?Ur(t,m,L,y,l):Kt}function ur(e,t,n,r,l){const c=e.providerIndexes,m=t.data,y=1048575&c,v=e.directiveStart,L=c>>20,ee=l?y+L:e.directiveEnd;for(let te=r?y:y+L;te<ee;te++){const Me=m[te];if(te<v&&n===Me||te>=v&&Me.type===n)return te}if(l){const te=m[v];if(te&&(0,i.JlV)(te)&&te.type===n)return v}return null}function Ur(e,t,n,r,l){let c=e[n];const m=t.data;if(c instanceof zt){const y=c;if(y.resolving){const te=(0,i.PP7)(m[n]);throw(0,i.PQT)(te)}const v=Hn(y.canSeeViewProviders);y.resolving=!0;const W=y.injectImpl?(0,i.a2B)(y.injectImpl):null;(0,i.ihb)(e,r,0);try{c=e[n]=y.factory(void 0,l,m,e,r),t.firstCreatePass&&n>=r.directiveStart&&function qt(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=t.type.prototype;if(r){const m=lr(t);(n.preOrderHooks??=[]).push(e,m),(n.preOrderCheckHooks??=[]).push(e,m)}l&&(n.preOrderHooks??=[]).push(0-e,l),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}(n,m[n],t)}finally{null!==W&&(0,i.a2B)(W),Hn(v),y.resolving=!1,(0,i.niQ)()}}return c}function ko(e,t,n){return!!(n[t+(e>>Oo)]&1<<e)}function ka(e,t){return!(2&e||1&e&&t)}class Xt{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return An(this._tNode,this._lView,t,(0,i.hjC)(r),n)}}function Gn(){return new Xt((0,i.Mx4)(),(0,i.OAn)())}function Do(e){return Y(()=>{const t=e.prototype.constructor,n=t[i.zSs]||Vr(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const c=l[i.zSs]||Vr(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Vr(e){return(0,i.Jzi)(e)?()=>{const t=Vr((0,i.nl4)(e));return t&&t()}:(0,i.wGu)(e)}function dr(e){const t=e[i.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[i.qlT]:null}function br(e){return function Xr(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const c=n[l];if(bo(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(c===t)return n[l+1];l+=2}}}return null}((0,i.Mx4)(),e)}const ca=de("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>br(e)}));let so=null;function mr(e){return On(function wr(){return so=so||new Vt}().parameters(e))}function On(e){return e.map(t=>function Jr(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const l=Object.getPrototypeOf(r);if(r instanceof He||"Optional"===l.ngMetadataName)t.optional=!0;else if(r instanceof Ge||"SkipSelf"===l.ngMetadataName)t.skipSelf=!0;else if(r instanceof ze||"Self"===l.ngMetadataName)t.self=!0;else if(r instanceof We||"Host"===l.ngMetadataName)t.host=!0;else if(r instanceof Pe)t.token=r.token;else if(r instanceof ca){if(void 0===r.attributeName)throw new i.buA(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const fe=(0,i.kLh)({provide:String,useValue:i.kLh});function Er(e){return void 0!==e.useClass}function nr(e){return void 0!==e.useFactory}const lo=re("Injectable",void 0,void 0,0,(e,t)=>function Po(e,t){let n=null,r=null;e.hasOwnProperty(i.yAH)||Object.defineProperty(e,i.yAH,{get:()=>(null===n&&(n=bt().compileInjectable(_e,`ng:///${e.name}/\u0275prov.js`,function At(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Er(n)||nr(n))&&void 0!==n.deps&&(r.deps=On(n.deps)),Er(n)?r.useClass=n.useClass:function No(e){return fe in e}(n)?r.useValue=n.useValue:nr(n)?r.useFactory=n.useFactory:function $r(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(i.zSs)||Object.defineProperty(e,i.zSs,{get:()=>{if(null===r){const l=bt();r=l.compileFactory(_e,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:mr(e),target:l.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Zr(){return Yn((0,i.Mx4)(),(0,i.OAn)())}function Yn(e,t){return new Pn((0,i.d31)(e,t))}let Pn=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Zr})();function Jn(e){return e instanceof Pn?e.nativeElement:e}function Lo(){return this._results[Symbol.iterator]()}class Hr{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new M.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=(0,i.Bqz)(t);(this._changesDetected=!(0,i.ng7)(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Lo}function qn(e){return!(128&~e.flags)}var co=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(co||{});const Dr=new Map;let mo=0;function ho(e){Dr.delete(e[i.ID])}const $="__ngContext__";function se(e,t){(0,i.q$2)(t)?(e[$]=t[i.ID],function or(e){Dr.set(e[i.ID],e)}(t)):e[$]=t}function Zn(e){return hr(e[i.EJG])}function po(e){return hr(e[i.K29])}function hr(e){for(;null!==e&&!(0,i.A0l)(e);)e=e[i.K29];return e}let P;function q(e){P=e}function he(){if(void 0!==P)return P;if(typeof document<"u")return document;throw new i.buA(210,!1)}const Ae=new i.nKC("",{providedIn:"root",factory:()=>je}),je="ng",xe=new i.nKC(""),dt=new i.nKC("",{providedIn:"platform",factory:()=>"unknown"}),Lt=new i.nKC(""),tt=new i.nKC("",{providedIn:"root",factory:()=>he().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),hn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Yt=new i.nKC("",{providedIn:"root",factory:()=>hn});function bn(){const e=new pn;return e.store=function xr(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(he(),(0,i.WQX)(Ae)),e}let pn=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:bn});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const _i=new i.nKC("",{providedIn:"root",factory:()=>!1}),T=new i.nKC(""),U={passive:!0,capture:!0},ne=new WeakMap,ft=new WeakMap,Mt=new WeakMap,er=["click","keydown"],go=["mouseenter","mouseover","focusin"];let ro=null,Zo=0;class jo{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function bi(e,t){let n=ft.get(e);if(!n){n=new jo,ft.set(e,n);for(const r of er)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){ft.delete(e);for(const c of er)e.removeEventListener(c,l,U)}}}function C(e,t){let n=ne.get(e);if(!n){n=new jo,ne.set(e,n);for(const r of go)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){for(const c of go)e.removeEventListener(c,l,U);ne.delete(e)}}}let lt=(e,t,n,r)=>{};const fn=new i.nKC("");function yn(e){return!(32&~e.flags)}function Al(e){let t=e._lView;return 2===t[i.eDl].type?null:((0,i.EFk)(t)&&(t=t[i.Yw1]),t)}function Za(e,t){const n=e.contentQueries;if(null!==n){const r=(0,z.Ht)(null);try{for(let l=0;l<n.length;l+=2){const m=n[l+1];if(-1!==m){const y=e.data[m];(0,i.GA0)(n[l]),y.contentQueries(2,t[m],m)}}}finally{(0,z.Ht)(r)}}}function ei(e,t,n){(0,i.GA0)(0);const r=(0,z.Ht)(null);try{t(e,n)}finally{(0,z.Ht)(r)}}function Xi(e,t,n){if((0,i.srX)(t)){const r=(0,z.Ht)(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const y=e.data[m];y.contentQueries&&y.contentQueries(1,n[m],m)}}finally{(0,z.Ht)(r)}}}var pa=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(pa||{});let Yi,Ai;function Si(){if(void 0===Yi&&(Yi=null,i.laP.trustedTypes))try{Yi=i.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Yi}function ti(e){return Si()?.createHTML(e)||e}function Mi(){if(void 0===Ai&&(Ai=null,i.laP.trustedTypes))try{Ai=i.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ai}function Ba(e){return Mi()?.createHTML(e)||e}function Ol(e){return Mi()?.createScript(e)||e}function Ji(e){return Mi()?.createScriptURL(e)||e}class Pl{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i.ok8})`}}function ta(e){return e instanceof Pl?e.changingThisBreaksApplicationSecurity:e}function Uo(e,t){const n=function oo(e){return e instanceof Pl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${i.ok8})`)}return n===t}function ts(e){const t=new js(e);return function Bl(){try{return!!(new window.DOMParser).parseFromString(ti(""),"text/html")}catch{return!1}}()?new jl(t):t}class jl{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ti(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class js{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ti(t),n}}const cc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ti(e){return(e=String(e)).match(cc)?e:"unsafe:"+e}function Vo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function xi(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Ul=Vo("area,br,col,hr,img,wbr"),dc=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vl=Vo("rp,rt"),$l=xi(Ul,xi(dc,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xi(Vl,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xi(Vl,dc)),ns=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hl=xi(ns,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pc=Vo("script,style,template");class $o{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)l.push(n),n=zl(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=ri(n);if(c){n=c;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=oi(t).toLowerCase();if(!$l.hasOwnProperty(n))return this.sanitizedSomething=!0,!pc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const c=r.item(l),m=c.name,y=m.toLowerCase();if(!Hl.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let v=c.value;ns[y]&&(v=Ti(v)),this.buf.push(" ",m,'="',_(v),'"')}return this.buf.push(">"),!0}endElement(t){const n=oi(t).toLowerCase();$l.hasOwnProperty(n)&&!Ul.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_(t))}}function ri(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Us(t);return t}function zl(e){const t=e.firstChild;if(t&&function Wl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Us(t);return t}function oi(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Us(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Vs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$s=/([^\#-~ |!])/g;function _(e){return e.replace(/&/g,"&amp;").replace(Vs,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($s,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let O;function ke(e){return"content"in e&&function Ne(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var rt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(rt||{});function xn(e){const t=Ii();return t?t.sanitize(rt.URL,e)||"":Uo(e,"URL")?ta(e):Ti((0,i.eFE)(e))}function Sn(e){const t=Ii();if(t)return Ji(t.sanitize(rt.RESOURCE_URL,e)||"");if(Uo(e,"ResourceURL"))return Ji(ta(e));throw new i.buA(904,!1)}function Qd(e,t,n){return function qd(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Sn:xn}(t,n)(e)}function Ii(){const e=(0,i.OAn)();return e&&e[i.M0L].sanitizer}const cg=/^>|^->|<!--|-->|--!>|<!-$/g,Yd=/(<|>)/g;function fa(e){return e instanceof Function?e():e}function as(e){if(function wp(e){if(!(0,i.xUg)(e))throw new i.buA(906,`The ${(0,i.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(e),!(0,i.xUg)(e).standalone)throw new i.buA(907,`The ${(0,i.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,i.PP7)(e)} component has the \`standalone: true\` flag in the decorator.`)}function Ep(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const c=t.length;if(l+c===r||e.charCodeAt(l+c)<=32)return l}n=l+1}}const lm="ng-template";function kp(e,t,n,r){let l=0;if(r){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==Ep(t[l+1].toLowerCase(),n,0))return!0}else if(bc(e))return!1;if(l=t.indexOf(1,l),l>-1){let c;for(;++l<t.length&&"string"==typeof(c=t[l]);)if(c.toLowerCase()===n)return!0}return!1}function bc(e){return 4===e.type&&e.value!==lm}function um(e,t,n){return t===(4!==e.type||n?e.value:lm)}function Dp(e,t,n){let r=4;const l=e.attrs,c=null!==l?function Sp(e){for(let t=0;t<e.length;t++)if(bo(e[t]))return t;return e.length}(l):0;let m=!1;for(let y=0;y<t.length;y++){const v=t[y];if("number"!=typeof v){if(!m)if(4&r){if(r=2|1&r,""!==v&&!um(e,v,n)||""===v&&1===t.length){if(Ho(r))return!1;m=!0}}else if(8&r){if(null===l||!kp(e,l,v,n)){if(Ho(r))return!1;m=!0}}else{const x=t[++y],L=wc(v,l,bc(e),n);if(-1===L){if(Ho(r))return!1;m=!0;continue}if(""!==x){let W;if(W=L>c?"":l[L+1].toLowerCase(),2&r&&x!==W){if(Ho(r))return!1;m=!0}}}}else{if(!m&&!Ho(r)&&!Ho(v))return!1;if(m&&Ho(v))continue;m=!1,r=v|1&r}}return Ho(r)||m}function Ho(e){return!(1&e)}function wc(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let c=!1;for(;l<t.length;){const m=t[l];if(m===e)return l;if(3===m||6===m)c=!0;else{if(1===m||2===m){let y=t[++l];for(;"string"==typeof y;)y=t[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=c?1:2}return-1}return function Ap(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ri(e,t,n=!1){for(let r=0;r<t.length;r++)if(Dp(e,t[r],n))return!0;return!1}function Mp(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function Xl(e,t){return e?":not("+t.trim()+")":t}function Tp(e){let t=e[0],n=1,r=2,l="",c=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&r){const y=e[++n];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?l+="."+m:4&r&&(l+=" "+m);else""!==l&&!Ho(m)&&(t+=Xl(c,l),l=""),r=m,c=c||!Ho(r);n++}return""!==l&&(t+=Xl(c,l)),t}const gn={};function Ec(e,t){return e.createText(t)}function dm(e,t,n){e.setValue(t,n)}function kc(e,t){return e.createComment(function Jd(e){return e.replace(cg,t=>t.replace(Yd,"\u200b$1\u200b"))}(t))}function Yl(e,t,n){return e.createElement(t,n)}function xa(e,t,n,r,l){e.insertBefore(t,n,r,l)}function mm(e,t,n){e.appendChild(t,n)}function hm(e,t,n,r,l){null!==r?xa(e,t,n,r,l):mm(e,t,n)}function Ks(e,t,n){e.removeChild(null,t,n)}function fm(e,t,n){const{mergedAttrs:r,classes:l,styles:c}=n;null!==r&&function la(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const c=n[r++],m=n[r++],y=n[r++];e.setAttribute(t,m,y,c)}else{const c=l,m=n[++r];Ro(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),r++}}}(e,t,r),null!==l&&function Rp(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,l),null!==c&&function Ip(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Jl(e,t,n,r,l,c,m,y,v,x,L){const W=i.Yw1+r,ee=W+l,te=function bg(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:gn);return n}(W,ee),Me="function"==typeof x?x():x;return te[i.eDl]={type:e,blueprint:te,template:n,queries:null,viewQuery:y,declTNode:t,data:te.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:v,consts:Me,incompleteFirstPass:!1,ssrId:L}}function Dc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Jl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Gs(e,t,n,r,l,c,m,y,v,x,L){const W=t.blueprint.slice();return W[i.jgP]=l,W[i.Wg1]=1228|r,(null!==x||e&&2048&e[i.Wg1])&&(W[i.Wg1]|=2048),(0,i.HUe)(W),W[i.f7T]=W[i.X5O]=e,W[i.SKP]=n,W[i.M0L]=m||e&&e[i.M0L],W[i.GpT]=y||e&&e[i.GpT],W[i.YEL]=v||e&&e[i.YEL]||null,W[i.qlT]=c,W[i.ID]=function Cr(){return mo++}(),W[i.tcA]=L,W[i.oMQ]=x,W[i.b5C]=2==t.type?e[i.b5C]:W,W}function Cc(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function is(e,t,n,r){if(0===n)return-1;const l=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function Sc(e,t){return e[i.EJG]?e[i.Yrj][i.K29]=t:e[i.EJG]=t,e[i.Yrj]=t,t}function ym(e=1){gm((0,i.klJ)(),(0,i.OAn)(),(0,i._px)()+e,!1)}function gm(e,t,n,r){if(!r)if(3&~t[i.Wg1]){const c=e.preOrderHooks;null!==c&&Xe(t,c,0,n)}else{const c=e.preOrderCheckHooks;null!==c&&Be(t,c,n)}(0,i.ypq)(n)}var ss=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ss||{});function ls(e,t,n,r){const l=(0,z.Ht)(null);try{const[c,m,y]=e.inputs[n];let v=null;0!==(m&ss.SignalBased)&&(v=t[c][z.bh]),null!==v&&void 0!==v.transformFn?r=v.transformFn(r):null!==y&&(r=y.call(t,r)),null!==e.setInput?e.setInput(t,v,r,n,c):sr(t,v,c,r)}finally{(0,z.Ht)(l)}}var Zl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zl||{});let us;function qs(e,t){return us(e,t)}function cs(e,t,n,r,l){if(null!=r){let c,m=!1;(0,i.A0l)(r)?c=r:(0,i.q$2)(r)&&(m=!0,r=r[i.jgP]);const y=(0,i.IvY)(r);0===e&&null!==n?null==l?mm(t,n,y):xa(t,n,y,l||null,!0):1===e&&null!==n?xa(t,n,y,l||null,!0):2===e?Ks(t,y,m):3===e&&t.destroyNode(y),null!=c&&function Fp(e,t,n,r,l){const c=n[i.s6P];c!==(0,i.IvY)(n)&&cs(t,e,r,c,l);for(let y=i.Y20;y<n.length;y++){const v=n[y];nu(v[i.eDl],v,e,t,r,c)}}(t,e,c,n,l)}}function _m(e,t){eu(e,t),t[i.jgP]=null,t[i.qlT]=null}function eu(e,t){t[i.M0L].changeDetectionScheduler?.notify(9),nu(e,t,t[i.GpT],2,null,null)}function Ac(e,t){const n=e[i.nfM],r=n.indexOf(t);n.splice(r,1)}function Qs(e,t){if((0,i.EPY)(t))return;const n=t[i.GpT];n.destroyNode&&nu(e,t,n,3,null,null),function Pp(e){let t=e[i.EJG];if(!t)return wm(e[i.eDl],e);for(;t;){let n=null;if((0,i.q$2)(t))n=t[i.EJG];else{const r=t[i.Y20];r&&(n=r)}if(!n){for(;t&&!t[i.K29]&&t!==e;)(0,i.q$2)(t)&&wm(t[i.eDl],t),t=t[i.f7T];null===t&&(t=e),(0,i.q$2)(t)&&wm(t[i.eDl],t),n=t&&t[i.K29]}t=n}}(t)}function wm(e,t){if((0,i.EPY)(t))return;const n=(0,z.Ht)(null);try{t[i.Wg1]&=-129,t[i.Wg1]|=256,t[i.Iaj]&&(0,z.XR)(t[i.Iaj]),function Lp(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof zt)){const c=n[r+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const y=l[c[m]],v=c[m+1];it(4,y,v);try{v.call(y)}finally{it(5,y,v)}}else{it(4,l,c);try{c.call(l)}finally{it(5,l,c)}}}}}(e,t),function Np(e,t){const n=e.cleanup,r=t[i.VVG];if(null!==n)for(let m=0;m<n.length-1;m+=2)if("string"==typeof n[m]){const y=n[m+3];y>=0?r[y]():r[-y].unsubscribe(),m+=2}else n[m].call(r[n[m+1]]);null!==r&&(t[i.VVG]=null);const l=t[i.Czx];if(null!==l){t[i.Czx]=null;for(let m=0;m<l.length;m++)(0,l[m])()}const c=t[i.tQN];if(null!==c){t[i.tQN]=null;for(const m of c)m.destroy()}}(e,t),1===t[i.eDl].type&&t[i.GpT].destroy();const r=t[i.rQE];if(null!==r&&(0,i.A0l)(t[i.f7T])){r!==t[i.f7T]&&Ac(r,t);const l=t[i.Ds7];null!==l&&l.detachView(e)}ho(t)}finally{(0,z.Ht)(n)}}function Mc(e,t,n){return Em(e,t.parent,n)}function Em(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[i.jgP];if((0,i.Qs1)(r)){const{encapsulation:l}=e.data[r.directiveStart+r.componentOffset];if(l===pa.None||l===pa.Emulated)return null}return(0,i.d31)(r,n)}function km(e,t,n){return Cm(e,t,n)}function Dm(e,t,n){return 40&e.type?(0,i.d31)(e,n):null}let tu,Cm=Dm;function Sm(e,t){Cm=e,tu=t}function Tc(e,t,n,r){const l=Mc(e,r,t),c=t[i.GpT],y=km(r.parent||t[i.qlT],r,t);if(null!=l)if(Array.isArray(n))for(let v=0;v<n.length;v++)hm(c,l,n[v],y,!1);else hm(c,l,n,y,!1);void 0!==tu&&tu(c,r,t,n,l)}function Oi(e,t){if(null!==t){const n=t.type;if(3&n)return(0,i.d31)(t,e);if(4&n)return ii(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Oi(e,r);{const l=e[t.index];return(0,i.A0l)(l)?ii(-1,l):(0,i.IvY)(l)}}if(128&n)return Oi(e,t.next);if(32&n)return qs(t,e)()||(0,i.IvY)(e[t.index]);{const r=Am(e,t);return null!==r?Array.isArray(r)?r[0]:Oi((0,i._0$)(e[i.b5C]),r):Oi(e,t.next)}}return null}function Am(e,t){return null!==t?e[i.b5C][i.qlT].projection[t.projection]:null}function ii(e,t){const n=i.Y20+e+1;if(n<t.length){const r=t[n],l=r[i.eDl].firstChild;if(null!==l)return Oi(r,l)}return t[i.s6P]}function xc(e,t,n,r,l,c,m){for(;null!=n;){if(128===n.type){n=n.next;continue}const y=r[n.index],v=n.type;if(m&&0===t&&(y&&se((0,i.IvY)(y),r),n.flags|=2),!yn(n))if(8&v)xc(e,t,n.child,r,l,c,!1),cs(t,e,l,y,c);else if(32&v){const x=qs(n,r);let L;for(;L=x();)cs(t,e,l,L,c);cs(t,e,l,y,c)}else 16&v?Xs(e,t,r,n,l,c):cs(t,e,l,y,c);n=m?n.projectionNext:n.next}}function nu(e,t,n,r,l,c){xc(n,r,e.firstChild,t,l,c,!1)}function Xs(e,t,n,r,l,c){const m=n[i.b5C],v=m[i.qlT].projection[r.projection];if(Array.isArray(v))for(let x=0;x<v.length;x++)cs(t,e,l,v[x],c);else{let x=v;const L=m[i.f7T];qn(r)&&(x.flags|=128),xc(e,t,x,L,l,c,!0)}}function Tm(e,t,n,r,l){const c=(0,i._px)(),m=2&r;try{(0,i.ypq)(-1),m&&t.length>i.Yw1&&gm(e,t,i.Yw1,!1),it(m?2:0,l,n),n(r,l)}finally{(0,i.ypq)(c),it(m?3:1,l,n)}}function Ic(e,t,n){(function Im(e,t,n){const r=n.directiveStart,l=n.directiveEnd;(0,i.Qs1)(n)&&function Op(e,t,n){const r=(0,i.d31)(t,e),l=Dc(n),c=e[i.M0L].rendererFactory,m=Sc(e,Gs(e,l,null,Cc(n),r,t,null,c.createRenderer(r,n),null,null,null));e[t.index]=m}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Qr(n,t);const c=n.initialInputs;for(let m=r;m<l;m++){const y=e.data[m],v=Ur(t,e,m,n);se(v,t),null!==c&&kg(0,m-r,v,y,0,c),(0,i.JlV)(y)&&((0,i.KdJ)(n.index,t)[i.SKP]=Ur(t,e,m,n))}})(e,t,n),!(64&~n.flags)&&function Nc(e,t,n){const r=n.directiveStart,l=n.directiveEnd,c=n.index,m=(0,i.Z9v)();try{(0,i.ypq)(c);for(let y=r;y<l;y++){const v=e.data[y],x=t[y];(0,i.RZ9)(y),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Wp(v,x)}}finally{(0,i.ypq)(-1),(0,i.RZ9)(m)}}(e,t,n)}function Ys(e,t,n=i.d31){const r=t.localNames;if(null!==r){let l=t.index+1;for(let c=0;c<r.length;c+=2){const m=r[c+1],y=-1===m?n(t,e):e[m];e[l++]=y}}}let Oc=()=>null;function Pc(e,t,n,r,l,c){Om(e,t[i.eDl],t,n,r)?(0,i.Qs1)(e)&&function wg(e,t){const n=(0,i.KdJ)(t,e);16&n[i.Wg1]||(n[i.Wg1]|=64)}(t,e.index):(3&e.type&&(n=function Ia(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),xm(e,t,n,r,l,c))}function xm(e,t,n,r,l,c){if(3&e.type){const m=(0,i.d31)(e,t);r=null!=c?c(r,e.value||"",n):r,l.setProperty(m,n,r)}}function Wp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Lc(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];Ri(t,c.selectors,!1)&&(r??=[],(0,i.JlV)(c)?r.unshift(c):r.push(c))}return r}function ru(e,t,n,r,l,c,m){if(null==c)e.removeAttribute(t,l,n);else{const y=null==m?(0,i.eFE)(c):m(c,r||"",l);e.setAttribute(t,l,y,n)}}function kg(e,t,n,r,l,c){const m=c[t];if(null!==m)for(let y=0;y<m.length;y+=2)ls(r,n,m[y],m[y+1])}function Fc(e,t,n,r,l){const c=i.Yw1+n,m=t[i.eDl],y=l(m,t,e,r,n);t[c]=y,(0,i.iMd)(e,!0);const v=2===e.type;return v?(fm(t[i.GpT],y,e),(0===(0,i.znI)()||(0,i.yoD)(e))&&se(y,t),(0,i.Fje)()):se(y,t),(0,i.SX7)()&&(!v||!yn(e))&&Tc(m,t,y,e),e}function ou(e){let t=e;return(0,i.YWB)()?(0,i.Pfq)():(t=t.parent,(0,i.iMd)(t,!1)),t}function zp(e,t,n){return(null===e||(0,i.JlV)(e))&&(n=(0,i.zAe)(n[t.index])),n[i.GpT]}function Rm(e,t){const n=e[i.YEL];n&&n.get(i.ZTf,null)?.(t)}function Om(e,t,n,r,l){const c=e.inputs?.[r],m=e.hostDirectiveInputs?.[r];let y=!1;if(m)for(let v=0;v<m.length;v+=2){const x=m[v];ls(t.data[x],n[x],m[v+1],l),y=!0}if(c)for(const v of c)ls(t.data[v],n[v],r,l),y=!0;return y}function Cg(e,t){const n=(0,i.KdJ)(t,e),r=n[i.eDl];!function Sg(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[i.jgP];null!==l&&null===n[i.tcA]&&(n[i.tcA]=null),it(18),jc(r,n,n[i.SKP]),it(19,n[i.SKP])}function jc(e,t,n){(0,i.ID8)(t);try{const r=e.viewQuery;null!==r&&ei(1,r,n);const l=e.template;null!==l&&Tm(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[i.Ds7]?.finishViewCreation(e),e.staticContentQueries&&Za(e,t),e.staticViewQueries&&ei(2,e.viewQuery,n);const c=e.components;null!==c&&function Ag(e,t){for(let n=0;n<t.length;n++)Cg(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[i.Wg1]&=-5,(0,i.bll)()}}function Js(e,t,n,r){const l=(0,z.Ht)(null);try{const c=t.tView,v=Gs(e,c,n,4096&e[i.Wg1]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);v[i.rQE]=e[t.index];const L=e[i.Ds7];return null!==L&&(v[i.Ds7]=L.createEmbeddedView(c)),jc(c,v,n),v}finally{(0,z.Ht)(l)}}function ds(e,t){return!t||null===t.firstChild||qn(e)}function au(e,t,n,r,l=!1){for(;null!==n;){if(128===n.type){n=l?n.projectionNext:n.next;continue}const c=t[n.index];null!==c&&r.push((0,i.IvY)(c)),(0,i.A0l)(c)&&Gp(c,r);const m=n.type;if(8&m)au(e,t,n.child,r);else if(32&m){const y=qs(n,t);let v;for(;v=y();)r.push(v)}else if(16&m){const y=Am(t,n);if(Array.isArray(y))r.push(...y);else{const v=(0,i._0$)(t[i.b5C]);au(v[i.eDl],v,y,r,!0)}}n=l?n.projectionNext:n.next}return r}function Gp(e,t){for(let n=i.Y20;n<e.length;n++){const r=e[n],l=r[i.eDl].firstChild;null!==l&&au(r[i.eDl],r,l,t)}e[i.s6P]!==e[i.jgP]&&t.push(e[i.s6P])}function Nm(e){if(null!==e[i.JEi]){for(const t of e[i.JEi])t.impl.addSequence(t);e[i.JEi].length=0}}let Lm=[];const Ot={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,i.blu)(e.lView)},consumerOnSignalRead(){this.lView[i.Iaj]=this}},Mg={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,i._0$)(e.lView);for(;t&&!Xp(t[i.eDl]);)t=(0,i._0$)(t);t&&(0,i.HAh)(t)},consumerOnSignalRead(){this.lView[i.Iaj]=this}};function Xp(e){return 2!==e.type}function jm(e){if(null===e[i.tQN])return;let t=!0;for(;t;){let n=!1;for(const r of e[i.tQN])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[i.Wg1])}}function Bc(e,t=0){const r=e[i.M0L].rendererFactory;r.begin?.();try{!function Tg(e,t){const n=(0,i.yP_)();try{(0,i.cBl)(!0),Pi(e,t);let r=0;for(;(0,i.dMS)(e);){if(100===r)throw new i.buA(103,!1);r++,Pi(e,1)}}finally{(0,i.cBl)(n)}}(e,t)}finally{r.end?.()}}function Yp(e,t,n,r){if((0,i.EPY)(t))return;const l=t[i.Wg1];(0,i.ID8)(t);let y=!0,v=null,x=null;Xp(e)?(x=function Fm(e){return e[i.Iaj]??function qp(e){const t=Lm.pop()??Object.create(Ot);return t.lView=e,t}(e)}(t),v=(0,z.Bg)(x)):null===(0,z.nR)()?(y=!1,x=function Ua(e){const t=e[i.Iaj]??Object.create(Mg);return t.lView=e,t}(t),v=(0,z.Bg)(x)):t[i.Iaj]&&((0,z.XR)(t[i.Iaj]),t[i.Iaj]=null);try{(0,i.HUe)(t),(0,i.Kw3)(e.bindingStartIndex),null!==n&&Tm(e,t,n,2,r);const L=!(3&~l);if(L){const te=e.preOrderCheckHooks;null!==te&&Be(t,te,null)}else{const te=e.preOrderHooks;null!==te&&Xe(t,te,0,null),pt(t,0)}if(function Ig(e){for(let t=Zn(e);null!==t;t=po(t)){if(!(2&t[i.Wg1]))continue;const n=t[i.nfM];for(let r=0;r<n.length;r++)(0,i.HAh)(n[r])}}(t),jm(t),Jp(t,0),null!==e.contentQueries&&Za(e,t),L){const te=e.contentCheckHooks;null!==te&&Be(t,te)}else{const te=e.contentHooks;null!==te&&Xe(t,te,1),pt(t,1)}!function Vc(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)(0,i.ypq)(~l);else{const c=l,m=n[++r],y=n[++r];(0,i.vQI)(m,c);const v=t[c];it(24,v),y(2,v),it(25,v)}}}finally{(0,i.ypq)(-1)}}(e,t);const W=e.components;null!==W&&Uc(t,W,0);const ee=e.viewQuery;if(null!==ee&&ei(2,ee,r),L){const te=e.viewCheckHooks;null!==te&&Be(t,te)}else{const te=e.viewHooks;null!==te&&Xe(t,te,2),pt(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[i.pcR]){for(const te of t[i.pcR])te();t[i.pcR]=null}Nm(t),t[i.Wg1]&=-73}catch(L){throw(0,i.blu)(t),L}finally{null!==x&&((0,z.Wu)(x,v),y&&function Qp(e){e.lView[i.Iaj]!==e&&(e.lView=null,Lm.push(e))}(x)),(0,i.bll)()}}function Jp(e,t){for(let n=Zn(e);null!==n;n=po(n))for(let r=i.Y20;r<n.length;r++)Zp(n[r],t)}function Rg(e,t,n){it(18);const r=(0,i.KdJ)(t,e);Zp(r,n),it(19,r[i.SKP])}function Zp(e,t){(0,i.F1c)(e)&&Pi(e,t)}function Pi(e,t){const r=e[i.eDl],l=e[i.Wg1],c=e[i.Iaj];let m=!!(0===t&&16&l);if(m||=!!(64&l&&0===t),m||=!!(1024&l),m||=!(!c?.dirty||!(0,z.si)(c)),m||=!1,c&&(c.dirty=!1),e[i.Wg1]&=-9217,m)Yp(r,e,r.template,e[i.SKP]);else if(8192&l){const y=(0,z.Ht)(null);try{jm(e),Jp(e,1);const v=r.components;null!==v&&Uc(e,v,1),Nm(e)}finally{(0,z.Ht)(y)}}}function Uc(e,t,n){for(let r=0;r<t.length;r++)Rg(e,t[r],n)}function Zs(e,t){const n=(0,i.yP_)()?64:1088;for(e[i.M0L].changeDetectionScheduler?.notify(t);e;){e[i.Wg1]|=n;const r=(0,i._0$)(e);if((0,i.EFk)(e)&&!r)return e;e=r}return null}function $c(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Um(e,t){const n=i.Y20+t;if(n<e.length)return e[n]}function ms(e,t,n,r=!0){const l=t[i.eDl];if(function ef(e,t,n,r){const l=i.Y20+r,c=n.length;r>0&&(n[l-1][i.K29]=t),r<c-i.Y20?(t[i.K29]=n[l],(0,i.EYC)(n,i.Y20+r,t)):(n.push(t),t[i.K29]=null),t[i.f7T]=n;const m=t[i.rQE];null!==m&&n!==m&&Vm(m,t);const y=t[i.Ds7];null!==y&&y.insertView(e),(0,i._gW)(t),t[i.Wg1]|=128}(l,t,e,n),r){const m=ii(n,e),y=t[i.GpT],v=y.parentNode(e[i.s6P]);null!==v&&function bm(e,t,n,r,l,c){r[i.jgP]=l,r[i.qlT]=t,nu(e,r,n,1,l,c)}(l,e[i.qlT],y,t,v,m)}const c=t[i.tcA];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function Hc(e,t){const n=el(e,t);return void 0!==n&&Qs(n[i.eDl],n),n}function el(e,t){if(e.length<=i.Y20)return;const n=i.Y20+t,r=e[n];if(r){const l=r[i.rQE];null!==l&&l!==e&&Ac(l,r),t>0&&(e[n-1][i.K29]=r[i.K29]);const c=(0,i.E6O)(e,i.Y20+t);_m(r[i.eDl],r);const m=c[i.Ds7];null!==m&&m.detachView(c[i.eDl]),r[i.f7T]=null,r[i.K29]=null,r[i.Wg1]&=-129}return r}function Vm(e,t){const n=e[i.nfM],r=t[i.f7T];((0,i.q$2)(r)||t[i.b5C]!==r[i.f7T][i.b5C])&&(e[i.Wg1]|=2),null===n?e[i.nfM]=[t]:n.push(t)}class iu{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[i.eDl];return au(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[i.SKP]}set context(t){this._lView[i.SKP]=t}get destroyed(){return(0,i.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[i.f7T];if((0,i.A0l)(t)){const n=t[i.bm_],r=n?n.indexOf(this):-1;r>-1&&(el(t,r),(0,i.E6O)(n,r))}this._attachedToViewContainer=!1}Qs(this._lView[i.eDl],this._lView)}onDestroy(t){(0,i.ik5)(this._lView,t)}markForCheck(){Zs(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[i.Wg1]&=-129}reattach(){(0,i._gW)(this._lView),this._lView[i.Wg1]|=128}detectChanges(){this._lView[i.Wg1]|=1024,Bc(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new i.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,i.EFk)(this._lView),n=this._lView[i.rQE];null!==n&&!t&&Ac(n,this._lView),eu(this._lView[i.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new i.buA(902,!1);this._appRef=t;const n=(0,i.EFk)(this._lView),r=this._lView[i.rQE];null!==r&&!n&&Vm(r,this._lView),(0,i._gW)(this._lView)}}let tl=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=tf;constructor(n,r,l){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const c=Js(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:l});return new iu(c)}})();function tf(){return su((0,i.Mx4)(),(0,i.OAn)())}function su(e,t){return 4&e.type?new tl(t,e,Yn(e,t)):null}function Wm(e,t,n){const r=t.insertBeforeIndex,l=Array.isArray(r)?r[0]:r;return null===l?Dm(e,0,n):(0,i.IvY)(n[l])}function Va(e,t,n,r,l){const c=t.insertBeforeIndex;if(Array.isArray(c)){let m=r,y=null;if(3&t.type||(y=m,m=l),null!==m&&-1===t.componentOffset)for(let v=1;v<c.length;v++)xa(e,m,n[c[v]],y,!1)}}function si(e,t,n,r,l){let c=e.data[t];if(null===c)c=al(e,t,n,r,l),(0,i.JjR)()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=l;const m=(0,i.Ab)();c.injectorIndex=null===m?-1:m.injectorIndex}return(0,i.iMd)(c,!0),c}function al(e,t,n,r,l){const c=(0,i.veI)(),m=(0,i.YWB)(),v=e.data[t]=function qc(e,t,n,r,l,c){let m=t?t.injectorIndex:-1,y=0;return(0,i.KtD)()&&(y|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,n,t,r,l);return function Gc(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,v,c,m),v}function Mo(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Qc(r)||df(r,t)&&null===Xc(r)&&mf(r,t.index)}}function Qc(e){return!(64&e.type)}function df(e,t){return Qc(t)||e.index>t.index}function Xc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function mf(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Sm(Wm,Va),e.insertBeforeIndex=t)}function ya(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function jg(e,t,n){const r=al(e,n,64,null,null);return Mo(t,r),r}function uu(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Yc(e){return e>>>17}function Jc(e){return(131070&e)>>>1}function cu(e,t,n){e.index=0;const r=uu(t,n);e.removes=null!==r?t.remove[r]:i.Mlv}function hs(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),cu(e,e.lView[i.eDl].data[~t],e.lView),hs(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),hs(e))}function du(){const e={stack:[],index:-1};return function t(n,r){for(e.lView=r;e.stack.length;)e.stack.pop();return cu(e,n.value,r),hs.bind(null,e)}}function gf(e,t,n){for(const r of n.node.cases[n.case]){const l=t.get(r.index-i.Yw1);l&&Ks(e,l,!1)}}function vu(e){const t=e[i.qFA]??[],r=e[i.f7T][i.GpT],l=[];for(const c of t)void 0!==c.data.di?l.push(c):lh(c,r);e[i.qFA]=l}function vf(e){const{lContainer:t}=e,n=t[i.qFA];if(null===n)return;const l=t[i.f7T][i.GpT];for(const c of n)lh(c,l)}function lh(e,t){let n=0,r=e.firstChild;if(r){const l=e.data.r;for(;n<l;){const c=r.nextSibling;Ks(t,r,!1),r=c,n++}}}function _u(e){vu(e);const t=e[i.jgP];(0,i.q$2)(t)&&bu(t);for(let n=i.Y20;n<e.length;n++)bu(e[n])}function bu(e){!function sh(e){const t=e[i.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){const l=e[i.GpT];for(const c of r.values())gf(l,n,c)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[i.eDl];for(let n=i.Yw1;n<t.bindingStartIndex;n++)(0,i.A0l)(e[n])?_u(e[n]):(0,i.q$2)(e[n])&&bu(e[n])}let ku=class{},ch=class{};class dh{resolveComponentFactory(t){throw new i.buA(917,!1)}}let Du=class{static NULL=new dh};class Cu{}let ld=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function mh(){const e=(0,i.OAn)(),t=(0,i.Mx4)(),n=(0,i.KdJ)(t.index,e);return((0,i.q$2)(n)?n:e)[i.GpT]}()})(),Gg=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function ud(e){return void 0!==e.ngModule}function li(e){return!!(0,i.phH)(e)}function Su(e){return!!(0,i.oyA)(e)}function hh(e){return!!(0,i.HaV)(e)}function dl(e){return!!(0,i.xUg)(e)}function ph(e,t){if((0,i.Jzi)(e)&&!(e=(0,i.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,i.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,i.PP7)(e)||e}".`);if(null==(0,i.phH)(e)){const n=(0,i.xUg)(e)||(0,i.HaV)(e)||(0,i.oyA)(e);if(null==n)throw ud(e)?new Error(`A module with providers was imported from "${(0,i.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,i.PP7)(e)}" type, imported from "${(0,i.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone)throw new Error(`The "${(0,i.PP7)(e)}" ${function Ef(e){return(0,i.xUg)(e)?"component":(0,i.HaV)(e)?"directive":(0,i.oyA)(e)?"pipe":"type"}(e)}, imported from "${(0,i.PP7)(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class kf{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,i.phH)(t);if(n?.declarations)for(const r of fa(n.declarations))dl(r)&&this.ownerNgModule.set(r,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const r=(0,i.xUg)(t);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(r.standalone){const l=this.getStandaloneComponentScope(t,n);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(t));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(t,n){if(!li(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,i.WbQ)(t),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of fa(n.imports))if(li(l)){const c=this.getNgModuleScope(l);ui(c.exported.directives,r.compilation.directives),ui(c.exported.pipes,r.compilation.pipes)}else{if(!(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}if(hh(l)||dl(l))r.compilation.directives.add(l);else{if(!Su(l))throw new i.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(l)}}if(!r.compilation.isPoisoned)for(const l of fa(n.declarations)){if(li(l)||(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}Su(l)?r.compilation.pipes.add(l):r.compilation.directives.add(l)}for(const l of fa(n.exports))if(li(l)){const c=this.getNgModuleScope(l);ui(c.exported.directives,r.exported.directives),ui(c.exported.pipes,r.exported.pipes),ui(c.exported.directives,r.compilation.directives),ui(c.exported.pipes,r.compilation.pipes)}else Su(l)?r.exported.pipes.add(l):r.exported.directives.add(l);return r}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const r=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,r),r}computeStandaloneComponentScope(t,n){const r={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const l of(0,i.Bqz)(n??[])){const c=(0,i.nl4)(l);try{ph(c,t)}catch{return r.compilation.isPoisoned=!0,r}if(li(c)){r.compilation.ngModules.add(c);const m=this.getNgModuleScope(c);if(m.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;ui(m.exported.directives,r.compilation.directives),ui(m.exported.pipes,r.compilation.pipes)}else if(Su(c))r.compilation.pipes.add(c);else{if(!hh(c)&&!dl(c))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(c)}}return r}isOrphanComponent(t){const n=(0,i.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function ui(e,t){for(const n of e)t.add(n)}const fs=new kf,cd={};class ci{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const l=this.injector.get(t,cd,r);return l!==cd||n===cd?l:this.parentInjector.get(t,n,r)}}function Au(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const y=t[m];if("number"==typeof y)c=y;else if(1==c)l=(0,i.n$e)(l,y);else if(2==c){const x=t[++m];r=(0,i.n$e)(r,y+": "+x+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function ys(e,t=0){const n=(0,i.OAn)();return null===n?(0,i.KVO)(e,t):An((0,i.Mx4)(),n,(0,i.nl4)(e),t)}function fh(e,t,n,r,l){const c=null===r?null:{"":-1},m=l(e,n);if(null!==m){let y=m,v=null,x=null;for(const L of m)if(null!==L.resolveHostDirectives){[y,v,x]=L.resolveHostDirectives(m);break}!function ga(e,t,n,r,l,c,m){const y=r.length;let v=!1;for(let ee=0;ee<y;ee++){const te=r[ee];!v&&(0,i.JlV)(te)&&(v=!0,Cf(e,n,ee)),zn(Qr(n,t),e,te.type)}!function Mf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,y);for(let ee=0;ee<y;ee++){const te=r[ee];te.providersResolver&&te.providersResolver(te)}let x=!1,L=!1,W=is(e,t,y,null);y>0&&(n.directiveToIndex=new Map);for(let ee=0;ee<y;ee++){const te=r[ee];if(n.mergedAttrs=Rn(n.mergedAttrs,te.hostAttrs),md(e,n,t,W,te),Tu(W,te,l),null!==m&&m.has(te)){const[$e,yt]=m.get(te);n.directiveToIndex.set(te.type,[W,$e+n.directiveStart,yt+n.directiveStart])}else(null===c||!c.has(te))&&n.directiveToIndex.set(te.type,W);null!==te.contentQueries&&(n.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(n.flags|=64);const Me=te.type.prototype;!x&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),x=!0),!L&&(Me.ngOnChanges||Me.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),L=!0),W++}!function dd(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const l=e.data[r];if(null!==n&&n.has(l)){const c=n.get(l);Mu(0,t,c,r),Mu(1,t,c,r),vh(t,r,!0)}else gs(0,t,l,r),gs(1,t,l,r),vh(t,r,!1)}}(e,n,c)}(e,t,n,y,c,v,x)}null!==c&&null!==r&&function yh(e,t,n){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const c=n[t[l+1]];if(null==c)throw new i.buA(-301,!1);r.push(t[l],c)}}(n,r,c)}function Cf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gs(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){let m;m=0===e?t.inputs??={}:t.outputs??={},m[c]??=[],m[c].push(r),gh(t,c)}}function Mu(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){const m=l[c];let y;y=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},y[m]??=[],y[m].push(r,c),gh(t,m)}}function gh(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function vh(e,t,n){const{attrs:r,inputs:l,hostDirectiveInputs:c}=e;if(null===r||!n&&null===l||n&&null===c||bc(e))return e.initialInputs??=[],void e.initialInputs.push(null);let m=null,y=0;for(;y<r.length;){const v=r[y];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!n&&l.hasOwnProperty(v)){const x=l[v];for(const L of x)if(L===t){m??=[],m.push(v,r[y+1]);break}}else if(n&&c.hasOwnProperty(v)){const x=c[v];for(let L=0;L<x.length;L+=2)if(x[L]===t){m??=[],m.push(x[L+1],r[y+1]);break}}y+=2}else y+=2;else y+=4}e.initialInputs??=[],e.initialInputs.push(m)}function md(e,t,n,r,l){e.data[r]=l;const c=l.factory||(l.factory=(0,i.wGu)(l.type,!0)),m=new zt(c,(0,i.JlV)(l),ys,null);e.blueprint[r]=m,n[r]=m,function Sf(e,t,n,r,l){const c=l.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const y=~t.index;(function Af(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=y&&m.push(y),m.push(n,r,c)}}(e,t,r,is(e,n,l.hostVars,gn),l)}function Tu(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;(0,i.JlV)(t)&&(n[""]=e)}}function xu(e,t,n,r,l,c,m,y){const v=t[i.eDl],x=v.consts,W=si(v,e,n,r,(0,i.db4)(x,m));return c&&fh(v,t,W,(0,i.db4)(x,y),l),W.mergedAttrs=Rn(W.mergedAttrs,W.attrs),null!==W.attrs&&Au(W,W.attrs,!1),null!==W.mergedAttrs&&Au(W,W.mergedAttrs,!0),null!==v.queries&&v.queries.elementStart(v,W),W}function Iu(e,t){me(e,t),(0,i.srX)(t)&&e.queries.elementEnd(t)}function Wo(e,t,n,r,l,c){const m=t.consts,v=si(t,e,n,r,(0,i.db4)(m,l));if(v.mergedAttrs=Rn(v.mergedAttrs,v.attrs),null!=c){const x=(0,i.db4)(m,c);v.localNames=[];for(let L=0;L<x.length;L+=2)v.localNames.push(x[L],-1)}return null!==v.attrs&&Au(v,v.attrs,!1),null!==v.mergedAttrs&&Au(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}function di(e){return!!hd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function If(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}function hd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function va(e,t,n){return e[t]=n}function Wa(e,t){return e[t]}function Bn(e,t,n){return n!==gn&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Li(e,t,n,r){const l=Bn(e,t,n);return Bn(e,t+1,r)||l}function vs(e,t,n,r,l){const c=Li(e,t,n,r);return Bn(e,t+2,l)||c}function na(e,t,n,r,l,c){const m=Li(e,t,n,r);return Li(e,t+2,l,c)||m}function _s(e,t,n){return function r(l){Zs((0,i.Qs1)(e)?(0,i.KdJ)(e.index,t):t,5);const m=t[i.SKP];let y=pd(t,m,n,l),v=r.__ngNextListenerFn__;for(;v;)y=pd(t,m,v,l)&&y,v=v.__ngNextListenerFn__;return y}}function pd(e,t,n,r){const l=(0,z.Ht)(null);try{return it(6,t,n),!1!==n(r)}catch(c){return Rm(e,c),!1}finally{it(7,t,n),(0,z.Ht)(l)}}function Of(e,t,n,r,l,c,m,y){const v=(0,i.yoD)(e);let x=!1,L=null;if(!r&&v&&(L=function qg(e,t,n,r){const l=e.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const m=l[c];if(m===n&&l[c+1]===r){const y=t[i.VVG],v=l[c+2];return y&&y.length>v?y[v]:null}"string"==typeof m&&(c+=2)}return null}(t,n,c,e.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=m,L.__ngLastListenerFn__=m,x=!0;else{const W=(0,i.d31)(e,n),ee=r?r(W):W;!function nt(e,t,n,r){lt(e,t,n,r)}(n,ee,c,y);const te=l.listen(ee,c,y);ml(r?$e=>r((0,i.IvY)($e[e.index])):e.index,t,n,c,y,te,!1)}return x}function ml(e,t,n,r,l,c,m){const y=t.firstCreatePass?(0,i.vNG)(t):null,v=(0,i.d_l)(n),x=v.length;v.push(l,c),y&&y.push(r,e,x,(x+1)*(m?-1:1))}function Ru(e,t,n,r,l,c){const y=t[i.eDl],W=t[n][y.data[n].outputs[r]].subscribe(c);ml(e.index,y,t,l,c,W,!0)}const mi=Symbol("BINDING");class Eh extends Du{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,i.xUg)(t);return new bs(n,this.ngModule)}}class bs extends ch{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Yg(e){return Object.keys(e).map(t=>{const[n,r,l]=e[t],c={propName:n,templateName:t,isSignal:0!==(r&ss.SignalBased)};return l&&(c.transform=l),c})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jf(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function cm(e){return e.map(Tp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,l,c,m){it(22);const y=(0,z.Ht)(null);try{const v=this.componentDef,x=function _a(e,t,n,r){const l=e?["ng-version","20.1.6"]:function xp(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===l?""!==c&&t.push(c,e[++r]):8===l&&n.push(c);else{if(!Ho(l))break;l=c}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let c=null,m=null,y=0;if(n)for(const L of n)y+=L[mi].requiredVars,L.create&&(L.targetIdx=0,(c??=[]).push(L)),L.update&&(L.targetIdx=0,(m??=[]).push(L));if(r)for(let L=0;L<r.length;L++){const W=r[L];if("function"!=typeof W)for(const ee of W.bindings){y+=ee[mi].requiredVars;const te=L+1;ee.create&&(ee.targetIdx=te,(c??=[]).push(ee)),ee.update&&(ee.targetIdx=te,(m??=[]).push(ee))}}const v=[t];if(r)for(const L of r){const ee=(0,i.HaV)("function"==typeof L?L:L.type);v.push(ee)}return Jl(0,null,function Zg(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(c,m),1,y,v,null,null,null,[l],null)}(r,v,m,c),L=function Jg(e,t,n){let r=t instanceof i.uvJ?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new ci(n,r):n}(v,l||this.ngModule,t),W=function kh(e){const t=e.get(Cu,null);if(null===t)throw new i.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(Gg,null),changeDetectionScheduler:e.get(i.hk6,null),ngReflect:!1}}(L),ee=W.rendererFactory.createRenderer(null,v),te=r?function Bp(e,t,n,r){const c=r.get(_i,!1)||n===pa.ShadowDom,m=e.selectRootElement(t,c);return function Rc(e){Oc(e)}(m),m}(ee,r,v.encapsulation,L):function Ou(e,t){const n=(e.selectors[0][0]||"div").toLowerCase();return Yl(t,n,"svg"===n?i.jNX:"math"===n?i.rJ1:null)}(v,ee),Me=m?.some(Dh)||c?.some(ht=>"function"!=typeof ht&&ht.bindings.some(Dh)),$e=Gs(null,x,null,512|Cc(v),null,null,W,ee,L,null,null);$e[i.Yw1]=te,(0,i.ID8)($e);let yt=null;try{const ht=xu(i.Yw1,$e,2,"#host",()=>x.directiveRegistry,!0,0);te&&(fm(ee,te,ht),se(te,$e)),Ic(x,$e,ht),Xi(x,ht,$e),Iu(x,ht),void 0!==n&&function Uf(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const c=n[l];r.push(null!=c&&c.length?Array.from(c):null)}}(ht,this.ngContentSelectors,n),yt=(0,i.KdJ)(ht.index,$e),$e[i.SKP]=yt[i.SKP],jc(x,$e,null)}catch(ht){throw null!==yt&&ho(yt),ho($e),ht}finally{it(23),(0,i.bll)()}return new Bf(this.componentType,$e,!!Me)}finally{(0,z.Ht)(y)}}}function Dh(e){const t=e[mi].kind;return"input"===t||"twoWay"===t}class Bf extends ku{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=(0,i.XRZ)(n[i.eDl],i.Yw1),this.location=Yn(this._tNode,n),this.instance=(0,i.KdJ)(this._tNode.index,n)[i.SKP],this.hostView=this.changeDetectorRef=new iu(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Om(r,l[i.eDl],l,t,n),this.previousInputValues.set(t,n),Zs((0,i.KdJ)(r.index,l),1)}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Pu=(()=>class e{static __NG_ELEMENT_ID__=Ch})();function Ch(){return Sh((0,i.Mx4)(),(0,i.OAn)())}const Nu=Pu,za=class extends Nu{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Yn(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const t=ao(this._hostTNode,this._hostLView);if(gr(t)){const n=qr(t,this._hostLView),r=vr(t);return new Xt(n[i.eDl].data[r+8],n)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Vf(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-i.Y20}createEmbeddedView(t,n,r){let l,c;"number"==typeof r?l=r:null!=r&&(l=r.index,c=r.injector);const y=t.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(y,l,ds(this._hostTNode,null)),y}createComponent(t,n,r,l,c,m,y){const v=t&&!Se(t);let x;if(v)x=n;else{const yt=n||{};x=yt.index,r=yt.injector,l=yt.projectableNodes,c=yt.environmentInjector||yt.ngModuleRef,m=yt.directives,y=yt.bindings}const L=v?t:new bs((0,i.xUg)(t)),W=r||this.parentInjector;if(!c&&null==L.ngModule){const ht=(v?W:this.parentInjector).get(i.uvJ,null);ht&&(c=ht)}(0,i.xUg)(L.componentType??{});const $e=L.create(W,l,null,c,m,y);return this.insertImpl($e.hostView,x,ds(this._hostTNode,null)),$e}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const l=t._lView;if((0,i.ITl)(l)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const v=l[i.f7T],x=new za(v,v[i.qlT],v[i.f7T]);x.detach(x.indexOf(t))}}const c=this._adjustIndex(n),m=this._lContainer;return ms(m,l,c,r),t.attachToViewContainerRef(),(0,i.EYC)(fd(m),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Vf(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=el(this._lContainer,n);r&&((0,i.E6O)(fd(this._lContainer),n),Qs(r[i.eDl],r))}detach(t){const n=this._adjustIndex(t,-1),r=el(this._lContainer,n);return r&&null!=(0,i.E6O)(fd(this._lContainer),n)?new iu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Vf(e){return e[i.bm_]}function fd(e){return e[i.bm_]||(e[i.bm_]=[])}function Sh(e,t){let n;const r=t[e.index];return(0,i.A0l)(r)?n=r:(n=$c(r,t,null,e),t[e.index]=n,Sc(t,n)),yd(n,t,e,r),new za(n,e,t)}let yd=function ws(e,t,n,r){if(e[i.s6P])return;let l;l=8&n.type?(0,i.IvY)(r):function Ah(e,t){const n=e[i.GpT],r=n.createComment(""),l=(0,i.d31)(t,e),c=n.parentNode(l);return xa(n,c,r,n.nextSibling(l),!1),r}(t,n),e[i.s6P]=l},Lu=()=>!1;function Mh(e,t,n){return Lu(e,t,n)}class ju{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new ju(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bu{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){const m=n.getByIndex(c);l.push(this.queries[m.indexInDeclarationView].clone())}return new Bu(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yl(t,n).matches&&this.queries[n].setDirty()}}class Es{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function Oh(e){return e.split(",").map(t=>t.trim())}(t):t}}class Pa{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,l);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new Pa(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hl{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new hl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const c=r[l];this.matchTNodeWithReadOption(t,n,Uu(n,c)),this.matchTNodeWithReadOption(t,n,ur(n,t,c,!1,!1))}else r===tl?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ur(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===Pn||l===Pu||l===tl&&4&n.type)this.addMatch(n.index,-2);else{const c=ur(n,t,l,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Uu(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Fi(e,t,n,r){return-1===n?function pl(e,t){return 11&e.type?Yn(e,t):4&e.type?su(e,t):null}(t,e):-2===n?function Th(e,t,n){return n===Pn?Yn(t,e):n===tl?su(t,e):n===Pu?Sh(t,e):void 0}(e,t,r):Ur(e,e[i.eDl],n,t)}function xh(e,t,n,r){const l=t[i.Ds7].queries[r];if(null===l.matches){const c=e.data,m=n.matches,y=[];for(let v=0;null!==m&&v<m.length;v+=2){const x=m[v];y.push(x<0?null:Fi(t,c[x],m[v+1],n.metadata.read))}l.matches=y}return l.matches}function vd(e,t,n,r){const l=e.queries.getByIndex(n),c=l.matches;if(null!==c){const m=xh(e,t,l,n);for(let y=0;y<c.length;y+=2){const v=c[y];if(v>0)r.push(m[y/2]);else{const x=c[y+1],L=t[-v];for(let W=i.Y20;W<L.length;W++){const ee=L[W];ee[i.rQE]===ee[i.f7T]&&vd(ee[i.eDl],ee,x,r)}if(null!==L[i.nfM]){const W=L[i.nfM];for(let ee=0;ee<W.length;ee++){const te=W[ee];vd(te[i.eDl],te,x,r)}}}}}return r}function fl(e,t){return e[i.Ds7].queries[t].queryList}function Ih(e,t,n){const r=new Hr(!(4&~n));return(0,i.B22)(e,t,r,r.destroy),(t[i.Ds7]??=new Bu).queries.push(new ju(r))-1}function Rh(e,t,n){const r=(0,i.klJ)();return r.firstCreatePass&&(Vu(r,new Es(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),Ih(r,(0,i.OAn)(),t)}function _d(e,t,n,r){const l=(0,i.klJ)();if(l.firstCreatePass){const c=(0,i.Mx4)();Vu(l,new Es(t,n,r),c.index),function Hf(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return Ih(l,(0,i.OAn)(),n)}function Vu(e,t,n){null===e.queries&&(e.queries=new Pa),e.queries.track(new hl(t,n))}function yl(e,t){return e.queries.getByIndex(t)}function Wf(e,t){const n=e[i.eDl],r=yl(n,t);return r.crossesNgTemplate?vd(n,e,t,[]):xh(n,e,r,t)}function Ph(e,t){const n=e[z.bh];n._lView=(0,i.OAn)(),n._queryIndex=t,n._queryList=fl(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Kf(e){const t=[],n=new Map;function r(l){let c=n.get(l);if(!c){const m=e(l);n.set(l,c=m.then(y=>function av(e,t){return"string"==typeof t?t:void 0!==t.status&&200!==t.status?Promise.reject(new i.buA(918,!1)):t.text()}(0,y)))}return c}return ji.forEach((l,c)=>{const m=[];l.templateUrl&&m.push(r(l.templateUrl).then(x=>{l.template=x}));const y="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=y,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const x=l.styles.length,L=l.styleUrls;l.styleUrls.forEach((W,ee)=>{y.push(""),m.push(r(W).then(te=>{y[x+ee]=te,L.splice(L.indexOf(W),1),0==L.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&m.push(r(l.styleUrl).then(x=>{y.push(x),l.styleUrl=void 0}));const v=Promise.all(m).then(()=>function iv(e){vl.delete(e)}(c));t.push(v)}),function rv(){const e=ji;ji=new Map}(),Promise.all(t).then(()=>{})}let ji=new Map;const vl=new Set;function ov(){return 0===ji.size}const wd=new Map;function Fh(e,t){(function Lh(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${(0,i.AsM)(t)} vs ${(0,i.AsM)(t.name)}`)})(t,wd.get(t)||null,e),wd.set(t,e)}const jh=new Set;function ra(e){jh.has(e)||(jh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let hi=class{},$u=class{};function Xf(e,t){return new Ed(e,t??null,[])}class Ed extends hi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Eh(this);constructor(t,n,r,l=!0){super(),this.ngModuleType=t,this._parent=n;const c=(0,i.phH)(t);this._bootstrapComponents=fa(c.bootstrap),this._r3Injector=(0,i.Pz9)(t,n,[{provide:hi,useValue:this},{provide:Du,useValue:this.componentFactoryResolver},...r],(0,i.AsM)(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kd extends $u{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ed(this.moduleType,t,[])}}function Bh(e,t,n){return new Ed(e,t,n,!1)}class Uh extends hi{injector;componentFactoryResolver=new Eh(this);instance=null;constructor(t){super();const n=new i.e5P([...t.providers,{provide:hi,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],t.parent||(0,i.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Dd(e,t,n=null){return new Uh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let lv=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=(0,i.jXY)(!1,n.type),l=r.length>0?Dd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,i.KVO)(i.uvJ))})}return e})();function Ka(e){return Y(()=>{const t=ey(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===co.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?l=>l.get(lv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||pa.Emulated,styles:e.styles||i.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&ra("NgStandalone"),ty(n);const r=e.dependencies;return n.directiveDefs=Cd(r,pi),n.pipeDefs=Cd(r,i.oyA),n.id=function dv(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function pi(e){return(0,i.xUg)(e)||(0,i.HaV)(e)}function Vh(e){return Y(()=>({type:e.type,bootstrap:e.bootstrap||i.Mlv,declarations:e.declarations||i.Mlv,imports:e.imports||i.Mlv,exports:e.exports||i.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uv(e,t){if(null==e)return i.MZA;const n={};for(const r in e)if(e.hasOwnProperty(r)){const l=e[r];let c,m,y,v;Array.isArray(l)?(y=l[0],c=l[1],m=l[2]??c,v=l[3]||null):(c=l,m=l,y=ss.None,v=null),n[c]=[r,y,v],t[c]=m}return n}function $h(e){if(null==e)return i.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Jf(e){return Y(()=>{const t=ey(e);return ty(t),t})}function Zf(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ey(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||i.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||i.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:uv(e.inputs,t),outputs:$h(e.outputs),debugInfo:null}}function ty(e){e.features?.forEach(t=>t(e))}function Cd(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const l of n){const c=t(l);null!==c&&r.push(c)}return r}:null}function ny(e){return Object.getPrototypeOf(e.prototype).constructor}function Hh(e){let t=ny(e.type),n=!0;const r=[e];for(;t;){let l;if((0,i.JlV)(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new i.buA(903,!1);l=t.\u0275dir}if(l){if(n){r.push(l);const m=e;m.inputs=Sd(e.inputs),m.declaredInputs=Sd(e.declaredInputs),m.outputs=Sd(e.outputs);const y=l.hostBindings;y&&Ad(e,y);const v=l.viewQuery,x=l.contentQueries;if(v&&fi(e,v),x&&mv(e,x),ry(e,l),(0,i.dwj)(e.outputs,l.outputs),(0,i.JlV)(l)&&l.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let m=0;m<c.length;m++){const y=c[m];y&&y.ngInherit&&y(e),y===Hh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function oy(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=Rn(l.hostAttrs,n=Rn(n,l.hostAttrs))}}(r)}function ry(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Sd(e){return e===i.MZA?{}:e===i.Mlv?[]:e}function fi(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function mv(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,c)=>{t(r,l,c),n(r,l,c)}:t}function Ad(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}const Hu=["providersResolver"],ay=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function sy(e){const t=[];let n=!1,r=null,l=null;for(let c=0;c<e.length;c++){const m=e[c];if(null!==m.hostDirectives){const y=t.length;r??=new Map,l??=new Map,Md(m,t,r),l.set(m,[y,t.length-1])}0===c&&(0,i.JlV)(m)&&(n=!0,t.push(m))}for(let c=n?1:0;c<e.length;c++)t.push(e[c]);return[t,r,l]}function Md(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives)if("function"==typeof r){const l=r();for(const c of l)zh(_l(c),t,n)}else zh(r,t,n)}function zh(e,t,n){const r=(0,i.HaV)(e.directive);(function hv(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(r.declaredInputs,e.inputs),Md(r,t,n),n.set(r,e),t.push(r)}function _l(e){return"function"==typeof e?{directive:(0,i.nl4)(e),inputs:i.MZA,outputs:i.MZA}:{directive:(0,i.nl4)(e.directive),inputs:Kh(e.inputs),outputs:Kh(e.outputs)}}function Kh(e){if(void 0===e||0===e.length)return i.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function a(e,t,n,r,l,c,m,y){if(n.firstCreatePass){e.mergedAttrs=Rn(e.mergedAttrs,e.attrs);const L=e.tView=Jl(2,e,l,c,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),L.queries=n.queries.embeddedTView(e))}y&&(e.flags|=y),(0,i.iMd)(e,!1);const v=b(n,t,e,r);(0,i.SX7)()&&Tc(n,t,v,e),se(v,t);const x=$c(v,t,v,e);t[r+i.Yw1]=x,Sc(t,x),Mh(x,e,t)}function u(e,t,n,r,l,c,m,y,v,x,L){const W=n+i.Yw1;let ee;if(t.firstCreatePass){if(ee=si(t,W,4,m||null,y||null),null!=x){const te=(0,i.db4)(t.consts,x);ee.localNames=[];for(let Me=0;Me<te.length;Me+=2)ee.localNames.push(te[Me],-1)}}else ee=t.data[W];return a(ee,e,t,n,r,l,c,v),null!=x&&Ys(e,ee,L),ee}function d(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),x=(0,i.klJ)();return function o(e,t,n,r,l,c,m,y,v,x,L){const W=n+i.Yw1;let ee;t.firstCreatePass?(ee=si(t,W,4,m||null,y||null),(0,i.ckz)()&&fh(t,e,ee,(0,i.db4)(t.consts,x),Lc),me(t,ee)):ee=t.data[W],a(ee,e,t,n,r,l,c,v),(0,i.yoD)(ee)&&Ic(t,e,ee),null!=x&&Ys(e,ee,L)}(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),void 0,m,y),d}let b=function I(e,t,n,r){return(0,i.m7n)(!0),t[i.GpT].createComment("")};var we=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(we||{}),Ye=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Ye||{}),Ze=function(e){return e[e.Initial=-1]="Initial",e}(Ze||{}),ba=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(ba||{});function Na(e,t,n){const r=Wu(e);null===t[r]&&(t[r]=[]),t[r].push(n)}function bl(e,t){const n=Wu(e),r=t[n];if(null!==r){for(const l of r)l();t[n]=null}}function yi(e){bl(1,e),bl(0,e),bl(2,e)}function Wu(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}var zu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(zu||{});const ks=new i.nKC(""),_t=!1,Ct=class xt extends M.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,(0,i.M6u)()&&(this.destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0,this.pendingTasks=(0,i.WQX)(i.rev,{optional:!0})??void 0)}emit(t){const n=(0,z.Ht)(null);try{super.next(t)}finally{(0,z.Ht)(n)}}subscribe(t,n,r){let l=t,c=n||(()=>null),m=r;if(t&&"object"==typeof t){const v=t;l=v.next?.bind(v),c=v.error?.bind(v),m=v.complete?.bind(v)}this.__isAsync&&(c=this.wrapInTimeout(c),l&&(l=this.wrapInTimeout(l)),m&&(m=this.wrapInTimeout(m)));const y=super.subscribe({next:l,error:c,complete:m});return t instanceof X.yU&&t.add(y),y}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Zt(e){let t,n;function r(){e=i.lQ1;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function fr(e){return queueMicrotask(()=>e()),()=>{e=i.lQ1}}const vo="isAngularZone",wa=vo+"_ID";let $n=0;class Nn{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:c=_t}=t;if(typeof Zone>"u")throw new i.buA(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&r,m.shouldCoalesceRunChangeDetection=l,m.callbackScheduled=!1,m.scheduleInRootZone=c,function oa(e){const t=()=>{!function Bi(e){function t(){Zt(()=>{e.callbackScheduled=!1,Ds(e),e.isCheckStableRunning=!0,Pr(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ds(e))}(e)},n=$n++;e._inner=e._inner.fork({name:"angular",properties:{[vo]:!0,[wa]:n,[wa+n]:!0},onInvokeTask:(r,l,c,m,y,v)=>{if(function C0(e){return yv(e,"__ignore_ng_zone__")}(v))return r.invokeTask(c,m,y,v);try{return Ku(e),r.invokeTask(c,m,y,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),fv(e)}},onInvoke:(r,l,c,m,y,v,x)=>{try{return Ku(e),r.invoke(c,m,y,v,x)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function S0(e){return yv(e,"__scheduler_tick__")}(v)&&t(),fv(e)}},onHasTask:(r,l,c,m)=>{r.hasTask(c,m),l===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,Ds(e),Pr(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(r,l,c,m)=>(r.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(vo)}static assertInAngularZone(){if(!Nn.isInAngularZone())throw new i.buA(909,!1)}static assertNotInAngularZone(){if(Nn.isInAngularZone())throw new i.buA(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+l,t,ly,i.lQ1,i.lQ1);try{return c.runTask(m,n,r)}finally{c.cancelTask(m)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const ly={};function Pr(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ds(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Ku(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fv(e){e._nesting--,Pr(e)}class uy{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}function yv(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}function A0(e="zone.js",t){return"noop"===e?new uy:"zone.js"===e?new Nn(t):e}let gv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const vv=[0,1,2,3];let M0=(()=>{class e{ngZone=(0,i.WQX)(Nn);scheduler=(0,i.WQX)(i.hk6);errorHandler=(0,i.WQX)(i.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,i.WQX)(ks,{optional:!0})}execute(){const n=this.sequences.size>0;n&&it(16),this.executing=!0;for(const r of vv)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[r])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[r])(l.pipelinedValue),l.snapshot))}catch(c){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&it(17)}register(n){const{view:r}=n;void 0!==r?((r[i.JEi]??=[]).push(n),(0,i.blu)(r),r[i.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(zu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class _v{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,l,c,m=null){this.impl=t,this.hooks=n,this.view=r,this.once=l,this.snapshot=m,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[i.JEi];t&&(this.view[i.JEi]=t.filter(n=>n!==this))}}function bv(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return ra("NgAfterNextRender"),wv(e,n,t,!0)}function wv(e,t,n,r){const l=t.get(gv);l.impl??=t.get(M0);const c=t.get(ks,null,{optional:!0}),m=!0!==n?.manualCleanup?t.get(i.abz):null,y=t.get(i.r4V,null,{optional:!0}),v=new _v(l.impl,function x0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),y?.view,r,m,c?.snapshot(null));return l.impl.register(v),v}function Td(e){return e+1}function aa(e,t){return e[Td(t.index)]}function _o(e,t){const n=Td(t.index);return e.data[n]}function cy(e,t){return t===Ye.Placeholder?e.placeholderBlockConfig?.[0]??null:t===Ye.Loading?e.loadingBlockConfig?.[0]??null:null}function Ev(e){return e.loadingBlockConfig?.[1]??null}function kv(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function dy(e,t,n){const r=n.get(Nn);return function h(e,t,n){let r=Mt.get(e);return ro=ro||n(),r||(r=new jo,ro.observe(e),Mt.set(e,r),Zo++),r.callbacks.add(t),()=>{Mt.has(e)&&(r.callbacks.delete(t),0===r.callbacks.size&&(ro?.unobserve(e),Mt.delete(e),Zo--),0===Zo&&(ro?.disconnect(),ro=null))}}(e,()=>r.run(t),()=>r.runOutsideAngular(()=>function g(){return new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&Mt.has(t.target)&&Mt.get(t.target).listener()})}()))}function Gu(e,t,n,r,l,c,m){const y=e[i.YEL],v=y.get(Nn);let x;x=function T0(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return ra("NgAfterRender"),wv(e,n,t,!1)}({read:function L(){if((0,i.EPY)(e))return void x.destroy();const W=aa(e,t),ee=W[1];if(ee!==Ze.Initial&&ee!==Ye.Placeholder)return void x.destroy();const te=function N0(e,t,n){return null==n?e:n>=0?(0,i.jRZ)(n,e):e[t.index][i.Y20]??null}(e,t,r);if(!te||(x.destroy(),(0,i.EPY)(te)))return;const Me=function L0(e,t){return(0,i.vaC)(i.Yw1+t,e)}(te,n),$e=l(Me,()=>{v.run(()=>{e!==te&&(0,i.DyX)(te,$e),c()})},y);e!==te&&(0,i.ik5)(te,$e),Na(m,W,$e)}},{injector:y})}function Gh(e,t){const n=t.get(B0);return n.add(e),()=>n.remove(e)}let B0=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,i.WQX)(Nn);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:r,deferred:l}=this;r.delete(n),l.delete(n),0===r.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const r of this.current)r();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const r of this.deferred)this.current.add(r);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function qh(e){return(t,n)=>Cv(e,t,n)}function Cv(e,t,n){const r=n.get(U0),l=n.get(Nn);return r.add(e,t,l),()=>r.remove(t)}let U0=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,r,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,r),this.scheduleTimer(l)}remove(n){const{current:r,deferred:l}=this;-1===this.removeFromQueue(r,n)&&this.removeFromQueue(l,n),0===r.length&&0===l.length&&this.clearTimeout()}addToQueue(n,r,l){let c=n.length;for(let m=0;m<n.length;m+=2)if(n[m]>r){c=m;break}(0,i.llW)(n,c,r,l)}removeFromQueue(n,r){let l=-1;for(let c=0;c<n.length;c+=2)if(n[c+1]===r){l=c;break}return l>-1&&(0,i.gsJ)(n,l,2),l}scheduleTimer(n){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],m=Date.now();for(let v=0;v<c.length;v+=2){const L=c[v+1];if(!(c[v]<=m))break;L()}let y=-1;for(let v=0;v<this.current.length&&this.current[v]<=m;v+=2)y=v+1;if(y>=0&&(0,i.gsJ)(this.current,0,y+1),this.executingCallbacks=!1,this.deferred.length>0){for(let v=0;v<this.deferred.length;v+=2)this.addToQueue(this.current,this.deferred[v],this.deferred[v+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const c=Date.now(),m=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-m>16){this.clearTimeout();const y=Math.max(m-c,16);this.invokeTimerAt=m,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(r),y))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),V0=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,l,c){if(!this.cachedInjectors.has(n)){const m=l.length>0?Dd(l,r,c):null;this.cachedInjectors.set(n,m)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const $0=new i.nKC("");function my(e,t,n){return e.get(V0).getOrCreateInjector(t,e,n,"")}function Cs(e,t,n,r=!1){const l=n[i.f7T],c=l[i.eDl];if((0,i.EPY)(l))return;const m=aa(l,t),v=m[7];if(!(null!==v&&e<v)&&Mv(m[1],e)&&Mv(m[0]??-1,e)){const x=_o(c,t),W=r||null===Ev(x)&&null===cy(x,Ye.Loading)&&!cy(x,Ye.Placeholder)?Sv:hy;try{W(e,m,n,t,l)}catch(ee){Rm(l,ee)}}}function Sv(e,t,n,r,l){it(20);const c=function O0(e,t,n){const l=_o(t[i.eDl],n);switch(e){case Ye.Complete:return l.primaryTmplIndex;case Ye.Loading:return l.loadingTmplIndex;case Ye.Error:return l.errorTmplIndex;case Ye.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,r);if(null!==c){t[1]=e;const m=l[i.eDl],v=(0,i.XRZ)(m,c+i.Yw1),x=0;let L;if(Hc(n,x),e===Ye.Complete){const Me=_o(m,r),$e=Me.providers;$e&&$e.length>0&&(L=function H0(e,t,n){if(e instanceof ci){const l=e.injector,m=my(e.parentInjector,t,n);return new ci(l,m)}const r=e.get(i.uvJ);if(r!==e){const l=my(r,t,n);return new ci(e,l)}return my(e,t,n)}(l[i.YEL],Me,$e))}const{dehydratedView:W,dehydratedViewIx:ee}=function W0(e,t){const n=e[i.qFA]?.findIndex(l=>l.data.s===t[1])??-1;return{dehydratedView:n>-1?e[i.qFA][n]:null,dehydratedViewIx:n}}(n,t),te=Js(l,v,null,{injector:L,dehydratedView:W});if(ms(n,te,x,ds(v,W)),Zs(te,2),ee>-1&&n[i.qFA]?.splice(ee,1),(e===Ye.Complete||e===Ye.Error)&&Array.isArray(t[8])){for(const Me of t[8])Me();t[8]=null}}it(21)}function z0(e,t,n,r,l){const c=Date.now(),y=_o(l[i.eDl],r);if(null===t[2]||t[2]<=c){t[2]=null;const v=Ev(y),x=null!==t[3];if(e!==Ye.Loading||null===v||x){e>Ye.Loading&&x&&(t[3](),t[3]=null,t[0]=null),Sv(e,t,n,r,l);const L=cy(y,e);null!==L&&(t[2]=c+L,Av(L,t,r,n,l))}else{t[0]=e;const L=Av(v,t,r,n,l);t[3]=L}}else t[0]=e}function Av(e,t,n,r,l){return Cv(e,()=>{const m=t[0];t[2]=null,t[0]=null,null!==m&&Cs(m,n,r)},l[i.YEL])}function Mv(e,t){return e<t}function qu(e,t){Cs(Ye.Placeholder,t,e[t.index])}function Tv(e,t,n){e.loadingPromise.then(()=>{e.loadingState===we.COMPLETE?Cs(Ye.Complete,t,n):e.loadingState===we.FAILED&&Cs(Ye.Error,t,n)})}let hy=null;function G0(e,t,n,r){return Y(()=>{const l=e;null!==t&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...t):l.decorators=t),null!==n&&(l.ctorParameters=n),null!==r&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...r}:r)})}let xv=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const zv=new i.nKC(""),Kv=new i.nKC("");let yy,Ow=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,l){this._ngZone=n,this.registry=r,(0,i.M6u)()&&(this._destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0),yy||(function Pw(e){yy=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),n()},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:l})}whenStable(n,r,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static \u0275fac=function(r){return new(r||e)((0,i.KVO)(Nn),(0,i.KVO)(Gv),(0,i.KVO)(Kv))};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac})}return e})(),Gv=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yy?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function qv(e){return!!e&&"function"==typeof e.then}function Qv(e){return!!e&&"function"==typeof e.subscribe}const Xv=new i.nKC("");function Nw(e){return(0,i.EmA)([{provide:Xv,multi:!0,useValue:e}])}let Yv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=(0,i.WQX)(Xv,{optional:!0})??[];injector=(0,i.WQX)(i.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const c=(0,i.N4e)(this.injector,l);if(qv(c))n.push(c);else if(Qv(c)){const m=new Promise((y,v)=>{c.subscribe({complete:y,error:v})});n.push(m)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jv=new i.nKC("");function Lw(){}function Fw(){(0,z.KO)(()=>{throw new i.buA(600,"")})}function Zv(e,t){return Array.isArray(t)?t.reduce(Zv,e):{...e,...t}}let Yh=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,i.WQX)(i.ZTf);afterRenderManager=(0,i.WQX)(gv);zonelessEnabled=(0,i.WQX)(i.Evm);rootEffectScheduler=(0,i.WQX)(i.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new M.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,i.WQX)(i.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,Z.T)(n=>!n))}constructor(){(0,i.WQX)(ks,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:l=>{l&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,i.WQX)(i.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,l=i.zZn.NULL){return this._injector.get(Nn).run(()=>{it(10);const m=n instanceof ch;if(!this._injector.get(Yv).done)throw new i.buA(405,"");let v;v=m?n:this._injector.get(Du).resolveComponentFactory(n),this.componentTypes.push(v.componentType);const x=function jw(e){return e.isBoundToModule}(v)?void 0:this._injector.get(hi),W=v.create(l,[],r||v.selector,x),ee=W.location.nativeElement,te=W.injector.get(zv,null);return te?.registerApplication(ee),W.onDestroy(()=>{this.detachView(W.hostView),Jh(this.components,W),te?.unregisterApplication(ee)}),this._loadComponent(W),it(11,W),W})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){it(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(zu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new i.buA(101,!1);const n=(0,z.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,z.Ht)(n),this.afterTick.next(),it(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Cu,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)it(14),this.synchronizeOnce(),it(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(r||(0,i.dMS)(l))&&(Bc(l,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,i.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Jh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(n),this._injector.get(Jv,[]).forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new i.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function e_(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();if(qu(t,n),!r_(0,t))return;const r=t[i.YEL];Na(0,aa(t,n),e(()=>wl(0,t,n),r))}function t_(e,t){const n=(0,i.OAn)(),r=n[i.YEL],l=(0,i.Mx4)(),m=_o(n[i.eDl],l);m.loadingState===we.NOT_STARTED&&Na(1,aa(n,l),e(()=>Id(m,n,l),r))}function n_(e,t,n){const r=t[i.YEL],l=aa(t,n),c=l[6];Na(2,l,e(()=>El(r,c),r))}function Id(e,t,n){gy(e,t,n)}function gy(e,t,n){const r=t[i.YEL],l=t[i.eDl];if(e.loadingState!==we.NOT_STARTED)return e.loadingPromise??Promise.resolve();const c=aa(t,n),m=function P0(e,t){return(0,i.XRZ)(e,t.primaryTmplIndex+i.Yw1)}(l,e);e.loadingState=we.IN_PROGRESS,bl(1,c);let y=e.dependencyResolverFn;const v=r.get(i.u5s).add();return y?(e.loadingPromise=Promise.allSettled(y()).then(x=>{let L=!1;const W=[],ee=[];for(const te of x){if("fulfilled"!==te.status){L=!0;break}{const Me=te.value,$e=(0,i.xUg)(Me)||(0,i.HaV)(Me);if($e)W.push($e);else{const yt=(0,i.oyA)(Me);yt&&ee.push(yt)}}}if(L){if(e.loadingState=we.FAILED,null===e.errorTmplIndex){const Me=new i.buA(-750,!1);Rm(t,Me)}}else{e.loadingState=we.COMPLETE;const te=m.tView;if(W.length>0){te.directiveRegistry=kv(te.directiveRegistry,W);const Me=W.map(yt=>yt.type),$e=(0,i.jXY)(!1,...Me);e.providers=$e}ee.length>0&&(te.pipeRegistry=kv(te.pipeRegistry,ee))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,v()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=we.COMPLETE,v()}),e.loadingPromise)}function r_(e,t){return t[i.YEL].get($0,null,{optional:!0})?.behavior!==ba.Manual}function wl(e,t,n){const r=t[i.eDl],l=t[n.index];if(!r_(0,t))return;const c=aa(t,n),m=_o(r,n);switch(yi(c),m.loadingState){case we.NOT_STARTED:Cs(Ye.Loading,n,l),gy(m,t,n),m.loadingState===we.IN_PROGRESS&&Tv(m,n,l);break;case we.IN_PROGRESS:Cs(Ye.Loading,n,l),Tv(m,n,l);break;case we.COMPLETE:Cs(Ye.Complete,n,l);break;case we.FAILED:Cs(Ye.Error,n,l)}}function El(e,t,n){return vy.apply(this,arguments)}function vy(){return(vy=(0,E.A)(function*(e,t,n){const r=e.get(fn);if(r.hydrating.has(t))return;const{parentBlockPromise:c,hydrationQueue:m}=function ac(e,t){const n=t.get(fn),l=t.get(pn).get("__nghDeferData__",{});let c=!1,m=e,y=null;const v=[];for(;!c&&m;){c=n.has(m);const x=n.hydrating.get(m);if(null===y&&null!=x){y=x.promise;break}v.unshift(m),m=l[m].p}return{parentBlockPromise:y,hydrationQueue:v}}(t,e);if(0===m.length)return;null!==c&&m.shift(),function $w(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}(r,m),null!==c&&(yield c);const y=m[0];r.has(y)?yield o_(e,m,n):r.awaitParentBlock(y,(0,E.A)(function*(){return yield o_(e,m,n)}))})).apply(this,arguments)}function o_(e,t,n){return _y.apply(this,arguments)}function _y(){return(_y=(0,E.A)(function*(e,t,n){const r=e.get(fn),l=r.hydrating,c=e.get(i.rev),m=c.add();for(let v=0;v<t.length;v++){const x=t[v],L=r.get(x);if(null==L){Vw(v,t,r),a_(t.slice(v),r);break}if(yield Ww(L),yield Hw(e),Uw(L)){vf(L),a_(t.slice(v),r);break}l.get(x).resolve()}const y=t[t.length-1];yield l.get(y)?.promise,c.remove(m),n&&n(t),function id(e,t,n,r){null!==e&&(n.cleanup(t),_u(e.lContainer),function Ni(e){const t=e._views;for(const n of t){const r=Al(n);null!==r&&null!==r[i.jgP]&&((0,i.q$2)(r)?bu(r):_u(r))}}(r))}(r.get(y),t,r,e.get(Yh))})).apply(this,arguments)}function Uw(e){return aa(e.lView,e.tNode)[1]===Ye.Error}function Vw(e,t,n){const r=e-1,l=r>-1?n.get(t[r]):null;l&&_u(l.lContainer)}function a_(e,t){const n=t.hydrating;for(const r in e)n.get(r)?.reject();t.cleanup(e)}function Hw(e){return new Promise(t=>bv(t,{injector:e}))}function Ww(e){return by.apply(this,arguments)}function by(){return(by=(0,E.A)(function*(e){const{tNode:t,lView:n}=e,r=aa(n,t);return new Promise(l=>{(function zw(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(r,l),wl(0,n,t)})})).apply(this,arguments)}function ir(e,t,n){return 0===e?i_(t,n):2!==e||!i_(t,n)}function i_(e,t){const n=e[i.YEL],r=_o(e[i.eDl],t),l=function ki(e){return e.get(T,!1,{optional:!0})}(n),c=function Kw(e){return null!=e&&!(1&~e)}(r.flags),y=null!==aa(e,t)[6];return!(c&&y&&l)}function Ss(e,t){const n=_o(e,t);return n.hydrateTriggers??=new Map}function wy(e,t,n,r){const l=(0,i.OAn)();return Bn(l,(0,i.xbp)(),t)&&((0,i.klJ)(),function Eg(e,t,n,r,l,c){const m=(0,i.d31)(e,t);ru(t[i.GpT],m,c,e.value,n,r,l)}((0,i.CpD)(),l,e,t,n,r)),wy}class w1{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),l=Math.max(t,n),c=this.detach(l);if(l-r>1){const m=this.detach(r);this.attach(r,c),this.attach(l,m)}else this.attach(r,c)}move(t,n){this.attach(n,this.detach(t))}}function Ey(e,t,n,r,l){return e===n&&Object.is(t,r)?1:Object.is(l(e,t),l(n,r))?-1:0}function ky(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function l_(e,t,n,r,l){if(ky(e,t,r,n(r,l)))e.updateValue(r,l);else{const c=e.create(r,l);e.attach(r,c)}}function u_(e,t,n,r){const l=new Set;for(let c=t;c<=n;c++)l.add(r(c,e.at(c)));return l}class c_{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(r);)r=l.get(r);l.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(r);)r=l.get(r),t(r,n)}}}function Dy(e,t,n,r,l,c,m,y){ra("NgControlFlow");const v=(0,i.OAn)(),x=(0,i.klJ)();return u(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),512,m,y),Dy}class C1{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-i.Y20}}class M1{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class x1 extends w1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-i.Y20}at(t){return this.getLView(t)[i.SKP].$implicit}attach(t,n){const r=n[i.tcA];this.needsIndexUpdate||=t!==this.length,ms(this.lContainer,n,t,ds(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function R1(e,t){return el(e,t)}(this.lContainer,t)}create(t,n){const l=Js(this.hostLView,this.templateTNode,new C1(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),l}destroy(t){Qs(t[i.eDl],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[i.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[i.SKP].$index=t}getLView(t){return function O1(e,t){return Um(e,t)}(this.lContainer,t)}}function Zh(e,t){return e[t]}function Cy(e,t){return(0,i.XRZ)(e,t)}function Sy(e,t,n){const r=(0,i.OAn)();return Bn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Pc((0,i.CpD)(),r,e,t,r[i.GpT],n)),Sy}function Ay(e,t,n,r,l){Om(t,e,n,l?"class":"style",r)}function ep(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?xu(m,l,2,t,Lc,(0,i.ckz)(),n,r):c.data[m];if(Fc(y,l,e,t,Ty),(0,i.yoD)(y)){const v=l[i.eDl];Ic(v,l,y),Xi(v,y,l)}return null!=r&&Ys(l,y),ep}function tp(){const e=(0,i.klJ)(),n=ou((0,i.Mx4)());return e.firstCreatePass&&Iu(e,n),(0,i.UhH)(n)&&(0,i.krE)(),(0,i.N79)(),null!=n.classesWithoutHost&&function un(e){return!!(8&e.flags)}(n)&&Ay(e,n,(0,i.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ut(e){return!!(16&e.flags)}(n)&&Ay(e,n,(0,i.OAn)(),n.stylesWithoutHost,!1),tp}function My(e,t,n,r){return ep(e,t,n,r),tp(),My}function np(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?Wo(m,c,2,t,n,r):c.data[m];return Fc(y,l,e,t,Ty),null!=r&&Ys(l,y),np}function rp(){const t=ou((0,i.Mx4)());return(0,i.UhH)(t)&&(0,i.krE)(),(0,i.N79)(),rp}let Ty=(e,t,n,r,l)=>((0,i.m7n)(!0),Yl(t[i.GpT],r,(0,i.UaU)()));function op(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?xu(c,r,8,"ng-container",Lc,(0,i.ckz)(),t,n):l.data[c];if(Fc(m,r,e,"ng-container",Iy),(0,i.yoD)(m)){const y=r[i.eDl];Ic(y,r,m),Xi(y,m,r)}return null!=n&&Ys(r,m),op}function Rd(){const e=(0,i.klJ)(),n=ou((0,i.Mx4)());return e.firstCreatePass&&Iu(e,n),Rd}function xy(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?Wo(c,l,8,"ng-container",t,n):l.data[c];return Fc(m,r,e,"ng-container",Iy),null!=n&&Ys(r,m),xy}function h_(){return ou((0,i.Mx4)()),Rd}let Iy=(e,t,n,r,l)=>((0,i.m7n)(!0),kc(t[i.GpT],""));function f_(){return(0,i.OAn)()}const kl=void 0;var F1=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L1(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Xu={};function Ry(e){const t=function j1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=__(t);if(n)return n;const r=t.split("-")[0];if(n=__(r),n)return n;if("en"===r)return F1;throw new i.buA(701,!1)}function v_(e){return Ry(e)[Yu.PluralCase]}function __(e){return e in Xu||(Xu[e]=i.laP.ng&&i.laP.ng.common&&i.laP.ng.common.locales&&i.laP.ng.common.locales[e]),Xu[e]}var Yu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Yu||{});const B1=["zero","one","two","few","many"],Oy="en-US",ap={marker:"element"},ip={marker:"ICU"};var sa=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(sa||{});let b_=Oy;function $1(e){"string"==typeof e&&(b_=e.toLowerCase().replace(/_/g,"-"))}let Od=0,Pd=0;let Nd=(e,t,n,r)=>((0,i.m7n)(!0),function w_(e,t,n){const r=e[i.GpT];switch(n){case Node.COMMENT_NODE:return kc(r,t);case Node.TEXT_NODE:return Ec(r,t);case Node.ELEMENT_NODE:return Yl(r,t,null)}}(e,n,r));function E_(e,t,n,r){const l=n[i.GpT];let m,c=null;for(let y=0;y<t.length;y++){const v=t[y];if("string"==typeof v){const x=t[++y];null===n[x]&&(n[x]=Nd(n,0,v,Node.TEXT_NODE))}else if("number"==typeof v)switch(1&v){case 0:const x=Yc(v);let L,W;if(null===c&&(c=x,m=l.parentNode(r)),x===c?(L=r,W=m):(L=null,W=(0,i.IvY)(n[x])),null!==W){const $e=Jc(v);xa(l,W,n[$e],L,!1);const ht=ya(e,$e);if(null!==ht&&"object"==typeof ht){const Je=uu(ht,n);null!==Je&&E_(e,ht.create[Je],n,n[ht.anchorIdx])}}break;case 1:const te=t[++y],Me=t[++y];ru(l,(0,i.vaC)(v>>>1,n),null,null,te,Me,null)}else switch(v){case ip:const x=t[++y],L=t[++y];null===n[L]&&se(n[L]=Nd(n,0,x,Node.COMMENT_NODE),n);break;case ap:const W=t[++y],ee=t[++y];null===n[ee]&&se(n[ee]=Nd(n,0,W,Node.ELEMENT_NODE),n)}}}function k_(e,t,n,r,l){for(let c=0;c<n.length;c++){const m=n[c],y=n[++c];if(m&l){let v="";for(let x=c+1;x<=c+y;x++){const L=n[x];if("string"==typeof L)v+=L;else if("number"==typeof L)if(L<0)v+=(0,i.eFE)(t[r-L]);else{const W=L>>>2;switch(3&L){case 1:const ee=n[++x],te=n[++x],Me=e.data[W];"string"==typeof Me?ru(t[i.GpT],t[W],null,Me,ee,v,te):Pc(Me,t,ee,v,t[i.GpT],te);break;case 0:const $e=t[W];null!==$e&&dm(t[i.GpT],$e,v);break;case 2:q1(e,ya(e,W),t,v);break;case 3:D_(e,ya(e,W),r,t)}}}}else{const v=n[c+1];if(v>0&&!(3&~v)){const L=ya(e,v>>>2);t[L.currentCaseLViewIndex]<0&&D_(e,L,r,t)}}c+=y}}function D_(e,t,n,r){let l=r[t.currentCaseLViewIndex];if(null!==l){let c=Od;l<0&&(l=r[t.currentCaseLViewIndex]=~l,c=-1),k_(e,r,t.update[l],n,c)}}function q1(e,t,n,r){const l=function Q1(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function U1(e,t){const n=v_(t)(parseInt(e,10)),r=B1[n];return void 0!==r?r:"other"}(t,function H1(){return b_}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(uu(t,n)!==l&&(C_(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const m=n[t.anchorIdx];m&&E_(e,t.create[l],n,m)}}function C_(e,t,n){let r=uu(t,n);if(null!==r){const l=t.remove[r];for(let c=0;c<l.length;c++){const m=l[c];if(m>0){const y=(0,i.vaC)(m,n);null!==y&&Ks(n[i.GpT],y)}else C_(e,ya(e,~m),n)}}}const sp=/\ufffd(\d+):?\d*\ufffd/gi,X1=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Y1=/\ufffd(\d+)\ufffd/,A_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,J1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Z1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eE=/\uE500/g;function M_(e,t,n,r,l,c,m){const y=is(e,r,1,null);let v=y<<sa.SHIFT,x=(0,i.Ab)();t===x&&(x=null),null===x&&(v|=sa.APPEND_EAGERLY),m&&(v|=sa.COMMENT,function vm(e){void 0===us&&(us=e())}(du)),l.push(v,null===c?"":c);const L=al(e,y,m?32:1,null===c?"":c,null);Mo(n,L);const W=L.index;return(0,i.iMd)(L,!1),null!==x&&t!==x&&function hf(e,t){let n=e.insertBeforeIndex;null===n?(Sm(Wm,Va),n=e.insertBeforeIndex=[null,t]):((0,i.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(x,W),L}function rE(e,t,n,r,l,c,m,y){const v=y.match(sp),L=M_(t,n,r,m,l,v?null:y,!1).index;v&&Fd(c,y,L,null,0,null),e.push({kind:0,index:L})}function Fd(e,t,n,r,l,c){const m=e.length,y=m+1;e.push(null,null);const v=m+2,x=t.split(sp);let L=0;for(let W=0;W<x.length;W++){const ee=x[W];if(1&W){const te=l+parseInt(ee,10);e.push(-1-te),L|=T_(te)}else""!==ee&&e.push(ee)}return e.push(n<<2|(r?1:0)),r&&e.push(r,c),e[m]=L,e[y]=e.length-v,L}function aE(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function T_(e){return 1<<Math.min(e,31)}function x_(e){let t,c,n="",r=0,l=!1;for(;null!==(t=J1.exec(e));)l?t[0]===`\ufffd/*${c}\ufffd`&&(r=t.index,l=!1):(n+=e.substring(r,t.index+t[0].length),c=t[1],l=!0);return n+=e.slice(r),n}function I_(e,t,n,r,l,c,m){let y=0;const v={type:c.type,currentCaseLViewIndex:is(t,n,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function cE(e,t,n){e.push(T_(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(r,c,m),function zm(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(t,m,v);const x=c.values,L=[];for(let W=0;W<x.length;W++){const ee=x[W],te=[];for(let $e=0;$e<ee.length;$e++){const yt=ee[$e];if("string"!=typeof yt){const ht=te.push(yt)-1;ee[$e]=`\x3c!--\ufffd${ht}\ufffd--\x3e`}}const Me=[];L.push(Me),y=lE(Me,t,v,n,r,l,c.cases[W],ee.join(""),te)|y}y&&function dE(e,t,n){e.push(t,1,n<<2|3)}(r,y,m),e.push({kind:3,index:m,cases:L,currentCaseLViewIndex:v.currentCaseLViewIndex})}function sE(e){const t=[],n=[];let r=1,l=0;const c=Py(e=e.replace(A_,function(m,y,v){return r="select"===v?0:1,l=parseInt(y.slice(1),10),""}));for(let m=0;m<c.length;){let y=c[m++].trim();1===r&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&t.push(y);const v=Py(c[m++]);t.length>n.length&&n.push(v)}return{type:r,mainBinding:l,cases:t,values:n}}function Py(e){if(!e)return[];let t=0;const n=[],r=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(e);){const y=c.index;if("}"==c[0]){if(n.pop(),0==n.length){const v=e.substring(t,y);A_.test(v)?r.push(sE(v)):r.push(v),t=y+1}}else{if(0==n.length){const v=e.substring(t,y);r.push(v),t=y+1}n.push("{")}}const m=e.substring(t);return r.push(m),r}function lE(e,t,n,r,l,c,m,y,v){const x=[],L=[],W=[];n.cases.push(m),n.create.push(x),n.remove.push(L),n.update.push(W);const te=ts(he()).getInertBodyElement(y),Me=ke(te)||te;return Me?R_(e,t,n,r,l,x,L,W,Me,c,v,0):0}function R_(e,t,n,r,l,c,m,y,v,x,L,W){let ee=0,te=v.firstChild;for(;te;){const Me=is(t,r,1,null);switch(te.nodeType){case Node.ELEMENT_NODE:const $e=te,yt=$e.tagName.toLowerCase();if($l.hasOwnProperty(yt)){Ny(c,ap,yt,x,Me),t.data[Me]=yt;const Io=$e.attributes;for(let lg=0;lg<Io.length;lg++){const Sl=Io.item(lg),y0=Sl.name.toLowerCase();Sl.value.match(sp)?Hl.hasOwnProperty(y0)&&Fd(y,Sl.value,Me,Sl.name,0,ns[y0]?Ti:null):mE(c,Me,Sl)}const Ln={kind:1,index:Me,children:[]};e.push(Ln),ee=R_(Ln.children,t,n,r,l,c,m,y,te,Me,L,W+1)|ee,O_(m,Me,W)}break;case Node.TEXT_NODE:const ht=te.textContent||"",Je=ht.match(sp);Ny(c,null,Je?"":ht,x,Me),O_(m,Me,W),Je&&(ee=Fd(y,ht,Me,null,0,null)|ee),e.push({kind:0,index:Me});break;case Node.COMMENT_NODE:const En=Y1.exec(te.textContent||"");if(En){const Ln=L[parseInt(En[1],10)];Ny(c,ip,"",x,Me),I_(e,t,r,l,x,Ln,Me),uE(m,Me,W)}}te=te.nextSibling}return ee}function O_(e,t,n){0===n&&e.push(t)}function uE(e,t,n){0===n&&(e.push(~t),e.push(t))}function Ny(e,t,n,r,l){null!==t&&e.push(t),e.push(n,l,function Gm(e,t,n){return e|t<<17|n<<1}(0,r,l))}function mE(e,t,n){e.push(t<<1|1,n.name,n.value)}const hE=/\[(\ufffd.+?\ufffd?)\]/,pE=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,fE=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,yE=/{([A-Z0-9_]+)}/g,gE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,vE=/\/\*/,_E=/\d+\:(\d+)/;function N_(e,t,n=-1){const r=(0,i.klJ)(),l=(0,i.OAn)(),c=i.Yw1+e,m=(0,i.db4)(r.consts,t),y=(0,i.Ab)();r.firstCreatePass&&function nE(e,t,n,r,l,c){const m=(0,i.Ab)(),y=[],v=[],x=[[]],L=[[]];l=function iE(e,t){if(function qm(e){return-1===e}(t))return x_(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return x_(e.substring(n,r))}}(l,c);const W=function tE(e){return e.replace(eE," ")}(l).split(Z1);for(let ee=0;ee<W.length;ee++){let te=W[ee];if(1&ee){const Me=47===te.charCodeAt(0),$e=te.charCodeAt(Me?1:0),yt=i.Yw1+Number.parseInt(te.substring(Me?2:1));if(Me)x.shift(),L.shift(),(0,i.iMd)((0,i.Ab)(),!1);else{const ht=jg(e,x[0],yt);x.unshift([]),(0,i.iMd)(ht,!0);const Je={kind:2,index:yt,children:[],type:35===$e?0:1};L[0].push(Je),L.unshift(Je.children)}}else{const Me=Py(te);for(let $e=0;$e<Me.length;$e++){let yt=Me[$e];if(1&$e){const ht=yt;if("object"!=typeof ht)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const En=M_(e,m,x[0],n,y,"",!0).index;I_(L[0],e,n,v,t,ht,En)}else""!==yt&&rE(L[0],e,m,x[0],y,v,n,yt)}}}e.data[r]={create:y,update:v,ast:L[0],parentTNodeIndex:t}}(r,null===y?0:y.index,l,c,m,n),2===r.type?l[i.b5C][i.Wg1]|=32:l[i.Wg1]|=32;const v=r.data[c],L=Em(r,y===l[i.qlT]?null:y,l);(function G1(e,t,n,r){const l=e[i.GpT];for(let c=0;c<t.length;c++){const m=t[c++],x=(m&sa.APPEND_EAGERLY)===sa.APPEND_EAGERLY,L=m>>>sa.SHIFT;let W=e[L],ee=!1;null===W&&(W=e[L]=Nd(e,0,t[c],(m&sa.COMMENT)===sa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ee=(0,i.SX7)()),x&&null!==n&&ee&&xa(l,n,W,r,!1)}})(l,v.create,L,y&&8&y.type?l[y.index]:null),(0,i.xyx)(!0)}function L_(){(0,i.xyx)(!1)}function Ly(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return jy(l,r,r[i.GpT],c,e,t,n),Ly}function Fy(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return(3&c.type||n)&&Of(c,l,r,n,r[i.GpT],e,t,_s(c,r,t)),Fy}function jy(e,t,n,r,l,c,m){let y=!0,v=null;if((3&r.type||m)&&(v??=_s(r,t,c),Of(r,e,t,m,n,l,c,v)&&(y=!1)),y){const x=r.outputs?.[l],L=r.hostDirectiveOutputs?.[l];if(L&&L.length)for(let W=0;W<L.length;W+=2){const ee=L[W],te=L[W+1];v??=_s(r,t,c),Ru(r,t,ee,te,l,v)}if(x&&x.length)for(const W of x)v??=_s(r,t,c),Ru(r,t,W,l,l,v)}}function B_(e=1){return(0,i.jvu)(e)}function CE(e,t){let n=null;const r=function Cp(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const c=t[l];if("*"!==c){if(null===r?Ri(e,c,!0):Mp(r,c))return l}else n=l}return n}function U_(e,t,n,r){_d(e,t,n,r)}function V_(e,t,n){Rh(e,t,n)}function $_(e){const t=(0,i.OAn)(),n=(0,i.klJ)(),r=(0,i.w7Z)();(0,i.GA0)(r+1);const l=yl(n,r);if(e.dirty&&(0,i.vOT)(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const c=Wf(t,r);e.reset(c,Jn),e.notifyOnChanges()}return!0}return!1}function H_(){return fl((0,i.OAn)(),(0,i.w7Z)())}function W_(e){const t=(0,i.VPL)();return(0,i.Hh6)(t,i.Yw1+e)}function lp(e,t){return e<<17|t<<2}function Dl(e){return e>>17&32767}function By(e){return 2|e}function Ju(e){return(131068&e)>>2}function Uy(e,t){return-131069&e|t<<2}function Vy(e){return 1|e}function z_(e,t,n,r){const l=e[n+1],c=null===t;let m=r?Dl(l):Ju(l),y=!1;for(;0!==m&&(!1===y||c);){const x=e[m+1];FE(e[m],t)&&(y=!0,e[m+1]=r?Vy(x):By(x)),m=r?Dl(x):Ju(x)}y&&(e[n+1]=r?By(l):Vy(l))}function FE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,i.FRF)(e,t)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function K_(e){return e.substring(Kr.key,Kr.keyEnd)}function jE(e){return e.substring(Kr.value,Kr.valueEnd)}function G_(e,t){const n=Kr.textEnd;return n===t?-1:(t=Kr.keyEnd=function VE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Kr.key=t,n),Zu(e,t,n))}function q_(e,t){const n=Kr.textEnd;let r=Kr.key=Zu(e,t,n);return n===r?-1:(r=Kr.keyEnd=function $E(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=X_(e,r,n),r=Kr.value=Zu(e,r,n),r=Kr.valueEnd=function HE(e,t,n){let r=-1,l=-1,c=-1,m=t,y=m;for(;m<n;){const v=e.charCodeAt(m++);if(59===v)return y;34===v||39===v?y=m=Y_(e,v,m,n):t===m-4&&85===c&&82===l&&76===r&&40===v?y=m=Y_(e,41,m,n):v>32&&(y=m),c=l,l=r,r=-33&v}return y}(e,r,n),X_(e,r,n))}function Q_(e){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=e.length}function Zu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function X_(e,t,n,r){return(t=Zu(e,t,n))<n&&t++,t}function Y_(e,t,n,r){let l=-1,c=n;for(;c<r;){const m=e.charCodeAt(c++);if(m==t&&92!==l)return c;l=92==m&&92===l?0:m}throw new Error}function $y(e,t,n){return Z_(e,t,n,!1),$y}function Hy(e,t){return Z_(e,t,null,!0),Hy}function zE(e,t){for(let n=function UE(e){return Q_(e),q_(e,Zu(e,0,Kr.textEnd))}(t);n>=0;n=q_(t,n))rb(e,K_(t),jE(t))}function J_(e){eb(JE,KE,e,!0)}function KE(e,t){for(let n=function BE(e){return Q_(e),G_(e,Zu(e,0,Kr.textEnd))}(t);n>=0;n=G_(t,n))(0,i.ezK)(e,K_(t),!0)}function Z_(e,t,n,r){const l=(0,i.OAn)(),c=(0,i.klJ)(),m=(0,i.b$O)(2);c.firstUpdatePass&&nb(c,e,m,r),t!==gn&&Bn(l,m,t)&&ob(c,c.data[(0,i._px)()],l,l[i.GpT],e,l[m+1]=function ek(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,i.AsM)(ta(e)))),e}(t,n),r,m)}function eb(e,t,n,r){const l=(0,i.klJ)(),c=(0,i.b$O)(2);l.firstUpdatePass&&nb(l,null,c,r);const m=(0,i.OAn)();if(n!==gn&&Bn(m,c,n)){const y=l.data[(0,i._px)()];if(ib(y,r)&&!tb(l,c)){let v=r?y.classesWithoutHost:y.stylesWithoutHost;null!==v&&(n=(0,i.n$e)(v,n||"")),Ay(l,y,m,n,r)}else!function ZE(e,t,n,r,l,c,m,y){l===gn&&(l=i.Mlv);let v=0,x=0,L=0<l.length?l[0]:null,W=0<c.length?c[0]:null;for(;null!==L||null!==W;){const ee=v<l.length?l[v+1]:void 0,te=x<c.length?c[x+1]:void 0;let $e,Me=null;L===W?(v+=2,x+=2,ee!==te&&(Me=W,$e=te)):null===W||null!==L&&L<W?(v+=2,Me=L):(x+=2,Me=W,$e=te),null!==Me&&ob(e,t,n,r,Me,$e,m,y),L=v<l.length?l[v]:null,W=x<c.length?c[x]:null}}(l,y,m,m[i.GpT],m[c+1],m[c+1]=function YE(e,t,n){if(null==n||""===n)return i.Mlv;const r=[],l=ta(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)e(r,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&e(r,c,l[c]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,c)}}function tb(e,t){return t>=e.expandoStartIndex}function nb(e,t,n,r){const l=e.data;if(null===l[n+1]){const c=l[(0,i._px)()],m=tb(e,n);ib(c,r)&&null===t&&!m&&(t=!1),t=function GE(e,t,n,r){const l=(0,i.MT)(e);let c=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=jd(n=Wy(null,e,t,n,r),t.attrs,r),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==l)if(n=Wy(l,e,t,n,r),null===c){let v=function qE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ju(r))return e[Dl(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Wy(null,e,t,v[1],r),v=jd(v,t.attrs,r),function QE(e,t,n,r){e[Dl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else c=function XE(e,t,n){let r;const l=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<l;c++)r=jd(r,e[c].hostAttrs,n);return jd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(l,c,t,r),function NE(e,t,n,r,l,c){let m=c?t.classBindings:t.styleBindings,y=Dl(m),v=Ju(m);e[r]=n;let L,x=!1;if(Array.isArray(n)?(L=n[1],(null===L||(0,i.FRF)(n,L)>0)&&(x=!0)):L=n,l)if(0!==v){const ee=Dl(e[y+1]);e[r+1]=lp(ee,y),0!==ee&&(e[ee+1]=Uy(e[ee+1],r)),e[y+1]=function OE(e,t){return 131071&e|t<<17}(e[y+1],r)}else e[r+1]=lp(y,0),0!==y&&(e[y+1]=Uy(e[y+1],r)),y=r;else e[r+1]=lp(v,0),0===y?y=r:e[v+1]=Uy(e[v+1],r),v=r;x&&(e[r+1]=By(e[r+1])),z_(e,L,r,!0),z_(e,L,r,!1),function LE(e,t,n,r,l){const c=l?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&(0,i.FRF)(c,t)>=0&&(n[r+1]=Vy(n[r+1]))}(t,L,e,r,c),m=lp(y,v),c?t.classBindings=m:t.styleBindings=m}(l,c,t,n,m,r)}}function Wy(e,t,n,r,l){let c=null;const m=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<m&&(c=t[y],r=jd(r,c.hostAttrs,l),c!==e);)y++;return null!==e&&(n.directiveStylingLast=y),r}function jd(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?l=m:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,i.ezK)(e,m,!!n||t[++c]))}return void 0===e?null:e}function rb(e,t,n){(0,i.ezK)(e,t,ta(n))}function JE(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&(0,i.ezK)(e,r,n)}function ob(e,t,n,r,l,c,m,y){if(!(3&t.type))return;const v=e.data,x=v[y+1],L=function PE(e){return!(1&~e)}(x)?ab(v,t,n,l,Ju(x),m):void 0;up(L)||(up(c)||function RE(e){return!(2&~e)}(x)&&(c=ab(v,null,n,l,y,m)),function jp(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:Zl.DashCase;null==l?e.removeStyle(n,r,c):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=Zl.Important),e.setStyle(n,r,l,c))}}(r,m,(0,i.vaC)((0,i._px)(),n),l,c))}function ab(e,t,n,r,l,c){const m=null===t;let y;for(;l>0;){const v=e[l],x=Array.isArray(v),L=x?v[1]:v,W=null===L;let ee=n[l+1];ee===gn&&(ee=W?i.Mlv:void 0);let te=W?(0,i.K7h)(ee,r):L===r?ee:void 0;if(x&&!up(te)&&(te=(0,i.K7h)(v,r)),up(te)&&(y=te,m))return y;const Me=e[l+1];l=m?Dl(Me):Ju(Me)}if(null!==t){let v=c?t.residualClasses:t.residualStyles;null!=v&&(y=(0,i.K7h)(v,r))}return y}function up(e){return void 0!==e}function ib(e,t){return!!(e.flags&(t?8:16))}function sb(e,t=""){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=e+i.Yw1,c=r.firstCreatePass?si(r,l,1,t,null):r.data[l],m=lb(r,n,c,t,e);n[l]=m,(0,i.SX7)()&&Tc(r,n,m,c),(0,i.iMd)(c,!1)}let lb=(e,t,n,r,l)=>((0,i.m7n)(!0),Ec(t[i.GpT],r));function ub(e,t){let n=!1,r=(0,i.c$7)();for(let c=1;c<t.length;c+=2)n=Bn(e,r++,t[c])||n;if((0,i.Kw3)(r),!n)return gn;let l=t[0];for(let c=1;c<t.length;c+=2)l+=(0,i.eFE)(t[c])+(c+1!==t.length?t[c+1]:"");return l}function cb(e,t,n,r=""){return Bn(e,(0,i.xbp)(),n)?t+(0,i.eFE)(n)+r:gn}function db(e,t,n,r,l,c=""){const y=Li(e,(0,i.c$7)(),n,l);return(0,i.b$O)(2),y?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c:gn}function mb(e,t,n,r,l,c,m,y=""){const x=vs(e,(0,i.c$7)(),n,l,m);return(0,i.b$O)(3),x?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y:gn}function hb(e,t,n,r,l,c,m,y,v,x=""){const W=na(e,(0,i.c$7)(),n,l,m,v);return(0,i.b$O)(4),W?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x:gn}function pb(e,t,n,r,l,c,m,y,v,x,L,W=""){const ee=(0,i.c$7)();let te=na(e,ee,n,l,m,v);return te=Bn(e,ee+4,L)||te,(0,i.b$O)(5),te?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W:gn}function fb(e,t,n,r,l,c,m,y,v,x,L,W,ee,te=""){const Me=(0,i.c$7)();let $e=na(e,Me,n,l,m,v);return $e=Li(e,Me+4,L,ee)||$e,(0,i.b$O)(6),$e?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te:gn}function yb(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e=""){const yt=(0,i.c$7)();let ht=na(e,yt,n,l,m,v);return ht=vs(e,yt+4,L,ee,Me)||ht,(0,i.b$O)(7),ht?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te+(0,i.eFE)(Me)+$e:gn}function gb(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e,yt,ht=""){const Je=(0,i.c$7)();let En=na(e,Je,n,l,m,v);return En=na(e,Je+4,L,ee,Me,yt)||En,(0,i.b$O)(8),En?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te+(0,i.eFE)(Me)+$e+(0,i.eFE)(yt)+ht:gn}function zy(e){return cp("",e),zy}function cp(e,t,n){const r=(0,i.OAn)(),l=cb(r,e,t,n);return l!==gn&&Ui(r,(0,i._px)(),l),cp}function Ky(e,t,n,r,l){const c=(0,i.OAn)(),m=db(c,e,t,n,r,l);return m!==gn&&Ui(c,(0,i._px)(),m),Ky}function Ui(e,t,n){const r=(0,i.vaC)(t,e);dm(e[i.GpT],r,n)}function Gy(e,t,n){(0,i.n$r)(t)&&(t=t());const r=(0,i.OAn)();return Bn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Pc((0,i.CpD)(),r,e,t,r[i.GpT],n)),Gy}function Cb(e,t){const n=(0,i.n$r)(e);return n&&e.set(t),n}function qy(e,t){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=(0,i.Mx4)();return jy(r,n,n[i.GpT],l,e,t),qy}const Sb={};function Qy(e,t,n,r,l){if(e=(0,i.nl4)(e),Array.isArray(e))for(let c=0;c<e.length;c++)Qy(e[c],t,n,r,l);else{const c=(0,i.klJ)(),m=(0,i.OAn)(),y=(0,i.Mx4)();let v=(0,i.Y3W)(e)?e:(0,i.nl4)(e.provide);const x=(0,i.Rc9)(e),L=1048575&y.providerIndexes,W=y.directiveStart,ee=y.providerIndexes>>20;if((0,i.Y3W)(e)||!e.multi){const te=new zt(x,l,ys,null),Me=Yy(v,t,l?L:L+ee,W);-1===Me?(zn(Qr(y,m),c,v),Xy(c,e,t.length),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(te),m.push(te)):(n[Me]=te,m[Me]=te)}else{const te=Yy(v,t,L+ee,W),Me=Yy(v,t,L,L+ee),yt=Me>=0&&n[Me];if(l&&!yt||!l&&!(te>=0&&n[te])){zn(Qr(y,m),c,v);const ht=function vk(e,t,n,r,l){const m=new zt(e,n,ys,null);return m.multi=[],m.index=t,m.componentProviders=0,Mb(m,l,r&&!n),m}(l?gk:yk,n.length,l,r,x);!l&&yt&&(n[Me].providerFactory=ht),Xy(c,e,t.length,0),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(ht),m.push(ht)}else Xy(c,e,te>-1?te:Me,Mb(n[l?Me:te],x,!l&&r));!l&&r&&yt&&n[Me].componentProviders++}}}function Xy(e,t,n,r){const l=(0,i.Y3W)(t),c=(0,i.MME)(t);if(l||c){const v=(c?(0,i.nl4)(t.useClass):t).prototype.ngOnDestroy;if(v){const x=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const L=x.indexOf(n);-1===L?x.push(n,[r,v]):x[L+1].push(r,v)}else x.push(n,v)}}}function Mb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yy(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function yk(e,t,n,r,l){return Jy(this.multi,[])}function gk(e,t,n,r,l){const c=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=Ur(r,r[i.eDl],this.providerFactory.index,l);m=v.slice(0,y),Jy(c,m);for(let x=y;x<v.length;x++)m.push(v[x])}else m=[],Jy(c,m);return m}function Jy(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Tb(e,t=[]){return n=>{n.providersResolver=(r,l)=>function fk(e,t,n){const r=(0,i.klJ)();if(r.firstCreatePass){const l=(0,i.JlV)(e);Qy(n,r.data,r.blueprint,l,!0),Qy(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}function dp(e){if("function"==typeof e)return e;const t=(0,i.Bqz)(e);return t.some(i.Jzi)?()=>t.map(i.nl4).map(xb):t.map(xb)}function xb(e){return ud(e)?e.ngModule:e}function Ib(e,t,n,r){return Pb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)}function Rb(e,t,n,r,l){return Nb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l)}function Ob(e,t,n,r,l,c){return Lb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c)}function Bd(e,t){const n=e[t];return n===gn?void 0:n}function Pb(e,t,n,r,l,c){const m=t+n;return Bn(e,m,l)?va(e,m+1,c?r.call(c,l):r(l)):Bd(e,m+1)}function Nb(e,t,n,r,l,c,m){const y=t+n;return Li(e,y,l,c)?va(e,y+2,m?r.call(m,l,c):r(l,c)):Bd(e,y+2)}function Lb(e,t,n,r,l,c,m,y){const v=t+n;return vs(e,v,l,c,m)?va(e,v+3,y?r.call(y,l,c,m):r(l,c,m)):Bd(e,v+3)}function Fb(e,t,n,r,l,c,m,y,v){const x=t+n;return na(e,x,l,c,m,y)?va(e,x+4,v?r.call(v,l,c,m,y):r(l,c,m,y)):Bd(e,x+4)}function jb(e,t,n,r,l,c){let m=t+n,y=!1;for(let v=0;v<l.length;v++)Bn(e,m++,l[v])&&(y=!0);return y?va(e,m,r.apply(c,l)):Bd(e,m)}function Bb(e,t){const n=(0,i.klJ)();let r;const l=e+i.Yw1;n.firstCreatePass?(r=function Tk(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[l]=r,r.onDestroy&&(n.destroyHooks??=[]).push(l,r.onDestroy)):r=n.data[l];const c=r.factory||(r.factory=(0,i.wGu)(r.type,!0)),y=(0,i.a2B)(ys);try{const v=Hn(!1),x=c();return Hn(v),(0,i.M_e)(n,(0,i.OAn)(),l,x),x}finally{(0,i.a2B)(y)}}function Ub(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Ud(l,r)?Pb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform(n)}function Vb(e,t,n,r){const l=e+i.Yw1,c=(0,i.OAn)(),m=(0,i.Hh6)(c,l);return Ud(c,l)?Nb(c,(0,i.gxQ)(),t,m.transform,n,r,m):m.transform(n,r)}function Ud(e,t){return e[i.eDl].data[t].pure}function $b(e,t){return su(e,t)}function mp(e,t,n,r,l){const c=l[i.eDl];if(c!==r.tView)for(let m=i.Yw1;m<c.bindingStartIndex;m++){const y=l[m];if((0,i.A0l)(y)){(0,i.q$2)(y[i.jgP])&&mp(e,t,n,r,y[i.jgP]);for(let v=i.Y20;v<y.length;v++)mp(e,t,n,r,y[v])}else(0,i.q$2)(y)&&mp(e,t,n,r,y)}else!function Bk(e,t,n,r,l){const c=l[i.SKP];let m=l[i.jgP];const y=l[i.f7T],v=l[i.qlT],x=l[i.YEL].get(Nn,null),L=()=>{if(r.encapsulation===pa.ShadowDom){const Me=m.cloneNode(!1);m.replaceWith(Me),m=Me}const W=Dc(n),ee=Gs(y,W,c,Cc(n),m,v,null,null,null,null,null);(function Uk(e,t,n,r){for(let l=i.Yw1;l<e[i.eDl].bindingStartIndex;l++){const c=e[l];if(((0,i.q$2)(c)||(0,i.A0l)(c))&&c[i.K29]===t){c[i.K29]=n;break}}e[i.EJG]===t&&(e[i.EJG]=n),e[i.Yrj]===t&&(e[i.Yrj]=n),n[i.K29]=t[i.K29],t[i.K29]=null,e[r]=n})(y,l,ee,v.index),Qs(l[i.eDl],l);const te=l[i.M0L].rendererFactory;(function jk(e,t){e.componentReplaced?.(t.id)})(te,r),ee[i.GpT]=te.createRenderer(m,n),_m(l[i.eDl],l),function Vk(e){if(null!==e.projection){for(const t of e.projection)Nr(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(v),jc(W,ee,c),Yp(W,ee,W.template,c)};null===x?Hb(e,t,L):x.run(()=>Hb(e,t,L))}(e,t,n,r,l)}function Hb(e,t,n){try{n()}catch(r){if(null!==t&&r.message){const c=r.message+(r.stack?"\n"+r.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:c,error:!0})}throw r}}const As={\u0275\u0275attribute:wy,\u0275\u0275defineComponent:Ka,\u0275\u0275defineDirective:Jf,\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275defineNgModule:Vh,\u0275\u0275definePipe:Zf,\u0275\u0275directiveInject:ys,\u0275\u0275getInheritedFactory:Do,\u0275\u0275inject:i.KVO,\u0275\u0275injectAttribute:br,\u0275\u0275invalidFactory:function Df(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:i.dmw,\u0275\u0275templateRefExtractor:$b,\u0275\u0275resetView:i.Njj,\u0275\u0275HostDirectivesFeature:function Wh(e){const t=n=>{const r=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=sy,n.hostDirectives=r?e.map(_l):[e]):r?n.hostDirectives.unshift(...e.map(_l)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:Bt,\u0275\u0275ProvidersFeature:Tb,\u0275\u0275CopyDefinitionFeature:function iy(e){let n,t=ny(e.type);n=(0,i.JlV)(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const l of Hu)r[l]=n[l];if((0,i.JlV)(n))for(const l of ay)r[l]=n[l]},\u0275\u0275InheritDefinitionFeature:Hh,\u0275\u0275ExternalStylesFeature:function _k(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(l=>l+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:B_,\u0275\u0275namespaceHTML:i.joV,\u0275\u0275namespaceMathML:i.By9,\u0275\u0275namespaceSVG:i.qSk,\u0275\u0275enableBindings:i.cSN,\u0275\u0275disableBindings:i.fuf,\u0275\u0275elementStart:ep,\u0275\u0275elementEnd:tp,\u0275\u0275element:My,\u0275\u0275elementContainerStart:op,\u0275\u0275elementContainerEnd:Rd,\u0275\u0275domElement:function d_(e,t,n,r){return np(e,t,n,r),rp(),d_},\u0275\u0275domElementStart:np,\u0275\u0275domElementEnd:rp,\u0275\u0275domElementContainer:function p_(e,t,n){return xy(e,t,n),h_(),p_},\u0275\u0275domElementContainerStart:xy,\u0275\u0275domElementContainerEnd:h_,\u0275\u0275domTemplate:function p(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),x=(0,i.klJ)();return u(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),void 0,m,y),p},\u0275\u0275domListener:Fy,\u0275\u0275elementContainer:function m_(e,t,n){return op(e,t,n),Rd(),m_},\u0275\u0275pureFunction0:function Ek(e,t,n){const r=(0,i.gxQ)()+e,l=(0,i.OAn)();return l[r]===gn?va(l,r,n?t.call(n):t()):Wa(l,r)},\u0275\u0275pureFunction1:Ib,\u0275\u0275pureFunction2:Rb,\u0275\u0275pureFunction3:Ob,\u0275\u0275pureFunction4:function kk(e,t,n,r,l,c,m){return Fb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c,m)},\u0275\u0275pureFunction5:function Dk(e,t,n,r,l,c,m,y){const v=(0,i.gxQ)()+e,x=(0,i.OAn)(),L=na(x,v,n,r,l,c);return Bn(x,v+4,m)||L?va(x,v+5,y?t.call(y,n,r,l,c,m):t(n,r,l,c,m)):Wa(x,v+5)},\u0275\u0275pureFunction6:function Ck(e,t,n,r,l,c,m,y,v){const x=(0,i.gxQ)()+e,L=(0,i.OAn)(),W=na(L,x,n,r,l,c);return Li(L,x+4,m,y)||W?va(L,x+6,v?t.call(v,n,r,l,c,m,y):t(n,r,l,c,m,y)):Wa(L,x+6)},\u0275\u0275pureFunction7:function Sk(e,t,n,r,l,c,m,y,v,x){const L=(0,i.gxQ)()+e,W=(0,i.OAn)();let ee=na(W,L,n,r,l,c);return vs(W,L+4,m,y,v)||ee?va(W,L+7,x?t.call(x,n,r,l,c,m,y,v):t(n,r,l,c,m,y,v)):Wa(W,L+7)},\u0275\u0275pureFunction8:function Ak(e,t,n,r,l,c,m,y,v,x,L){const W=(0,i.gxQ)()+e,ee=(0,i.OAn)(),te=na(ee,W,n,r,l,c);return na(ee,W+4,m,y,v,x)||te?va(ee,W+8,L?t.call(L,n,r,l,c,m,y,v,x):t(n,r,l,c,m,y,v,x)):Wa(ee,W+8)},\u0275\u0275pureFunctionV:function Mk(e,t,n,r){return jb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275getCurrentView:f_,\u0275\u0275restoreView:i.eBV,\u0275\u0275listener:Ly,\u0275\u0275projection:function AE(e,t=0,n,r,l,c){const m=(0,i.OAn)(),y=(0,i.klJ)(),v=r?e+1:null;null!==v&&u(m,y,v,r,l,c,null,n);const x=si(y,i.Yw1+e,16,null,n||null);null===x.projection&&(x.projection=t),(0,i.Pfq)();const W=!m[i.tcA]||(0,i.KtD)();null===m[i.b5C][i.qlT].projection[x.projection]&&null!==v?function ME(e,t,n){const r=i.Yw1+n,l=t.data[r],c=e[r];ms(c,Js(e,l,void 0,{dehydratedView:null}),0,ds(l,null))}(m,y,v):W&&!yn(x)&&function Mm(e,t,n){Xs(t[i.GpT],0,t,n,Mc(e,n,t),km(n.parent||t[i.qlT],n,t))}(y,m,x)},\u0275\u0275syntheticHostProperty:function g_(e,t,n){const r=(0,i.OAn)();if(Bn(r,(0,i.xbp)(),t)){const c=(0,i.klJ)(),m=(0,i.CpD)();xm(m,r,e,t,zp((0,i.MT)(c.data),m,r),n)}return g_},\u0275\u0275syntheticHostListener:function j_(e,t){const n=(0,i.Mx4)(),r=(0,i.OAn)(),l=(0,i.klJ)();return jy(l,r,zp((0,i.MT)(l.data),n,r),n,e,t),j_},\u0275\u0275pipeBind1:Ub,\u0275\u0275pipeBind2:Vb,\u0275\u0275pipeBind3:function xk(e,t,n,r,l){const c=e+i.Yw1,m=(0,i.OAn)(),y=(0,i.Hh6)(m,c);return Ud(m,c)?Lb(m,(0,i.gxQ)(),t,y.transform,n,r,l,y):y.transform(n,r,l)},\u0275\u0275pipeBind4:function Ik(e,t,n,r,l,c){const m=e+i.Yw1,y=(0,i.OAn)(),v=(0,i.Hh6)(y,m);return Ud(y,m)?Fb(y,(0,i.gxQ)(),t,v.transform,n,r,l,c,v):v.transform(n,r,l,c)},\u0275\u0275pipeBindV:function Rk(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Ud(l,r)?jb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform.apply(c,n)},\u0275\u0275projectionDef:function SE(e){const t=(0,i.OAn)()[i.b5C][i.qlT];if(!t.projection){const r=t.projection=(0,i.WfI)(e?e.length:1,null),l=r.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?CE(c,e):0;null!==m&&(l[m]?l[m].projectionNext=c:r[m]=c,l[m]=c)}c=c.next}}},\u0275\u0275domProperty:function y_(e,t,n){const r=(0,i.OAn)();return Bn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),xm((0,i.CpD)(),r,e,t,r[i.GpT],n)),y_},\u0275\u0275property:Sy,\u0275\u0275pipe:Bb,\u0275\u0275queryRefresh:$_,\u0275\u0275queryAdvance:function IE(e=1){(0,i.GA0)((0,i.w7Z)()+e)},\u0275\u0275viewQuery:V_,\u0275\u0275viewQuerySignal:function xE(e,t,n,r){Ph(e,Rh(t,n,r))},\u0275\u0275loadQuery:H_,\u0275\u0275contentQuery:U_,\u0275\u0275contentQuerySignal:function TE(e,t,n,r,l){Ph(t,_d(e,n,r,l))},\u0275\u0275reference:W_,\u0275\u0275classMap:J_,\u0275\u0275styleMap:function WE(e){eb(rb,zE,e,!1)},\u0275\u0275styleProp:$y,\u0275\u0275classProp:Hy,\u0275\u0275advance:ym,\u0275\u0275template:d,\u0275\u0275conditional:function D1(e,t){ra("NgControlFlow");const n=(0,i.OAn)(),r=(0,i.xbp)(),l=n[r]!==gn?n[r]:-1,c=-1!==l?Zh(n,i.Yw1+l):void 0;if(Bn(n,r,e)){const y=(0,z.Ht)(null);try{if(void 0!==c&&Hc(c,0),-1!==e){const v=i.Yw1+e,x=Zh(n,v),L=Cy(n[i.eDl],v),W=null;ms(x,Js(n,L,t,{dehydratedView:W}),0,ds(L,W))}}finally{(0,z.Ht)(y)}}else if(void 0!==c){const y=Um(c,0);void 0!==y&&(y[i.SKP]=t)}},\u0275\u0275conditionalCreate:function k1(e,t,n,r,l,c,m,y){ra("NgControlFlow");const v=(0,i.OAn)(),x=(0,i.klJ)();return u(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),256,m,y),Dy},\u0275\u0275conditionalBranchCreate:Dy,\u0275\u0275defer:function Yw(e,t,n,r,l,c,m,y,v,x){const L=(0,i.OAn)(),W=(0,i.klJ)(),ee=e+i.Yw1,te=u(L,W,e,null,0,0),Me=L[i.YEL];if(W.firstCreatePass){ra("NgDefer");const Ln={primaryTmplIndex:t,loadingTmplIndex:r??null,placeholderTmplIndex:l??null,errorTmplIndex:c??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:we.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:x??0};v?.(W,Ln,y,m),function R0(e,t,n){const r=Td(t);e.data[r]=n}(W,ee,Ln)}const $e=L[ee];Mh($e,te,L);let yt=null,ht=null;if($e[i.qFA]?.length>0){const Ln=$e[i.qFA][0].data;ht=Ln.di??null,yt=Ln.s}const Je=[null,Ze.Initial,null,null,null,null,ht,yt,null,null];!function I0(e,t,n){e[Td(t)]=n}(L,ee,Je);let En=null;null!==ht&&(En=Me.get(fn),En.add(ht,{lView:L,tNode:te,lContainer:$e}));const Io=()=>{yi(Je),null!==ht&&En?.cleanup([ht])};Na(0,Je,()=>(0,i.DyX)(L,Io)),(0,i.ik5)(L,Io)},\u0275\u0275deferWhen:function Jw(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(ir(0,t,n)&&Bn(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,y=aa(t,n)[1];!1===c&&y===Ze.Initial?qu(t,n):!0===c&&(y===Ze.Initial||y===Ye.Placeholder)&&wl(0,t,n)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferOnIdle:function n1(){ir(0,(0,i.OAn)(),(0,i.Mx4)())&&e_(Gh)},\u0275\u0275deferOnImmediate:function a1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(0,e,t)&&(null===_o(e[i.eDl],t).loadingTmplIndex&&qu(e,t),wl(0,e,t))},\u0275\u0275deferOnTimer:function l1(e){ir(0,(0,i.OAn)(),(0,i.Mx4)())&&e_(qh(e))},\u0275\u0275deferOnHover:function d1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(qu(n,r),Gu(n,r,e,t,C,()=>wl(0,n,r),0))},\u0275\u0275deferOnInteraction:function p1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(qu(n,r),Gu(n,r,e,t,bi,()=>wl(0,n,r),0))},\u0275\u0275deferOnViewport:function g1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(qu(n,r),Gu(n,r,e,t,dy,()=>wl(0,n,r),0))},\u0275\u0275deferPrefetchWhen:function Zw(e){const t=(0,i.OAn)();if(ir(1,t,(0,i.CpD)())&&Bn(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,m=t[i.eDl],y=(0,i.CpD)(),v=_o(m,y);!0===c&&v.loadingState===we.NOT_STARTED&&Id(v,t,y)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function r1(){ir(1,(0,i.OAn)(),(0,i.Mx4)())&&t_(Gh)},\u0275\u0275deferPrefetchOnImmediate:function i1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();if(!ir(1,e,t))return;const r=_o(e[i.eDl],t);r.loadingState===we.NOT_STARTED&&gy(r,e,t)},\u0275\u0275deferPrefetchOnTimer:function u1(e){ir(1,(0,i.OAn)(),(0,i.Mx4)())&&t_(qh(e))},\u0275\u0275deferPrefetchOnHover:function m1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===we.NOT_STARTED&&Gu(n,r,e,t,C,()=>Id(c,n,r),1)},\u0275\u0275deferPrefetchOnInteraction:function f1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===we.NOT_STARTED&&Gu(n,r,e,t,bi,()=>Id(c,n,r),1)},\u0275\u0275deferPrefetchOnViewport:function v1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===we.NOT_STARTED&&Gu(n,r,e,t,dy,()=>Id(c,n,r),1)},\u0275\u0275deferHydrateWhen:function e1(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(!ir(2,t,n))return;const r=(0,i.xbp)();if(Ss((0,i.klJ)(),n).set(6,null),Bn(t,r,e)){const m=t[i.YEL],y=(0,z.Ht)(null);try{1==!!e&&El(m,aa(t,n)[6])}finally{(0,z.Ht)(y)}}},\u0275\u0275deferHydrateNever:function t1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&Ss((0,i.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function o1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&(Ss((0,i.klJ)(),t).set(0,null),n_(Gh,e,t))},\u0275\u0275deferHydrateOnImmediate:function s1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&(Ss((0,i.klJ)(),t).set(1,null),El(e[i.YEL],aa(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function c1(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();ir(2,t,n)&&(Ss((0,i.klJ)(),n).set(5,{delay:e}),n_(qh(e),t,n))},\u0275\u0275deferHydrateOnHover:function h1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&Ss((0,i.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function y1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&Ss((0,i.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function _1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&Ss((0,i.klJ)(),t).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function K0(e,t,n,r){const l=e.consts;null!=n&&(t.placeholderBlockConfig=(0,i.db4)(l,n)),null!=r&&(t.loadingBlockConfig=(0,i.db4)(l,r)),null===hy&&(hy=z0)},\u0275\u0275repeater:function I1(e){const t=(0,z.Ht)(null),n=(0,i._px)();try{const r=(0,i.OAn)(),l=r[i.eDl],c=r[n],m=n+1,y=Zh(r,m);if(void 0===c.liveCollection){const x=Cy(l,m);c.liveCollection=new x1(y,r,x)}else c.liveCollection.reset();const v=c.liveCollection;if(function E1(e,t,n){let r,l,c=0,m=e.length-1;if(Array.isArray(t)){let v=t.length-1;for(;c<=m&&c<=v;){const x=e.at(c),L=t[c],W=Ey(c,x,c,L,n);if(0!==W){W<0&&e.updateValue(c,L),c++;continue}const ee=e.at(m),te=t[v],Me=Ey(m,ee,v,te,n);if(0!==Me){Me<0&&e.updateValue(m,te),m--,v--;continue}const $e=n(c,x),yt=n(m,ee),ht=n(c,L);if(Object.is(ht,yt)){const Je=n(v,te);Object.is(Je,$e)?(e.swap(c,m),e.updateValue(m,te),v--,m--):e.move(m,c),e.updateValue(c,L),c++;continue}if(r??=new c_,l??=u_(e,c,m,n),ky(e,r,c,ht))e.updateValue(c,L),c++,m++;else if(l.has(ht))r.set($e,e.detach(c)),m--;else{const Je=e.create(c,t[c]);e.attach(c,Je),c++,m++}}for(;c<=v;)l_(e,r,n,c,t[c]),c++}else if(null!=t){const v=t[Symbol.iterator]();let x=v.next();for(;!x.done&&c<=m;){const L=e.at(c),W=x.value,ee=Ey(c,L,c,W,n);if(0!==ee)ee<0&&e.updateValue(c,W),c++,x=v.next();else{r??=new c_,l??=u_(e,c,m,n);const te=n(c,W);if(ky(e,r,c,te))e.updateValue(c,W),c++,m++,x=v.next();else if(l.has(te)){const Me=n(c,L);r.set(Me,e.detach(c)),m--}else e.attach(c,e.create(c,W)),c++,m++,x=v.next()}}for(;!x.done;)l_(e,r,n,e.length,x.value),x=v.next()}for(;c<=m;)e.destroy(e.detach(m--));r?.forEach(v=>{e.destroy(v)})}(v,e,c.trackByFn),v.updateIndexes(),c.hasEmptyBlock){const x=(0,i.xbp)(),L=0===v.length;if(Bn(r,x,L)){const W=n+2,ee=Zh(r,W);if(L){const te=Cy(l,W),Me=null;ms(ee,Js(r,te,void 0,{dehydratedView:Me}),0,ds(te,Me))}else l.firstUpdatePass&&vu(ee),Hc(ee,0)}}}finally{(0,z.Ht)(t)}},\u0275\u0275repeaterCreate:function T1(e,t,n,r,l,c,m,y,v,x,L,W,ee){ra("NgControlFlow");const te=(0,i.OAn)(),Me=(0,i.klJ)(),$e=void 0!==v,yt=(0,i.OAn)(),ht=y?m.bind(yt[i.b5C][i.SKP]):m,Je=new M1($e,ht);yt[i.Yw1+e]=Je,u(te,Me,e+1,t,n,r,l,(0,i.db4)(Me.consts,c),256),$e&&u(te,Me,e+2,v,x,L,W,(0,i.db4)(Me.consts,ee),512)},\u0275\u0275repeaterTrackByIndex:function S1(e){return e},\u0275\u0275repeaterTrackByIdentity:function A1(e,t){return t},\u0275\u0275componentInstance:function b1(){return(0,i.OAn)()[i.b5C][i.SKP]},\u0275\u0275text:sb,\u0275\u0275textInterpolate:zy,\u0275\u0275textInterpolate1:cp,\u0275\u0275textInterpolate2:Ky,\u0275\u0275textInterpolate3:function vb(e,t,n,r,l,c,m){const y=(0,i.OAn)(),v=mb(y,e,t,n,r,l,c,m);return v!==gn&&Ui(y,(0,i._px)(),v),vb},\u0275\u0275textInterpolate4:function _b(e,t,n,r,l,c,m,y,v){const x=(0,i.OAn)(),L=hb(x,e,t,n,r,l,c,m,y,v);return L!==gn&&Ui(x,(0,i._px)(),L),_b},\u0275\u0275textInterpolate5:function bb(e,t,n,r,l,c,m,y,v,x,L){const W=(0,i.OAn)(),ee=pb(W,e,t,n,r,l,c,m,y,v,x,L);return ee!==gn&&Ui(W,(0,i._px)(),ee),bb},\u0275\u0275textInterpolate6:function wb(e,t,n,r,l,c,m,y,v,x,L,W,ee){const te=(0,i.OAn)(),Me=fb(te,e,t,n,r,l,c,m,y,v,x,L,W,ee);return Me!==gn&&Ui(te,(0,i._px)(),Me),wb},\u0275\u0275textInterpolate7:function Eb(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me){const $e=(0,i.OAn)(),yt=yb($e,e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me);return yt!==gn&&Ui($e,(0,i._px)(),yt),Eb},\u0275\u0275textInterpolate8:function kb(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e,yt){const ht=(0,i.OAn)(),Je=gb(ht,e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e,yt);return Je!==gn&&Ui(ht,(0,i._px)(),Je),kb},\u0275\u0275textInterpolateV:function Db(e){const t=(0,i.OAn)(),n=ub(t,e);return n!==gn&&Ui(t,(0,i._px)(),n),Db},\u0275\u0275i18n:function wE(e,t,n){N_(e,t,n),L_()},\u0275\u0275i18nAttributes:function EE(e,t){const n=(0,i.klJ)(),r=(0,i.db4)(n.consts,t);!function oE(e,t,n){const l=(0,i.Mx4)().index,c=[];if(e.firstCreatePass&&null===e.data[t]){for(let m=0;m<n.length;m+=2){const y=n[m],v=n[m+1];if(""!==v){if(X1.test(v))throw new Error(`ICU expressions are not supported in attributes. Message: "${v}".`);Fd(c,v,l,y,aE(c),null)}}e.data[t]=c}}(n,e+i.Yw1,r)},\u0275\u0275i18nExp:function F_(e){return function W1(e){e&&(Od|=1<<Math.min(Pd,31)),Pd++}(Bn((0,i.OAn)(),(0,i.xbp)(),e)),F_},\u0275\u0275i18nStart:N_,\u0275\u0275i18nEnd:L_,\u0275\u0275i18nApply:function kE(e){!function z1(e,t,n){if(Pd>0){const r=e.data[n];k_(e,t,Array.isArray(r)?r:r.update,(0,i.c$7)()-Pd-1,Od)}Od=0,Pd=0}((0,i.klJ)(),(0,i.OAn)(),e+i.Yw1)},\u0275\u0275i18nPostprocess:function DE(e,t={}){return function bE(e,t={}){let n=e;if(hE.test(e)){const r={},l=[0];n=n.replace(pE,(c,m,y)=>{const v=m||y,x=r[v]||[];if(x.length||(v.split("|").forEach($e=>{const yt=$e.match(_E),ht=yt?parseInt(yt[1],10):0,Je=vE.test($e);x.push([ht,Je,$e])}),r[v]=x),!x.length)throw new Error(`i18n postprocess: unmatched placeholder - ${v}`);const L=l[l.length-1];let W=0;for(let $e=0;$e<x.length;$e++)if(x[$e][0]===L){W=$e;break}const[ee,te,Me]=x[W];return te?l.pop():L!==ee&&l.push(ee),x.splice(W,1),Me})}return Object.keys(t).length&&(n=n.replace(fE,(r,l,c,m,y,v)=>t.hasOwnProperty(c)?`${l}${t[c]}${v}`:r),n=n.replace(yE,(r,l)=>t.hasOwnProperty(l)?t[l]:r),n=n.replace(gE,(r,l)=>{if(t.hasOwnProperty(l)){const c=t[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${l}`);return c.shift()}return r})),n}(e,t)},\u0275\u0275resolveWindow:function _p(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function bp(e){return e.ownerDocument},\u0275\u0275resolveBody:function am(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function bk(e,t,n){const r=e.\u0275cmp;r.directiveDefs=Cd(t,pi),r.pipeDefs=Cd(n,i.oyA)},\u0275\u0275setNgModuleScope:function wk(e,t){return Y(()=>{const n=(0,i.WbQ)(e);n.declarations=dp(t.declarations||i.Mlv),n.imports=dp(t.imports||i.Mlv),n.exports=dp(t.exports||i.Mlv),t.bootstrap&&(n.bootstrap=dp(t.bootstrap)),fs.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:Fh,\u0275\u0275getComponentDepsFactory:function Ok(e,t){return()=>{try{return fs.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function Pk(e,t){const n=(0,i.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function Ab(e){const t=(0,i.klJ)(),n=(0,i.OAn)(),r=e+i.Yw1,l=si(t,r,128,null,null);return(0,i.iMd)(l,!1),(0,i.M_e)(t,n,r,Sb),Ab},\u0275\u0275storeLet:function nk(e){ra("NgLet");const t=(0,i.klJ)(),n=(0,i.OAn)(),r=(0,i._px)();return(0,i.M_e)(t,n,r,e),e},\u0275\u0275readContextLet:function rk(e){const t=(0,i.VPL)(),n=(0,i.Hh6)(t,i.Yw1+e);if(n===Sb)throw new i.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function ok(e,t){const n=(0,i.klJ)(),r=(0,i.OAn)(),l=r[i.GpT],c="data-ng-source-location";for(const[m,y,v,x]of t){(0,i.XRZ)(n,m+i.Yw1);const W=(0,i.vaC)(m+i.Yw1,r);W.hasAttribute(c)||l.setAttribute(W,c,`${e}@o:${y},l:${v},c:${x}`)}},\u0275\u0275interpolate:function ak(e){return Bn((0,i.OAn)(),(0,i.xbp)(),e)?(0,i.eFE)(e):gn},\u0275\u0275interpolate1:function ik(e,t,n=""){return cb((0,i.OAn)(),e,t,n)},\u0275\u0275interpolate2:function sk(e,t,n,r,l=""){return db((0,i.OAn)(),e,t,n,r,l)},\u0275\u0275interpolate3:function lk(e,t,n,r,l,c,m=""){return mb((0,i.OAn)(),e,t,n,r,l,c,m)},\u0275\u0275interpolate4:function uk(e,t,n,r,l,c,m,y,v=""){return hb((0,i.OAn)(),e,t,n,r,l,c,m,y,v)},\u0275\u0275interpolate5:function ck(e,t,n,r,l,c,m,y,v,x,L=""){return pb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L)},\u0275\u0275interpolate6:function dk(e,t,n,r,l,c,m,y,v,x,L,W,ee=""){return fb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,ee)},\u0275\u0275interpolate7:function mk(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me=""){return yb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me)},\u0275\u0275interpolate8:function hk(e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e,yt=""){return gb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,ee,te,Me,$e,yt)},\u0275\u0275interpolateV:function pk(e){return ub((0,i.OAn)(),e)},\u0275\u0275sanitizeHtml:function an(e){const t=Ii();return t?Ba(t.sanitize(rt.HTML,e)||""):Uo(e,"HTML")?Ba(ta(e)):function K(e,t){let n=null;try{O=O||ts(e);let r=t?String(t):"";n=O.getInertBodyElement(r);let l=5,c=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=O.getInertBodyElement(r)}while(r!==c);return ti((new $o).sanitizeChildren(ke(n)||n))}finally{if(n){const r=ke(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(he(),(0,i.eFE)(e))},\u0275\u0275sanitizeStyle:function Ir(e){const t=Ii();return t?t.sanitize(rt.STYLE,e)||"":Uo(e,"Style")?ta(e):(0,i.eFE)(e)},\u0275\u0275sanitizeResourceUrl:Sn,\u0275\u0275sanitizeScript:function Ta(e){const t=Ii();if(t)return Ol(t.sanitize(rt.SCRIPT,e)||"");if(Uo(e,"Script"))return Ol(ta(e));throw new i.buA(905,!1)},\u0275\u0275sanitizeUrl:xn,\u0275\u0275sanitizeUrlOrResourceUrl:Qd,\u0275\u0275trustConstantHtml:function fc(e){return ti(e[0])},\u0275\u0275trustConstantResourceUrl:function yc(e){return function uc(e){return Si()?.createScriptURL(e)||e}(e[0])},\u0275\u0275validateIframeAttribute:function Qf(e,t,n){const r=(0,i.OAn)(),l=(0,i.CpD)(),c=(0,i.d31)(l,r);if(2===l.type&&"iframe"===t.toLowerCase()){const m=c;throw m.src="",m.srcdoc=ti(""),Ks(r[i.GpT],m),new i.buA(-910,!1)}return e},forwardRef:i.Rfq,resolveForwardRef:i.nl4,\u0275\u0275twoWayProperty:Gy,\u0275\u0275twoWayBindingSet:Cb,\u0275\u0275twoWayListener:qy,\u0275\u0275replaceMetadata:function Lk(e,t,n,r,l=null,c=null){const m=(0,i.xUg)(e);t.apply(null,[e,n,...r]);const{newDef:y,oldDef:v}=function Fk(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(m,(0,i.xUg)(e));if(e[i.CQl]=y,v.tView){const x=function da(){return Dr}().values();for(const L of x)(0,i.EFk)(L)&&null===L[i.f7T]&&mp(l,c,y,v,L)}},\u0275\u0275getReplaceMetadataURL:function Nk(e,t,n){const r=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(r,n).href}};let ec=null;function $k(e){null!==ec&&(e.defaultEncapsulation!==ec.defaultEncapsulation||e.preserveWhitespaces!==ec.preserveWhitespaces)||(ec=e)}const Vd=[];function Qb(e){return ud(e)?e.ngModule:e}const iD=re("NgModule",e=>e,void 0,0,(e,t)=>function Kk(e,t={}){(function Gk(e,t){const r=(0,i.Bqz)(t.declarations||i.Mlv);let l=null;Object.defineProperty(e,i.hmW,{configurable:!0,get:()=>(null===l&&(l=bt().compileNgModule(As,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,i.Bqz)(t.bootstrap||i.Mlv).map(i.nl4),declarations:r.map(i.nl4),imports:(0,i.Bqz)(t.imports||i.Mlv).map(i.nl4).map(Qb),exports:(0,i.Bqz)(t.exports||i.Mlv).map(i.nl4).map(Qb),schemas:t.schemas?(0,i.Bqz)(t.schemas):null,id:t.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(e,i.zSs,{get:()=>{if(null===c){const y=bt();c=y.compileFactory(As,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:mr(e),target:y.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let m=null;Object.defineProperty(e,i.ONQ,{get:()=>{if(null===m){const y={name:e.name,type:e,providers:t.providers||i.Mlv,imports:[(t.imports||i.Mlv).map(i.nl4),(t.exports||i.Mlv).map(i.nl4)]};m=bt().compileInjector(As,`ng:///${e.name}/\u0275inj.js`,y)}return m},configurable:!1})})(e,t),void 0!==t.id&&Fh(e,t.id),function Wk(e,t){Vd.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class sD{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let lD=(()=>{class e{compileModuleSync(n){return new kd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=fa((0,i.phH)(n).declarations).reduce((m,y)=>{const v=(0,i.xUg)(y);return v&&m.push(new bs(v)),m},[]);return new sD(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uD=new i.nKC("");let cD=(()=>{class e{zone=(0,i.WQX)(Nn);changeDetectionScheduler=(0,i.WQX)(i.hk6);applicationRef=(0,i.WQX)(Yh);applicationErrorHandler=(0,i.WQX)(i.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const s0=new i.nKC("",{factory:()=>!1});function l0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Nn({...rg(),scheduleInRootZone:n}),[{provide:Nn,useFactory:e},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(cD,{optional:!0});return()=>r.initialize()}},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(dD);return()=>{r.initialize()}}},!0===t?{provide:i.Jy$,useValue:!0}:[],{provide:i.AQb,useValue:n??_t},{provide:i.ZTf,useFactory:()=>{const r=(0,i.WQX)(Nn),l=(0,i.WQX)(i.uvJ);let c;return m=>{r.runOutsideAngular(()=>{l.destroyed&&!c?setTimeout(()=>{throw m}):(c??=l.get(i.zcH),c.handleError(m))})}}}]}function rg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let dD=(()=>{class e{subscription=new X.yU;initialized=!1;zone=(0,i.WQX)(Nn);pendingTasks=(0,i.WQX)(i.rev);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),d0=(()=>{class e{applicationErrorHandler=(0,i.WQX)(i.ZTf);appRef=(0,i.WQX)(Yh);taskService=(0,i.WQX)(i.rev);ngZone=(0,i.WQX)(Nn);zonelessEnabled=(0,i.WQX)(i.Evm);tracing=(0,i.WQX)(ks,{optional:!0});disableScheduling=(0,i.WQX)(i.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new X.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,i.WQX)(i.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const l=this.useMicrotaskScheduler?fr:Zt;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fr(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const m0=new i.nKC("",{providedIn:"root",factory:()=>(0,i.WQX)(m0,{optional:!0,skipSelf:!0})||function mD(){return typeof $localize<"u"&&$localize.locale||Oy}()}),hD=new i.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(at,Ee,V)=>{"use strict";function E(i){return i}V.d(Ee,{D:()=>E})},3757:(at,Ee,V)=>{"use strict";V.d(Ee,{o:()=>E});var E=function(i){return i.Head="head",i.Twohand="twohand",i.Onehand="onehand",i.Legs="legs",i.Body="body",i.Small="small",i}(E||{})},3794:(at,Ee,V)=>{"use strict";V.d(Ee,{ms:()=>M,lI:()=>X});var E=V(8071);function z(Y){return Y[Y.length-1]}function M(Y){return(0,E.T)(z(Y))?Y.pop():void 0}function X(Y){return function i(Y){return Y&&(0,E.T)(Y.schedule)}(z(Y))?Y.pop():void 0}},4060:function(at,Ee,V){"use strict";var E=this&&this.__importDefault||function(ie){return ie&&ie.__esModule?ie:{default:ie}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const i=E(V(3242));Ee.PostgrestClient=i.default;const z=E(V(8666));Ee.PostgrestQueryBuilder=z.default;const M=E(V(3608));Ee.PostgrestFilterBuilder=M.default;const X=E(V(3342));Ee.PostgrestTransformBuilder=X.default;const Z=E(V(5958));Ee.PostgrestBuilder=Z.default;const Y=E(V(4659));Ee.PostgrestError=Y.default,Ee.default={PostgrestClient:i.default,PostgrestQueryBuilder:z.default,PostgrestFilterBuilder:M.default,PostgrestTransformBuilder:X.default,PostgrestBuilder:Z.default,PostgrestError:Y.default}},4242:(at,Ee,V)=>{"use strict";V.d(Ee,{Vh:()=>ie,im:()=>Z});var E=V(4412),i=V(2615),z=V(4675),M=V(7473),X=V(3077),Z=function(ge){return ge.Host="host",ge.Client="client",ge}(Z||{}),Y=function(ge){return ge.JoinSession="join-session",ge.ElementsUpdate="elements-update",ge.RoundUpdate="round-update",ge.GraveyardUpdate="graveyard-update",ge.CharactersUpdate="characters-update",ge}(Y||{});let ie=(()=>{class ge{appContext;notificationService;localStorageService;ws=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnecting=!1;role;updatingFromServer=!1;clientId=null;clientIdSubject=new E.t(null);sessionId=0;sessionIdSubject=new E.t(null);clientId$=this.clientIdSubject.asObservable();sessionId$=this.sessionIdSubject.asObservable();constructor(re,ce,de){this.appContext=re,this.notificationService=ce,this.localStorageService=de,this.subscribeAndBroadcast(this.appContext.roundNumber$,Y.RoundUpdate,ye=>({roundNumber:ye})),this.subscribeAndBroadcast(this.appContext.creatures$,Y.CharactersUpdate,ye=>({characters:ye})),this.subscribeAndBroadcast(this.appContext.elements$,Y.ElementsUpdate,ye=>({elements:ye}))}subscribeAndBroadcast(re,ce,de){re.subscribe(ye=>{this.updatingFromServer||this.sendUpdateMessage(ce,{...de(ye),originatingClientId:this.clientId})})}connect(re,ce){this.role=re,null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(1e3,"Switching session or reconnecting"),this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const de=this.getSessionId(),ye={type:Y.JoinSession,...null!=de&&{sessionId:de},characters:this.role===Z.Host?this.appContext.getCreatures():[],roundNumber:this.role===Z.Host?this.appContext.getRoundNumber():1,elementStates:this.role===Z.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(ye)),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onerror=de=>{this.isConnected=!1,this.notificationService.emitErrorMessage("Unable to connect to the server. Retrying..."),this.tryReconnect()},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect()},this.ws.onmessage=de=>{const ye=JSON.parse(de.data);if("session-joined"===ye.type)return this.handleSessionJoined(ye);if(ye.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,ye.type){case Y.CharactersUpdate:this.appContext.setCreatures(ye.characters);break;case Y.GraveyardUpdate:this.appContext.setGraveyard(ye.graveyard);break;case Y.RoundUpdate:this.appContext.setRoundNumber(ye.roundNumber);break;case Y.ElementsUpdate:this.appContext.setElements(ye.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${ye.type}`)}this.updatingFromServer=!1}}}tryReconnect(){if(!this.reconnecting&&this.getSessionId())if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const re=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role,this.getSessionId()),this.reconnecting=!1},re)}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts.")}sendUpdateMessage(re,ce){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:re,...ce,originatingClientId:this.clientId}))}handleSessionJoined(re){this.clientId=re.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=re.sessionId,this.localStorageService.setSessionId(re.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${re.sessionId}.`)}requestServerState(re){this.sendUpdateMessage("request-latest-state",{sessionId:re})}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId()}static \u0275fac=function(ce){return new(ce||ge)(i.KVO(z.B),i.KVO(M.J),i.KVO(X.s))};static \u0275prov=i.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})()},4341:(at,Ee,V)=>{"use strict";V.d(Ee,{Zm:()=>_e,me:()=>Fe,YN:()=>$i,tU:()=>kn,BC:()=>bo,vS:()=>$t});var E=V(3664),i=V(2615),z=V(3597),M=V(7705),X=V(7303),Z=V(6648),Y=V(1985),ie=V(3073),ge=V(8750),pe=V(3794),re=V(4360),ce=V(6450),de=V(8496),Pe=V(1413),He=V(6354);let ze=(()=>{class A{_renderer;_elementRef;onChange=w=>{};onTouched=()=>{};constructor(w,U){this._renderer=w,this._elementRef=U}setProperty(w,U){this._renderer.setProperty(this._elementRef.nativeElement,w,U)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:A})}return A})(),Ge=(()=>{class A extends ze{static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,features:[E.Vt3]})}return A})();const We=new i.nKC(""),bt={provide:We,useExisting:(0,i.Rfq)(()=>_e),multi:!0};let _e=(()=>{class A extends Ge{writeValue(w){this.setProperty("checked",w)}static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(U,ne){1&U&&E.bIt("change",function(Mt){return ne.onChange(Mt.target.checked)})("blur",function(){return ne.onTouched()})},standalone:!1,features:[E.Jv_([bt]),E.Vt3]})}return A})();const Te={provide:We,useExisting:(0,i.Rfq)(()=>Fe),multi:!0},Ve=new i.nKC("");let Fe=(()=>{class A extends ze{_compositionMode;_composing=!1;constructor(w,U,ne){super(w,U),this._compositionMode=ne,null==this._compositionMode&&(this._compositionMode=!function Se(){const A=(0,X.rb)()?(0,X.rb)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(Ve,8))};static \u0275dir=E.FsC({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,ne){1&U&&E.bIt("input",function(Mt){return ne._handleInput(Mt.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Mt){return ne._compositionEnd(Mt.target.value)})},standalone:!1,features:[E.Jv_([Te]),E.Vt3]})}return A})();const et=new i.nKC(""),Vt=new i.nKC("");function ae(A){return T=>{const w=T.value?.length??function It(A){return null==A?null:Array.isArray(A)||"string"==typeof A?A.length:A instanceof Set?A.size:null}(T.value);return null!==w&&w>A?{maxlength:{requiredLength:A,actualLength:w}}:null}}function be(A){return null}function ve(A){return null!=A}function De(A){return(0,E.yLl)(A)?(0,Z.H)(A):A}function Le(A){let T={};return A.forEach(w=>{T=null!=w?{...T,...w}:T}),0===Object.keys(T).length?null:T}function ct(A,T){return T.map(w=>w(A))}function qt(A){return A.map(T=>function it(A){return!A.validate}(T)?T:w=>T.validate(w))}function Be(A){return null!=A?function me(A){if(!A)return null;const T=A.filter(ve);return 0==T.length?null:function(w){return Le(ct(w,T))}}(qt(A)):null}function pt(A){return null!=A?function Xe(A){if(!A)return null;const T=A.filter(ve);return 0==T.length?null:function(w){return function ye(...A){const T=(0,pe.ms)(A),{args:w,keys:U}=(0,ie.D)(A),ne=new Y.c(ft=>{const{length:Mt}=w;if(!Mt)return void ft.complete();const er=new Array(Mt);let go=Mt,ro=Mt;for(let Zo=0;Zo<Mt;Zo++){let jo=!1;(0,ge.Tg)(w[Zo]).subscribe((0,re._)(ft,bi=>{jo||(jo=!0,ro--),er[Zo]=bi},()=>go--,void 0,()=>{(!go||!jo)&&(ro||ft.next(U?(0,de.e)(U,er):er),ft.complete())}))}});return T?ne.pipe((0,ce.I)(T)):ne}(ct(w,T).map(De)).pipe((0,He.T)(Le))}}(qt(A)):null}function Ue(A,T){return null===A?[T]:Array.isArray(A)?[...A,T]:[A,T]}function ln(A){return A?Array.isArray(A)?A:[A]:[]}function zt(A,T){return Array.isArray(A)?A.includes(T):A===T}function Gr(A,T){const w=ln(T);return ln(A).forEach(ne=>{zt(w,ne)||w.push(ne)}),w}function Nr(A,T){return ln(T).filter(w=>!zt(A,w))}class Vn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=Be(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T=void 0){this.control&&this.control.reset(T)}hasError(T,w){return!!this.control&&this.control.hasError(T,w)}getError(T,w){return this.control?this.control.getError(T,w):null}}class un extends Vn{name;get formDirective(){return null}get path(){return null}}class Ut extends Vn{_parent=null;name=null;valueAccessor=null}class Lr{_cd;constructor(T){this._cd=T}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let bo=(()=>{class A extends Lr{constructor(w){super(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(Ut,2))};static \u0275dir=E.FsC({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,ne){2&U&&E.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},standalone:!1,features:[E.Vt3]})}return A})();const zn="VALID",Xr="INVALID",Br="PENDING",Kn="DISABLED";class An{}class io extends An{value;source;constructor(T,w){super(),this.value=T,this.source=w}}class Ea extends An{pristine;source;constructor(T,w){super(),this.pristine=T,this.source=w}}class ur extends An{touched;source;constructor(T,w){super(),this.touched=T,this.source=w}}class Yr extends An{status;source;constructor(T,w){super(),this.status=T,this.source=w}}function Xt(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}class Vr{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(T,w){this._assignValidators(T),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get status(){return(0,z.O8)(this.statusReactive)}set status(T){(0,z.O8)(()=>this.statusReactive.set(T))}_status=(0,z.EW)(()=>this.statusReactive());statusReactive=(0,i.vPA)(void 0);get valid(){return this.status===zn}get invalid(){return this.status===Xr}get pending(){return this.status==Br}get disabled(){return this.status===Kn}get enabled(){return this.status!==Kn}errors;get pristine(){return(0,z.O8)(this.pristineReactive)}set pristine(T){(0,z.O8)(()=>this.pristineReactive.set(T))}_pristine=(0,z.EW)(()=>this.pristineReactive());pristineReactive=(0,i.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,z.O8)(this.touchedReactive)}set touched(T){(0,z.O8)(()=>this.touchedReactive.set(T))}_touched=(0,z.EW)(()=>this.touchedReactive());touchedReactive=(0,i.vPA)(!1);get untouched(){return!this.touched}_events=new Pe.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._assignValidators(T)}setAsyncValidators(T){this._assignAsyncValidators(T)}addValidators(T){this.setValidators(Gr(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(Gr(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(Nr(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(Nr(T,this._rawAsyncValidators))}hasValidator(T){return zt(this._rawValidators,T)}hasAsyncValidator(T){return zt(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){const w=!1===this.touched;this.touched=!0;const U=T.sourceControl??this;this._parent&&!T.onlySelf&&this._parent.markAsTouched({...T,sourceControl:U}),w&&!1!==T.emitEvent&&this._events.next(new ur(!0,U))}markAllAsDirty(T={}){this.markAsDirty({onlySelf:!0,emitEvent:T.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsDirty(T))}markAllAsTouched(T={}){this.markAsTouched({onlySelf:!0,emitEvent:T.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsTouched(T))}markAsUntouched(T={}){const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const U=T.sourceControl??this;this._forEachChild(ne=>{ne.markAsUntouched({onlySelf:!0,emitEvent:T.emitEvent,sourceControl:U})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T,U),w&&!1!==T.emitEvent&&this._events.next(new ur(!1,U))}markAsDirty(T={}){const w=!0===this.pristine;this.pristine=!1;const U=T.sourceControl??this;this._parent&&!T.onlySelf&&this._parent.markAsDirty({...T,sourceControl:U}),w&&!1!==T.emitEvent&&this._events.next(new Ea(!1,U))}markAsPristine(T={}){const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const U=T.sourceControl??this;this._forEachChild(ne=>{ne.markAsPristine({onlySelf:!0,emitEvent:T.emitEvent})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T,U),w&&!1!==T.emitEvent&&this._events.next(new Ea(!0,U))}markAsPending(T={}){this.status=Br;const w=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new Yr(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.markAsPending({...T,sourceControl:w})}disable(T={}){const w=this._parentMarkedDirty(T.onlySelf);this.status=Kn,this.errors=null,this._forEachChild(ne=>{ne.disable({...T,onlySelf:!0})}),this._updateValue();const U=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new io(this.value,U)),this._events.next(new Yr(this.status,U)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...T,skipPristineCheck:w},this),this._onDisabledChange.forEach(ne=>ne(!0))}enable(T={}){const w=this._parentMarkedDirty(T.onlySelf);this.status=zn,this._forEachChild(U=>{U.enable({...T,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors({...T,skipPristineCheck:w},this),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(T,w){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine({},w),this._parent._updateTouched({},w))}setParent(T){this._parent=T}getRawValue(){return this.value}updateValueAndValidity(T={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const U=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zn||this.status===Br)&&this._runAsyncValidator(U,T.emitEvent)}const w=T.sourceControl??this;!1!==T.emitEvent&&(this._events.next(new io(this.value,w)),this._events.next(new Yr(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity({...T,sourceControl:w})}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kn:zn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T,w){if(this.asyncValidator){this.status=Br,this._hasOwnPendingAsyncValidator={emitEvent:!1!==w,shouldHaveEmitted:!1!==T};const U=De(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ne=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ne,{emitEvent:w,shouldHaveEmitted:T})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const T=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,T}return!1}setErrors(T,w={}){this.errors=T,this._updateControlsErrors(!1!==w.emitEvent,this,w.shouldHaveEmitted)}get(T){let w=T;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((U,ne)=>U&&U._find(ne),this)}getError(T,w){const U=w?this.get(w):this;return U&&U.errors?U.errors[T]:null}hasError(T,w){return!!this.getError(T,w)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T,w,U){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),(T||U)&&this._events.next(new Yr(this.status,w)),this._parent&&this._parent._updateControlsErrors(T,w,U)}_initObservables(){this.valueChanges=new E.bkB,this.statusChanges=new E.bkB}_calculateStatus(){return this._allControlsDisabled()?Kn:this.errors?Xr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Br)?Br:this._anyControlsHaveStatus(Xr)?Xr:zn}_anyControlsHaveStatus(T){return this._anyControls(w=>w.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T,w){const U=!this._anyControlsDirty(),ne=this.pristine!==U;this.pristine=U,this._parent&&!T.onlySelf&&this._parent._updatePristine(T,w),ne&&this._events.next(new Ea(this.pristine,w))}_updateTouched(T={},w){this.touched=this._anyControlsTouched(),this._events.next(new ur(this.touched,w)),this._parent&&!T.onlySelf&&this._parent._updateTouched(T,w)}_onDisabledChange=[];_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){Xt(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){return!T&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(T){return null}_assignValidators(T){this._rawValidators=Array.isArray(T)?T.slice():T,this._composedValidatorFn=function ka(A){return Array.isArray(A)?Be(A):A||null}(this._rawValidators)}_assignAsyncValidators(T){this._rawAsyncValidators=Array.isArray(T)?T.slice():T,this._composedAsyncValidatorFn=function _r(A){return Array.isArray(A)?pt(A):A||null}(this._rawAsyncValidators)}}const mr=new i.nKC("",{providedIn:"root",factory:()=>On}),On="always";function Po(A,T,w=On){(function nr(A,T){const w=function Wt(A){return A._rawValidators}(A);null!==T.validator?A.setValidators(Ue(w,T.validator)):"function"==typeof w&&A.setValidators([w]);const U=function kt(A){return A._rawAsyncValidators}(A);null!==T.asyncValidator?A.setAsyncValidators(Ue(U,T.asyncValidator)):"function"==typeof U&&A.setAsyncValidators([U]);const ne=()=>A.updateValueAndValidity();Er(T._rawValidators,ne),Er(T._rawAsyncValidators,ne)})(A,T),T.valueAccessor.writeValue(A.value),(A.disabled||"always"===w)&&T.valueAccessor.setDisabledState?.(A.disabled),function At(A,T){T.valueAccessor.registerOnChange(w=>{A._pendingValue=w,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&Zr(A,T)})}(A,T),function Yn(A,T){const w=(U,ne)=>{T.valueAccessor.writeValue(U),ne&&T.viewToModelUpdate(U)};A.registerOnChange(w),T._registerOnDestroy(()=>{A._unregisterOnChange(w)})}(A,T),function lo(A,T){T.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&Zr(A,T),"submit"!==A.updateOn&&A.markAsTouched()})}(A,T),function No(A,T){if(T.valueAccessor.setDisabledState){const w=U=>{T.valueAccessor.setDisabledState(U)};A.registerOnDisabledChange(w),T._registerOnDestroy(()=>{A._unregisterOnDisabledChange(w)})}}(A,T)}function Er(A,T){A.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(T)})}function Zr(A,T){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function Sr(A,T){const w=A.indexOf(T);w>-1&&A.splice(w,1)}function ho(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const da=class extends Vr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(T=null,w,U){super(function ko(A){return(Xt(A)?A.validators:A)||null}(w),function cr(A,T){return(Xt(T)?T.asyncValidators:A)||null}(U,w)),this._applyFormState(T),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xt(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=ho(T)?T.value:T)}setValue(T,w={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(T,w={}){this.setValue(T,w)}reset(T=this.defaultValue,w={}){this._applyFormState(T),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){Sr(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){Sr(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(T){ho(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}},Ft={provide:Ut,useExisting:(0,i.Rfq)(()=>$t)},Pt=Promise.resolve();let $t=(()=>{class A extends Ut{_changeDetectorRef;callSetDisabledState;control=new da;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new E.bkB;constructor(w,U,ne,ft,Mt,er){super(),this._changeDetectorRef=Mt,this.callSetDisabledState=er,this._parent=w,this._setValidators(U),this._setAsyncValidators(ne),this.valueAccessor=function Wr(A,T){if(!T)return null;let w,U,ne;return Array.isArray(T),T.forEach(ft=>{ft.constructor===Fe?w=ft:function qn(A){return Object.getPrototypeOf(A.constructor)===Ge}(ft)?U=ft:ne=ft}),ne||U||w||null}(0,ft)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const U=w.name.previousValue;this.formDirective.removeControl({name:U,path:this._getPath(U)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),function uo(A,T){if(!A.hasOwnProperty("model"))return!1;const w=A.model;return!!w.isFirstChange()||!Object.is(T,w.currentValue)}(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Po(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Pt.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const U=w.isDisabled.currentValue,ne=0!==U&&(0,M.L39)(U);Pt.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?function Jr(A,T){return[...T.path,A]}(w,this._parent):[w]}static \u0275fac=function(U){return new(U||A)(E.rXU(un,9),E.rXU(et,10),E.rXU(Vt,10),E.rXU(We,10),E.rXU(M.gRc,8),E.rXU(mr,8))};static \u0275dir=E.FsC({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([Ft]),E.Vt3,E.OA$]})}return A})();let wt=(()=>{class A{_validator=be;_onChange;_enabled;ngOnChanges(w){if(this.inputName in w){const U=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(U),this._validator=this._enabled?this.createValidator(U):be,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}static \u0275fac=function(U){return new(U||A)};static \u0275dir=E.FsC({type:A,features:[E.OA$]})}return A})();const Xa={provide:et,useExisting:(0,i.Rfq)(()=>kn),multi:!0};let kn=(()=>{class A extends wt{maxlength;inputName="maxlength";normalizeInput=w=>function xe(A){return"number"==typeof A?A:parseInt(A,10)}(w);createValidator=w=>ae(w);static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(U,ne){2&U&&E.BMQ("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[E.Jv_([Xa]),E.Vt3]})}return A})(),yo=(()=>{class A{static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({})}return A})(),$i=(()=>{class A{static withConfig(w){return{ngModule:A,providers:[{provide:mr,useValue:w.callSetDisabledState??On}]}}static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({imports:[yo]})}return A})()},4360:(at,Ee,V)=>{"use strict";V.d(Ee,{_:()=>i});var E=V(7707);function i(M,X,Z,Y,ie){return new z(M,X,Z,Y,ie)}class z extends E.vU{constructor(X,Z,Y,ie,ge,pe){super(X),this.onFinalize=ge,this.shouldUnsubscribe=pe,this._next=Z?function(re){try{Z(re)}catch(ce){X.error(ce)}}:super._next,this._error=ie?function(re){try{ie(re)}catch(ce){X.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(re){X.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4412:(at,Ee,V)=>{"use strict";V.d(Ee,{t:()=>i});var E=V(1413);class i extends E.B{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const X=super._subscribe(M);return!X.closed&&M.next(this._value),X}getValue(){const{hasError:M,thrownError:X,_value:Z}=this;if(M)throw X;return this._throwIfClosed(),Z}next(M){super.next(this._value=M)}}},4572:(at,Ee,V)=>{"use strict";V.d(Ee,{z:()=>pe});var E=V(1985),i=V(3073),z=V(6648),M=V(3669),X=V(6450),Z=V(3794),Y=V(8496),ie=V(4360),ge=V(5225);function pe(...de){const ye=(0,Z.lI)(de),Pe=(0,Z.ms)(de),{args:He,keys:ze}=(0,i.D)(de);if(0===He.length)return(0,z.H)([],ye);const Ge=new E.c(function re(de,ye,Pe=M.D){return He=>{ce(ye,()=>{const{length:ze}=de,Ge=new Array(ze);let We=ze,bt=ze;for(let _e=0;_e<ze;_e++)ce(ye,()=>{const Te=(0,z.H)(de[_e],ye);let Se=!1;Te.subscribe((0,ie._)(He,Ve=>{Ge[_e]=Ve,Se||(Se=!0,bt--),bt||He.next(Pe(Ge.slice()))},()=>{--We||He.complete()}))},He)},He)}}(He,ye,ze?We=>(0,Y.e)(ze,We):M.D));return Pe?Ge.pipe((0,X.I)(Pe)):Ge}function ce(de,ye,Pe){de?(0,ge.N)(Pe,de,ye):ye()}},4659:(at,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});class V extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}Ee.default=V},4675:(at,Ee,V)=>{"use strict";V.d(Ee,{B:()=>pe});var E=V(467),i=V(8880),z=V(4412),M=V(2615),X=V(130),Z=V(5231),Y=V(8147),ie=V(7473),ge=V(1948);let pe=(()=>{class re{dataLoader;creatureFactory;logService;notificationService;db;defaultLevel=1;isGroupSelected=!1;selectedCreature=null;addMonsterToggled=!1;shouldShowSetup=!0;creaturesSubject=new z.t([]);creatures$=this.creaturesSubject.asObservable();graveyardSubject=new z.t([]);graveyard$=this.graveyardSubject.asObservable();roundNumberSubject=new z.t(1);roundNumber$=this.roundNumberSubject.asObservable();defaultLevelSubject=new z.t(1);defaultLevel$=this.defaultLevelSubject.asObservable();elementsSubject=new z.t([{type:i.RJ.Fire,state:i.e_.None},{type:i.RJ.Ice,state:i.e_.None},{type:i.RJ.Earth,state:i.e_.None},{type:i.RJ.Air,state:i.e_.None},{type:i.RJ.Light,state:i.e_.None},{type:i.RJ.Dark,state:i.e_.None}]);elements$=this.elementsSubject.asObservable();constructor(de,ye,Pe,He,ze){this.dataLoader=de,this.creatureFactory=ye,this.logService=Pe,this.notificationService=He,this.db=ze,this.addDefaultCharacters(),this.logService.init(this.creatures$)}getRoundNumber(){return this.roundNumberSubject.getValue()}setRoundNumber(de){this.roundNumberSubject.next(de)}getElements(){return this.elementsSubject.getValue()}setElements(de){this.elementsSubject.next([...de])}setElementState(de,ye){const Pe=this.getElements().map(He=>He.type===de?{...He,state:ye}:He);this.setElements(Pe)}getCreatures(){return this.creaturesSubject.value}setCreatures(de){this.creaturesSubject.next(de)}addCreature(de){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(de)])}addCreatures(de){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(de)])}removeCreature(de){this.creaturesSubject.next(this.creaturesSubject.value.filter(ye=>ye.id!==de))}getGraveyard(){return this.graveyardSubject.value}setGraveyard(de){this.graveyardSubject.next(de)}addGraveyard(de){this.graveyardSubject.next([...this.graveyardSubject.value,JSON.parse(JSON.stringify(de))])}removeGraveyard(de){this.graveyardSubject.next(this.graveyardSubject.value.filter(ye=>ye.id!==de))}updateCreatureBaseStat(de,ye,Pe,He){const ze=this.getCreatures(),Ge=this.findCreature(de);"name"===ye&&(Pe=this.creatureFactory.createCreatureName(Ge)),He?ze.filter(bt=>bt.type===Ge.type).forEach(bt=>{this.updateCreatureBaseStat(bt.id,ye,Pe,!1)}):Ge[ye]=Pe,this.creaturesSubject.next([...ze])}toggleCreatureConditions(de,ye){const Pe=this.findCreature(de);if(!Pe)return;const He=Pe.conditions||[];Pe.conditions=He.indexOf(ye)>-1?He.filter(Ge=>Ge!==ye):[...He,ye],this.creaturesSubject.next([...this.getCreatures()])}killCreature(de){const ye=this.findCreature(de);if(!ye)return;if(!ye.aggressive)return void this.notificationService.emitErrorMessage("haha, can't kill me");const Pe=this.creaturesSubject.value.filter(ze=>ze.id!==de);this.creaturesSubject.next(Pe);const He=JSON.parse(JSON.stringify(ye));this.addGraveyard(He),this.notificationService.emitInfoMessage(`${ye.name} has been killed!`)}reviveCreature(de,ye){const Pe=this.getGraveyard?this.getGraveyard():this.graveyardSubject?.value??[],He=Pe.findIndex(_e=>_e.id===de);if(-1===He)return;const ze={...Pe[He]},Ge=[...Pe];Ge.splice(He,1);const We=Number.isFinite(ye)?Number(ye):void 0;ze.hp=Math.max(1,Number(We??ze.hp??1)),ze.aggressive=!0;const bt=[...this.creaturesSubject.value,ze];this.creaturesSubject.next(bt),this.graveyardSubject&&this.graveyardSubject.next(Ge),this.notificationService?.emitInfoMessage?.(`${ze.name} has been revived!`)}findCreature(de){const Pe=this.getCreatures().find(He=>He.id===de);if(!Pe)throw Error("Creature not found");return Pe}addDefaultCharacters(){var de=this;return(0,E.A)(function*(){try{const ye=yield de.db.getCharacter(),Pe=ye.map(We=>Number(We.level)||1),He=Pe.reduce((We,bt)=>We+bt,0)/Pe.length,ze=Math.max(1,Math.round(He/2));de.defaultLevelSubject.next(ze);const Ge=ye.map(({name:We,type:bt,level:_e})=>{const Te=de.dataLoader.getData().characters.find(qe=>qe.name===bt),Se=Te?.stats?.find(qe=>qe.level===Number(_e)),Ve=Number(Se?.health)||10;return de.creatureFactory.createCreature({name:We,type:bt,hp:Ve,traits:Te?.traits??[],level:Number(_e)||1,aggressive:!1})});de.addCreatures(Ge)}catch(ye){console.error("addDefaultCharacters failed",ye)}})()}static \u0275fac=function(ye){return new(ye||re)(M.KVO(X.X),M.KVO(Z.Z),M.KVO(Y.K),M.KVO(ie.J),M.KVO(ge.a))};static \u0275prov=M.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},4761:(at,Ee,V)=>{"use strict";V.d(Ee,{l:()=>i});const i=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(at,Ee,V)=>{"use strict";V.d(Ee,{l:()=>z});var E=V(3494),i=V(8071);function z(M){return(0,i.T)(M[E.s])}},5196:(at,Ee,V)=>{"use strict";V.d(Ee,{C:()=>z,U:()=>M});var E=V(1635),i=V(8071);function z(X){return(0,E.AQ)(this,arguments,function*(){const Y=X.getReader();try{for(;;){const{value:ie,done:ge}=yield(0,E.N3)(Y.read());if(ge)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(ie)}}finally{Y.releaseLock()}})}function M(X){return(0,i.T)(X?.getReader)}},5225:(at,Ee,V)=>{"use strict";function E(i,z,M,X=0,Z=!1){const Y=z.schedule(function(){M(),Z?i.add(this.schedule(null,X)):this.unsubscribe()},X);if(i.add(Y),!Z)return Y}V.d(Ee,{N:()=>E})},5231:(at,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>M});var E=V(2615),i=V(130);let z=(()=>{class X{parseInt(Y){return parseInt(void 0!==Y?String(Y):"0")||0}static \u0275fac=function(ie){return new(ie||X)};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),M=(()=>{class X{dataLoader;stringUtils;creatureIdCounter=0;dataFile;constructor(Y,ie){this.dataLoader=Y,this.stringUtils=ie,this.dataFile=this.dataLoader.getData()}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter}createCreature(Y){const ie=this.findMonsterStats(Y),ge={id:this.generateCreatureId(),name:Y.aggressive?this.createCreatureName(Y):Y.name,type:Y.type,standee:Y.standee??"#",level:Y.level??1,hp:Math.max(this.stringUtils.parseInt(ie?.baseStat?.health??0),this.stringUtils.parseInt(ie?.stats[0]?.health??0),this.stringUtils.parseInt(Y.hp??0)),attack:Math.max(this.stringUtils.parseInt(ie?.baseStat?.attack??0),this.stringUtils.parseInt(ie?.stats[0]?.attack??0)),attackTarget:this.getTargetStat(ie),movement:Math.max(this.stringUtils.parseInt(ie?.baseStat?.movement??0),this.stringUtils.parseInt(ie?.stats[0]?.movement??0)),initiative:Y.initiative??0,armor:this.stringUtils.parseInt(ie?.stats?.[0]?.actions?.find(pe=>"shield"===pe.type)?.value??ie?.stats?.[0]?.baseStat?.actions?.find(pe=>"shield"===pe.type)?.value??0),retaliate:this.getRetaliateStat(ie,"value"),retaliateRange:this.getRetaliateStat(ie,"range"),aggressive:Y.aggressive,boss:ie?.boss??!1,flying:ie?.flying??!1,isElite:Y.isElite??!1,conditions:Y.conditions??[],immunities:(ie?.stats?.[0]?.immunities??ie?.baseStat?.immunities??[]).map(pe=>pe),roundArmor:Y.roundArmor??0,roundRetaliate:Y.roundRetaliate??0,actions:ie?.actions?.filter(pe=>"condition"===pe.type)??ie?.baseStat?.actions?.filter(pe=>"condition"===pe.type)??ie?.stats?.flatMap(pe=>pe.actions??[]).filter(pe=>"condition"===pe.type)??[],log:Y.log??[],traits:Y.traits??[]};return ge.maxHp=0===ge.hp?999:ge.hp,ge}createCreatureName(Y){let ie=`${Y.type} ${Y.standee??""}`;return Y.isElite?`\u2605 ${ie}`:ie}getRetaliateStat(Y,ie){const ge=Y?.stats?.[0]?.actions?.find(pe=>"retaliate"===pe.type)??Y?.baseStat?.actions?.find(pe=>"retaliate"===pe.type);return ge?"value"===ie?this.stringUtils.parseInt(ge.value??0):"range"===ie?this.stringUtils.parseInt(ge.range??ge.subActions?.find(pe=>"range"===pe.type)?.value??0):0:0}getTargetStat(Y){const ie=Y?.stats?.[0]?.actions?.find(ge=>"target"===ge.type)??Y?.baseStat?.actions?.find(ge=>"target"===ge.type);return ie?this.stringUtils.parseInt(ie.value??1):1}createCreatureList(Y){const ie=[];return Y.forEach(ge=>{ie.push(this.createCreature(ge))}),ie}findMonsterStats(Y){const ie=this.dataFile.monsters.find(re=>re.name===Y.name||re.name===Y.type);if(!ie)return;const ge=this.isCreatureElite(Y),pe=ie.stats.find(re=>(ge?"elite"===re.type:"normal"===re.type||!re.type)&&re.level===Y.level);return pe?{...ie,stats:[pe]}:void 0}isCreatureElite(Y){return"elite"===Y.type||"elite"===Y.player4||!0===Y.isElite}static \u0275fac=function(ie){return new(ie||X)(E.KVO(i.X),E.KVO(z))};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},5286:(at,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{Headers:()=>X,Request:()=>Z,Response:()=>Y,default:()=>M,fetch:()=>z});var i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const z=i.fetch,M=i.fetch.bind(i),X=i.Headers,Z=i.Request,Y=i.Response},5334:(at,Ee,V)=>{"use strict";V.d(Ee,{m:()=>z});var E=V(1026),i=V(9270);function z(M){i.f.setTimeout(()=>{const{onUnhandledError:X}=E.$;if(!X)throw M;X(M)})}},5343:(at,Ee,V)=>{"use strict";function E(){}V.d(Ee,{l:()=>E})},5397:(at,Ee,V)=>{"use strict";V.d(Ee,{x:()=>z});var E=V(4761),i=V(8071);function z(M){return(0,i.T)(M?.[E.l])}},5958:function(at,Ee,V){"use strict";var E=V(9293).default,i=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(Ee,"__esModule",{value:!0});const z=i(V(5286)),M=i(V(4659));Ee.default=class X{constructor(Y){var ie,ge;this.shouldThrowOnError=!1,this.method=Y.method,this.url=Y.url,this.headers=new Headers(Y.headers),this.schema=Y.schema,this.body=Y.body,this.shouldThrowOnError=null!==(ie=Y.shouldThrowOnError)&&void 0!==ie&&ie,this.signal=Y.signal,this.isMaybeSingle=null!==(ge=Y.isMaybeSingle)&&void 0!==ge&&ge,this.fetch=Y.fetch?Y.fetch:typeof fetch>"u"?z.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Y,ie){return this.headers=new Headers(this.headers),this.headers.set(Y,ie),this}then(Y,ie){var ge=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let re=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ce=E(function*(de){var ye,Pe,He,ze;let Ge=null,We=null,bt=null,_e=de.status,Te=de.statusText;if(de.ok){if("HEAD"!==ge.method){const qe=yield de.text();""===qe||(We="text/csv"===ge.headers.get("Accept")||ge.headers.get("Accept")&&null!==(ye=ge.headers.get("Accept"))&&void 0!==ye&&ye.includes("application/vnd.pgrst.plan+text")?qe:JSON.parse(qe))}const Ve=null===(Pe=ge.headers.get("Prefer"))||void 0===Pe?void 0:Pe.match(/count=(exact|planned|estimated)/),Fe=null===(He=de.headers.get("content-range"))||void 0===He?void 0:He.split("/");Ve&&Fe&&Fe.length>1&&(bt=parseInt(Fe[1])),ge.isMaybeSingle&&"GET"===ge.method&&Array.isArray(We)&&(We.length>1?(Ge={code:"PGRST116",details:`Results contain ${We.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},We=null,bt=null,_e=406,Te="Not Acceptable"):We=1===We.length?We[0]:null)}else{const Ve=yield de.text();try{Ge=JSON.parse(Ve),Array.isArray(Ge)&&404===de.status&&(We=[],Ge=null,_e=200,Te="OK")}catch{404===de.status&&""===Ve?(_e=204,Te="No Content"):Ge={message:Ve}}if(Ge&&ge.isMaybeSingle&&!(null===(ze=Ge?.details)||void 0===ze)&&ze.includes("0 rows")&&(Ge=null,_e=200,Te="OK"),Ge&&ge.shouldThrowOnError)throw new M.default(Ge)}return{error:Ge,data:We,count:bt,status:_e,statusText:Te}});return function(de){return ce.apply(this,arguments)}}());return this.shouldThrowOnError||(re=re.catch(ce=>{var de,ye,Pe;return{error:{message:`${null!==(de=ce?.name)&&void 0!==de?de:"FetchError"}: ${ce?.message}`,details:`${null!==(ye=ce?.stack)&&void 0!==ye?ye:""}`,hint:"",code:`${null!==(Pe=ce?.code)&&void 0!==Pe?Pe:""}`},data:null,count:null,status:0,statusText:""}})),re.then(Y,ie)}returns(){return this}overrideTypes(){return this}}},5964:(at,Ee,V)=>{"use strict";V.d(Ee,{p:()=>z});var E=V(9974),i=V(4360);function z(M,X){return(0,E.N)((Z,Y)=>{let ie=0;Z.subscribe((0,i._)(Y,ge=>M.call(X,ge,ie++)&&Y.next(ge)))})}},6354:(at,Ee,V)=>{"use strict";V.d(Ee,{T:()=>z});var E=V(9974),i=V(4360);function z(M,X){return(0,E.N)((Z,Y)=>{let ie=0;Z.subscribe((0,i._)(Y,ge=>{Y.next(M.call(X,ge,ie++))}))})}},6365:(at,Ee,V)=>{"use strict";V.d(Ee,{U:()=>z});var E=V(1397),i=V(3669);function z(M=1/0){return(0,E.Z)(i.D,M)}},6450:(at,Ee,V)=>{"use strict";V.d(Ee,{I:()=>M});var E=V(6354);const{isArray:i}=Array;function M(X){return(0,E.T)(Z=>function z(X,Z){return i(Z)?X(...Z):X(Z)}(X,Z))}},6648:(at,Ee,V)=>{"use strict";V.d(Ee,{H:()=>Ve});var E=V(8750),i=V(5225),z=V(9974),M=V(4360);function X(Fe,qe=0){return(0,z.N)((It,et)=>{It.subscribe((0,M._)(et,Vt=>(0,i.N)(et,Fe,()=>et.next(Vt),qe),()=>(0,i.N)(et,Fe,()=>et.complete(),qe),Vt=>(0,i.N)(et,Fe,()=>et.error(Vt),qe)))})}function Z(Fe,qe=0){return(0,z.N)((It,et)=>{et.add(Fe.schedule(()=>It.subscribe(et),qe))})}var ge=V(1985),re=V(4761),ce=V(8071);function ye(Fe,qe){if(!Fe)throw new Error("Iterable cannot be null");return new ge.c(It=>{(0,i.N)(It,qe,()=>{const et=Fe[Symbol.asyncIterator]();(0,i.N)(It,qe,()=>{et.next().then(Vt=>{Vt.done?It.complete():It.next(Vt.value)})},0,!0)})})}var Pe=V(5055),He=V(9858),ze=V(7441),Ge=V(5397),We=V(7953),bt=V(591),_e=V(5196);function Ve(Fe,qe){return qe?function Se(Fe,qe){if(null!=Fe){if((0,Pe.l)(Fe))return function Y(Fe,qe){return(0,E.Tg)(Fe).pipe(Z(qe),X(qe))}(Fe,qe);if((0,ze.X)(Fe))return function pe(Fe,qe){return new ge.c(It=>{let et=0;return qe.schedule(function(){et===Fe.length?It.complete():(It.next(Fe[et++]),It.closed||this.schedule())})})}(Fe,qe);if((0,He.y)(Fe))return function ie(Fe,qe){return(0,E.Tg)(Fe).pipe(Z(qe),X(qe))}(Fe,qe);if((0,We.T)(Fe))return ye(Fe,qe);if((0,Ge.x)(Fe))return function de(Fe,qe){return new ge.c(It=>{let et;return(0,i.N)(It,qe,()=>{et=Fe[re.l](),(0,i.N)(It,qe,()=>{let Vt,In;try{({value:Vt,done:In}=et.next())}catch(vn){return void It.error(vn)}In?It.complete():It.next(Vt)},0,!0)}),()=>(0,ce.T)(et?.return)&&et.return()})}(Fe,qe);if((0,_e.U)(Fe))return function Te(Fe,qe){return ye((0,_e.C)(Fe),qe)}(Fe,qe)}throw(0,bt.L)(Fe)}(Fe,qe):(0,E.Tg)(Fe)}},6977:(at,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>X});var E=V(9974),i=V(4360),z=V(8750),M=V(5343);function X(Z){return(0,E.N)((Y,ie)=>{(0,z.Tg)(Z).subscribe((0,i._)(ie,()=>ie.complete(),M.l)),!ie.closed&&Y.subscribe(ie)})}},7303:(at,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>ce,Vw:()=>Y,aZ:()=>He,hb:()=>de,ig:()=>X,kB:()=>ye,om:()=>pe,qj:()=>Z,rb:()=>M});var E=V(2615),i=V(1413);let z=null;function M(){return z}function X(_e){z??=_e}class Z{}let Y=(()=>{class _e{historyGo(Se){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||_e)};static \u0275prov=E.jDH({token:_e,factory:()=>(0,E.WQX)(ge),providedIn:"platform"})}return _e})(),ge=(()=>{class _e extends Y{_location;_history;_doc=(0,E.WQX)(E.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(Se){const Ve=M().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("popstate",Se,!1),()=>Ve.removeEventListener("popstate",Se)}onHashChange(Se){const Ve=M().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("hashchange",Se,!1),()=>Ve.removeEventListener("hashchange",Se)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Se){this._location.pathname=Se}pushState(Se,Ve,Fe){this._history.pushState(Se,Ve,Fe)}replaceState(Se,Ve,Fe){this._history.replaceState(Se,Ve,Fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Se=0){this._history.go(Se)}getState(){return this._history.state}static \u0275fac=function(Ve){return new(Ve||_e)};static \u0275prov=E.jDH({token:_e,factory:()=>new _e,providedIn:"platform"})}return _e})();function pe(_e,Te){return _e?Te?_e.endsWith("/")?Te.startsWith("/")?_e+Te.slice(1):_e+Te:Te.startsWith("/")?_e+Te:`${_e}/${Te}`:_e:Te}function re(_e){const Te=_e.search(/#|\?|$/);return"/"===_e[Te-1]?_e.slice(0,Te-1)+_e.slice(Te):_e}function ce(_e){return _e&&"?"!==_e[0]?`?${_e}`:_e}let de=(()=>{class _e{historyGo(Se){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||_e)};static \u0275prov=E.jDH({token:_e,factory:()=>(0,E.WQX)(Pe),providedIn:"root"})}return _e})();const ye=new E.nKC("");let Pe=(()=>{class _e extends de{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Se,Ve){super(),this._platformLocation=Se,this._baseHref=Ve??this._platformLocation.getBaseHrefFromDOM()??(0,E.WQX)(E.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}prepareExternalUrl(Se){return pe(this._baseHref,Se)}path(Se=!1){const Ve=this._platformLocation.pathname+ce(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&Se?`${Ve}${Fe}`:Ve}pushState(Se,Ve,Fe,qe){const It=this.prepareExternalUrl(Fe+ce(qe));this._platformLocation.pushState(Se,Ve,It)}replaceState(Se,Ve,Fe,qe){const It=this.prepareExternalUrl(Fe+ce(qe));this._platformLocation.replaceState(Se,Ve,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}static \u0275fac=function(Ve){return new(Ve||_e)(E.KVO(Y),E.KVO(ye,8))};static \u0275prov=E.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),He=(()=>{class _e{_subject=new i.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Se){this._locationStrategy=Se;const Ve=this._locationStrategy.getBaseHref();this._basePath=function bt(_e){if(new RegExp("^(https?:)?//").test(_e)){const[,Se]=_e.split(/\/\/[^\/]+/);return Se}return _e}(re(We(Ve))),this._locationStrategy.onPopState(Fe=>{this._subject.next({url:this.path(!0),pop:!0,state:Fe.state,type:Fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Se=!1){return this.normalize(this._locationStrategy.path(Se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Se,Ve=""){return this.path()==this.normalize(Se+ce(Ve))}normalize(Se){return _e.stripTrailingSlash(function Ge(_e,Te){if(!_e||!Te.startsWith(_e))return Te;const Se=Te.substring(_e.length);return""===Se||["/",";","?","#"].includes(Se[0])?Se:Te}(this._basePath,We(Se)))}prepareExternalUrl(Se){return Se&&"/"!==Se[0]&&(Se="/"+Se),this._locationStrategy.prepareExternalUrl(Se)}go(Se,Ve="",Fe=null){this._locationStrategy.pushState(Fe,"",Se,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+ce(Ve)),Fe)}replaceState(Se,Ve="",Fe=null){this._locationStrategy.replaceState(Fe,"",Se,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+ce(Ve)),Fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Se=0){this._locationStrategy.historyGo?.(Se)}onUrlChange(Se){return this._urlChangeListeners.push(Se),this._urlChangeSubscription??=this.subscribe(Ve=>{this._notifyUrlChangeListeners(Ve.url,Ve.state)}),()=>{const Ve=this._urlChangeListeners.indexOf(Se);this._urlChangeListeners.splice(Ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Se="",Ve){this._urlChangeListeners.forEach(Fe=>Fe(Se,Ve))}subscribe(Se,Ve,Fe){return this._subject.subscribe({next:Se,error:Ve??void 0,complete:Fe??void 0})}static normalizeQueryParams=ce;static joinWithSlash=pe;static stripTrailingSlash=re;static \u0275fac=function(Ve){return new(Ve||_e)(E.KVO(de))};static \u0275prov=E.jDH({token:_e,factory:()=>function ze(){return new He((0,E.KVO)(de))}(),providedIn:"root"})}return _e})();function We(_e){return _e.replace(/\/index.html$/,"")}},7441:(at,Ee,V)=>{"use strict";V.d(Ee,{X:()=>E});const E=i=>i&&"number"==typeof i.length&&"function"!=typeof i},7473:(at,Ee,V)=>{"use strict";V.d(Ee,{J:()=>z});var E=V(1413),i=V(2615);let z=(()=>{class M{messageSubject=new E.B;message$=this.messageSubject.asObservable();emitErrorMessage(Z){this.messageSubject.next({type:"error",message:Z})}emitInfoMessage(Z){this.messageSubject.next({type:"info",message:Z})}static \u0275fac=function(Y){return new(Y||M)};static \u0275prov=i.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},7705:(at,Ee,V)=>{"use strict";V.d(Ee,{ES_:()=>re,L39:()=>$,MKu:()=>Yr,RxE:()=>Ke,TL3:()=>Xt,_q3:()=>io,gRc:()=>Hn,hFB:()=>ze,naY:()=>gr});var E=V(2615),i=V(8440),z=V(3664);const M=Symbol("InputSignalNode#UNSET"),X={...i.s0,transformFn:void 0,applyValueToInputSignal(j,D){(0,i.j2)(j,D)}};function Y(j,D){const P=Object.create(X);function q(){if((0,i.mK)(P),P.value===M)throw new E.buA(-950,null);return P.value}return P.value=j,P.transformFn=D?.transform,q[i.bh]=P,q}class re{attributeName;constructor(D){this.attributeName=D}__NG_ELEMENT_ID__=()=>(0,z.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function Pe(j,D){return Y(j,D)}new E.nKC("").__NG_ELEMENT_ID__=j=>{const D=(0,E.Mx4)();if(null===D)throw new E.buA(204,!1);if(2&D.type)return D.value;if(8&j)return null;throw new E.buA(204,!1)};const ze=(Pe.required=function He(j){return Y(M,j)},Pe);class Ke{full;major;minor;patch;constructor(D){this.full=D;const P=D.split(".");this.major=P[0],this.minor=P[1],this.patch=P.slice(2).join(".")}}const qt=new E.nKC(""),me=new E.nKC("");function Be(j){return!j.moduleRef}let pt,zt=null;function gr(){return!1}let Hn=(()=>class j{static __NG_ELEMENT_ID__=Wn})();function Wn(j){return function wo(j,D,P){if((0,E.Qs1)(j)&&!P){const q=(0,E.KdJ)(j.index,D);return new z.NCX(q,q)}return 175&j.type?new z.NCX(D[E.b5C],D):null}((0,E.Mx4)(),(0,E.OAn)(),!(16&~j))}class Kt{constructor(){}supports(D){return(0,z.ozJ)(D)}create(D){return new Qr(D)}}const jr=(j,D)=>D;class Qr{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(D){this._trackByFn=D||jr}forEachItem(D){let P;for(P=this._itHead;null!==P;P=P._next)D(P)}forEachOperation(D){let P=this._itHead,q=this._removalsHead,he=0,Ae=null;for(;P||q;){const je=!q||P&&P.currentIndex<zn(q,he,Ae)?P:q,xe=zn(je,he,Ae),dt=je.currentIndex;if(je===q)he--,q=q._nextRemoved;else if(P=P._next,null==je.previousIndex)he++;else{Ae||(Ae=[]);const wt=xe-he,Lt=dt-he;if(wt!=Lt){for(let hn=0;hn<wt;hn++){const Yt=hn<Ae.length?Ae[hn]:Ae[hn]=0,cn=Yt+hn;Lt<=cn&&cn<wt&&(Ae[hn]=Yt+1)}Ae[je.previousIndex]=Lt-wt}}xe!==dt&&D(je,xe,dt)}}forEachPreviousItem(D){let P;for(P=this._previousItHead;null!==P;P=P._nextPrevious)D(P)}forEachAddedItem(D){let P;for(P=this._additionsHead;null!==P;P=P._nextAdded)D(P)}forEachMovedItem(D){let P;for(P=this._movesHead;null!==P;P=P._nextMoved)D(P)}forEachRemovedItem(D){let P;for(P=this._removalsHead;null!==P;P=P._nextRemoved)D(P)}forEachIdentityChange(D){let P;for(P=this._identityChangesHead;null!==P;P=P._nextIdentityChange)D(P)}diff(D){if(null==D&&(D=[]),!(0,z.ozJ)(D))throw new E.buA(900,!1);return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let he,Ae,je,P=this._itHead,q=!1;if(Array.isArray(D)){this.length=D.length;for(let xe=0;xe<this.length;xe++)Ae=D[xe],je=this._trackByFn(xe,Ae),null!==P&&Object.is(P.trackById,je)?(q&&(P=this._verifyReinsertion(P,Ae,je,xe)),Object.is(P.item,Ae)||this._addIdentityChange(P,Ae)):(P=this._mismatch(P,Ae,je,xe),q=!0),P=P._next}else he=0,(0,z.utN)(D,xe=>{je=this._trackByFn(he,xe),null!==P&&Object.is(P.trackById,je)?(q&&(P=this._verifyReinsertion(P,xe,je,he)),Object.is(P.item,xe)||this._addIdentityChange(P,xe)):(P=this._mismatch(P,xe,je,he),q=!0),P=P._next,he++}),this.length=he;return this._truncate(P),this.collection=D,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let D;for(D=this._previousItHead=this._itHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._additionsHead;null!==D;D=D._nextAdded)D.previousIndex=D.currentIndex;for(this._additionsHead=this._additionsTail=null,D=this._movesHead;null!==D;D=D._nextMoved)D.previousIndex=D.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(D,P,q,he){let Ae;return null===D?Ae=this._itTail:(Ae=D._prev,this._remove(D)),null!==(D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null))?(Object.is(D.item,P)||this._addIdentityChange(D,P),this._reinsertAfter(D,Ae,he)):null!==(D=null===this._linkedRecords?null:this._linkedRecords.get(q,he))?(Object.is(D.item,P)||this._addIdentityChange(D,P),this._moveAfter(D,Ae,he)):D=this._addAfter(new Ko(P,q),Ae,he),D}_verifyReinsertion(D,P,q,he){let Ae=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null);return null!==Ae?D=this._reinsertAfter(Ae,D._prev,he):D.currentIndex!=he&&(D.currentIndex=he,this._addToMoves(D,he)),D}_truncate(D){for(;null!==D;){const P=D._next;this._addToRemovals(this._unlink(D)),D=P}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(D,P,q){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(D);const he=D._prevRemoved,Ae=D._nextRemoved;return null===he?this._removalsHead=Ae:he._nextRemoved=Ae,null===Ae?this._removalsTail=he:Ae._prevRemoved=he,this._insertAfter(D,P,q),this._addToMoves(D,q),D}_moveAfter(D,P,q){return this._unlink(D),this._insertAfter(D,P,q),this._addToMoves(D,q),D}_addAfter(D,P,q){return this._insertAfter(D,P,q),this._additionsTail=null===this._additionsTail?this._additionsHead=D:this._additionsTail._nextAdded=D,D}_insertAfter(D,P,q){const he=null===P?this._itHead:P._next;return D._next=he,D._prev=P,null===he?this._itTail=D:he._prev=D,null===P?this._itHead=D:P._next=D,null===this._linkedRecords&&(this._linkedRecords=new ao),this._linkedRecords.put(D),D.currentIndex=q,D}_remove(D){return this._addToRemovals(this._unlink(D))}_unlink(D){null!==this._linkedRecords&&this._linkedRecords.remove(D);const P=D._prev,q=D._next;return null===P?this._itHead=q:P._next=q,null===q?this._itTail=P:q._prev=P,D}_addToMoves(D,P){return D.previousIndex===P||(this._movesTail=null===this._movesTail?this._movesHead=D:this._movesTail._nextMoved=D),D}_addToRemovals(D){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ao),this._unlinkedRecords.put(D),D.currentIndex=null,D._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=D,D._prevRemoved=null):(D._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=D),D}_addIdentityChange(D,P){return D.item=P,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=D:this._identityChangesTail._nextIdentityChange=D,D}}class Ko{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(D,P){this.item=D,this.trackById=P}}class Go{_head=null;_tail=null;add(D){null===this._head?(this._head=this._tail=D,D._nextDup=null,D._prevDup=null):(this._tail._nextDup=D,D._prevDup=this._tail,D._nextDup=null,this._tail=D)}get(D,P){let q;for(q=this._head;null!==q;q=q._nextDup)if((null===P||P<=q.currentIndex)&&Object.is(q.trackById,D))return q;return null}remove(D){const P=D._prevDup,q=D._nextDup;return null===P?this._head=q:P._nextDup=q,null===q?this._tail=P:q._prevDup=P,null===this._head}}class ao{map=new Map;put(D){const P=D.trackById;let q=this.map.get(P);q||(q=new Go,this.map.set(P,q)),q.add(D)}get(D,P){const he=this.map.get(D);return he?he.get(D,P):null}remove(D){const P=D.trackById;return this.map.get(P).remove(D)&&this.map.delete(P),D}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zn(j,D,P){const q=j.previousIndex;if(null===q)return q;let he=0;return P&&q<P.length&&(he=P[q]),q+D+he}class Xr{constructor(){}supports(D){return D instanceof Map||(0,z.vDg)(D)}create(){return new Br}}class Br{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(D){let P;for(P=this._mapHead;null!==P;P=P._next)D(P)}forEachPreviousItem(D){let P;for(P=this._previousMapHead;null!==P;P=P._nextPrevious)D(P)}forEachChangedItem(D){let P;for(P=this._changesHead;null!==P;P=P._nextChanged)D(P)}forEachAddedItem(D){let P;for(P=this._additionsHead;null!==P;P=P._nextAdded)D(P)}forEachRemovedItem(D){let P;for(P=this._removalsHead;null!==P;P=P._nextRemoved)D(P)}diff(D){if(D){if(!(D instanceof Map||(0,z.vDg)(D)))throw new E.buA(900,!1)}else D=new Map;return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let P=this._mapHead;if(this._appendAfter=null,this._forEach(D,(q,he)=>{if(P&&P.key===he)this._maybeAddToChanges(P,q),this._appendAfter=P,P=P._next;else{const Ae=this._getOrCreateRecordForKey(he,q);P=this._insertBeforeOrAppend(P,Ae)}}),P){P._prev&&(P._prev._next=null),this._removalsHead=P;for(let q=P;null!==q;q=q._nextRemoved)q===this._mapHead&&(this._mapHead=null),this._records.delete(q.key),q._nextRemoved=q._next,q.previousValue=q.currentValue,q.currentValue=null,q._prev=null,q._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(D,P){if(D){const q=D._prev;return P._next=D,P._prev=q,D._prev=P,q&&(q._next=P),D===this._mapHead&&(this._mapHead=P),this._appendAfter=D,D}return this._appendAfter?(this._appendAfter._next=P,P._prev=this._appendAfter):this._mapHead=P,this._appendAfter=P,null}_getOrCreateRecordForKey(D,P){if(this._records.has(D)){const he=this._records.get(D);this._maybeAddToChanges(he,P);const Ae=he._prev,je=he._next;return Ae&&(Ae._next=je),je&&(je._prev=Ae),he._next=null,he._prev=null,he}const q=new Kn(D);return this._records.set(D,q),q.currentValue=P,this._addToAdditions(q),q}_reset(){if(this.isDirty){let D;for(this._previousMapHead=this._mapHead,D=this._previousMapHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._changesHead;null!==D;D=D._nextChanged)D.previousValue=D.currentValue;for(D=this._additionsHead;null!=D;D=D._nextAdded)D.previousValue=D.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(D,P){Object.is(P,D.currentValue)||(D.previousValue=D.currentValue,D.currentValue=P,this._addToChanges(D))}_addToAdditions(D){null===this._additionsHead?this._additionsHead=this._additionsTail=D:(this._additionsTail._nextAdded=D,this._additionsTail=D)}_addToChanges(D){null===this._changesHead?this._changesHead=this._changesTail=D:(this._changesTail._nextChanged=D,this._changesTail=D)}_forEach(D,P){D instanceof Map?D.forEach(P):Object.keys(D).forEach(q=>P(D[q],q))}}class Kn{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(D){this.key=D}}function An(){return new io([new Kt])}let io=(()=>{class j{factories;static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:An});constructor(P){this.factories=P}static create(P,q){if(null!=q){const he=q.factories.slice();P=P.concat(he)}return new j(P)}static extend(P){return{provide:j,useFactory:q=>j.create(P,q||An()),deps:[[j,new z.kdw,new z.Xx1]]}}find(P){const q=this.factories.find(he=>he.supports(P));if(null!=q)return q;throw new E.buA(901,!1)}}return j})();function ur(){return new Yr([new Xr])}let Yr=(()=>{class j{static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:ur});factories;constructor(P){this.factories=P}static create(P,q){if(q){const he=q.factories.slice();P=P.concat(he)}return new j(P)}static extend(P){return{provide:j,useFactory:q=>j.create(P,q||ur()),deps:[[j,new z.kdw,new z.Xx1]]}}find(P){const q=this.factories.find(he=>he.supports(P));if(q)return q;throw new E.buA(901,!1)}}return j})();function Xt(j){(0,z.Ef8)(8);try{const{rootComponent:D,appProviders:P,platformProviders:q}=j,he=function la(j=[]){if(zt)return zt;(0,z.pl0)();const D=function un(j=[],D){return E.zZn.create({name:D,providers:[{provide:E.GBX,useValue:"platform"},{provide:qt,useValue:new Set([()=>zt=null])},...j]})}(j);return zt=D,(0,z.ypd)(),function Ro(j){const D=j.get(z.PLl,null);(0,E.N4e)(j,()=>{D?.forEach(P=>P())})}(D),D}(q),Ae=[(0,z.SdI)({}),{provide:E.hk6,useExisting:z.Ts$},E.gv8,...P||[]];return function Xe(j){const D=Be(j)?j.r3Injector:j.moduleRef.injector,P=D.get(z.SKi);return P.run(()=>{Be(j)?j.r3Injector.resolveInjectorInitializers():j.moduleRef.resolveInjectorInitializers();const q=D.get(E.ZTf);let he;if(P.runOutsideAngular(()=>{he=P.onError.subscribe({next:q})}),Be(j)){const Ae=()=>D.destroy(),je=j.platformInjector.get(qt);je.add(Ae),D.onDestroy(()=>{he.unsubscribe(),je.delete(Ae)})}else{const Ae=()=>j.moduleRef.destroy(),je=j.platformInjector.get(qt);je.add(Ae),j.moduleRef.onDestroy(()=>{(0,z.TFI)(j.allPlatformModules,j.moduleRef),he.unsubscribe(),je.delete(Ae)})}return function kt(j,D,P){try{const q=P();return(0,z.yLl)(q)?q.catch(he=>{throw D.runOutsideAngular(()=>j(he)),he}):q}catch(q){throw D.runOutsideAngular(()=>j(q)),q}}(q,P,()=>{const Ae=D.get(E.rev),je=Ae.add(),xe=D.get(z.H1s);return xe.runInitializers(),xe.donePromise.then(()=>{const dt=D.get(z.xe9,z.DkB);if((0,z.e6s)(dt||z.DkB),!D.get(me,!0))return Be(j)?D.get(z.o8S):(j.allPlatformModules.push(j.moduleRef),j.moduleRef);if(Be(j)){const Lt=D.get(z.o8S);return void 0!==j.rootComponent&&Lt.bootstrap(j.rootComponent),Lt}return pt?.(j.moduleRef,j.allPlatformModules),j.moduleRef}).finally(()=>{Ae.remove(je)})})})}({r3Injector:new z.bH1({providers:Ae,parent:he,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:he,rootComponent:D})}catch(D){return Promise.reject(D)}finally{(0,z.Ef8)(9)}}function $(j){return"boolean"==typeof j?j:null!=j&&"false"!==j}},7707:(at,Ee,V)=>{"use strict";V.d(Ee,{Ms:()=>He,vU:()=>ce});var E=V(8071),i=V(8359),z=V(1026),M=V(5334),X=V(5343);const Z=ge("C",void 0,void 0);function ge(_e,Te,Se){return{kind:_e,value:Te,error:Se}}var pe=V(9270),re=V(9786);class ce extends i.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,i.Uv)(Te)&&Te.add(this)):this.destination=bt}static create(Te,Se,Ve){return new He(Te,Se,Ve)}next(Te){this.isStopped?We(function ie(_e){return ge("N",_e,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?We(function Y(_e){return ge("E",void 0,_e)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?We(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const de=Function.prototype.bind;function ye(_e,Te){return de.call(_e,Te)}class Pe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Te)}catch(Ve){ze(Ve)}}error(Te){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Te)}catch(Ve){ze(Ve)}else ze(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Se){ze(Se)}}}class He extends ce{constructor(Te,Se,Ve){let Fe;if(super(),(0,E.T)(Te)||!Te)Fe={next:Te??void 0,error:Se??void 0,complete:Ve??void 0};else{let qe;this&&z.$.useDeprecatedNextContext?(qe=Object.create(Te),qe.unsubscribe=()=>this.unsubscribe(),Fe={next:Te.next&&ye(Te.next,qe),error:Te.error&&ye(Te.error,qe),complete:Te.complete&&ye(Te.complete,qe)}):Fe=Te}this.destination=new Pe(Fe)}}function ze(_e){z.$.useDeprecatedSynchronousErrorHandling?(0,re.l)(_e):(0,M.m)(_e)}function We(_e,Te){const{onStoppedNotification:Se}=z.$;Se&&pe.f.setTimeout(()=>Se(_e,Te))}const bt={closed:!0,next:X.l,error:function Ge(_e){throw _e},complete:X.l}},7908:(at,Ee,V)=>{"use strict";function E(i,z){if(i){const M=i.indexOf(z);0<=M&&i.splice(M,1)}}V.d(Ee,{o:()=>E})},7953:(at,Ee,V)=>{"use strict";V.d(Ee,{T:()=>i});var E=V(8071);function i(z){return Symbol.asyncIterator&&(0,E.T)(z?.[Symbol.asyncIterator])}},8071:(at,Ee,V)=>{"use strict";function E(i){return"function"==typeof i}V.d(Ee,{T:()=>E})},8147:(at,Ee,V)=>{"use strict";V.d(Ee,{K:()=>ge});var E=V(4412),i=V(6354),z=V(9974),M=V(4360),Z=V(5964),Y=V(2615);const ie=["name","standee","level","initiative","hp","aggressive","armor","roundArmor","retaliate","roundRetaliate","conditions"];let ge=(()=>{class pe{logsSubject=new E.t([]);logs$=this.logsSubject.asObservable();init(ce){ce.pipe((0,i.T)(ye=>(ye??[]).map(Pe=>{const He={id:Pe.id,type:Pe.type};for(const ze of ie)He[ze]=Pe[ze];return He}))).pipe(function X(){return(0,z.N)((pe,re)=>{let ce,de=!1;pe.subscribe((0,M._)(re,ye=>{const Pe=ce;ce=ye,de&&re.next([Pe,ye]),de=!0}))})}(),(0,i.T)(([ye,Pe])=>this.diff(ye,Pe)),(0,Z.p)(ye=>ye.length>0)).subscribe(ye=>{this.logsSubject.next([...ye,...this.logsSubject.value])})}characterOptions$=this.logs$.pipe((0,i.T)(ce=>{const de=new Map;for(const ye of ce)ye.creatureId&&!de.has(ye.creatureId)&&de.set(ye.creatureId,ye.creature);return Array.from(de.entries()).map(([ye,Pe])=>({value:ye,text:Pe}))}));getLastAliveHpBefore(ce,de){const ye=this.logsSubject.value,Pe=ye.findIndex(He=>He.id===ce);if(-1!==Pe)for(let He=Pe+1;He<ye.length;He++){const ze=ye[He];if(ze.creatureId===de&&"hp"===ze.stat){const Ge="number"==typeof ze.value?ze.value:void 0;if(void 0!==Ge&&Ge>0)return Ge}}}getLastPositiveHp(ce){const de=this.logsSubject.value;for(const ye of de)if(ye.creatureId===ce&&"hp"===ye.stat){const Pe="number"==typeof ye.value?ye.value:void 0;if(void 0!==Pe&&Pe>0)return Pe}}diff(ce,de){const ye=new Map((ce??[]).map(ze=>[ze.id,ze])),Pe=new Map((de??[]).map(ze=>[ze.id,ze])),He=[];for(const[ze,Ge]of Pe){const We=ye.get(ze);if(We)for(const bt of ie){const _e=We[bt],Te=Ge[bt];Object.is(_e,Te)||He.push(this.entry(ze,Ge.name??"(unknown)",String(bt),Te,_e))}else He.push(this.entry(ze,Ge.name??"(unknown)","created",this.pretty(Ge),null,{new:this.snap(Ge)}))}for(const[ze,Ge]of ye)Pe.has(ze)||He.push(this.entry(ze,`${Ge.name??"(unknown)"} (killed)`,"killed",null,this.pretty(Ge),{old:this.snap(Ge)}));return He}pretty(ce){return`hp=${ce.hp}, lvl=${ce.level}`}entry(ce,de,ye,Pe,He,ze){return{id:this.randId(),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),creatureId:ce,creature:de,stat:ye,value:Pe,oldValue:He,data:ze}}snap(ce){return{name:ce.name,type:ce.type,standee:ce.standee,level:ce.level,hp:ce.hp,aggressive:ce?.aggressive}}randId(){return Math.random().toString(36).slice(2,10)}static \u0275fac=function(de){return new(de||pe)};static \u0275prov=Y.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},8359:(at,Ee,V)=>{"use strict";V.d(Ee,{Kn:()=>Z,yU:()=>X,Uv:()=>Y});var E=V(8071);const z=(0,V(1853).L)(ge=>function(re){ge(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((ce,de)=>`${de+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var M=V(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const ye of re)ye.remove(this);else re.remove(this);const{initialTeardown:ce}=this;if((0,E.T)(ce))try{ce()}catch(ye){pe=ye instanceof z?ye.errors:[ye]}const{_finalizers:de}=this;if(de){this._finalizers=null;for(const ye of de)try{ie(ye)}catch(Pe){pe=pe??[],Pe instanceof z?pe=[...pe,...Pe.errors]:pe.push(Pe)}}if(pe)throw new z(pe)}}add(pe){var re;if(pe&&pe!==this)if(this.closed)ie(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(pe)}}_hasParent(pe){const{_parentage:re}=this;return re===pe||Array.isArray(re)&&re.includes(pe)}_addParent(pe){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(pe),re):re?[re,pe]:pe}_removeParent(pe){const{_parentage:re}=this;re===pe?this._parentage=null:Array.isArray(re)&&(0,M.o)(re,pe)}remove(pe){const{_finalizers:re}=this;re&&(0,M.o)(re,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const ge=new X;return ge.closed=!0,ge})();const Z=X.EMPTY;function Y(ge){return ge instanceof X||ge&&"closed"in ge&&(0,E.T)(ge.remove)&&(0,E.T)(ge.add)&&(0,E.T)(ge.unsubscribe)}function ie(ge){(0,E.T)(ge)?ge():ge.unsubscribe()}},8440:(at,Ee,V)=>{"use strict";function E(me,Be){return Object.is(me,Be)}V.d(Ee,{Ag:()=>In,Bg:()=>We,EF:()=>_n,H8:()=>E,Ht:()=>Y,JC:()=>ye,KE:()=>ge,KO:()=>Ke,KZ:()=>Vt,Ny:()=>vn,TO:()=>Ge,Wu:()=>bt,XR:()=>Te,a7:()=>qe,bh:()=>Z,j2:()=>De,mC:()=>Le,mK:()=>ce,n5:()=>le,nR:()=>ie,pL:()=>re,s0:()=>it,si:()=>_e});let i=null,z=!1,M=1,X=null;const Z=Symbol("SIGNAL");function Y(me){const Be=i;return i=me,Be}function ie(){return i}function ge(){return z}const re={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(me){if(z)throw new Error("");if(null===i)return;i.consumerOnSignalRead(me);const Be=i.producersTail;if(void 0!==Be&&Be.producer===me)return;let Xe;const pt=i.recomputing;if(pt&&(Xe=void 0!==Be?Be.nextProducer:i.producers,void 0!==Xe&&Xe.producer===me))return i.producersTail=Xe,void(Xe.lastReadVersion=me.version);const Ue=me.consumersTail;if(void 0!==Ue&&Ue.consumer===i&&(!pt||function et(me,Be){const Xe=Be.producersTail;if(void 0!==Xe){let pt=Be.producers;do{if(pt===me)return!0;if(pt===Xe)break;pt=pt.nextProducer}while(void 0!==pt)}return!1}(Ue,i)))return;const Wt=Fe(i),kt={producer:me,consumer:i,nextProducer:Xe,prevConsumer:Ue,lastReadVersion:me.version,nextConsumer:void 0};i.producersTail=kt,void 0!==Be?Be.nextProducer=kt:i.producers=kt,Wt&&Se(me,kt)}function ye(me){if((!Fe(me)||me.dirty)&&(me.dirty||me.lastCleanEpoch!==M)){if(!me.producerMustRecompute(me)&&!_e(me))return void Ge(me);me.producerRecomputeValue(me),Ge(me)}}function Pe(me){if(void 0===me.consumers)return;const Be=z;z=!0;try{for(let Xe=me.consumers;void 0!==Xe;Xe=Xe.nextConsumer){const pt=Xe.consumer;pt.dirty||ze(pt)}}finally{z=Be}}function He(){return!1!==i?.consumerAllowSignalWrites}function ze(me){me.dirty=!0,Pe(me),me.consumerMarkedDirty?.(me)}function Ge(me){me.dirty=!1,me.lastCleanEpoch=M}function We(me){return me&&(me.producersTail=void 0,me.recomputing=!0),Y(me)}function bt(me,Be){if(Y(Be),!me)return;me.recomputing=!1;const Xe=me.producersTail;let pt=void 0!==Xe?Xe.nextProducer:me.producers;if(void 0!==pt){if(Fe(me))do{pt=Ve(pt)}while(void 0!==pt);void 0!==Xe?Xe.nextProducer=void 0:me.producers=void 0}}function _e(me){for(let Be=me.producers;void 0!==Be;Be=Be.nextProducer){const Xe=Be.producer,pt=Be.lastReadVersion;if(pt!==Xe.version||(ye(Xe),pt!==Xe.version))return!0}return!1}function Te(me){if(Fe(me)){let Be=me.producers;for(;void 0!==Be;)Be=Ve(Be)}me.producers=void 0,me.producersTail=void 0,me.consumers=void 0,me.consumersTail=void 0}function Se(me,Be){const Xe=me.consumersTail,pt=Fe(me);if(void 0!==Xe?(Be.nextConsumer=Xe.nextConsumer,Xe.nextConsumer=Be):(Be.nextConsumer=void 0,me.consumers=Be),Be.prevConsumer=Xe,me.consumersTail=Be,!pt)for(let Ue=me.producers;void 0!==Ue;Ue=Ue.nextProducer)Se(Ue.producer,Ue)}function Ve(me){const Be=me.producer,Xe=me.nextProducer,pt=me.nextConsumer,Ue=me.prevConsumer;if(me.nextConsumer=void 0,me.prevConsumer=void 0,void 0!==pt?pt.prevConsumer=Ue:Be.consumersTail=Ue,void 0!==Ue)Ue.nextConsumer=pt;else if(Be.consumers=pt,!Fe(Be)){let Wt=Be.producers;for(;void 0!==Wt;)Wt=Ve(Wt)}return Xe}function Fe(me){return me.consumerIsAlwaysLive||void 0!==me.consumers}function qe(me){X?.(me)}function Vt(me,Be){const Xe=Object.create(sr);Xe.computation=me,void 0!==Be&&(Xe.equal=Be);const pt=()=>{if(ye(Xe),ce(Xe),Xe.value===_n)throw Xe.error;return Xe.value};return pt[Z]=Xe,qe(Xe),pt}const In=Symbol("UNSET"),vn=Symbol("COMPUTING"),_n=Symbol("ERRORED"),sr={...re,value:In,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:me=>me.value===In||me.value===vn,producerRecomputeValue(me){if(me.value===vn)throw new Error("");const Be=me.value;me.value=vn;const Xe=We(me);let pt,Ue=!1;try{pt=me.computation(),Y(null),Ue=Be!==In&&Be!==_n&&pt!==_n&&me.equal(Be,pt)}catch(Wt){pt=_n,me.error=Wt}finally{bt(me,Xe)}Ue?me.value=Be:(me.value=pt,me.version++)}};let lr=function Bt(){throw new Error};function Re(me){lr(me)}function Ke(me){lr=me}let ae=null;function le(me,Be){const Xe=Object.create(it);Xe.value=me,void 0!==Be&&(Xe.equal=Be);const pt=()=>function ve(me){return ce(me),me.value}(Xe);return pt[Z]=Xe,qe(Xe),[pt,kt=>De(Xe,kt),kt=>Le(Xe,kt)]}function De(me,Be){He()||Re(me),me.equal(me.value,Be)||(me.value=Be,function qt(me){me.version++,function de(){M++}(),Pe(me),ae?.(me)}(me))}function Le(me,Be){He()||Re(me),De(me,Be(me.value))}const it={...re,equal:E,value:void 0,kind:"signal"}},8455:(at,Ee,V)=>{"use strict";var E=V(7303);function i(s,a){a=encodeURIComponent(a);for(const o of s.split(";")){const u=o.indexOf("="),[d,p]=-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)];if(d.trim()===a)return decodeURIComponent(p)}return null}class z{}var M=V(2615),X=V(7705);var fe=V(3664);const Er=new M.nKC("");let No=(()=>{class s{_zone;_plugins;_eventNameToPlugin=new Map;constructor(o,u){this._zone=u,o.forEach(d=>{d.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,u,d,p){return this._findPluginFor(u).addEventListener(o,u,d,p)}getZone(){return this._zone}_findPluginFor(o){let u=this._eventNameToPlugin.get(o);if(u)return u;if(u=this._plugins.find(p=>p.supports(o)),!u)throw new M.buA(5101,!1);return this._eventNameToPlugin.set(o,u),u}static \u0275fac=function(u){return new(u||s)(M.KVO(Er),M.KVO(fe.SKi))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();class nr{_doc;constructor(a){this._doc=a}manager}const $r="ng-app-id";function At(s){for(const a of s)a.remove()}function lo(s,a){const o=a.createElement("style");return o.textContent=s,o}function Yn(s,a){const o=a.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",s),o}let Pn=(()=>{class s{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(o,u,d,p={}){this.doc=o,this.appId=u,this.nonce=d,function Zr(s,a,o,u){const d=s.head?.querySelectorAll(`style[${$r}="${a}"],link[${$r}="${a}"]`);if(d)for(const p of d)p.removeAttribute($r),p instanceof HTMLLinkElement?u.set(p.href.slice(p.href.lastIndexOf("/")+1),{usage:0,elements:[p]}):p.textContent&&o.set(p.textContent,{usage:0,elements:[p]})}(o,u,this.inline,this.external),this.hosts.add(o.head)}addStyles(o,u){for(const d of o)this.addUsage(d,this.inline,lo);u?.forEach(d=>this.addUsage(d,this.external,Yn))}removeStyles(o,u){for(const d of o)this.removeUsage(d,this.inline);u?.forEach(d=>this.removeUsage(d,this.external))}addUsage(o,u,d){const p=u.get(o);p?p.usage++:u.set(o,{usage:1,elements:[...this.hosts].map(b=>this.addElement(b,d(o,this.doc)))})}removeUsage(o,u){const d=u.get(o);d&&(d.usage--,d.usage<=0&&(At(d.elements),u.delete(o)))}ngOnDestroy(){for(const[,{elements:o}]of[...this.inline,...this.external])At(o);this.hosts.clear()}addHost(o){this.hosts.add(o);for(const[u,{elements:d}]of this.inline)d.push(this.addElement(o,lo(u,this.doc)));for(const[u,{elements:d}]of this.external)d.push(this.addElement(o,Yn(u,this.doc)))}removeHost(o){this.hosts.delete(o)}addElement(o,u){return this.nonce&&u.setAttribute("nonce",this.nonce),o.appendChild(u)}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL),M.KVO(fe.sZ2),M.KVO(fe.BIS,8),M.KVO(fe.Agw))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const Jn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lo=/%COMP%/g,rr=new M.nKC("",{providedIn:"root",factory:()=>!0});function Dr(s,a){return a.map(o=>o.replace(Lo,s))}let Cr=(()=>{class s{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(o,u,d,p,b,I,B,J=null,we=null){this.eventManager=o,this.sharedStylesHost=u,this.appId=d,this.removeStylesOnCompDestroy=p,this.doc=b,this.platformId=I,this.ngZone=B,this.nonce=J,this.tracingService=we,this.platformIsServer=!1,this.defaultRenderer=new or(o,b,B,this.platformIsServer,this.tracingService)}createRenderer(o,u){if(!o||!u)return this.defaultRenderer;const d=this.getOrCreateRenderer(o,u);return d instanceof Q?d.applyToHost(o):d instanceof S&&d.applyStyles(),d}getOrCreateRenderer(o,u){const d=this.rendererByCompId;let p=d.get(u.id);if(!p){const b=this.doc,I=this.ngZone,B=this.eventManager,J=this.sharedStylesHost,we=this.removeStylesOnCompDestroy,Oe=this.platformIsServer,ot=this.tracingService;switch(u.encapsulation){case fe.gXe.Emulated:p=new Q(B,J,u,this.appId,we,b,I,Oe,ot);break;case fe.gXe.ShadowDom:return new Da(B,J,o,u,b,I,this.nonce,Oe,ot);default:p=new S(B,J,u,we,b,I,Oe,ot)}d.set(u.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(o){this.rendererByCompId.delete(o)}static \u0275fac=function(u){return new(u||s)(M.KVO(No),M.KVO(Pn),M.KVO(fe.sZ2),M.KVO(rr),M.KVO(M.qQL),M.KVO(fe.Agw),M.KVO(fe.SKi),M.KVO(fe.BIS),M.KVO(fe.a8H,8))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();class or{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(a,o,u,d,p){this.eventManager=a,this.doc=o,this.ngZone=u,this.platformIsServer=d,this.tracingService=p}destroy(){}destroyNode=null;createElement(a,o){return o?this.doc.createElementNS(Jn[o]||o,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,o){(da(a)?a.content:a).appendChild(o)}insertBefore(a,o,u){a&&(da(a)?a.content:a).insertBefore(o,u)}removeChild(a,o){o.remove()}selectRootElement(a,o){let u="string"==typeof a?this.doc.querySelector(a):a;if(!u)throw new M.buA(-5104,!1);return o||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,o,u,d){if(d){o=d+":"+o;const p=Jn[d];p?a.setAttributeNS(p,o,u):a.setAttribute(o,u)}else a.setAttribute(o,u)}removeAttribute(a,o,u){if(u){const d=Jn[u];d?a.removeAttributeNS(d,o):a.removeAttribute(`${u}:${o}`)}else a.removeAttribute(o)}addClass(a,o){a.classList.add(o)}removeClass(a,o){a.classList.remove(o)}setStyle(a,o,u,d){d&(fe.czy.DashCase|fe.czy.Important)?a.style.setProperty(o,u,d&fe.czy.Important?"important":""):a.style[o]=u}removeStyle(a,o,u){u&fe.czy.DashCase?a.style.removeProperty(o):a.style[o]=""}setProperty(a,o,u){null!=a&&(a[o]=u)}setValue(a,o){a.nodeValue=o}listen(a,o,u,d){if("string"==typeof a&&!(a=(0,E.rb)().getGlobalEventTarget(this.doc,a)))throw new M.buA(5102,!1);let p=this.decoratePreventDefault(u);return this.tracingService?.wrapEventListener&&(p=this.tracingService.wrapEventListener(a,o,p)),this.eventManager.addEventListener(a,o,p,d)}decoratePreventDefault(a){return o=>{if("__ngUnwrap__"===o)return a;!1===a(o)&&o.preventDefault()}}}function da(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class Da extends or{sharedStylesHost;hostEl;shadowRoot;constructor(a,o,u,d,p,b,I,B,J){super(a,p,b,B,J),this.sharedStylesHost=o,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let we=d.styles;we=Dr(d.id,we);for(const ot of we){const Ye=document.createElement("style");I&&Ye.setAttribute("nonce",I),Ye.textContent=ot,this.shadowRoot.appendChild(Ye)}const Oe=d.getExternalStyles?.();if(Oe)for(const ot of Oe){const Ye=Yn(ot,p);I&&Ye.setAttribute("nonce",I),this.shadowRoot.appendChild(Ye)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,o){return super.appendChild(this.nodeOrShadowRoot(a),o)}insertBefore(a,o,u){return super.insertBefore(this.nodeOrShadowRoot(a),o,u)}removeChild(a,o){return super.removeChild(null,o)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class S extends or{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(a,o,u,d,p,b,I,B,J){super(a,p,b,I,B),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=d;let we=u.styles;this.styles=J?Dr(J,we):we,this.styleUrls=u.getExternalStyles?.(J)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Q extends S{contentAttr;hostAttr;constructor(a,o,u,d,p,b,I,B,J){const we=d+"-"+u.id;super(a,o,u,p,b,I,B,J,we),this.contentAttr=function Wr(s){return"_ngcontent-%COMP%".replace(Lo,s)}(we),this.hostAttr=function co(s){return"_nghost-%COMP%".replace(Lo,s)}(we)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,o){const u=super.createElement(a,o);return super.setAttribute(u,this.contentAttr,""),u}}class F extends E.qj{supportsDOMEvents=!0;static makeCurrent(){(0,E.ig)(new F)}onAndCancel(a,o,u,d){return a.addEventListener(o,u,d),()=>{a.removeEventListener(o,u,d)}}dispatchEvent(a,o){a.dispatchEvent(o)}remove(a){a.remove()}createElement(a,o){return(o=o||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,o){return"window"===o?window:"document"===o?a:"body"===o?a.body:null}getBaseHref(a){const o=function se(){return $=$||document.head.querySelector("base"),$?$.getAttribute("href"):null}();return null==o?null:function Ie(s){return new URL(s,document.baseURI).pathname}(o)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return i(document.cookie,a)}}let $=null,st=(()=>{class s{build(){return new XMLHttpRequest}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})(),Ft=(()=>{class s extends nr{constructor(o){super(o)}supports(o){return!0}addEventListener(o,u,d,p){return o.addEventListener(u,d,p),()=>this.removeEventListener(o,u,d,p)}removeEventListener(o,u,d,p){return o.removeEventListener(u,d,p)}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const Pt=["alt","control","meta","shift"],$t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let dn=(()=>{class s extends nr{constructor(o){super(o)}supports(o){return null!=s.parseEventName(o)}addEventListener(o,u,d,p){const b=s.parseEventName(u),I=s.eventCallback(b.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.rb)().onAndCancel(o,b.domEventName,I,p))}static parseEventName(o){const u=o.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const p=s._normalizeKey(u.pop());let b="",I=u.indexOf("code");if(I>-1&&(u.splice(I,1),b="code."),Pt.forEach(J=>{const we=u.indexOf(J);we>-1&&(u.splice(we,1),b+=J+".")}),b+=p,0!=u.length||0===p.length)return null;const B={};return B.domEventName=d,B.fullKey=b,B}static matchEventFullKeyCode(o,u){let d=$t[o.key]||o.key,p="";return u.indexOf("code.")>-1&&(d=o.code,p="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),Pt.forEach(b=>{b!==d&&(0,jt[b])(o)&&(p+=b+".")}),p+=d,p===u)}static eventCallback(o,u,d){return p=>{s.matchEventFullKeyCode(p,o)&&d.runGuarded(()=>u(p))}}static _normalizeKey(o){return"esc"===o?"escape":o}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();function Fn(s){return{appProviders:[...Sa,...s?.providers??[]],platformProviders:hr}}const hr=[{provide:fe.Agw,useValue:"browser"},{provide:fe.PLl,useValue:function Ar(){F.makeCurrent()},multi:!0},{provide:M.qQL,useFactory:function po(){return(0,fe._9u)(document),document}}],Sa=[{provide:M.GBX,useValue:"root"},{provide:M.zcH,useFactory:function Zn(){return new M.zcH}},{provide:Er,useClass:Ft,multi:!0,deps:[M.qQL]},{provide:Er,useClass:dn,multi:!0,deps:[M.qQL]},Cr,Pn,No,{provide:fe._9s,useExisting:Cr},{provide:z,useClass:st},[]];var Xn=V(2200),pr=V(8359),fo=V(7473);const So=(s,a)=>({"toast-error":s,"toast-info":a});function ma(s,a){if(1&s){const o=fe.RV6();fe.j41(0,"div",2)(1,"div",3)(2,"strong",4),fe.EFF(3),fe.k0s(),fe.j41(4,"small"),fe.EFF(5),fe.nI1(6,"date"),fe.k0s(),fe.j41(7,"button",5),fe.bIt("click",function(){const d=M.eBV(o).$implicit,p=fe.XpG();return M.Njj(p.removeMessage(d.id))}),fe.EFF(8,"\xd7"),fe.k0s()(),fe.j41(9,"div",6),fe.EFF(10),fe.k0s()()}if(2&s){const o=a.$implicit;fe.Y8G("ngClass",fe.l_i(7,So,"error"===o.type,"info"===o.type)),fe.R7$(3),fe.JRh("error"===o.type?"Error":"Information"),fe.R7$(2),fe.JRh(fe.i5U(6,4,o.timestamp,"HH:mm:ss")),fe.R7$(5),fe.SpI(" ",o.message," ")}}let Qa=(()=>{class s{notificationService;messages=[];subscription=new pr.yU;messageCounter=0;displayDuration=3500;constructor(o){this.notificationService=o}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(o=>{const u=this.messageCounter++;this.messages.push({id:u,type:o.type,message:o.message,timestamp:new Date}),setTimeout(()=>{this.removeMessage(u)},this.displayDuration)}))}ngOnDestroy(){this.subscription.unsubscribe()}removeMessage(o){const u=this.messages.findIndex(d=>d.id===o);-1!==u&&this.messages.splice(u,1)}static \u0275fac=function(u){return new(u||s)(fe.rXU(fo.J))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(u,d){1&u&&(fe.j41(0,"div",0),fe.DNE(1,ma,11,10,"div",1),fe.k0s()),2&u&&(fe.R7$(),fe.Y8G("ngForOf",d.messages))},dependencies:[Xn.MD,Xn.YU,Xn.Sq,Xn.vh],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:var(--base-color-spots);border-left:4px solid #777;color:var(--font-color)}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:var(--font-color)}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]})}return s})();var Aa=V(4341),Mr=V(1985),no=V(8071),tn=V(6648),j=V(3794);function D(...s){const a=(0,j.lI)(s);return(0,tn.H)(s,a)}var P=V(4412);const he=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var Ae=V(4572),je=V(8793),xe=V(8750);function dt(s){return new Mr.c(a=>{(0,xe.Tg)(s()).subscribe(a)})}var wt=V(1203);function Lt(s,a){const o=(0,no.T)(s)?s:()=>s,u=d=>d.error(o());return new Mr.c(a?d=>a.schedule(u,0,d):u)}const tt=new Mr.c(s=>s.complete());var cn=V(9974),bn=V(4360);function pn(){return(0,cn.N)((s,a)=>{let o=null;s._refCount++;const u=(0,bn._)(a,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(o=null);const d=s._connection,p=o;o=null,d&&(!p||d===p)&&d.unsubscribe(),a.unsubscribe()});s.subscribe(u),u.closed||(o=s.connect())})}class xr extends Mr.c{constructor(a,o){super(),this.source=a,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,(0,cn.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new pr.yU;const o=this.getSubject();a.add(this.source.subscribe((0,bn._)(o,void 0,()=>{this._teardown(),o.complete()},u=>{this._teardown(),o.error(u)},()=>this._teardown()))),a.closed&&(this._connection=null,a=pr.yU.EMPTY)}return a}refCount(){return pn()(this)}}var rn=V(1413),Rt=V(6354);function Mn(s,a){return(0,cn.N)((o,u)=>{let d=null,p=0,b=!1;const I=()=>b&&!d&&u.complete();o.subscribe((0,bn._)(u,B=>{d?.unsubscribe();let J=0;const we=p++;(0,xe.Tg)(s(B,we)).subscribe(d=(0,bn._)(u,Oe=>u.next(a?a(B,Oe,we,J++):Oe),()=>{d=null,I()}))},()=>{b=!0,I()}))})}function Tn(s){return s<=0?()=>tt:(0,cn.N)((a,o)=>{let u=0;a.subscribe((0,bn._)(o,d=>{++u<=s&&(o.next(d),s<=u&&o.complete())}))})}var Xa=V(9172),kn=V(5964),jn=V(1397);function Qo(s){return(0,cn.N)((a,o)=>{let u=!1;a.subscribe((0,bn._)(o,d=>{u=!0,o.next(d)},()=>{u||o.next(s),o.complete()}))})}function Xo(s=Vi){return(0,cn.N)((a,o)=>{let u=!1;a.subscribe((0,bn._)(o,d=>{u=!0,o.next(d)},()=>u?o.complete():o.error(s())))})}function Vi(){return new he}var ha=V(3669);function yo(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kn.p)((d,p)=>s(d,p,u)):ha.D,Tn(1),o?Qo(a):Xo(()=>new he))}function Fo(s,a){return(0,no.T)(a)?(0,jn.Z)(s,a,1):(0,jn.Z)(s,1)}function Dn(s,a,o){const u=(0,no.T)(s)||a||o?{next:s,error:a,complete:o}:s;return u?(0,cn.N)((d,p)=>{var b;null===(b=u.subscribe)||void 0===b||b.call(u);let I=!0;d.subscribe((0,bn._)(p,B=>{var J;null===(J=u.next)||void 0===J||J.call(u,B),p.next(B)},()=>{var B;I=!1,null===(B=u.complete)||void 0===B||B.call(u),p.complete()},B=>{var J;I=!1,null===(J=u.error)||void 0===J||J.call(u,B),p.error(B)},()=>{var B,J;I&&(null===(B=u.unsubscribe)||void 0===B||B.call(u)),null===(J=u.finalize)||void 0===J||J.call(u)}))}):ha.D}function Yo(s){return(0,cn.N)((a,o)=>{let p,u=null,d=!1;u=a.subscribe((0,bn._)(o,void 0,void 0,b=>{p=(0,xe.Tg)(s(b,Yo(s)(a))),u?(u.unsubscribe(),u=null,p.subscribe(o)):d=!0})),d&&(u.unsubscribe(),u=null,p.subscribe(o))})}function Jo(s){return s<=0?()=>tt:(0,cn.N)((a,o)=>{let u=[];a.subscribe((0,bn._)(o,d=>{u.push(d),s<u.length&&u.shift()},()=>{for(const d of u)o.next(d);o.complete()},void 0,()=>{u=null}))})}function _i(s){return(0,cn.N)((a,o)=>{try{a.subscribe(o)}finally{o.add(s)}})}var $i=V(6977);let T=(()=>{class s{_doc;constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const nt="primary",Tt=Symbol("RouteTitle");class fn{params;constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o[0]:o}return null}getAll(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function on(s){return new fn(s)}function yn(s,a,o){const u=o.path.split("/");if(u.length>s.length||"full"===o.pathMatch&&(a.hasChildren()||u.length<s.length))return null;const d={};for(let p=0;p<u.length;p++){const b=u[p],I=s[p];if(":"===b[0])d[b.substring(1)]=I;else if(b!==I.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function Dt(s,a){const o=s?Cn(s):void 0,u=a?Cn(a):void 0;if(!o||!u||o.length!=u.length)return!1;let d;for(let p=0;p<o.length;p++)if(d=o[p],!Ao(s[d],a[d]))return!1;return!0}function Cn(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function Ao(s,a){if(Array.isArray(s)&&Array.isArray(a)){if(s.length!==a.length)return!1;const o=[...s].sort(),u=[...a].sort();return o.every((d,p)=>u[p]===d)}return s===a}function wn(s){return s.length>0?s[s.length-1]:null}function Qt(s){return function Tr(s){return!!s&&(s instanceof Mr.c||(0,no.T)(s.lift)&&(0,no.T)(s.subscribe))}(s)?s:(0,fe.yLl)(s)?(0,tn.H)(Promise.resolve(s)):D(s)}const tc={exact:function Ei(s,a,o){if(!Ya(s.segments,a.segments)||!St(s.segments,a.segments,o)||s.numberOfChildren!==a.numberOfChildren)return!1;for(const u in a.children)if(!s.children[u]||!Ei(s.children[u],a.children[u],o))return!1;return!0},subset:xs},wi={exact:function nc(s,a){return Dt(s,a)},subset:function Al(s,a){return Object.keys(a).length<=Object.keys(s).length&&Object.keys(a).every(o=>Ao(s[o],a[o]))},ignored:()=>!0};function Ts(s,a,o){return tc[o.paths](s.root,a.root,o.matrixParams)&&wi[o.queryParams](s.queryParams,a.queryParams)&&!("exact"===o.fragment&&s.fragment!==a.fragment)}function xs(s,a,o){return Ml(s,a,a.segments,o)}function Ml(s,a,o,u){if(s.segments.length>o.length){const d=s.segments.slice(0,o.length);return!(!Ya(d,o)||a.hasChildren()||!St(d,o,u))}if(s.segments.length===o.length){if(!Ya(s.segments,o)||!St(s.segments,o,u))return!1;for(const d in a.children)if(!s.children[d]||!xs(s.children[d],a.children[d],u))return!1;return!0}{const d=o.slice(0,s.segments.length),p=o.slice(s.segments.length);return!!(Ya(s.segments,d)&&St(s.segments,d,u)&&s.children[nt])&&Ml(s.children[nt],a,p,u)}}function St(s,a,o){return a.every((u,d)=>wi[o](s[d].parameters,u.parameters))}class Bo{root;queryParams;fragment;_queryParamMap;constructor(a=new Jt([],{}),o={},u=null){this.root=a,this.queryParams=o,this.fragment=u}get queryParamMap(){return this._queryParamMap??=on(this.queryParams),this._queryParamMap}toString(){return Wi.serialize(this)}}class Jt{segments;children;parent=null;constructor(a,o){this.segments=a,this.children=o,Object.values(o).forEach(u=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ja(this)}}class Fa{path;parameters;_parameterMap;constructor(a,o){this.path=a,this.parameters=o}get parameterMap(){return this._parameterMap??=on(this.parameters),this._parameterMap}toString(){return Gi(this)}}function Ya(s,a){return s.length===a.length&&s.every((o,u)=>o.path===a[u].path)}let Ma=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:()=>new Hi,providedIn:"root"})}return s})();class Hi{parse(a){const o=new lc(a);return new Bo(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(a){const o=`/${ki(a.root,!0)}`,u=function qi(s){const a=Object.entries(s).map(([o,u])=>Array.isArray(u)?u.map(d=>`${Is(o)}=${Is(d)}`).join("&"):`${Is(o)}=${Is(u)}`).filter(o=>o);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${o}${u}${"string"==typeof a.fragment?`#${function zi(s){return encodeURI(s)}(a.fragment)}`:""}`}}const Wi=new Hi;function Ja(s){return s.segments.map(a=>Gi(a)).join("/")}function ki(s,a){if(!s.hasChildren())return Ja(s);if(a){const o=s.children[nt]?ki(s.children[nt],!1):"",u=[];return Object.entries(s.children).forEach(([d,p])=>{d!==nt&&u.push(`${d}:${ki(p,!1)}`)}),u.length>0?`${o}(${u.join("//")})`:o}{const o=function Hd(s,a){let o=[];return Object.entries(s.children).forEach(([u,d])=>{u===nt&&(o=o.concat(a(d,u)))}),Object.entries(s.children).forEach(([u,d])=>{u!==nt&&(o=o.concat(a(d,u)))}),o}(s,(u,d)=>d===nt?[ki(s.children[nt],!1)]:[`${d}:${ki(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[nt]?`${Ja(s)}/${o[0]}`:`${Ja(s)}/(${o.join("//")})`}}function rc(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Is(s){return rc(s).replace(/%3B/gi,";")}function Rs(s){return rc(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Di(s){return decodeURIComponent(s)}function Ki(s){return Di(s.replace(/\+/g,"%20"))}function Gi(s){return`${Rs(s.path)}${function Ci(s){return Object.entries(s).map(([a,o])=>`;${Rs(a)}=${Rs(o)}`).join("")}(s.parameters)}`}const oc=/^[^\/()?;#]+/;function Tl(s){const a=s.match(oc);return a?a[0]:""}const ac=/^[^\/()?;=#]+/,Wd=/^[^=?&#]+/,sc=/^[^&#]+/;class lc{url;remaining;constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(a.length>0||Object.keys(o).length>0)&&(u[nt]=new Jt(a,o)),u}parseSegment(){const a=Tl(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new M.buA(4009,!1);return this.capture(a),new Fa(Di(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const o=function ic(s){const a=s.match(ac);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const d=Tl(this.remaining);d&&(u=d,this.capture(u))}a[Di(o)]=Di(u)}parseQueryParam(a){const o=function xl(s){const a=s.match(Wd);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const b=function zd(s){const a=s.match(sc);return a?a[0]:""}(this.remaining);b&&(u=b,this.capture(u))}const d=Ki(o),p=Ki(u);if(a.hasOwnProperty(d)){let b=a[d];Array.isArray(b)||(b=[b],a[d]=b),b.push(p)}else a[d]=p}parseParens(a){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=Tl(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new M.buA(4010,!1);let p;u.indexOf(":")>-1?(p=u.slice(0,u.indexOf(":")),this.capture(p),this.capture(":")):a&&(p=nt);const b=this.parseChildren();o[p]=1===Object.keys(b).length?b[nt]:new Jt([],b),this.consumeOptional("//")}return o}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new M.buA(4011,!1)}}function Il(s){return s.segments.length>0?new Jt([],{[nt]:s}):s}function Rl(s){const a={};for(const[u,d]of Object.entries(s.children)){const p=Rl(d);if(u===nt&&0===p.segments.length&&p.hasChildren())for(const[b,I]of Object.entries(p.children))a[b]=I;else(p.segments.length>0||p.hasChildren())&&(a[u]=p)}return function Os(s){if(1===s.numberOfChildren&&s.children[nt]){const a=s.children[nt];return new Jt(s.segments.concat(a.segments),a.children)}return s}(new Jt(s.segments,a))}function ja(s){return s instanceof Bo}function Qi(s){let a;const d=Il(function o(p){const b={};for(const B of p.children){const J=o(B);b[B.outlet]=J}const I=new Jt(p.url,b);return p===s&&(a=I),I}(s.root));return a??d}function Ps(s,a,o,u){let d=s;for(;d.parent;)d=d.parent;if(0===a.length)return ei(d,d,d,o,u);const p=function Yi(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new pa(!0,0,s);let a=0,o=!1;const u=s.reduce((d,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const I={};return Object.entries(p.outlets).forEach(([B,J])=>{I[B]="string"==typeof J?J.split("/"):J}),[...d,{outlets:I}]}if(p.segmentPath)return[...d,p.segmentPath]}return"string"!=typeof p?[...d,p]:0===b?(p.split("/").forEach((I,B)=>{0==B&&"."===I||(0==B&&""===I?o=!0:".."===I?a++:""!=I&&d.push(I))}),d):[...d,p]},[]);return new pa(o,a,u)}(a);if(p.toRoot())return ei(d,d,new Jt([],{}),o,u);const b=function ti(s,a,o){if(s.isAbsolute)return new Si(a,!0,0);if(!o)return new Si(a,!1,NaN);if(null===o.parent)return new Si(o,!0,0);const u=Ns(s.commands[0])?0:1;return function uc(s,a,o){let u=s,d=a,p=o;for(;p>d;){if(p-=d,u=u.parent,!u)throw new M.buA(4005,!1);d=u.segments.length}return new Si(u,!1,d-p)}(o,o.segments.length-1+u,s.numberOfDoubleDots)}(p,d,s),I=b.processChildren?Ba(b.segmentGroup,b.index,p.commands):Mi(b.segmentGroup,b.index,p.commands);return ei(d,b.segmentGroup,I,o,u)}function Ns(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Za(s){return"object"==typeof s&&null!=s&&s.outlets}function ei(s,a,o,u,d){let b,p={};u&&Object.entries(u).forEach(([B,J])=>{p[B]=Array.isArray(J)?J.map(we=>`${we}`):`${J}`}),b=s===a?o:Xi(s,a,o);const I=Il(Rl(b));return new Bo(I,p,d)}function Xi(s,a,o){const u={};return Object.entries(s.children).forEach(([d,p])=>{u[d]=p===a?o:Xi(p,a,o)}),new Jt(s.segments,u)}class pa{isAbsolute;numberOfDoubleDots;commands;constructor(a,o,u){if(this.isAbsolute=a,this.numberOfDoubleDots=o,this.commands=u,a&&u.length>0&&Ns(u[0]))throw new M.buA(4003,!1);const d=u.find(Za);if(d&&d!==wn(u))throw new M.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Si{segmentGroup;processChildren;index;constructor(a,o,u){this.segmentGroup=a,this.processChildren=o,this.index=u}}function Mi(s,a,o){if(s??=new Jt([],{}),0===s.segments.length&&s.hasChildren())return Ba(s,a,o);const u=function Ol(s,a,o){let u=0,d=a;const p={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=o.length)return p;const b=s.segments[d],I=o[u];if(Za(I))break;const B=`${I}`,J=u<o.length-1?o[u+1]:null;if(d>0&&void 0===B)break;if(B&&J&&"object"==typeof J&&void 0===J.outlets){if(!Ll(B,J,b))return p;u+=2}else{if(!Ll(B,{},b))return p;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,a,o),d=o.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const p=new Jt(s.segments.slice(0,u.pathIndex),{});return p.children[nt]=new Jt(s.segments.slice(u.pathIndex),s.children),Ba(p,0,d)}return u.match&&0===d.length?new Jt(s.segments,{}):u.match&&!s.hasChildren()?Ji(s,a,o):u.match?Ba(s,0,d):Ji(s,a,o)}function Ba(s,a,o){if(0===o.length)return new Jt(s.segments,{});{const u=function Ai(s){return Za(s[0])?s[0].outlets:{[nt]:s}}(o),d={};if(Object.keys(u).some(p=>p!==nt)&&s.children[nt]&&1===s.numberOfChildren&&0===s.children[nt].segments.length){const p=Ba(s.children[nt],a,o);return new Jt(s.segments,p.children)}return Object.entries(u).forEach(([p,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(d[p]=Mi(s.children[p],a,b))}),Object.entries(s.children).forEach(([p,b])=>{void 0===u[p]&&(d[p]=b)}),new Jt(s.segments,d)}}function Ji(s,a,o){const u=s.segments.slice(0,a);let d=0;for(;d<o.length;){const p=o[d];if(Za(p)){const B=Pl(p.outlets);return new Jt(u,B)}if(0===d&&Ns(o[0])){u.push(new Fa(s.segments[a].path,Nl(o[0]))),d++;continue}const b=Za(p)?p.outlets[nt]:`${p}`,I=d<o.length-1?o[d+1]:null;b&&I&&Ns(I)?(u.push(new Fa(b,Nl(I))),d+=2):(u.push(new Fa(b,{})),d++)}return new Jt(u,{})}function Pl(s){const a={};return Object.entries(s).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(a[o]=Ji(new Jt([],{}),0,u))}),a}function Nl(s){const a={};return Object.entries(s).forEach(([o,u])=>a[o]=`${u}`),a}function Ll(s,a,o){return s==o.path&&Dt(a,o.parameters)}const Zi="imperative";var Gt=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Gt||{});class ea{id;url;constructor(a,o){this.id=a,this.url=o}}class ta extends ea{type=Gt.NavigationStart;navigationTrigger;restoredState;constructor(a,o,u="imperative",d=null){super(a,o),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uo extends ea{urlAfterRedirects;type=Gt.NavigationEnd;constructor(a,o,u){super(a,o),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var oo=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s[s.Aborted=4]="Aborted",s}(oo||{}),Ls=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(Ls||{});class ni extends ea{reason;code;type=Gt.NavigationCancel;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class es extends ea{reason;code;type=Gt.NavigationSkipped;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}}class Fs extends ea{error;target;type=Gt.NavigationError;constructor(a,o,u,d){super(a,o),this.error=u,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fl extends ea{urlAfterRedirects;state;type=Gt.RoutesRecognized;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends ea{urlAfterRedirects;state;type=Gt.GuardsCheckStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jl extends ea{urlAfterRedirects;state;shouldActivate;type=Gt.GuardsCheckEnd;constructor(a,o,u,d,p){super(a,o),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class js extends ea{urlAfterRedirects;state;type=Gt.ResolveStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends ea{urlAfterRedirects;state;type=Gt.ResolveEnd;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc{route;type=Gt.RouteConfigLoadStart;constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{route;type=Gt.RouteConfigLoadEnd;constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{snapshot;type=Gt.ChildActivationStart;constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{snapshot;type=Gt.ChildActivationEnd;constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ul{snapshot;type=Gt.ActivationStart;constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dc{snapshot;type=Gt.ActivationEnd;constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{}class Bs{url;navigationBehaviorOptions;constructor(a,o){this.url=a,this.navigationBehaviorOptions=o}}function $o(s){return s.outlet||nt}function ri(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let a=s.parent;a;a=a.parent){const o=a.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class zl{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ri(this.route?.snapshot)??this.rootInjector}constructor(a){this.rootInjector=a,this.children=new oi(this.rootInjector)}}let oi=(()=>{class s{rootInjector;contexts=new Map;constructor(o){this.rootInjector=o}onChildOutletCreated(o,u){const d=this.getOrCreateContext(o);d.outlet=u,this.contexts.set(o,d)}onChildOutletDestroyed(o){const u=this.getContext(o);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let u=this.getContext(o);return u||(u=new zl(this.rootInjector),this.contexts.set(o,u)),u}getContext(o){return this.contexts.get(o)||null}static \u0275fac=function(u){return new(u||s)(M.KVO(M.uvJ))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Us{_root;constructor(a){this._root=a}get root(){return this._root.value}parent(a){const o=this.pathFromRoot(a);return o.length>1?o[o.length-2]:null}children(a){const o=Vs(a,this._root);return o?o.children.map(u=>u.value):[]}firstChild(a){const o=Vs(a,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(a){const o=$s(a,this._root);return o.length<2?[]:o[o.length-2].children.map(d=>d.value).filter(d=>d!==a)}pathFromRoot(a){return $s(a,this._root).map(o=>o.value)}}function Vs(s,a){if(s===a.value)return a;for(const o of a.children){const u=Vs(s,o);if(u)return u}return null}function $s(s,a){if(s===a.value)return[a];for(const o of a.children){const u=$s(s,o);if(u.length)return u.unshift(a),u}return[]}class _{value;children;constructor(a,o){this.value=a,this.children=o}toString(){return`TreeNode(${this.value})`}}function O(s){const a={};return s&&s.children.forEach(o=>a[o.value.outlet]=o),a}class K extends Us{snapshot;constructor(a,o){super(a),this.snapshot=o,Sn(this,a)}toString(){return this.snapshot.toString()}}function ke(s){const a=function Ne(s){const p=new Ir([],{},{},"",{},nt,s,null,{});return new xn("",new _(p,[]))}(s),o=new P.t([new Fa("",{})]),u=new P.t({}),d=new P.t({}),p=new P.t({}),b=new P.t(""),I=new rt(o,u,p,b,d,nt,s,a.root);return I.snapshot=a.root,new K(new _(I,[]),a)}class rt{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(a,o,u,d,p,b,I,B){this.urlSubject=a,this.paramsSubject=o,this.queryParamsSubject=u,this.fragmentSubject=d,this.dataSubject=p,this.outlet=b,this.component=I,this._futureSnapshot=B,this.title=this.dataSubject?.pipe((0,Rt.T)(J=>J[Tt]))??D(void 0),this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Rt.T)(a=>on(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Rt.T)(a=>on(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function an(s,a,o="emptyOnly"){let u;const{routeConfig:d}=s;return u=null===a||"always"!==o&&""!==d?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...a.params,...s.params},data:{...a.data,...s.data},resolve:{...s.data,...a.data,...d?.data,...s._resolvedData}},d&&qd(d)&&(u.resolve[Tt]=d.title),u}class Ir{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Tt]}constructor(a,o,u,d,p,b,I,B,J){this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p,this.outlet=b,this.component=I,this.routeConfig=B,this._resolve=J}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=on(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=on(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xn extends Us{url;constructor(a,o){super(o),this.url=a,Sn(this,o)}toString(){return Ta(this._root)}}function Sn(s,a){a.value._routerState=s,a.children.forEach(o=>Sn(s,o))}function Ta(s){const a=s.children.length>0?` { ${s.children.map(Ta).join(", ")} } `:"";return`${s.value}${a}`}function fc(s){if(s.snapshot){const a=s.snapshot,o=s._futureSnapshot;s.snapshot=o,Dt(a.queryParams,o.queryParams)||s.queryParamsSubject.next(o.queryParams),a.fragment!==o.fragment&&s.fragmentSubject.next(o.fragment),Dt(a.params,o.params)||s.paramsSubject.next(o.params),function ar(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(!Dt(s[o],a[o]))return!1;return!0}(a.url,o.url)||s.urlSubject.next(o.url),Dt(a.data,o.data)||s.dataSubject.next(o.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function yc(s,a){const o=Dt(s.params,a.params)&&function $d(s,a){return Ya(s,a)&&s.every((o,u)=>Dt(o.parameters,a[u].parameters))}(s.url,a.url);return o&&!(!s.parent!=!a.parent)&&(!s.parent||yc(s.parent,a.parent))}function qd(s){return"string"==typeof s.title||null===s.title}const Qd=new M.nKC("");let Xd=(()=>{class s{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=nt;activateEvents=new fe.bkB;deactivateEvents=new fe.bkB;attachEvents=new fe.bkB;detachEvents=new fe.bkB;routerOutletData=(0,X.hFB)(void 0);parentContexts=(0,M.WQX)(oi);location=(0,M.WQX)(fe.c1b);changeDetector=(0,M.WQX)(X.gRc);inputBinder=(0,M.WQX)(Ii,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(o){if(o.name){const{firstChange:u,previousValue:d}=o.name;if(u)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.buA(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,u){this.activated=o,this._activatedRoute=u,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,u){if(this.isActivated)throw new M.buA(4013,!1);this._activatedRoute=o;const d=this.location,b=o.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,B=new ug(o,I,d.injector,this.routerOutletData);this.activated=d.createComponent(b,{index:d.length,injector:B,environmentInjector:u}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(u){return new(u||s)};static \u0275dir=fe.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fe.OA$]})}return s})();class ug{route;childContexts;parent;outletData;constructor(a,o,u,d){this.route=a,this.childContexts=o,this.parent=u,this.outletData=d}get(a,o){return a===rt?this.route:a===oi?this.childContexts:a===Qd?this.outletData:this.parent.get(a,o)}}const Ii=new M.nKC("");let Yd=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275cmp=fe.VBU({type:s,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(u,d){1&u&&fe.nrm(0,"router-outlet")},dependencies:[Xd],encapsulation:2})}return s})();function gc(s){const a=s.children&&s.children.map(gc),o=a?{...s,children:a}:{...s};return!o.component&&!o.loadComponent&&(a||o.loadChildren)&&o.outlet&&o.outlet!==nt&&(o.component=Yd),o}function Hs(s,a,o){if(o&&s.shouldReuseRoute(a.value,o.value.snapshot)){const u=o.value;u._futureSnapshot=a.value;const d=function dg(s,a,o){return a.children.map(u=>{for(const d of o.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return Hs(s,u,d);return Hs(s,u)})}(s,a,o);return new _(u,d)}{if(s.shouldAttach(a.value)){const p=s.retrieve(a.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=a.value,b.children=a.children.map(I=>Hs(s,I)),b}}const u=function mg(s){return new rt(new P.t(s.url),new P.t(s.params),new P.t(s.queryParams),new P.t(s.fragment),new P.t(s.data),s.outlet,s.component,s)}(a.value),d=a.children.map(p=>Hs(s,p));return new _(u,d)}}class vc{redirectTo;navigationBehaviorOptions;constructor(a,o){this.redirectTo=a,this.navigationBehaviorOptions=o}}const Zd="ngNavigationCancelingError";function Kl(s,a){const{redirectTo:o,navigationBehaviorOptions:u}=ja(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,d=em(!1,oo.Redirect);return d.url=o,d.navigationBehaviorOptions=u,d}function em(s,a){const o=new Error(`NavigationCancelingError: ${s||""}`);return o[Zd]=!0,o.cancellationCode=a,o}function tm(s){return!!s&&s[Zd]}class pg{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(a,o,u,d,p){this.routeReuseStrategy=a,this.futureState=o,this.currState=u,this.forwardEvent=d,this.inputBindingEnabled=p}activate(a){const o=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,u,a),fc(this.futureState.root),this.activateChildRoutes(o,u,a)}deactivateChildRoutes(a,o,u){const d=O(o);a.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,d[b],u),delete d[b]}),Object.values(d).forEach(p=>{this.deactivateRouteAndItsChildren(p,u)})}deactivateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(d===p)if(d.component){const b=u.getContext(d.outlet);b&&this.deactivateChildRoutes(a,o,b.children)}else this.deactivateChildRoutes(a,o,u);else p&&this.deactivateRouteAndItsChildren(o,u)}deactivateRouteAndItsChildren(a,o){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,o):this.deactivateRouteAndOutlet(a,o)}detachAndStoreRouteSubtree(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=O(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);if(u&&u.outlet){const b=u.outlet.detach(),I=u.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:b,route:a,contexts:I})}}deactivateRouteAndOutlet(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=O(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);u&&(u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated()),u.attachRef=null,u.route=null)}activateChildRoutes(a,o,u){const d=O(o);a.children.forEach(p=>{this.activateRoutes(p,d[p.value.outlet],u),this.forwardEvent(new dc(p.value.snapshot))}),a.children.length&&this.forwardEvent(new xi(a.value.snapshot))}activateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(fc(d),d===p)if(d.component){const b=u.getOrCreateContext(d.outlet);this.activateChildRoutes(a,o,b.children)}else this.activateChildRoutes(a,o,u);else if(d.component){const b=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const I=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),b.children.onOutletReAttached(I.contexts),b.attachRef=I.componentRef,b.route=I.route.value,b.outlet&&b.outlet.attach(I.componentRef,I.route.value),fc(I.route.value),this.activateChildRoutes(a,null,b.children)}else b.attachRef=null,b.route=d,b.outlet&&b.outlet.activateWith(d,b.injector),this.activateChildRoutes(a,null,b.children)}else this.activateChildRoutes(a,null,u)}}class Gl{path;route;constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class _c{component;route;constructor(a,o){this.component=a,this.route=o}}function fg(s,a,o){const u=s._root;return ql(u,a?a._root:null,o,[u.value])}function Ws(s,a){const o=Symbol(),u=a.get(s,o);return u===o?"function"!=typeof s||(0,M.muV)(s)?a.get(s):s:u}function ql(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=O(a);return s.children.forEach(b=>{(function vp(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=s.value,b=a?a.value:null,I=o?o.getContext(s.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const B=function Ql(s,a,o){if("function"==typeof o)return o(s,a);switch(o){case"pathParamsChange":return!Ya(s.url,a.url);case"pathParamsOrQueryParamsChange":return!Ya(s.url,a.url)||!Dt(s.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yc(s,a)||!Dt(s.queryParams,a.queryParams);default:return!yc(s,a)}}(b,p,p.routeConfig.runGuardsAndResolvers);B?d.canActivateChecks.push(new Gl(u)):(p.data=b.data,p._resolvedData=b._resolvedData),ql(s,a,p.component?I?I.children:null:o,u,d),B&&I&&I.outlet&&I.outlet.isActivated&&d.canDeactivateChecks.push(new _c(I.outlet.component,b))}else b&&ai(a,I,d),d.canActivateChecks.push(new Gl(u)),ql(s,null,p.component?I?I.children:null:o,u,d)})(b,p[b.value.outlet],o,u.concat([b.value]),d),delete p[b.value.outlet]}),Object.entries(p).forEach(([b,I])=>ai(I,o.getContext(b),d)),d}function ai(s,a,o){const u=O(s),d=s.value;Object.entries(u).forEach(([p,b])=>{ai(b,d.component?a?a.children.getContext(p):null:a,o)}),o.canDeactivateChecks.push(new _c(d.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,d))}function rs(s){return"function"==typeof s}function fa(s){return s instanceof he||"EmptyError"===s?.name}const zs=Symbol("INITIAL_VALUE");function as(){return Mn(s=>(0,Ae.z)(s.map(a=>a.pipe(Tn(1),(0,Xa.Z)(zs)))).pipe((0,Rt.T)(a=>{for(const o of a)if(!0!==o){if(o===zs)return zs;if(!1===o||wp(o))return o}return!0}),(0,kn.p)(a=>a!==zs),Tn(1)))}function wp(s){return ja(s)||s instanceof vc}function um(s){return(0,wt.F)(Dn(a=>{if("boolean"!=typeof a)throw Kl(0,a)}),(0,Rt.T)(a=>!0===a))}class Ho{segmentGroup;constructor(a){this.segmentGroup=a||null}}class wc extends Error{urlTree;constructor(a){super(),this.urlTree=a}}function Ri(s){return Lt(new Ho(s))}function Cp(s){return Lt(new M.buA(4e3,!1))}class Ap{urlSerializer;urlTree;constructor(a,o){this.urlSerializer=a,this.urlTree=o}lineralizeSegments(a,o){let u=[],d=o.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return D(u);if(d.numberOfChildren>1||!d.children[nt])return Cp();d=d.children[nt]}}applyRedirectCommands(a,o,u,d,p){return function Mp(s,a,o){if("string"==typeof s)return D(s);const u=s,{queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,params:J,data:we,title:Oe}=a;return Qt((0,M.N4e)(o,()=>u({params:J,data:we,queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,title:Oe})))}(o,d,p).pipe((0,Rt.T)(b=>{if(b instanceof Bo)throw new wc(b);const I=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),a,u);if("/"===b[0])throw new wc(I);return I}))}applyRedirectCreateUrlTree(a,o,u,d){const p=this.createSegmentGroup(a,o.root,u,d);return new Bo(p,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(a,o){const u={};return Object.entries(a).forEach(([d,p])=>{if("string"==typeof p&&":"===p[0]){const I=p.substring(1);u[d]=o[I]}else u[d]=p}),u}createSegmentGroup(a,o,u,d){const p=this.createSegments(a,o.segments,u,d);let b={};return Object.entries(o.children).forEach(([I,B])=>{b[I]=this.createSegmentGroup(a,B,u,d)}),new Jt(p,b)}createSegments(a,o,u,d){return o.map(p=>":"===p.path[0]?this.findPosParam(a,p,d):this.findOrReturn(p,u))}findPosParam(a,o,u){const d=u[o.path.substring(1)];if(!d)throw new M.buA(4001,!1);return d}findOrReturn(a,o){let u=0;for(const d of o){if(d.path===a.path)return o.splice(u),d;u++}return a}}const Xl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tp(s,a,o,u,d){const p=cm(s,a,o);return p.matched?(u=function ns(s,a){return s.providers&&!s._injector&&(s._injector=(0,fe.Ol2)(s.providers,a,`Route: ${s.path}`)),s._injector??a}(a,u),function Dp(s,a,o,u){const d=a.canMatch;return d&&0!==d.length?D(d.map(b=>{const I=Ws(b,s);return Qt(function os(s){return s&&rs(s.canMatch)}(I)?I.canMatch(a,o):(0,M.N4e)(s,()=>I(a,o)))})).pipe(as(),um()):D(!0)}(u,a,o).pipe((0,Rt.T)(b=>!0===b?p:{...Xl}))):D(p)}function cm(s,a,o){if("**"===a.path)return function xp(s){return{matched:!0,parameters:s.length>0?wn(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===a.path)return"full"===a.pathMatch&&(s.hasChildren()||o.length>0)?{...Xl}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const d=(a.matcher||yn)(o,s,a);if(!d)return{...Xl};const p={};Object.entries(d.posParams??{}).forEach(([I,B])=>{p[I]=B.path});const b=d.consumed.length>0?{...p,...d.consumed[d.consumed.length-1].parameters}:p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:o.slice(d.consumed.length),parameters:b,positionalParamSegments:d.posParams??{}}}function gn(s,a,o,u){return o.length>0&&function kc(s,a,o){return o.some(u=>xa(s,a,u)&&$o(u)!==nt)}(s,o,u)?{segmentGroup:new Jt(a,dm(u,new Jt(o,s.children))),slicedSegments:[]}:0===o.length&&function Yl(s,a,o){return o.some(u=>xa(s,a,u))}(s,o,u)?{segmentGroup:new Jt(s.segments,Ec(s,o,u,s.children)),slicedSegments:o}:{segmentGroup:new Jt(s.segments,s.children),slicedSegments:o}}function Ec(s,a,o,u){const d={};for(const p of o)if(xa(s,a,p)&&!u[$o(p)]){const b=new Jt([],{});d[$o(p)]=b}return{...u,...d}}function dm(s,a){const o={};o[nt]=a;for(const u of s)if(""===u.path&&$o(u)!==nt){const d=new Jt([],{});o[$o(u)]=d}return o}function xa(s,a,o){return(!(s.hasChildren()||a.length>0)||"full"!==o.pathMatch)&&""===o.path}class hm{}class Ip{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(a,o,u,d,p,b,I){this.injector=a,this.configLoader=o,this.rootComponentType=u,this.config=d,this.urlTree=p,this.paramsInheritanceStrategy=b,this.urlSerializer=I,this.applyRedirects=new Ap(this.urlSerializer,this.urlTree)}noMatchError(a){return new M.buA(4002,`'${a.segmentGroup}'`)}recognize(){const a=gn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,Rt.T)(({children:o,rootSnapshot:u})=>{const d=new _(u,o),p=new xn("",d),b=function Kd(s,a,o=null,u=null){return Ps(Qi(s),a,o,u)}(u,[],this.urlTree.queryParams,this.urlTree.fragment);return b.queryParams=this.urlTree.queryParams,p.url=this.urlSerializer.serialize(b),{state:p,tree:b}}))}match(a){const o=new Ir([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,nt,o).pipe((0,Rt.T)(u=>({children:u,rootSnapshot:o})),Yo(u=>{if(u instanceof wc)return this.urlTree=u.urlTree,this.match(u.urlTree.root);throw u instanceof Ho?this.noMatchError(u):u}))}processSegmentGroup(a,o,u,d,p){return 0===u.segments.length&&u.hasChildren()?this.processChildren(a,o,u,p):this.processSegment(a,o,u,u.segments,d,!0,p).pipe((0,Rt.T)(b=>b instanceof _?[b]:[]))}processChildren(a,o,u,d){const p=[];for(const b of Object.keys(u.children))"primary"===b?p.unshift(b):p.push(b);return(0,tn.H)(p).pipe(Fo(b=>{const I=u.children[b],B=function Wl(s,a){const o=s.filter(u=>$o(u)===a);return o.push(...s.filter(u=>$o(u)!==a)),o}(o,b);return this.processSegmentGroup(a,B,I,b,d)}),function La(s,a){return(0,cn.N)(function gi(s,a,o,u,d){return(p,b)=>{let I=o,B=a,J=0;p.subscribe((0,bn._)(b,we=>{const Oe=J++;B=I?s(B,we,Oe):(I=!0,we),u&&b.next(B)},d&&(()=>{I&&b.next(B),b.complete()})))}}(s,a,arguments.length>=2,!0))}((b,I)=>(b.push(...I),b)),Qo(null),function vi(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kn.p)((d,p)=>s(d,p,u)):ha.D,Jo(1),o?Qo(a):Xo(()=>new he))}(),(0,jn.Z)(b=>{if(null===b)return Ri(u);const I=Jl(b);return function Rp(s){s.sort((a,o)=>a.value.outlet===nt?-1:o.value.outlet===nt?1:a.value.outlet.localeCompare(o.value.outlet))}(I),D(I)}))}processSegment(a,o,u,d,p,b,I){return(0,tn.H)(o).pipe(Fo(B=>this.processSegmentAgainstRoute(B._injector??a,o,B,u,d,p,b,I).pipe(Yo(J=>{if(J instanceof Ho)return D(null);throw J}))),yo(B=>!!B),Yo(B=>{if(fa(B))return function mm(s,a,o){return 0===a.length&&!s.children[o]}(u,d,p)?D(new hm):Ri(u);throw B}))}processSegmentAgainstRoute(a,o,u,d,p,b,I,B){return $o(u)===b||b!==nt&&xa(d,p,u)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(a,d,u,p,b,B):this.allowRedirects&&I?this.expandSegmentAgainstRouteUsingRedirect(a,d,o,u,p,b,B):Ri(d):Ri(d)}expandSegmentAgainstRouteUsingRedirect(a,o,u,d,p,b,I){const{matched:B,parameters:J,consumedSegments:we,positionalParamSegments:Oe,remainingSegments:ot}=cm(o,d,p);if(!B)return Ri(o);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ye=new Ir(p,J,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(d),$o(d),d.component??d._loadedComponent??null,d,Gs(d)),Ze=an(Ye,I,this.paramsInheritanceStrategy);return Ye.params=Object.freeze(Ze.params),Ye.data=Object.freeze(Ze.data),this.applyRedirects.applyRedirectCommands(we,d.redirectTo,Oe,Ye,a).pipe(Mn(ut=>this.applyRedirects.lineralizeSegments(d,ut)),(0,jn.Z)(ut=>this.processSegment(a,u,o,ut.concat(ot),b,!1,I)))}matchSegmentAgainstRoute(a,o,u,d,p,b){const I=Tp(o,u,d,a);return"**"===u.path&&(o.children={}),I.pipe(Mn(B=>B.matched?this.getChildConfig(a=u._injector??a,u,d).pipe(Mn(({routes:J})=>{const we=u._loadedInjector??a,{parameters:Oe,consumedSegments:ot,remainingSegments:Ye}=B,Ze=new Ir(ot,Oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(u),$o(u),u.component??u._loadedComponent??null,u,Gs(u)),gt=an(Ze,b,this.paramsInheritanceStrategy);Ze.params=Object.freeze(gt.params),Ze.data=Object.freeze(gt.data);const{segmentGroup:ut,slicedSegments:Et}=gn(o,ot,Ye,J);if(0===Et.length&&ut.hasChildren())return this.processChildren(we,J,ut,Ze).pipe((0,Rt.T)(nn=>new _(Ze,nn)));if(0===J.length&&0===Et.length)return D(new _(Ze,[]));const Ht=$o(u)===p;return this.processSegment(we,J,ut,Et,Ht?nt:p,!0,Ze).pipe((0,Rt.T)(nn=>new _(Ze,nn instanceof _?[nn]:[])))})):Ri(o)))}getChildConfig(a,o,u){return o.children?D({routes:o.children,injector:a}):o.loadChildren?void 0!==o._loadedRoutes?D({routes:o._loadedRoutes,injector:o._loadedInjector}):function bc(s,a,o,u){const d=a.canLoad;return void 0===d||0===d.length?D(!0):D(d.map(b=>{const I=Ws(b,s);return Qt(function om(s){return s&&rs(s.canLoad)}(I)?I.canLoad(a,o):(0,M.N4e)(s,()=>I(a,o)))})).pipe(as(),um())}(a,o,u).pipe((0,jn.Z)(d=>d?this.configLoader.loadChildren(a,o).pipe(Dn(p=>{o._loadedRoutes=p.routes,o._loadedInjector=p.injector})):function Sp(){return Lt(em(!1,oo.GuardRejected))}())):D({routes:[],injector:a})}}function fm(s){const a=s.value.routeConfig;return a&&""===a.path}function Jl(s){const a=[],o=new Set;for(const u of s){if(!fm(u)){a.push(u);continue}const d=a.find(p=>u.value.routeConfig===p.value.routeConfig);void 0!==d?(d.children.push(...u.children),o.add(d)):a.push(u)}for(const u of o){const d=Jl(u.children);a.push(new _(u.value,d))}return a.filter(u=>!o.has(u))}function Dc(s){return s.data||{}}function Gs(s){return s.resolve||{}}function is(s){const a=s.children.map(o=>is(o)).flat();return[s,...a]}function ss(s){return Mn(a=>{const o=s(a);return o?(0,tn.H)(o).pipe((0,Rt.T)(()=>a)):D(a)})}let ls=(()=>{class s{buildTitle(o){let u,d=o.root;for(;void 0!==d;)u=this.getResolvedTitleForRoute(d)??u,d=d.children.find(p=>p.outlet===nt);return u}getResolvedTitleForRoute(o){return o.data[Tt]}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:()=>(0,M.WQX)(Zl),providedIn:"root"})}return s})(),Zl=(()=>{class s extends ls{title;constructor(o){super(),this.title=o}updateTitle(o){const u=this.buildTitle(o);void 0!==u&&this.title.setTitle(u)}static \u0275fac=function(u){return new(u||s)(M.KVO(T))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const us=new M.nKC("",{providedIn:"root",factory:()=>({})}),qs=new M.nKC("");let vm=(()=>{class s{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,M.WQX)(fe.Ql9);loadComponent(o,u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return D(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const d=Qt((0,M.N4e)(o,()=>u.loadComponent())).pipe((0,Rt.T)(bm),Dn(b=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=b}),_i(()=>{this.componentLoaders.delete(u)})),p=new xr(d,()=>new rn.B).pipe(pn());return this.componentLoaders.set(u,p),p}loadChildren(o,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return D({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const p=function cs(s,a,o,u){return Qt((0,M.N4e)(o,()=>s.loadChildren())).pipe((0,Rt.T)(bm),(0,jn.Z)(d=>d instanceof fe.PYt||Array.isArray(d)?D(d):(0,tn.H)(a.compileModuleAsync(d))),(0,Rt.T)(d=>{u&&u(s);let p,b,I=!1;return Array.isArray(d)?(b=d,!0):(p=d.create(o).injector,b=p.get(qs,[],{optional:!0,self:!0}).flat()),{routes:b.map(gc),injector:p}}))}(u,this.compiler,o,this.onLoadEndListener).pipe(_i(()=>{this.childrenLoaders.delete(u)})),b=new xr(p,()=>new rn.B).pipe(pn());return this.childrenLoaders.set(u,b),b}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function bm(s){return function _m(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}let eu=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:()=>(0,M.WQX)(Pp),providedIn:"root"})}return s})(),Pp=(()=>{class s{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,u){return o}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ac=new M.nKC(""),Lp=new M.nKC("");let Mc=(()=>{class s{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rn.B;transitionAbortWithErrorSubject=new rn.B;configLoader=(0,M.WQX)(vm);environmentInjector=(0,M.WQX)(M.uvJ);destroyRef=(0,M.WQX)(M.abz);urlSerializer=(0,M.WQX)(Ma);rootContexts=(0,M.WQX)(oi);location=(0,M.WQX)(E.aZ);inputBindingEnabled=null!==(0,M.WQX)(Ii,{optional:!0});titleStrategy=(0,M.WQX)(ls);options=(0,M.WQX)(us,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,M.WQX)(eu);createViewTransition=(0,M.WQX)(Ac,{optional:!0});navigationErrorHandler=(0,M.WQX)(Lp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new Ti(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new cc(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(o){const u=++this.navigationId;this.transitions?.next({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u})}setupNavigations(o){return this.transitions=new P.t(null),this.transitions.pipe((0,kn.p)(u=>null!==u),Mn(u=>{let d=!1;return D(u).pipe(Mn(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",oo.SupersededByNewNavigation),tt;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>p.abortController.abort()};const b=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!b&&"reload"!==(p.extras.onSameUrlNavigation??o.onSameUrlNavigation)){const B="";return this.events.next(new es(p.id,this.urlSerializer.serialize(p.rawUrl),B,Ls.IgnoredSameUrlNavigation)),p.resolve(!1),tt}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return D(p).pipe(Mn(B=>(this.events.next(new ta(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),B.id!==this.navigationId?tt:Promise.resolve(B))),function Op(s,a,o,u,d,p){return(0,jn.Z)(b=>function Ks(s,a,o,u,d,p,b="emptyOnly"){return new Ip(s,a,o,u,d,b,p).recognize()}(s,a,o,u,b.extractedUrl,d,p).pipe((0,Rt.T)(({state:I,tree:B})=>({...b,targetSnapshot:I,urlAfterRedirects:B}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),Dn(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const J=new Fl(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(J)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:B,extractedUrl:J,source:we,restoredState:Oe,extras:ot}=p,Ye=new ta(B,this.urlSerializer.serialize(J),we,Oe);this.events.next(Ye);const Ze=ke(this.rootComponentType).snapshot;return this.currentTransition=u={...p,targetSnapshot:Ze,urlAfterRedirects:J,extras:{...ot,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=J,D(u)}{const B="";return this.events.next(new es(p.id,this.urlSerializer.serialize(p.extractedUrl),B,Ls.IgnoredByUrlHandlingStrategy)),p.resolve(!1),tt}}),Dn(p=>{const b=new ts(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),(0,Rt.T)(p=>(this.currentTransition=u={...p,guards:fg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},u)),function gg(s,a){return(0,jn.Z)(o=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:p,canDeactivateChecks:b}}=o;return 0===b.length&&0===p.length?D({...o,guardsResult:!0}):function vg(s,a,o,u){return(0,tn.H)(s).pipe((0,jn.Z)(d=>function kp(s,a,o,u,d){const p=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return p&&0!==p.length?D(p.map(I=>{const B=ri(a)??d,J=Ws(I,B);return Qt(function am(s){return s&&rs(s.canDeactivate)}(J)?J.canDeactivate(s,a,o,u):(0,M.N4e)(B,()=>J(s,a,o,u))).pipe(yo())})).pipe(as()):D(!0)}(d.component,d.route,o,a,u)),yo(d=>!0!==d,!0))}(b,u,d,s).pipe((0,jn.Z)(I=>I&&function rm(s){return"boolean"==typeof s}(I)?function im(s,a,o,u){return(0,tn.H)(a).pipe(Fo(d=>(0,je.x)(function _g(s,a){return null!==s&&a&&a(new Vo(s)),D(!0)}(d.route.parent,u),function sm(s,a){return null!==s&&a&&a(new Ul(s)),D(!0)}(d.route,u),function lm(s,a,o){const u=a[a.length-1],p=a.slice(0,a.length-1).reverse().map(b=>function yg(s){const a=s.routeConfig?s.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:s,guards:a}:null}(b)).filter(b=>null!==b).map(b=>dt(()=>D(b.guards.map(B=>{const J=ri(b.node)??o,we=Ws(B,J);return Qt(function bp(s){return s&&rs(s.canActivateChild)}(we)?we.canActivateChild(u,s):(0,M.N4e)(J,()=>we(u,s))).pipe(yo())})).pipe(as())));return D(p).pipe(as())}(s,d.path,o),function Ep(s,a,o){const u=a.routeConfig?a.routeConfig.canActivate:null;if(!u||0===u.length)return D(!0);const d=u.map(p=>dt(()=>{const b=ri(a)??o,I=Ws(p,b);return Qt(function _p(s){return s&&rs(s.canActivate)}(I)?I.canActivate(a,s):(0,M.N4e)(b,()=>I(a,s))).pipe(yo())}));return D(d).pipe(as())}(s,d.route,o))),yo(d=>!0!==d,!0))}(u,p,s,a):D(I)),(0,Rt.T)(I=>({...o,guardsResult:I})))})}(this.environmentInjector,p=>this.events.next(p)),Dn(p=>{if(u.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw Kl(0,p.guardsResult);const b=new jl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(b)}),(0,kn.p)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",oo.GuardRejected),!1)),ss(p=>{if(0!==p.guards.canActivateChecks.length)return D(p).pipe(Dn(b=>{const I=new js(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}),Mn(b=>{let I=!1;return D(b).pipe(function Cc(s,a){return(0,jn.Z)(o=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=o;if(!d.length)return D(o);const p=new Set(d.map(B=>B.route)),b=new Set;for(const B of p)if(!b.has(B))for(const J of is(B))b.add(J);let I=0;return(0,tn.H)(b).pipe(Fo(B=>p.has(B)?function Sc(s,a,o,u){const d=s.routeConfig,p=s._resolve;return void 0!==d?.title&&!qd(d)&&(p[Tt]=d.title),dt(()=>(s.data=an(s,s.parent,o).resolve,function ym(s,a,o,u){const d=Cn(s);if(0===d.length)return D({});const p={};return(0,tn.H)(d).pipe((0,jn.Z)(b=>function gm(s,a,o,u){const d=ri(a)??u,p=Ws(s,d);return Qt(p.resolve?p.resolve(a,o):(0,M.N4e)(d,()=>p(a,o)))}(s[b],a,o,u).pipe(yo(),Dn(I=>{if(I instanceof vc)throw Kl(new Hi,I);p[b]=I}))),Jo(1),(0,Rt.T)(()=>p),Yo(b=>fa(b)?tt:Lt(b)))}(p,s,a,u).pipe((0,Rt.T)(b=>(s._resolvedData=b,s.data={...s.data,...b},null)))))}(B,u,s,a):(B.data=an(B,B.parent,s).resolve,D(void 0))),Dn(()=>I++),Jo(1),(0,jn.Z)(B=>I===b.size?D(o):tt))})}(this.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(b,"",oo.NoDataFromResolver)}}))}),Dn(b=>{const I=new Bl(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}))}),ss(p=>{const b=I=>{const B=[];if(I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent){const J=ri(I)??this.environmentInjector;B.push(this.configLoader.loadComponent(J,I.routeConfig).pipe(Dn(we=>{I.component=we}),(0,Rt.T)(()=>{})))}for(const J of I.children)B.push(...b(J));return B};return(0,Ae.z)(b(p.targetSnapshot.root)).pipe(Qo(null),Tn(1))}),ss(()=>this.afterPreactivation()),Mn(()=>{const{currentSnapshot:p,targetSnapshot:b}=u,I=this.createViewTransition?.(this.environmentInjector,p.root,b.root);return I?(0,tn.H)(I).pipe((0,Rt.T)(()=>u)):D(u)}),(0,Rt.T)(p=>{const b=function Jd(s,a,o){const u=Hs(s,a._root,o?o._root:void 0);return new K(u,a)}(o.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u={...p,targetRouterState:b},this.currentNavigation.targetRouterState=b,u}),Dn(()=>{this.events.next(new mc)}),((s,a,o,u)=>(0,Rt.T)(d=>(new pg(a,d.targetRouterState,d.currentRouterState,o,u).activate(s),d)))(this.rootContexts,o.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Tn(1),(0,$i.Q)(new Mr.c(p=>{const b=u.abortController.signal,I=()=>p.next();return b.addEventListener("abort",I),()=>b.removeEventListener("abort",I)}).pipe((0,kn.p)(()=>!d&&!u.targetRouterState),Dn(()=>{this.cancelNavigationTransition(u,u.abortController.signal.reason+"",oo.Aborted)}))),Dn({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Uo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),(0,$i.Q)(this.transitionAbortWithErrorSubject.pipe(Dn(p=>{throw p}))),_i(()=>{d||this.cancelNavigationTransition(u,"",oo.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yo(p=>{if(this.destroyed)return u.resolve(!1),tt;if(d=!0,tm(p))this.events.next(new ni(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),function gp(s){return tm(s)&&ja(s.url)}(p)?this.events.next(new Bs(p.url,p.navigationBehaviorOptions)):u.resolve(!1);else{const b=new Fs(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0);try{const I=(0,M.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(!(I instanceof vc))throw this.events.next(b),p;{const{message:B,cancellationCode:J}=Kl(0,I);this.events.next(new ni(u.id,this.urlSerializer.serialize(u.extractedUrl),B,J)),this.events.next(new Bs(I.redirectTo,I.navigationBehaviorOptions))}}catch(I){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(I)}}return tt}))}))}cancelNavigationTransition(o,u,d){const p=new ni(o.id,this.urlSerializer.serialize(o.extractedUrl),u,d);this.events.next(p),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const o=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return o.toString()!==u?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Em(s){return s!==Zi}let km=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:()=>(0,M.WQX)(Cm),providedIn:"root"})}return s})();class Dm{shouldDetach(a){return!1}store(a,o){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,o){return a.routeConfig===o.routeConfig}}let Cm=(()=>{class s extends Dm{static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),tu=(()=>{class s{urlSerializer=(0,M.WQX)(Ma);options=(0,M.WQX)(us,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,M.WQX)(E.aZ);urlHandlingStrategy=(0,M.WQX)(eu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Bo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:o,initialUrl:u,targetBrowserUrl:d}){const p=void 0!==o?this.urlHandlingStrategy.merge(o,u):u,b=d??p;return b instanceof Bo?this.urlSerializer.serialize(b):b}commitTransition({targetRouterState:o,finalUrl:u,initialUrl:d}){u&&o?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,d),this.routerState=o):this.rawUrlTree=d}routerState=ke(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:o}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o??this.rawUrlTree)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:()=>(0,M.WQX)(Sm),providedIn:"root"})}return s})(),Sm=(()=>{class s extends tu{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(u=>{"popstate"===u.type&&setTimeout(()=>{o(u.url,u.state,"popstate")})})}handleRouterEvent(o,u){o instanceof ta?this.updateStateMemento():o instanceof es?this.commitTransition(u):o instanceof Fl?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof mc?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof ni&&o.code!==oo.SupersededByNewNavigation&&o.code!==oo.Redirect?this.restoreHistory(u):o instanceof Fs?this.restoreHistory(u,!0):o instanceof Uo&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,{extras:u,id:d}){const{replaceUrl:p,state:b}=u;if(this.location.isCurrentPathEqualTo(o)||p){const I=this.browserPageId,B={...b,...this.generateNgRouterState(d,I)};this.location.replaceState(o,"",B)}else{const I={...b,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(o,"",I)}}restoreHistory(o,u=!1){if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-this.browserPageId;0!==p?this.location.historyGo(p):this.getCurrentUrlTree()===o.finalUrl&&0===p&&(this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,u){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:u}:{navigationId:o}}static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Oi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Am={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,M.WQX)(fe.C7A);stateManager=(0,M.WQX)(tu);options=(0,M.WQX)(us,{optional:!0})||{};pendingTasks=(0,M.WQX)(M.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,M.WQX)(Mc);urlSerializer=(0,M.WQX)(Ma);location=(0,M.WQX)(E.aZ);urlHandlingStrategy=(0,M.WQX)(eu);injector=(0,M.WQX)(M.uvJ);_events=new rn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,M.WQX)(km);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,M.WQX)(qs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,M.WQX)(Ii,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pr.yU;subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(u=>{try{const d=this.navigationTransitions.currentTransition,p=this.navigationTransitions.currentNavigation;if(null!==d&&null!==p)if(this.stateManager.handleRouterEvent(u,p),u instanceof ni&&u.code!==oo.Redirect&&u.code!==oo.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof Uo)this.navigated=!0;else if(u instanceof Bs){const b=u.navigationBehaviorOptions,I=this.urlHandlingStrategy.merge(u.url,d.currentRawUrl),B={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Em(d.source),...b};this.scheduleNavigation(I,Zi,null,B,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function hc(s){return!(s instanceof mc||s instanceof Bs)})(u)&&this._events.next(u)}catch(d){this.navigationTransitions.transitionAbortWithErrorSubject.next(d)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,u,d)=>{this.navigateToSyncWithBrowser(o,d,u)})}navigateToSyncWithBrowser(o,u,d){const p={replaceUrl:!0},b=d?.navigationId?d:null;if(d){const B={...d};delete B.navigationId,delete B.\u0275routerPageId,0!==Object.keys(B).length&&(p.state=B)}const I=this.parseUrl(o);this.scheduleNavigation(I,u,b,p).catch(B=>{this.disposed||this.injector.get(M.ZTf)(B)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(gc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,u={}){const{relativeTo:d,queryParams:p,fragment:b,queryParamsHandling:I,preserveFragment:B}=u,J=B?this.currentUrlTree.fragment:b;let Oe,we=null;switch(I??this.options.defaultQueryParamsHandling){case"merge":we={...this.currentUrlTree.queryParams,...p};break;case"preserve":we=this.currentUrlTree.queryParams;break;default:we=p||null}null!==we&&(we=this.removeEmptyProps(we));try{Oe=Qi(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||"/"!==o[0][0])&&(o=[]),Oe=this.currentUrlTree.root}return Ps(Oe,o,we,J??null)}navigateByUrl(o,u={skipLocationChange:!1}){const d=ja(o)?o:this.parseUrl(o),p=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(p,Zi,null,u)}navigate(o,u={skipLocationChange:!1}){return function xc(s){for(let a=0;a<s.length;a++)if(null==s[a])throw new M.buA(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,u),u)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,u){let d;if(d=!0===u?{...Oi}:!1===u?{...Am}:u,ja(o))return Ts(this.currentUrlTree,o,d);const p=this.parseUrl(o);return Ts(this.currentUrlTree,p,d)}removeEmptyProps(o){return Object.entries(o).reduce((u,[d,p])=>(null!=p&&(u[d]=p),u),{})}scheduleNavigation(o,u,d,p,b){if(this.disposed)return Promise.resolve(!1);let I,B,J;b?(I=b.resolve,B=b.reject,J=b.promise):J=new Promise((Oe,ot)=>{I=Oe,B=ot});const we=this.pendingTasks.add();return function Tc(s,a){s.events.pipe((0,kn.p)(o=>o instanceof Uo||o instanceof ni||o instanceof Fs||o instanceof es),(0,Rt.T)(o=>o instanceof Uo||o instanceof es?0:o instanceof ni&&(o.code===oo.Redirect||o.code===oo.SupersededByNewNavigation)?2:1),(0,kn.p)(o=>2!==o),Tn(1)).subscribe(()=>{a()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(we))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:p,resolve:I,reject:B,promise:J,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),J.catch(Oe=>Promise.reject(Oe))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var nu=V(3597);V(6365);let Xs=(()=>{class s{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,M.vPA)(null);get href(){return(0,nu.O8)(this.reactiveHref)}set href(o){this.reactiveHref.set(o)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rn.B;applicationErrorHandler=(0,M.WQX)(M.ZTf);options=(0,M.WQX)(us,{optional:!0});constructor(o,u,d,p,b,I){this.router=o,this.route=u,this.tabIndexAttribute=d,this.renderer=p,this.el=b,this.locationStrategy=I,this.reactiveHref.set((0,M.WQX)(new X.ES_("href"),{optional:!0}));const B=b.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===B||"area"===B||!("object"!=typeof customElements||!customElements.get(B)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let o=this.preserveFragment;const u=d=>"merge"===d||"preserve"===d;o||=u(this.queryParamsHandling),o||=!this.queryParamsHandling&&!u(this.options?.defaultQueryParamsHandling),o&&(this.subscription=this.router.events.subscribe(d=>{d instanceof Uo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(o){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(o){null==o?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ja(o)||Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0"))}onClick(o,u,d,p,b){const I=this.urlTree;if(null===I||this.isAnchorElement&&(0!==o||u||d||p||b||"string"==typeof this.target&&"_self"!=this.target))return!0;const B={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(I,B)?.catch(J=>{this.applicationErrorHandler(J)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const o=this.urlTree;this.reactiveHref.set(null!==o&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o))??"":null)}applyAttributeValue(o,u){const d=this.renderer,p=this.el.nativeElement;null!==u?d.setAttribute(p,o,u):d.removeAttribute(p,o)}get urlTree(){return null===this.routerLinkInput?null:ja(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(u){return new(u||s)(fe.rXU(ii),fe.rXU(rt),fe.kS0("tabindex"),fe.rXU(fe.sFG),fe.rXU(fe.aKT),fe.rXU(E.hb))};static \u0275dir=fe.FsC({type:s,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(u,d){1&u&&fe.bIt("click",function(b){return d.onClick(b.button,b.ctrlKey,b.shiftKey,b.altKey,b.metaKey)}),2&u&&fe.BMQ("href",d.reactiveHref(),fe.n$t)("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",X.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",X.L39],replaceUrl:[2,"replaceUrl","replaceUrl",X.L39],routerLink:"routerLink"},features:[fe.OA$]})}return s})();const Rc=new M.nKC("");function Vp(s){return s.routerState.root}function Hp(){const s=(0,M.WQX)(M.zZn);return a=>{const o=s.get(fe.o8S);if(a!==o.components[0])return;const u=s.get(ii),d=s.get(Im);1===s.get(Nc)&&u.initialNavigation(),s.get(ru,null,{optional:!0})?.setUpPreloading(),s.get(Rc,null,{optional:!0})?.init(),u.resetRootComponentType(o.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const Im=new M.nKC("",{factory:()=>new rn.B}),Nc=new M.nKC("",{providedIn:"root",factory:()=>1}),ru=new M.nKC("");var Lm=V(4675),Fm=V(4242);function qp(s,a){if(1&s&&(fe.j41(0,"span"),fe.EFF(1),fe.k0s()),2&s){const o=fe.XpG();fe.R7$(),fe.Lme("client ",o.clientId," connected to session: ",o.sessionId)}}let Qp=(()=>{class s{appContext;webSocketService;title=(0,M.vPA)("app");clientId=null;sessionId=1;version="v1.18 ";constructor(o,u){this.appContext=o,this.webSocketService=u,this.webSocketService.clientId$.subscribe(d=>{this.clientId=d}),this.webSocketService.sessionId$.subscribe(d=>{null!=d&&(this.sessionId=d)})}static \u0275fac=function(u){return new(u||s)(fe.rXU(Lm.B),fe.rXU(Fm.Vh))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-root"]],decls:18,vars:4,consts:[["id","master-container",1,"app-viewport"],[1,"navigaiton"],["routerLink","/"],["routerLink","/potions"],["routerLink","/armory"],[1,"technical-info"],[4,"ngIf"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://supabase.com/dashboard/project/ymlekirbwjanuxrclsgf/editor/17421?schema=public","target","_blank","title","Postman",1,"button-link"]],template:function(u,d){1&u&&(fe.j41(0,"div",0)(1,"div",1)(2,"a",2),fe.EFF(3,"Game"),fe.k0s(),fe.j41(4,"a",3),fe.EFF(5,"Alchemy"),fe.k0s(),fe.j41(6,"a",4),fe.EFF(7,"Armory"),fe.k0s()(),fe.nrm(8,"router-outlet"),fe.k0s(),fe.j41(9,"div",5)(10,"span"),fe.EFF(11),fe.k0s(),fe.DNE(12,qp,2,2,"span",6),fe.j41(13,"a",7),fe.EFF(14,"Run Postman "),fe.k0s(),fe.j41(15,"a",8),fe.EFF(16,"Open DB "),fe.k0s()(),fe.nrm(17,"app-toast-notification")),2&u&&(fe.R7$(),fe.xc7("display",d.appContext.shouldShowSetup?null:"none"),fe.R7$(10),fe.JRh(d.version),fe.R7$(),fe.Y8G("ngIf",d.clientId))},dependencies:[Xn.MD,Xn.bT,Aa.YN,Xd,Xs,Qa],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;overflow-x:clip}.navigaiton[_ngcontent-%COMP%]{display:flex;gap:1rem}.navigaiton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--font-color)}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-10em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]})}return s})();var Ot=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(Ot||{});const Ua="*";function Bm(s){return{type:Ot.Style,styles:s,offset:null}}class Pi{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(a=0,o=0){this.totalTime=a+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Uc{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(a){this.players=a;let o=0,u=0,d=0;const p=this.players.length;0==p?queueMicrotask(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++o==p&&this._onFinish()}),b.onDestroy(()=>{++u==p&&this._onDestroy()}),b.onStart(()=>{++d==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,I)=>Math.max(b,I.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const o=a*this.totalTime;this.players.forEach(u=>{const d=u.totalTime?Math.min(1,o/u.totalTime):1;u.setPosition(d)})}getPosition(){const a=this.players.reduce((o,u)=>null===o||u.totalTime>o.totalTime?u:o,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}function $c(s){return new M.buA(3e3,!1)}function tl(s){return new M.buA(3002,!1)}function Va(s){switch(s.length){case 0:return new Pi;case 1:return s[0];default:return new Uc(s)}}function si(s,a,o=new Map,u=new Map){const d=[],p=[];let b=-1,I=null;if(a.forEach(B=>{const J=B.get("offset"),we=J==b,Oe=we&&I||new Map;B.forEach((ot,Ye)=>{let Ze=Ye,gt=ot;if("offset"!==Ye)switch(Ze=s.normalizePropertyName(Ze,d),gt){case"!":gt=o.get(Ye);break;case Ua:gt=u.get(Ye);break;default:gt=s.normalizeStyleValue(Ye,Ze,gt,d)}Oe.set(Ze,gt)}),we||p.push(Oe),I=Oe,b=J}),d.length)throw function lf(){return new M.buA(3502,!1)}();return p}function al(s,a,o,u){switch(a){case"start":s.onStart(()=>u(o&&Gc(o,"start",s)));break;case"done":s.onDone(()=>u(o&&Gc(o,"done",s)));break;case"destroy":s.onDestroy(()=>u(o&&Gc(o,"destroy",s)))}}function Gc(s,a,o){const p=qc(s.element,s.triggerName,s.fromState,s.toState,a||s.phaseName,o.totalTime??s.totalTime,!!o.disabled),b=s._data;return null!=b&&(p._data=b),p}function qc(s,a,o,u,d="",p=0,b){return{element:s,triggerName:a,fromState:o,toState:u,phaseName:d,totalTime:p,disabled:!!b}}function Mo(s,a,o){let u=s.get(a);return u||s.set(a,u=o),u}function Qc(s){const a=s.indexOf(":");return[s.substring(1,a),s.slice(a+1)]}const df=typeof document>"u"?null:document.documentElement;function Xc(s){const a=s.parentNode||s.host||null;return a===df?null:a}let ya=null,zm=!1;function Yc(s,a){for(;a;){if(a===s)return!0;a=Xc(a)}return!1}function Jc(s,a,o){if(o)return Array.from(s.querySelectorAll(a));const u=s.querySelector(a);return u?[u]:[]}const cu="ng-enter",hs="ng-leave",du="ng-trigger",mu=".ng-trigger",Qm="ng-animating",Zc=".ng-animating";function $a(s){if("number"==typeof s)return s;const a=s.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:ed(parseFloat(a[1]),a[2])}function ed(s,a){return"s"===a?1e3*s:s}function ps(s,a,o){return s.hasOwnProperty("duration")?s:function Xm(s,a,o){let u,d=0,p="";if("string"==typeof s){const b=s.match(pf);if(null===b)return a.push($c()),{duration:0,delay:0,easing:""};u=ed(parseFloat(b[1]),b[2]);const I=b[3];null!=I&&(d=ed(parseFloat(I),b[4]));const B=b[5];B&&(p=B)}else u=s;if(!o){let b=!1,I=a.length;u<0&&(a.push(function Um(){return new M.buA(3100,!1)}()),b=!0),d<0&&(a.push(function ms(){return new M.buA(3101,!1)}()),b=!0),b&&a.splice(I,0,$c())}return{duration:u,delay:d,easing:p}}(s,a,o)}const pf=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function To(s,a,o){a.forEach((u,d)=>{const p=Zm(d);o&&!o.has(d)&&o.set(d,s.style[p]),s.style[p]=u})}function Ra(s,a){a.forEach((o,u)=>{const d=Zm(u);s.style[d]=""})}function hu(s){return Array.isArray(s)?1==s.length?s[0]:function jm(s,a=null){return{type:Ot.Sequence,steps:s,options:a}}(s):s}const pu=new RegExp("{{\\s*(.+?)\\s*}}","g");function fu(s){let a=[];if("string"==typeof s){let o;for(;o=pu.exec(s);)a.push(o[1]);pu.lastIndex=0}return a}function il(s,a,o){const u=`${s}`,d=u.replace(pu,(p,b)=>{let I=a[b];return null==I&&(o.push(function el(){return new M.buA(3003,!1)}()),I=""),I.toString()});return d==u?s:d}const Jm=/-+([a-z0-9])/g;function Zm(s){return s.replace(Jm,(...a)=>a[1].toUpperCase())}function xo(s,a,o){switch(a.type){case Ot.Trigger:return s.visitTrigger(a,o);case Ot.State:return s.visitState(a,o);case Ot.Transition:return s.visitTransition(a,o);case Ot.Sequence:return s.visitSequence(a,o);case Ot.Group:return s.visitGroup(a,o);case Ot.Animate:return s.visitAnimate(a,o);case Ot.Keyframes:return s.visitKeyframes(a,o);case Ot.Style:return s.visitStyle(a,o);case Ot.Reference:return s.visitReference(a,o);case Ot.AnimateChild:return s.visitAnimateChild(a,o);case Ot.AnimateRef:return s.visitAnimateRef(a,o);case Ot.Query:return s.visitQuery(a,o);case Ot.Stagger:return s.visitStagger(a,o);default:throw function ef(){return new M.buA(3004,!1)}()}}function th(s,a){return window.getComputedStyle(s)[a]}let yu=(()=>{class s{validateStyleProperty(o){return function hf(s){ya||(ya=function uu(){return typeof document<"u"?document.body:null}()||{},zm=!!ya.style&&"WebkitAppearance"in ya.style);let a=!0;return ya.style&&!function mf(s){return"ebkit"==s.substring(1,6)}(s)&&(a=s in ya.style,!a&&zm&&(a="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in ya.style)),a}(o)}containsElement(o,u){return Yc(o,u)}getParentElement(o){return Xc(o)}query(o,u,d){return Jc(o,u,d)}computeStyle(o,u,d){return d||""}animate(o,u,d,p,b,I=[],B){return new Pi(d,p)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();class td{static NOOP=new yu}class nh{}const Vg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rh extends nh{normalizePropertyName(a,o){return Zm(a)}normalizeStyleValue(a,o,u,d){let p="";const b=u.toString().trim();if(Vg.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)p="px";else{const I=u.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&d.push(function Vm(){return new M.buA(3005,!1)}())}return b+p}}const gu=new Set(["true","1"]),Ha=new Set(["false","0"]);function od(s,a){const o=gu.has(s)||Ha.has(s),u=gu.has(a)||Ha.has(a);return(d,p)=>{let b="*"==s||s==d,I="*"==a||a==p;return!b&&o&&"boolean"==typeof d&&(b=d?gu.has(s):Ha.has(s)),!I&&u&&"boolean"==typeof p&&(I=p?gu.has(a):Ha.has(a)),b&&I}}const zg=new RegExp("s*:selfs*,?","g");function ad(s,a,o,u){return new gf(s).build(a,o,u)}class gf{_driver;constructor(a){this._driver=a}build(a,o,u){const d=new lh(o);return this._resetContextStyleTimingState(d),xo(this,hu(a),d)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,o){let u=o.queryCount=0,d=o.depCount=0;const p=[],b=[];return"@"==a.name.charAt(0)&&o.errors.push(function iu(){return new M.buA(3006,!1)}()),a.definitions.forEach(I=>{if(this._resetContextStyleTimingState(o),I.type==Ot.State){const B=I,J=B.name;J.toString().split(/\s*,\s*/).forEach(we=>{B.name=we,p.push(this.visitState(B,o))}),B.name=J}else if(I.type==Ot.Transition){const B=this.visitTransition(I,o);u+=B.queryCount,d+=B.depCount,b.push(B)}else o.errors.push(function Og(){return new M.buA(3007,!1)}())}),{type:Ot.Trigger,name:a.name,states:p,transitions:b,queryCount:u,depCount:d,options:null}}visitState(a,o){const u=this.visitStyle(a.styles,o),d=a.options&&a.options.params||null;if(u.containsDynamicStyles){const p=new Set,b=d||{};u.styles.forEach(I=>{I instanceof Map&&I.forEach(B=>{fu(B).forEach(J=>{b.hasOwnProperty(J)||p.add(J)})})}),p.size&&o.errors.push(function Pg(){return new M.buA(3008,!1)}(0,p.values()))}return{type:Ot.State,name:a.name,style:u,options:d?{params:d}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const u=xo(this,hu(a.animation),o),d=function sl(s,a){const o=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(u=>function nd(s,a,o){if(":"==s[0]){const B=function rd(s,a){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return a.push(function Fg(){return new M.buA(3016,!1)}()),"* => *"}}(s,o);if("function"==typeof B)return void a.push(B);s=B}const u=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function af(){return new M.buA(3015,!1)}()),a;const d=u[1],p=u[2],b=u[3];a.push(od(d,b)),"<"==p[0]&&("*"!=d||"*"!=b)&&a.push(od(b,d))}(u,o,a)):o.push(s),o}(a.expr,o.errors);return{type:Ot.Transition,matchers:d,animation:u,queryCount:o.queryCount,depCount:o.depCount,options:Ni(a.options)}}visitSequence(a,o){return{type:Ot.Sequence,steps:a.steps.map(u=>xo(this,u,o)),options:Ni(a.options)}}visitGroup(a,o){const u=o.currentTime;let d=0;const p=a.steps.map(b=>{o.currentTime=u;const I=xo(this,b,o);return d=Math.max(d,o.currentTime),I});return o.currentTime=d,{type:Ot.Group,steps:p,options:Ni(a.options)}}visitAnimate(a,o){const u=function bu(s,a){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return id(ps(s,a).duration,0,"");const o=s;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=id(0,0,"");return p.dynamic=!0,p.strValue=o,p}const d=ps(o,a);return id(d.duration,d.delay,d.easing)}(a.timings,o.errors);o.currentAnimateTimings=u;let d,p=a.styles?a.styles:Bm({});if(p.type==Ot.Keyframes)d=this.visitKeyframes(p,o);else{let b=a.styles,I=!1;if(!b){I=!0;const J={};u.easing&&(J.easing=u.easing),b=Bm(J)}o.currentTime+=u.duration+u.delay;const B=this.visitStyle(b,o);B.isEmptyStep=I,d=B}return o.currentAnimateTimings=null,{type:Ot.Animate,timings:u,style:d,options:null}}visitStyle(a,o){const u=this._makeStyleAst(a,o);return this._validateStyleAst(u,o),u}_makeStyleAst(a,o){const u=[],d=Array.isArray(a.styles)?a.styles:[a.styles];for(let I of d)"string"==typeof I?I===Ua?u.push(I):o.errors.push(tl()):u.push(new Map(Object.entries(I)));let p=!1,b=null;return u.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(b=I.get("easing"),I.delete("easing")),!p))for(let B of I.values())if(B.toString().indexOf("{{")>=0){p=!0;break}}),{type:Ot.Style,styles:u,easing:b,offset:a.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(a,o){const u=o.currentAnimateTimings;let d=o.currentTime,p=o.currentTime;u&&p>0&&(p-=u.duration+u.delay),a.styles.forEach(b=>{"string"!=typeof b&&b.forEach((I,B)=>{const J=o.collectedStyles.get(o.currentQuerySelector),we=J.get(B);let Oe=!0;we&&(p!=d&&p>=we.startTime&&d<=we.endTime&&(o.errors.push(function tf(){return new M.buA(3010,!1)}()),Oe=!1),p=we.startTime),Oe&&J.set(B,{startTime:p,endTime:d}),o.options&&function ff(s,a,o){const u=a.params||{},d=fu(s);d.length&&d.forEach(p=>{u.hasOwnProperty(p)||o.push(function Hc(){return new M.buA(3001,!1)}())})}(I,o.options,o.errors)})})}visitKeyframes(a,o){const u={type:Ot.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function su(){return new M.buA(3011,!1)}()),u;let p=0;const b=[];let I=!1,B=!1,J=0;const we=a.steps.map(Et=>{const Ht=this._makeStyleAst(Et,o);let nn=null!=Ht.offset?Ht.offset:function _u(s){if("string"==typeof s)return null;let a=null;if(Array.isArray(s))s.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;a=parseFloat(u.get("offset")),u.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const o=s;a=parseFloat(o.get("offset")),o.delete("offset")}return a}(Ht.styles),Nt=0;return null!=nn&&(p++,Nt=Ht.offset=nn),B=B||Nt<0||Nt>1,I=I||Nt<J,J=Nt,b.push(Nt),Ht});B&&o.errors.push(function Wc(){return new M.buA(3012,!1)}()),I&&o.errors.push(function nf(){return new M.buA(3200,!1)}());const Oe=a.steps.length;let ot=0;p>0&&p<Oe?o.errors.push(function Ng(){return new M.buA(3202,!1)}()):0==p&&(ot=1/(Oe-1));const Ye=Oe-1,Ze=o.currentTime,gt=o.currentAnimateTimings,ut=gt.duration;return we.forEach((Et,Ht)=>{const nn=ot>0?Ht==Ye?1:ot*Ht:b[Ht],Nt=nn*ut;o.currentTime=Ze+gt.delay+Nt,gt.duration=Nt,this._validateStyleAst(Et,o),Et.offset=nn,u.styles.push(Et)}),u}visitReference(a,o){return{type:Ot.Reference,animation:xo(this,hu(a.animation),o),options:Ni(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:Ot.AnimateChild,options:Ni(a.options)}}visitAnimateRef(a,o){return{type:Ot.AnimateRef,animation:this.visitReference(a.animation,o),options:Ni(a.options)}}visitQuery(a,o){const u=o.currentQuerySelector,d=a.options||{};o.queryCount++,o.currentQuery=a;const[p,b]=function vu(s){const a=!!s.split(/\s*,\s*/).find(o=>":self"==o);return a&&(s=s.replace(zg,"")),s=s.replace(/@\*/g,mu).replace(/@\w+/g,o=>mu+"-"+o.slice(1)).replace(/:animating/g,Zc),[s,a]}(a.selector);o.currentQuerySelector=u.length?u+" "+p:p,Mo(o.collectedStyles,o.currentQuerySelector,new Map);const I=xo(this,hu(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:Ot.Query,selector:p,limit:d.limit||0,optional:!!d.optional,includeSelf:b,animation:I,originalSelector:a.selector,options:Ni(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push(function Lg(){return new M.buA(3013,!1)}());const u="full"===a.timings?{duration:0,delay:0,easing:"full"}:ps(a.timings,o.errors,!0);return{type:Ot.Stagger,animation:xo(this,hu(a.animation),o),timings:u,options:null}}}class lh{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(a){this.errors=a}}function Ni(s){return s?(s={...s}).params&&(s.params=function vf(s){return s?{...s}:null}(s.params)):s={},s}function id(s,a,o){return{duration:s,delay:a,easing:o}}function sd(s,a,o,u,d,p,b=null,I=!1){return{type:1,element:s,keyframes:a,preStyleProps:o,postStyleProps:u,duration:d,delay:p,totalTime:d+p,easing:b,subTimeline:I}}class ll{_map=new Map;get(a){return this._map.get(a)||[]}append(a,o){let u=this._map.get(a);u||this._map.set(a,u=[]),u.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const _f=new RegExp(":enter","g"),bf=new RegExp(":leave","g");function wu(s,a,o,u,d,p=new Map,b=new Map,I,B,J=[]){return(new wf).buildKeyframes(s,a,o,u,d,p,b,I,B,J)}class wf{buildKeyframes(a,o,u,d,p,b,I,B,J,we=[]){J=J||new ll;const Oe=new Eu(a,o,J,d,p,we,[]);Oe.options=B;const ot=B.delay?$a(B.delay):0;Oe.currentTimeline.delayNextStep(ot),Oe.currentTimeline.setStyles([b],null,Oe.errors,B),xo(this,u,Oe);const Ye=Oe.timelines.filter(Ze=>Ze.containsAnimation());if(Ye.length&&I.size){let Ze;for(let gt=Ye.length-1;gt>=0;gt--){const ut=Ye[gt];if(ut.element===o){Ze=ut;break}}Ze&&!Ze.allowOnlyTimelineStyles()&&Ze.setStyles([I],null,Oe.errors,B)}return Ye.length?Ye.map(Ze=>Ze.buildKeyframes()):[sd(o,[],[],[],0,ot,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const u=o.subInstructions.get(o.element);if(u){const d=o.createSubContext(a.options),p=o.currentTimeline.currentTime,b=this._visitSubInstructions(u,d,d.options);p!=b&&o.transformIntoNewTimeline(b)}o.previousNode=a}visitAnimateRef(a,o){const u=o.createSubContext(a.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],o,u),this.visitReference(a.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=a}_applyAnimationRefDelays(a,o,u){for(const d of a){const p=d?.delay;if(p){const b="number"==typeof p?p:$a(il(p,d?.params??{},o.errors));u.delayNextStep(b)}}}_visitSubInstructions(a,o,u){let p=o.currentTimeline.currentTime;const b=null!=u.duration?$a(u.duration):null,I=null!=u.delay?$a(u.delay):null;return 0!==b&&a.forEach(B=>{const J=o.appendInstructionToTimeline(B,b,I);p=Math.max(p,J.duration+J.delay)}),p}visitReference(a,o){o.updateOptions(a.options,!0),xo(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const u=o.subContextCount;let d=o;const p=a.options;if(p&&(p.params||p.delay)&&(d=o.createSubContext(p),d.transformIntoNewTimeline(),null!=p.delay)){d.previousNode.type==Ot.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=cl);const b=$a(p.delay);d.delayNextStep(b)}a.steps.length&&(a.steps.forEach(b=>xo(this,b,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>u&&d.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const u=[];let d=o.currentTimeline.currentTime;const p=a.options&&a.options.delay?$a(a.options.delay):0;a.steps.forEach(b=>{const I=o.createSubContext(a.options);p&&I.delayNextStep(p),xo(this,b,I),d=Math.max(d,I.currentTimeline.currentTime),u.push(I.currentTimeline)}),u.forEach(b=>o.currentTimeline.mergeTimelineCollectedStyles(b)),o.transformIntoNewTimeline(d),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const u=a.strValue;return ps(o.params?il(u,o.params,o.errors):u,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const u=o.currentAnimateTimings=this._visitTiming(a.timings,o),d=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),d.snapshotCurrentStyles());const p=a.style;p.type==Ot.Keyframes?this.visitKeyframes(p,o):(o.incrementTime(u.duration),this.visitStyle(p,o),d.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const u=o.currentTimeline,d=o.currentAnimateTimings;!d&&u.hasCurrentStyleProperties()&&u.forwardFrame();const p=d&&d.easing||a.easing;a.isEmptyStep?u.applyEmptyStep(p):u.setStyles(a.styles,p,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const u=o.currentAnimateTimings,d=o.currentTimeline.duration,p=u.duration,I=o.createSubContext().currentTimeline;I.easing=u.easing,a.styles.forEach(B=>{I.forwardTime((B.offset||0)*p),I.setStyles(B.styles,B.easing,o.errors,o.options),I.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(I),o.transformIntoNewTimeline(d+p),o.previousNode=a}visitQuery(a,o){const u=o.currentTimeline.currentTime,d=a.options||{},p=d.delay?$a(d.delay):0;p&&(o.previousNode.type===Ot.Style||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=cl);let b=u;const I=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!d.optional,o.errors);o.currentQueryTotal=I.length;let B=null;I.forEach((J,we)=>{o.currentQueryIndex=we;const Oe=o.createSubContext(a.options,J);p&&Oe.delayNextStep(p),J===o.element&&(B=Oe.currentTimeline),xo(this,a.animation,Oe),Oe.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Oe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(b),B&&(o.currentTimeline.mergeTimelineCollectedStyles(B),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const u=o.parentContext,d=o.currentTimeline,p=a.timings,b=Math.abs(p.duration),I=b*(o.currentQueryTotal-1);let B=b*o.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":B=I-B;break;case"full":B=u.currentStaggerTime}const we=o.currentTimeline;B&&we.delayNextStep(B);const Oe=we.currentTime;xo(this,a.animation,o),o.previousNode=a,u.currentStaggerTime=d.currentTime-Oe+(d.startTime-u.currentTimeline.startTime)}}const cl={};class Eu{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=cl;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(a,o,u,d,p,b,I,B){this._driver=a,this.element=o,this.subInstructions=u,this._enterClassName=d,this._leaveClassName=p,this.errors=b,this.timelines=I,this.currentTimeline=B||new ku(this._driver,o,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const u=a;let d=this.options;null!=u.duration&&(d.duration=$a(u.duration)),null!=u.delay&&(d.delay=$a(u.delay));const p=u.params;if(p){let b=d.params;b||(b=this.options.params={}),Object.keys(p).forEach(I=>{(!o||!b.hasOwnProperty(I))&&(b[I]=il(p[I],b,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const u=a.params={};Object.keys(o).forEach(d=>{u[d]=o[d]})}}return a}createSubContext(a=null,o,u){const d=o||this.element,p=new Eu(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,u||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(a),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(a){return this.previousNode=cl,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,u){const d={duration:o??a.duration,delay:this.currentTimeline.currentTime+(u??0)+a.delay,easing:""},p=new ch(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,d,a.stretchStartingKeyframe);return this.timelines.push(p),d}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,u,d,p,b){let I=[];if(d&&I.push(this.element),a.length>0){a=(a=a.replace(_f,"."+this._enterClassName)).replace(bf,"."+this._leaveClassName);let J=this._driver.query(this.element,a,1!=u);0!==u&&(J=u<0?J.slice(J.length+u,J.length):J.slice(0,u)),I.push(...J)}return!p&&0==I.length&&b.push(function rf(){return new M.buA(3014,!1)}()),I}}class ku{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(a,o,u,d){this._driver=a,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=d,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new ku(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles.set(a,o),this._globalTimelineStyles.set(a,o),this._styleSummary.set(a,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||Ua),this._currentKeyframe.set(o,Ua);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,u,d){o&&this._previousKeyframe.set("easing",o);const p=d&&d.params||{},b=function Du(s,a){const o=new Map;let u;return s.forEach(d=>{if("*"===d){u??=a.keys();for(let p of u)o.set(p,Ua)}else for(let[p,b]of d)o.set(p,b)}),o}(a,this._globalTimelineStyles);for(let[I,B]of b){const J=il(B,p,u);this._pendingStyles.set(I,J),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??Ua),this._updateStyle(I,J)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,o)=>{this._currentKeyframe.set(o,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,a)}))}snapshotCurrentStyles(){for(let[a,o]of this._localTimelineStyles)this._pendingStyles.set(a,o),this._updateStyle(a,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((o,u)=>{const d=this._styleSummary.get(u);(!d||o.time>d.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((I,B)=>{const J=new Map([...this._backFill,...I]);J.forEach((we,Oe)=>{"!"===we?a.add(Oe):we===Ua&&o.add(Oe)}),u||J.set("offset",B/this.duration),d.push(J)});const p=[...a.values()],b=[...o.values()];if(u){const I=d[0],B=new Map(I);I.set("offset",0),B.set("offset",1),d=[I,B]}return sd(this.element,d,p,b,this.duration,this.startTime,this.easing,!1)}}class ch extends ku{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(a,o,u,d,p,b,I=!1){super(a,o,b.delay),this.keyframes=u,this.preStyleProps=d,this.postStyleProps=p,this._stretchStartingKeyframe=I,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:u,easing:d}=this.timings;if(this._stretchStartingKeyframe&&o){const p=[],b=u+o,I=o/b,B=new Map(a[0]);B.set("offset",0),p.push(B);const J=new Map(a[0]);J.set("offset",dh(I)),p.push(J);const we=a.length-1;for(let Oe=1;Oe<=we;Oe++){let ot=new Map(a[Oe]);const Ye=ot.get("offset");ot.set("offset",dh((o+Ye*u)/b)),p.push(ot)}u=b,o=0,d="",a=p}return sd(this.element,a,this.preStyleProps,this.postStyleProps,u,o,d,!0)}}function dh(s,a=3){const o=Math.pow(10,a-1);return Math.round(s*o)/o}function Cu(s,a,o,u,d,p,b,I,B,J,we,Oe,ot){return{type:0,element:s,triggerName:a,isRemovalTransition:d,fromState:o,fromStyles:p,toState:u,toStyles:b,timelines:I,queriedElements:B,preStyleProps:J,postStyleProps:we,totalTime:Oe,errors:ot}}const ld={};class mh{_triggerName;ast;_stateStyles;constructor(a,o,u){this._triggerName=a,this.ast=o,this._stateStyles=u}match(a,o,u,d){return function ud(s,a,o,u,d){return s.some(p=>p(a,o,u,d))}(this.ast.matchers,a,o,u,d)}buildStyles(a,o,u){let d=this._stateStyles.get("*");return void 0!==a&&(d=this._stateStyles.get(a?.toString())||d),d?d.buildStyles(o,u):new Map}build(a,o,u,d,p,b,I,B,J,we){const Oe=[],ot=this.ast.options&&this.ast.options.params||ld,Ze=this.buildStyles(u,I&&I.params||ld,Oe),gt=B&&B.params||ld,ut=this.buildStyles(d,gt,Oe),Et=new Set,Ht=new Map,nn=new Map,Nt="void"===d,Un={params:li(gt,ot),delay:this.ast.options?.delay},Rr=we?[]:wu(a,o,this.ast.animation,p,b,Ze,ut,Un,J,Oe);let sn=0;return Rr.forEach(Or=>{sn=Math.max(Or.duration+Or.delay,sn)}),Oe.length?Cu(o,this._triggerName,u,d,Nt,Ze,ut,[],[],Ht,nn,sn,Oe):(Rr.forEach(Or=>{const ba=Or.element,Na=Mo(Ht,ba,new Set);Or.preStyleProps.forEach(yi=>Na.add(yi));const bl=Mo(nn,ba,new Set);Or.postStyleProps.forEach(yi=>bl.add(yi)),ba!==o&&Et.add(ba)}),Cu(o,this._triggerName,u,d,Nt,Ze,ut,Rr,[...Et.values()],Ht,nn,sn))}}function li(s,a){const o={...a};return Object.entries(s).forEach(([u,d])=>{null!=d&&(o[u]=d)}),o}class Su{styles;defaultParams;normalizer;constructor(a,o,u){this.styles=a,this.defaultParams=o,this.normalizer=u}buildStyles(a,o){const u=new Map,d=li(a,this.defaultParams);return this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((b,I)=>{b&&(b=il(b,d,o));const B=this.normalizer.normalizePropertyName(I,o);b=this.normalizer.normalizeStyleValue(I,B,b,o),u.set(I,b)})}),u}}class dl{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(a,o,u){this.name=a,this.ast=o,this._normalizer=u,o.states.forEach(d=>{this.states.set(d.name,new Su(d.style,d.options&&d.options.params||{},u))}),ph(this.states,"true","1"),ph(this.states,"false","0"),o.transitions.forEach(d=>{this.transitionFactories.push(new mh(a,d,this.states))}),this.fallbackTransition=function Ef(s,a){return new mh(s,{type:Ot.Transition,animation:{type:Ot.Sequence,steps:[],options:null},matchers:[(b,I)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,u,d){return this.transitionFactories.find(b=>b.match(a,o,u,d))||null}matchStyles(a,o,u){return this.fallbackTransition.buildStyles(a,o,u)}}function ph(s,a,o){s.has(a)?s.has(o)||s.set(o,s.get(a)):s.has(o)&&s.set(a,s.get(o))}const kf=new ll;class ui{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u}register(a,o){const u=[],p=ad(this._driver,o,u,[]);if(u.length)throw function uf(){return new M.buA(3503,!1)}();this._animations.set(a,p)}_buildPlayer(a,o,u){const d=a.element,p=si(this._normalizer,a.keyframes,o,u);return this._driver.animate(d,p,a.duration,a.delay,a.easing,[],!0)}create(a,o,u={}){const d=[],p=this._animations.get(a);let b;const I=new Map;if(p?(b=wu(this._driver,o,p,cu,hs,new Map,new Map,u,kf,d),b.forEach(we=>{const Oe=Mo(I,we.element,new Map);we.postStyleProps.forEach(ot=>Oe.set(ot,null))})):(d.push(function zc(){return new M.buA(3300,!1)}()),b=[]),d.length)throw function nl(){return new M.buA(3504,!1)}();I.forEach((we,Oe)=>{we.forEach((ot,Ye)=>{we.set(Ye,this._driver.computeStyle(Oe,Ye,Ua))})});const J=Va(b.map(we=>{const Oe=I.get(we.element);return this._buildPlayer(we,new Map,Oe)}));return this._playersById.set(a,J),J.onDestroy(()=>this.destroy(a)),this.players.push(J),J}destroy(a){const o=this._getPlayer(a);o.destroy(),this._playersById.delete(a);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(a){const o=this._playersById.get(a);if(!o)throw function Kc(){return new M.buA(3301,!1)}();return o}listen(a,o,u,d){const p=qc(o,"","","");return al(this._getPlayer(a),u,p,d),()=>{}}command(a,o,u,d){if("register"==u)return void this.register(a,d[0]);if("create"==u)return void this.create(a,o,d[0]||{});const p=this._getPlayer(a);switch(u){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(a)}}}const fs="ng-animate-queued",ci="ng-animate-disabled",fh=[],yh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class dd{namespaceId;value;options;get params(){return this.options.params}constructor(a,o=""){this.namespaceId=o;const u=a&&a.hasOwnProperty("value");if(this.value=function Af(s){return s??null}(u?a.value:a),u){const{value:p,...b}=a;this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const o=a.params;if(o){const u=this.options.params;Object.keys(o).forEach(d=>{null==u[d]&&(u[d]=o[d])})}}}const gs="void",Mu=new dd(gs);class gh{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(a,o,u){this.id=a,this.hostElement=o,this._engine=u,this._hostClassName="ng-tns-"+a,Wo(o,this._hostClassName)}listen(a,o,u,d){if(!this._triggers.has(o))throw function lu(){return new M.buA(3302,!1)}();if(null==u||0==u.length)throw function $m(){return new M.buA(3303,!1)}();if(!function Mf(s){return"start"==s||"done"==s}(u))throw function rl(){return new M.buA(3400,!1)}();const p=Mo(this._elementListeners,a,[]),b={name:o,phase:u,callback:d};p.push(b);const I=Mo(this._engine.statesByElement,a,new Map);return I.has(o)||(Wo(a,du),Wo(a,du+"-"+o),I.set(o,Mu)),()=>{this._engine.afterFlush(()=>{const B=p.indexOf(b);B>=0&&p.splice(B,1),this._triggers.has(o)||I.delete(o)})}}register(a,o){return!this._triggers.has(a)&&(this._triggers.set(a,o),!0)}_getTrigger(a){const o=this._triggers.get(a);if(!o)throw function Hm(){return new M.buA(3401,!1)}();return o}trigger(a,o,u,d=!0){const p=this._getTrigger(o),b=new md(this.id,o,a);let I=this._engine.statesByElement.get(a);I||(Wo(a,du),Wo(a,du+"-"+o),this._engine.statesByElement.set(a,I=new Map));let B=I.get(o);const J=new dd(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&B&&J.absorbOptions(B.options),I.set(o,J),B||(B=Mu),J.value!==gs&&B.value===J.value){if(!function Rf(s,a){const o=Object.keys(s),u=Object.keys(a);if(o.length!=u.length)return!1;for(let d=0;d<o.length;d++){const p=o[d];if(!a.hasOwnProperty(p)||s[p]!==a[p])return!1}return!0}(B.params,J.params)){const gt=[],ut=p.matchStyles(B.value,B.params,gt),Et=p.matchStyles(J.value,J.params,gt);gt.length?this._engine.reportError(gt):this._engine.afterFlush(()=>{Ra(a,ut),To(a,Et)})}return}const ot=Mo(this._engine.playersByElement,a,[]);ot.forEach(gt=>{gt.namespaceId==this.id&&gt.triggerName==o&&gt.queued&&gt.destroy()});let Ye=p.matchTransition(B.value,J.value,a,J.params),Ze=!1;if(!Ye){if(!d)return;Ye=p.fallbackTransition,Ze=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:Ye,fromState:B,toState:J,player:b,isFallbackTransition:Ze}),Ze||(Wo(a,fs),b.onStart(()=>{di(a,fs)})),b.onDone(()=>{let gt=this.players.indexOf(b);gt>=0&&this.players.splice(gt,1);const ut=this._engine.playersByElement.get(a);if(ut){let Et=ut.indexOf(b);Et>=0&&ut.splice(Et,1)}}),this.players.push(b),ot.push(b),b}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(o=>o.delete(a)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(d=>d.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const u=this._engine.driver.query(a,mu,!0);u.forEach(d=>{if(d[ga])return;const p=this._engine.fetchNamespacesByElement(d);p.size?p.forEach(b=>b.triggerLeaveAnimation(d,o,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(a,o,u,d){const p=this._engine.statesByElement.get(a),b=new Map;if(p){const I=[];if(p.forEach((B,J)=>{if(b.set(J,B.value),this._triggers.has(J)){const we=this.trigger(a,J,gs,d);we&&I.push(we)}}),I.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,b),u&&Va(I).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),u=this._engine.statesByElement.get(a);if(o&&u){const d=new Set;o.forEach(p=>{const b=p.name;if(d.has(b))return;d.add(b);const B=this._triggers.get(b).fallbackTransition,J=u.get(b)||Mu,we=new dd(gs),Oe=new md(this.id,b,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:b,transition:B,fromState:J,toState:we,player:Oe,isFallbackTransition:!0})})}}removeNode(a,o){const u=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let d=!1;if(u.totalAnimations){const p=u.players.length?u.playersByQueriedElement.get(a):[];if(p&&p.length)d=!0;else{let b=a;for(;b=b.parentNode;)if(u.statesByElement.get(b)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(a),d)u.markElementAsRemoved(this.id,a,!1,o);else{const p=a[ga];(!p||p===yh)&&(u.afterFlush(()=>this.clearElementCache(a)),u.destroyInnerAnimations(a),u._onRemovalComplete(a,o))}}insertNode(a,o){Wo(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(u=>{const d=u.player;if(d.destroyed)return;const p=u.element,b=this._elementListeners.get(p);b&&b.forEach(I=>{if(I.name==u.triggerName){const B=qc(p,u.triggerName,u.fromState.value,u.toState.value);B._data=a,al(u.player,I.phase,B,I.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):o.push(u)}),this._queue=[],o.sort((u,d)=>{const p=u.transition.ast.depCount,b=d.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(u.element,d.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}}class vh{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(a,o)=>{};_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}constructor(a,o,u){this.bodyNode=a,this.driver=o,this._normalizer=u}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&a.push(u)})}),a}createNamespace(a,o){const u=new gh(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[a]=u}_balanceNamespaceList(a,o){const u=this._namespaceList,d=this.namespacesByHostElement;if(u.length-1>=0){let b=!1,I=this.driver.getParentElement(o);for(;I;){const B=d.get(I);if(B){const J=u.indexOf(B);u.splice(J+1,0,a),b=!0;break}I=this.driver.getParentElement(I)}b||u.unshift(a)}else u.push(a);return d.set(o,a),a}register(a,o){let u=this._namespaceLookup[a];return u||(u=this.createNamespace(a,o)),u}registerTrigger(a,o,u){let d=this._namespaceLookup[a];d&&d.register(o,u)&&this.totalAnimations++}destroy(a,o){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(a);this.namespacesByHostElement.delete(u.hostElement);const d=this._namespaceList.indexOf(u);d>=0&&this._namespaceList.splice(d,1),u.destroy(o),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,u=this.statesByElement.get(a);if(u)for(let d of u.values())if(d.namespaceId){const p=this._fetchNamespace(d.namespaceId);p&&o.add(p)}return o}trigger(a,o,u,d){if(Tu(o)){const p=this._fetchNamespace(a);if(p)return p.trigger(o,u,d),!0}return!1}insertNode(a,o,u,d){if(!Tu(o))return;const p=o[ga];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(o);b>=0&&this.collectedLeaveElements.splice(b,1)}if(a){const b=this._fetchNamespace(a);b&&b.insertNode(o,u)}d&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Wo(a,ci)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),di(a,ci))}removeNode(a,o,u){if(Tu(o)){const d=a?this._fetchNamespace(a):null;d?d.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u);const p=this.namespacesByHostElement.get(o);p&&p.id!==a&&p.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,u,d,p){this.collectedLeaveElements.push(o),o[ga]={namespaceId:a,setForRemoval:d,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:p}}listen(a,o,u,d,p){return Tu(o)?this._fetchNamespace(a).listen(o,u,d,p):()=>{}}_buildInstruction(a,o,u,d,p){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,u,d,a.fromState.options,a.toState.options,o,p)}destroyInnerAnimations(a){let o=this.driver.query(a,mu,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,Zc,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Va(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[ga];if(o&&o.setForRemoval){if(a[ga]=yh,o.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(ci)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,d)=>this._balanceNamespaceList(u,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Wo(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,a)}finally{for(let d=0;d<u.length;d++)u[d]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?Va(o).onDone(()=>{u.forEach(d=>d())}):u.forEach(d=>d())}}reportError(a){throw function cf(){return new M.buA(3402,!1)}()}_flushAnimations(a,o){const u=new ll,d=[],p=new Map,b=[],I=new Map,B=new Map,J=new Map,we=new Set;this.disabledNodes.forEach(_t=>{we.add(_t);const xt=this.driver.query(_t,".ng-animate-queued",!0);for(let Ct=0;Ct<xt.length;Ct++)we.add(xt[Ct])});const Oe=this.bodyNode,ot=Array.from(this.statesByElement.keys()),Ye=Iu(ot,this.collectedEnterElements),Ze=new Map;let gt=0;Ye.forEach((_t,xt)=>{const Ct=cu+gt++;Ze.set(xt,Ct),_t.forEach(Zt=>Wo(Zt,Ct))});const ut=[],Et=new Set,Ht=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const xt=this.collectedLeaveElements[_t],Ct=xt[ga];Ct&&Ct.setForRemoval&&(ut.push(xt),Et.add(xt),Ct.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(Zt=>Et.add(Zt)):Ht.add(xt))}const nn=new Map,Nt=Iu(ot,Array.from(Et));Nt.forEach((_t,xt)=>{const Ct=hs+gt++;nn.set(xt,Ct),_t.forEach(Zt=>Wo(Zt,Ct))}),a.push(()=>{Ye.forEach((_t,xt)=>{const Ct=Ze.get(xt);_t.forEach(Zt=>di(Zt,Ct))}),Nt.forEach((_t,xt)=>{const Ct=nn.get(xt);_t.forEach(Zt=>di(Zt,Ct))}),ut.forEach(_t=>{this.processLeaveNode(_t)})});const Un=[],Rr=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(o).forEach(Ct=>{const Zt=Ct.player,fr=Ct.element;if(Un.push(Zt),this.collectedEnterElements.length){const Pr=fr[ga];if(Pr&&Pr.setForMove){if(Pr.previousTriggersValues&&Pr.previousTriggersValues.has(Ct.triggerName)){const Bi=Pr.previousTriggersValues.get(Ct.triggerName),oa=this.statesByElement.get(Ct.element);if(oa&&oa.has(Ct.triggerName)){const Ds=oa.get(Ct.triggerName);Ds.value=Bi,oa.set(Ct.triggerName,Ds)}}return void Zt.destroy()}}const Ga=!Oe||!this.driver.containsElement(Oe,fr),vo=nn.get(fr),wa=Ze.get(fr),$n=this._buildInstruction(Ct,u,wa,vo,Ga);if($n.errors&&$n.errors.length)return void Rr.push($n);if(Ga)return Zt.onStart(()=>Ra(fr,$n.fromStyles)),Zt.onDestroy(()=>To(fr,$n.toStyles)),void d.push(Zt);if(Ct.isFallbackTransition)return Zt.onStart(()=>Ra(fr,$n.fromStyles)),Zt.onDestroy(()=>To(fr,$n.toStyles)),void d.push(Zt);const Nn=[];$n.timelines.forEach(Pr=>{Pr.stretchStartingKeyframe=!0,this.disabledNodes.has(Pr.element)||Nn.push(Pr)}),$n.timelines=Nn,u.append(fr,$n.timelines),b.push({instruction:$n,player:Zt,element:fr}),$n.queriedElements.forEach(Pr=>Mo(I,Pr,[]).push(Zt)),$n.preStyleProps.forEach((Pr,Bi)=>{if(Pr.size){let oa=B.get(Bi);oa||B.set(Bi,oa=new Set),Pr.forEach((Ds,Ku)=>oa.add(Ku))}}),$n.postStyleProps.forEach((Pr,Bi)=>{let oa=J.get(Bi);oa||J.set(Bi,oa=new Set),Pr.forEach((Ds,Ku)=>oa.add(Ku))})});if(Rr.length){const _t=[];Rr.forEach(xt=>{_t.push(function ol(){return new M.buA(3505,!1)}())}),Un.forEach(xt=>xt.destroy()),this.reportError(_t)}const sn=new Map,Or=new Map;b.forEach(_t=>{const xt=_t.element;u.has(xt)&&(Or.set(xt,xt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,sn))}),d.forEach(_t=>{const xt=_t.element;this._getPreviousPlayers(xt,!1,_t.namespaceId,_t.triggerName,null).forEach(Zt=>{Mo(sn,xt,[]).push(Zt),Zt.destroy()})});const ba=ut.filter(_t=>va(_t,B,J)),Na=new Map;xu(Na,this.driver,Ht,J,Ua).forEach(_t=>{va(_t,B,J)&&ba.push(_t)});const yi=new Map;Ye.forEach((_t,xt)=>{xu(yi,this.driver,new Set(_t),B,"!")}),ba.forEach(_t=>{const xt=Na.get(_t),Ct=yi.get(_t);Na.set(_t,new Map([...xt?.entries()??[],...Ct?.entries()??[]]))});const Wu=[],zu=[],ks={};b.forEach(_t=>{const{element:xt,player:Ct,instruction:Zt}=_t;if(u.has(xt)){if(we.has(xt))return Ct.onDestroy(()=>To(xt,Zt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Zt.totalTime),void d.push(Ct);let fr=ks;if(Or.size>1){let vo=xt;const wa=[];for(;vo=vo.parentNode;){const $n=Or.get(vo);if($n){fr=$n;break}wa.push(vo)}wa.forEach($n=>Or.set($n,fr))}const Ga=this._buildAnimation(Ct.namespaceId,Zt,sn,p,yi,Na);if(Ct.setRealPlayer(Ga),fr===ks)Wu.push(Ct);else{const vo=this.playersByElement.get(fr);vo&&vo.length&&(Ct.parentPlayer=Va(vo)),d.push(Ct)}}else Ra(xt,Zt.fromStyles),Ct.onDestroy(()=>To(xt,Zt.toStyles)),zu.push(Ct),we.has(xt)&&d.push(Ct)}),zu.forEach(_t=>{const xt=p.get(_t.element);if(xt&&xt.length){const Ct=Va(xt);_t.setRealPlayer(Ct)}}),d.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<ut.length;_t++){const xt=ut[_t],Ct=xt[ga];if(di(xt,hs),Ct&&Ct.hasAnimation)continue;let Zt=[];if(I.size){let Ga=I.get(xt);Ga&&Ga.length&&Zt.push(...Ga);let vo=this.driver.query(xt,Zc,!0);for(let wa=0;wa<vo.length;wa++){let $n=I.get(vo[wa]);$n&&$n.length&&Zt.push(...$n)}}const fr=Zt.filter(Ga=>!Ga.destroyed);fr.length?xf(this,xt,fr):this.processLeaveNode(xt)}return ut.length=0,Wu.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const xt=this.players.indexOf(_t);this.players.splice(xt,1)}),_t.play()}),Wu}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,u,d,p){let b=[];if(o){const I=this.playersByQueriedElement.get(a);I&&(b=I)}else{const I=this.playersByElement.get(a);if(I){const B=!p||p==gs;I.forEach(J=>{J.queued||!B&&J.triggerName!=d||b.push(J)})}}return(u||d)&&(b=b.filter(I=>!(u&&u!=I.namespaceId||d&&d!=I.triggerName))),b}_beforeAnimationBuild(a,o,u){const p=o.element,b=o.isRemovalTransition?void 0:a,I=o.isRemovalTransition?void 0:o.triggerName;for(const B of o.timelines){const J=B.element,we=J!==p,Oe=Mo(u,J,[]);this._getPreviousPlayers(J,we,b,I,o.toState).forEach(Ye=>{const Ze=Ye.getRealPlayer();Ze.beforeDestroy&&Ze.beforeDestroy(),Ye.destroy(),Oe.push(Ye)})}Ra(p,o.fromStyles)}_buildAnimation(a,o,u,d,p,b){const I=o.triggerName,B=o.element,J=[],we=new Set,Oe=new Set,ot=o.timelines.map(Ze=>{const gt=Ze.element;we.add(gt);const ut=gt[ga];if(ut&&ut.removedBeforeQueried)return new Pi(Ze.duration,Ze.delay);const Et=gt!==B,Ht=function If(s){const a=[];return hd(s,a),a}((u.get(gt)||fh).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===gt),nn=p.get(gt),Nt=b.get(gt),Un=si(this._normalizer,Ze.keyframes,nn,Nt),Rr=this._buildPlayer(Ze,Un,Ht);if(Ze.subTimeline&&d&&Oe.add(gt),Et){const sn=new md(a,I,gt);sn.setRealPlayer(Rr),J.push(sn)}return Rr});J.forEach(Ze=>{Mo(this.playersByQueriedElement,Ze.element,[]).push(Ze),Ze.onDone(()=>function Sf(s,a,o){let u=s.get(a);if(u){if(u.length){const d=u.indexOf(o);u.splice(d,1)}0==u.length&&s.delete(a)}return u}(this.playersByQueriedElement,Ze.element,Ze))}),we.forEach(Ze=>Wo(Ze,Qm));const Ye=Va(ot);return Ye.onDestroy(()=>{we.forEach(Ze=>di(Ze,Qm)),To(B,o.toStyles)}),Oe.forEach(Ze=>{Mo(d,Ze,[]).push(Ye)}),Ye}_buildPlayer(a,o,u){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,u):new Pi(a.duration,a.delay)}}class md{namespaceId;triggerName;element;_player=new Pi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(a,o,u){this.namespaceId=a,this.triggerName=o,this.element=u}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((o,u)=>{o.forEach(d=>al(a,u,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){Mo(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function Tu(s){return s&&1===s.nodeType}function Tf(s,a){const o=s.style.display;return s.style.display=a??"none",o}function xu(s,a,o,u,d){const p=[];o.forEach(B=>p.push(Tf(B)));const b=[];u.forEach((B,J)=>{const we=new Map;B.forEach(Oe=>{const ot=a.computeStyle(J,Oe,d);we.set(Oe,ot),(!ot||0==ot.length)&&(J[ga]=Cf,b.push(J))}),s.set(J,we)});let I=0;return o.forEach(B=>Tf(B,p[I++])),b}function Iu(s,a){const o=new Map;if(s.forEach(I=>o.set(I,[])),0==a.length)return o;const d=new Set(a),p=new Map;function b(I){if(!I)return 1;let B=p.get(I);if(B)return B;const J=I.parentNode;return B=o.has(J)?J:d.has(J)?1:b(J),p.set(I,B),B}return a.forEach(I=>{const B=b(I);1!==B&&o.get(B).push(I)}),o}function Wo(s,a){s.classList?.add(a)}function di(s,a){s.classList?.remove(a)}function xf(s,a,o){Va(o).onDone(()=>s.processLeaveNode(a))}function hd(s,a){for(let o=0;o<s.length;o++){const u=s[o];u instanceof Uc?hd(u.players,a):a.push(u)}}function va(s,a,o){const u=o.get(s);if(!u)return!1;let d=a.get(s);return d?u.forEach(p=>d.add(p)):a.set(s,u),o.delete(s),!0}class Wa{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(a,o)=>{};constructor(a,o,u){this._driver=o,this._normalizer=u,this._transitionEngine=new vh(a.body,o,u),this._timelineEngine=new ui(a.body,o,u),this._transitionEngine.onRemovalComplete=(d,p)=>this.onRemovalComplete(d,p)}registerTrigger(a,o,u,d,p){const b=a+"-"+d;let I=this._triggerCache[b];if(!I){const B=[],we=ad(this._driver,p,B,[]);if(B.length)throw function sf(){return new M.buA(3404,!1)}();I=function hh(s,a,o){return new dl(s,a,o)}(d,we,this._normalizer),this._triggerCache[b]=I}this._transitionEngine.registerTrigger(o,d,I)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,u,d){this._transitionEngine.insertNode(a,o,u,d)}onRemove(a,o,u){this._transitionEngine.removeNode(a,o,u)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,u,d){if("@"==u.charAt(0)){const[p,b]=Qc(u);this._timelineEngine.command(p,o,b,d)}else this._transitionEngine.trigger(a,o,u,d)}listen(a,o,u,d,p){if("@"==u.charAt(0)){const[b,I]=Qc(u);return this._timelineEngine.listen(b,o,I,p)}return this._transitionEngine.listen(a,o,u,d,p)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}}let Li=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(o,u,d){this._element=o,this._startStyles=u,this._endStyles=d;let p=s.initialStylesByElement.get(o);p||s.initialStylesByElement.set(o,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&To(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(To(this._element,this._initialStyles),this._endStyles&&(To(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(Ra(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ra(this._element,this._endStyles),this._endStyles=null),To(this._element,this._initialStyles),this._state=3)}}return s})();function vs(s){let a=null;return s.forEach((o,u)=>{(function na(s){return"display"===s||"position"===s})(u)&&(a=a||new Map,a.set(u,o))}),a}class _s{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(a,o,u,d){this.element=a,this.keyframes=o,this.options=u,this._specialStyles=d,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const o=[];return a.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(a,o,u){return a.animate(this._convertKeyframesToObject(o),u)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,d)=>{"offset"!==d&&a.set(d,this._finished?u:th(this.element,d))}),this.currentSnapshot=a}triggerCallback(a){const o="start"===a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class pd{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}containsElement(a,o){return Yc(a,o)}getParentElement(a){return Xc(a)}query(a,o,u){return Jc(a,o,u)}computeStyle(a,o,u){return th(a,o)}animate(a,o,u,d,p,b=[]){const B={duration:u,delay:d,fill:0==d?"both":"forwards"};p&&(B.easing=p);const J=new Map,we=b.filter(Ye=>Ye instanceof _s);(function yf(s,a){return 0===s||0===a})(u,d)&&we.forEach(Ye=>{Ye.currentSnapshot.forEach((Ze,gt)=>J.set(gt,Ze))});let Oe=function Ym(s){return s.length?s[0]instanceof Map?s:s.map(a=>new Map(Object.entries(a))):[]}(o).map(Ye=>new Map(Ye));Oe=function eh(s,a,o){if(o.size&&a.length){let u=a[0],d=[];if(o.forEach((p,b)=>{u.has(b)||d.push(b),u.set(b,p)}),d.length)for(let p=1;p<a.length;p++){let b=a[p];d.forEach(I=>b.set(I,th(s,I)))}}return a}(a,Oe,J);const ot=function Bn(s,a){let o=null,u=null;return Array.isArray(a)&&a.length?(o=vs(a[0]),a.length>1&&(u=vs(a[a.length-1]))):a instanceof Map&&(o=vs(a)),o||u?new Li(s,o,u):null}(a,Oe);return new _s(a,Oe,B,ot)}}const _h="@.disabled";class bh{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(a,o,u,d){this.namespaceId=a,this.delegate=o,this.engine=u,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,u,d=!0){this.delegate.insertBefore(a,o,u),this.engine.onInsert(this.namespaceId,o,a,d)}removeChild(a,o,u){this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,u,d){this.delegate.setAttribute(a,o,u,d)}removeAttribute(a,o,u){this.delegate.removeAttribute(a,o,u)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,u,d){this.delegate.setStyle(a,o,u,d)}removeStyle(a,o,u){this.delegate.removeStyle(a,o,u)}setProperty(a,o,u){"@"==o.charAt(0)&&o==_h?this.disableAnimations(a,!!u):this.delegate.setProperty(a,o,u)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,u,d){return this.delegate.listen(a,o,u,d)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class Ru extends bh{factory;constructor(a,o,u,d,p){super(o,u,d,p),this.factory=a,this.namespaceId=o}setProperty(a,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==_h?this.disableAnimations(a,u=void 0===u||!!u):this.engine.process(this.namespaceId,a,o.slice(1),u):this.delegate.setProperty(a,o,u)}listen(a,o,u,d){if("@"==o.charAt(0)){const p=function Qg(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(a);let b=o.slice(1),I="";return"@"!=b.charAt(0)&&([b,I]=function mi(s){const a=s.indexOf(".");return[s.substring(0,a),s.slice(a+1)]}(b)),this.engine.listen(this.namespaceId,p,b,I,B=>{this.factory.scheduleListenerCallback(B._data||-1,u,B)})}return this.delegate.listen(a,o,u,d)}}class Pf{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(a,o,u){this.delegate=a,this.engine=o,this._zone=u,o.onRemovalComplete=(d,p)=>{p?.removeChild(null,d)}}createRenderer(a,o){const d=this.delegate.createRenderer(a,o);if(!a||!o?.data?.animation){const J=this._rendererCache;let we=J.get(d);return we||(we=new bh("",d,this.engine,()=>J.delete(d)),J.set(d,we)),we}const p=o.id,b=o.id+"-"+this._currentId;this._currentId++,this.engine.register(b,a);const I=J=>{Array.isArray(J)?J.forEach(I):this.engine.registerTrigger(p,b,a,J.name,J)};return o.data.animation.forEach(I),new Ru(this,b,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,o,u){if(a>=0&&a<this._microtaskId)return void this._zone.run(()=>o(u));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(p=>{const[b,I]=p;b(I)}),this._animationCallbacksBuffer=[]})}),d.push([o,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(a){this.engine.flush(),this.delegate.componentReplaced?.(a)}}const Eh=[{provide:td,useFactory:()=>new pd},{provide:fe.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:nh,useFactory:function Lf(){return new rh}},{provide:Wa,useClass:(()=>{class s extends Wa{constructor(o,u,d){super(o,u,d)}ngOnDestroy(){this.flush()}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL),M.KVO(td),M.KVO(nh))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:fe._9s,useFactory:function Ff(s,a,o){return new Pf(s,a,o)},deps:[Cr,Wa,fe.SKi]}]];V(467);class Ou{}class bs{}class _a{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(a){a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(o=>{const u=o.indexOf(":");if(u>0){const d=o.slice(0,u),p=o.slice(u+1).trim();this.addHeaderEntry(d,p)}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((o,u)=>{this.addHeaderEntry(u,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([o,u])=>{this.setHeaderEntries(o,u)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const o=this.headers.get(a.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,o){return this.clone({name:a,value:o,op:"a"})}set(a,o){return this.clone({name:a,value:o,op:"s"})}delete(a,o){return this.clone({name:a,value:o,op:"d"})}maybeSetNormalizedName(a,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,a)}init(){this.lazyInit&&(this.lazyInit instanceof _a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(o=>{this.headers.set(o,a.headers.get(o)),this.normalizedNames.set(o,a.normalizedNames.get(o))})}clone(a){const o=new _a;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof _a?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([a]),o}applyUpdate(a){const o=a.name.toLowerCase();switch(a.op){case"a":case"s":let u=a.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(a.name,o);const d=("a"===a.op?this.headers.get(o):void 0)||[];d.push(...u),this.headers.set(o,d);break;case"d":const p=a.value;if(p){let b=this.headers.get(o);if(!b)return;b=b.filter(I=>-1===p.indexOf(I)),0===b.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,b)}else this.headers.delete(o),this.normalizedNames.delete(o)}}addHeaderEntry(a,o){const u=a.toLowerCase();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(o):this.headers.set(u,[o])}setHeaderEntries(a,o){const u=(Array.isArray(o)?o:[o]).map(p=>p.toString()),d=a.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(a,d)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>a(this.normalizedNames.get(o),this.headers.get(o)))}}class Dh{encodeKey(a){return Ch(a)}encodeValue(a){return Ch(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const Uf=/%(\d[a-f0-9])/gi,Pu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ch(s){return encodeURIComponent(s).replace(Uf,(a,o)=>Pu[o]??a)}function Nu(s){return`${s}`}class za{map;encoder;updates=null;cloneFrom=null;constructor(a={}){if(this.encoder=a.encoder||new Dh,a.fromString){if(a.fromObject)throw new M.buA(2805,!1);this.map=function Bf(s,a){const o=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(d=>{const p=d.indexOf("="),[b,I]=-1==p?[a.decodeKey(d),""]:[a.decodeKey(d.slice(0,p)),a.decodeValue(d.slice(p+1))],B=o.get(b)||[];B.push(I),o.set(b,B)}),o}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(o=>{const u=a.fromObject[o],d=Array.isArray(u)?u.map(Nu):[Nu(u)];this.map.set(o,d)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const o=this.map.get(a);return o?o[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,o){return this.clone({param:a,value:o,op:"a"})}appendAll(a){const o=[];return Object.keys(a).forEach(u=>{const d=a[u];Array.isArray(d)?d.forEach(p=>{o.push({param:u,value:p,op:"a"})}):o.push({param:u,value:d,op:"a"})}),this.clone(o)}set(a,o){return this.clone({param:a,value:o,op:"s"})}delete(a,o){return this.clone({param:a,value:o,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const o=this.encoder.encodeKey(a);return this.map.get(a).map(u=>o+"="+this.encoder.encodeValue(u)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const o=new za({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(a),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const o=("a"===a.op?this.map.get(a.param):void 0)||[];o.push(Nu(a.value)),this.map.set(a.param,o);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let u=this.map.get(a.param)||[];const d=u.indexOf(Nu(a.value));-1!==d&&u.splice(d,1),u.length>0?this.map.set(a.param,u):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class fd{map=new Map;set(a,o){return this.map.set(a,o),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function Ah(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function yd(s){return typeof Blob<"u"&&s instanceof Blob}function Lu(s){return typeof FormData<"u"&&s instanceof FormData}const ws="Content-Type",gd="X-Request-URL",$f="text/plain",ju="application/json",Bu=`${ju}, ${$f}, */*`;class Es{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(a,o,u,d){let p;if(this.url=o,this.method=a.toUpperCase(),function Sh(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==u?u:null,p=d):p=u,p){if(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,this.keepalive=!!p.keepalive,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params),p.priority&&(this.priority=p.priority),p.cache&&(this.cache=p.cache),p.credentials&&(this.credentials=p.credentials),"number"==typeof p.timeout){if(p.timeout<1||!Number.isInteger(p.timeout))throw new Error("");this.timeout=p.timeout}p.mode&&(this.mode=p.mode),p.redirect&&(this.redirect=p.redirect),this.transferCache=p.transferCache}if(this.headers??=new _a,this.context??=new fd,this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=o;else{const I=o.indexOf("?");this.urlWithParams=o+(-1===I?"?":I<o.length-1?"&":"")+b}}else this.params=new za,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ah(this.body)||yd(this.body)||Lu(this.body)||function Mh(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)?this.body:this.body instanceof za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lu(this.body)?null:yd(this.body)?this.body.type||null:Ah(this.body)?null:"string"==typeof this.body?$f:this.body instanceof za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?ju:null}clone(a={}){const o=a.method||this.method,u=a.url||this.url,d=a.responseType||this.responseType,p=a.keepalive??this.keepalive,b=a.priority||this.priority,I=a.cache||this.cache,B=a.mode||this.mode,J=a.redirect||this.redirect,we=a.credentials||this.credentials,Oe=a.transferCache??this.transferCache,ot=a.timeout??this.timeout,Ye=void 0!==a.body?a.body:this.body,Ze=a.withCredentials??this.withCredentials,gt=a.reportProgress??this.reportProgress;let ut=a.headers||this.headers,Et=a.params||this.params;const Ht=a.context??this.context;return void 0!==a.setHeaders&&(ut=Object.keys(a.setHeaders).reduce((nn,Nt)=>nn.set(Nt,a.setHeaders[Nt]),ut)),a.setParams&&(Et=Object.keys(a.setParams).reduce((nn,Nt)=>nn.set(Nt,a.setParams[Nt]),Et)),new Es(o,u,Ye,{params:Et,headers:ut,context:Ht,reportProgress:gt,responseType:d,withCredentials:Ze,transferCache:Oe,keepalive:p,cache:I,priority:b,timeout:ot,mode:B,redirect:J,credentials:we})}}var Pa=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Pa||{});class hl{headers;status;statusText;url;ok;type;constructor(a,o=200,u="OK"){this.headers=a.headers||new _a,this.status=void 0!==a.status?a.status:o,this.statusText=a.statusText||u,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class Uu extends hl{constructor(a={}){super(a)}type=Pa.ResponseHeader;clone(a={}){return new Uu({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class pl extends hl{body;constructor(a={}){super(a),this.body=void 0!==a.body?a.body:null}type=Pa.Response;clone(a={}){return new pl({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Fi extends hl{name="HttpErrorResponse";message;error;ok=!1;constructor(a){super(a,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function fl(s,a){return{body:a,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect}}let Ih=(()=>{class s{handler;constructor(o){this.handler=o}request(o,u,d={}){let p;if(o instanceof Es)p=o;else{let B,J;B=d.headers instanceof _a?d.headers:new _a(d.headers),d.params&&(J=d.params instanceof za?d.params:new za({fromObject:d.params})),p=new Es(o,u,void 0!==d.body?d.body:null,{headers:B,context:d.context,params:J,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache,keepalive:d.keepalive,priority:d.priority,cache:d.cache,mode:d.mode,redirect:d.redirect,credentials:d.credentials})}const b=D(p).pipe(Fo(B=>this.handler.handle(B)));if(o instanceof Es||"events"===d.observe)return b;const I=b.pipe((0,kn.p)(B=>B instanceof pl));switch(d.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return I.pipe((0,Rt.T)(B=>{if(null!==B.body&&!(B.body instanceof ArrayBuffer))throw new M.buA(2806,!1);return B.body}));case"blob":return I.pipe((0,Rt.T)(B=>{if(null!==B.body&&!(B.body instanceof Blob))throw new M.buA(2807,!1);return B.body}));case"text":return I.pipe((0,Rt.T)(B=>{if(null!==B.body&&"string"!=typeof B.body)throw new M.buA(2808,!1);return B.body}));default:return I.pipe((0,Rt.T)(B=>B.body))}case"response":return I;default:throw new M.buA(2809,!1)}}delete(o,u={}){return this.request("DELETE",o,u)}get(o,u={}){return this.request("GET",o,u)}head(o,u={}){return this.request("HEAD",o,u)}jsonp(o,u){return this.request("JSONP",o,{params:(new za).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,u={}){return this.request("OPTIONS",o,u)}patch(o,u,d={}){return this.request("PATCH",o,fl(d,u))}post(o,u,d={}){return this.request("POST",o,fl(d,u))}put(o,u,d={}){return this.request("PUT",o,fl(d,u))}static \u0275fac=function(u){return new(u||s)(M.KVO(Ou))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const Oh=new M.nKC("");function zf(s,a){return a(s)}const gl=new M.nKC(""),Kf=new M.nKC(""),ji=new M.nKC("",{providedIn:"root",factory:()=>!0});let Gf=(()=>{class s extends Ou{backend;injector;chain=null;pendingTasks=(0,M.WQX)(M.u5s);contributeToStability=(0,M.WQX)(ji);constructor(o,u){super(),this.backend=o,this.injector=u}handle(o){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(gl),...this.injector.get(Kf,[])]));this.chain=u.reduceRight((d,p)=>function tv(s,a,o){return(u,d)=>(0,M.N4e)(o,()=>a(u,p=>s(p,d)))}(d,p,this.injector),zf)}if(this.contributeToStability){const u=this.pendingTasks.add();return this.chain(o,d=>this.backend.handle(d)).pipe(_i(u))}return this.chain(o,u=>this.backend.handle(u))}static \u0275fac=function(u){return new(u||s)(M.KVO(bs),M.KVO(M.uvJ))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const sv=/^\)\]\}',?\n/,Qf=RegExp(`^${gd}:`,"m");let hi=(()=>{class s{xhrFactory;constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new M.buA(-2800,!1);const u=this.xhrFactory;return D(null).pipe(Mn(()=>new Mr.c(p=>{const b=u.build();if(b.open(o.method,o.urlWithParams),o.withCredentials&&(b.withCredentials=!0),o.headers.forEach((ut,Et)=>b.setRequestHeader(ut,Et.join(","))),o.headers.has("Accept")||b.setRequestHeader("Accept",Bu),!o.headers.has(ws)){const ut=o.detectContentTypeHeader();null!==ut&&b.setRequestHeader(ws,ut)}if(o.timeout&&(b.timeout=o.timeout),o.responseType){const ut=o.responseType.toLowerCase();b.responseType="json"!==ut?ut:"text"}const I=o.serializeBody();let B=null;const J=()=>{if(null!==B)return B;const ut=b.statusText||"OK",Et=new _a(b.getAllResponseHeaders()),Ht=function jh(s){return"responseURL"in s&&s.responseURL?s.responseURL:Qf.test(s.getAllResponseHeaders())?s.getResponseHeader(gd):null}(b)||o.url;return B=new Uu({headers:Et,status:b.status,statusText:ut,url:Ht}),B},we=()=>{let{headers:ut,status:Et,statusText:Ht,url:nn}=J(),Nt=null;204!==Et&&(Nt=typeof b.response>"u"?b.responseText:b.response),0===Et&&(Et=Nt?200:0);let Un=Et>=200&&Et<300;if("json"===o.responseType&&"string"==typeof Nt){const Rr=Nt;Nt=Nt.replace(sv,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(sn){Nt=Rr,Un&&(Un=!1,Nt={error:sn,text:Nt})}}Un?(p.next(new pl({body:Nt,headers:ut,status:Et,statusText:Ht,url:nn||void 0})),p.complete()):p.error(new Fi({error:Nt,headers:ut,status:Et,statusText:Ht,url:nn||void 0}))},Oe=ut=>{const{url:Et}=J(),Ht=new Fi({error:ut,status:b.status||0,statusText:b.statusText||"Unknown Error",url:Et||void 0});p.error(Ht)};let ot=Oe;o.timeout&&(ot=ut=>{const{url:Et}=J(),Ht=new Fi({error:new DOMException("Request timed out","TimeoutError"),status:b.status||0,statusText:b.statusText||"Request timeout",url:Et||void 0});p.error(Ht)});let Ye=!1;const Ze=ut=>{Ye||(p.next(J()),Ye=!0);let Et={type:Pa.DownloadProgress,loaded:ut.loaded};ut.lengthComputable&&(Et.total=ut.total),"text"===o.responseType&&b.responseText&&(Et.partialText=b.responseText),p.next(Et)},gt=ut=>{let Et={type:Pa.UploadProgress,loaded:ut.loaded};ut.lengthComputable&&(Et.total=ut.total),p.next(Et)};return b.addEventListener("load",we),b.addEventListener("error",Oe),b.addEventListener("timeout",ot),b.addEventListener("abort",Oe),o.reportProgress&&(b.addEventListener("progress",Ze),null!==I&&b.upload&&b.upload.addEventListener("progress",gt)),b.send(I),p.next({type:Pa.Sent}),()=>{b.removeEventListener("error",Oe),b.removeEventListener("abort",Oe),b.removeEventListener("load",we),b.removeEventListener("timeout",ot),o.reportProgress&&(b.removeEventListener("progress",Ze),null!==I&&b.upload&&b.upload.removeEventListener("progress",gt)),b.readyState!==b.DONE&&b.abort()}})))}static \u0275fac=function(u){return new(u||s)(M.KVO(z))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const $u=new M.nKC(""),Yf=new M.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),kd=new M.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bh{}let Uh=(()=>{class s{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(o,u){this.doc=o,this.cookieName=u}getToken(){const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i(o,this.cookieName),this.lastCookieString=o),this.lastToken}static \u0275fac=function(u){return new(u||s)(M.KVO(M.qQL),M.KVO(Yf))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();function Dd(s,a){const o=s.url.toLowerCase();if(!(0,M.WQX)($u)||"GET"===s.method||"HEAD"===s.method||o.startsWith("http://")||o.startsWith("https://"))return a(s);const u=(0,M.WQX)(Bh).getToken(),d=(0,M.WQX)(kd);return null!=u&&!s.headers.has(d)&&(s=s.clone({headers:s.headers.set(d,u)})),a(s)}var ry=V(3077),oy=V(130),Sd=V(5343);const fi=new Mr.c(Sd.l),Ad="Service workers are disabled or not supported by this browser";class Hu{serviceWorker;worker;registration;events;constructor(a,o){if(this.serviceWorker=a,a){let u=null;const d=new rn.B;this.worker=new Mr.c(J=>(null!==u&&J.next(u),d.subscribe(we=>J.next(we))));const p=()=>{const{controller:J}=a;null!==J&&(u=J,d.next(u))};a.addEventListener("controllerchange",p),p(),this.registration=this.worker.pipe(Mn(()=>a.getRegistration().then(J=>{if(!J)throw new M.buA(5601,!1);return J})));const b=new rn.B;this.events=b.asObservable();const I=J=>{const{data:we}=J;we?.type&&b.next(we)};a.addEventListener("message",I),o?.get(fe.o8S,null,{optional:!0})?.onDestroy(()=>{a.removeEventListener("controllerchange",p),a.removeEventListener("message",I)})}else this.worker=this.events=this.registration=new Mr.c(u=>u.error(new M.buA(5601,!1)))}postMessage(a,o){return new Promise(u=>{this.worker.pipe(Tn(1)).subscribe(d=>{d.postMessage({action:a,...o}),u()})})}postMessageWithOperation(a,o,u){const d=this.waitForOperationCompleted(u),p=this.postMessage(a,o);return Promise.all([p,d]).then(([,b])=>b)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(a){let o;return o="string"==typeof a?u=>u.type===a:u=>a.includes(u.type),this.events.pipe((0,kn.p)(o))}nextEventOfType(a){return this.eventsOfType(a).pipe(Tn(1))}waitForOperationCompleted(a){return new Promise((o,u)=>{this.eventsOfType("OPERATION_COMPLETED").pipe((0,kn.p)(d=>d.nonce===a),Tn(1),(0,Rt.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).subscribe({next:o,error:u})})}get isEnabled(){return!!this.serviceWorker}}let ay=(()=>{class s{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new rn.B;constructor(o){if(this.sw=o,!o.isEnabled)return this.messages=fi,this.notificationClicks=fi,this.notificationCloses=fi,this.pushSubscriptionChanges=fi,void(this.subscription=fi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Rt.T)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Rt.T)(d=>d.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe((0,Rt.T)(d=>d.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe((0,Rt.T)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,Rt.T)(d=>d.pushManager));const u=this.pushManager.pipe(Mn(d=>d.getSubscription()));this.subscription=new Mr.c(d=>{const p=u.subscribe(d),b=this.subscriptionChanges.subscribe(d);return()=>{p.unsubscribe(),b.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Ad));const u={userVisibleOnly:!0};let d=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(d.length));for(let b=0;b<d.length;b++)p[b]=d.charCodeAt(b);return u.applicationServerKey=p,new Promise((b,I)=>{this.pushManager.pipe(Mn(B=>B.subscribe(u)),Tn(1)).subscribe({next:B=>{this.subscriptionChanges.next(B),b(B)},error:I})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ad));const o=u=>{if(null===u)throw new M.buA(5602,!1);return u.unsubscribe().then(d=>{if(!d)throw new M.buA(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((u,d)=>{this.subscription.pipe(Tn(1),Mn(o)).subscribe({next:u,error:d})})}decodeBase64(o){return atob(o)}static \u0275fac=function(u){return new(u||s)(M.KVO(Hu))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})(),iy=(()=>{class s{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled)return this.versionUpdates=fi,void(this.unrecoverable=fi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ad));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;const o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new M.buA(5601,!1));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(u){return new(u||s)(M.KVO(Hu))};static \u0275prov=M.jDH({token:s,factory:s.\u0275fac})}return s})();const Wh=new M.nKC("");function sy(){const s=(0,M.WQX)(_l);if(!("serviceWorker"in navigator)||!1===s.enabled)return;const a=(0,M.WQX)(Wh),o=(0,M.WQX)(fe.SKi),u=(0,M.WQX)(fe.o8S);o.runOutsideAngular(()=>{const d=navigator.serviceWorker,p=()=>d.controller?.postMessage({action:"INITIALIZE"});d.addEventListener("controllerchange",p),u.onDestroy(()=>{d.removeEventListener("controllerchange",p)})}),o.runOutsideAngular(()=>{let d;const{registrationStrategy:p}=s;if("function"==typeof p)d=new Promise(b=>p().subscribe(()=>b()));else{const[b,...I]=(p||"registerWhenStable:30000").split(":");switch(b){case"registerImmediately":d=Promise.resolve();break;case"registerWithDelay":d=Md(+I[0]||0);break;case"registerWhenStable":d=Promise.race([u.whenStable(),Md(+I[0])]);break;default:throw new M.buA(5600,!1)}}d.then(()=>{u.destroyed||navigator.serviceWorker.register(a,{scope:s.scope}).catch(b=>console.error((0,M.OsK)(5604,!1)))})})}function Md(s){return new Promise(a=>setTimeout(a,s))}function zh(s,a){return new Hu(!1!==s.enabled?navigator.serviceWorker:void 0,a)}class _l{enabled;scope;registrationStrategy}const pv=[{path:"",loadComponent:()=>V.e(622).then(V.bind(V,5622)).then(s=>s.ScenarioComponent)},{path:"potions",loadComponent:()=>Promise.all([V.e(53),V.e(559)]).then(V.bind(V,8559)).then(s=>s.AlchemyComponent)},{path:"armory",loadComponent:()=>Promise.all([V.e(53),V.e(699)]).then(V.bind(V,4699)).then(s=>s.ArmoryComponent)},{path:"**",redirectTo:""}];(function en(s,a){const o={rootComponent:s,...Fn(a)};return(0,X.TL3)(o)})(Qp,{providers:[function jf(){return(0,fe._jY)("NgEagerAnimations"),[...Eh]}(),function Vh(...s){const a=[Ih,hi,Gf,{provide:Ou,useExisting:Gf},{provide:bs,useFactory:()=>(0,M.WQX)(Oh,{optional:!0})??(0,M.WQX)(hi)},{provide:gl,useValue:Dd,multi:!0},{provide:$u,useValue:!0},{provide:Bh,useClass:Uh}];for(const o of s)a.push(...o.\u0275providers);return(0,M.EmA)(a)}(),function Up(s,...a){return(0,M.EmA)([{provide:qs,multi:!0,useValue:s},[],{provide:rt,useFactory:Vp,deps:[ii]},{provide:fe.iLQ,multi:!0,useFactory:Hp},a.map(o=>o.\u0275providers)])}(pv,function ou(){return function Ia(s,a){return{\u0275kind:s,\u0275providers:a}}(6,[{provide:E.hb,useClass:Xn.fw}])}()),Fm.Vh,ry.s,fo.J,oy.X,function Kh(s,a={}){return(0,M.EmA)([ay,iy,{provide:Wh,useValue:s},{provide:_l,useValue:a},{provide:Hu,useFactory:zh,deps:[_l,M.zZn]},(0,fe.phd)(sy)])}("ngsw-worker.js",{enabled:!(0,X.naY)(),registrationStrategy:"registerWhenStable:30000"})]}).catch(s=>console.error(s))},8496:(at,Ee,V)=>{"use strict";function E(i,z){return i.reduce((M,X,Z)=>(M[X]=z[Z],M),{})}V.d(Ee,{e:()=>E})},8666:function(at,Ee,V){"use strict";var E=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3608));Ee.default=class z{constructor(X,{headers:Z={},schema:Y,fetch:ie}){this.url=X,this.headers=new Headers(Z),this.schema=Y,this.fetch=ie}select(X,{head:Z=!1,count:Y}={}){const ie=Z?"HEAD":"GET";let ge=!1;const pe=(X??"*").split("").map(re=>/\s/.test(re)&&!ge?"":('"'===re&&(ge=!ge),re)).join("");return this.url.searchParams.set("select",pe),Y&&this.headers.append("Prefer",`count=${Y}`),new i.default({method:ie,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(X,{count:Z,defaultToNull:Y=!0}={}){var ie;if(Z&&this.headers.append("Prefer",`count=${Z}`),Y||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const pe=X.reduce((re,ce)=>re.concat(Object.keys(ce)),[]);if(pe.length>0){const re=[...new Set(pe)].map(ce=>`"${ce}"`);this.url.searchParams.set("columns",re.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(ie=this.fetch)&&void 0!==ie?ie:fetch})}upsert(X,{onConflict:Z,ignoreDuplicates:Y=!1,count:ie,defaultToNull:ge=!0}={}){var pe;if(this.headers.append("Prefer",`resolution=${Y?"ignore":"merge"}-duplicates`),void 0!==Z&&this.url.searchParams.set("on_conflict",Z),ie&&this.headers.append("Prefer",`count=${ie}`),ge||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const ce=X.reduce((de,ye)=>de.concat(Object.keys(ye)),[]);if(ce.length>0){const de=[...new Set(ce)].map(ye=>`"${ye}"`);this.url.searchParams.set("columns",de.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(pe=this.fetch)&&void 0!==pe?pe:fetch})}update(X,{count:Z}={}){var Y;return Z&&this.headers.append("Prefer",`count=${Z}`),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(Y=this.fetch)&&void 0!==Y?Y:fetch})}delete({count:X}={}){var Z;return X&&this.headers.append("Prefer",`count=${X}`),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}}},8750:(at,Ee,V)=>{"use strict";V.d(Ee,{Tg:()=>de});var E=V(1635),i=V(7441),z=V(9858),M=V(1985),X=V(5055),Z=V(7953),Y=V(591),ie=V(5397),ge=V(5196),pe=V(8071),re=V(5334),ce=V(3494);function de(_e){if(_e instanceof M.c)return _e;if(null!=_e){if((0,X.l)(_e))return function ye(_e){return new M.c(Te=>{const Se=_e[ce.s]();if((0,pe.T)(Se.subscribe))return Se.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,i.X)(_e))return function Pe(_e){return new M.c(Te=>{for(let Se=0;Se<_e.length&&!Te.closed;Se++)Te.next(_e[Se]);Te.complete()})}(_e);if((0,z.y)(_e))return function He(_e){return new M.c(Te=>{_e.then(Se=>{Te.closed||(Te.next(Se),Te.complete())},Se=>Te.error(Se)).then(null,re.m)})}(_e);if((0,Z.T)(_e))return Ge(_e);if((0,ie.x)(_e))return function ze(_e){return new M.c(Te=>{for(const Se of _e)if(Te.next(Se),Te.closed)return;Te.complete()})}(_e);if((0,ge.U)(_e))return function We(_e){return Ge((0,ge.C)(_e))}(_e)}throw(0,Y.L)(_e)}function Ge(_e){return new M.c(Te=>{(function bt(_e,Te){var Se,Ve,Fe,qe;return(0,E.sH)(this,void 0,void 0,function*(){try{for(Se=(0,E.xN)(_e);!(Ve=yield Se.next()).done;)if(Te.next(Ve.value),Te.closed)return}catch(It){Fe={error:It}}finally{try{Ve&&!Ve.done&&(qe=Se.return)&&(yield qe.call(Se))}finally{if(Fe)throw Fe.error}}Te.complete()})})(_e,Te).catch(Se=>Te.error(Se))})}},8793:(at,Ee,V)=>{"use strict";V.d(Ee,{x:()=>X});var E=V(6365),z=V(3794),M=V(6648);function X(...Z){return function i(){return(0,E.U)(1)}()((0,M.H)(Z,(0,z.lI)(Z)))}},8880:(at,Ee,V)=>{"use strict";V.d(Ee,{Mm:()=>E,RJ:()=>z,e_:()=>i});var E=function(M){return M.poison="poison",M.wound="wound",M.muddle="muddle",M.immobilize="immobilize",M.bane="bane",M.stun="stun",M.disarm="disarm",M.brittle="brittle",M.ward="ward",M.invisible="invisible",M.strengthen="strengthen",M.regenerate="regenerate",M}(E||{}),i=function(M){return M.None="none",M.Full="full",M.Half="half",M}(i||{}),z=function(M){return M.Fire="fire",M.Ice="ice",M.Earth="earth",M.Air="air",M.Light="light",M.Dark="dark",M}(z||{})},9172:(at,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>M});var E=V(8793),i=V(3794),z=V(9974);function M(...X){const Z=(0,i.lI)(X);return(0,z.N)((Y,ie)=>{(Z?(0,E.x)(X,Y,Z):(0,E.x)(X,Y)).subscribe(ie)})}},9270:(at,Ee,V)=>{"use strict";V.d(Ee,{f:()=>E});const E={setTimeout(i,z,...M){const{delegate:X}=E;return X?.setTimeout?X.setTimeout(i,z,...M):setTimeout(i,z,...M)},clearTimeout(i){const{delegate:z}=E;return(z?.clearTimeout||clearTimeout)(i)},delegate:void 0}},9293:at=>{function Ee(E,i,z,M,X,Z,Y){try{var ie=E[Z](Y),ge=ie.value}catch(pe){return void z(pe)}ie.done?i(ge):Promise.resolve(ge).then(M,X)}at.exports=function V(E){return function(){var i=this,z=arguments;return new Promise(function(M,X){var Z=E.apply(i,z);function Y(ge){Ee(Z,M,X,Y,ie,"next",ge)}function ie(ge){Ee(Z,M,X,Y,ie,"throw",ge)}Y(void 0)})}},at.exports.__esModule=!0,at.exports.default=at.exports},9786:(at,Ee,V)=>{"use strict";V.d(Ee,{Y:()=>z,l:()=>M});var E=V(1026);let i=null;function z(X){if(E.$.useDeprecatedSynchronousErrorHandling){const Z=!i;if(Z&&(i={errorThrown:!1,error:null}),X(),Z){const{errorThrown:Y,error:ie}=i;if(i=null,Y)throw ie}}else X()}function M(X){E.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=X)}},9858:(at,Ee,V)=>{"use strict";V.d(Ee,{y:()=>i});var E=V(8071);function i(z){return(0,E.T)(z?.then)}},9974:(at,Ee,V)=>{"use strict";V.d(Ee,{N:()=>z,S:()=>i});var E=V(8071);function i(M){return(0,E.T)(M?.lift)}function z(M){return X=>{if(i(X))return X.lift(function(Z){try{return M(Z,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}}},at=>{at(at.s=8455)}]);