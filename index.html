<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frosthaven Assistant</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <base href="./">
</head>

<body>
    <!-- master-container is a workaround to handle the focus event on all number fields in the page -->
    <div id="master-container">
        <h1> <img src="favicon.ico" /> Frosthaven Assistant</h1>
        <div class="row">
            <div class="game-setup">
                <button class="initiative" onclick="UIController.toggleTodoVisibility()">Setup
                    todos<span>&#9660;</span></button>
                <ul id="todoList" onchange="UIController.toggleDone(event)">
                    <li><label><input type="checkbox">карта: плочки</label></li>
                    <li><label><input type="checkbox">карта: допълнения</label></li>
                    <li><label><input type="checkbox">животни</label></li>
                    <li><label><input type="checkbox">животни: карти атака</label></li>
                    <li><label><input type="checkbox">животни: плочки</label></li>
                    <li><label><input type="checkbox">животни: специални карти </label></li>
                    <li><label><input type="checkbox">животни: поставяне на карта</label></li>
                    <li><label><input type="checkbox">герои: карти атака</label></li>
                    <li><label><input type="checkbox">герои: специални карти</label></li>
                    <li><label><input type="checkbox">герои: кутии</label></li>
                    <li><label><input type="checkbox">бойни мисии</label></li>
                    <li><label><input type="checkbox">loot</label></li>
                    <li><label><input type="checkbox">конфигурация сайт</label></li>
                </ul>
            </div>
        </div>
        <div class="add-char">
            <div class="row">
                <button class="initiative" onclick="DataManager.reset()">New Game</button>
                <h3>Add Monster</h3>
                <div class="default-stats">
                    <label for="Type">Type: </label>
                    <select id="type" autocomplete="on"></select>
                </div>
                <div class="default-stats">
                    <label for="Level">Level: </label>
                    <input type="number" id="level" placeholder="#" value="1" />
                </div>
                <div class="default-stats">
                    <label for="Standee">Standee: </label>
                    <input type="number" id="standee-number" placeholder="#" />
                </div>
                <div class="default-stats">
                    <label for="Elite">Elite: </label>
                    <input type="checkbox" id="elite-monster" />
                </div>
                <button class="initiative" onclick="addCharacter()">Add Monster</button>
                <button class="attack" onclick="UIController.nextRound()">Next Round</button>
            </div>
        </div>
        <span class="elements-wrapper">
            <!-- fire -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="fire" sodipodi:docname="fire.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="fire-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-fire-color); stop-opacity:1;" />
                        <animate attributeName="stop-color" values="grey;orange;red" dur="0.5s" begin="click"
                            fill="freeze" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="fire-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-fire-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="fire-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path id="fire"
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)">
                    <path
                        d="m 0,0 c -37.793,0 -74.464,-7.405 -108.993,-22.01 -33.345,-14.104 -63.287,-34.291 -88.997,-60 -25.709,-25.71 -45.897,-55.652 -59.999,-88.996 C -272.595,-205.537 -280,-242.207 -280,-280 c 0,-37.793 7.405,-74.464 22.011,-108.993 14.102,-33.345 34.29,-63.287 59.999,-88.997 25.71,-25.709 55.652,-45.897 88.997,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.793,0 74.464,7.405 108.993,22.011 33.345,14.102 63.287,34.29 88.997,59.999 25.709,25.71 45.897,55.652 59.999,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.463 -22.011,108.994 -14.102,33.344 -34.29,63.286 -59.999,88.996 -25.71,25.709 -55.652,45.896 -88.997,60 C 74.464,-7.405 37.793,0 0,0 m 0,-16 c 145.803,0 264,-118.197 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.803,0 -264,118.197 -264,264 0,145.803 118.197,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1294"></path>
                </g>
                <g id="symbol" transform="matrix(0.35277777,0,0,-0.35277777,129.1384,74.102455)">
                    <path
                        d="m 0,0 c -42.5,34.5 -58.5,99.5 -47,143.5 -25.5,-2.5 -66.272,-25.288 -83.5,-89.5 -22,-82 43.996,-140.5 0,-170.5 -51.444,-35.079 -86.5,26 -82,82.5 -30,-23.5 -48.447,-119.579 -9.5,-178 28,-42 63.811,-66.136 109.516,-71.391 -14.745,10.442 -15.741,29.913 -10.516,44.891 7.5,21.5 32.239,31.107 55.5,49 26,20 37,40 38.5,49.5 13,-19.5 28.581,-48.317 15.5,-91 -6.013,-19.62 -16.979,-38.34 -34.339,-49.45 C 7.137,-266.249 71.825,-218.559 72,-134.5 72.156,-59.5 34.135,-27.709 0,0"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1298"></path>
                </g>
            </svg>
            <!-- ice -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="ice" sodipodi:docname="ice.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="ice-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-ice-color); stop-opacity:1;" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="ice-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-ice-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="ice-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)">
                    <path
                        d="m 0,0 c -37.793,0 -74.464,-7.405 -108.994,-22.01 -33.344,-14.104 -63.286,-34.291 -88.996,-60 -25.709,-25.71 -45.897,-55.652 -60,-88.996 C -272.595,-205.537 -280,-242.207 -280,-280 c 0,-37.793 7.405,-74.464 22.01,-108.993 14.103,-33.345 34.291,-63.287 60,-88.997 25.71,-25.709 55.652,-45.897 88.996,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.792,0 74.463,7.405 108.993,22.011 33.344,14.102 63.287,34.29 88.996,59.999 25.71,25.71 45.897,55.652 60,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.463 -22.011,108.994 -14.103,33.344 -34.29,63.286 -60,88.996 -25.709,25.709 -55.652,45.896 -88.996,60 C 74.463,-7.405 37.792,0 0,0 m 0,-16 c 145.803,0 264,-118.197 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.804,0 -264,118.197 -264,264 0,145.803 118.196,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1112"></path>
                </g>
                <g id="symbol" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,114.17392)">
                    <path
                        d="M 0,0 -37.729,21.782 V 65.349 L 0,87.132 37.729,65.349 V 21.782 Z m 182.664,-2.602 -38.139,-27.986 -30.576,18.524 49.5,34.673 c 3.166,2.218 3.935,6.583 1.717,9.75 -2.219,3.165 -6.582,3.936 -9.75,1.717 L 100.863,-4.137 51.729,25.63 v 35.871 l 49.135,29.768 54.552,-38.214 c 1.223,-0.856 2.623,-1.267 4.011,-1.267 2.206,0 4.377,1.04 5.739,2.984 2.218,3.166 1.449,7.532 -1.717,9.749 l -49.499,34.675 30.575,18.524 38.139,-27.987 c 1.248,-0.916 2.698,-1.357 4.136,-1.357 2.153,0 4.278,0.99 5.649,2.859 2.287,3.118 1.614,7.498 -1.502,9.786 l -33.459,24.552 29.336,17.773 c 3.348,1.932 4.495,6.214 2.563,9.562 -1.933,3.348 -6.213,4.496 -9.563,2.562 l -30.065,-16.465 -4.529,41.199 c -0.421,3.844 -3.881,6.621 -7.722,6.193 -3.843,-0.422 -6.616,-3.879 -6.194,-7.722 l 5.161,-46.945 -31.334,-17.159 -5.268,60.069 c -0.338,3.85 -3.711,6.71 -7.585,6.361 -3.851,-0.337 -6.699,-3.733 -6.362,-7.584 L 91.729,107.227 41.16,79.534 10.482,97.246 9.212,154.965 69.49,183.06 c 3.504,1.632 5.021,5.797 3.388,9.301 -1.633,3.503 -5.796,5.022 -9.302,3.388 L 8.875,170.254 8.088,205.979 51.35,224.996 c 3.54,1.556 5.147,5.686 3.591,9.225 -1.556,3.538 -5.686,5.148 -9.224,3.591 L 7.755,221.125 7,255.404 c 0,3.867 -3.134,7 -7,7 -3.866,0 -7,-3.133 -7,-7 l -0.746,-34.282 -37.972,16.69 c -3.538,1.557 -7.67,-0.053 -9.224,-3.591 -1.556,-3.539 0.051,-7.669 3.591,-9.225 l 43.276,-19.022 -0.778,-35.73 -54.724,25.505 c -3.506,1.633 -7.668,0.116 -9.302,-3.388 -1.633,-3.504 -0.116,-7.669 3.388,-9.301 L -9.186,154.953 -10.439,97.27 -41.15,79.54 l -50.579,27.694 5.802,66.183 c 0.337,3.851 -2.51,7.247 -6.362,7.584 -3.858,0.347 -7.248,-2.511 -7.585,-6.361 l -5.266,-60.063 -31.334,17.157 5.159,46.941 c 0.422,3.843 -2.351,7.301 -6.194,7.722 -3.83,0.425 -7.3,-2.349 -7.722,-6.193 l -4.528,-41.196 -30.065,16.463 c -3.348,1.932 -7.629,0.785 -9.563,-2.563 -1.932,-3.347 -0.785,-7.629 2.563,-9.561 l 29.336,-17.773 -33.46,-24.553 c -3.116,-2.288 -3.789,-6.668 -1.502,-9.785 1.371,-1.869 3.496,-2.859 5.649,-2.859 1.438,0 2.888,0.441 4.136,1.356 l 38.14,27.987 30.575,-18.524 -49.5,-34.675 c -3.166,-2.217 -3.935,-6.583 -1.717,-9.749 1.362,-1.944 3.533,-2.984 5.739,-2.984 1.387,0 2.788,0.411 4.011,1.267 L -100.864,91.269 -51.729,61.5 V 26.002 l -49.316,-30.013 -54.373,38.087 c -3.164,2.219 -7.529,1.449 -9.749,-1.718 -2.218,-3.166 -1.449,-7.531 1.718,-9.749 l 49.346,-34.566 -30.509,-18.567 -38.053,27.922 c -3.118,2.289 -7.499,1.614 -9.785,-1.502 -2.287,-3.117 -1.614,-7.498 1.502,-9.785 l 33.399,-24.508 -29.275,-17.817 c -3.348,-1.933 -4.495,-6.215 -2.563,-9.562 1.297,-2.246 3.65,-3.501 6.07,-3.501 1.187,0 2.39,0.302 3.493,0.938 l 30.057,16.537 4.536,-41.27 c 0.393,-3.583 3.425,-6.237 6.949,-6.237 0.256,0 0.513,0.015 0.773,0.043 3.843,0.422 6.616,3.88 6.194,7.723 l -5.17,47.048 31.329,17.236 5.282,-60.249 c 0.319,-3.643 3.376,-6.388 6.966,-6.388 0.204,0 0.411,0.008 0.619,0.026 3.852,0.338 6.699,3.733 6.362,7.585 l -5.821,66.402 50.276,27.66 30.91,-17.845 1.299,-57.635 -60.228,-28.071 c -3.504,-1.633 -5.021,-5.798 -3.388,-9.302 1.188,-2.548 3.712,-4.045 6.35,-4.045 0.989,0 1.996,0.212 2.952,0.657 l 54.659,25.476 0.805,-35.717 -43.238,-19.006 c -3.54,-1.556 -5.147,-5.685 -3.591,-9.225 1.153,-2.623 3.719,-4.185 6.412,-4.185 0.94,0 1.896,0.191 2.812,0.594 l 37.946,16.679 0.772,-34.271 c 0,-3.866 3.134,-7 7,-7 3.866,0 7,3.134 7,7 l 0.729,34.291 37.988,-16.699 c 0.916,-0.404 1.872,-0.594 2.812,-0.594 2.693,0 5.26,1.562 6.412,4.185 1.556,3.54 -0.051,7.669 -3.59,9.225 l -43.301,19.034 0.759,35.739 54.767,-25.526 c 0.957,-0.446 1.962,-0.657 2.952,-0.657 2.637,0 5.162,1.497 6.35,4.045 1.633,3.504 0.116,7.669 -3.388,9.302 l -60.356,28.13 1.22,57.456 30.797,17.781 50.578,-27.695 -5.803,-66.183 c -0.337,-3.852 2.511,-7.247 6.362,-7.585 0.208,-0.018 0.414,-0.026 0.619,-0.026 3.59,0 6.646,2.745 6.966,6.388 l 5.267,60.064 31.333,-17.158 -5.159,-46.941 c -0.422,-3.843 2.351,-7.301 6.194,-7.723 0.26,-0.028 0.517,-0.043 0.773,-0.043 3.523,0 6.556,2.654 6.949,6.237 l 4.528,41.197 30.066,-16.464 c 1.103,-0.636 2.306,-0.938 3.493,-0.938 2.419,0 4.773,1.256 6.07,3.501 1.932,3.347 0.785,7.629 -2.563,9.562 l -29.336,17.773 33.459,24.552 c 3.116,2.287 3.789,6.668 1.502,9.785 -2.286,3.117 -6.667,3.791 -9.785,1.502"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1116"></path>
                </g>
            </svg>
            <!-- air -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="air" sodipodi:docname="air.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="air-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-air-color); stop-opacity:1;" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="air-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-air-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="air-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="symbol">
                    <path style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.352778"
                        d="m 20.688488,108.37995 c -0.487826,-0.10197 -0.465777,-0.80891 0.02756,-0.87368 4.4111,-0.5898 15.013728,-0.97289 28.807886,5.52594 18.344445,8.64305 47.966756,27.9535 65.510566,26.90481 14.83458,-0.88745 22.05963,-6.46575 21.27277,-13.32287 -0.61736,-5.37986 -6.61458,-8.90764 -11.20069,-7.14375 -4.58611,1.76389 -6.61458,5.90903 -6.26181,9.78958 -3.88055,-2.99861 -2.46944,-8.81944 -1.23472,-10.40694 1.23472,-1.5875 8.00503,-10.8176 19.57917,-2.82222 9.70139,6.70278 5.60035,19.76106 0,24.69444 -3.70417,3.2632 -14.81667,11.46528 -35.80695,6.17361 -20.990276,-5.29166 -43.620421,-24.4588 -55.562499,-30.1625 -10.991233,-5.24895 -15.72617,-6.37893 -25.131284,-8.35642"
                        id="path844"></path>
                    <path style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.352778"
                        d="m 52.230405,106.05382 c -0.343133,-0.18741 -0.126781,-0.70969 0.246669,-0.59531 7.845171,2.39503 27.789516,6.9081 42.202418,3.16397 21.048158,-5.46805 24.870838,-17.991663 45.861108,-28.162962 13.38765,-6.487806 30.86806,-1.823145 35.63056,11.229631 4.7625,13.052781 -7.64398,22.048611 -17.4625,21.519451 -8.10424,-0.43547 -13.57919,-5.06429 -14.64028,-8.82634 -1.17684,-4.16719 0.46991,-9.575991 5.29167,-11.105611 -1.41111,6.35 2.04087,13.292561 9.17222,12.876391 7.05556,-0.41065 13.28704,-9.250771 6.70278,-15.875001 -6.59529,-6.633877 -14.81667,-5.349543 -19.75556,-2.293055 -5.26686,3.260439 -17.63889,15.522226 -28.22222,20.637496 -10.15752,4.90858 -25.033443,10.26501 -40.41648,6.17362 -13.106524,-3.48368 -17.129016,-4.64675 -24.610385,-8.74228"
                        id="path846"></path>
                    <path style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.352778"
                        d="m 32.342558,94.131028 c -0.445107,-0.170869 -0.305926,-0.83646 0.170875,-0.81717 6.042699,0.24529 22.947094,-0.0317 31.82717,-9.914986 10.936111,-12.170834 8.445997,-20.473515 18.168056,-29.280556 6.790972,-6.150183 22.320081,-8.109755 33.249301,1.234722 12.17084,10.406945 5.70233,30.721985 -6.38031,36.98379 -10.23056,5.30131 -23.07663,3.58565 -25.987047,-4.704623 -3.241146,-9.231477 3.439583,-17.374306 10.230556,-17.286111 7.161661,0.0937 6.173611,7.231944 6.173611,7.231944 0,0 -2.11667,-3.701411 -5.027083,-3.263194 -3.689008,0.556725 -6.943934,5.177289 -5.027084,9.789583 2.38125,5.732639 12.621457,8.270981 19.989817,-0.46991 7.58473,-8.995834 5.93935,-21.225923 -6.58426,-25.635646 -11.575522,-4.074858 -18.36236,4.462089 -24.518057,15.877756 -4.850694,8.993078 -10.31875,20.458351 -26.9875,21.418851 -12.219065,0.7028 -16.949868,-0.26321 -19.298045,-1.16445"
                        id="path848"></path>
                </g>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.777776,0)">
                    <path
                        d="m 0,0 c -37.793,0 -74.464,-7.405 -108.993,-22.011 -33.345,-14.102 -63.287,-34.29 -88.997,-59.999 -25.709,-25.71 -45.897,-55.652 -59.999,-88.997 C -272.595,-205.536 -280,-242.207 -280,-280 c 0,-37.793 7.405,-74.464 22.011,-108.993 14.102,-33.345 34.29,-63.287 59.999,-88.997 25.71,-25.709 55.652,-45.896 88.997,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.793,0 74.464,7.405 108.993,22.011 33.345,14.103 63.287,34.29 88.997,59.999 25.709,25.71 45.897,55.652 59.999,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.464 -22.011,108.993 -14.102,33.345 -34.29,63.287 -59.999,88.997 -25.71,25.709 -55.652,45.897 -88.997,59.999 C 74.464,-7.405 37.793,0 0,0 m 0,-16 c 145.803,0 264,-118.196 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.803,0 -264,118.197 -264,264 0,145.804 118.197,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1852"></path>
                </g>
            </svg>
            <!-- earth -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="earth" sodipodi:docname="earth.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="earth-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-earth-color); stop-opacity:1;" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="earth-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-earth-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="earth-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)">
                    <path
                        d="m 0,0 c -37.793,0 -74.463,-7.405 -108.994,-22.011 -33.344,-14.102 -63.286,-34.29 -88.996,-59.999 -25.709,-25.71 -45.896,-55.652 -60,-88.997 -14.605,-34.529 -22.01,-71.2 -22.01,-108.993 0,-37.793 7.405,-74.464 22.01,-108.993 14.104,-33.345 34.291,-63.287 60,-88.997 25.71,-25.709 55.652,-45.896 88.996,-59.999 C -74.463,-552.595 -37.793,-560 0,-560 c 37.793,0 74.464,7.405 108.993,22.011 33.345,14.103 63.287,34.29 88.997,59.999 25.709,25.71 45.897,55.652 59.999,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.464 -22.011,108.993 -14.102,33.345 -34.29,63.287 -59.999,88.997 -25.71,25.709 -55.652,45.897 -88.997,59.999 C 74.464,-7.405 37.793,0 0,0 m 0,-16 c 145.803,0 264,-118.196 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.803,0 -264,118.197 -264,264 0,145.804 118.197,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1478"></path>
                </g>
                <g id="symbol" transform="matrix(0.35277777,0,0,-0.35277777,60.624366,132.24034)">
                    <path class="bg"
                        d="m 0,0 c -0.423,-4 -4.892,-6.179 -8.264,-3.987 -24.283,15.779 -85.571,80.677 -11.571,162.809 73.487,81.563 169.567,37.861 265.702,95.873 2.907,1.755 6.665,0.165 7.401,-3.15 13.134,-59.172 20.961,-187.976 -39.103,-247.223 -73.5,-72.5 -133.5,-40.5 -166,-29 -1.5,-18 4.501,-41.921 9.501,-58.421 5,-16.5 -27.001,-21.079 -31.001,-18.079 -4,3 -18.611,83.753 18.5,133 47.5,63.032 163,118 166.5,162.5 -22.5,-20 -51.809,-46.518 -129,-89.5 C 14.221,66.711 2.036,19.224 0,0"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1482"></path>
                </g>
            </svg>
            <!-- light -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="light" sodipodi:docname="light.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="light-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-light-color); stop-opacity:1;" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="light-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-light-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="light-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)">
                    <path
                        d="m 0,0 c -37.793,0 -74.464,-7.405 -108.994,-22.011 -33.344,-14.102 -63.286,-34.29 -88.996,-59.999 -25.709,-25.71 -45.897,-55.652 -60,-88.997 -14.605,-34.529 -22.01,-71.2 -22.01,-108.993 0,-37.793 7.405,-74.464 22.01,-108.993 14.103,-33.345 34.291,-63.287 60,-88.997 25.71,-25.709 55.652,-45.896 88.996,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.792,0 74.463,7.405 108.993,22.011 33.344,14.103 63.287,34.29 88.996,59.999 25.71,25.71 45.897,55.652 60,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.464 -22.011,108.993 -14.103,33.345 -34.29,63.287 -60,88.997 -25.709,25.709 -55.652,45.897 -88.996,59.999 C 74.463,-7.405 37.792,0 0,0 m 0,-16 c 145.803,0 264,-118.196 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.804,0 -264,118.197 -264,264 0,145.804 118.196,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1664"></path>
                </g>
                <g id="symbol" transform="matrix(0.35277777,0,0,-0.35277777,141.35502,111.71516)">
                    <path
                        d="m 0,0 -9.044,27.255 23.505,9.418 -23.504,9.418 9.042,27.252 61.997,-36.673 z m 8.504,-92.473 -69.776,17.889 12.869,25.65 23.279,-9.961 -9.961,23.28 25.675,12.882 z m -129.142,-53.492 -36.693,61.957 27.222,9.032 9.418,-23.503 9.417,23.503 27.262,-9.045 z m -129.142,53.492 17.848,69.718 25.633,-12.86 -9.96,-23.28 23.279,9.961 12.875,-25.661 z m -53.492,129.143 61.897,36.648 9.034,-27.228 -23.504,-9.417 23.504,-9.417 -9.035,-27.232 z m 53.492,129.142 69.674,-17.875 -12.874,-25.658 -23.279,9.961 9.96,-23.279 -25.634,-12.86 z m 129.142,53.493 36.625,-61.939 -27.26,-9.046 -9.418,23.505 -9.418,-23.505 -27.221,9.033 z m 66.4,-155.106 14.078,32.9 26.922,-15.926 -7.78,-30.284 z m 0,-55.053 33.22,13.311 7.78,-30.287 -26.922,-15.924 z m -38.928,-38.927 32.902,-14.078 -15.909,-26.906 -30.302,7.769 z m -55.052,0 13.31,-33.217 -30.267,-7.766 -15.936,26.909 z m -38.927,38.927 -14.076,-32.895 -26.889,15.92 7.753,30.283 z m 0,55.053 -33.212,-13.307 -7.753,30.281 26.889,15.921 z m 38.927,38.928 -32.893,14.074 15.935,26.906 30.267,-7.764 z m 55.052,0 -13.308,33.213 30.302,7.767 15.908,-26.902 z m 101.67,62.685 -17.913,-69.733 -25.676,12.882 9.961,23.279 -23.279,-9.961 -12.868,25.648 z M 98.306,42.036 5.124,88.788 37.955,187.735 c 0.715,2.155 0.153,4.528 -1.452,6.132 -1.605,1.605 -3.98,2.171 -6.132,1.452 l -98.947,-32.831 -46.752,93.183 c -1.019,2.029 -3.094,3.309 -5.363,3.309 -2.27,0 -4.345,-1.28 -5.364,-3.309 l -46.752,-93.183 -98.947,32.831 c -2.153,0.718 -4.528,0.153 -6.132,-1.452 -1.605,-1.604 -2.167,-3.977 -1.452,-6.132 l 32.83,-98.948 -93.181,-46.751 c -2.03,-1.018 -3.31,-3.094 -3.31,-5.363 0,-2.27 1.28,-4.345 3.31,-5.363 l 93.181,-46.751 -32.83,-98.949 c -0.715,-2.154 -0.153,-4.527 1.452,-6.131 1.605,-1.605 3.978,-2.169 6.132,-1.453 l 98.947,32.831 46.752,-93.182 c 1.019,-2.029 3.094,-3.31 5.364,-3.31 2.269,0 4.344,1.281 5.363,3.31 l 46.751,93.182 98.948,-32.831 c 0.619,-0.206 1.257,-0.305 1.889,-0.305 1.566,0 3.1,0.614 4.243,1.758 1.605,1.604 2.167,3.977 1.452,6.131 L 5.123,-15.442 98.306,31.31 c 2.029,1.018 3.309,3.093 3.309,5.363 0,2.269 -1.28,4.345 -3.309,5.363"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1668"></path>
                </g>
            </svg>
            <!-- dark -->
            <svg class="element-icon" viewBox="0 0 197.55556 197.55556" onclick="UIController.toggleColor(this)"
                version="1.1" id="dark" sodipodi:docname="dark.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="dark-half" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="50%" style="stop-color:var(--element-dark-color); stop-opacity:1;" />
                        <stop offset="50%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="dark-color" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-dark-color); stop-opacity:1;" />
                    </linearGradient>
                    <linearGradient id="dark-bw" x1="0%" y1="100%">
                        <stop offset="190%" style="stop-color:var(--element-default-color); stop-opacity:1;" />
                    </linearGradient>
                </defs>
                <path
                    d="m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475">
                </path>
                <g id="outline" transform="matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)">
                    <path
                        d="m 0,0 c -37.793,0 -74.464,-7.405 -108.993,-22.011 -33.345,-14.102 -63.287,-34.29 -88.997,-59.999 -25.709,-25.71 -45.897,-55.652 -59.999,-88.997 C -272.595,-205.536 -280,-242.207 -280,-280 c 0,-37.793 7.405,-74.464 22.011,-108.993 14.102,-33.345 34.29,-63.287 59.999,-88.997 25.71,-25.709 55.652,-45.896 88.997,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.793,0 74.464,7.405 108.993,22.011 33.345,14.103 63.287,34.29 88.997,59.999 25.709,25.71 45.897,55.652 59.999,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.464 -22.011,108.993 -14.102,33.345 -34.29,63.287 -59.999,88.997 -25.71,25.709 -55.652,45.897 -88.997,59.999 C 74.464,-7.405 37.793,0 0,0 m 0,-16 c 145.803,0 264,-118.196 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.803,0 -264,118.197 -264,264 0,145.804 118.197,264 264,264"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1852"></path>
                </g>
                <g id="symbol" transform="matrix(0.35277777,0,0,-0.35277777,114.94562,150.20756)">
                    <path
                        d="m 0,0 c -8.87,0 -17.561,0.8 -26,2.32 6.06,2.781 11.92,5.941 17.54,9.441 1.786,1.112 3.539,2.271 5.276,3.453 73.09,1.203 131.963,59.194 131.963,130.566 0,71.385 -58.877,129.378 -131.971,130.577 -1.739,1.181 -3.492,2.34 -5.279,3.454 -5.619,3.5 -11.469,6.659 -17.529,9.439 8.439,1.521 17.13,2.32 26,2.32 80.38,0 145.779,-65.4 145.779,-145.79 C 145.779,65.4 80.38,0 0,0 M -45.83,7.38 C -52.25,5.24 -58.88,3.55 -65.66,2.32 -74.1,0.8 -82.78,0 -91.65,0 c -80.39,0 -145.79,65.4 -145.79,145.78 0,80.39 65.4,145.79 145.79,145.79 8.87,0 17.55,-0.799 25.99,-2.32 6.78,-1.229 13.41,-2.92 19.83,-5.06 6.019,-1.99 11.87,-4.379 17.51,-7.11 48.75,-23.61 82.45,-73.59 82.45,-131.3 0,-57.7 -33.7,-107.679 -82.45,-131.29 -5.64,-2.729 -11.491,-5.12 -17.51,-7.11 M 0,303.57 c -15.93,0 -31.311,-2.37 -45.82,-6.79 -14.51,4.42 -29.901,6.79 -45.83,6.79 -87.01,0 -157.79,-70.78 -157.79,-157.79 0,-87 70.78,-157.78 157.79,-157.78 15.929,0 31.32,2.37 45.83,6.79 C -31.311,-9.63 -15.93,-12 0,-12 87,-12 157.779,58.78 157.779,145.78 157.779,232.79 87,303.57 0,303.57"
                        style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none" id="path1856"></path>
                </g>
            </svg>
        </span>
        <div class="creatures">
            <div class='creature-container' id="creaturesTable">
                <!-- Dynamic content will go here -->
            </div>
        </div>

        <h3>Battle Log</h3>
        <div id="battle-log-container">
            <ul id="battle-log">
            </ul>
        </div>
        <div>
            <span id="last-saved-timestamp"></span>
            <span id="loading-spinner"></span>
        </div>

        <!-- Attack Modal -->
        <div id="modal-attack" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeAttackModal()">&times;</span>
                <h3>Attack</h3>
                <span id="attack-combatants"></span>
                <br>

                <span>Damage</span><input type="number" id="attack-input" oninput="updateAttackResult(this)" min="0"
                    value="0"><br>
                <span id="attack-result"></span>
                <br>
                <!-- Icons (0-3) -->
                <div id="attack-conditions" class="conditions">
                    <!-- Conditions on target, if any -->
                </div>
                <button class="initiative" onclick="applyDamage()">OK</button>
            </div>
        </div>

        <!-- Conditions Modal -->
        <div id="modal-conditions" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeConditionsModal()">&times;</span>
                <span><b>Conditions</b></span>
                <div class="condition-row">
                    <div class="condition-item">
                        <img id="armor-img" onclick="incrementInput('condition-armor')"
                            src='images/fh/action/shield.svg'>
                        <input type="number" id="condition-armor" class="condition-input" min="0" value="0">
                    </div>
                    <div class="condition-item">
                        <img id="retaliate-img" onclick="incrementInput('condition-retaliate')"
                            src='images/fh/action/retaliate.svg'>
                        <input type="number" id="condition-retaliate" class="condition-input" min="0" value="0">
                    </div>
                </div>

                <input type="checkbox" id="condition-poison">
                <img id="poison-img" src='images/condition/poison.svg'>
                <input type="checkbox" id="condition-brittle">
                <img id="brittle-img" src='images/condition/brittle.svg'>
                <input type="checkbox" id="condition-ward">
                <img id="ward-img" class="condition-img" src='images/condition/ward.svg'>

                <hr>
                <div class="row">
                    <button class="condition-btn" onclick="applyCondition()">Single</button>
                    <button class="condition-btn" onclick="applyCondition(true)">All</button>
                </div>
            </div>
        </div>
        <script src="scripts/storage.js"></script>
        <script src="scripts/controller.js"></script>
        <script src="data/data.js"></script>
        <script src="data/images.js"></script>
        <script src="scripts/main.js"></script>
    </div>
</body>

</html>