(self.webpackChunkfrosthaven_assistant_angular=self.webpackChunkfrosthaven_assistant_angular||[]).push([[792],{130:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>i});var E=V(2615);let i=(()=>{class z{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}]}}static \u0275fac=function(Z){return new(Z||z)};static \u0275prov=E.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},467:(it,Ee,V)=>{"use strict";function E(z,x,X,Z,J,le,_e){try{var pe=z[le](_e),re=pe.value}catch(ce){return void X(ce)}pe.done?x(re):Promise.resolve(re).then(Z,J)}function i(z){return function(){var x=this,X=arguments;return new Promise(function(Z,J){var le=z.apply(x,X);function _e(re){E(le,Z,J,_e,pe,"next",re)}function pe(re){E(le,Z,J,_e,pe,"throw",re)}_e(void 0)})}}V.d(Ee,{A:()=>i})},591:(it,Ee,V)=>{"use strict";function E(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{L:()=>E})},1026:(it,Ee,V)=>{"use strict";V.d(Ee,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(it,Ee,V)=>{"use strict";V.d(Ee,{F:()=>i,m:()=>z});var E=V(3669);function i(...x){return z(x)}function z(x){return 0===x.length?E.D:1===x.length?x[0]:function(Z){return x.reduce((J,le)=>le(J),Z)}}},1397:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>le});var E=V(6354),i=V(8750),z=V(9974),x=V(5225),X=V(4360),J=V(8071);function le(_e,pe,re=1/0){return(0,J.T)(pe)?le((ce,de)=>(0,E.T)((ye,Oe)=>pe(ce,ye,de,Oe))((0,i.Tg)(_e(ce,de))),re):("number"==typeof pe&&(re=pe),(0,z.N)((ce,de)=>function Z(_e,pe,re,ce,de,ye,Oe,He){const ze=[];let Ge=0,We=0,bt=!1;const ve=()=>{bt&&!ze.length&&!Ge&&pe.complete()},Te=Ve=>Ge<ce?Ce(Ve):ze.push(Ve),Ce=Ve=>{ye&&pe.next(Ve),Ge++;let Fe=!1;(0,i.Tg)(re(Ve,We++)).subscribe((0,X._)(pe,qe=>{de?.(qe),ye?Te(qe):pe.next(qe)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ge--;ze.length&&Ge<ce;){const qe=ze.shift();Oe?(0,x.N)(pe,Oe,()=>Ce(qe)):Ce(qe)}ve()}catch(qe){pe.error(qe)}}))};return _e.subscribe((0,X._)(pe,Te,()=>{bt=!0,ve()})),()=>{He?.()}}(ce,de,_e,re)))}},1413:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>J});var E=V(1985),i=V(8359);const x=(0,V(1853).L)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=V(7908),Z=V(9786);let J=(()=>{class _e extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const ce=new le(this,this);return ce.operator=re,ce}_throwIfClosed(){if(this.closed)throw new x}next(re){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(re)}})}error(re){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:ce}=this;for(;ce.length;)ce.shift().error(re)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:ce,isStopped:de,observers:ye}=this;return ce||de?i.Kn:(this.currentObservers=null,ye.push(re),new i.yU(()=>{this.currentObservers=null,(0,X.o)(ye,re)}))}_checkFinalizedStatuses(re){const{hasError:ce,thrownError:de,isStopped:ye}=this;ce?re.error(de):ye&&re.complete()}asObservable(){const re=new E.c;return re.source=this,re}}return _e.create=(pe,re)=>new le(pe,re),_e})();class le extends J{constructor(pe,re){super(),this.destination=pe,this.source=re}next(pe){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===ce||ce.call(re,pe)}error(pe){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===ce||ce.call(re,pe)}complete(){var pe,re;null===(re=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===re||re.call(pe)}_subscribe(pe){var re,ce;return null!==(ce=null===(re=this.source)||void 0===re?void 0:re.subscribe(pe))&&void 0!==ce?ce:i.Kn}}},1635:(it,Ee,V)=>{"use strict";function ce(ae,se,be,ge){return new(be||(be=Promise))(function(Le,ct){function at(Be){try{me(ge.next(Be))}catch(Xe){ct(Xe)}}function Xt(Be){try{me(ge.throw(Be))}catch(Xe){ct(Xe)}}function me(Be){Be.done?Le(Be.value):function ke(Le){return Le instanceof be?Le:new be(function(ct){ct(Le)})}(Be.value).then(at,Xt)}me((ge=ge.apply(ae,se||[])).next())})}function ve(ae){return this instanceof ve?(this.v=ae,this):new ve(ae)}function Te(ae,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ge=be.apply(ae,se||[]),Le=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),at("next"),at("throw"),at("return",function ct(Ue){return function(zt){return Promise.resolve(zt).then(Ue,Xe)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function at(Ue,zt){ge[Ue]&&(ke[Ue]=function(kt){return new Promise(function(un,Kt){Le.push([Ue,kt,un,Kt])>1||Xt(Ue,kt)})},zt&&(ke[Ue]=zt(ke[Ue])))}function Xt(Ue,zt){try{!function me(Ue){Ue.value instanceof ve?Promise.resolve(Ue.value.v).then(Be,Xe):pt(Le[0][2],Ue)}(ge[Ue](zt))}catch(kt){pt(Le[0][3],kt)}}function Be(Ue){Xt("next",Ue)}function Xe(Ue){Xt("throw",Ue)}function pt(Ue,zt){Ue(zt),Le.shift(),Le.length&&Xt(Le[0][0],Le[0][1])}}function Ve(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=ae[Symbol.asyncIterator];return se?se.call(ae):(ae=function He(ae){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&ae[se],ge=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ge>=ae.length&&(ae=void 0),{value:ae&&ae[ge++],done:!ae}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),be={},ge("next"),ge("throw"),ge("return"),be[Symbol.asyncIterator]=function(){return this},be);function ge(Le){be[Le]=ae[Le]&&function(ct){return new Promise(function(at,Xt){!function ke(Le,ct,at,Xt){Promise.resolve(Xt).then(function(me){Le({value:me,done:at})},ct)}(at,Xt,(ct=ae[Le](ct)).done,ct.value)})}}}V.d(Ee,{AQ:()=>Te,N3:()=>ve,sH:()=>ce,xN:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError},1853:(it,Ee,V)=>{"use strict";function E(i){const x=i(X=>{Error.call(X),X.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}V.d(Ee,{L:()=>E})},1948:(it,Ee,V)=>{"use strict";V.d(Ee,{a:()=>Aa});var E=V(467);class z extends Error{constructor(g,h="FunctionsError",f){super(g),this.name=h,this.context=f}}class x extends z{constructor(g){super("Failed to send a request to the Edge Function","FunctionsFetchError",g)}}class X extends z{constructor(g){super("Relay Error invoking the Edge Function","FunctionsRelayError",g)}}class Z extends z{constructor(g){super("Edge Function returned a non-2xx status code","FunctionsHttpError",g)}}var J=function(C){return C.Any="any",C.ApNortheast1="ap-northeast-1",C.ApNortheast2="ap-northeast-2",C.ApSouth1="ap-south-1",C.ApSoutheast1="ap-southeast-1",C.ApSoutheast2="ap-southeast-2",C.CaCentral1="ca-central-1",C.EuCentral1="eu-central-1",C.EuWest1="eu-west-1",C.EuWest2="eu-west-2",C.EuWest3="eu-west-3",C.SaEast1="sa-east-1",C.UsEast1="us-east-1",C.UsWest1="us-west-1",C.UsWest2="us-west-2",C}(J||{});class _e{constructor(g,{headers:h={},customFetch:f,region:k=J.Any}={}){this.url=g,this.headers=h,this.region=k,this.fetch=(C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)})(f)}setAuth(g){this.headers.Authorization=`Bearer ${g}`}invoke(g,h={}){var f;return function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:k,method:O,body:N}=h;let H={},{region:G}=h;G||(G=this.region);const ue=new URL(`${this.url}/${g}`);let oe;G&&"any"!==G&&(H["x-region"]=G,ue.searchParams.set("forceFunctionRegion",G)),N&&(k&&!Object.prototype.hasOwnProperty.call(k,"Content-Type")||!k)&&(typeof Blob<"u"&&N instanceof Blob||N instanceof ArrayBuffer?(H["Content-Type"]="application/octet-stream",oe=N):"string"==typeof N?(H["Content-Type"]="text/plain",oe=N):typeof FormData<"u"&&N instanceof FormData?oe=N:(H["Content-Type"]="application/json",oe=JSON.stringify(N)));const De=yield this.fetch(ue.toString(),{method:O||"POST",headers:Object.assign(Object.assign(Object.assign({},H),this.headers),k),body:oe}).catch($t=>{throw new x($t)}),yt=De.headers.get("x-relay-error");if(yt&&"true"===yt)throw new X(De);if(!De.ok)throw new Z(De);let ut,gt=(null!==(f=De.headers.get("Content-Type"))&&void 0!==f?f:"text/plain").split(";")[0].trim();return ut="application/json"===gt?yield De.json():"application/octet-stream"===gt?yield De.blob():"text/event-stream"===gt?De:"multipart/form-data"===gt?yield De.formData():yield De.text(),{data:ut,error:null,response:De}}catch(k){return{data:null,error:k,response:k instanceof Z||k instanceof X?k.context:void 0}}})}}var pe=V(4060);const{PostgrestClient:re}=pe,We=class Ge{static detectEnvironment(){var g;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(g=navigator.userAgent)&&void 0!==g&&g.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const h=parseInt(process.versions.node.split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const g=this.detectEnvironment();if(g.constructor)return g.constructor;let h=g.error||"WebSocket not supported in this environment.";throw g.workaround&&(h+=`\n\nSuggested solution: ${g.workaround}`),new Error(h)}static createWebSocket(g,h){return new(this.getWebSocketConstructor())(g,h)}static isWebSocketSupported(){try{const g=this.detectEnvironment();return"native"===g.type||"ws"===g.type}catch{return!1}}};var Mt=function(C){return C[C.connecting=0]="connecting",C[C.open=1]="open",C[C.closing=2]="closing",C[C.closed=3]="closed",C}(Mt||{}),nt=function(C){return C.closed="closed",C.errored="errored",C.joined="joined",C.joining="joining",C.leaving="leaving",C}(nt||{}),Vt=function(C){return C.close="phx_close",C.error="phx_error",C.join="phx_join",C.reply="phx_reply",C.leave="phx_leave",C.access_token="access_token",C}(Vt||{}),On=function(C){return C.websocket="websocket",C}(On||{}),vn=function(C){return C.Connecting="connecting",C.Open="open",C.Closing="closing",C.Closed="closed",C}(vn||{});class _n{constructor(){this.HEADER_LENGTH=1}decode(g,h){return g.constructor===ArrayBuffer?h(this._binaryDecode(g)):h("string"==typeof g?JSON.parse(g):{})}_binaryDecode(g){const h=new DataView(g),f=new TextDecoder;return this._decodeBroadcast(g,h,f)}_decodeBroadcast(g,h,f){const k=h.getUint8(1),O=h.getUint8(2);let N=this.HEADER_LENGTH+2;const H=f.decode(g.slice(N,N+k));N+=k;const G=f.decode(g.slice(N,N+O));return N+=O,{ref:null,topic:H,event:G,payload:JSON.parse(f.decode(g.slice(N,g.byteLength)))}}}class sr{constructor(g,h){this.callback=g,this.timerCalc=h,this.timer=void 0,this.tries=0,this.callback=g,this.timerCalc=h}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt=function(C){return C.abstime="abstime",C.bool="bool",C.date="date",C.daterange="daterange",C.float4="float4",C.float8="float8",C.int2="int2",C.int4="int4",C.int4range="int4range",C.int8="int8",C.int8range="int8range",C.json="json",C.jsonb="jsonb",C.money="money",C.numeric="numeric",C.oid="oid",C.reltime="reltime",C.text="text",C.time="time",C.timestamp="timestamp",C.timestamptz="timestamptz",C.timetz="timetz",C.tsrange="tsrange",C.tstzrange="tstzrange",C}(jt||{});const lr=(C,g,h={})=>{var f;const k=null!==(f=h.skipTypes)&&void 0!==f?f:[];return Object.keys(g).reduce((O,N)=>(O[N]=Re(N,C,g,k),O),{})},Re=(C,g,h,f)=>{const k=g.find(H=>H.name===C),O=k?.type,N=h[C];return O&&!f.includes(O)?Ke(O,N):ae(N)},Ke=(C,g)=>{if("_"===C.charAt(0)){const h=C.slice(1,C.length);return ke(g,h)}switch(C){case jt.bool:return se(g);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return be(g);case jt.json:case jt.jsonb:return ge(g);case jt.timestamp:return Le(g);default:return ae(g)}},ae=C=>C,se=C=>{switch(C){case"t":return!0;case"f":return!1;default:return C}},be=C=>{if("string"==typeof C){const g=parseFloat(C);if(!Number.isNaN(g))return g}return C},ge=C=>{if("string"==typeof C)try{return JSON.parse(C)}catch(g){return console.log(`JSON parse error: ${g}`),C}return C},ke=(C,g)=>{if("string"!=typeof C)return C;const h=C.length-1;if("{"===C[0]&&"}"===C[h]){let O;const N=C.slice(1,h);try{O=JSON.parse("["+N+"]")}catch{O=N?N.split(","):[]}return O.map(H=>Ke(g,H))}return C},Le=C=>"string"==typeof C?C.replace(" ","T"):C,ct=C=>{let g=C;return g=g.replace(/^ws/i,"http"),g=g.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),g.replace(/\/+$/,"")+"/api/broadcast"};class at{constructor(g,h,f={},k=1e4){this.channel=g,this.event=h,this.payload=f,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(g){this.timeout=g,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(g){this.payload=Object.assign(Object.assign({},this.payload),g)}receive(g,h){var f;return this._hasReceived(g)&&h(null===(f=this.receivedResp)||void 0===f?void 0:f.response),this.recHooks.push({status:g,callback:h}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},h=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=h,this._matchReceive(h)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(g,h){this.refEvent&&this.channel._trigger(this.refEvent,{status:g,response:h})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:g,response:h}){this.recHooks.filter(f=>f.status===g).forEach(f=>f.callback(h))}_hasReceived(g){return this.receivedResp&&this.receivedResp.status===g}}class me{constructor(g,h){this.channel=g,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=h?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},k=>{const{onJoin:O,onLeave:N,onSync:H}=this.caller;this.joinRef=this.channel._joinRef(),this.state=me.syncState(this.state,k,O,N),this.pendingDiffs.forEach(G=>{this.state=me.syncDiff(this.state,G,O,N)}),this.pendingDiffs=[],H()}),this.channel._on(f.diff,{},k=>{const{onJoin:O,onLeave:N,onSync:H}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(k):(this.state=me.syncDiff(this.state,k,O,N),H())}),this.onJoin((k,O,N)=>{this.channel._trigger("presence",{event:"join",key:k,currentPresences:O,newPresences:N})}),this.onLeave((k,O,N)=>{this.channel._trigger("presence",{event:"leave",key:k,currentPresences:O,leftPresences:N})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(g,h,f,k){const O=this.cloneDeep(g),N=this.transformState(h),H={},G={};return this.map(O,(ue,oe)=>{N[ue]||(G[ue]=oe)}),this.map(N,(ue,oe)=>{const De=O[ue];if(De){const yt=oe.map(Ze=>Ze.presence_ref),gt=De.map(Ze=>Ze.presence_ref),ut=oe.filter(Ze=>gt.indexOf(Ze.presence_ref)<0),$t=De.filter(Ze=>yt.indexOf(Ze.presence_ref)<0);ut.length>0&&(H[ue]=ut),$t.length>0&&(G[ue]=$t)}else H[ue]=oe}),this.syncDiff(O,{joins:H,leaves:G},f,k)}static syncDiff(g,h,f,k){const{joins:O,leaves:N}={joins:this.transformState(h.joins),leaves:this.transformState(h.leaves)};return f||(f=()=>{}),k||(k=()=>{}),this.map(O,(H,G)=>{var ue;const oe=null!==(ue=g[H])&&void 0!==ue?ue:[];if(g[H]=this.cloneDeep(G),oe.length>0){const De=g[H].map(gt=>gt.presence_ref),yt=oe.filter(gt=>De.indexOf(gt.presence_ref)<0);g[H].unshift(...yt)}f(H,oe,G)}),this.map(N,(H,G)=>{let ue=g[H];if(!ue)return;const oe=G.map(De=>De.presence_ref);ue=ue.filter(De=>oe.indexOf(De.presence_ref)<0),g[H]=ue,k(H,ue,G),0===ue.length&&delete g[H]}),g}static map(g,h){return Object.getOwnPropertyNames(g).map(f=>h(f,g[f]))}static transformState(g){return g=this.cloneDeep(g),Object.getOwnPropertyNames(g).reduce((h,f)=>{const k=g[f];return h[f]="metas"in k?k.metas.map(O=>(O.presence_ref=O.phx_ref,delete O.phx_ref,delete O.phx_ref_prev,O)):k,h},{})}static cloneDeep(g){return JSON.parse(JSON.stringify(g))}onJoin(g){this.caller.onJoin=g}onLeave(g){this.caller.onLeave=g}onSync(g){this.caller.onSync=g}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xe=function(C){return C.BROADCAST="broadcast",C.PRESENCE="presence",C.POSTGRES_CHANGES="postgres_changes",C.SYSTEM="system",C}(Xe||{}),pt=function(C){return C.SUBSCRIBED="SUBSCRIBED",C.TIMED_OUT="TIMED_OUT",C.CLOSED="CLOSED",C.CHANNEL_ERROR="CHANNEL_ERROR",C}(pt||{});class zt{constructor(g,h={config:{}},f){this.topic=g,this.params=h,this.socket=f,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=g.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},h.config),this.timeout=this.socket.timeout,this.joinPush=new at(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new sr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(k=>k.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(k,O)=>{this._trigger(this._replyEventName(O),k)}),this.presence=new me(this),this.broadcastEndpointURL=ct(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(g,h=this.timeout){var k,O,f=this;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:N,presence:H,private:G}}=this.params,ue=null!==(O=null===(k=this.bindings.postgres_changes)||void 0===k?void 0:k.map(gt=>gt.filter))&&void 0!==O?O:[],oe=!!this.bindings[Xe.PRESENCE]&&this.bindings[Xe.PRESENCE].length>0,De={},yt={broadcast:N,presence:Object.assign(Object.assign({},H),{enabled:oe}),postgres_changes:ue,private:G};this.socket.accessTokenValue&&(De.access_token=this.socket.accessTokenValue),this._onError(gt=>g?.(pt.CHANNEL_ERROR,gt)),this._onClose(()=>g?.(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:yt},De)),this.joinedOnce=!0,this._rejoin(h),this.joinPush.receive("ok",function(){var gt=(0,E.A)(function*({postgres_changes:ut}){var $t;if(f.socket.setAuth(),void 0!==ut){const Ze=f.bindings.postgres_changes,Tn=null!==($t=Ze?.length)&&void 0!==$t?$t:0,Yt=[];for(let wn=0;wn<Tn;wn++){const Fn=Ze[wn],{filter:{event:xt,schema:rn,table:Bo,filter:mn}}=Fn,jn=ut&&ut[wn];if(!jn||jn.event!==xt||jn.schema!==rn||jn.table!==Bo||jn.filter!==mn)return f.unsubscribe(),f.state=nt.errored,void g?.(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Yt.push(Object.assign(Object.assign({},Fn),{id:jn.id}))}return f.bindings.postgres_changes=Yt,void(g&&g(pt.SUBSCRIBED))}g?.(pt.SUBSCRIBED)});return function(ut){return gt.apply(this,arguments)}}()).receive("error",gt=>{this.state=nt.errored,g?.(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(gt).join(", ")||"error")))}).receive("timeout",()=>{g?.(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(g){var h=this;return(0,E.A)(function*(f,k={}){return yield h.send({type:"presence",event:"track",payload:f},k.timeout||h.timeout)}).apply(this,arguments)}untrack(){var g=this;return(0,E.A)(function*(h={}){return yield g.send({type:"presence",event:"untrack"},h)}).apply(this,arguments)}on(g,h,f){return this.state===nt.joined&&g===Xe.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(g,h,f)}send(g){var h=this;return(0,E.A)(function*(f,k={}){var O,N;if(h._canPush()||"broadcast"!==f.type)return new Promise(H=>{var G,ue,oe;const De=h._push(f.type,f,k.timeout||h.timeout);"broadcast"===f.type&&!(null!==(oe=null===(ue=null===(G=h.params)||void 0===G?void 0:G.config)||void 0===ue?void 0:ue.broadcast)&&void 0!==oe&&oe.ack)&&H("ok"),De.receive("ok",()=>H("ok")),De.receive("error",()=>H("error")),De.receive("timeout",()=>H("timed out"))});{const{event:H,payload:G}=f,oe={method:"POST",headers:{Authorization:h.socket.accessTokenValue?`Bearer ${h.socket.accessTokenValue}`:"",apikey:h.socket.apiKey?h.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:h.subTopic,event:H,payload:G,private:h.private}]})};try{const De=yield h._fetchWithTimeout(h.broadcastEndpointURL,oe,null!==(O=k.timeout)&&void 0!==O?O:h.timeout);return yield null===(N=De.body)||void 0===N?void 0:N.cancel(),De.ok?"ok":"error"}catch(De){return"AbortError"===De.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(g){this.joinPush.updatePayload(g)}unsubscribe(g=this.timeout){this.state=nt.leaving;const h=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(k=>{f=new at(this,Vt.leave,{},g),f.receive("ok",()=>{h(),k("ok")}).receive("timeout",()=>{h(),k("timed out")}).receive("error",()=>{k("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f?.destroy()})}teardown(){this.pushBuffer.forEach(g=>g.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}_fetchWithTimeout(g,h,f){var k=this;return(0,E.A)(function*(){const O=new AbortController,N=setTimeout(()=>O.abort(),f),H=yield k.socket.fetch(g,Object.assign(Object.assign({},h),{signal:O.signal}));return clearTimeout(N),H})()}_push(g,h,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${g}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let k=new at(this,g,h,f);return this._canPush()?k.send():this._addToPushBuffer(k),k}_addToPushBuffer(g){if(g.startTimeout(),this.pushBuffer.push(g),this.pushBuffer.length>100){const h=this.pushBuffer.shift();h&&(h.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${h.event}`,h.payload))}}_onMessage(g,h,f){return h}_isMember(g){return this.topic===g}_joinRef(){return this.joinPush.ref}_trigger(g,h,f){var k,O;const N=g.toLocaleLowerCase(),{close:H,error:G,leave:ue,join:oe}=Vt;if(f&&[H,G,ue,oe].indexOf(N)>=0&&f!==this._joinRef())return;let yt=this._onMessage(N,h,f);if(h&&!yt)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(N)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(gt=>{var ut,$t,Ze;return"*"===(null===(ut=gt.filter)||void 0===ut?void 0:ut.event)||(null===(Ze=null===($t=gt.filter)||void 0===$t?void 0:$t.event)||void 0===Ze?void 0:Ze.toLocaleLowerCase())===N}).map(gt=>gt.callback(yt,f)):null===(O=this.bindings[N])||void 0===O||O.filter(gt=>{var ut,$t,Ze,Tn,Yt,wn;if(["broadcast","presence","postgres_changes"].includes(N)){if("id"in gt){const Fn=gt.id,xt=null===(ut=gt.filter)||void 0===ut?void 0:ut.event;return Fn&&(null===($t=h.ids)||void 0===$t?void 0:$t.includes(Fn))&&("*"===xt||xt?.toLocaleLowerCase()===(null===(Ze=h.data)||void 0===Ze?void 0:Ze.type.toLocaleLowerCase()))}{const Fn=null===(Yt=null===(Tn=gt?.filter)||void 0===Tn?void 0:Tn.event)||void 0===Yt?void 0:Yt.toLocaleLowerCase();return"*"===Fn||Fn===(null===(wn=h?.event)||void 0===wn?void 0:wn.toLocaleLowerCase())}}return gt.type.toLocaleLowerCase()===N}).map(gt=>{if("object"==typeof yt&&"ids"in yt){const ut=yt.data,{schema:$t,table:Ze,commit_timestamp:Tn,type:Yt,errors:wn}=ut;yt=Object.assign(Object.assign({},{schema:$t,table:Ze,commit_timestamp:Tn,eventType:Yt,new:{},old:{},errors:wn}),this._getPayloadRecords(ut))}gt.callback(yt,f)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(g){return`chan_reply_${g}`}_on(g,h,f){const k=g.toLocaleLowerCase(),O={type:k,filter:h,callback:f};return this.bindings[k]?this.bindings[k].push(O):this.bindings[k]=[O],this}_off(g,h){const f=g.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(k=>{var O;return!((null===(O=k.type)||void 0===O?void 0:O.toLocaleLowerCase())===f&&zt.isEqual(k.filter,h))})),this}static isEqual(g,h){if(Object.keys(g).length!==Object.keys(h).length)return!1;for(const f in g)if(g[f]!==h[f])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(g){this._on(Vt.close,{},g)}_onError(g){this._on(Vt.error,{},h=>g(h))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(g=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(g))}_getPayloadRecords(g){const h={new:{},old:{}};return("INSERT"===g.type||"UPDATE"===g.type)&&(h.new=lr(g.columns,g.record)),("UPDATE"===g.type||"DELETE"===g.type)&&(h.old=lr(g.columns,g.old_record)),h}}const kt=()=>{},Kt=[1e3,2e3,5e3,1e4];class Hn{constructor(g,h){var f;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kt,this.ref=0,this.reconnectTimer=null,this.logger=kt,this.conn=null,this.sendBuffer=[],this.serializer=new _n,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=k=>{let O;return O=k||(typeof fetch>"u"?(...N)=>Promise.resolve().then(V.bind(V,5286)).then(({default:H})=>H(...N)).catch(H=>{throw new Error(`Failed to load @supabase/node-fetch: ${H.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...N)=>O(...N)},null===(f=h?.params)||void 0===f||!f.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=h.params.apikey,this.endPoint=`${g}/${On.websocket}`,this.httpEndpoint=ct(g),this._initializeOptions(h),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(h?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=We.createWebSocket(this.endpointURL())}catch(g){this._setConnectionState("disconnected");const h=g.message;throw h.includes("Node.js")?new Error(`${h}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${h}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(g,h){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},g?this.conn.close(g,h??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(g){var h=this;return(0,E.A)(function*(){const f=yield g.unsubscribe();return 0===h.channels.length&&h.disconnect(),f})()}removeAllChannels(){var g=this;return(0,E.A)(function*(){const h=yield Promise.all(g.channels.map(f=>f.unsubscribe()));return g.channels=[],g.disconnect(),h})()}log(g,h,f){this.logger(g,h,f)}connectionState(){switch(this.conn&&this.conn.readyState){case Mt.connecting:return vn.Connecting;case Mt.open:return vn.Open;case Mt.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(g,h={config:{}}){const f=`realtime:${g}`,k=this.getChannels().find(O=>O.topic===f);if(k)return k;{const O=new zt(`realtime:${g}`,h,this);return this.channels.push(O),O}}push(g){const{topic:h,event:f,payload:k,ref:O}=g,N=()=>{this.encode(g,H=>{var G;null===(G=this.conn)||void 0===G||G.send(H)})};this.log("push",`${h} ${f} (${O})`,k),this.isConnected()?N():this.sendBuffer.push(N)}setAuth(){var g=this;return(0,E.A)(function*(h=null){g._authPromise=g._performAuth(h);try{yield g._authPromise}finally{g._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var g=this;return(0,E.A)(function*(){var h;if(g.isConnected())return g.pendingHeartbeatRef?(g.pendingHeartbeatRef=null,g.log("transport","heartbeat timeout. Attempting to re-establish connection"),g.heartbeatCallback("timeout"),g._wasManualDisconnect=!1,null===(h=g.conn)||void 0===h||h.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var f;g.isConnected()||null===(f=g.reconnectTimer)||void 0===f||f.scheduleTimeout()},100)):(g.pendingHeartbeatRef=g._makeRef(),g.push({topic:"phoenix",event:"heartbeat",payload:{},ref:g.pendingHeartbeatRef}),g.heartbeatCallback("sent"),void g._setAuthSafely("heartbeat"));g.heartbeatCallback("disconnected")})()}onHeartbeat(g){this.heartbeatCallback=g}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(g=>g()),this.sendBuffer=[])}_makeRef(){let g=this.ref+1;return this.ref=g===this.ref?0:g,this.ref.toString()}_leaveOpenTopic(g){let h=this.channels.find(f=>f.topic===g&&(f._isJoined()||f._isJoining()));h&&(this.log("transport",`leaving duplicate topic "${g}"`),h.unsubscribe())}_remove(g){this.channels=this.channels.filter(h=>h.topic!==g.topic)}_onConnMessage(g){this.decode(g.data,h=>{"phoenix"===h.topic&&"phx_reply"===h.event&&this.heartbeatCallback("ok"===h.payload.status?"ok":"error"),h.ref&&h.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:k,payload:O,ref:N}=h;this.log("receive",`${O.status||""} ${f} ${k} ${N?`(${N})`:""}`.trim(),O),this.channels.filter(ue=>ue._isMember(f)).forEach(ue=>ue._trigger(k,O,N)),this._triggerStateCallbacks("message",h)})}_clearTimer(g){var h;"heartbeat"===g&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===g&&(null===(h=this.reconnectTimer)||void 0===h||h.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=g=>this._onConnError(g),this.conn.onmessage=g=>this._onConnMessage(g),this.conn.onclose=g=>this._onConnClose(g))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(g=>g.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const g=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(g),this.workerRef.onerror=h=>{this.log("worker","worker error",h.message),this.workerRef.terminate()},this.workerRef.onmessage=h=>{"keepAlive"===h.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(g){var h;this._setConnectionState("disconnected"),this.log("transport","close",g),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(h=this.reconnectTimer)||void 0===h||h.scheduleTimeout(),this._triggerStateCallbacks("close",g)}_onConnError(g){this._setConnectionState("disconnected"),this.log("transport",`${g}`),this._triggerChanError(),this._triggerStateCallbacks("error",g)}_triggerChanError(){this.channels.forEach(g=>g._trigger(Vt.error))}_appendParams(g,h){if(0===Object.keys(h).length)return g;const f=g.match(/\?/)?"&":"?";return`${g}${f}${new URLSearchParams(h)}`}_workerObjectUrl(g){let h;if(g)h=g;else{const f=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});h=URL.createObjectURL(f)}return h}_setConnectionState(g,h=!1){this._connectionState=g,"connecting"===g?this._wasManualDisconnect=!1:"disconnecting"===g&&(this._wasManualDisconnect=h)}_performAuth(){var g=this;return(0,E.A)(function*(h=null){let f;f=h||(g.accessToken?yield g.accessToken():g.accessTokenValue),g.accessTokenValue!=f&&(g.accessTokenValue=f,g.channels.forEach(k=>{f&&k.updateJoinPayload({access_token:f,version:"realtime-js/2.15.1"}),k.joinedOnce&&k._isJoined()&&k._push(Vt.access_token,{access_token:f})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var g=this;return(0,E.A)(function*(){g._authPromise&&(yield g._authPromise)})()}_setAuthSafely(g="general"){this.setAuth().catch(h=>{this.log("error",`error setting auth in ${g}`,h)})}_triggerStateCallbacks(g,h){try{this.stateChangeCallbacks[g].forEach(f=>{try{f(h)}catch(k){this.log("error",`error in ${g} callback`,k)}})}catch(f){this.log("error",`error triggering ${g} callbacks`,f)}}_setupReconnectionTimer(){var g=this;this.reconnectTimer=new sr((0,E.A)(function*(){setTimeout((0,E.A)(function*(){yield g._waitForAuthIfNeeded(),g.isConnected()||g.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(g){var h,f,k,O,N,H,G,ue;if(this.transport=null!==(h=g?.transport)&&void 0!==h?h:null,this.timeout=null!==(f=g?.timeout)&&void 0!==f?f:1e4,this.heartbeatIntervalMs=null!==(k=g?.heartbeatIntervalMs)&&void 0!==k?k:25e3,this.worker=null!==(O=g?.worker)&&void 0!==O&&O,this.accessToken=null!==(N=g?.accessToken)&&void 0!==N?N:null,g?.params&&(this.params=g.params),g?.logger&&(this.logger=g.logger),(g?.logLevel||g?.log_level)&&(this.logLevel=g.logLevel||g.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(H=g?.reconnectAfterMs)&&void 0!==H?H:oe=>Kt[oe-1]||1e4,this.encode=null!==(G=g?.encode)&&void 0!==G?G:(oe,De)=>De(JSON.stringify(oe)),this.decode=null!==(ue=g?.decode)&&void 0!==ue?ue:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=g?.workerUrl}}}class cn extends Error{constructor(g){super(g),this.__isStorageError=!0,this.name="StorageError"}}function Bt(C){return"object"==typeof C&&null!==C&&"__isStorageError"in C}class Nr extends cn{constructor(g,h,f){super(g),this.name="StorageApiError",this.status=h,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lr extends cn{constructor(g,h){super(g),this.name="StorageUnknownError",this.originalError=h}}const bo=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},Pn=C=>{if(Array.isArray(C))return C.map(h=>Pn(h));if("function"==typeof C||C!==Object(C))return C;const g={};return Object.entries(C).forEach(([h,f])=>{const k=h.replace(/([-_][a-z])/gi,O=>O.toUpperCase().replace(/[-_]/g,""));g[k]=Pn(f)}),g};var yr=function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};const gr=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),ua=(C,g,h)=>yr(void 0,void 0,void 0,function*(){const f=yield function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(V.bind(V,5286))).Response:Response});C instanceof f&&!h?.noResolveJson?C.json().then(k=>{const O=C.status||500,N=k?.statusCode||O+"";g(new Nr(gr(k),O,N))}).catch(k=>{g(new Lr(gr(k),k))}):g(new Lr(gr(C),C))});function nr(C,g,h,f,k,O){return yr(this,void 0,void 0,function*(){return new Promise((N,H)=>{C(h,((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"!==C&&f?((C=>{if("object"!=typeof C||null===C)return!1;const g=Object.getPrototypeOf(C);return!(null!==g&&g!==Object.prototype&&null!==Object.getPrototypeOf(g)||Symbol.toStringTag in C||Symbol.iterator in C)})(f)?(k.headers=Object.assign({"Content-Type":"application/json"},g?.headers),k.body=JSON.stringify(f)):k.body=f,g?.duplex&&(k.duplex=g.duplex),Object.assign(Object.assign({},k),h)):k})(g,f,k,O)).then(G=>{if(!G.ok)throw G;return f?.noResolveJson?G:G.json()}).then(G=>N(G)).catch(G=>ua(G,H,f))})})}function Wn(C,g,h,f){return yr(this,void 0,void 0,function*(){return nr(C,"GET",g,h,f)})}function zn(C,g,h,f,k){return yr(this,void 0,void 0,function*(){return nr(C,"POST",g,f,k,h)})}function wo(C,g,h,f,k){return yr(this,void 0,void 0,function*(){return nr(C,"PUT",g,f,k,h)})}function qo(C,g,h,f,k){return yr(this,void 0,void 0,function*(){return nr(C,"DELETE",g,f,k,h)})}var Gt=function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};const Fr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qo{constructor(g,h={},f,k){this.url=g,this.headers=h,this.bucketId=f,this.fetch=bo(k)}uploadOrUpdate(g,h,f,k){return Gt(this,void 0,void 0,function*(){try{let O;const N=Object.assign(Object.assign({},Qr),k);let H=Object.assign(Object.assign({},this.headers),"POST"===g&&{"x-upsert":String(N.upsert)});const G=N.metadata;typeof Blob<"u"&&f instanceof Blob?(O=new FormData,O.append("cacheControl",N.cacheControl),G&&O.append("metadata",this.encodeMetadata(G)),O.append("",f)):typeof FormData<"u"&&f instanceof FormData?(O=f,O.append("cacheControl",N.cacheControl),G&&O.append("metadata",this.encodeMetadata(G))):(O=f,H["cache-control"]=`max-age=${N.cacheControl}`,H["content-type"]=N.contentType,G&&(H["x-metadata"]=this.toBase64(this.encodeMetadata(G)))),k?.headers&&(H=Object.assign(Object.assign({},H),k.headers));const ue=this._removeEmptyFolders(h),oe=this._getFinalPath(ue),De=yield("PUT"==g?wo:zn)(this.fetch,`${this.url}/object/${oe}`,O,Object.assign({headers:H},N?.duplex?{duplex:N.duplex}:{}));return{data:{path:ue,id:De.Id,fullPath:De.Key},error:null}}catch(O){if(Bt(O))return{data:null,error:O};throw O}})}upload(g,h,f){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",g,h,f)})}uploadToSignedUrl(g,h,f,k){return Gt(this,void 0,void 0,function*(){const O=this._removeEmptyFolders(g),N=this._getFinalPath(O),H=new URL(this.url+`/object/upload/sign/${N}`);H.searchParams.set("token",h);try{let G;const ue=Object.assign({upsert:Qr.upsert},k),oe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(ue.upsert)});return typeof Blob<"u"&&f instanceof Blob?(G=new FormData,G.append("cacheControl",ue.cacheControl),G.append("",f)):typeof FormData<"u"&&f instanceof FormData?(G=f,G.append("cacheControl",ue.cacheControl)):(G=f,oe["cache-control"]=`max-age=${ue.cacheControl}`,oe["content-type"]=ue.contentType),{data:{path:O,fullPath:(yield wo(this.fetch,H.toString(),G,{headers:oe})).Key},error:null}}catch(G){if(Bt(G))return{data:null,error:G};throw G}})}createSignedUploadUrl(g,h){return Gt(this,void 0,void 0,function*(){try{let f=this._getFinalPath(g);const k=Object.assign({},this.headers);h?.upsert&&(k["x-upsert"]="true");const O=yield zn(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:k}),N=new URL(this.url+O.url),H=N.searchParams.get("token");if(!H)throw new cn("No token returned by API");return{data:{signedUrl:N.toString(),path:g,token:H},error:null}}catch(f){if(Bt(f))return{data:null,error:f};throw f}})}update(g,h,f){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",g,h,f)})}move(g,h,f){return Gt(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers}),error:null}}catch(k){if(Bt(k))return{data:null,error:k};throw k}})}copy(g,h,f){return Gt(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(k){if(Bt(k))return{data:null,error:k};throw k}})}createSignedUrl(g,h,f){return Gt(this,void 0,void 0,function*(){try{let k=this._getFinalPath(g),O=yield zn(this.fetch,`${this.url}/object/sign/${k}`,Object.assign({expiresIn:h},f?.transform?{transform:f.transform}:{}),{headers:this.headers});const N=f?.download?`&download=${!0===f.download?"":f.download}`:"";return O={signedUrl:encodeURI(`${this.url}${O.signedURL}${N}`)},{data:O,error:null}}catch(k){if(Bt(k))return{data:null,error:k};throw k}})}createSignedUrls(g,h,f){return Gt(this,void 0,void 0,function*(){try{const k=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:h,paths:g},{headers:this.headers}),O=f?.download?`&download=${!0===f.download?"":f.download}`:"";return{data:k.map(N=>Object.assign(Object.assign({},N),{signedUrl:N.signedURL?encodeURI(`${this.url}${N.signedURL}${O}`):null})),error:null}}catch(k){if(Bt(k))return{data:null,error:k};throw k}})}download(g,h){return Gt(this,void 0,void 0,function*(){const k=typeof h?.transform<"u"?"render/image/authenticated":"object",O=this.transformOptsToQueryString(h?.transform||{}),N=O?`?${O}`:"";try{const H=this._getFinalPath(g);return{data:yield(yield Wn(this.fetch,`${this.url}/${k}/${H}${N}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(H){if(Bt(H))return{data:null,error:H};throw H}})}info(g){return Gt(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{const f=yield Wn(this.fetch,`${this.url}/object/info/${h}`,{headers:this.headers});return{data:Pn(f),error:null}}catch(f){if(Bt(f))return{data:null,error:f};throw f}})}exists(g){return Gt(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{return yield function Oo(C,g,h,f){return yr(this,void 0,void 0,function*(){return nr(C,"HEAD",g,Object.assign(Object.assign({},h),{noResolveJson:!0}),f)})}(this.fetch,`${this.url}/object/${h}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(Bt(f)&&f instanceof Lr){const k=f.originalError;if([400,404].includes(k?.status))return{data:!1,error:f}}throw f}})}getPublicUrl(g,h){const f=this._getFinalPath(g),k=[],O=h?.download?`download=${!0===h.download?"":h.download}`:"";""!==O&&k.push(O);const H=typeof h?.transform<"u"?"render/image":"object",G=this.transformOptsToQueryString(h?.transform||{});""!==G&&k.push(G);let ue=k.join("&");return""!==ue&&(ue=`?${ue}`),{data:{publicUrl:encodeURI(`${this.url}/${H}/public/${f}${ue}`)}}}remove(g){return Gt(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:g},{headers:this.headers}),error:null}}catch(h){if(Bt(h))return{data:null,error:h};throw h}})}list(g,h,f){return Gt(this,void 0,void 0,function*(){try{const k=Object.assign(Object.assign(Object.assign({},Fr),h),{prefix:g||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,k,{headers:this.headers},f),error:null}}catch(k){if(Bt(k))return{data:null,error:k};throw k}})}listV2(g,h){return Gt(this,void 0,void 0,function*(){try{const f=Object.assign({},g);return{data:yield zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},h),error:null}}catch(f){if(Bt(f))return{data:null,error:f};throw f}})}encodeMetadata(g){return JSON.stringify(g)}toBase64(g){return typeof Buffer<"u"?Buffer.from(g).toString("base64"):btoa(g)}_getFinalPath(g){return`${this.bucketId}/${g.replace(/^\/+/,"")}`}_removeEmptyFolders(g){return g.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(g){const h=[];return g.width&&h.push(`width=${g.width}`),g.height&&h.push(`height=${g.height}`),g.resize&&h.push(`resize=${g.resize}`),g.format&&h.push(`format=${g.format}`),g.quality&&h.push(`quality=${g.quality}`),h.join("&")}}const oo={"X-Client-Info":"storage-js/2.11.0"};var Kn=function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})};class Xr{constructor(g,h={},f,k){const O=new URL(g);k?.useNewHostname&&/supabase\.(co|in|red)$/.test(O.hostname)&&!O.hostname.includes("storage.supabase.")&&(O.hostname=O.hostname.replace("supabase.","storage.supabase.")),this.url=O.href,this.headers=Object.assign(Object.assign({},oo),h),this.fetch=bo(f)}listBuckets(){return Kn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(g){if(Bt(g))return{data:null,error:g};throw g}})}getBucket(g){return Kn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${g}`,{headers:this.headers}),error:null}}catch(h){if(Bt(h))return{data:null,error:h};throw h}})}createBucket(g,h={public:!1}){return Kn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:g,name:g,type:h.type,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(Bt(f))return{data:null,error:f};throw f}})}updateBucket(g,h){return Kn(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/bucket/${g}`,{id:g,name:g,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(Bt(f))return{data:null,error:f};throw f}})}emptyBucket(g){return Kn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${g}/empty`,{},{headers:this.headers}),error:null}}catch(h){if(Bt(h))return{data:null,error:h};throw h}})}deleteBucket(g){return Kn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${g}`,{},{headers:this.headers}),error:null}}catch(h){if(Bt(h))return{data:null,error:h};throw h}})}}class jr extends Xr{constructor(g,h={},f,k){super(g,h,f,k)}from(g){return new Qo(this.url,this.headers,g,this.fetch)}}let Sn="";Sn=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const wa={headers:{"X-Client-Info":`supabase-js-${Sn}/2.56.0`}},ur={schema:"public"},Yr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Br={};var Eo=V(5286);const vr=(C,g,h)=>{const f=(C=>{let g;return g=C||(typeof fetch>"u"?Eo.default:fetch),(...h)=>g(...h)})(h),k=typeof Headers>"u"?Eo.Headers:Headers;return(O,N)=>function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){var H;const G=null!==(H=yield g())&&void 0!==H?H:C;let ue=new k(N?.headers);return ue.has("apikey")||ue.set("apikey",C),ue.has("Authorization")||ue.set("Authorization",`Bearer ${G}`),f(O,Object.assign(Object.assign({},N),{headers:ue}))})};const _r=3e4,fe="X-Supabase-Api-Version",wr_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),wr_2024_01_01_name="2024-01-01",No=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Vr extends Error{constructor(g,h,f){super(g),this.__isAuthError=!0,this.name="AuthError",this.status=h,this.code=f}}function St(C){return"object"==typeof C&&null!==C&&"__isAuthError"in C}class so extends Vr{constructor(g,h,f){super(g,h,f),this.name="AuthApiError",this.status=h,this.code=f}}class Jn extends Vr{constructor(g,h){super(g),this.name="AuthUnknownError",this.originalError=h}}class Ln extends Vr{constructor(g,h,f,k){super(g,f,k),this.name=h,this.status=f}}class Zn extends Ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class $r extends Ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Er extends Ln{constructor(g){super(g,"AuthInvalidCredentialsError",400,void 0)}}class eo extends Ln{constructor(g,h=null){super(g,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lo extends Ln{constructor(g,h=null){super(g,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qn extends Ln{constructor(g,h){super(g,"AuthRetryableFetchError",h,void 0)}}function or(C){return St(C)&&"AuthRetryableFetchError"===C.name}class Hr extends Ln{constructor(g,h,f){super(g,"AuthWeakPasswordError",h,"weak_password"),this.reasons=f}}class kr extends Ln{constructor(g){super(g,"AuthInvalidJwtError",400,"invalid_jwt")}}const co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dr=" \t\n\r=".split(""),ar=(()=>{const C=new Array(128);for(let g=0;g<C.length;g+=1)C[g]=-1;for(let g=0;g<Dr.length;g+=1)C[Dr[g].charCodeAt(0)]=-2;for(let g=0;g<co.length;g+=1)C[co[g].charCodeAt(0)]=g;return C})();function Cr(C,g,h){if(null!==C)for(g.queue=g.queue<<8|C,g.queuedBits+=8;g.queuedBits>=6;)h(co[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6;else if(g.queuedBits>0)for(g.queue=g.queue<<6-g.queuedBits,g.queuedBits=6;g.queuedBits>=6;)h(co[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6}function mo(C,g,h){const f=ar[C];if(!(f>-1)){if(-2===f)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(C)}"`)}for(g.queue=g.queue<<6|f,g.queuedBits+=6;g.queuedBits>=8;)h(g.queue>>g.queuedBits-8&255),g.queuedBits-=8}function ka(C){const g=[],h=N=>{g.push(String.fromCodePoint(N))},f={utf8seq:0,codepoint:0},k={queue:0,queuedBits:0},O=N=>{!function F(C,g,h){if(0===g.utf8seq){if(C<=127)return void h(C);for(let f=1;f<6;f+=1)if(!(C>>7-f&1)){g.utf8seq=f;break}if(2===g.utf8seq)g.codepoint=31&C;else if(3===g.utf8seq)g.codepoint=15&C;else{if(4!==g.utf8seq)throw new Error("Invalid UTF-8 sequence");g.codepoint=7&C}g.utf8seq-=1}else if(g.utf8seq>0){if(C<=127)throw new Error("Invalid UTF-8 sequence");g.codepoint=g.codepoint<<6|63&C,g.utf8seq-=1,0===g.utf8seq&&h(g.codepoint)}}(N,f,h)};for(let N=0;N<C.length;N+=1)mo(C.charCodeAt(N),k,O);return g.join("")}function S(C,g){if(!(C<=127)){if(C<=2047)return g(192|C>>6),void g(128|63&C);if(C<=65535)return g(224|C>>12),g(128|C>>6&63),void g(128|63&C);if(C<=1114111)return g(240|C>>18),g(128|C>>12&63),g(128|C>>6&63),void g(128|63&C);throw new Error(`Unrecognized Unicode codepoint: ${C.toString(16)}`)}g(C)}function $(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};for(let k=0;k<C.length;k+=1)mo(C.charCodeAt(k),h,f);return new Uint8Array(g)}function Ie(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};return C.forEach(k=>Cr(k,h,f)),Cr(null,h,f),g.join("")}const Lt=()=>typeof window<"u"&&typeof document<"u",Pt={tested:!1,writable:!1},Ht=()=>{if(!Lt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Pt.tested)return Pt.writable;const C=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(C,C),globalThis.localStorage.removeItem(C),Pt.tested=!0,Pt.writable=!0}catch{Pt.tested=!0,Pt.writable=!1}return Pt.writable},hn=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},pn=function(){var C=(0,E.A)(function*(g,h,f){yield g.setItem(h,JSON.stringify(f))});return function(h,f,k){return C.apply(this,arguments)}}(),Vn=function(){var C=(0,E.A)(function*(g,h){const f=yield g.getItem(h);if(!f)return null;try{return JSON.parse(f)}catch{return f}});return function(h,f){return C.apply(this,arguments)}}(),Xn=function(){var C=(0,E.A)(function*(g,h){yield g.removeItem(h)});return function(h,f){return C.apply(this,arguments)}}();class Sr{constructor(){this.promise=new Sr.promiseConstructor((g,h)=>{this.resolve=g,this.reject=h})}}function er(C){const g=C.split(".");if(3!==g.length)throw new kr("Invalid JWT structure");for(let f=0;f<g.length;f++)if(!No.test(g[f]))throw new kr("JWT not in base64url format");return{header:JSON.parse(ka(g[0])),payload:JSON.parse(ka(g[1])),signature:$(g[2]),raw:{header:g[0],payload:g[1]}}}function hr(){return(hr=(0,E.A)(function*(C){return yield new Promise(g=>{setTimeout(()=>g(null),C)})})).apply(this,arguments)}function Wa(C){return("0"+C.toString(16)).substr(-2)}function Wr(){return(Wr=(0,E.A)(function*(C){const h=(new TextEncoder).encode(C),f=yield crypto.subtle.digest("SHA-256",h),k=new Uint8Array(f);return Array.from(k).map(O=>String.fromCharCode(O)).join("")})).apply(this,arguments)}function pr(){return pr=(0,E.A)(function*(C){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),C;const h=yield function Ca(C){return Wr.apply(this,arguments)}(C);return btoa(h).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),pr.apply(this,arguments)}function po(C,g){return So.apply(this,arguments)}function So(){return So=(0,E.A)(function*(C,g,h=!1){const f=function Da(){const g=new Uint32Array(56);if(typeof crypto>"u"){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=h.length;let k="";for(let O=0;O<56;O++)k+=h.charAt(Math.floor(Math.random()*f));return k}return crypto.getRandomValues(g),Array.from(g,Wa).join("")}();let k=f;h&&(k+="/PASSWORD_RECOVERY"),yield pn(C,`${g}-code-verifier`,k);const O=yield function Yn(C){return pr.apply(this,arguments)}(f);return[O,f===O?"plain":"s256"]}),So.apply(this,arguments)}Sr.promiseConstructor=Promise;const ma=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,no=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mr(C){if(!no.test(C))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nn(){return new Proxy({},{get:(g,h)=>{if("__isUserNotAvailableProxy"===h)return!0;if("symbol"==typeof h){const f=h.toString();if("Symbol(Symbol.toPrimitive)"===f||"Symbol(Symbol.toStringTag)"===f||"Symbol(util.inspect.custom)"===f)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${h}" property of the session object is not supported. Please use getUser() instead.`)},set:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j(C){return JSON.parse(JSON.stringify(C))}const P=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),q=[502,503,504];function he(C){return Se.apply(this,arguments)}function Se(){return(Se=(0,E.A)(function*(C){var g;if(!(C=>"object"==typeof C&&null!==C&&"status"in C&&"ok"in C&&"json"in C&&"function"==typeof C.json)(C))throw new Qn(P(C),0);if(q.includes(C.status))throw new Qn(P(C),C.status);let h,f;try{h=yield C.json()}catch(O){throw new Jn(P(O),O)}const k=function za(C){const g=C.headers.get(fe);if(!g||!g.match(ma))return null;try{return new Date(`${g}T00:00:00.0Z`)}catch{return null}}(C);if(k&&k.getTime()>=wr_2024_01_01_timestamp&&"object"==typeof h&&h&&"string"==typeof h.code?f=h.code:"object"==typeof h&&h&&"string"==typeof h.error_code&&(f=h.error_code),f){if("weak_password"===f)throw new Hr(P(h),C.status,(null===(g=h.weak_password)||void 0===g?void 0:g.reasons)||[]);if("session_not_found"===f)throw new Zn}else if("object"==typeof h&&h&&"object"==typeof h.weak_password&&h.weak_password&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.reasons.reduce((O,N)=>O&&"string"==typeof N,!0))throw new Hr(P(h),C.status,h.weak_password.reasons);throw new so(P(h),C.status||500,f)})).apply(this,arguments)}function xe(C,g,h,f){return mt.apply(this,arguments)}function mt(){return mt=(0,E.A)(function*(C,g,h,f){var k;const O=Object.assign({},f?.headers);O[fe]||(O[fe]=wr_2024_01_01_name),f?.jwt&&(O.Authorization=`Bearer ${f.jwt}`);const N=null!==(k=f?.query)&&void 0!==k?k:{};f?.redirectTo&&(N.redirect_to=f.redirectTo);const H=Object.keys(N).length?"?"+new URLSearchParams(N).toString():"",G=yield function wt(C,g,h,f,k,O){return Nt.apply(this,arguments)}(C,g,h+H,{headers:O,noResolveJson:f?.noResolveJson},{},f?.body);return f?.xform?f?.xform(G):{data:Object.assign({},G),error:null}}),mt.apply(this,arguments)}function Nt(){return(Nt=(0,E.A)(function*(C,g,h,f,k,O){const N=((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"===C?k:(k.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},g?.headers),k.body=JSON.stringify(f),Object.assign(Object.assign({},k),h))})(g,f,k,O);let H;try{H=yield C(h,Object.assign({},N))}catch(G){throw console.error(G),new Qn(P(G),0)}if(H.ok||(yield he(H)),f?.noResolveJson)return H;try{return yield H.json()}catch(G){yield he(G)}})).apply(this,arguments)}function rt(C){var g;let h=null;return function Tr(C){return C.access_token&&C.refresh_token&&C.expires_in}(C)&&(h=Object.assign({},C),C.expires_at||(h.expires_at=function Qe(C){return Math.round(Date.now()/1e3)+C}(C.expires_in))),{data:{session:h,user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function fn(C){const g=rt(C);return!g.error&&C.weak_password&&"object"==typeof C.weak_password&&Array.isArray(C.weak_password.reasons)&&C.weak_password.reasons.length&&C.weak_password.message&&"string"==typeof C.weak_password.message&&C.weak_password.reasons.reduce((h,f)=>h&&"string"==typeof f,!0)&&(g.data.weak_password=C.weak_password),g}function Zt(C){var g;return{data:{user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function dn(C){return{data:C,error:null}}function bn(C){const{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:O}=C,N=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(C,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:O},user:Object.assign({},N)},error:null}}function yn(C){return C}const sn=["global","local","others"];class An{constructor({url:g="",headers:h={},fetch:f}){this.url=g,this.headers=h,this.fetch=hn(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(g){var h=this;return(0,E.A)(function*(f,k=sn[0]){if(sn.indexOf(k)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sn.join(", ")}`);try{return yield xe(h.fetch,"POST",`${h.url}/logout?scope=${k}`,{headers:h.headers,jwt:f,noResolveJson:!0}),{data:null,error:null}}catch(O){if(St(O))return{data:null,error:O};throw O}}).apply(this,arguments)}inviteUserByEmail(g){var h=this;return(0,E.A)(function*(f,k={}){try{return yield xe(h.fetch,"POST",`${h.url}/invite`,{body:{email:f,data:k.data},headers:h.headers,redirectTo:k.redirectTo,xform:Zt})}catch(O){if(St(O))return{data:{user:null},error:O};throw O}}).apply(this,arguments)}generateLink(g){var h=this;return(0,E.A)(function*(){try{const{options:f}=g,k=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(g,["options"]),O=Object.assign(Object.assign({},k),f);return"newEmail"in k&&(O.new_email=k?.newEmail,delete O.newEmail),yield xe(h.fetch,"POST",`${h.url}/admin/generate_link`,{body:O,headers:h.headers,xform:bn,redirectTo:f?.redirectTo})}catch(f){if(St(f))return{data:{properties:null,user:null},error:f};throw f}})()}createUser(g){var h=this;return(0,E.A)(function*(){try{return yield xe(h.fetch,"POST",`${h.url}/admin/users`,{body:g,headers:h.headers,xform:Zt})}catch(f){if(St(f))return{data:{user:null},error:f};throw f}})()}listUsers(g){var h=this;return(0,E.A)(function*(){var f,k,O,N,H,G,ue;try{const oe={nextPage:null,lastPage:0,total:0},De=yield xe(h.fetch,"GET",`${h.url}/admin/users`,{headers:h.headers,noResolveJson:!0,query:{page:null!==(k=null===(f=g?.page)||void 0===f?void 0:f.toString())&&void 0!==k?k:"",per_page:null!==(N=null===(O=g?.perPage)||void 0===O?void 0:O.toString())&&void 0!==N?N:""},xform:yn});if(De.error)throw De.error;const yt=yield De.json(),gt=null!==(H=De.headers.get("x-total-count"))&&void 0!==H?H:0,ut=null!==(ue=null===(G=De.headers.get("link"))||void 0===G?void 0:G.split(","))&&void 0!==ue?ue:[];return ut.length>0&&(ut.forEach($t=>{const Ze=parseInt($t.split(";")[0].split("=")[1].substring(0,1)),Tn=JSON.parse($t.split(";")[1].split("=")[1]);oe[`${Tn}Page`]=Ze}),oe.total=parseInt(gt)),{data:Object.assign(Object.assign({},yt),oe),error:null}}catch(oe){if(St(oe))return{data:{users:[]},error:oe};throw oe}})()}getUserById(g){var h=this;return(0,E.A)(function*(){Mr(g);try{return yield xe(h.fetch,"GET",`${h.url}/admin/users/${g}`,{headers:h.headers,xform:Zt})}catch(f){if(St(f))return{data:{user:null},error:f};throw f}})()}updateUserById(g,h){var f=this;return(0,E.A)(function*(){Mr(g);try{return yield xe(f.fetch,"PUT",`${f.url}/admin/users/${g}`,{body:h,headers:f.headers,xform:Zt})}catch(k){if(St(k))return{data:{user:null},error:k};throw k}})()}deleteUser(g){var h=this;return(0,E.A)(function*(f,k=!1){Mr(f);try{return yield xe(h.fetch,"DELETE",`${h.url}/admin/users/${f}`,{headers:h.headers,body:{should_soft_delete:k},xform:Zt})}catch(O){if(St(O))return{data:{user:null},error:O};throw O}}).apply(this,arguments)}_listFactors(g){var h=this;return(0,E.A)(function*(){Mr(g.userId);try{const{data:f,error:k}=yield xe(h.fetch,"GET",`${h.url}/admin/users/${g.userId}/factors`,{headers:h.headers,xform:O=>({data:{factors:O},error:null})});return{data:f,error:k}}catch(f){if(St(f))return{data:null,error:f};throw f}})()}_deleteFactor(g){var h=this;return(0,E.A)(function*(){Mr(g.userId),Mr(g.id);try{return{data:yield xe(h.fetch,"DELETE",`${h.url}/admin/users/${g.userId}/factors/${g.id}`,{headers:h.headers}),error:null}}catch(f){if(St(f))return{data:null,error:f};throw f}})()}}function Mn(C={}){return{getItem:g=>C[g]||null,setItem:(g,h)=>{C[g]=h},removeItem:g=>{delete C[g]}}}const kn_debug=!!(globalThis&&Ht()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class $n extends Error{constructor(g){super(g),this.isAcquireTimeout=!0}}class Jo extends $n{}function Hi(C,g,h){return ha.apply(this,arguments)}function ha(){return ha=(0,E.A)(function*(C,g,h){kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",C,g);const f=new globalThis.AbortController;return g>0&&setTimeout(()=>{f.abort(),kn_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",C)},g),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(C,0===g?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},function(){var k=(0,E.A)(function*(O){if(!O){if(0===g)throw kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",C),new Jo(`Acquiring an exclusive Navigator LockManager lock "${C}" immediately failed`);if(kn_debug)try{const N=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(N,null,"  "))}catch(N){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",N)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield h()}kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",C,O.name);try{return yield h()}finally{kn_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",C,O.name)}});return function(O){return k.apply(this,arguments)}}()))}),ha.apply(this,arguments)}!function Ka(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const ea={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.71.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function li(C,g,h){return La.apply(this,arguments)}function La(){return(La=(0,E.A)(function*(C,g,h){return yield h()})).apply(this,arguments)}const ta={};const A=(()=>{class C{constructor(h){var k,O,f=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=C.nextInstanceID,C.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const N=Object.assign(Object.assign({},ea),h);if(this.logDebugMessages=!!N.debug,"function"==typeof N.debug&&(this.logger=N.debug),this.persistSession=N.persistSession,this.storageKey=N.storageKey,this.autoRefreshToken=N.autoRefreshToken,this.admin=new An({url:N.url,headers:N.headers,fetch:N.fetch}),this.url=N.url,this.headers=N.headers,this.fetch=hn(N.fetch),this.lock=N.lock||li,this.detectSessionInUrl=N.detectSessionInUrl,this.flowType=N.flowType,this.hasCustomAuthorizationHeader=N.hasCustomAuthorizationHeader,this.lock=N.lock?N.lock:Lt()&&null!==(k=globalThis?.navigator)&&void 0!==k&&k.locks?Hi:li,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(N.storage?this.storage=N.storage:Ht()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mn(this.memoryStorage)),N.userStorage&&(this.userStorage=N.userStorage)):(this.memoryStorage={},this.storage=Mn(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(H){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",H)}null===(O=this.broadcastChannel)||void 0===O||O.addEventListener("message",function(){var H=(0,E.A)(function*(G){f._debug("received broadcast notification from other tab or client",G),yield f._notifyAllSubscribers(G.data.event,G.data.session,!1)});return function(G){return H.apply(this,arguments)}}())}this.initialize()}get jwks(){var h,f;return null!==(f=null===(h=ta[this.storageKey])||void 0===h?void 0:h.jwks)&&void 0!==f?f:{keys:[]}}set jwks(h){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{jwks:h})}get jwks_cached_at(){var h,f;return null!==(f=null===(h=ta[this.storageKey])||void 0===h?void 0:h.cachedAt)&&void 0!==f?f:Number.MIN_SAFE_INTEGER}set jwks_cached_at(h){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{cachedAt:h})}_debug(...h){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.71.1) ${(new Date).toISOString()}`,...h),this}initialize(){var h=this;return(0,E.A)(function*(){return h.initializePromise||(h.initializePromise=(0,E.A)(function*(){return yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._initialize()}))})()),yield h.initializePromise})()}_initialize(){var h=this;return(0,E.A)(function*(){var f;try{const k=function Ft(C){const g={},h=new URL(C);if(h.hash&&"#"===h.hash[0])try{new URLSearchParams(h.hash.substring(1)).forEach((k,O)=>{g[O]=k})}catch{}return h.searchParams.forEach((f,k)=>{g[k]=f}),g}(window.location.href);let O="none";if(h._isImplicitGrantCallback(k)?O="implicit":(yield h._isPKCECallback(k))&&(O="pkce"),Lt()&&h.detectSessionInUrl&&"none"!==O){const{data:N,error:H}=yield h._getSessionFromURL(k,O);if(H){if(h._debug("#_initialize()","error detecting session from URL",H),function Yo(C){return St(C)&&"AuthImplicitGrantRedirectError"===C.name}(H)){const oe=null===(f=H.details)||void 0===f?void 0:f.code;if("identity_already_exists"===oe||"identity_not_found"===oe||"single_identity_not_deletable"===oe)return{error:H}}return yield h._removeSession(),{error:H}}const{session:G,redirectType:ue}=N;return h._debug("#_initialize()","detected session in URL",G,"redirect type",ue),yield h._saveSession(G),setTimeout((0,E.A)(function*(){"recovery"===ue?yield h._notifyAllSubscribers("PASSWORD_RECOVERY",G):yield h._notifyAllSubscribers("SIGNED_IN",G)}),0),{error:null}}return yield h._recoverAndRefresh(),{error:null}}catch(k){return St(k)?{error:k}:{error:new Jn("Unexpected error during initialization",k)}}finally{yield h._handleVisibilityChange(),h._debug("#_initialize()","end")}})()}signInAnonymously(h){var f=this;return(0,E.A)(function*(){var k,O,N;try{const H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{data:null!==(O=null===(k=h?.options)||void 0===k?void 0:k.data)&&void 0!==O?O:{},gotrue_meta_security:{captcha_token:null===(N=h?.options)||void 0===N?void 0:N.captchaToken}},xform:rt}),{data:G,error:ue}=H;if(ue||!G)return{data:{user:null,session:null},error:ue};const oe=G.session,De=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:De,session:oe},error:null}}catch(H){if(St(H))return{data:{user:null,session:null},error:H};throw H}})()}signUp(h){var f=this;return(0,E.A)(function*(){var k,O,N;try{let H;if("email"in h){const{email:yt,password:gt,options:ut}=h;let $t=null,Ze=null;"pkce"===f.flowType&&([$t,Ze]=yield po(f.storage,f.storageKey)),H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,redirectTo:ut?.emailRedirectTo,body:{email:yt,password:gt,data:null!==(k=ut?.data)&&void 0!==k?k:{},gotrue_meta_security:{captcha_token:ut?.captchaToken},code_challenge:$t,code_challenge_method:Ze},xform:rt})}else{if(!("phone"in h))throw new Er("You must provide either an email or phone number and a password");{const{phone:yt,password:gt,options:ut}=h;H=yield xe(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{phone:yt,password:gt,data:null!==(O=ut?.data)&&void 0!==O?O:{},channel:null!==(N=ut?.channel)&&void 0!==N?N:"sms",gotrue_meta_security:{captcha_token:ut?.captchaToken}},xform:rt})}}const{data:G,error:ue}=H;if(ue||!G)return{data:{user:null,session:null},error:ue};const oe=G.session,De=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:De,session:oe},error:null}}catch(H){if(St(H))return{data:{user:null,session:null},error:H};throw H}})()}signInWithPassword(h){var f=this;return(0,E.A)(function*(){try{let k;if("email"in h){const{email:H,password:G,options:ue}=h;k=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{email:H,password:G,gotrue_meta_security:{captcha_token:ue?.captchaToken}},xform:fn})}else{if(!("phone"in h))throw new Er("You must provide either an email or phone number and a password");{const{phone:H,password:G,options:ue}=h;k=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{phone:H,password:G,gotrue_meta_security:{captcha_token:ue?.captchaToken}},xform:fn})}}const{data:O,error:N}=k;return N?{data:{user:null,session:null},error:N}:O&&O.session&&O.user?(O.session&&(yield f._saveSession(O.session),yield f._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({user:O.user,session:O.session},O.weak_password?{weakPassword:O.weak_password}:null),error:N}):{data:{user:null,session:null},error:new $r}}catch(k){if(St(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOAuth(h){var f=this;return(0,E.A)(function*(){var k,O,N,H;return yield f._handleProviderSignIn(h.provider,{redirectTo:null===(k=h.options)||void 0===k?void 0:k.redirectTo,scopes:null===(O=h.options)||void 0===O?void 0:O.scopes,queryParams:null===(N=h.options)||void 0===N?void 0:N.queryParams,skipBrowserRedirect:null===(H=h.options)||void 0===H?void 0:H.skipBrowserRedirect})})()}exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,f._acquireLock(-1,(0,E.A)(function*(){return f._exchangeCodeForSession(h)}))})()}signInWithWeb3(h){var f=this;return(0,E.A)(function*(){const{chain:k}=h;if("solana"===k)return yield f.signInWithSolana(h);throw new Error(`@supabase/auth-js: Unsupported chain "${k}"`)})()}signInWithSolana(h){var f=this;return(0,E.A)(function*(){var k,O,N,H,G,ue,oe,De,yt,gt,ut,$t;let Ze,Tn;if("message"in h)Ze=h.message,Tn=h.signature;else{const{wallet:wn,statement:Fn,options:xt}=h;let rn;if(Lt())if("object"==typeof wn)rn=wn;else{const mn=window;if(!("solana"in mn)||"object"!=typeof mn.solana||!("signIn"in mn.solana&&"function"==typeof mn.solana.signIn||"signMessage"in mn.solana&&"function"==typeof mn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");rn=mn.solana}else{if("object"!=typeof wn||!xt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");rn=wn}const Bo=new URL(null!==(k=xt?.url)&&void 0!==k?k:window.location.href);if("signIn"in rn&&rn.signIn){const mn=yield rn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},xt?.signInWithSolana),{version:"1",domain:Bo.host,uri:Bo.href}),Fn?{statement:Fn}:null));let jn;if(Array.isArray(mn)&&mn[0]&&"object"==typeof mn[0])jn=mn[0];else{if(!(mn&&"object"==typeof mn&&"signedMessage"in mn&&"signature"in mn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");jn=mn}if(!("signedMessage"in jn&&"signature"in jn&&("string"==typeof jn.signedMessage||jn.signedMessage instanceof Uint8Array)&&jn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Ze="string"==typeof jn.signedMessage?jn.signedMessage:(new TextDecoder).decode(jn.signedMessage),Tn=jn.signature}else{if(!("signMessage"in rn&&"function"==typeof rn.signMessage&&"publicKey"in rn&&"object"==typeof rn&&rn.publicKey&&"toBase58"in rn.publicKey&&"function"==typeof rn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Ze=[`${Bo.host} wants you to sign in with your Solana account:`,rn.publicKey.toBase58(),...Fn?["",Fn,""]:[""],"Version: 1",`URI: ${Bo.href}`,`Issued At: ${null!==(N=null===(O=xt?.signInWithSolana)||void 0===O?void 0:O.issuedAt)&&void 0!==N?N:(new Date).toISOString()}`,...null!==(H=xt?.signInWithSolana)&&void 0!==H&&H.notBefore?[`Not Before: ${xt.signInWithSolana.notBefore}`]:[],...null!==(G=xt?.signInWithSolana)&&void 0!==G&&G.expirationTime?[`Expiration Time: ${xt.signInWithSolana.expirationTime}`]:[],...null!==(ue=xt?.signInWithSolana)&&void 0!==ue&&ue.chainId?[`Chain ID: ${xt.signInWithSolana.chainId}`]:[],...null!==(oe=xt?.signInWithSolana)&&void 0!==oe&&oe.nonce?[`Nonce: ${xt.signInWithSolana.nonce}`]:[],...null!==(De=xt?.signInWithSolana)&&void 0!==De&&De.requestId?[`Request ID: ${xt.signInWithSolana.requestId}`]:[],...null!==(gt=null===(yt=xt?.signInWithSolana)||void 0===yt?void 0:yt.resources)&&void 0!==gt&&gt.length?["Resources",...xt.signInWithSolana.resources.map(jn=>`- ${jn}`)]:[]].join("\n");const mn=yield rn.signMessage((new TextEncoder).encode(Ze),"utf8");if(!(mn&&mn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Tn=mn}}try{const{data:Yt,error:wn}=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=web3`,{headers:f.headers,body:Object.assign({chain:"solana",message:Ze,signature:Ie(Tn)},null!==(ut=h.options)&&void 0!==ut&&ut.captchaToken?{gotrue_meta_security:{captcha_token:null===($t=h.options)||void 0===$t?void 0:$t.captchaToken}}:null),xform:rt});if(wn)throw wn;return Yt&&Yt.session&&Yt.user?(Yt.session&&(yield f._saveSession(Yt.session),yield f._notifyAllSubscribers("SIGNED_IN",Yt.session)),{data:Object.assign({},Yt),error:wn}):{data:{user:null,session:null},error:new $r}}catch(Yt){if(St(Yt))return{data:{user:null,session:null},error:Yt};throw Yt}})()}_exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){const k=yield Vn(f.storage,`${f.storageKey}-code-verifier`),[O,N]=(k??"").split("/");try{const{data:H,error:G}=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=pkce`,{headers:f.headers,body:{auth_code:h,code_verifier:O},xform:rt});if(yield Xn(f.storage,`${f.storageKey}-code-verifier`),G)throw G;return H&&H.session&&H.user?(H.session&&(yield f._saveSession(H.session),yield f._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign(Object.assign({},H),{redirectType:N??null}),error:G}):{data:{user:null,session:null,redirectType:null},error:new $r}}catch(H){if(St(H))return{data:{user:null,session:null,redirectType:null},error:H};throw H}})()}signInWithIdToken(h){var f=this;return(0,E.A)(function*(){try{const{options:k,provider:O,token:N,access_token:H,nonce:G}=h,ue=yield xe(f.fetch,"POST",`${f.url}/token?grant_type=id_token`,{headers:f.headers,body:{provider:O,id_token:N,access_token:H,nonce:G,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:rt}),{data:oe,error:De}=ue;return De?{data:{user:null,session:null},error:De}:oe&&oe.session&&oe.user?(oe.session&&(yield f._saveSession(oe.session),yield f._notifyAllSubscribers("SIGNED_IN",oe.session)),{data:oe,error:De}):{data:{user:null,session:null},error:new $r}}catch(k){if(St(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOtp(h){var f=this;return(0,E.A)(function*(){var k,O,N,H,G;try{if("email"in h){const{email:ue,options:oe}=h;let De=null,yt=null;"pkce"===f.flowType&&([De,yt]=yield po(f.storage,f.storageKey));const{error:gt}=yield xe(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{email:ue,data:null!==(k=oe?.data)&&void 0!==k?k:{},create_user:null===(O=oe?.shouldCreateUser)||void 0===O||O,gotrue_meta_security:{captcha_token:oe?.captchaToken},code_challenge:De,code_challenge_method:yt},redirectTo:oe?.emailRedirectTo});return{data:{user:null,session:null},error:gt}}if("phone"in h){const{phone:ue,options:oe}=h,{data:De,error:yt}=yield xe(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{phone:ue,data:null!==(N=oe?.data)&&void 0!==N?N:{},create_user:null===(H=oe?.shouldCreateUser)||void 0===H||H,gotrue_meta_security:{captcha_token:oe?.captchaToken},channel:null!==(G=oe?.channel)&&void 0!==G?G:"sms"}});return{data:{user:null,session:null,messageId:De?.message_id},error:yt}}throw new Er("You must provide either an email or phone number.")}catch(ue){if(St(ue))return{data:{user:null,session:null},error:ue};throw ue}})()}verifyOtp(h){var f=this;return(0,E.A)(function*(){var k,O;try{let N,H;"options"in h&&(N=null===(k=h.options)||void 0===k?void 0:k.redirectTo,H=null===(O=h.options)||void 0===O?void 0:O.captchaToken);const{data:G,error:ue}=yield xe(f.fetch,"POST",`${f.url}/verify`,{headers:f.headers,body:Object.assign(Object.assign({},h),{gotrue_meta_security:{captcha_token:H}}),redirectTo:N,xform:rt});if(ue)throw ue;if(!G)throw new Error("An error occurred on token verification.");const oe=G.session,De=G.user;return oe?.access_token&&(yield f._saveSession(oe),yield f._notifyAllSubscribers("recovery"==h.type?"PASSWORD_RECOVERY":"SIGNED_IN",oe)),{data:{user:De,session:oe},error:null}}catch(N){if(St(N))return{data:{user:null,session:null},error:N};throw N}})()}signInWithSSO(h){var f=this;return(0,E.A)(function*(){var k,O,N;try{let H=null,G=null;return"pkce"===f.flowType&&([H,G]=yield po(f.storage,f.storageKey)),yield xe(f.fetch,"POST",`${f.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in h?{provider_id:h.providerId}:null),"domain"in h?{domain:h.domain}:null),{redirect_to:null!==(O=null===(k=h.options)||void 0===k?void 0:k.redirectTo)&&void 0!==O?O:void 0}),null!==(N=h?.options)&&void 0!==N&&N.captchaToken?{gotrue_meta_security:{captcha_token:h.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:H,code_challenge_method:G}),headers:f.headers,xform:dn})}catch(H){if(St(H))return{data:null,error:H};throw H}})()}reauthenticate(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._reauthenticate()}))})()}_reauthenticate(){var h=this;return(0,E.A)(function*(){try{return yield h._useSession(function(){var f=(0,E.A)(function*(k){const{data:{session:O},error:N}=k;if(N)throw N;if(!O)throw new Zn;const{error:H}=yield xe(h.fetch,"GET",`${h.url}/reauthenticate`,{headers:h.headers,jwt:O.access_token});return{data:{user:null,session:null},error:H}});return function(k){return f.apply(this,arguments)}}())}catch(f){if(St(f))return{data:{user:null,session:null},error:f};throw f}})()}resend(h){var f=this;return(0,E.A)(function*(){try{const k=`${f.url}/resend`;if("email"in h){const{email:O,type:N,options:H}=h,{error:G}=yield xe(f.fetch,"POST",k,{headers:f.headers,body:{email:O,type:N,gotrue_meta_security:{captcha_token:H?.captchaToken}},redirectTo:H?.emailRedirectTo});return{data:{user:null,session:null},error:G}}if("phone"in h){const{phone:O,type:N,options:H}=h,{data:G,error:ue}=yield xe(f.fetch,"POST",k,{headers:f.headers,body:{phone:O,type:N,gotrue_meta_security:{captcha_token:H?.captchaToken}}});return{data:{user:null,session:null,messageId:G?.message_id},error:ue}}throw new Er("You must provide either an email or phone number and a type")}catch(k){if(St(k))return{data:{user:null,session:null},error:k};throw k}})()}getSession(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return h._useSession(function(){var k=(0,E.A)(function*(O){return O});return function(O){return k.apply(this,arguments)}}())}))})()}_acquireLock(h,f){var k=this;return(0,E.A)(function*(){k._debug("#_acquireLock","begin",h);try{if(k.lockAcquired){const O=k.pendingInLock.length?k.pendingInLock[k.pendingInLock.length-1]:Promise.resolve(),N=(0,E.A)(function*(){return yield O,yield f()})();return k.pendingInLock.push((0,E.A)(function*(){try{yield N}catch{}})()),N}return yield k.lock(`lock:${k.storageKey}`,h,(0,E.A)(function*(){k._debug("#_acquireLock","lock acquired for storage key",k.storageKey);try{k.lockAcquired=!0;const O=f();for(k.pendingInLock.push((0,E.A)(function*(){try{yield O}catch{}})()),yield O;k.pendingInLock.length;){const N=[...k.pendingInLock];yield Promise.all(N),k.pendingInLock.splice(0,N.length)}return yield O}finally{k._debug("#_acquireLock","lock released for storage key",k.storageKey),k.lockAcquired=!1}}))}finally{k._debug("#_acquireLock","end")}})()}_useSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_useSession","begin");try{const k=yield f.__loadSession();return yield h(k)}finally{f._debug("#_useSession","end")}})()}__loadSession(){var h=this;return(0,E.A)(function*(){h._debug("#__loadSession()","begin"),h.lockAcquired||h._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let f=null;const k=yield Vn(h.storage,h.storageKey);if(h._debug("#getSession()","session from storage",k),null!==k&&(h._isValidSession(k)?f=k:(h._debug("#getSession()","session from storage is not valid"),yield h._removeSession())),!f)return{data:{session:null},error:null};const O=!!f.expires_at&&1e3*f.expires_at-Date.now()<9e4;if(h._debug("#__loadSession()",`session has${O?"":" not"} expired`,"expires_at",f.expires_at),!O){if(h.userStorage){const G=yield Vn(h.userStorage,h.storageKey+"-user");f.user=G?.user?G.user:nn()}if(h.storage.isServer&&f.user){let G=h.suppressGetSessionWarning;f=new Proxy(f,{get:(oe,De,yt)=>(!G&&"user"===De&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),G=!0,h.suppressGetSessionWarning=!0),Reflect.get(oe,De,yt))})}return{data:{session:f},error:null}}const{session:N,error:H}=yield h._callRefreshToken(f.refresh_token);return H?{data:{session:null},error:H}:{data:{session:N},error:null}}finally{h._debug("#__loadSession()","end")}})()}getUser(h){var f=this;return(0,E.A)(function*(){return h?yield f._getUser(h):(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._getUser()})))})()}_getUser(h){var f=this;return(0,E.A)(function*(){try{return h?yield xe(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:h,xform:Zt}):yield f._useSession(function(){var k=(0,E.A)(function*(O){var N,H,G;const{data:ue,error:oe}=O;if(oe)throw oe;return null!==(N=ue.session)&&void 0!==N&&N.access_token||f.hasCustomAuthorizationHeader?yield xe(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:null!==(G=null===(H=ue.session)||void 0===H?void 0:H.access_token)&&void 0!==G?G:void 0,xform:Zt}):{data:{user:null},error:new Zn}});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return function Lo(C){return St(C)&&"AuthSessionMissingError"===C.name}(k)&&(yield f._removeSession(),yield Xn(f.storage,`${f.storageKey}-code-verifier`)),{data:{user:null},error:k};throw k}})()}updateUser(h){var f=this;return(0,E.A)(function*(k,O={}){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._updateUser(k,O)}))}).apply(this,arguments)}_updateUser(h){var f=this;return(0,E.A)(function*(k,O={}){try{return yield f._useSession(function(){var N=(0,E.A)(function*(H){const{data:G,error:ue}=H;if(ue)throw ue;if(!G.session)throw new Zn;const oe=G.session;let De=null,yt=null;"pkce"===f.flowType&&null!=k.email&&([De,yt]=yield po(f.storage,f.storageKey));const{data:gt,error:ut}=yield xe(f.fetch,"PUT",`${f.url}/user`,{headers:f.headers,redirectTo:O?.emailRedirectTo,body:Object.assign(Object.assign({},k),{code_challenge:De,code_challenge_method:yt}),jwt:oe.access_token,xform:Zt});if(ut)throw ut;return oe.user=gt.user,yield f._saveSession(oe),yield f._notifyAllSubscribers("USER_UPDATED",oe),{data:{user:oe.user},error:null}});return function(H){return N.apply(this,arguments)}}())}catch(N){if(St(N))return{data:{user:null},error:N};throw N}}).apply(this,arguments)}setSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._setSession(h)}))})()}_setSession(h){var f=this;return(0,E.A)(function*(){try{if(!h.access_token||!h.refresh_token)throw new Zn;const k=Date.now()/1e3;let O=k,N=!0,H=null;const{payload:G}=er(h.access_token);if(G.exp&&(O=G.exp,N=O<=k),N){const{session:ue,error:oe}=yield f._callRefreshToken(h.refresh_token);if(oe)return{data:{user:null,session:null},error:oe};if(!ue)return{data:{user:null,session:null},error:null};H=ue}else{const{data:ue,error:oe}=yield f._getUser(h.access_token);if(oe)throw oe;H={access_token:h.access_token,refresh_token:h.refresh_token,user:ue.user,token_type:"bearer",expires_in:O-k,expires_at:O},yield f._saveSession(H),yield f._notifyAllSubscribers("SIGNED_IN",H)}return{data:{user:H.user,session:H},error:null}}catch(k){if(St(k))return{data:{session:null,user:null},error:k};throw k}})()}refreshSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._refreshSession(h)}))})()}_refreshSession(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N;if(!h){const{data:ue,error:oe}=O;if(oe)throw oe;h=null!==(N=ue.session)&&void 0!==N?N:void 0}if(!h?.refresh_token)throw new Zn;const{session:H,error:G}=yield f._callRefreshToken(h.refresh_token);return G?{data:{user:null,session:null},error:G}:H?{data:{user:H.user,session:H},error:null}:{data:{user:null,session:null},error:null}});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:{user:null,session:null},error:k};throw k}})()}_getSessionFromURL(h,f){var k=this;return(0,E.A)(function*(){try{if(!Lt())throw new eo("No browser detected.");if(h.error||h.error_description||h.error_code)throw new eo(h.error_description||"Error in URL with unspecified error_description",{error:h.error||"unspecified_error",code:h.error_code||"unspecified_code"});switch(f){case"implicit":if("pkce"===k.flowType)throw new lo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===k.flowType)throw new eo("Not a valid implicit grant flow url.")}if("pkce"===f){if(k._debug("#_initialize()","begin","is PKCE flow",!0),!h.code)throw new lo("No code detected.");const{data:Fn,error:xt}=yield k._exchangeCodeForSession(h.code);if(xt)throw xt;const rn=new URL(window.location.href);return rn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",rn.toString()),{data:{session:Fn.session,redirectType:null},error:null}}const{provider_token:O,provider_refresh_token:N,access_token:H,refresh_token:G,expires_in:ue,expires_at:oe,token_type:De}=h;if(!(H&&ue&&G&&De))throw new eo("No session defined in URL");const yt=Math.round(Date.now()/1e3),gt=parseInt(ue);let ut=yt+gt;oe&&(ut=parseInt(oe));const $t=ut-yt;1e3*$t<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${$t}s, should have been closer to ${gt}s`);const Ze=ut-gt;yt-Ze>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Ze,ut,yt):yt-Ze<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Ze,ut,yt);const{data:Tn,error:Yt}=yield k._getUser(H);if(Yt)throw Yt;const wn={provider_token:O,provider_refresh_token:N,access_token:H,expires_in:gt,expires_at:ut,refresh_token:G,token_type:De,user:Tn.user};return window.location.hash="",k._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:wn,redirectType:h.type},error:null}}catch(O){if(St(O))return{data:{session:null,redirectType:null},error:O};throw O}})()}_isImplicitGrantCallback(h){return!(!h.access_token&&!h.error_description)}_isPKCECallback(h){var f=this;return(0,E.A)(function*(){const k=yield Vn(f.storage,`${f.storageKey}-code-verifier`);return!(!h.code||!k)})()}signOut(){var h=this;return(0,E.A)(function*(f={scope:"global"}){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._signOut(f)}))}).apply(this,arguments)}_signOut(){var h=this;return(0,E.A)(function*({scope:f}={scope:"global"}){return yield h._useSession(function(){var k=(0,E.A)(function*(O){var N;const{data:H,error:G}=O;if(G)return{error:G};const ue=null===(N=H.session)||void 0===N?void 0:N.access_token;if(ue){const{error:oe}=yield h.admin.signOut(ue,f);if(oe&&(!function Zr(C){return St(C)&&"AuthApiError"===C.name}(oe)||404!==oe.status&&401!==oe.status&&403!==oe.status))return{error:oe}}return"others"!==f&&(yield h._removeSession(),yield Xn(h.storage,`${h.storageKey}-code-verifier`)),{error:null}});return function(O){return k.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(h){var f=this;const k=function st(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){const g=16*Math.random()|0;return("x"==C?g:3&g|8).toString(16)})}(),O={id:k,callback:h,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",k),this.stateChangeEmitters.delete(k)}};return this._debug("#onAuthStateChange()","registered callback with id",k),this.stateChangeEmitters.set(k,O),(0,E.A)(function*(){yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){f._emitInitialSession(k)}))})(),{data:{subscription:O}}}_emitInitialSession(h){var f=this;return(0,E.A)(function*(){return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N,H;try{const{data:{session:G},error:ue}=O;if(ue)throw ue;yield null===(N=f.stateChangeEmitters.get(h))||void 0===N?void 0:N.callback("INITIAL_SESSION",G),f._debug("INITIAL_SESSION","callback id",h,"session",G)}catch(G){yield null===(H=f.stateChangeEmitters.get(h))||void 0===H?void 0:H.callback("INITIAL_SESSION",null),f._debug("INITIAL_SESSION","callback id",h,"error",G),console.error(G)}});return function(O){return k.apply(this,arguments)}}())})()}resetPasswordForEmail(h){var f=this;return(0,E.A)(function*(k,O={}){let N=null,H=null;"pkce"===f.flowType&&([N,H]=yield po(f.storage,f.storageKey,!0));try{return yield xe(f.fetch,"POST",`${f.url}/recover`,{body:{email:k,code_challenge:N,code_challenge_method:H,gotrue_meta_security:{captcha_token:O.captchaToken}},headers:f.headers,redirectTo:O.redirectTo})}catch(G){if(St(G))return{data:null,error:G};throw G}}).apply(this,arguments)}getUserIdentities(){var h=this;return(0,E.A)(function*(){var f;try{const{data:k,error:O}=yield h.getUser();if(O)throw O;return{data:{identities:null!==(f=k.user.identities)&&void 0!==f?f:[]},error:null}}catch(k){if(St(k))return{data:null,error:k};throw k}})()}linkIdentity(h){var f=this;return(0,E.A)(function*(){var k;try{const{data:O,error:N}=yield f._useSession(function(){var H=(0,E.A)(function*(G){var ue,oe,De,yt,gt;const{data:ut,error:$t}=G;if($t)throw $t;const Ze=yield f._getUrlForProvider(`${f.url}/user/identities/authorize`,h.provider,{redirectTo:null===(ue=h.options)||void 0===ue?void 0:ue.redirectTo,scopes:null===(oe=h.options)||void 0===oe?void 0:oe.scopes,queryParams:null===(De=h.options)||void 0===De?void 0:De.queryParams,skipBrowserRedirect:!0});return yield xe(f.fetch,"GET",Ze,{headers:f.headers,jwt:null!==(gt=null===(yt=ut.session)||void 0===yt?void 0:yt.access_token)&&void 0!==gt?gt:void 0})});return function(G){return H.apply(this,arguments)}}());if(N)throw N;return Lt()&&!(null!==(k=h.options)&&void 0!==k&&k.skipBrowserRedirect)&&window.location.assign(O?.url),{data:{provider:h.provider,url:O?.url},error:null}}catch(O){if(St(O))return{data:{provider:h.provider,url:null},error:O};throw O}})()}unlinkIdentity(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N,H;const{data:G,error:ue}=O;if(ue)throw ue;return yield xe(f.fetch,"DELETE",`${f.url}/user/identities/${h.identity_id}`,{headers:f.headers,jwt:null!==(H=null===(N=G.session)||void 0===N?void 0:N.access_token)&&void 0!==H?H:void 0})});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:null,error:k};throw k}})()}_refreshAccessToken(h){var f=this;return(0,E.A)(function*(){const k=`#_refreshAccessToken(${h.substring(0,5)}...)`;f._debug(k,"begin");try{const O=Date.now();return yield function to(C,g){return new Promise((f,k)=>{(0,E.A)(function*(){for(let O=0;O<1/0;O++)try{const N=yield C(O);if(!g(O,null,N))return void f(N)}catch(N){if(!g(O,N))return void k(N)}})()})}(function(){var N=(0,E.A)(function*(H){return H>0&&(yield function ho(C){return hr.apply(this,arguments)}(200*Math.pow(2,H-1))),f._debug(k,"refreshing attempt",H),yield xe(f.fetch,"POST",`${f.url}/token?grant_type=refresh_token`,{body:{refresh_token:h},headers:f.headers,xform:rt})});return function(H){return N.apply(this,arguments)}}(),(N,H)=>{const G=200*Math.pow(2,N);return H&&or(H)&&Date.now()+G-O<_r})}catch(O){if(f._debug(k,"error",O),St(O))return{data:{session:null,user:null},error:O};throw O}finally{f._debug(k,"end")}})()}_isValidSession(h){return"object"==typeof h&&null!==h&&"access_token"in h&&"refresh_token"in h&&"expires_at"in h}_handleProviderSignIn(h,f){var k=this;return(0,E.A)(function*(){const O=yield k._getUrlForProvider(`${k.url}/authorize`,h,{redirectTo:f.redirectTo,scopes:f.scopes,queryParams:f.queryParams});return k._debug("#_handleProviderSignIn()","provider",h,"options",f,"url",O),Lt()&&!f.skipBrowserRedirect&&window.location.assign(O),{data:{provider:h,url:O},error:null}})()}_recoverAndRefresh(){var h=this;return(0,E.A)(function*(){var f,k;const O="#_recoverAndRefresh()";h._debug(O,"begin");try{const N=yield Vn(h.storage,h.storageKey);if(N&&h.userStorage){let G=yield Vn(h.userStorage,h.storageKey+"-user");!h.storage.isServer&&Object.is(h.storage,h.userStorage)&&!G&&(G={user:N.user},yield pn(h.userStorage,h.storageKey+"-user",G)),N.user=null!==(f=G?.user)&&void 0!==f?f:nn()}else if(N&&!N.user&&!N.user){const G=yield Vn(h.storage,h.storageKey+"-user");G&&G?.user?(N.user=G.user,yield Xn(h.storage,h.storageKey+"-user"),yield pn(h.storage,h.storageKey,N)):N.user=nn()}if(h._debug(O,"session from storage",N),!h._isValidSession(N))return h._debug(O,"session is not valid"),void(null!==N&&(yield h._removeSession()));const H=1e3*(null!==(k=N.expires_at)&&void 0!==k?k:1/0)-Date.now()<9e4;if(h._debug(O,`session has${H?"":" not"} expired with margin of 90000s`),H){if(h.autoRefreshToken&&N.refresh_token){const{error:G}=yield h._callRefreshToken(N.refresh_token);G&&(console.error(G),or(G)||(h._debug(O,"refresh failed with a non-retryable error, removing the session",G),yield h._removeSession()))}}else if(N.user&&!0===N.user.__isUserNotAvailableProxy)try{const{data:G,error:ue}=yield h._getUser(N.access_token);!ue&&G?.user?(N.user=G.user,yield h._saveSession(N),yield h._notifyAllSubscribers("SIGNED_IN",N)):h._debug(O,"could not get user data, skipping SIGNED_IN notification")}catch(G){console.error("Error getting user data:",G),h._debug(O,"error getting user data, skipping SIGNED_IN notification",G)}else yield h._notifyAllSubscribers("SIGNED_IN",N)}catch(N){return h._debug(O,"error",N),void console.error(N)}finally{h._debug(O,"end")}})()}_callRefreshToken(h){var f=this;return(0,E.A)(function*(){var k,O;if(!h)throw new Zn;if(f.refreshingDeferred)return f.refreshingDeferred.promise;const N=`#_callRefreshToken(${h.substring(0,5)}...)`;f._debug(N,"begin");try{f.refreshingDeferred=new Sr;const{data:H,error:G}=yield f._refreshAccessToken(h);if(G)throw G;if(!H.session)throw new Zn;yield f._saveSession(H.session),yield f._notifyAllSubscribers("TOKEN_REFRESHED",H.session);const ue={session:H.session,error:null};return f.refreshingDeferred.resolve(ue),ue}catch(H){if(f._debug(N,"error",H),St(H)){const G={session:null,error:H};return or(H)||(yield f._removeSession()),null===(k=f.refreshingDeferred)||void 0===k||k.resolve(G),G}throw null===(O=f.refreshingDeferred)||void 0===O||O.reject(H),H}finally{f.refreshingDeferred=null,f._debug(N,"end")}})()}_notifyAllSubscribers(h,f){var k=this;return(0,E.A)(function*(O,N,H=!0){const G=`#_notifyAllSubscribers(${O})`;k._debug(G,"begin",N,`broadcast = ${H}`);try{k.broadcastChannel&&H&&k.broadcastChannel.postMessage({event:O,session:N});const ue=[],oe=Array.from(k.stateChangeEmitters.values()).map(function(){var De=(0,E.A)(function*(yt){try{yield yt.callback(O,N)}catch(gt){ue.push(gt)}});return function(yt){return De.apply(this,arguments)}}());if(yield Promise.all(oe),ue.length>0){for(let De=0;De<ue.length;De+=1)console.error(ue[De]);throw ue[0]}}finally{k._debug(G,"end")}}).apply(this,arguments)}_saveSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_saveSession()",h),f.suppressGetSessionWarning=!0;const k=Object.assign({},h);if(f.userStorage){(!k.user||!0!==k.user.__isUserNotAvailableProxy)&&k.user&&(yield pn(f.userStorage,f.storageKey+"-user",{user:k.user}));const N=Object.assign({},k);delete N.user;const H=j(N);yield pn(f.storage,f.storageKey,H)}else{const N=j(k);yield pn(f.storage,f.storageKey,N)}})()}_removeSession(){var h=this;return(0,E.A)(function*(){h._debug("#_removeSession()"),yield Xn(h.storage,h.storageKey),yield Xn(h.storage,h.storageKey+"-code-verifier"),yield Xn(h.storage,h.storageKey+"-user"),h.userStorage&&(yield Xn(h.userStorage,h.storageKey+"-user")),yield h._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const h=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{h&&Lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",h)}catch(f){console.error("removing visibilitychange callback failed",f)}}_startAutoRefresh(){var h=this;return(0,E.A)(function*(){yield h._stopAutoRefresh(),h._debug("#_startAutoRefresh()");const f=setInterval(()=>h._autoRefreshTokenTick(),_r);h.autoRefreshTicker=f,f&&"object"==typeof f&&"function"==typeof f.unref?f.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(f),setTimeout((0,E.A)(function*(){yield h.initializePromise,yield h._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._debug("#_stopAutoRefresh()");const f=h.autoRefreshTicker;h.autoRefreshTicker=null,f&&clearInterval(f)})()}startAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._startAutoRefresh()})()}stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._stopAutoRefresh()})()}_autoRefreshTokenTick(){var h=this;return(0,E.A)(function*(){h._debug("#_autoRefreshTokenTick()","begin");try{yield h._acquireLock(0,(0,E.A)(function*(){try{const f=Date.now();try{return yield h._useSession(function(){var k=(0,E.A)(function*(O){const{data:{session:N}}=O;if(!N||!N.refresh_token||!N.expires_at)return void h._debug("#_autoRefreshTokenTick()","no session");const H=Math.floor((1e3*N.expires_at-f)/_r);h._debug("#_autoRefreshTokenTick()",`access token expires in ${H} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),H<=3&&(yield h._callRefreshToken(N.refresh_token))});return function(O){return k.apply(this,arguments)}}())}catch(k){console.error("Auto refresh tick failed with error. This is likely a transient error.",k)}}finally{h._debug("#_autoRefreshTokenTick()","end")}}))}catch(f){if(!(f.isAcquireTimeout||f instanceof $n))throw f;h._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var h=this;return(0,E.A)(function*(){if(h._debug("#_handleVisibilityChange()"),!Lt()||!window?.addEventListener)return h.autoRefreshToken&&h.startAutoRefresh(),!1;try{h.visibilityChangedCallback=(0,E.A)(function*(){return yield h._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",h.visibilityChangedCallback),yield h._onVisibilityChanged(!0)}catch(f){console.error("_handleVisibilityChange",f)}})()}_onVisibilityChanged(h){var f=this;return(0,E.A)(function*(){const k=`#_onVisibilityChanged(${h})`;f._debug(k,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(f.autoRefreshToken&&f._startAutoRefresh(),h||(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){"visible"===document.visibilityState?yield f._recoverAndRefresh():f._debug(k,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&f.autoRefreshToken&&f._stopAutoRefresh()})()}_getUrlForProvider(h,f,k){var O=this;return(0,E.A)(function*(){const N=[`provider=${encodeURIComponent(f)}`];if(k?.redirectTo&&N.push(`redirect_to=${encodeURIComponent(k.redirectTo)}`),k?.scopes&&N.push(`scopes=${encodeURIComponent(k.scopes)}`),"pkce"===O.flowType){const[H,G]=yield po(O.storage,O.storageKey),ue=new URLSearchParams({code_challenge:`${encodeURIComponent(H)}`,code_challenge_method:`${encodeURIComponent(G)}`});N.push(ue.toString())}if(k?.queryParams){const H=new URLSearchParams(k.queryParams);N.push(H.toString())}return k?.skipBrowserRedirect&&N.push(`skip_http_redirect=${k.skipBrowserRedirect}`),`${h}?${N.join("&")}`})()}_unenroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N;const{data:H,error:G}=O;return G?{data:null,error:G}:yield xe(f.fetch,"DELETE",`${f.url}/factors/${h.factorId}`,{headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token})});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:null,error:k};throw k}})()}_enroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N,H;const{data:G,error:ue}=O;if(ue)return{data:null,error:ue};const oe=Object.assign({friendly_name:h.friendlyName,factor_type:h.factorType},"phone"===h.factorType?{phone:h.phone}:{issuer:h.issuer}),{data:De,error:yt}=yield xe(f.fetch,"POST",`${f.url}/factors`,{body:oe,headers:f.headers,jwt:null===(N=G?.session)||void 0===N?void 0:N.access_token});return yt?{data:null,error:yt}:("totp"===h.factorType&&!(null===(H=De?.totp)||void 0===H)&&H.qr_code&&(De.totp.qr_code=`data:image/svg+xml;utf-8,${De.totp.qr_code}`),{data:De,error:null})});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:null,error:k};throw k}})()}_verify(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N;const{data:H,error:G}=O;if(G)return{data:null,error:G};const{data:ue,error:oe}=yield xe(f.fetch,"POST",`${f.url}/factors/${h.factorId}/verify`,{body:{code:h.code,challenge_id:h.challengeId},headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token});return oe?{data:null,error:oe}:(yield f._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+ue.expires_in},ue)),yield f._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",ue),{data:ue,error:oe})});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:null,error:k};throw k}}))})()}_challenge(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(O){var N;const{data:H,error:G}=O;return G?{data:null,error:G}:yield xe(f.fetch,"POST",`${f.url}/factors/${h.factorId}/challenge`,{body:{channel:h.channel},headers:f.headers,jwt:null===(N=H?.session)||void 0===N?void 0:N.access_token})});return function(O){return k.apply(this,arguments)}}())}catch(k){if(St(k))return{data:null,error:k};throw k}}))})()}_challengeAndVerify(h){var f=this;return(0,E.A)(function*(){const{data:k,error:O}=yield f._challenge({factorId:h.factorId});return O?{data:null,error:O}:yield f._verify({factorId:h.factorId,challengeId:k.id,code:h.code})})()}_listFactors(){var h=this;return(0,E.A)(function*(){const{data:{user:f},error:k}=yield h.getUser();if(k)return{data:null,error:k};const O=f?.factors||[],N=O.filter(G=>"totp"===G.factor_type&&"verified"===G.status),H=O.filter(G=>"phone"===G.factor_type&&"verified"===G.status);return{data:{all:O,totp:N,phone:H},error:null}})()}_getAuthenticatorAssuranceLevel(){var h=this;return(0,E.A)(function*(){return h._acquireLock(-1,(0,E.A)(function*(){return yield h._useSession(function(){var f=(0,E.A)(function*(k){var O,N;const{data:{session:H},error:G}=k;if(G)return{data:null,error:G};if(!H)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:ue}=er(H.access_token);let oe=null;ue.aal&&(oe=ue.aal);let De=oe;return(null!==(N=null===(O=H.user.factors)||void 0===O?void 0:O.filter(ut=>"verified"===ut.status))&&void 0!==N?N:[]).length>0&&(De="aal2"),{data:{currentLevel:oe,nextLevel:De,currentAuthenticationMethods:ue.amr||[]},error:null}});return function(k){return f.apply(this,arguments)}}())}))})()}fetchJwk(h){var f=this;return(0,E.A)(function*(k,O={keys:[]}){let N=O.keys.find(oe=>oe.kid===k);if(N)return N;const H=Date.now();if(N=f.jwks.keys.find(oe=>oe.kid===k),N&&f.jwks_cached_at+6e5>H)return N;const{data:G,error:ue}=yield xe(f.fetch,"GET",`${f.url}/.well-known/jwks.json`,{headers:f.headers});if(ue)throw ue;return G.keys&&0!==G.keys.length&&(f.jwks=G,f.jwks_cached_at=H,N=G.keys.find(oe=>oe.kid===k),N)?N:null}).apply(this,arguments)}getClaims(h){var f=this;return(0,E.A)(function*(k,O={}){try{let N=k;if(!N){const{data:Ze,error:Tn}=yield f.getSession();if(Tn||!Ze.session)return{data:null,error:Tn};N=Ze.session.access_token}const{header:H,payload:G,signature:ue,raw:{header:oe,payload:De}}=er(N);O?.allowExpired||function Sa(C){if(!C)throw new Error("Missing exp claim");if(C<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(G.exp);const yt=H.alg&&!H.alg.startsWith("HS")&&H.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield f.fetchJwk(H.kid,O?.keys?{keys:O.keys}:O?.jwks):null;if(!yt){const{error:Ze}=yield f.getUser(N);if(Ze)throw Ze;return{data:{claims:G,header:H,signature:ue},error:null}}const gt=function Ar(C){switch(C){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(H.alg),ut=yield crypto.subtle.importKey("jwk",yt,gt,!0,["verify"]);if(!(yield crypto.subtle.verify(gt,ut,ue,function ie(C){const g=[];return function Q(C,g){for(let h=0;h<C.length;h+=1){let f=C.charCodeAt(h);if(f>55295&&f<=56319){const k=1024*(f-55296)&65535;f=65536+(C.charCodeAt(h+1)-56320&65535|k),h+=1}S(f,g)}}(C,h=>g.push(h)),new Uint8Array(g)}(`${oe}.${De}`))))throw new kr("Invalid JWT signature");return{data:{claims:G,header:H,signature:ue},error:null}}catch(N){if(St(N))return{data:null,error:N};throw N}}).apply(this,arguments)}}return C.nextInstanceID=0,C})();class M extends A{constructor(g){super(g)}}(function ft(){if(typeof window<"u"||typeof process>"u")return!1;const C=process.version;if(null==C)return!1;const g=C.match(/^v(\d+)\./);return!!g&&parseInt(g[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var At=V(2615);const zr=globalThis,jo=zr.__supabaseClient??new class U{constructor(g,h,f){var k,O,N;if(this.supabaseUrl=g,this.supabaseKey=h,!g)throw new Error("supabaseUrl is required.");if(!h)throw new Error("supabaseKey is required.");const H=function Do(C){return C.endsWith("/")?C:C+"/"}(g),G=new URL(H);this.realtimeUrl=new URL("realtime/v1",G),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",G),this.storageUrl=new URL("storage/v1",G),this.functionsUrl=new URL("functions/v1",G);const ue=`sb-${G.hostname.split(".")[0]}-auth-token`,De=function Co(C,g){var h,f;const{db:k,auth:O,realtime:N,global:H}=C,{db:G,auth:ue,realtime:oe,global:De}=g,yt={db:Object.assign(Object.assign({},G),k),auth:Object.assign(Object.assign({},ue),O),realtime:Object.assign(Object.assign({},oe),N),storage:{},global:Object.assign(Object.assign(Object.assign({},De),H),{headers:Object.assign(Object.assign({},null!==(h=De?.headers)&&void 0!==h?h:{}),null!==(f=H?.headers)&&void 0!==f?f:{})}),accessToken:()=>function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){return""})};return C.accessToken?yt.accessToken=C.accessToken:delete yt.accessToken,yt}(f??{},{db:ur,realtime:Br,auth:Object.assign(Object.assign({},Yr),{storageKey:ue}),global:wa});this.storageKey=null!==(k=De.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==(O=De.global.headers)&&void 0!==O?O:{},De.accessToken?(this.accessToken=De.accessToken,this.auth=new Proxy({},{get:(yt,gt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(gt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(N=De.auth)&&void 0!==N?N:{},this.headers,De.global.fetch),this.fetch=vr(h,this._getAccessToken.bind(this),De.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},De.realtime)),this.rest=new re(new URL("rest/v1",G).href,{headers:this.headers,schema:De.db.schema,fetch:this.fetch}),this.storage=new jr(this.storageUrl.href,this.headers,this.fetch,f?.storage),De.accessToken||this._listenForAuthEvents()}get functions(){return new _e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,h={},f={}){return this.rest.rpc(g,h,f)}channel(g,h={config:{}}){return this.realtime.channel(g,h)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var g,h;return function(C,g,h,f){return new(h||(h=Promise))(function(O,N){function H(oe){try{ue(f.next(oe))}catch(De){N(De)}}function G(oe){try{ue(f.throw(oe))}catch(De){N(De)}}function ue(oe){oe.done?O(oe.value):function k(O){return O instanceof h?O:new h(function(N){N(O)})}(oe.value).then(H,G)}ue((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:f}=yield this.auth.getSession();return null!==(h=null===(g=f.session)||void 0===g?void 0:g.access_token)&&void 0!==h?h:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,storageKey:O,flowType:N,lock:H,debug:G},ue,oe){return new M({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),ue),storageKey:O,autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,flowType:N,lock:H,debug:G,fetch:oe,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(g){return new Hn(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,f)=>{this._handleTokenChanged(h,"CLIENT",f?.access_token)})}_handleTokenChanged(g,h,f){"TOKEN_REFRESHED"!==g&&"SIGNED_IN"!==g||this.changedAccessToken===f?"SIGNED_OUT"===g&&(this.realtime.setAuth(),"STORAGE"==h&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=f}}("https://ymlekirbwjanuxrclsgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltbGVraXJid2phbnV4cmNsc2dmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNjk4OTUsImV4cCI6MjA3MTY0NTg5NX0._a0-aMgphg5_bFCzy7oHhPRkP9Q54dRWGrZN4rzVnHM",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});zr.__supabaseClient=jo;let Aa=(()=>{class C{getCharacter(){return(0,E.A)(function*(){const{data:h,error:f}=yield jo.from("character").select("id,name,type,level").order("id",{ascending:!0});if(f)throw f;return h??[]})()}getUnlockedCraftableItems(){return(0,E.A)(function*(h=null){let f=jo.from("craftable_item").select("id").eq("unlocked",!0).order("id",{ascending:!0});h&&(f=f.eq("type",h));const{data:k,error:O}=yield f;if(O)throw O;return k??[]}).apply(this,arguments)}static \u0275fac=function(f){return new(f||C)};static \u0275prov=At.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},1985:(it,Ee,V)=>{"use strict";V.d(Ee,{c:()=>le});var E=V(7707),i=V(8359),z=V(3494),x=V(1203),X=V(1026),Z=V(8071),J=V(9786);let le=(()=>{class ce{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Oe=new ce;return Oe.source=this,Oe.operator=ye,Oe}subscribe(ye,Oe,He){const ze=function re(ce){return ce&&ce instanceof E.vU||function pe(ce){return ce&&(0,Z.T)(ce.next)&&(0,Z.T)(ce.error)&&(0,Z.T)(ce.complete)}(ce)&&(0,i.Uv)(ce)}(ye)?ye:new E.Ms(ye,Oe,He);return(0,J.Y)(()=>{const{operator:Ge,source:We}=this;ze.add(Ge?Ge.call(ze,We):We?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Oe){ye.error(Oe)}}forEach(ye,Oe){return new(Oe=_e(Oe))((He,ze)=>{const Ge=new E.Ms({next:We=>{try{ye(We)}catch(bt){ze(bt),Ge.unsubscribe()}},error:ze,complete:He});this.subscribe(Ge)})}_subscribe(ye){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(ye)}[z.s](){return this}pipe(...ye){return(0,x.m)(ye)(this)}toPromise(ye){return new(ye=_e(ye))((Oe,He)=>{let ze;this.subscribe(Ge=>ze=Ge,Ge=>He(Ge),()=>Oe(ze))})}}return ce.create=de=>new ce(de),ce})();function _e(ce){var de;return null!==(de=ce??X.$.Promise)&&void 0!==de?de:Promise}},2200:(it,Ee,V)=>{"use strict";V.d(Ee,{Jj:()=>St,MD:()=>ka,Sq:()=>cr,YU:()=>Br,bT:()=>qn,fw:()=>Z,vh:()=>Er});var E=V(2615),i=V(3664),z=V(7705),x=V(3597),X=V(7303);let Z=(()=>{class S extends X.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(F,$){super(),this._platformLocation=F,null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(F){const $=(0,X.om)(this._baseHref,F);return $.length>0?"#"+$:$}pushState(F,$,ie,Ie){const Qe=this.prepareExternalUrl(ie+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.pushState(F,$,Qe)}replaceState(F,$,ie,Ie){const Qe=this.prepareExternalUrl(ie+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.replaceState(F,$,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static \u0275fac=function($){return new($||S)(E.KVO(X.Vw),E.KVO(X.kB,8))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac})}return S})();var pe=function(S){return S[S.Format=0]="Format",S[S.Standalone=1]="Standalone",S}(pe||{}),re=function(S){return S[S.Narrow=0]="Narrow",S[S.Abbreviated=1]="Abbreviated",S[S.Wide=2]="Wide",S[S.Short=3]="Short",S}(re||{}),ce=function(S){return S[S.Short=0]="Short",S[S.Medium=1]="Medium",S[S.Long=2]="Long",S[S.Full=3]="Full",S}(ce||{});function Te(S,Q){return Re((0,i.kBR)(S)[i.NSC.DateFormat],Q)}function Ce(S,Q){return Re((0,i.kBR)(S)[i.NSC.TimeFormat],Q)}function Ve(S,Q){return Re((0,i.kBR)(S)[i.NSC.DateTimeFormat],Q)}function Fe(S,Q){const F=(0,i.kBR)(S),$=F[i.NSC.NumberSymbols][Q];if(typeof $>"u"){if(12===Q)return F[i.NSC.NumberSymbols][0];if(13===Q)return F[i.NSC.NumberSymbols][1]}return $}function _n(S){if(!S[i.NSC.ExtraData])throw new E.buA(2303,!1)}function Re(S,Q){for(let F=Q;F>-1;F--)if(typeof S[F]<"u")return S[F];throw new E.buA(2304,!1)}function Ke(S){const[Q,F]=S.split(":");return{hours:+Q,minutes:+F}}const ge=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ke={},Le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ct(S,Q,F,$){let ie=function fr(S){if(gr(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[ie,Ie=1,Qe=1]=S.split("-").map(st=>+st);return Xt(ie,Ie-1,Qe)}const F=parseFloat(S);if(!isNaN(S-F))return new Date(F);let $;if($=S.match(ge))return function yr(S){const Q=new Date(0);let F=0,$=0;const ie=S[8]?Q.setUTCFullYear:Q.setFullYear,Ie=S[8]?Q.setUTCHours:Q.setHours;S[9]&&(F=Number(S[9]+S[10]),$=Number(S[9]+S[11])),ie.call(Q,Number(S[1]),Number(S[2])-1,Number(S[3]));const Qe=Number(S[4]||0)-F,st=Number(S[5]||0)-$,Lt=Number(S[6]||0),Pt=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return Ie.call(Q,Qe,st,Lt,Pt),Q}($)}const Q=new Date(S);if(!gr(Q))throw new E.buA(2302,!1);return Q}(S);Q=me(F,Q)||Q;let st,Qe=[];for(;Q;){if(st=Le.exec(Q),!st){Qe.push(Q);break}{Qe=Qe.concat(st.slice(1));const Ht=Qe.pop();if(!Ht)break;Q=Ht}}let Lt=ie.getTimezoneOffset();$&&(Lt=bo($,Lt),ie=function Pn(S,Q){const ie=S.getTimezoneOffset();return function Ro(S,Q){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+Q),S}(S,-1*(bo(Q,ie)-ie))}(ie,$));let Pt="";return Qe.forEach(Ht=>{const Ft=function la(S){if(Lr[S])return Lr[S];let Q;switch(S){case"G":case"GG":case"GGG":Q=kt(3,re.Abbreviated);break;case"GGGG":Q=kt(3,re.Wide);break;case"GGGGG":Q=kt(3,re.Narrow);break;case"y":Q=Ue(0,1,0,!1,!0);break;case"yy":Q=Ue(0,2,0,!0,!0);break;case"yyy":Q=Ue(0,3,0,!1,!0);break;case"yyyy":Q=Ue(0,4,0,!1,!0);break;case"Y":Q=Nr(1);break;case"YY":Q=Nr(2,!0);break;case"YYY":Q=Nr(3);break;case"YYYY":Q=Nr(4);break;case"M":case"L":Q=Ue(1,1,1);break;case"MM":case"LL":Q=Ue(1,2,1);break;case"MMM":Q=kt(2,re.Abbreviated);break;case"MMMM":Q=kt(2,re.Wide);break;case"MMMMM":Q=kt(2,re.Narrow);break;case"LLL":Q=kt(2,re.Abbreviated,pe.Standalone);break;case"LLLL":Q=kt(2,re.Wide,pe.Standalone);break;case"LLLLL":Q=kt(2,re.Narrow,pe.Standalone);break;case"w":Q=Bt(1);break;case"ww":Q=Bt(2);break;case"W":Q=Bt(1,!0);break;case"d":Q=Ue(2,1);break;case"dd":Q=Ue(2,2);break;case"c":case"cc":Q=Ue(7,1);break;case"ccc":Q=kt(1,re.Abbreviated,pe.Standalone);break;case"cccc":Q=kt(1,re.Wide,pe.Standalone);break;case"ccccc":Q=kt(1,re.Narrow,pe.Standalone);break;case"cccccc":Q=kt(1,re.Short,pe.Standalone);break;case"E":case"EE":case"EEE":Q=kt(1,re.Abbreviated);break;case"EEEE":Q=kt(1,re.Wide);break;case"EEEEE":Q=kt(1,re.Narrow);break;case"EEEEEE":Q=kt(1,re.Short);break;case"a":case"aa":case"aaa":Q=kt(0,re.Abbreviated);break;case"aaaa":Q=kt(0,re.Wide);break;case"aaaaa":Q=kt(0,re.Narrow);break;case"b":case"bb":case"bbb":Q=kt(0,re.Abbreviated,pe.Standalone,!0);break;case"bbbb":Q=kt(0,re.Wide,pe.Standalone,!0);break;case"bbbbb":Q=kt(0,re.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":Q=kt(0,re.Abbreviated,pe.Format,!0);break;case"BBBB":Q=kt(0,re.Wide,pe.Format,!0);break;case"BBBBB":Q=kt(0,re.Narrow,pe.Format,!0);break;case"h":Q=Ue(3,1,-12);break;case"hh":Q=Ue(3,2,-12);break;case"H":Q=Ue(3,1);break;case"HH":Q=Ue(3,2);break;case"m":Q=Ue(4,1);break;case"mm":Q=Ue(4,2);break;case"s":Q=Ue(5,1);break;case"ss":Q=Ue(5,2);break;case"S":Q=Ue(6,1);break;case"SS":Q=Ue(6,2);break;case"SSS":Q=Ue(6,3);break;case"Z":case"ZZ":case"ZZZ":Q=Kt(0);break;case"ZZZZZ":Q=Kt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Kt(1);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Kt(2);break;default:return null}return Lr[S]=Q,Q}(Ht);Pt+=Ft?Ft(ie,F,Lt):"''"===Ht?"'":Ht.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pt}function Xt(S,Q,F){const $=new Date(0);return $.setFullYear(S,Q,F),$.setHours(0,0,0),$}function me(S,Q){const F=function Oe(S){return(0,i.kBR)(S)[i.NSC.LocaleId]}(S);if(ke[F]??={},ke[F][Q])return ke[F][Q];let $="";switch(Q){case"shortDate":$=Te(S,ce.Short);break;case"mediumDate":$=Te(S,ce.Medium);break;case"longDate":$=Te(S,ce.Long);break;case"fullDate":$=Te(S,ce.Full);break;case"shortTime":$=Ce(S,ce.Short);break;case"mediumTime":$=Ce(S,ce.Medium);break;case"longTime":$=Ce(S,ce.Long);break;case"fullTime":$=Ce(S,ce.Full);break;case"short":const ie=me(S,"shortTime"),Ie=me(S,"shortDate");$=Be(Ve(S,ce.Short),[ie,Ie]);break;case"medium":const Qe=me(S,"mediumTime"),st=me(S,"mediumDate");$=Be(Ve(S,ce.Medium),[Qe,st]);break;case"long":const Lt=me(S,"longTime"),Pt=me(S,"longDate");$=Be(Ve(S,ce.Long),[Lt,Pt]);break;case"full":const Ht=me(S,"fullTime"),Ft=me(S,"fullDate");$=Be(Ve(S,ce.Full),[Ht,Ft])}return $&&(ke[F][Q]=$),$}function Be(S,Q){return Q&&(S=S.replace(/\{([^}]+)}/g,function(F,$){return null!=Q&&$ in Q?Q[$]:F})),S}function Xe(S,Q,F="-",$,ie){let Ie="";(S<0||ie&&S<=0)&&(ie?S=1-S:(S=-S,Ie=F));let Qe=String(S);for(;Qe.length<Q;)Qe="0"+Qe;return $&&(Qe=Qe.slice(Qe.length-Q)),Ie+Qe}function Ue(S,Q,F=0,$=!1,ie=!1){return function(Ie,Qe){let st=function zt(S,Q){switch(S){case 0:return Q.getFullYear();case 1:return Q.getMonth();case 2:return Q.getDate();case 3:return Q.getHours();case 4:return Q.getMinutes();case 5:return Q.getSeconds();case 6:return Q.getMilliseconds();case 7:return Q.getDay();default:throw new E.buA(2301,!1)}}(S,Ie);if((F>0||st>-F)&&(st+=F),3===S)0===st&&-12===F&&(st=12);else if(6===S)return function pt(S,Q){return Xe(S,3).substring(0,Q)}(st,Q);const Lt=Fe(Qe,5);return Xe(st,Q,Lt,$,ie)}}function kt(S,Q,F=pe.Format,$=!1){return function(ie,Ie){return function un(S,Q,F,$,ie,Ie){switch(F){case 2:return function Ge(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.MonthsFormat],$[i.NSC.MonthsStandalone]],Q);return Re(Ie,F)}(Q,ie,$)[S.getMonth()];case 1:return function ze(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.DaysFormat],$[i.NSC.DaysStandalone]],Q);return Re(Ie,F)}(Q,ie,$)[S.getDay()];case 0:const Qe=S.getHours(),st=S.getMinutes();if(Ie){const Pt=function sr(S){const Q=(0,i.kBR)(S);return _n(Q),(Q[i.NSC.ExtraData][2]||[]).map($=>"string"==typeof $?Ke($):[Ke($[0]),Ke($[1])])}(Q),Ht=function jt(S,Q,F){const $=(0,i.kBR)(S);_n($);const Ie=Re([$[i.NSC.ExtraData][0],$[i.NSC.ExtraData][1]],Q)||[];return Re(Ie,F)||[]}(Q,ie,$),Ft=Pt.findIndex(hn=>{if(Array.isArray(hn)){const[tn,pn]=hn,Vn=Qe>=tn.hours&&st>=tn.minutes,Xn=Qe<pn.hours||Qe===pn.hours&&st<pn.minutes;if(tn.hours<pn.hours){if(Vn&&Xn)return!0}else if(Vn||Xn)return!0}else if(hn.hours===Qe&&hn.minutes===st)return!0;return!1});if(-1!==Ft)return Ht[Ft]}return function He(S,Q,F){const $=(0,i.kBR)(S),Ie=Re([$[i.NSC.DayPeriodsFormat],$[i.NSC.DayPeriodsStandalone]],Q);return Re(Ie,F)}(Q,ie,$)[Qe<12?0:1];case 3:return function We(S,Q){return Re((0,i.kBR)(S)[i.NSC.Eras],Q)}(Q,$)[S.getFullYear()<=0?0:1];default:throw new E.buA(2302,!1)}}(ie,Ie,S,Q,F,$)}}function Kt(S){return function(Q,F,$){const ie=-1*$,Ie=Fe(F,5),Qe=ie>0?Math.floor(ie/60):Math.ceil(ie/60);switch(S){case 0:return(ie>=0?"+":"")+Xe(Qe,2,Ie)+Xe(Math.abs(ie%60),2,Ie);case 1:return"GMT"+(ie>=0?"+":"")+Xe(Qe,1,Ie);case 2:return"GMT"+(ie>=0?"+":"")+Xe(Qe,2,Ie)+":"+Xe(Math.abs(ie%60),2,Ie);case 3:return 0===$?"Z":(ie>=0?"+":"")+Xe(Qe,2,Ie)+":"+Xe(Math.abs(ie%60),2,Ie);default:throw new E.buA(2302,!1)}}}const Gr=0,Pr=4;function cn(S){const Q=S.getDay(),F=0===Q?-3:Pr-Q;return Xt(S.getFullYear(),S.getMonth(),S.getDate()+F)}function Bt(S,Q=!1){return function(F,$){let ie;if(Q){const Ie=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Qe=F.getDate();ie=1+Math.floor((Qe+Ie)/7)}else{const Ie=cn(F),Qe=function Hn(S){const Q=Xt(S,Gr,1).getDay();return Xt(S,0,1+(Q<=Pr?Pr:Pr+7)-Q)}(Ie.getFullYear()),st=Ie.getTime()-Qe.getTime();ie=1+Math.round(st/6048e5)}return Xe(ie,S,Fe($,5))}}function Nr(S,Q=!1){return function(F,$){return Xe(cn(F).getFullYear(),S,Fe($,5),Q)}}const Lr={};function bo(S,Q){S=S.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(F)?Q:F}function gr(S){return S instanceof Date&&!isNaN(S.valueOf())}const ur=/\s+/,Yr=[];let Br=(()=>{class S{_ngEl;_renderer;initialClasses=Yr;rawClass;stateMap=new Map;constructor(F,$){this._ngEl=F,this._renderer=$}set klass(F){this.initialClasses=null!=F?F.trim().split(ur):Yr}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(ur):F}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const $ of F)this._updateState($,!0);else if(null!=F)for(const $ of Object.keys(F))this._updateState($,!!F[$]);this._applyStateDiff()}_updateState(F,$){const ie=this.stateMap.get(F);void 0!==ie?(ie.enabled!==$&&(ie.changed=!0,ie.enabled=$),ie.touched=!0):this.stateMap.set(F,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const $=F[0],ie=F[1];ie.changed?(this._toggleClass($,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),ie.touched=!1}}_toggleClass(F,$){(F=F.trim()).length>0&&F.split(ur).forEach(ie=>{$?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}static \u0275fac=function($){return new($||S)(i.rXU(i.aKT),i.rXU(i.sFG))};static \u0275dir=i.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return S})();class Ea{$implicit;ngForOf;index;count;constructor(Q,F,$,ie){this.$implicit=Q,this.ngForOf=F,this.index=$,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class S{_viewContainer;_template;_differs;set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(F,$,ie){this._viewContainer=F,this._template=$,this._differs=ie}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const $=this._viewContainer;F.forEachOperation((ie,Ie,Qe)=>{if(null==ie.previousIndex)$.createEmbeddedView(this._template,new Ea(ie.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)$.remove(null===Ie?void 0:Ie);else if(null!==Ie){const st=$.get(Ie);$.move(st,Qe),vr(st,ie)}});for(let ie=0,Ie=$.length;ie<Ie;ie++){const st=$.get(ie).context;st.index=ie,st.count=Ie,st.ngForOf=this._ngForOf}F.forEachIdentityChange(ie=>{vr($.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(z._q3))};static \u0275dir=i.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return S})();function vr(S,Q){S.context.$implicit=Q.item}let qn=(()=>{class S{_viewContainer;_context=new Do;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(F,$){this._viewContainer=F,this._thenTemplateRef=$}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Ur(F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Ur(F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q))};static \u0275dir=i.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return S})();class Do{$implicit=null;ngIf=null}function Ur(S,Q){if(S&&!S.createEmbeddedView)throw new E.buA(2020,!1)}function fe(S,Q){return new E.buA(2100,!1)}class wr{createSubscription(Q,F,$){return(0,x.O8)(()=>Q.subscribe({next:F,error:$}))}dispose(Q){(0,x.O8)(()=>Q.unsubscribe())}}class No{createSubscription(Q,F,$){return Q.then(ie=>F?.(ie),ie=>$?.(ie)),{unsubscribe:()=>{F=null,$=null}}}dispose(Q){Q.unsubscribe()}}const rr=new No,Vr=new wr;let St=(()=>{class S{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,E.WQX)(E.ZTf);constructor(F){this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){if(!this._obj){if(F)try{this.markForCheckOnValueUpdate=!1,this._subscribe(F)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,$=>this._updateLatestValue(F,$),$=>this.applicationErrorHandler($))}_selectStrategy(F){if((0,i.yLl)(F))return rr;if((0,i.cdK)(F))return Vr;throw fe()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,$){F===this._obj&&(this._latestValue=$,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function($){return new($||S)(i.rXU(z.gRc,16))};static \u0275pipe=i.EJ8({name:"async",type:S,pure:!1})}return S})();const Lo=new E.nKC(""),$r=new E.nKC("");let Er=(()=>{class S{locale;defaultTimezone;defaultOptions;constructor(F,$,ie){this.locale=F,this.defaultTimezone=$,this.defaultOptions=ie}transform(F,$,ie,Ie){if(null==F||""===F||F!=F)return null;try{return ct(F,$??this.defaultOptions?.dateFormat??"mediumDate",Ie||this.locale,ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Qe){throw fe()}}static \u0275fac=function($){return new($||S)(i.rXU(i.xe9,16),i.rXU(Lo,24),i.rXU($r,24))};static \u0275pipe=i.EJ8({name:"date",type:S,pure:!0})}return S})(),ka=(()=>{class S{static \u0275fac=function($){return new($||S)};static \u0275mod=i.$C({type:S});static \u0275inj=E.G2t({})}return S})()},2615:(it,Ee,V)=>{"use strict";let E;function i(){return E}function z(_){const R=E;return E=_,R}V.d(Ee,{JEi:()=>Ka,EJG:()=>wt,Yrj:()=>Nt,VVG:()=>he,Y20:()=>fo,SKP:()=>Se,hk6:()=>os,eVN:()=>Uo,b5C:()=>fn,rQE:()=>Zt,X5O:()=>rt,qFA:()=>Jo,qQL:()=>Ul,abz:()=>$s,tQN:()=>An,pcR:()=>Tt,oMQ:()=>Tr,Mlv:()=>Qn,MZA:()=>lo,M0L:()=>xe,Z63:()=>or,VML:()=>zs,uvJ:()=>ho,zcH:()=>_i,Wg1:()=>nn,Yw1:()=>kn,jgP:()=>no,tcA:()=>q,ID:()=>yn,YEL:()=>je,B9r:()=>uo,GBX:()=>pn,ZTf:()=>$o,nKC:()=>Hn,zZn:()=>rs,rJ1:()=>ue,nfM:()=>ha,s6P:()=>Zo,K29:()=>D,CQl:()=>zn,p9y:()=>Fr,zSs:()=>Gt,ONQ:()=>Pr,hmW:()=>qo,yAH:()=>Gr,KXn:()=>Vl,oTH:()=>kr,Czx:()=>sn,f7T:()=>j,wVl:()=>dn,GYQ:()=>mp,u5s:()=>ei,rev:()=>Gl,Ds7:()=>bn,e5P:()=>hr,Iaj:()=>Mn,GpT:()=>mt,buA:()=>de,AQb:()=>cc,jNX:()=>G,eDl:()=>Mr,qlT:()=>P,bm_:()=>Hi,r4V:()=>Kl,ok8:()=>ce,Evm:()=>Vd,Jy$:()=>zl,laP:()=>He,EYC:()=>Zr,ng7:()=>Vr,llW:()=>Lo,gsJ:()=>Zn,GZS:()=>ft,iYM:()=>ge,PEr:()=>g,z7f:()=>Le,LZP:()=>ct,Xln:()=>_n,yzR:()=>Aa,TWe:()=>C,LIA:()=>vn,GWr:()=>ae,pbo:()=>se,bBq:()=>tr,Af3:()=>Ar,zQk:()=>h,oZy:()=>f,tF7:()=>at,ZFY:()=>Ur,cP4:()=>yo,MdC:()=>jo,XvL:()=>Re,KET:()=>At,Tkx:()=>H,iw4:()=>sr,tdH:()=>Ho,pr_:()=>me,IAh:()=>lr,U45:()=>nt,WrV:()=>Vt,kNT:()=>Xt,MI:()=>N,biv:()=>O,ZQF:()=>jt,Cv0:()=>On,W0r:()=>ne,R2n:()=>U,O8q:()=>M,VKj:()=>A,Rom:()=>w,z6V:()=>wr,n$e:()=>Te,hjC:()=>Jr,Pz9:()=>Bl,PQT:()=>Sn,VX4:()=>ao,_Z$:()=>oo,N79:()=>Fd,xLP:()=>so,zuh:()=>qr,BI7:()=>ua,U7d:()=>yr,uXy:()=>gr,nZS:()=>fr,ihb:()=>Ya,ID8:()=>ac,gv8:()=>bi,dwj:()=>bt,Bqz:()=>St,OsK:()=>Oe,Rfq:()=>Fe,c$7:()=>Pl,gxQ:()=>Ol,ckz:()=>Ma,kLh:()=>We,xUg:()=>ar,KdJ:()=>Yt,db4:()=>rn,VPL:()=>nc,MT:()=>Ji,Z9v:()=>Qa,Ab:()=>Xi,w7Z:()=>pa,Mx4:()=>Qi,veI:()=>fi,HaV:()=>mo,Agf:()=>Cr,znI:()=>Ld,wGu:()=>rr,ebl:()=>Kt,OAn:()=>Gi,_0$:()=>mi,UaU:()=>ro,vaC:()=>yt,d31:()=>gt,ZRn:()=>ut,phH:()=>co,WbQ:()=>Dr,WB9:()=>er,d_l:()=>Tl,vNG:()=>Ps,oyA:()=>da,_px:()=>Fl,CpD:()=>ts,XRZ:()=>$t,klJ:()=>Ls,Fje:()=>Ga,b$O:()=>Ud,SMZ:()=>Ge,WQX:()=>Nn,MzJ:()=>Do,jXY:()=>$,MME:()=>tn,JlV:()=>ta,Qs1:()=>li,srX:()=>ea,vOT:()=>wn,YWB:()=>Il,EPY:()=>Rs,yoD:()=>La,P3H:()=>Rl,Jzi:()=>Mt,rFz:()=>jd,JjR:()=>Yi,M6u:()=>Sa,KtD:()=>zi,muV:()=>zt,A0l:()=>Dn,q$2:()=>Fo,yP_:()=>Bd,EFk:()=>ui,Hps:()=>Hl,UhH:()=>Ki,QuC:()=>ka,Y3W:()=>hn,n$r:()=>Wl,K7h:()=>Er,FRF:()=>eo,ezK:()=>$r,m7n:()=>ns,niQ:()=>Nl,krE:()=>Ns,bll:()=>es,Hh6:()=>Ze,EmA:()=>S,blu:()=>di,HAh:()=>mn,WfI:()=>Ln,xbp:()=>ja,jvu:()=>Ll,lQ1:()=>Ws,Rc9:()=>Ca,E6O:()=>Jn,DyX:()=>Ju,eFE:()=>Qo,dMS:()=>Ao,HUe:()=>Bo,nl4:()=>qe,N4e:()=>za,XaM:()=>nr,Kw3:()=>Fs,vQI:()=>Bs,RZ9:()=>Xa,GA0:()=>Zi,iMd:()=>ec,Pfq:()=>tc,xyx:()=>js,a2B:()=>qn,kcM:()=>Ro,DFp:()=>Nr,P2g:()=>rc,cBl:()=>oc,ypq:()=>jl,vPA:()=>Hs,HO5:()=>uc,M_e:()=>Tn,B22:()=>xl,ik5:()=>Os,AsM:()=>ve,PP7:()=>Xo,$8:()=>ke,$Hz:()=>Yr,zAe:()=>De,IvY:()=>oe,_gW:()=>Yu,F1c:()=>Fn,ITl:()=>xt,brz:()=>Ie,jRZ:()=>jn,SX7:()=>Ja,jDH:()=>Be,G2t:()=>pt,fuf:()=>Zu,cSN:()=>qa,KVO:()=>br,dmw:()=>mr,joV:()=>ra,By9:()=>na,qSk:()=>qt,Njj:()=>qi,eBV:()=>pi});const X=Symbol("NotFound");function J(_){return _===X||"\u0275NotFound"===_?.name}Error;var le=V(8440),_e=V(4412),pe=V(1985);const ce="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class de extends Error{code;constructor(R,K){super(Oe(R,K)),this.code=R}}function Oe(_,R){return`${function ye(_){return`NG0${Math.abs(_)}`}(_)}${R?": "+R:""}`}const He=globalThis;function Ge(){return!1}function We(_){for(let R in _)if(_[R]===We)return R;throw Error("")}function bt(_,R){for(const K in R)R.hasOwnProperty(K)&&!_.hasOwnProperty(K)&&(_[K]=R[K])}function ve(_){if("string"==typeof _)return _;if(Array.isArray(_))return`[${_.map(ve).join(", ")}]`;if(null==_)return""+_;const R=_.overriddenName||_.name;if(R)return`${R}`;const K=_.toString();if(null==K)return""+K;const we=K.indexOf("\n");return we>=0?K.slice(0,we):K}function Te(_,R){return _?R?`${_} ${R}`:_:R||""}const Ve=We({__forward_ref__:We});function Fe(_){return _.__forward_ref__=Fe,_.toString=function(){return ve(this())},_}function qe(_){return Mt(_)?_():_}function Mt(_){return"function"==typeof _&&_.hasOwnProperty(Ve)&&_.__forward_ref__===Fe}function nt(_,R){"number"!=typeof _&&ke(R,typeof _,"number","===")}function Vt(_,R,K){nt(_,"Expected a number"),function Ke(_,R,K){_<=R||ke(K,_,R,"<=")}(_,K,"Expected number to be less than or equal to"),se(_,R,"Expected number to be greater than or equal to")}function On(_,R){"string"!=typeof _&&ke(R,null===_?"null":typeof _,"string","===")}function vn(_,R){"function"!=typeof _&&ke(R,null===_?"null":typeof _,"function","===")}function _n(_,R,K){_!=R&&ke(K,_,R,"==")}function sr(_,R,K){_==R&&ke(K,_,R,"!=")}function jt(_,R,K){_!==R&&ke(K,_,R,"===")}function lr(_,R,K){_===R&&ke(K,_,R,"!==")}function Re(_,R,K){_<R||ke(K,_,R,"<")}function ae(_,R,K){_>R||ke(K,_,R,">")}function se(_,R,K){_>=R||ke(K,_,R,">=")}function ge(_,R){null==_&&ke(R,_,null,"!=")}function ke(_,R,K,we){throw new Error(`ASSERTION ERROR: ${_}`+(null==we?"":` [Expected=> ${K} ${we} ${R} <=Actual]`))}function Le(_){_ instanceof Node||ke(`The provided value must be an instance of a DOM Node but got ${ve(_)}`)}function ct(_){_ instanceof Element||ke(`The provided value must be an element but got ${ve(_)}`)}function at(_,R){ge(_,"Array must be defined.");const K=_.length;(R<0||R>=K)&&ke(`Index expected to be less than ${K} but got ${R}`)}function Xt(_,...R){if(-1!==R.indexOf(_))return!0;ke(`Expected value to be one of ${JSON.stringify(R)} but was ${JSON.stringify(_)}.`)}function me(_){null!==(0,le.nR)()&&ke(`${_}() should never be called in a reactive context.`)}function Be(_){return{token:_.token,providedIn:_.providedIn||null,factory:_.factory,value:void 0}}function pt(_){return{providers:_.providers||[],imports:_.imports||[]}}function Ue(_){return function kt(_,R){return _.hasOwnProperty(R)&&_[R]||null}(_,Gr)}function zt(_){return null!==Ue(_)}function Kt(_){return _&&_.hasOwnProperty(Pr)?_[Pr]:null}const Gr=We({\u0275prov:We}),Pr=We({\u0275inj:We});class Hn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(R,K){this._desc=R,this.\u0275prov=void 0,"number"==typeof K?this.__NG_ELEMENT_ID__=K:void 0!==K&&(this.\u0275prov=Be({token:this,providedIn:K.providedIn||"root",factory:K.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let cn;function Bt(){return ke("getInjectorProfilerContext should never be called in production mode"),cn}function Nr(_){ke("setInjectorProfilerContext should never be called in production mode");const R=cn;return cn=_,R}const Lr=[],la=()=>{};function Ro(_){return ke("setInjectorProfiler should never be called in production mode"),null!==_?(Lr.includes(_)||Lr.push(_),()=>function bo(_){const R=Lr.indexOf(_);-1!==R&&Lr.splice(R,1)}(_)):(Lr.length=0,la)}function Pn(_){ke("Injector profiler should never be called in production mode");for(let R=0;R<Lr.length;R++)(0,Lr[R])(_)}function fr(_,R=!1){let K;ke("Injector profiler should never be called in production mode"),K="function"==typeof _||_ instanceof Hn?_:qe(_.provide);let we=_;_ instanceof Hn&&(we=_.\u0275prov||_),Pn({type:2,context:Bt(),providerRecord:{token:K,provider:we,isViewProvider:R}})}function yr(_){ke("Injector profiler should never be called in production mode"),Pn({type:4,context:Bt(),token:_})}function gr(_){ke("Injector profiler should never be called in production mode"),Pn({type:1,context:Bt(),instance:{value:_}})}function ua(_,R,K){ke("Injector profiler should never be called in production mode"),Pn({type:0,context:Bt(),service:{token:_,value:R,flags:K}})}function qr(_){ke("Injector profiler should never be called in production mode"),Pn({type:3,context:Bt(),effect:_})}function nr(_,R,K){ke("runInInjectorProfilerContext should never be called in production mode");const we=Nr({injector:_,token:R});try{K()}finally{Nr(we)}}function Wn(_){return _&&!!_.\u0275providers}const zn=We({\u0275cmp:We}),wo=We({\u0275dir:We}),Oo=We({\u0275pipe:We}),qo=We({\u0275mod:We}),Gt=We({\u0275fac:We}),Fr=We({__NG_ELEMENT_ID__:We}),Qr=We({__NG_ENV_ID__:We});function Qo(_){return"string"==typeof _?_:null==_?"":String(_)}function Xo(_){return"function"==typeof _?_.name||_.toString():"object"==typeof _&&null!=_&&"function"==typeof _.type?_.type.name||_.type.toString():Qo(_)}function oo(_){let R=_[zn]||null;return null!==R&&R.debugInfo?function Kn(_){return _.filePath&&_.lineNumber?`${_.className} (at ${_.filePath}:${_.lineNumber})`:_.className}(R.debugInfo):Xo(_)}const Xr=We({ngErrorCode:We}),jr=We({ngErrorMessage:We}),Gn=We({ngTokenPath:We});function Sn(_,R){return ko("",-200,R)}function ao(_,R){return function Eo(_,R){return _.message=function cr(_,R,K=[],we=null){let Pe="";K&&K.length>1&&(Pe=` Path: ${K.join(" -> ")}.`);return Oe(R,`${_}${we?` Source: ${we}.`:""}${Pe}`)}(_[jr]||_.message,_[Xr],_[Gn],R),_}(Sn(0,R),null)}function Yr(_,R){throw new de(-201,!1)}function ko(_,R,K){const we=new de(R,_);return we[Xr]=R,we[jr]=_,K&&(we[Gn]=K),we}let vr;function Jt(){return vr}function qn(_){const R=vr;return vr=_,R}function Do(_,R,K){const we=Ue(_);return we&&"root"==we.providedIn?void 0===we.value?we.value=we.factory():we.value:8&K?null:void 0!==R?R:void Yr()}function Ur(_){}const dr={},_r="__NG_DI_FLAG__";class ca{injector;constructor(R){this.injector=R}retrieve(R,K){const we=Jr(K)||0;try{return this.injector.get(R,8&we?null:dr,we)}catch(Pe){if(J(Pe))return Pe;throw Pe}}}function io(_,R=0){const K=i();if(void 0===K)throw new de(-203,!1);if(null===K)return Do(_,void 0,R);{const we=function Po(_){return{optional:!!(8&_),host:!!(1&_),self:!!(2&_),skipSelf:!!(4&_)}}(R),Pe=K.retrieve(_,we);if(J(Pe)){if(we.optional)return null;throw Pe}return Pe}}function br(_,R=0){return(Jt()||io)(qe(_),R)}function mr(_){throw new de(202,!1)}function Nn(_,R){return br(_,Jr(R))}function Jr(_){return typeof _>"u"||"number"==typeof _?_:0|(_.optional&&8)|(_.host&&1)|(_.self&&2)|(_.skipSelf&&4)}function fe(_){const R=[];for(let K=0;K<_.length;K++){const we=qe(_[K]);if(Array.isArray(we)){if(0===we.length)throw new de(900,!1);let Pe,ot=0;for(let ln=0;ln<we.length;ln++){const xr=we[ln],xn=No(xr);"number"==typeof xn?-1===xn?Pe=xr.token:ot|=xn:Pe=xr}R.push(br(Pe,ot))}else R.push(br(we))}return R}function wr(_,R){return _[_r]=R,_.prototype[_r]=R,_}function No(_){return _[_r]}function rr(_,R){return _.hasOwnProperty(Gt)?_[Gt]:null}function Vr(_,R,K){if(_.length!==R.length)return!1;for(let we=0;we<_.length;we++){let Pe=_[we],ot=R[we];if(K&&(Pe=K(Pe),ot=K(ot)),ot!==Pe)return!1}return!0}function St(_){return _.flat(Number.POSITIVE_INFINITY)}function so(_,R){_.forEach(K=>Array.isArray(K)?so(K,R):R(K))}function Zr(_,R,K){R>=_.length?_.push(K):_.splice(R,0,K)}function Jn(_,R){return R>=_.length-1?_.pop():_.splice(R,1)[0]}function Ln(_,R){const K=[];for(let we=0;we<_;we++)K.push(R);return K}function Zn(_,R,K){const we=_.length-K;for(;R<we;)_[R]=_[R+K],R++;for(;K--;)_.pop()}function Lo(_,R,K,we){let Pe=_.length;if(Pe==R)_.push(K,we);else if(1===Pe)_.push(we,_[0]),_[0]=K;else{for(Pe--,_.push(_[Pe-1],_[Pe]);Pe>R;)_[Pe]=_[Pe-2],Pe--;_[R]=K,_[R+1]=we}}function $r(_,R,K){let we=eo(_,R);return we>=0?_[1|we]=K:(we=~we,Lo(_,we,R,K)),we}function Er(_,R){const K=eo(_,R);if(K>=0)return _[1|K]}function eo(_,R){return function Yo(_,R,K){let we=0,Pe=_.length>>K;for(;Pe!==we;){const ot=we+(Pe-we>>1),ln=_[ot<<K];if(R===ln)return ot<<K;ln>R?Pe=ot:we=ot+1}return~(Pe<<K)}(_,R,1)}const lo={},Qn=[],or=new Hn(""),Hr=new Hn("",-1),uo=new Hn("");class kr{get(R,K=dr){if(K===dr){const Pe=ko("",-201);throw Pe.name="\u0275NotFound",Pe}return K}}function co(_){return _[qo]||null}function Dr(_){const R=co(_);if(!R)throw new de(915,!1);return R}function ar(_){return _[zn]||null}function Cr(_){const R=mo(_);if(!R)throw new de(916,!1);return R}function mo(_){return _[wo]||null}function da(_){return _[Oo]||null}function ka(_){const R=ar(_)||mo(_)||da(_);return null!==R&&R.standalone}function S(_){return{\u0275providers:_}}function F(..._){return{\u0275providers:$(0,_),\u0275fromNgModule:!0}}function $(_,...R){const K=[],we=new Set;let Pe;const ot=ln=>{K.push(ln)};return so(R,ln=>{const xr=ln;Ie(xr,ot,[],we)&&(Pe||=[],Pe.push(xr))}),void 0!==Pe&&ie(Pe,ot),K}function ie(_,R){for(let K=0;K<_.length;K++){const{ngModule:we,providers:Pe}=_[K];st(Pe,ot=>{R(ot,we)})}}function Ie(_,R,K,we){if(!(_=qe(_)))return!1;let Pe=null,ot=Kt(_);const ln=!ot&&ar(_);if(ot||ln){if(ln&&!ln.standalone)return!1;Pe=_}else{const xn=_.ngModule;if(ot=Kt(xn),!ot)return!1;Pe=xn}const xr=we.has(Pe);if(ln){if(xr)return!1;if(we.add(Pe),ln.dependencies){const xn="function"==typeof ln.dependencies?ln.dependencies():ln.dependencies;for(const Cn of xn)Ie(Cn,R,K,we)}}else{if(!ot)return!1;{if(null!=ot.imports&&!xr){let Cn;we.add(Pe);try{so(ot.imports,Ta=>{Ie(Ta,R,K,we)&&(Cn||=[],Cn.push(Ta))})}finally{}void 0!==Cn&&ie(Cn,R)}if(!xr){const Cn=rr(Pe)||(()=>new Pe);R({provide:Pe,useFactory:Cn,deps:Qn},Pe),R({provide:uo,useValue:Pe,multi:!0},Pe),R({provide:or,useValue:()=>br(Pe),multi:!0},Pe)}const xn=ot.providers;if(null!=xn&&!xr){const Cn=_;st(xn,Ta=>{R(Ta,Cn)})}}}return Pe!==_&&void 0!==_.providers}function st(_,R){for(let K of _)Wn(K)&&(K=K.\u0275providers),Array.isArray(K)?st(K,R):R(K)}const Lt=We({provide:String,useValue:We});function Pt(_){return null!==_&&"object"==typeof _&&Lt in _}function hn(_){return"function"==typeof _}function tn(_){return!!_.useClass}const pn=new Hn(""),Vn={},Xn={};let Sr;function er(){return void 0===Sr&&(Sr=new kr),Sr}class ho{}class hr extends ho{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(R,K,we,Pe){super(),this.parent=K,this.source=we,this.scopes=Pe,ma(R,ln=>this.processProvider(ln)),this.records.set(Hr,Yn(void 0,this)),Pe.has("environment")&&this.records.set(ho,Yn(void 0,this));const ot=this.records.get(pn);null!=ot&&"string"==typeof ot.value&&this.scopes.add(ot.value),this.injectorDefTypes=new Set(this.get(uo,Qn,{self:!0}))}retrieve(R,K){const we=Jr(K)||0;try{return this.get(R,dr,we)}catch(Pe){if(J(Pe))return Pe;throw Pe}}destroy(){Wr(this),this._destroyed=!0;const R=(0,le.Ht)(null);try{for(const we of this._ngOnDestroyHooks)we.ngOnDestroy();const K=this._onDestroyHooks;this._onDestroyHooks=[];for(const we of K)we()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,le.Ht)(R)}}onDestroy(R){return Wr(this),this._onDestroyHooks.push(R),()=>this.removeOnDestroy(R)}runInContext(R){Wr(this);const K=z(this),we=qn(void 0);try{return R()}finally{z(K),qn(we)}}get(R,K=dr,we){if(Wr(this),R.hasOwnProperty(Qr))return R[Qr](this);const Pe=Jr(we),ln=z(this),xr=qn(void 0);try{if(!(4&Pe)){let Cn=this.records.get(R);if(void 0===Cn){const Ta=function So(_){return"function"==typeof _||"object"==typeof _&&"InjectionToken"===_.ngMetadataName}(R)&&Ue(R);Cn=Ta&&this.injectableDefInScope(Ta)?Yn(to(R),Vn):null,this.records.set(R,Cn)}if(null!=Cn)return this.hydrate(R,Cn,Pe)}return(2&Pe?er():this.parent).get(R,K=8&Pe&&K===dr?null:K)}catch(xn){const Cn=function Ea(_){return _[Xr]}(xn);throw-200===Cn||-201===Cn?new de(Cn,null):xn}finally{qn(xr),z(ln)}}resolveInjectorInitializers(){const R=(0,le.Ht)(null),K=z(this),we=qn(void 0);try{const ot=this.get(or,Qn,{self:!0});for(const ln of ot)ln()}finally{z(K),qn(we),(0,le.Ht)(R)}}toString(){const R=[],K=this.records;for(const we of K.keys())R.push(ve(we));return`R3Injector[${R.join(", ")}]`}processProvider(R){let K=hn(R=qe(R))?R:qe(R&&R.provide);const we=function Da(_){return Pt(_)?Yn(void 0,_.useValue):Yn(Ca(_),Vn)}(R);if(!hn(R)&&!0===R.multi){let Pe=this.records.get(K);Pe||(Pe=Yn(void 0,Vn,!0),Pe.factory=()=>fe(Pe.multi),this.records.set(K,Pe)),K=R,Pe.multi.push(R)}this.records.set(K,we)}hydrate(R,K,we){const Pe=(0,le.Ht)(null);try{if(K.value===Xn)throw Sn(ve(R));return K.value===Vn&&(K.value=Xn,K.value=K.factory(void 0,we)),"object"==typeof K.value&&K.value&&function po(_){return null!==_&&"object"==typeof _&&"function"==typeof _.ngOnDestroy}(K.value)&&this._ngOnDestroyHooks.add(K.value),K.value}finally{(0,le.Ht)(Pe)}}injectableDefInScope(R){if(!R.providedIn)return!1;const K=qe(R.providedIn);return"string"==typeof K?"any"===K||this.scopes.has(K):this.injectorDefTypes.has(K)}removeOnDestroy(R){const K=this._onDestroyHooks.indexOf(R);-1!==K&&this._onDestroyHooks.splice(K,1)}}function to(_){const R=Ue(_),K=null!==R?R.factory:rr(_);if(null!==K)return K;if(_ instanceof Hn)throw new de(204,!1);if(_ instanceof Function)return function Wa(_){if(_.length>0)throw new de(204,!1);const K=function un(_){return(_?.[Gr]??null)||null}(_);return null!==K?()=>K.factory(_):()=>new _}(_);throw new de(204,!1)}function Ca(_,R,K){let we;if(hn(_)){const Pe=qe(_);return rr(Pe)||to(Pe)}if(Pt(_))we=()=>qe(_.useValue);else if(function Ft(_){return!(!_||!_.useFactory)}(_))we=()=>_.useFactory(...fe(_.deps||[]));else if(function Ht(_){return!(!_||!_.useExisting)}(_))we=(Pe,ot)=>br(qe(_.useExisting),void 0!==ot&&8&ot?8:void 0);else{const Pe=qe(_&&(_.useClass||_.provide));if(!function pr(_){return!!_.deps}(_))return rr(Pe)||to(Pe);we=()=>new Pe(...fe(_.deps))}return we}function Wr(_){if(_.destroyed)throw new de(205,!1)}function Yn(_,R,K=!1){return{factory:_,value:R,multi:K?[]:void 0}}function ma(_,R){for(const K of _)Array.isArray(K)?ma(K,R):K&&Wn(K)?ma(K.\u0275providers,R):R(K)}function za(_,R){let K;_ instanceof hr?(Wr(_),K=_):K=new ca(_);const Pe=z(K),ot=qn(void 0);try{return R()}finally{z(Pe),qn(ot)}}function Sa(){return void 0!==Jt()||null!=i()}function Ar(_){if(!Sa())throw new de(-203,!1)}const no=0,Mr=1,nn=2,j=3,D=4,P=5,q=6,he=7,Se=8,je=9,xe=10,mt=11,wt=12,Nt=13,rt=14,fn=15,Zt=16,dn=17,bn=18,yn=19,Tr=20,sn=21,Tt=22,An=23,Mn=24,Ka=25,kn=26,$n=1,Jo=6,Zo=7,Hi=8,ha=9,fo=10;function Fo(_){return Array.isArray(_)&&"object"==typeof _[$n]}function Dn(_){return Array.isArray(_)&&!0===_[$n]}function ea(_){return!!(4&_.flags)}function li(_){return _.componentOffset>-1}function La(_){return!(1&~_.flags)}function ta(_){return!!_.template}function ui(_){return!!(512&_[nn])}function Rs(_){return!(256&~_[nn])}function A(_,R){w(_,R[Mr])}function M(_,R){const K=R+kn;at(_,K),Re(K,_[Mr].bindingStartIndex,"TNodes should be created before any bindings")}function w(_,R){U(_);const K=R.data;for(let we=kn;we<K.length;we++)if(K[we]===_)return;ke("This TNode does not belong to this TView.")}function U(_){ge(_,"TNode must be defined"),_&&"object"==typeof _&&_.hasOwnProperty("directiveStylingLast")||ke("Not of type TNode, got: "+_)}function ne(_){ge(_,"Expected TIcu to be defined"),"number"!=typeof _.currentCaseLViewIndex&&ke("Object is not of TIcu type.")}function ft(_,R="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){ar(_)||ke(R)}function At(_,R="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){co(_)||ke(R)}function tr(_){ge(_,"currentTNode should exist!"),ge(_.parent,"currentTNode should have a parent")}function yo(_){ge(_,"LContainer must be defined"),_n(Dn(_),!0,"Expecting LContainer")}function jo(_){ge(_,"LView must be defined"),_n(Fo(_),!0,"Expecting LView")}function Aa(_,R){_n(_.firstCreatePass,!0,R||"Should only be called in first create pass.")}function C(_,R){_n(_.firstUpdatePass,!0,"Should only be called in first update pass.")}function g(_){(void 0===_.type||null==_.selectors||void 0===_.inputs)&&ke("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function h(_,R){k(kn,_.bindingStartIndex,R)}function f(_,R){k(_[1].expandoStartIndex,_.length,R)}function k(_,R,K){_<=K&&K<R||ke(`Index out of range (expecting ${_} <= ${K} < ${R})`)}function O(_,R){ge(_[fn],"Component views should exist."),ge(_[fn][P].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function N(_,R){ge(_,"Component views should always have a parent view (component's host view)")}function H(_,R){f(_,R),f(_,R+8),nt(_[R+0],"injectorIndex should point to a bloom filter"),nt(_[R+1],"injectorIndex should point to a bloom filter"),nt(_[R+2],"injectorIndex should point to a bloom filter"),nt(_[R+3],"injectorIndex should point to a bloom filter"),nt(_[R+4],"injectorIndex should point to a bloom filter"),nt(_[R+5],"injectorIndex should point to a bloom filter"),nt(_[R+6],"injectorIndex should point to a bloom filter"),nt(_[R+7],"injectorIndex should point to a bloom filter"),nt(_[R+8],"injectorIndex should point to parent injector")}const G="svg",ue="math";function oe(_){for(;Array.isArray(_);)_=_[no];return _}function De(_){for(;Array.isArray(_);){if("object"==typeof _[$n])return _;_=_[no]}return null}function yt(_,R){return oe(R[_])}function gt(_,R){return oe(R[_.index])}function ut(_,R){const K=null===_?-1:_.index;return-1!==K?oe(R[K]):null}function $t(_,R){return _.data[R]}function Ze(_,R){return _[R]}function Tn(_,R,K,we){K>=_.data.length&&(_.data[K]=null,_.blueprint[K]=null),R[K]=we}function Yt(_,R){const K=R[_];return Fo(K)?K:K[no]}function wn(_){return!(4&~_[nn])}function Fn(_){return!(128&~_[nn])}function xt(_){return Dn(_[j])}function rn(_,R){return null==R?null:_[R]}function Bo(_){_[dn]=0}function mn(_){1024&_[nn]||(_[nn]|=1024,Fn(_)&&di(_))}function jn(_,R){for(;_>0;)R=R[rt],_--;return R}function Ao(_){return!!(9216&_[nn]||_[Mn]?.dirty)}function Yu(_){_[xe].changeDetectionScheduler?.notify(8),64&_[nn]&&(_[nn]|=1024),Ao(_)&&di(_)}function di(_){_[xe].changeDetectionScheduler?.notify(0);let R=mi(_);for(;null!==R&&!(8192&R[nn])&&(R[nn]|=8192,Fn(R));)R=mi(R)}function Os(_,R){if(Rs(_))throw new de(911,!1);null===_[sn]&&(_[sn]=[]),_[sn].push(R)}function Ju(_,R){if(null===_[sn])return;const K=_[sn].indexOf(R);-1!==K&&_[sn].splice(K,1)}function mi(_){const R=_[j];return Dn(R)?R[j]:R}function Tl(_){return _[he]??=[]}function Ps(_){return _.cleanup??=[]}function xl(_,R,K,we){const Pe=Tl(R);Pe.push(K),_.firstCreatePass&&Ps(_).push(we,Pe.length-1)}const Ct={lFrame:vi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Uo=function(_){return _[_.Off=0]="Off",_[_.Exhaustive=1]="Exhaustive",_[_.OnlyDirtyViews=2]="OnlyDirtyViews",_}(Uo||{});let en=0,Fa=!1;function Ld(){return Ct.lFrame.elementDepthCount}function Ga(){Ct.lFrame.elementDepthCount++}function Fd(){Ct.lFrame.elementDepthCount--}function Ma(){return Ct.bindingsEnabled}function zi(){return null!==Ct.skipHydrationRootTNode}function Ki(_){return Ct.skipHydrationRootTNode===_}function qa(){Ct.bindingsEnabled=!0}function Zu(){Ct.bindingsEnabled=!1}function Ns(){Ct.skipHydrationRootTNode=null}function Gi(){return Ct.lFrame.lView}function Ls(){return Ct.lFrame.tView}function pi(_){return Ct.lFrame.contextLView=_,_[Se]}function qi(_){return Ct.lFrame.contextLView=null,_}function Qi(){let _=fi();for(;null!==_&&64===_.type;)_=_.parent;return _}function fi(){return Ct.lFrame.currentTNode}function Xi(){const _=Ct.lFrame,R=_.currentTNode;return _.isParent?R:R.parent}function ec(_,R){const K=Ct.lFrame;K.currentTNode=_,K.isParent=R}function Il(){return Ct.lFrame.isParent}function tc(){Ct.lFrame.isParent=!1}function nc(){return Ct.lFrame.contextLView}function jd(){return ke("Must never be called in production mode"),en!==Uo.Off}function Rl(){return ke("Must never be called in production mode"),en===Uo.Exhaustive}function rc(_){ke("Must never be called in production mode"),en=_}function Bd(){return Fa}function oc(_){const R=Fa;return Fa=_,R}function Ol(){const _=Ct.lFrame;let R=_.bindingRootIndex;return-1===R&&(R=_.bindingRootIndex=_.tView.bindingStartIndex),R}function Pl(){return Ct.lFrame.bindingIndex}function Fs(_){return Ct.lFrame.bindingIndex=_}function ja(){return Ct.lFrame.bindingIndex++}function Ud(_){const R=Ct.lFrame,K=R.bindingIndex;return R.bindingIndex=R.bindingIndex+_,K}function Yi(){return Ct.lFrame.inI18n}function js(_){Ct.lFrame.inI18n=_}function Bs(_,R){const K=Ct.lFrame;K.bindingIndex=K.bindingRootIndex=_,Xa(R)}function Qa(){return Ct.lFrame.currentDirectiveIndex}function Xa(_){Ct.lFrame.currentDirectiveIndex=_}function Ji(_){const R=Ct.lFrame.currentDirectiveIndex;return-1===R?null:_[R]}function pa(){return Ct.lFrame.currentQueryIndex}function Zi(_){Ct.lFrame.currentQueryIndex=_}function yi(_){const R=_[Mr];return 2===R.type?R.declTNode:1===R.type?_[P]:null}function Ya(_,R,K){if(4&K){let Pe=R,ot=_;for(;!(Pe=Pe.parent,null!==Pe||1&K||(Pe=yi(ot),null===Pe||(ot=ot[rt],10&Pe.type))););if(null===Pe)return!1;R=Pe,_=ot}const we=Ct.lFrame=gi();return we.currentTNode=R,we.lView=_,!0}function ac(_){const R=gi(),K=_[Mr];Ct.lFrame=R,R.currentTNode=K.firstChild,R.lView=_,R.tView=K,R.contextLView=_,R.bindingIndex=K.bindingStartIndex,R.inI18n=!1}function gi(){const _=Ct.lFrame,R=null===_?null:_.child;return null===R?vi(_):R}function vi(_){const R={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:_,child:null,inI18n:!1};return null!==_&&(_.child=R),R}function Ba(){const _=Ct.lFrame;return Ct.lFrame=_.parent,_.currentTNode=null,_.lView=null,_}const Nl=Ba;function es(){const _=Ba();_.isParent=!0,_.tView=null,_.selectedIndex=-1,_.contextLView=null,_.elementDepthCount=0,_.currentDirectiveIndex=-1,_.currentNamespace=null,_.bindingRootIndex=-1,_.bindingIndex=-1,_.currentQueryIndex=0}function Ll(_){return(Ct.lFrame.contextLView=jn(_,Ct.lFrame.contextLView))[Se]}function Fl(){return Ct.lFrame.selectedIndex}function jl(_){Ct.lFrame.selectedIndex=_}function ts(){const _=Ct.lFrame;return $t(_.tView,_.selectedIndex)}function qt(){Ct.lFrame.currentNamespace=G}function na(){Ct.lFrame.currentNamespace=ue}function ra(){!function Vo(){Ct.lFrame.currentNamespace=null}()}function ro(){return Ct.lFrame.currentNamespace}let Us=!0;function Ja(){return Us}function ns(_){Us=_}function Vs(_,R=null,K=null,we){const Pe=Bl(_,R,K,we);return Pe.resolveInjectorInitializers(),Pe}function Bl(_,R=null,K=null,we,Pe=new Set){const ot=[K||Qn,F(_)];return we=we||("object"==typeof _?void 0:ve(_)),new hr(ot,R||er(),we||null,Pe)}class rs{static THROW_IF_NOT_FOUND=dr;static NULL=new kr;static create(R,K){if(Array.isArray(R))return Vs({name:""},K,R,"");{const we=R.name??"";return Vs({name:we},R.parent,R.providers,we)}}static \u0275prov=Be({token:rs,providedIn:"any",factory:()=>br(Hr)});static __NG_ELEMENT_ID__=-1}const Ul=new Hn("");let $s=(()=>class _{static __NG_ELEMENT_ID__=ic;static __NG_ENV_ID__=K=>K})();class Vl extends $s{_lView;constructor(R){super(),this._lView=R}get destroyed(){return Rs(this._lView)}onDestroy(R){const K=this._lView;return Os(K,R),()=>Ju(K,R)}}function ic(){return new Vl(Gi())}class _i{_console=console;handleError(R){this._console.error("ERROR",R)}}const $o=new Hn("",{providedIn:"root",factory:()=>{const _=Nn(ho);let R;return K=>{_.destroyed&&!R?setTimeout(()=>{throw K}):(R??=_.get(_i),R.handleError(K))}}}),bi={provide:or,useValue:()=>{Nn(_i)},multi:!0};function Hl(_){return"function"==typeof _&&void 0!==_[le.bh]}function Hs(_,R){const[K,we,Pe]=(0,le.n5)(_,R?.equal),ot=K;return ot.set=we,ot.update=Pe,ot.asReadonly=uc.bind(ot),ot}function uc(){const _=this[le.bh];if(void 0===_.readonlyFn){const R=()=>this();R[le.bh]=_,_.readonlyFn=R}return _.readonlyFn}function Wl(_){return Hl(_)&&"function"==typeof _.set}class os{}const Vd=new Hn("",{providedIn:"root",factory:()=>!1}),mp=new Hn("",{providedIn:"root",factory:()=>!1}),zl=new Hn(""),cc=new Hn("");function Ho(_,R){if(null!==(0,le.nR)())throw new de(-602,!1)}let Kl=(()=>class _{view;node;constructor(K,we){this.view=K,this.node=we}static __NG_ELEMENT_ID__=Za})();function Za(){return new Kl(Gi(),Qi())}let Gl=(()=>{class _{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _e.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pe.c(K=>{K.next(!1),K.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const K=this.taskId++;return this.pendingTasks.add(K),K}has(K){return this.pendingTasks.has(K)}remove(K){this.pendingTasks.delete(K),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new _})}return _})(),ei=(()=>{class _{internalPendingTasks=Nn(Gl);scheduler=Nn(os);errorHandler=Nn($o);add(){const K=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(K)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(K))}}run(K){const we=this.add();K().catch(this.errorHandler).finally(we)}static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new _})}return _})();function Ws(..._){}let zs=(()=>{class _{static \u0275prov=Be({token:_,providedIn:"root",factory:()=>new Ks})}return _})();class Ks{dirtyEffectCount=0;queues=new Map;add(R){this.enqueue(R),this.schedule(R)}schedule(R){R.dirty&&this.dirtyEffectCount++}remove(R){const we=this.queues.get(R.zone);we.has(R)&&(we.delete(R),R.dirty&&this.dirtyEffectCount--)}enqueue(R){const K=R.zone;this.queues.has(K)||this.queues.set(K,new Set);const we=this.queues.get(K);we.has(R)||we.add(R)}flush(){for(;this.dirtyEffectCount>0;){let R=!1;for(const[K,we]of this.queues)R||=null===K?this.flushQueue(we):K.run(()=>this.flushQueue(we));R||(this.dirtyEffectCount=0)}}flushQueue(R){let K=!1;for(const we of R)we.dirty&&(this.dirtyEffectCount--,K=!0,we.run());return K}}},3073:(it,Ee,V)=>{"use strict";V.d(Ee,{D:()=>X});const{isArray:E}=Array,{getPrototypeOf:i,prototype:z,keys:x}=Object;function X(J){if(1===J.length){const le=J[0];if(E(le))return{args:le,keys:null};if(function Z(J){return J&&"object"==typeof J&&i(J)===z}(le)){const _e=x(le);return{args:_e.map(pe=>le[pe]),keys:_e}}}return{args:J,keys:null}}},3077:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>z});var E=V(467),i=V(2615);let z=(()=>{class x{SESSION_ID="sessionId";constructor(){}load(Z){const J=localStorage.getItem(Z);return null!==J?JSON.parse(J):null}loadSessionId(){const Z=this.load(this.SESSION_ID);return null!==Z?Z:0}set(Z,J){localStorage.setItem(Z,J)}setSessionId(Z){this.set(this.SESSION_ID,Z.toString())}clear(Z){localStorage.removeItem(Z)}resetGame(){localStorage.clear(),location.reload()}loadFile(Z,J){var le=this;return(0,E.A)(function*(){if(!Z)throw new Error("Enter a valid scenario number");const _e=String(Z).padStart(3,"0"),re=`${(document.querySelector("base")?.getAttribute("href")||"/").replace(/\/$/,"")}/scenarios/${_e}.json`;try{const ce=yield fetch(re);if(!ce.ok)throw new Error(`Failed to load file: ${ce.status} ${ce.statusText}`);const de=yield ce.json();return le.processScenarioData(de,J)}catch(ce){throw console.error("Error loading file:",ce),new Error(`Error loading scenario ${Z}. Check the file path and make sure it exists.`)}})()}processScenarioData(Z,J=1){return Z.rooms&&Z.rooms[0]&&Z.rooms[0].monster?Z.rooms[0].monster.map(le=>({type:le.name,level:J,isElite:"elite"===le?.type||"elite"===le?.player4,aggressive:!0})):[]}static \u0275fac=function(J){return new(J||x)};static \u0275prov=i.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},3242:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(8666)),z=E(V(3608));class x{constructor(Z,{headers:J={},schema:le,fetch:_e}={}){this.url=Z,this.headers=new Headers(J),this.schemaName=le,this.fetch=_e}from(Z){const J=new URL(`${this.url}/${Z}`);return new i.default(J,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Z){return new x(this.url,{headers:this.headers,schema:Z,fetch:this.fetch})}rpc(Z,J={},{head:le=!1,get:_e=!1,count:pe}={}){var re;let ce;const de=new URL(`${this.url}/rpc/${Z}`);let ye;le||_e?(ce=le?"HEAD":"GET",Object.entries(J).filter(([He,ze])=>void 0!==ze).map(([He,ze])=>[He,Array.isArray(ze)?`{${ze.join(",")}}`:`${ze}`]).forEach(([He,ze])=>{de.searchParams.append(He,ze)})):(ce="POST",ye=J);const Oe=new Headers(this.headers);return pe&&Oe.set("Prefer",`count=${pe}`),new z.default({method:ce,url:de,headers:Oe,schema:this.schemaName,body:ye,fetch:null!==(re=this.fetch)&&void 0!==re?re:fetch})}}Ee.default=x},3342:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(5958));Ee.default=class z extends i.default{select(X){let Z=!1;const J=(X??"*").split("").map(le=>/\s/.test(le)&&!Z?"":('"'===le&&(Z=!Z),le)).join("");return this.url.searchParams.set("select",J),this.headers.append("Prefer","return=representation"),this}order(X,{ascending:Z=!0,nullsFirst:J,foreignTable:le,referencedTable:_e=le}={}){const pe=_e?`${_e}.order`:"order",re=this.url.searchParams.get(pe);return this.url.searchParams.set(pe,`${re?`${re},`:""}${X}.${Z?"asc":"desc"}${void 0===J?"":J?".nullsfirst":".nullslast"}`),this}limit(X,{foreignTable:Z,referencedTable:J=Z}={}){return this.url.searchParams.set(typeof J>"u"?"limit":`${J}.limit`,`${X}`),this}range(X,Z,{foreignTable:J,referencedTable:le=J}={}){const pe=typeof le>"u"?"limit":`${le}.limit`;return this.url.searchParams.set(typeof le>"u"?"offset":`${le}.offset`,`${X}`),this.url.searchParams.set(pe,""+(Z-X+1)),this}abortSignal(X){return this.signal=X,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:X=!1,verbose:Z=!1,settings:J=!1,buffers:le=!1,wal:_e=!1,format:pe="text"}={}){var re;const ce=[X?"analyze":null,Z?"verbose":null,J?"settings":null,le?"buffers":null,_e?"wal":null].filter(Boolean).join("|"),de=null!==(re=this.headers.get("Accept"))&&void 0!==re?re:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${pe}; for="${de}"; options=${ce};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(X){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${X}`),this}}},3494:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3597:(it,Ee,V)=>{"use strict";V.d(Ee,{EW:()=>ce,O8:()=>re}),V(467);var i=V(2615),z=V(8440);function re(Re){return function le(Re){const Ke=(0,z.Ht)(null);try{return Re()}finally{(0,z.Ht)(Ke)}}(Re)}function ce(Re,Ke){return(0,z.KZ)(Re,Ke?.equal)}Error,Error},3608:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3342));Ee.default=class z extends i.default{eq(X,Z){return this.url.searchParams.append(X,`eq.${Z}`),this}neq(X,Z){return this.url.searchParams.append(X,`neq.${Z}`),this}gt(X,Z){return this.url.searchParams.append(X,`gt.${Z}`),this}gte(X,Z){return this.url.searchParams.append(X,`gte.${Z}`),this}lt(X,Z){return this.url.searchParams.append(X,`lt.${Z}`),this}lte(X,Z){return this.url.searchParams.append(X,`lte.${Z}`),this}like(X,Z){return this.url.searchParams.append(X,`like.${Z}`),this}likeAllOf(X,Z){return this.url.searchParams.append(X,`like(all).{${Z.join(",")}}`),this}likeAnyOf(X,Z){return this.url.searchParams.append(X,`like(any).{${Z.join(",")}}`),this}ilike(X,Z){return this.url.searchParams.append(X,`ilike.${Z}`),this}ilikeAllOf(X,Z){return this.url.searchParams.append(X,`ilike(all).{${Z.join(",")}}`),this}ilikeAnyOf(X,Z){return this.url.searchParams.append(X,`ilike(any).{${Z.join(",")}}`),this}is(X,Z){return this.url.searchParams.append(X,`is.${Z}`),this}in(X,Z){const J=Array.from(new Set(Z)).map(le=>"string"==typeof le&&new RegExp("[,()]").test(le)?`"${le}"`:`${le}`).join(",");return this.url.searchParams.append(X,`in.(${J})`),this}contains(X,Z){return"string"==typeof Z?this.url.searchParams.append(X,`cs.${Z}`):Array.isArray(Z)?this.url.searchParams.append(X,`cs.{${Z.join(",")}}`):this.url.searchParams.append(X,`cs.${JSON.stringify(Z)}`),this}containedBy(X,Z){return"string"==typeof Z?this.url.searchParams.append(X,`cd.${Z}`):Array.isArray(Z)?this.url.searchParams.append(X,`cd.{${Z.join(",")}}`):this.url.searchParams.append(X,`cd.${JSON.stringify(Z)}`),this}rangeGt(X,Z){return this.url.searchParams.append(X,`sr.${Z}`),this}rangeGte(X,Z){return this.url.searchParams.append(X,`nxl.${Z}`),this}rangeLt(X,Z){return this.url.searchParams.append(X,`sl.${Z}`),this}rangeLte(X,Z){return this.url.searchParams.append(X,`nxr.${Z}`),this}rangeAdjacent(X,Z){return this.url.searchParams.append(X,`adj.${Z}`),this}overlaps(X,Z){return this.url.searchParams.append(X,"string"==typeof Z?`ov.${Z}`:`ov.{${Z.join(",")}}`),this}textSearch(X,Z,{config:J,type:le}={}){let _e="";return"plain"===le?_e="pl":"phrase"===le?_e="ph":"websearch"===le&&(_e="w"),this.url.searchParams.append(X,`${_e}fts${void 0===J?"":`(${J})`}.${Z}`),this}match(X){return Object.entries(X).forEach(([Z,J])=>{this.url.searchParams.append(Z,`eq.${J}`)}),this}not(X,Z,J){return this.url.searchParams.append(X,`not.${Z}.${J}`),this}or(X,{foreignTable:Z,referencedTable:J=Z}={}){return this.url.searchParams.append(J?`${J}.or`:"or",`(${X})`),this}filter(X,Z,J){return this.url.searchParams.append(X,`${Z}.${J}`),this}}},3664:(it,Ee,V)=>{"use strict";V.d(Ee,{$C:()=>fd,$Ln:()=>qv,AVh:()=>zy,Ab1:()=>ji,Agw:()=>mt,B4B:()=>xn,BIS:()=>rt,BMQ:()=>ky,C4Q:()=>il,C5r:()=>Hb,C7A:()=>Rv,Co$:()=>Ph,DH7:()=>Ab,DNE:()=>b,DkB:()=>Ny,EFF:()=>ub,EJ8:()=>ty,Ef8:()=>at,FsC:()=>ey,G5x:()=>S0,GBs:()=>H_,H1s:()=>Zv,HbH:()=>eb,JRh:()=>Gy,Jt5:()=>b_,Jv_:()=>Ib,KED:()=>$k,Lme:()=>qy,NCX:()=>lu,NSC:()=>Gu,NYb:()=>Rw,OA$:()=>jt,OR8:()=>xi,Ocv:()=>hD,Ol2:()=>Na,PLl:()=>xe,PYt:()=>pd,Ql9:()=>lD,R50:()=>Qy,R7$:()=>cm,RV6:()=>g_,SKi:()=>Wt,SdI:()=>u0,SpI:()=>ip,TFI:()=>qh,Ts$:()=>m0,UQu:()=>iD,V5L:()=>l0,VBU:()=>Nh,VeQ:()=>Zt,Vt3:()=>gd,VwU:()=>By,VzW:()=>Yf,XpG:()=>V_,Xx1:()=>He,Y8G:()=>My,YEm:()=>he,Zhj:()=>zf,_9s:()=>Eu,_9u:()=>q,_jY:()=>go,_qm:()=>so,_ys:()=>wv,a8H:()=>Dt,aKT:()=>Ln,bH1:()=>Jf,bIt:()=>jy,bMT:()=>Vb,bVm:()=>Sd,bc$:()=>Nt,bkB:()=>Rn,c1b:()=>Oi,cDI:()=>K0,cZr:()=>ag,cdK:()=>Yv,czy:()=>tu,d80:()=>uD,dOL:()=>Gv,dfE:()=>ss,e6s:()=>V1,eux:()=>Zh,gXe:()=>pa,giA:()=>Qv,i5U:()=>$b,iLQ:()=>e_,j41:()=>Xh,k0s:()=>Yh,kBR:()=>Py,kS0:()=>_r,kdw:()=>Ge,lJT:()=>t_,l_i:()=>Ob,lsd:()=>z_,mGM:()=>W_,mal:()=>Ev,mxI:()=>Xy,n$t:()=>Hd,nI1:()=>Ub,nrm:()=>xy,o8S:()=>Gh,ozJ:()=>nd,phd:()=>Pw,pl0:()=>Nw,qex:()=>ep,rXU:()=>Ds,rj2:()=>Jh,sFG:()=>Yg,sMw:()=>Pb,sZ2:()=>Se,sdS:()=>K_,sgu:()=>sv,uiO:()=>bt,utN:()=>Tf,vDg:()=>rd,w6W:()=>Qf,wni:()=>$_,xGo:()=>Do,xc7:()=>Wy,xe9:()=>h0,yLl:()=>Xv,ypd:()=>Lw,zoo:()=>bv});var E=V(467),i=V(2615),z=V(8440),x=V(1413),X=V(8359),Z=V(6354);function J(e){return{toString:e}.toString()}const le="__annotations__",_e="__parameters__",pe="__prop__metadata__";function re(e,t,n,r,l){return J(()=>{const c=ce(t);function m(...y){if(this instanceof m)return c.call(this,...y),this;const v=new m(...y);return function(L){return l&&l(L,...y),(L.hasOwnProperty(le)?L[le]:Object.defineProperty(L,le,{value:[]})[le]).push(v),L}}return n&&(m.prototype=Object.create(n.prototype)),m.prototype.ngMetadataName=e,m.annotationCls=m,m})}function ce(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}function de(e,t,n){return J(()=>{const r=ce(t);function l(...c){if(this instanceof l)return r.apply(this,c),this;const m=new l(...c);return y.annotation=m,y;function y(v,T,L){const W=v.hasOwnProperty(_e)?v[_e]:Object.defineProperty(v,_e,{value:[]})[_e];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(m),v}}return l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Oe=(0,i.z6V)(de("Inject",e=>({token:e})),-1),He=(0,i.z6V)(de("Optional"),8),ze=(0,i.z6V)(de("Self"),2),Ge=(0,i.z6V)(de("SkipSelf"),4),We=(0,i.z6V)(de("Host"),1);function bt(e){const t=i.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ve={\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275inject:i.KVO,\u0275\u0275invalidFactoryDep:i.dmw,resolveForwardRef:i.nl4},Te=Function;function Ce(e){return"function"==typeof e}const Ve=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Fe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Mt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Vt{_reflect;constructor(t){this._reflect=t||i.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=(0,i.WfI)(typeof t>"u"?n.length:t.length);for(let l=0;l<r.length;l++)r[l]=typeof t>"u"?[]:t[l]&&t[l]!=Object?[t[l]]:[],n&&null!=n[l]&&(r[l]=r[l].concat(n[l]));return r}_ownParameters(t,n){if(function nt(e){return Ve.test(e)||Mt.test(e)||Fe.test(e)&&!qe.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const l=t.ctorParameters;if(l&&l!==n.ctorParameters){const y="function"==typeof l?l():l,v=y.map(L=>L&&L.type),T=y.map(L=>L&&On(L.decorators));return this._zipTypesAndAnnotations(v,T)}const c=t.hasOwnProperty(_e)&&t[_e],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return m||c?this._zipTypesAndAnnotations(m,c):(0,i.WfI)(t.length)}parameters(t){if(!Ce(t))return[];const n=vn(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?On(t.decorators):t.hasOwnProperty(le)?t[le]:null}annotations(t){if(!Ce(t))return[];const n=vn(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,l={};return Object.keys(r).forEach(c=>{l[c]=On(r[c])}),l}return t.hasOwnProperty(pe)?t[pe]:null}propMetadata(t){if(!Ce(t))return{};const n=vn(t),r={};if(n!==Object){const c=this.propMetadata(n);Object.keys(c).forEach(m=>{r[m]=c[m]})}const l=this._ownPropMetadata(t,n);return l&&Object.keys(l).forEach(c=>{const m=[];r.hasOwnProperty(c)&&m.push(...r[c]),m.push(...l[c]),r[c]=m}),r}ownPropMetadata(t){return Ce(t)&&this._ownPropMetadata(t,vn(t))||{}}hasLifecycleHook(t,n){return t instanceof Te&&n in t.prototype}}function On(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function vn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}class _n{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const jt=(()=>{const e=()=>lr;return e.ngInherit=!0,e})();function lr(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ke),Re}function Re(){const e=se(this),t=e?.current;if(t){const n=e.previous;if(n===i.MZA)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ke(e,t,n,r,l){const c=this.declaredInputs[r],m=se(e)||function be(e,t){return e[ae]=t}(e,{previous:i.MZA,current:null}),y=m.current||(m.current={}),v=m.previous,T=v[c];y[c]=new _n(T&&T.currentValue,n,v===i.MZA),sr(e,t,l,n)}const ae="__ngSimpleChanges__";function se(e){return e[ae]||null}const ge=[],at=function(e,t=null,n){for(let r=0;r<ge.length;r++)(0,ge[r])(e,t,n)};function me(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:v,ngAfterViewChecked:T,ngOnDestroy:L}=c;m&&(e.contentHooks??=[]).push(-n,m),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),v&&(e.viewHooks??=[]).push(-n,v),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function Be(e,t,n){Ue(e,t,3,n)}function Xe(e,t,n,r){(3&e[i.Wg1])===n&&Ue(e,t,n,r)}function pt(e,t){let n=e[i.Wg1];(3&n)===t&&(n&=16383,n+=1,e[i.Wg1]=n)}function Ue(e,t,n,r){const c=r??-1,m=t.length-1;let y=0;for(let v=void 0!==r?65535&e[i.wVl]:0;v<m;v++)if("number"==typeof t[v+1]){if(y=t[v],null!=r&&y>=r)break}else t[v]<0&&(e[i.wVl]+=65536),(y<c||-1==c)&&(kt(e,n,t,v),e[i.wVl]=(4294901760&e[i.wVl])+v+2),v++}function zt(e,t){at(4,e,t);const n=(0,z.Ht)(null);try{t.call(e)}finally{(0,z.Ht)(n),at(5,e,t)}}function kt(e,t,n,r){const l=n[r]<0,c=n[r+1],y=e[l?-n[r]:n[r]];l?e[i.Wg1]>>14<e[i.wVl]>>16&&(3&e[i.Wg1])===t&&(e[i.Wg1]+=16384,zt(y,c)):zt(y,c)}const un=-1;class Kt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,l){this.factory=t,this.name=l,this.canSeeViewProviders=n,this.injectImpl=r}}function Pr(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function bo(e){return 3===e||4===e||6===e}function Ro(e){return 64===e.charCodeAt(0)}function Pn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||fr(e,n,l,0,-1===n||2===n?t[++r]:null)}}return e}function fr(e,t,n,r,l){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){m=-1;break}if(y>t){m=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n)return void(null!==l&&(e[c+1]=l));c++,null!==l&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,n),null!==l&&e.splice(c++,0,l)}function yr(e){return e!==un}function gr(e){return 32767&e}function qr(e,t){let n=function ua(e){return e>>16}(e),r=t;for(;n>0;)r=r[i.X5O],n--;return r}let nr=!0;function Wn(e){const t=nr;return nr=e,t}const wo=255,Oo=5;let qo=0;const Gt={};function Qr(e,t){const n=Xo(e,t);if(-1!==n)return n;const r=t[i.eDl];r.firstCreatePass&&(e.injectorIndex=t.length,Qo(r.data,e),Qo(t,null),Qo(r.blueprint,null));const l=oo(e,t),c=e.injectorIndex;if(yr(l)){const m=gr(l),y=qr(l,t),v=y[i.eDl].data;for(let T=0;T<8;T++)t[c+T]=y[m+T]|v[m+T]}return t[c+8]=l,c}function Qo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Xo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function oo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=dr(l),null===r)return un;if(n++,l=l[i.X5O],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return un}function Kn(e,t,n){!function Fr(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(i.p9y)&&(r=n[i.p9y]),null==r&&(r=n[i.p9y]=qo++);const l=r&wo;t.data[e+(l>>Oo)]|=1<<l}(e,t,n)}function jr(e,t,n){if(8&n||void 0!==e)return e;(0,i.$Hz)(t,"NodeInjector")}function Gn(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const l=e[i.YEL],c=(0,i.a2B)(void 0);try{return l?l.get(t,r,8&n):(0,i.MzJ)(t,r,8&n)}finally{(0,i.a2B)(c)}}return jr(r,t,n)}function Sn(e,t,n,r=0,l){if(null!==e){if(2048&t[i.Wg1]&&!(2&r)){const m=function Co(e,t,n,r,l){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[i.Wg1]&&!(0,i.EFk)(m);){const y=ao(c,m,n,2|r,Gt);if(y!==Gt)return y;let v=c.parent;if(!v){const T=m[i.oMQ];if(T){const L=T.get(n,Gt,r);if(L!==Gt)return L}v=dr(m),m=m[i.X5O]}c=v}return l}(e,t,n,r,Gt);if(m!==Gt)return m}const c=ao(e,t,n,r,Gt);if(c!==Gt)return c}return Gn(t,n,r,l)}function ao(e,t,n,r,l){const c=function Eo(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(i.p9y)?e[i.p9y]:void 0;return"number"==typeof t?t>=0?t&wo:qn:t}(n);if("function"==typeof c){if(!(0,i.ihb)(t,e,r))return 1&r?jr(l,n,r):Gn(t,n,r,l);try{let m;if(m=c(r),null!=m||8&r)return m;(0,i.$Hz)(n)}finally{(0,i.niQ)()}}else if("number"==typeof c){let m=null,y=Xo(e,t),v=un,T=1&r?t[i.b5C][i.qlT]:null;for((-1===y||4&r)&&(v=-1===y?oo(e,t):t[y+8],v!==un&&Ea(r,!1)?(m=t[i.eDl],y=gr(v),t=qr(v,t)):y=-1);-1!==y;){const L=t[i.eDl];if(ko(c,y,L.data)){const W=wa(y,t,n,m,r,T);if(W!==Gt)return W}v=t[y+8],v!==un&&Ea(r,t[i.eDl].data[y+8]===T)&&ko(c,y,t)?(m=L,y=gr(v),t=qr(v,t)):y=-1}}return l}function wa(e,t,n,r,l,c){const m=t[i.eDl],y=m.data[e+8],L=ur(y,m,n,null==r?(0,i.Qs1)(y)&&nr:r!=m&&!!(3&y.type),1&l&&c===y);return null!==L?Br(t,m,L,y,l):Gt}function ur(e,t,n,r,l){const c=e.providerIndexes,m=t.data,y=1048575&c,v=e.directiveStart,L=c>>20,ee=l?y+L:e.directiveEnd;for(let te=r?y:y+L;te<ee;te++){const Ae=m[te];if(te<v&&n===Ae||te>=v&&Ae.type===n)return te}if(l){const te=m[v];if(te&&(0,i.JlV)(te)&&te.type===n)return v}return null}function Br(e,t,n,r,l){let c=e[n];const m=t.data;if(c instanceof Kt){const y=c;if(y.resolving){const te=(0,i.PP7)(m[n]);throw(0,i.PQT)(te)}const v=Wn(y.canSeeViewProviders);y.resolving=!0;const W=y.injectImpl?(0,i.a2B)(y.injectImpl):null;(0,i.ihb)(e,r,0);try{c=e[n]=y.factory(void 0,l,m,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Xt(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=t.type.prototype;if(r){const m=lr(t);(n.preOrderHooks??=[]).push(e,m),(n.preOrderCheckHooks??=[]).push(e,m)}l&&(n.preOrderHooks??=[]).push(0-e,l),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}(n,m[n],t)}finally{null!==W&&(0,i.a2B)(W),Wn(v),y.resolving=!1,(0,i.niQ)()}}return c}function ko(e,t,n){return!!(n[t+(e>>Oo)]&1<<e)}function Ea(e,t){return!(2&e||1&e&&t)}class Jt{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Sn(this._tNode,this._lView,t,(0,i.hjC)(r),n)}}function qn(){return new Jt((0,i.Mx4)(),(0,i.OAn)())}function Do(e){return J(()=>{const t=e.prototype.constructor,n=t[i.zSs]||Ur(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const c=l[i.zSs]||Ur(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Ur(e){return(0,i.Jzi)(e)?()=>{const t=Ur((0,i.nl4)(e));return t&&t()}:(0,i.wGu)(e)}function dr(e){const t=e[i.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[i.qlT]:null}function _r(e){return function Xr(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const c=n[l];if(bo(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(c===t)return n[l+1];l+=2}}}return null}((0,i.Mx4)(),e)}const ca=de("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>_r(e)}));let io=null;function mr(e){return Nn(function br(){return io=io||new Vt}().parameters(e))}function Nn(e){return e.map(t=>function Jr(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const l=Object.getPrototypeOf(r);if(r instanceof He||"Optional"===l.ngMetadataName)t.optional=!0;else if(r instanceof Ge||"SkipSelf"===l.ngMetadataName)t.skipSelf=!0;else if(r instanceof ze||"Self"===l.ngMetadataName)t.self=!0;else if(r instanceof We||"Host"===l.ngMetadataName)t.host=!0;else if(r instanceof Oe)t.token=r.token;else if(r instanceof ca){if(void 0===r.attributeName)throw new i.buA(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const fe=(0,i.kLh)({provide:String,useValue:i.kLh});function wr(e){return void 0!==e.useClass}function rr(e){return void 0!==e.useFactory}const so=re("Injectable",void 0,void 0,0,(e,t)=>function Po(e,t){let n=null,r=null;e.hasOwnProperty(i.yAH)||Object.defineProperty(e,i.yAH,{get:()=>(null===n&&(n=bt().compileInjectable(ve,`ng:///${e.name}/\u0275prov.js`,function St(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(wr(n)||rr(n))&&void 0!==n.deps&&(r.deps=Nn(n.deps)),wr(n)?r.useClass=n.useClass:function No(e){return fe in e}(n)?r.useValue=n.useValue:rr(n)?r.useFactory=n.useFactory:function Vr(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(i.zSs)||Object.defineProperty(e,i.zSs,{get:()=>{if(null===r){const l=bt();r=l.compileFactory(ve,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:mr(e),target:l.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Zr(){return Jn((0,i.Mx4)(),(0,i.OAn)())}function Jn(e,t){return new Ln((0,i.d31)(e,t))}let Ln=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Zr})();function Zn(e){return e instanceof Ln?e.nativeElement:e}function Lo(){return this._results[Symbol.iterator]()}class $r{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new x.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=(0,i.Bqz)(t);(this._changesDetected=!(0,i.ng7)(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Lo}function Qn(e){return!(128&~e.flags)}var uo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(uo||{});const kr=new Map;let co=0;function mo(e){kr.delete(e[i.ID])}const $="__ngContext__";function ie(e,t){(0,i.q$2)(t)?(e[$]=t[i.ID],function ar(e){kr.set(e[i.ID],e)}(t)):e[$]=t}function er(e){return hr(e[i.EJG])}function ho(e){return hr(e[i.K29])}function hr(e){for(;null!==e&&!(0,i.A0l)(e);)e=e[i.K29];return e}let P;function q(e){P=e}function he(){if(void 0!==P)return P;if(typeof document<"u")return document;throw new i.buA(210,!1)}const Se=new i.nKC("",{providedIn:"root",factory:()=>je}),je="ng",xe=new i.nKC(""),mt=new i.nKC("",{providedIn:"platform",factory:()=>"unknown"}),Nt=new i.nKC(""),rt=new i.nKC("",{providedIn:"root",factory:()=>he().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),fn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Zt=new i.nKC("",{providedIn:"root",factory:()=>fn});function bn(){const e=new yn;return e.store=function Tr(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(he(),(0,i.WQX)(Se)),e}let yn=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:bn});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const ci=new i.nKC("",{providedIn:"root",factory:()=>!1}),M=new i.nKC(""),U={passive:!0,capture:!0},ne=new WeakMap,ft=new WeakMap,At=new WeakMap,tr=["click","keydown"],yo=["mouseenter","mouseover","focusin"];let zr=null,jo=0;class Aa{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function C(e,t){let n=ft.get(e);if(!n){n=new Aa,ft.set(e,n);for(const r of tr)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){ft.delete(e);for(const c of tr)e.removeEventListener(c,l,U)}}}function g(e,t){let n=ne.get(e);if(!n){n=new Aa,ne.set(e,n);for(const r of yo)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){for(const c of yo)e.removeEventListener(c,l,U);ne.delete(e)}}}let $t=(e,t,n,r)=>{};const Yt=new i.nKC("");function Fn(e){return!(32&~e.flags)}function Tl(e){let t=e._lView;return 2===t[i.eDl].type?null:((0,i.EFk)(t)&&(t=t[i.Yw1]),t)}function Qa(e,t){const n=e.contentQueries;if(null!==n){const r=(0,z.Ht)(null);try{for(let l=0;l<n.length;l+=2){const m=n[l+1];if(-1!==m){const y=e.data[m];(0,i.GA0)(n[l]),y.contentQueries(2,t[m],m)}}}finally{(0,z.Ht)(r)}}}function Xa(e,t,n){(0,i.GA0)(0);const r=(0,z.Ht)(null);try{t(e,n)}finally{(0,z.Ht)(r)}}function Ji(e,t,n){if((0,i.srX)(t)){const r=(0,z.Ht)(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const y=e.data[m];y.contentQueries&&y.contentQueries(1,n[m],m)}}finally{(0,z.Ht)(r)}}}var pa=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(pa||{});let Zi,gi;function yi(){if(void 0===Zi&&(Zi=null,i.laP.trustedTypes))try{Zi=i.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zi}function Ya(e){return yi()?.createHTML(e)||e}function vi(){if(void 0===gi&&(gi=null,i.laP.trustedTypes))try{gi=i.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return gi}function Ba(e){return vi()?.createHTML(e)||e}function Nl(e){return vi()?.createScript(e)||e}function es(e){return vi()?.createScriptURL(e)||e}class Ll{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i.ok8})`}}function ra(e){return e instanceof Ll?e.changingThisBreaksApplicationSecurity:e}function Vo(e,t){const n=function ro(e){return e instanceof Ll&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${i.ok8})`)}return n===t}function rs(e){const t=new $s(e);return function Vl(){try{return!!(new window.DOMParser).parseFromString(Ya(""),"text/html")}catch{return!1}}()?new Ul(t):t}class Ul{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Ya(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class $s{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Ya(t),n}}const ic=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _i(e){return(e=String(e)).match(ic)?e:"unsafe:"+e}function $o(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function bi(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const $l=$o("area,br,col,hr,img,wbr"),sc=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hl=$o("rp,rt"),Wl=bi($l,bi(sc,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bi(Hl,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bi(Hl,sc)),os=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zl=bi(os,$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cc=$o("script,style,template");class Ho{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)l.push(n),n=Gl(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=Za(n);if(c){n=c;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=ei(t).toLowerCase();if(!Wl.hasOwnProperty(n))return this.sanitizedSomething=!0,!cc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const c=r.item(l),m=c.name,y=m.toLowerCase();if(!zl.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let v=c.value;os[y]&&(v=_i(v)),this.buf.push(" ",m,'="',_(v),'"')}return this.buf.push(">"),!0}endElement(t){const n=ei(t).toLowerCase();Wl.hasOwnProperty(n)&&!$l.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_(t))}}function Za(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Ws(t);return t}function Gl(e){const t=e.firstChild;if(t&&function Kl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Ws(t);return t}function ei(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Ws(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const zs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ks=/([^\#-~ |!])/g;function _(e){return e.replace(/&/g,"&amp;").replace(zs,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ks,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let R;function we(e){return"content"in e&&function Pe(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ot=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ot||{});function xn(e){const t=wi();return t?t.sanitize(ot.URL,e)||"":Vo(e,"URL")?ra(e):_i((0,i.eFE)(e))}function Cn(e){const t=wi();if(t)return es(t.sanitize(ot.RESOURCE_URL,e)||"");if(Vo(e,"ResourceURL"))return es(ra(e));throw new i.buA(904,!1)}function Hd(e,t,n){return function $d(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Cn:xn}(t,n)(e)}function wi(){const e=(0,i.OAn)();return e&&e[i.M0L].sanitizer}const mg=/^>|^->|<!--|-->|--!>|<!-$/g,zd=/(<|>)/g;function fa(e){return e instanceof Function?e():e}function ss(e){if(function gp(e){if(!(0,i.xUg)(e))throw new i.buA(906,`The ${(0,i.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(e),!(0,i.xUg)(e).standalone)throw new i.buA(907,`The ${(0,i.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,i.PP7)(e)} component has the \`standalone: true\` flag in the decorator.`)}function vp(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const c=t.length;if(l+c===r||e.charCodeAt(l+c)<=32)return l}n=l+1}}const nm="ng-template";function _p(e,t,n,r){let l=0;if(r){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==vp(t[l+1].toLowerCase(),n,0))return!0}else if(yc(e))return!1;if(l=t.indexOf(1,l),l>-1){let c;for(;++l<t.length&&"string"==typeof(c=t[l]);)if(c.toLowerCase()===n)return!0}return!1}function yc(e){return 4===e.type&&e.value!==nm}function rm(e,t,n){return t===(4!==e.type||n?e.value:nm)}function bp(e,t,n){let r=4;const l=e.attrs,c=null!==l?function Ep(e){for(let t=0;t<e.length;t++)if(bo(e[t]))return t;return e.length}(l):0;let m=!1;for(let y=0;y<t.length;y++){const v=t[y];if("number"!=typeof v){if(!m)if(4&r){if(r=2|1&r,""!==v&&!rm(e,v,n)||""===v&&1===t.length){if(Wo(r))return!1;m=!0}}else if(8&r){if(null===l||!_p(e,l,v,n)){if(Wo(r))return!1;m=!0}}else{const T=t[++y],L=gc(v,l,yc(e),n);if(-1===L){if(Wo(r))return!1;m=!0;continue}if(""!==T){let W;if(W=L>c?"":l[L+1].toLowerCase(),2&r&&T!==W){if(Wo(r))return!1;m=!0}}}}else{if(!m&&!Wo(r)&&!Wo(v))return!1;if(m&&Wo(v))continue;m=!1,r=v|1&r}}return Wo(r)||m}function Wo(e){return!(1&e)}function gc(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let c=!1;for(;l<t.length;){const m=t[l];if(m===e)return l;if(3===m||6===m)c=!0;else{if(1===m||2===m){let y=t[++l];for(;"string"==typeof y;)y=t[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=c?1:2}return-1}return function kp(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ei(e,t,n=!1){for(let r=0;r<t.length;r++)if(bp(e,t[r],n))return!0;return!1}function Dp(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function Jl(e,t){return e?":not("+t.trim()+")":t}function Cp(e){let t=e[0],n=1,r=2,l="",c=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&r){const y=e[++n];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?l+="."+m:4&r&&(l+=" "+m);else""!==l&&!Wo(m)&&(t+=Jl(c,l),l=""),r=m,c=c||!Wo(r);n++}return""!==l&&(t+=Jl(c,l)),t}const gn={};function vc(e,t){return e.createText(t)}function am(e,t,n){e.setValue(t,n)}function _c(e,t){return e.createComment(function Kd(e){return e.replace(mg,t=>t.replace(zd,"\u200b$1\u200b"))}(t))}function Zl(e,t,n){return e.createElement(t,n)}function xa(e,t,n,r,l){e.insertBefore(t,n,r,l)}function im(e,t,n){e.appendChild(t,n)}function sm(e,t,n,r,l){null!==r?xa(e,t,n,r,l):im(e,t,n)}function Xs(e,t,n){e.removeChild(null,t,n)}function um(e,t,n){const{mergedAttrs:r,classes:l,styles:c}=n;null!==r&&function la(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const c=n[r++],m=n[r++],y=n[r++];e.setAttribute(t,m,y,c)}else{const c=l,m=n[++r];Ro(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),r++}}}(e,t,r),null!==l&&function Mp(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,l),null!==c&&function Ap(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function eu(e,t,n,r,l,c,m,y,v,T,L){const W=i.Yw1+r,ee=W+l,te=function Eg(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:gn);return n}(W,ee),Ae="function"==typeof T?T():T;return te[i.eDl]={type:e,blueprint:te,template:n,queries:null,viewQuery:y,declTNode:t,data:te.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:v,consts:Ae,incompleteFirstPass:!1,ssrId:L}}function bc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=eu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ys(e,t,n,r,l,c,m,y,v,T,L){const W=t.blueprint.slice();return W[i.jgP]=l,W[i.Wg1]=1228|r,(null!==T||e&&2048&e[i.Wg1])&&(W[i.Wg1]|=2048),(0,i.HUe)(W),W[i.f7T]=W[i.X5O]=e,W[i.SKP]=n,W[i.M0L]=m||e&&e[i.M0L],W[i.GpT]=y||e&&e[i.GpT],W[i.YEL]=v||e&&e[i.YEL]||null,W[i.qlT]=c,W[i.ID]=function Dr(){return co++}(),W[i.tcA]=L,W[i.oMQ]=T,W[i.b5C]=2==t.type?e[i.b5C]:W,W}function wc(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ls(e,t,n,r){if(0===n)return-1;const l=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function Ec(e,t){return e[i.EJG]?e[i.Yrj][i.K29]=t:e[i.EJG]=t,e[i.Yrj]=t,t}function cm(e=1){dm((0,i.klJ)(),(0,i.OAn)(),(0,i._px)()+e,!1)}function dm(e,t,n,r){if(!r)if(3&~t[i.Wg1]){const c=e.preOrderHooks;null!==c&&Xe(t,c,0,n)}else{const c=e.preOrderCheckHooks;null!==c&&Be(t,c,n)}(0,i.ypq)(n)}var us=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(us||{});function cs(e,t,n,r){const l=(0,z.Ht)(null);try{const[c,m,y]=e.inputs[n];let v=null;0!==(m&us.SignalBased)&&(v=t[c][z.bh]),null!==v&&void 0!==v.transformFn?r=v.transformFn(r):null!==y&&(r=y.call(t,r)),null!==e.setInput?e.setInput(t,v,r,n,c):sr(t,v,c,r)}finally{(0,z.Ht)(l)}}var tu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(tu||{});let ds;function Js(e,t){return ds(e,t)}function ms(e,t,n,r,l){if(null!=r){let c,m=!1;(0,i.A0l)(r)?c=r:(0,i.q$2)(r)&&(m=!0,r=r[i.jgP]);const y=(0,i.IvY)(r);0===e&&null!==n?null==l?im(t,n,y):xa(t,n,y,l||null,!0):1===e&&null!==n?xa(t,n,y,l||null,!0):2===e?Xs(t,y,m):3===e&&t.destroyNode(y),null!=c&&function Op(e,t,n,r,l){const c=n[i.s6P];c!==(0,i.IvY)(n)&&ms(t,e,r,c,l);for(let y=i.Y20;y<n.length;y++){const v=n[y];ou(v[i.eDl],v,e,t,r,c)}}(t,e,c,n,l)}}function hm(e,t){nu(e,t),t[i.jgP]=null,t[i.qlT]=null}function nu(e,t){t[i.M0L].changeDetectionScheduler?.notify(9),ou(e,t,t[i.GpT],2,null,null)}function kc(e,t){const n=e[i.nfM],r=n.indexOf(t);n.splice(r,1)}function Zs(e,t){if((0,i.EPY)(t))return;const n=t[i.GpT];n.destroyNode&&ou(e,t,n,3,null,null),function xp(e){let t=e[i.EJG];if(!t)return fm(e[i.eDl],e);for(;t;){let n=null;if((0,i.q$2)(t))n=t[i.EJG];else{const r=t[i.Y20];r&&(n=r)}if(!n){for(;t&&!t[i.K29]&&t!==e;)(0,i.q$2)(t)&&fm(t[i.eDl],t),t=t[i.f7T];null===t&&(t=e),(0,i.q$2)(t)&&fm(t[i.eDl],t),n=t&&t[i.K29]}t=n}}(t)}function fm(e,t){if((0,i.EPY)(t))return;const n=(0,z.Ht)(null);try{t[i.Wg1]&=-129,t[i.Wg1]|=256,t[i.Iaj]&&(0,z.XR)(t[i.Iaj]),function Rp(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof Kt)){const c=n[r+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const y=l[c[m]],v=c[m+1];at(4,y,v);try{v.call(y)}finally{at(5,y,v)}}else{at(4,l,c);try{c.call(l)}finally{at(5,l,c)}}}}}(e,t),function Ip(e,t){const n=e.cleanup,r=t[i.VVG];if(null!==n)for(let m=0;m<n.length-1;m+=2)if("string"==typeof n[m]){const y=n[m+3];y>=0?r[y]():r[-y].unsubscribe(),m+=2}else n[m].call(r[n[m+1]]);null!==r&&(t[i.VVG]=null);const l=t[i.Czx];if(null!==l){t[i.Czx]=null;for(let m=0;m<l.length;m++)(0,l[m])()}const c=t[i.tQN];if(null!==c){t[i.tQN]=null;for(const m of c)m.destroy()}}(e,t),1===t[i.eDl].type&&t[i.GpT].destroy();const r=t[i.rQE];if(null!==r&&(0,i.A0l)(t[i.f7T])){r!==t[i.f7T]&&kc(r,t);const l=t[i.Ds7];null!==l&&l.detachView(e)}mo(t)}finally{(0,z.Ht)(n)}}function Dc(e,t,n){return ym(e,t.parent,n)}function ym(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[i.jgP];if((0,i.Qs1)(r)){const{encapsulation:l}=e.data[r.directiveStart+r.componentOffset];if(l===pa.None||l===pa.Emulated)return null}return(0,i.d31)(r,n)}function gm(e,t,n){return _m(e,t,n)}function vm(e,t,n){return 40&e.type?(0,i.d31)(e,n):null}let ru,_m=vm;function bm(e,t){_m=e,ru=t}function Cc(e,t,n,r){const l=Dc(e,r,t),c=t[i.GpT],y=gm(r.parent||t[i.qlT],r,t);if(null!=l)if(Array.isArray(n))for(let v=0;v<n.length;v++)sm(c,l,n[v],y,!1);else sm(c,l,n,y,!1);void 0!==ru&&ru(c,r,t,n,l)}function ki(e,t){if(null!==t){const n=t.type;if(3&n)return(0,i.d31)(t,e);if(4&n)return ni(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ki(e,r);{const l=e[t.index];return(0,i.A0l)(l)?ni(-1,l):(0,i.IvY)(l)}}if(128&n)return ki(e,t.next);if(32&n)return Js(t,e)()||(0,i.IvY)(e[t.index]);{const r=wm(e,t);return null!==r?Array.isArray(r)?r[0]:ki((0,i._0$)(e[i.b5C]),r):ki(e,t.next)}}return null}function wm(e,t){return null!==t?e[i.b5C][i.qlT].projection[t.projection]:null}function ni(e,t){const n=i.Y20+e+1;if(n<t.length){const r=t[n],l=r[i.eDl].firstChild;if(null!==l)return ki(r,l)}return t[i.s6P]}function Sc(e,t,n,r,l,c,m){for(;null!=n;){if(128===n.type){n=n.next;continue}const y=r[n.index],v=n.type;if(m&&0===t&&(y&&ie((0,i.IvY)(y),r),n.flags|=2),!Fn(n))if(8&v)Sc(e,t,n.child,r,l,c,!1),ms(t,e,l,y,c);else if(32&v){const T=Js(n,r);let L;for(;L=T();)ms(t,e,l,L,c);ms(t,e,l,y,c)}else 16&v?el(e,t,r,n,l,c):ms(t,e,l,y,c);n=m?n.projectionNext:n.next}}function ou(e,t,n,r,l,c){Sc(n,r,e.firstChild,t,l,c,!1)}function el(e,t,n,r,l,c){const m=n[i.b5C],v=m[i.qlT].projection[r.projection];if(Array.isArray(v))for(let T=0;T<v.length;T++)ms(t,e,l,v[T],c);else{let T=v;const L=m[i.f7T];Qn(r)&&(T.flags|=128),Sc(e,t,T,L,l,c,!0)}}function km(e,t,n,r,l){const c=(0,i._px)(),m=2&r;try{(0,i.ypq)(-1),m&&t.length>i.Yw1&&dm(e,t,i.Yw1,!1),at(m?2:0,l,n),n(r,l)}finally{(0,i.ypq)(c),at(m?3:1,l,n)}}function Ac(e,t,n){(function Cm(e,t,n){const r=n.directiveStart,l=n.directiveEnd;(0,i.Qs1)(n)&&function Tp(e,t,n){const r=(0,i.d31)(t,e),l=bc(n),c=e[i.M0L].rendererFactory,m=Ec(e,Ys(e,l,null,wc(n),r,t,null,c.createRenderer(r,n),null,null,null));e[t.index]=m}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Qr(n,t);const c=n.initialInputs;for(let m=r;m<l;m++){const y=e.data[m],v=Br(t,e,m,n);ie(v,t),null!==c&&Cg(0,m-r,v,y,0,c),(0,i.JlV)(y)&&((0,i.KdJ)(n.index,t)[i.SKP]=Br(t,e,m,n))}})(e,t,n),!(64&~n.flags)&&function Ic(e,t,n){const r=n.directiveStart,l=n.directiveEnd,c=n.index,m=(0,i.Z9v)();try{(0,i.ypq)(c);for(let y=r;y<l;y++){const v=e.data[y],T=t[y];(0,i.RZ9)(y),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Up(v,T)}}finally{(0,i.ypq)(-1),(0,i.RZ9)(m)}}(e,t,n)}function tl(e,t,n=i.d31){const r=t.localNames;if(null!==r){let l=t.index+1;for(let c=0;c<r.length;c+=2){const m=r[c+1],y=-1===m?n(t,e):e[m];e[l++]=y}}}let Tc=()=>null;function xc(e,t,n,r,l,c){Am(e,t[i.eDl],t,n,r)?(0,i.Qs1)(e)&&function kg(e,t){const n=(0,i.KdJ)(t,e);16&n[i.Wg1]||(n[i.Wg1]|=64)}(t,e.index):(3&e.type&&(n=function Ia(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),Dm(e,t,n,r,l,c))}function Dm(e,t,n,r,l,c){if(3&e.type){const m=(0,i.d31)(e,t);r=null!=c?c(r,e.value||"",n):r,l.setProperty(m,n,r)}}function Up(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rc(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];Ei(t,c.selectors,!1)&&(r??=[],(0,i.JlV)(c)?r.unshift(c):r.push(c))}return r}function au(e,t,n,r,l,c,m){if(null==c)e.removeAttribute(t,l,n);else{const y=null==m?(0,i.eFE)(c):m(c,r||"",l);e.setAttribute(t,l,y,n)}}function Cg(e,t,n,r,l,c){const m=c[t];if(null!==m)for(let y=0;y<m.length;y+=2)cs(r,n,m[y],m[y+1])}function Oc(e,t,n,r,l){const c=i.Yw1+n,m=t[i.eDl],y=l(m,t,e,r,n);t[c]=y,(0,i.iMd)(e,!0);const v=2===e.type;return v?(um(t[i.GpT],y,e),(0===(0,i.znI)()||(0,i.yoD)(e))&&ie(y,t),(0,i.Fje)()):ie(y,t),(0,i.SX7)()&&(!v||!Fn(e))&&Cc(m,t,y,e),e}function iu(e){let t=e;return(0,i.YWB)()?(0,i.Pfq)():(t=t.parent,(0,i.iMd)(t,!1)),t}function Vp(e,t,n){return(null===e||(0,i.JlV)(e))&&(n=(0,i.zAe)(n[t.index])),n[i.GpT]}function Sm(e,t){const n=e[i.YEL];n&&n.get(i.ZTf,null)?.(t)}function Am(e,t,n,r,l){const c=e.inputs?.[r],m=e.hostDirectiveInputs?.[r];let y=!1;if(m)for(let v=0;v<m.length;v+=2){const T=m[v];cs(t.data[T],n[T],m[v+1],l),y=!0}if(c)for(const v of c)cs(t.data[v],n[v],r,l),y=!0;return y}function Ag(e,t){const n=(0,i.KdJ)(t,e),r=n[i.eDl];!function Mg(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[i.jgP];null!==l&&null===n[i.tcA]&&(n[i.tcA]=null),at(18),Pc(r,n,n[i.SKP]),at(19,n[i.SKP])}function Pc(e,t,n){(0,i.ID8)(t);try{const r=e.viewQuery;null!==r&&Xa(1,r,n);const l=e.template;null!==l&&km(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[i.Ds7]?.finishViewCreation(e),e.staticContentQueries&&Qa(e,t),e.staticViewQueries&&Xa(2,e.viewQuery,n);const c=e.components;null!==c&&function Tg(e,t){for(let n=0;n<t.length;n++)Ag(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[i.Wg1]&=-5,(0,i.bll)()}}function nl(e,t,n,r){const l=(0,z.Ht)(null);try{const c=t.tView,v=Ys(e,c,n,4096&e[i.Wg1]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);v[i.rQE]=e[t.index];const L=e[i.Ds7];return null!==L&&(v[i.Ds7]=L.createEmbeddedView(c)),Pc(c,v,n),v}finally{(0,z.Ht)(l)}}function hs(e,t){return!t||null===t.firstChild||Qn(e)}function su(e,t,n,r,l=!1){for(;null!==n;){if(128===n.type){n=l?n.projectionNext:n.next;continue}const c=t[n.index];null!==c&&r.push((0,i.IvY)(c)),(0,i.A0l)(c)&&Hp(c,r);const m=n.type;if(8&m)su(e,t,n.child,r);else if(32&m){const y=Js(n,t);let v;for(;v=y();)r.push(v)}else if(16&m){const y=wm(t,n);if(Array.isArray(y))r.push(...y);else{const v=(0,i._0$)(t[i.b5C]);su(v[i.eDl],v,y,r,!0)}}n=l?n.projectionNext:n.next}return r}function Hp(e,t){for(let n=i.Y20;n<e.length;n++){const r=e[n],l=r[i.eDl].firstChild;null!==l&&su(r[i.eDl],r,l,t)}e[i.s6P]!==e[i.jgP]&&t.push(e[i.s6P])}function Nc(e){if(null!==e[i.JEi]){for(const t of e[i.JEi])t.impl.addSequence(t);e[i.JEi].length=0}}let Tm=[];const xg={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,i.blu)(e.lView)},consumerOnSignalRead(){this.lView[i.Iaj]=this}},Rg={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,i._0$)(e.lView);for(;t&&!xm(t[i.eDl]);)t=(0,i._0$)(t);t&&(0,i.HAh)(t)},consumerOnSignalRead(){this.lView[i.Iaj]=this}};function xm(e){return 2!==e.type}function Kp(e){if(null===e[i.tQN])return;let t=!0;for(;t;){let n=!1;for(const r of e[i.tQN])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[i.Wg1])}}function Lc(e,t=0){const r=e[i.M0L].rendererFactory;r.begin?.();try{!function Pg(e,t){const n=(0,i.yP_)();try{(0,i.cBl)(!0),ol(e,t);let r=0;for(;(0,i.dMS)(e);){if(100===r)throw new i.buA(103,!1);r++,ol(e,1)}}finally{(0,i.cBl)(n)}}(e,t)}finally{r.end?.()}}function Gp(e,t,n,r){if((0,i.EPY)(t))return;const l=t[i.Wg1];(0,i.ID8)(t);let y=!0,v=null,T=null;xm(e)?(T=function Wp(e){return e[i.Iaj]??function Ot(e){const t=Tm.pop()??Object.create(xg);return t.lView=e,t}(e)}(t),v=(0,z.Bg)(T)):null===(0,z.nR)()?(y=!1,T=function Ig(e){const t=e[i.Iaj]??Object.create(Rg);return t.lView=e,t}(t),v=(0,z.Bg)(T)):t[i.Iaj]&&((0,z.XR)(t[i.Iaj]),t[i.Iaj]=null);try{(0,i.HUe)(t),(0,i.Kw3)(e.bindingStartIndex),null!==n&&km(e,t,n,2,r);const L=!(3&~l);if(L){const te=e.preOrderCheckHooks;null!==te&&Be(t,te,null)}else{const te=e.preOrderHooks;null!==te&&Xe(t,te,0,null),pt(t,0)}if(function Lg(e){for(let t=er(e);null!==t;t=ho(t)){if(!(2&t[i.Wg1]))continue;const n=t[i.nfM];for(let r=0;r<n.length;r++)(0,i.HAh)(n[r])}}(t),Kp(t),qp(t,0),null!==e.contentQueries&&Qa(e,t),L){const te=e.contentCheckHooks;null!==te&&Be(t,te)}else{const te=e.contentHooks;null!==te&&Xe(t,te,1),pt(t,1)}!function Im(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)(0,i.ypq)(~l);else{const c=l,m=n[++r],y=n[++r];(0,i.vQI)(m,c);const v=t[c];at(24,v),y(2,v),at(25,v)}}}finally{(0,i.ypq)(-1)}}(e,t);const W=e.components;null!==W&&Qp(t,W,0);const ee=e.viewQuery;if(null!==ee&&Xa(2,ee,r),L){const te=e.viewCheckHooks;null!==te&&Be(t,te)}else{const te=e.viewHooks;null!==te&&Xe(t,te,2),pt(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[i.pcR]){for(const te of t[i.pcR])te();t[i.pcR]=null}Nc(t),t[i.Wg1]&=-73}catch(L){throw(0,i.blu)(t),L}finally{null!==T&&((0,z.Wu)(T,v),y&&function Ua(e){e.lView[i.Iaj]!==e&&(e.lView=null,Tm.push(e))}(T)),(0,i.bll)()}}function qp(e,t){for(let n=er(e);null!==n;n=ho(n))for(let r=i.Y20;r<n.length;r++)Fc(n[r],t)}function rl(e,t,n){at(18);const r=(0,i.KdJ)(t,e);Fc(r,n),at(19,r[i.SKP])}function Fc(e,t){(0,i.F1c)(e)&&ol(e,t)}function ol(e,t){const r=e[i.eDl],l=e[i.Wg1],c=e[i.Iaj];let m=!!(0===t&&16&l);if(m||=!!(64&l&&0===t),m||=!!(1024&l),m||=!(!c?.dirty||!(0,z.si)(c)),m||=!1,c&&(c.dirty=!1),e[i.Wg1]&=-9217,m)Gp(r,e,r.template,e[i.SKP]);else if(8192&l){const y=(0,z.Ht)(null);try{Kp(e),qp(e,1);const v=r.components;null!==v&&Qp(e,v,1),Nc(e)}finally{(0,z.Ht)(y)}}}function Qp(e,t,n){for(let r=0;r<t.length;r++)rl(e,t[r],n)}function ps(e,t){const n=(0,i.yP_)()?64:1088;for(e[i.M0L].changeDetectionScheduler?.notify(t);e;){e[i.Wg1]|=n;const r=(0,i._0$)(e);if((0,i.EFk)(e)&&!r)return e;e=r}return null}function Rm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Om(e,t){const n=i.Y20+t;if(n<e.length)return e[n]}function fs(e,t,n,r=!0){const l=t[i.eDl];if(function Xp(e,t,n,r){const l=i.Y20+r,c=n.length;r>0&&(n[l-1][i.K29]=t),r<c-i.Y20?(t[i.K29]=n[l],(0,i.EYC)(n,i.Y20+r,t)):(n.push(t),t[i.K29]=null),t[i.f7T]=n;const m=t[i.rQE];null!==m&&n!==m&&Pm(m,t);const y=t[i.Ds7];null!==y&&y.insertView(e),(0,i._gW)(t),t[i.Wg1]|=128}(l,t,e,n),r){const m=ni(n,e),y=t[i.GpT],v=y.parentNode(e[i.s6P]);null!==v&&function pm(e,t,n,r,l,c){r[i.jgP]=l,r[i.qlT]=t,ou(e,r,n,1,l,c)}(l,e[i.qlT],y,t,v,m)}const c=t[i.tcA];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function jc(e,t){const n=al(e,t);return void 0!==n&&Zs(n[i.eDl],n),n}function al(e,t){if(e.length<=i.Y20)return;const n=i.Y20+t,r=e[n];if(r){const l=r[i.rQE];null!==l&&l!==e&&kc(l,r),t>0&&(e[n-1][i.K29]=r[i.K29]);const c=(0,i.E6O)(e,i.Y20+t);hm(r[i.eDl],r);const m=c[i.Ds7];null!==m&&m.detachView(c[i.eDl]),r[i.f7T]=null,r[i.K29]=null,r[i.Wg1]&=-129}return r}function Pm(e,t){const n=e[i.nfM],r=t[i.f7T];((0,i.q$2)(r)||t[i.b5C]!==r[i.f7T][i.b5C])&&(e[i.Wg1]|=2),null===n?e[i.nfM]=[t]:n.push(t)}class lu{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[i.eDl];return su(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[i.SKP]}set context(t){this._lView[i.SKP]=t}get destroyed(){return(0,i.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[i.f7T];if((0,i.A0l)(t)){const n=t[i.bm_],r=n?n.indexOf(this):-1;r>-1&&(al(t,r),(0,i.E6O)(n,r))}this._attachedToViewContainer=!1}Zs(this._lView[i.eDl],this._lView)}onDestroy(t){(0,i.ik5)(this._lView,t)}markForCheck(){ps(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[i.Wg1]&=-129}reattach(){(0,i._gW)(this._lView),this._lView[i.Wg1]|=128}detectChanges(){this._lView[i.Wg1]|=1024,Lc(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new i.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,i.EFk)(this._lView),n=this._lView[i.rQE];null!==n&&!t&&kc(n,this._lView),nu(this._lView[i.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new i.buA(902,!1);this._appRef=t;const n=(0,i.EFk)(this._lView),r=this._lView[i.rQE];null!==r&&!n&&Pm(r,this._lView),(0,i._gW)(this._lView)}}let il=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Yp;constructor(n,r,l){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const c=nl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:l});return new lu(c)}})();function Yp(){return uu((0,i.Mx4)(),(0,i.OAn)())}function uu(e,t){return 4&e.type?new il(t,e,Jn(e,t)):null}function $c(e,t,n){const r=t.insertBeforeIndex,l=Array.isArray(r)?r[0]:r;return null===l?vm(e,0,n):(0,i.IvY)(n[l])}function du(e,t,n,r,l){const c=t.insertBeforeIndex;if(Array.isArray(c)){let m=r,y=null;if(3&t.type||(y=m,m=l),null!==m&&-1===t.componentOffset)for(let v=1;v<c.length;v++)xa(e,m,n[c[v]],y,!1)}}function Va(e,t,n,r,l){let c=e.data[t];if(null===c)c=ul(e,t,n,r,l),(0,i.JjR)()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=l;const m=(0,i.Ab)();c.injectorIndex=null===m?-1:m.injectorIndex}return(0,i.iMd)(c,!0),c}function ul(e,t,n,r,l){const c=(0,i.veI)(),m=(0,i.YWB)(),v=e.data[t]=function Fm(e,t,n,r,l,c){let m=t?t.injectorIndex:-1,y=0;return(0,i.KtD)()&&(y|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,n,t,r,l);return function zo(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,v,c,m),v}function jm(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];mu(r)||af(r,t)&&null===Di(r)&&Bm(r,t.index)}}function mu(e){return!(64&e.type)}function af(e,t){return mu(t)||e.index>t.index}function Di(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Bm(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(bm($c,du),e.insertBeforeIndex=t)}function cl(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Um(e,t,n){const r=ul(e,n,64,null,null);return jm(t,r),r}function dl(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Vm(e){return e>>>17}function Hc(e){return(131070&e)>>>1}function ys(e,t,n){e.index=0;const r=dl(t,n);e.removes=null!==r?t.remove[r]:i.Mlv}function Ci(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),ys(e,e.lView[i.eDl].data[~t],e.lView),Ci(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),Ci(e))}function Wm(){const e={stack:[],index:-1};return function t(n,r){for(e.lView=r;e.stack.length;)e.stack.pop();return ys(e,n.value,r),Ci.bind(null,e)}}function vf(e,t,n){for(const r of n.node.cases[n.case]){const l=t.get(r.index-i.Yw1);l&&Xs(e,l,!1)}}function bu(e){const t=e[i.qFA]??[],r=e[i.f7T][i.GpT],l=[];for(const c of t)void 0!==c.data.di?l.push(c):Jm(c,r);e[i.qFA]=l}function _f(e){const{lContainer:t}=e,n=t[i.qFA];if(null===n)return;const l=t[i.f7T][i.GpT];for(const c of n)Jm(c,l)}function Jm(e,t){let n=0,r=e.firstChild;if(r){const l=e.data.r;for(;n<l;){const c=r.nextSibling;Xs(t,r,!1),r=c,n++}}}function Ra(e){bu(e);const t=e[i.jgP];(0,i.q$2)(t)&&bs(t);for(let n=i.Y20;n<e.length;n++)bs(e[n])}function bs(e){!function gf(e){const t=e[i.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){const l=e[i.GpT];for(const c of r.values())vf(l,n,c)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[i.eDl];for(let n=i.Yw1;n<t.bindingStartIndex;n++)(0,i.A0l)(e[n])?Ra(e[n]):(0,i.q$2)(e[n])&&bs(e[n])}let nh=class{},rh=class{};class oh{resolveComponentFactory(t){throw new i.buA(917,!1)}}let ws=class{static NULL=new oh};class Eu{}let Yg=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function kf(){const e=(0,i.OAn)(),t=(0,i.Mx4)(),n=(0,i.KdJ)(t.index,e);return((0,i.q$2)(n)?n:e)[i.GpT]}()})(),ah=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function Jc(e){return void 0!==e.ngModule}function xi(e){return!!(0,i.phH)(e)}function ku(e){return!!(0,i.oyA)(e)}function ih(e){return!!(0,i.HaV)(e)}function Es(e){return!!(0,i.xUg)(e)}function Cf(e,t){if((0,i.Jzi)(e)&&!(e=(0,i.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,i.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,i.PP7)(e)||e}".`);if(null==(0,i.phH)(e)){const n=(0,i.xUg)(e)||(0,i.HaV)(e)||(0,i.oyA)(e);if(null==n)throw Jc(e)?new Error(`A module with providers was imported from "${(0,i.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,i.PP7)(e)}" type, imported from "${(0,i.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone)throw new Error(`The "${(0,i.PP7)(e)}" ${function Df(e){return(0,i.xUg)(e)?"component":(0,i.HaV)(e)?"directive":(0,i.oyA)(e)?"pipe":"type"}(e)}, imported from "${(0,i.PP7)(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class sh{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,i.phH)(t);if(n?.declarations)for(const r of fa(n.declarations))Es(r)&&this.ownerNgModule.set(r,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const r=(0,i.xUg)(t);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(r.standalone){const l=this.getStandaloneComponentScope(t,n);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(t));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(t,n){if(!xi(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,i.WbQ)(t),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of fa(n.imports))if(xi(l)){const c=this.getNgModuleScope(l);ri(c.exported.directives,r.compilation.directives),ri(c.exported.pipes,r.compilation.pipes)}else{if(!(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}if(ih(l)||Es(l))r.compilation.directives.add(l);else{if(!ku(l))throw new i.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(l)}}if(!r.compilation.isPoisoned)for(const l of fa(n.declarations)){if(xi(l)||(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}ku(l)?r.compilation.pipes.add(l):r.compilation.directives.add(l)}for(const l of fa(n.exports))if(xi(l)){const c=this.getNgModuleScope(l);ri(c.exported.directives,r.exported.directives),ri(c.exported.pipes,r.exported.pipes),ri(c.exported.directives,r.compilation.directives),ri(c.exported.pipes,r.compilation.pipes)}else ku(l)?r.exported.pipes.add(l):r.exported.directives.add(l);return r}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const r=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,r),r}computeStandaloneComponentScope(t,n){const r={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const l of(0,i.Bqz)(n??[])){const c=(0,i.nl4)(l);try{Cf(c,t)}catch{return r.compilation.isPoisoned=!0,r}if(xi(c)){r.compilation.ngModules.add(c);const m=this.getNgModuleScope(c);if(m.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;ri(m.exported.directives,r.compilation.directives),ri(m.exported.pipes,r.compilation.pipes)}else if(ku(c))r.compilation.pipes.add(c);else{if(!ih(c)&&!Es(c))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(c)}}return r}isOrphanComponent(t){const n=(0,i.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function ri(e,t){for(const n of e)t.add(n)}const Ii=new sh,Zc={};class ks{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const l=this.injector.get(t,Zc,r);return l!==Zc||n===Zc?l:this.parentInjector.get(t,n,r)}}function Du(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const y=t[m];if("number"==typeof y)c=y;else if(1==c)l=(0,i.n$e)(l,y);else if(2==c){const T=t[++m];r=(0,i.n$e)(r,y+": "+T+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function Ds(e,t=0){const n=(0,i.OAn)();return null===n?(0,i.KVO)(e,t):Sn((0,i.Mx4)(),n,(0,i.nl4)(e),t)}function uh(e,t,n,r,l){const c=null===r?null:{"":-1},m=l(e,n);if(null!==m){let y=m,v=null,T=null;for(const L of m)if(null!==L.resolveHostDirectives){[y,v,T]=L.resolveHostDirectives(m);break}!function fl(e,t,n,r,l,c,m){const y=r.length;let v=!1;for(let ee=0;ee<y;ee++){const te=r[ee];!v&&(0,i.JlV)(te)&&(v=!0,ed(e,n,ee)),Kn(Qr(n,t),e,te.type)}!function ph(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,y);for(let ee=0;ee<y;ee++){const te=r[ee];te.providersResolver&&te.providersResolver(te)}let T=!1,L=!1,W=ls(e,t,y,null);y>0&&(n.directiveToIndex=new Map);for(let ee=0;ee<y;ee++){const te=r[ee];if(n.mergedAttrs=Pn(n.mergedAttrs,te.hostAttrs),Sf(e,n,t,W,te),hh(W,te,l),null!==m&&m.has(te)){const[$e,vt]=m.get(te);n.directiveToIndex.set(te.type,[W,$e+n.directiveStart,vt+n.directiveStart])}else(null===c||!c.has(te))&&n.directiveToIndex.set(te.type,W);null!==te.contentQueries&&(n.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(n.flags|=64);const Ae=te.type.prototype;!T&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),T=!0),!L&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),L=!0),W++}!function td(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const l=e.data[r];if(null!==n&&n.has(l)){const c=n.get(l);dh(0,t,c,r),dh(1,t,c,r),mh(t,r,!0)}else ch(0,t,l,r),ch(1,t,l,r),mh(t,r,!1)}}(e,n,c)}(e,t,n,y,c,v,T)}null!==c&&null!==r&&function ga(e,t,n){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const c=n[t[l+1]];if(null==c)throw new i.buA(-301,!1);r.push(t[l],c)}}(n,r,c)}function ed(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ch(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){let m;m=0===e?t.inputs??={}:t.outputs??={},m[c]??=[],m[c].push(r),Cu(t,c)}}function dh(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){const m=l[c];let y;y=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},y[m]??=[],y[m].push(r,c),Cu(t,m)}}function Cu(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function mh(e,t,n){const{attrs:r,inputs:l,hostDirectiveInputs:c}=e;if(null===r||!n&&null===l||n&&null===c||yc(e))return e.initialInputs??=[],void e.initialInputs.push(null);let m=null,y=0;for(;y<r.length;){const v=r[y];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!n&&l.hasOwnProperty(v)){const T=l[v];for(const L of T)if(L===t){m??=[],m.push(v,r[y+1]);break}}else if(n&&c.hasOwnProperty(v)){const T=c[v];for(let L=0;L<T.length;L+=2)if(T[L]===t){m??=[],m.push(T[L+1],r[y+1]);break}}y+=2}else y+=2;else y+=4}e.initialInputs??=[],e.initialInputs.push(m)}function Sf(e,t,n,r,l){e.data[r]=l;const c=l.factory||(l.factory=(0,i.wGu)(l.type,!0)),m=new Kt(c,(0,i.JlV)(l),Ds,null);e.blueprint[r]=m,n[r]=m,function Su(e,t,n,r,l){const c=l.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const y=~t.index;(function Af(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=y&&m.push(y),m.push(n,r,c)}}(e,t,r,ls(e,n,l.hostVars,gn),l)}function hh(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;(0,i.JlV)(t)&&(n[""]=e)}}function Mo(e,t,n,r,l,c,m,y){const v=t[i.eDl],T=v.consts,W=Va(v,e,n,r,(0,i.db4)(T,m));return c&&uh(v,t,W,(0,i.db4)(T,y),l),W.mergedAttrs=Pn(W.mergedAttrs,W.attrs),null!==W.attrs&&Du(W,W.attrs,!1),null!==W.mergedAttrs&&Du(W,W.mergedAttrs,!0),null!==v.queries&&v.queries.elementStart(v,W),W}function oi(e,t){me(e,t),(0,i.srX)(t)&&e.queries.elementEnd(t)}function fh(e,t,n,r,l,c){const m=t.consts,v=Va(t,e,n,r,(0,i.db4)(m,l));if(v.mergedAttrs=Pn(v.mergedAttrs,v.attrs),null!=c){const T=(0,i.db4)(m,c);v.localNames=[];for(let L=0;L<T.length;L+=2)v.localNames.push(T[L],-1)}return null!==v.attrs&&Du(v,v.attrs,!1),null!==v.mergedAttrs&&Du(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}function nd(e){return!!rd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Tf(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}function rd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Oa(e,t,n){return e[t]=n}function gl(e,t){return e[t]}function In(e,t,n){return n!==gn&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Ri(e,t,n,r){const l=In(e,t,n);return In(e,t+1,r)||l}function vl(e,t,n,r,l){const c=Ri(e,t,n,r);return In(e,t+2,l)||c}function Go(e,t,n,r,l,c){const m=Ri(e,t,n,r);return Ri(e,t+2,l,c)||m}function Au(e,t,n){return function r(l){ps((0,i.Qs1)(e)?(0,i.KdJ)(e.index,t):t,5);const m=t[i.SKP];let y=xf(t,m,n,l),v=r.__ngNextListenerFn__;for(;v;)y=xf(t,m,v,l)&&y,v=v.__ngNextListenerFn__;return y}}function xf(e,t,n,r){const l=(0,z.Ht)(null);try{return at(6,t,n),!1!==n(r)}catch(c){return Sm(e,c),!1}finally{at(7,t,n),(0,z.Ht)(l)}}function _l(e,t,n,r,l,c,m,y){const v=(0,i.yoD)(e);let T=!1,L=null;if(!r&&v&&(L=function gh(e,t,n,r){const l=e.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const m=l[c];if(m===n&&l[c+1]===r){const y=t[i.VVG],v=l[c+2];return y&&y.length>v?y[v]:null}"string"==typeof m&&(c+=2)}return null}(t,n,c,e.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=m,L.__ngLastListenerFn__=m,T=!0;else{const W=(0,i.d31)(e,n),ee=r?r(W):W;!function Ze(e,t,n,r){$t(e,t,n,r)}(n,ee,c,y);const te=l.listen(ee,c,y);od(r?$e=>r((0,i.IvY)($e[e.index])):e.index,t,n,c,y,te,!1)}return T}function od(e,t,n,r,l,c,m){const y=t.firstCreatePass?(0,i.vNG)(t):null,v=(0,i.d_l)(n),T=v.length;v.push(l,c),y&&y.push(r,e,T,(T+1)*(m?-1:1))}function Mu(e,t,n,r,l,c){const y=t[i.eDl],W=t[n][y.data[n].outputs[r]].subscribe(c);od(e.index,y,t,l,c,W,!0)}const ai=Symbol("BINDING");class _h extends ws{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,i.xUg)(t);return new bh(n,this.ngModule)}}class bh extends rh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Zg(e){return Object.keys(e).map(t=>{const[n,r,l]=e[t],c={propName:n,templateName:t,isSignal:0!==(r&us.SignalBased)};return l&&(c.transform=l),c})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function ev(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function om(e){return e.map(Cp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,l,c,m){at(22);const y=(0,z.Ht)(null);try{const v=this.componentDef,T=function jf(e,t,n,r){const l=e?["ng-version","20.1.6"]:function Sp(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===l?""!==c&&t.push(c,e[++r]):8===l&&n.push(c);else{if(!Wo(l))break;l=c}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let c=null,m=null,y=0;if(n)for(const L of n)y+=L[ai].requiredVars,L.create&&(L.targetIdx=0,(c??=[]).push(L)),L.update&&(L.targetIdx=0,(m??=[]).push(L));if(r)for(let L=0;L<r.length;L++){const W=r[L];if("function"!=typeof W)for(const ee of W.bindings){y+=ee[ai].requiredVars;const te=L+1;ee.create&&(ee.targetIdx=te,(c??=[]).push(ee)),ee.update&&(ee.targetIdx=te,(m??=[]).push(ee))}}const v=[t];if(r)for(const L of r){const ee=(0,i.HaV)("function"==typeof L?L:L.type);v.push(ee)}return eu(0,null,function Bf(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(c,m),1,y,v,null,null,null,[l],null)}(r,v,m,c),L=function Tu(e,t,n){let r=t instanceof i.uvJ?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new ks(n,r):n}(v,l||this.ngModule,t),W=function xu(e){const t=e.get(Eu,null);if(null===t)throw new i.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(ah,null),changeDetectionScheduler:e.get(i.hk6,null),ngReflect:!1}}(L),ee=W.rendererFactory.createRenderer(null,v),te=r?function Np(e,t,n,r){const c=r.get(ci,!1)||n===pa.ShadowDom,m=e.selectRootElement(t,c);return function Mc(e){Tc(e)}(m),m}(ee,r,v.encapsulation,L):function va(e,t){const n=(e.selectors[0][0]||"div").toLowerCase();return Zl(t,n,"svg"===n?i.jNX:"math"===n?i.rJ1:null)}(v,ee),Ae=m?.some(wh)||c?.some(ht=>"function"!=typeof ht&&ht.bindings.some(wh)),$e=Ys(null,T,null,512|wc(v),null,null,W,ee,L,null,null);$e[i.Yw1]=te,(0,i.ID8)($e);let vt=null;try{const ht=Mo(i.Yw1,$e,2,"#host",()=>T.directiveRegistry,!0,0);te&&(um(ee,te,ht),ie(te,$e)),Ac(T,$e,ht),Ji(T,ht,$e),oi(T,ht),void 0!==n&&function Eh(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const c=n[l];r.push(null!=c&&c.length?Array.from(c):null)}}(ht,this.ngContentSelectors,n),vt=(0,i.KdJ)(ht.index,$e),$e[i.SKP]=vt[i.SKP],Pc(T,$e,null)}catch(ht){throw null!==vt&&mo(vt),mo($e),ht}finally{at(23),(0,i.bll)()}return new Uf(this.componentType,$e,!!Ae)}finally{(0,z.Ht)(y)}}}function wh(e){const t=e[ai].kind;return"input"===t||"twoWay"===t}class Uf extends nh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=(0,i.XRZ)(n[i.eDl],i.Yw1),this.location=Jn(this._tNode,n),this.instance=(0,i.KdJ)(this._tNode.index,n)[i.SKP],this.hostView=this.changeDetectorRef=new lu(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Am(r,l[i.eDl],l,t,n),this.previousInputValues.set(t,n),ps((0,i.KdJ)(r.index,l),1)}get injector(){return new Jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Oi=(()=>class e{static __NG_ELEMENT_ID__=ii})();function ii(){return ad((0,i.Mx4)(),(0,i.OAn)())}const tv=Oi,kh=class extends tv{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Jn(this._hostTNode,this._hostLView)}get injector(){return new Jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=oo(this._hostTNode,this._hostLView);if(yr(t)){const n=qr(t,this._hostLView),r=gr(t);return new Jt(n[i.eDl].data[r+8],n)}return new Jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Dh(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-i.Y20}createEmbeddedView(t,n,r){let l,c;"number"==typeof r?l=r:null!=r&&(l=r.index,c=r.injector);const y=t.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(y,l,hs(this._hostTNode,null)),y}createComponent(t,n,r,l,c,m,y){const v=t&&!Ce(t);let T;if(v)T=n;else{const vt=n||{};T=vt.index,r=vt.injector,l=vt.projectableNodes,c=vt.environmentInjector||vt.ngModuleRef,m=vt.directives,y=vt.bindings}const L=v?t:new bh((0,i.xUg)(t)),W=r||this.parentInjector;if(!c&&null==L.ngModule){const ht=(v?W:this.parentInjector).get(i.uvJ,null);ht&&(c=ht)}(0,i.xUg)(L.componentType??{});const $e=L.create(W,l,null,c,m,y);return this.insertImpl($e.hostView,T,hs(this._hostTNode,null)),$e}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const l=t._lView;if((0,i.ITl)(l)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const v=l[i.f7T],T=new kh(v,v[i.qlT],v[i.f7T]);T.detach(T.indexOf(t))}}const c=this._adjustIndex(n),m=this._lContainer;return fs(m,l,c,r),t.attachToViewContainerRef(),(0,i.EYC)(Iu(m),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Dh(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=al(this._lContainer,n);r&&((0,i.E6O)(Iu(this._lContainer),n),Zs(r[i.eDl],r))}detach(t){const n=this._adjustIndex(t,-1),r=al(this._lContainer,n);return r&&null!=(0,i.E6O)(Iu(this._lContainer),n)?new lu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Dh(e){return e[i.bm_]}function Iu(e){return e[i.bm_]||(e[i.bm_]=[])}function ad(e,t){let n;const r=t[e.index];return(0,i.A0l)(r)?n=r:(n=Rm(r,t,null,e),t[e.index]=n,Ec(t,n)),Sh(n,t,e,r),new kh(n,e,t)}let Sh=function Ru(e,t,n,r){if(e[i.s6P])return;let l;l=8&n.type?(0,i.IvY)(r):function Ch(e,t){const n=e[i.GpT],r=n.createComment(""),l=(0,i.d31)(t,e),c=n.parentNode(l);return xa(n,c,r,n.nextSibling(l),!1),r}(t,n),e[i.s6P]=l},Pi=()=>!1;function bl(e,t,n){return Pi(e,t,n)}class Ni{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Ni(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pa{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){const m=n.getByIndex(c);l.push(this.queries[m.indexInDeclarationView].clone())}return new Pa(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==cd(t,n).matches&&this.queries[n].setDirty()}}class Ou{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function Wf(e){return e.split(",").map(t=>t.trim())}(t):t}}class Cs{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,l);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new Cs(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Li{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Li(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const c=r[l];this.matchTNodeWithReadOption(t,n,Fi(n,c)),this.matchTNodeWithReadOption(t,n,ur(n,t,c,!1,!1))}else r===il?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ur(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===Ln||l===Oi||l===il&&4&n.type)this.addMatch(n.index,-2);else{const c=ur(n,t,l,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Fi(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function $f(e,t,n,r){return-1===n?function Th(e,t){return 11&e.type?Jn(e,t):4&e.type?uu(e,t):null}(t,e):-2===n?function Hf(e,t,n){return n===Ln?Jn(t,e):n===il?uu(t,e):n===Oi?ad(t,e):void 0}(e,t,r):Br(e,e[i.eDl],n,t)}function Pu(e,t,n,r){const l=t[i.Ds7].queries[r];if(null===l.matches){const c=e.data,m=n.matches,y=[];for(let v=0;null!==m&&v<m.length;v+=2){const T=m[v];y.push(T<0?null:$f(t,c[T],m[v+1],n.metadata.read))}l.matches=y}return l.matches}function id(e,t,n,r){const l=e.queries.getByIndex(n),c=l.matches;if(null!==c){const m=Pu(e,t,l,n);for(let y=0;y<c.length;y+=2){const v=c[y];if(v>0)r.push(m[y/2]);else{const T=c[y+1],L=t[-v];for(let W=i.Y20;W<L.length;W++){const ee=L[W];ee[i.rQE]===ee[i.f7T]&&id(ee[i.eDl],ee,T,r)}if(null!==L[i.nfM]){const W=L[i.nfM];for(let ee=0;ee<W.length;ee++){const te=W[ee];id(te[i.eDl],te,T,r)}}}}}return r}function sd(e,t){return e[i.Ds7].queries[t].queryList}function ld(e,t,n){const r=new $r(!(4&~n));return(0,i.B22)(e,t,r,r.destroy),(t[i.Ds7]??=new Pa).queries.push(new Ni(r))-1}function ud(e,t,n){const r=(0,i.klJ)();return r.firstCreatePass&&(Lu(r,new Ou(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),ld(r,(0,i.OAn)(),t)}function Nu(e,t,n,r){const l=(0,i.klJ)();if(l.firstCreatePass){const c=(0,i.Mx4)();Lu(l,new Ou(t,n,r),c.index),function nv(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return ld(l,(0,i.OAn)(),n)}function Lu(e,t,n){null===e.queries&&(e.queries=new Cs),e.queries.track(new Li(t,n))}function cd(e,t){return e.queries.getByIndex(t)}function dd(e,t){const n=e[i.eDl],r=cd(n,t);return r.crossesNgTemplate?id(n,e,t,[]):Pu(n,e,r,t)}function xh(e,t){const n=e[z.bh];n._lView=(0,i.OAn)(),n._queryIndex=t,n._queryList=sd(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function zf(e){const t=[],n=new Map;function r(l){let c=n.get(l);if(!c){const m=e(l);n.set(l,c=m.then(y=>function Gf(e,t){return"string"==typeof t?t:void 0!==t.status&&200!==t.status?Promise.reject(new i.buA(918,!1)):t.text()}(0,y)))}return c}return wl.forEach((l,c)=>{const m=[];l.templateUrl&&m.push(r(l.templateUrl).then(T=>{l.template=T}));const y="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=y,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const T=l.styles.length,L=l.styleUrls;l.styleUrls.forEach((W,ee)=>{y.push(""),m.push(r(W).then(te=>{y[T+ee]=te,L.splice(L.indexOf(W),1),0==L.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&m.push(r(l.styleUrl).then(T=>{y.push(T),l.styleUrl=void 0}));const v=Promise.all(m).then(()=>function qf(e){Ss.delete(e)}(c));t.push(v)}),function iv(){const e=wl;wl=new Map}(),Promise.all(t).then(()=>{})}let wl=new Map;const Ss=new Set;function sv(){return 0===wl.size}const ju=new Map;function Oh(e,t){(function lv(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${(0,i.AsM)(t)} vs ${(0,i.AsM)(t.name)}`)})(t,ju.get(t)||null,e),ju.set(t,e)}const hd=new Set;function go(e){hd.has(e)||(hd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let ji=class{},pd=class{};function Qf(e,t){return new Bu(e,t??null,[])}class Bu extends ji{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _h(this);constructor(t,n,r,l=!0){super(),this.ngModuleType=t,this._parent=n;const c=(0,i.phH)(t);this._bootstrapComponents=fa(c.bootstrap),this._r3Injector=(0,i.Pz9)(t,n,[{provide:ji,useValue:this},{provide:ws,useValue:this.componentFactoryResolver},...r],(0,i.AsM)(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ph extends pd{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Bu(this.moduleType,t,[])}}function Yf(e,t,n){return new Bu(e,t,n,!1)}class Jf extends ji{injector;componentFactoryResolver=new _h(this);instance=null;constructor(t){super();const n=new i.e5P([...t.providers,{provide:ji,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],t.parent||(0,i.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Na(e,t,n=null){return new Jf({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Bi=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=(0,i.jXY)(!1,n.type),l=r.length>0?Na([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,i.KVO)(i.uvJ))})}return e})();function Nh(e){return J(()=>{const t=ny(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===uo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?l=>l.get(Bi).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||pa.Emulated,styles:e.styles||i.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&go("NgStandalone"),ry(n);const r=e.dependencies;return n.directiveDefs=yd(r,Zf),n.pipeDefs=yd(r,i.oyA),n.id=function fv(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Zf(e){return(0,i.xUg)(e)||(0,i.HaV)(e)}function fd(e){return J(()=>({type:e.type,bootstrap:e.bootstrap||i.Mlv,declarations:e.declarations||i.Mlv,imports:e.imports||i.Mlv,exports:e.exports||i.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mv(e,t){if(null==e)return i.MZA;const n={};for(const r in e)if(e.hasOwnProperty(r)){const l=e[r];let c,m,y,v;Array.isArray(l)?(y=l[0],c=l[1],m=l[2]??c,v=l[3]||null):(c=l,m=l,y=us.None,v=null),n[c]=[r,y,v],t[c]=m}return n}function hv(e){if(null==e)return i.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ey(e){return J(()=>{const t=ny(e);return ry(t),t})}function ty(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ny(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||i.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||i.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:mv(e.inputs,t),outputs:hv(e.outputs),debugInfo:null}}function ry(e){e.features?.forEach(t=>t(e))}function yd(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const l of n){const c=t(l);null!==c&&r.push(c)}return r}:null}function Lh(e){return Object.getPrototypeOf(e.prototype).constructor}function gd(e){let t=Lh(e.type),n=!0;const r=[e];for(;t;){let l;if((0,i.JlV)(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new i.buA(903,!1);l=t.\u0275dir}if(l){if(n){r.push(l);const m=e;m.inputs=Fh(e.inputs),m.declaredInputs=Fh(e.declaredInputs),m.outputs=Fh(e.outputs);const y=l.hostBindings;y&&ay(e,y);const v=l.viewQuery,T=l.contentQueries;if(v&&vd(e,v),T&&Uu(e,T),oy(e,l),(0,i.dwj)(e.outputs,l.outputs),(0,i.JlV)(l)&&l.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let m=0;m<c.length;m++){const y=c[m];y&&y.ngInherit&&y(e),y===gd&&(n=!1)}}t=Object.getPrototypeOf(t)}!function si(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=Pn(l.hostAttrs,n=Pn(n,l.hostAttrs))}}(r)}function oy(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Fh(e){return e===i.MZA?{}:e===i.Mlv?[]:e}function vd(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function Uu(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,c)=>{t(r,l,c),n(r,l,c)}:t}function ay(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}const iy=["providersResolver"],jh=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ly(e){const t=[];let n=!1,r=null,l=null;for(let c=0;c<e.length;c++){const m=e[c];if(null!==m.hostDirectives){const y=t.length;r??=new Map,l??=new Map,Vu(m,t,r),l.set(m,[y,t.length-1])}0===c&&(0,i.JlV)(m)&&(n=!0,t.push(m))}for(let c=n?1:0;c<e.length;c++)t.push(e[c]);return[t,r,l]}function Vu(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives)if("function"==typeof r){const l=r();for(const c of l)Uh(Vh(c),t,n)}else Uh(r,t,n)}function Uh(e,t,n){const r=(0,i.HaV)(e.directive);(function s(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(r.declaredInputs,e.inputs),Vu(r,t,n),n.set(r,e),t.push(r)}function Vh(e){return"function"==typeof e?{directive:(0,i.nl4)(e),inputs:i.MZA,outputs:i.MZA}:{directive:(0,i.nl4)(e.directive),inputs:$h(e.inputs),outputs:$h(e.outputs)}}function $h(e){if(void 0===e||0===e.length)return i.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function u(e,t,n,r,l,c,m,y){if(n.firstCreatePass){e.mergedAttrs=Pn(e.mergedAttrs,e.attrs);const L=e.tView=eu(2,e,l,c,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),L.queries=n.queries.embeddedTView(e))}y&&(e.flags|=y),(0,i.iMd)(e,!1);const v=B(n,t,e,r);(0,i.SX7)()&&Cc(n,t,v,e),ie(v,t);const T=Rm(v,t,v,e);t[r+i.Yw1]=T,Ec(t,T),bl(T,e,t)}function p(e,t,n,r,l,c,m,y,v,T,L){const W=n+i.Yw1;let ee;if(t.firstCreatePass){if(ee=Va(t,W,4,m||null,y||null),null!=T){const te=(0,i.db4)(t.consts,T);ee.localNames=[];for(let Ae=0;Ae<te.length;Ae+=2)ee.localNames.push(te[Ae],-1)}}else ee=t.data[W];return u(ee,e,t,n,r,l,c,v),null!=T&&tl(e,ee,L),ee}function b(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),T=(0,i.klJ)();return function d(e,t,n,r,l,c,m,y,v,T,L){const W=n+i.Yw1;let ee;t.firstCreatePass?(ee=Va(t,W,4,m||null,y||null),(0,i.ckz)()&&uh(t,e,ee,(0,i.db4)(t.consts,T),Rc),me(t,ee)):ee=t.data[W],u(ee,e,t,n,r,l,c,v),(0,i.yoD)(ee)&&Ac(t,e,ee),null!=T&&tl(e,ee,L)}(v,T,e,t,n,r,l,(0,i.db4)(T.consts,c),void 0,m,y),b}let B=function Y(e,t,n,r){return(0,i.m7n)(!0),t[i.GpT].createComment("")};var Ye=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Ye||{}),tt=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(tt||{}),dt=function(e){return e[e.Initial=-1]="Initial",e}(dt||{}),_d=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(_d||{});function _a(e,t,n){const r=wd(e);null===t[r]&&(t[r]=[]),t[r].push(n)}function Ms(e,t){const n=wd(e),r=t[n];if(null!==r){for(const l of r)l();t[n]=null}}function bd(e){Ms(1,e),Ms(0,e),Ms(2,e)}function wd(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}var _t=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_t||{});const Dt=new i.nKC(""),It=!1,Rn=class an extends x.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,(0,i.M6u)()&&(this.destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0,this.pendingTasks=(0,i.WQX)(i.rev,{optional:!0})??void 0)}emit(t){const n=(0,z.Ht)(null);try{super.next(t)}finally{(0,z.Ht)(n)}}subscribe(t,n,r){let l=t,c=n||(()=>null),m=r;if(t&&"object"==typeof t){const v=t;l=v.next?.bind(v),c=v.error?.bind(v),m=v.complete?.bind(v)}this.__isAsync&&(c=this.wrapInTimeout(c),l&&(l=this.wrapInTimeout(l)),m&&(m=this.wrapInTimeout(m)));const y=super.subscribe({next:l,error:c,complete:m});return t instanceof X.yU&&t.add(y),y}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function ba(e){let t,n;function r(){e=i.lQ1;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function To(e){return queueMicrotask(()=>e()),()=>{e=i.lQ1}}const Bn="isAngularZone",El=Bn+"_ID";let uy=0;class Wt{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Rn(!1);onMicrotaskEmpty=new Rn(!1);onStable=new Rn(!1);onError=new Rn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:c=It}=t;if(typeof Zone>"u")throw new i.buA(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&r,m.shouldCoalesceRunChangeDetection=l,m.callbackScheduled=!1,m.scheduleInRootZone=c,function Ed(e){const t=()=>{!function $u(e){function t(){ba(()=>{e.callbackScheduled=!1,cy(e),e.isCheckStableRunning=!0,xo(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),cy(e))}(e)},n=uy++;e._inner=e._inner.fork({name:"angular",properties:{[Bn]:!0,[El]:n,[El+n]:!0},onInvokeTask:(r,l,c,m,y,v)=>{if(function D0(e){return vv(e,"__ignore_ng_zone__")}(v))return r.invokeTask(c,m,y,v);try{return yv(e),r.invokeTask(c,m,y,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),gv(e)}},onInvoke:(r,l,c,m,y,v,T)=>{try{return yv(e),r.invoke(c,m,y,v,T)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function C0(e){return vv(e,"__scheduler_tick__")}(v)&&t(),gv(e)}},onHasTask:(r,l,c,m)=>{r.hasTask(c,m),l===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,cy(e),xo(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(r,l,c,m)=>(r.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Bn)}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new i.buA(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new i.buA(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+l,t,Vi,i.lQ1,i.lQ1);try{return c.runTask(m,n,r)}finally{c.cancelTask(m)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Vi={};function xo(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function yv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gv(e){e._nesting--,xo(e)}class dy{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Rn;onMicrotaskEmpty=new Rn;onStable=new Rn;onError=new Rn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}function vv(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}function S0(e="zone.js",t){return"noop"===e?new dy:"zone.js"===e?new Wt(t):e}let _v=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const bv=[0,1,2,3];let A0=(()=>{class e{ngZone=(0,i.WQX)(Wt);scheduler=(0,i.WQX)(i.hk6);errorHandler=(0,i.WQX)(i.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,i.WQX)(Dt,{optional:!0})}execute(){const n=this.sequences.size>0;n&&at(16),this.executing=!0;for(const r of bv)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[r])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[r])(l.pipelinedValue),l.snapshot))}catch(c){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&at(17)}register(n){const{view:r}=n;void 0!==r?((r[i.JEi]??=[]).push(n),(0,i.blu)(r),r[i.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(_t.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class wv{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,l,c,m=null){this.impl=t,this.hooks=n,this.view=r,this.once=l,this.snapshot=m,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[i.JEi];t&&(this.view[i.JEi]=t.filter(n=>n!==this))}}function Ev(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return go("NgAfterNextRender"),kv(e,n,t,!0)}function kv(e,t,n,r){const l=t.get(_v);l.impl??=t.get(A0);const c=t.get(Dt,null,{optional:!0}),m=!0!==n?.manualCleanup?t.get(i.abz):null,y=t.get(i.r4V,null,{optional:!0}),v=new wv(l.impl,function T0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),y?.view,r,m,c?.snapshot(null));return l.impl.register(v),v}function kd(e){return e+1}function aa(e,t){return e[kd(t.index)]}function _o(e,t){const n=kd(t.index);return e.data[n]}function my(e,t){return t===tt.Placeholder?e.placeholderBlockConfig?.[0]??null:t===tt.Loading?e.loadingBlockConfig?.[0]??null:null}function Dv(e){return e.loadingBlockConfig?.[1]??null}function Cv(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function hy(e,t,n){const r=n.get(Wt);return function f(e,t,n){let r=At.get(e);return zr=zr||n(),r||(r=new Aa,zr.observe(e),At.set(e,r),jo++),r.callbacks.add(t),()=>{At.has(e)&&(r.callbacks.delete(t),0===r.callbacks.size&&(zr?.unobserve(e),At.delete(e),jo--),0===jo&&(zr?.disconnect(),zr=null))}}(e,()=>r.run(t),()=>r.runOutsideAngular(()=>function h(){return new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&At.has(t.target)&&At.get(t.target).listener()})}()))}function Hu(e,t,n,r,l,c,m){const y=e[i.YEL],v=y.get(Wt);let T;T=function M0(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return go("NgAfterRender"),kv(e,n,t,!1)}({read:function L(){if((0,i.EPY)(e))return void T.destroy();const W=aa(e,t),ee=W[1];if(ee!==dt.Initial&&ee!==tt.Placeholder)return void T.destroy();const te=function P0(e,t,n){return null==n?e:n>=0?(0,i.jRZ)(n,e):e[t.index][i.Y20]??null}(e,t,r);if(!te||(T.destroy(),(0,i.EPY)(te)))return;const Ae=function N0(e,t){return(0,i.vaC)(i.Yw1+t,e)}(te,n),$e=l(Ae,()=>{v.run(()=>{e!==te&&(0,i.DyX)(te,$e),c()})},y);e!==te&&(0,i.ik5)(te,$e),_a(m,W,$e)}},{injector:y})}function Hh(e,t){const n=t.get(j0);return n.add(e),()=>n.remove(e)}let j0=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,i.WQX)(Wt);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:r,deferred:l}=this;r.delete(n),l.delete(n),0===r.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const r of this.current)r();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const r of this.deferred)this.current.add(r);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function Wh(e){return(t,n)=>Av(e,t,n)}function Av(e,t,n){const r=n.get(B0),l=n.get(Wt);return r.add(e,t,l),()=>r.remove(t)}let B0=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,r,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,r),this.scheduleTimer(l)}remove(n){const{current:r,deferred:l}=this;-1===this.removeFromQueue(r,n)&&this.removeFromQueue(l,n),0===r.length&&0===l.length&&this.clearTimeout()}addToQueue(n,r,l){let c=n.length;for(let m=0;m<n.length;m+=2)if(n[m]>r){c=m;break}(0,i.llW)(n,c,r,l)}removeFromQueue(n,r){let l=-1;for(let c=0;c<n.length;c+=2)if(n[c+1]===r){l=c;break}return l>-1&&(0,i.gsJ)(n,l,2),l}scheduleTimer(n){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],m=Date.now();for(let v=0;v<c.length;v+=2){const L=c[v+1];if(!(c[v]<=m))break;L()}let y=-1;for(let v=0;v<this.current.length&&this.current[v]<=m;v+=2)y=v+1;if(y>=0&&(0,i.gsJ)(this.current,0,y+1),this.executingCallbacks=!1,this.deferred.length>0){for(let v=0;v<this.deferred.length;v+=2)this.addToQueue(this.current,this.deferred[v],this.deferred[v+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const c=Date.now(),m=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-m>16){this.clearTimeout();const y=Math.max(m-c,16);this.invokeTimerAt=m,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(r),y))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),U0=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,l,c){if(!this.cachedInjectors.has(n)){const m=l.length>0?Na(l,r,c):null;this.cachedInjectors.set(n,m)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const V0=new i.nKC("");function py(e,t,n){return e.get(U0).getOrCreateInjector(t,e,n,"")}function Ts(e,t,n,r=!1){const l=n[i.f7T],c=l[i.eDl];if((0,i.EPY)(l))return;const m=aa(l,t),v=m[7];if(!(null!==v&&e<v)&&xv(m[1],e)&&xv(m[0]??-1,e)){const T=_o(c,t),W=r||null===Dv(T)&&null===my(T,tt.Loading)&&!my(T,tt.Placeholder)?Mv:fy;try{W(e,m,n,t,l)}catch(ee){Sm(l,ee)}}}function Mv(e,t,n,r,l){at(20);const c=function R0(e,t,n){const l=_o(t[i.eDl],n);switch(e){case tt.Complete:return l.primaryTmplIndex;case tt.Loading:return l.loadingTmplIndex;case tt.Error:return l.errorTmplIndex;case tt.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,r);if(null!==c){t[1]=e;const m=l[i.eDl],v=(0,i.XRZ)(m,c+i.Yw1),T=0;let L;if(jc(n,T),e===tt.Complete){const Ae=_o(m,r),$e=Ae.providers;$e&&$e.length>0&&(L=function $0(e,t,n){if(e instanceof ks){const l=e.injector,m=py(e.parentInjector,t,n);return new ks(l,m)}const r=e.get(i.uvJ);if(r!==e){const l=py(r,t,n);return new ks(e,l)}return py(e,t,n)}(l[i.YEL],Ae,$e))}const{dehydratedView:W,dehydratedViewIx:ee}=function H0(e,t){const n=e[i.qFA]?.findIndex(l=>l.data.s===t[1])??-1;return{dehydratedView:n>-1?e[i.qFA][n]:null,dehydratedViewIx:n}}(n,t),te=nl(l,v,null,{injector:L,dehydratedView:W});if(fs(n,te,T,hs(v,W)),ps(te,2),ee>-1&&n[i.qFA]?.splice(ee,1),(e===tt.Complete||e===tt.Error)&&Array.isArray(t[8])){for(const Ae of t[8])Ae();t[8]=null}}at(21)}function W0(e,t,n,r,l){const c=Date.now(),y=_o(l[i.eDl],r);if(null===t[2]||t[2]<=c){t[2]=null;const v=Dv(y),T=null!==t[3];if(e!==tt.Loading||null===v||T){e>tt.Loading&&T&&(t[3](),t[3]=null,t[0]=null),Mv(e,t,n,r,l);const L=my(y,e);null!==L&&(t[2]=c+L,Tv(L,t,r,n,l))}else{t[0]=e;const L=Tv(v,t,r,n,l);t[3]=L}}else t[0]=e}function Tv(e,t,n,r,l){return Av(e,()=>{const m=t[0];t[2]=null,t[0]=null,null!==m&&Ts(m,n,r)},l[i.YEL])}function xv(e,t){return e<t}function Wu(e,t){Ts(tt.Placeholder,t,e[t.index])}function Iv(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Ye.COMPLETE?Ts(tt.Complete,t,n):e.loadingState===Ye.FAILED&&Ts(tt.Error,t,n)})}let fy=null;function K0(e,t,n,r){return J(()=>{const l=e;null!==t&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...t):l.decorators=t),null!==n&&(l.ctorParameters=n),null!==r&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...r}:r)})}let Rv=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Gv=new i.nKC(""),qv=new i.nKC("");let vy,Rw=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,l){this._ngZone=n,this.registry=r,(0,i.M6u)()&&(this._destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0),vy||(function Ow(e){vy=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),n()},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:l})}whenStable(n,r,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static \u0275fac=function(r){return new(r||e)((0,i.KVO)(Wt),(0,i.KVO)(Qv),(0,i.KVO)(qv))};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac})}return e})(),Qv=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return vy?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Xv(e){return!!e&&"function"==typeof e.then}function Yv(e){return!!e&&"function"==typeof e.subscribe}const Jv=new i.nKC("");function Pw(e){return(0,i.EmA)([{provide:Jv,multi:!0,useValue:e}])}let Zv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=(0,i.WQX)(Jv,{optional:!0})??[];injector=(0,i.WQX)(i.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const c=(0,i.N4e)(this.injector,l);if(Xv(c))n.push(c);else if(Yv(c)){const m=new Promise((y,v)=>{c.subscribe({complete:y,error:v})});n.push(m)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const e_=new i.nKC("");function Nw(){}function Lw(){(0,z.KO)(()=>{throw new i.buA(600,"")})}function t_(e,t){return Array.isArray(t)?t.reduce(t_,e):{...e,...t}}let Gh=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,i.WQX)(i.ZTf);afterRenderManager=(0,i.WQX)(_v);zonelessEnabled=(0,i.WQX)(i.Evm);rootEffectScheduler=(0,i.WQX)(i.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new x.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,i.WQX)(i.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,Z.T)(n=>!n))}constructor(){(0,i.WQX)(Dt,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:l=>{l&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,i.WQX)(i.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,l=i.zZn.NULL){return this._injector.get(Wt).run(()=>{at(10);const m=n instanceof rh;if(!this._injector.get(Zv).done)throw new i.buA(405,"");let v;v=m?n:this._injector.get(ws).resolveComponentFactory(n),this.componentTypes.push(v.componentType);const T=function Fw(e){return e.isBoundToModule}(v)?void 0:this._injector.get(ji),W=v.create(l,[],r||v.selector,T),ee=W.location.nativeElement,te=W.injector.get(Gv,null);return te?.registerApplication(ee),W.onDestroy(()=>{this.detachView(W.hostView),qh(this.components,W),te?.unregisterApplication(ee)}),this._loadComponent(W),at(11,W),W})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){at(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(_t.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new i.buA(101,!1);const n=(0,z.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,z.Ht)(n),this.afterTick.next(),at(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Eu,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)at(14),this.synchronizeOnce(),at(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(r||(0,i.dMS)(l))&&(Lc(l,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,i.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(n),this._injector.get(e_,[]).forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new i.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function n_(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();if(Wu(t,n),!a_(0,t))return;const r=t[i.YEL];_a(0,aa(t,n),e(()=>kl(0,t,n),r))}function r_(e,t){const n=(0,i.OAn)(),r=n[i.YEL],l=(0,i.Mx4)(),m=_o(n[i.eDl],l);m.loadingState===Ye.NOT_STARTED&&_a(1,aa(n,l),e(()=>Cd(m,n,l),r))}function o_(e,t,n){const r=t[i.YEL],l=aa(t,n),c=l[6];_a(2,l,e(()=>Dl(r,c),r))}function Cd(e,t,n){_y(e,t,n)}function _y(e,t,n){const r=t[i.YEL],l=t[i.eDl];if(e.loadingState!==Ye.NOT_STARTED)return e.loadingPromise??Promise.resolve();const c=aa(t,n),m=function O0(e,t){return(0,i.XRZ)(e,t.primaryTmplIndex+i.Yw1)}(l,e);e.loadingState=Ye.IN_PROGRESS,Ms(1,c);let y=e.dependencyResolverFn;const v=r.get(i.u5s).add();return y?(e.loadingPromise=Promise.allSettled(y()).then(T=>{let L=!1;const W=[],ee=[];for(const te of T){if("fulfilled"!==te.status){L=!0;break}{const Ae=te.value,$e=(0,i.xUg)(Ae)||(0,i.HaV)(Ae);if($e)W.push($e);else{const vt=(0,i.oyA)(Ae);vt&&ee.push(vt)}}}if(L){if(e.loadingState=Ye.FAILED,null===e.errorTmplIndex){const Ae=new i.buA(-750,!1);Sm(t,Ae)}}else{e.loadingState=Ye.COMPLETE;const te=m.tView;if(W.length>0){te.directiveRegistry=Cv(te.directiveRegistry,W);const Ae=W.map(vt=>vt.type),$e=(0,i.jXY)(!1,...Ae);e.providers=$e}ee.length>0&&(te.pipeRegistry=Cv(te.pipeRegistry,ee))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,v()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Ye.COMPLETE,v()}),e.loadingPromise)}function a_(e,t){return t[i.YEL].get(V0,null,{optional:!0})?.behavior!==_d.Manual}function kl(e,t,n){const r=t[i.eDl],l=t[n.index];if(!a_(0,t))return;const c=aa(t,n),m=_o(r,n);switch(bd(c),m.loadingState){case Ye.NOT_STARTED:Ts(tt.Loading,n,l),_y(m,t,n),m.loadingState===Ye.IN_PROGRESS&&Iv(m,n,l);break;case Ye.IN_PROGRESS:Ts(tt.Loading,n,l),Iv(m,n,l);break;case Ye.COMPLETE:Ts(tt.Complete,n,l);break;case Ye.FAILED:Ts(tt.Error,n,l)}}function Dl(e,t,n){return by.apply(this,arguments)}function by(){return(by=(0,E.A)(function*(e,t,n){const r=e.get(Yt);if(r.hydrating.has(t))return;const{parentBlockPromise:c,hydrationQueue:m}=function tc(e,t){const n=t.get(Yt),l=t.get(yn).get("__nghDeferData__",{});let c=!1,m=e,y=null;const v=[];for(;!c&&m;){c=n.has(m);const T=n.hydrating.get(m);if(null===y&&null!=T){y=T.promise;break}v.unshift(m),m=l[m].p}return{parentBlockPromise:y,hydrationQueue:v}}(t,e);if(0===m.length)return;null!==c&&m.shift(),function Vw(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}(r,m),null!==c&&(yield c);const y=m[0];r.has(y)?yield i_(e,m,n):r.awaitParentBlock(y,(0,E.A)(function*(){return yield i_(e,m,n)}))})).apply(this,arguments)}function i_(e,t,n){return wy.apply(this,arguments)}function wy(){return(wy=(0,E.A)(function*(e,t,n){const r=e.get(Yt),l=r.hydrating,c=e.get(i.rev),m=c.add();for(let v=0;v<t.length;v++){const T=t[v],L=r.get(T);if(null==L){Uw(v,t,r),s_(t.slice(v),r);break}if(yield Hw(L),yield $w(e),Bw(L)){_f(L),s_(t.slice(v),r);break}l.get(T).resolve()}const y=t[t.length-1];yield l.get(y)?.promise,c.remove(m),n&&n(t),function wu(e,t,n,r){null!==e&&(n.cleanup(t),Ra(e.lContainer),function Xc(e){const t=e._views;for(const n of t){const r=Tl(n);null!==r&&null!==r[i.jgP]&&((0,i.q$2)(r)?bs(r):Ra(r))}}(r))}(r.get(y),t,r,e.get(Gh))})).apply(this,arguments)}function Bw(e){return aa(e.lView,e.tNode)[1]===tt.Error}function Uw(e,t,n){const r=e-1,l=r>-1?n.get(t[r]):null;l&&Ra(l.lContainer)}function s_(e,t){const n=t.hydrating;for(const r in e)n.get(r)?.reject();t.cleanup(e)}function $w(e){return new Promise(t=>Ev(t,{injector:e}))}function Hw(e){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,E.A)(function*(e){const{tNode:t,lView:n}=e,r=aa(n,t);return new Promise(l=>{(function Ww(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(r,l),kl(0,n,t)})})).apply(this,arguments)}function ir(e,t,n){return 0===e?l_(t,n):2!==e||!l_(t,n)}function l_(e,t){const n=e[i.YEL],r=_o(e[i.eDl],t),l=function hi(e){return e.get(M,!1,{optional:!0})}(n),c=function zw(e){return null!=e&&!(1&~e)}(r.flags),y=null!==aa(e,t)[6];return!(c&&y&&l)}function xs(e,t){const n=_o(e,t);return n.hydrateTriggers??=new Map}function ky(e,t,n,r){const l=(0,i.OAn)();return In(l,(0,i.xbp)(),t)&&((0,i.klJ)(),function Dg(e,t,n,r,l,c){const m=(0,i.d31)(e,t);au(t[i.GpT],m,c,e.value,n,r,l)}((0,i.CpD)(),l,e,t,n,r)),ky}class b1{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),l=Math.max(t,n),c=this.detach(l);if(l-r>1){const m=this.detach(r);this.attach(r,c),this.attach(l,m)}else this.attach(r,c)}move(t,n){this.attach(n,this.detach(t))}}function Dy(e,t,n,r,l){return e===n&&Object.is(t,r)?1:Object.is(l(e,t),l(n,r))?-1:0}function Cy(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function c_(e,t,n,r,l){if(Cy(e,t,r,n(r,l)))e.updateValue(r,l);else{const c=e.create(r,l);e.attach(r,c)}}function d_(e,t,n,r){const l=new Set;for(let c=t;c<=n;c++)l.add(r(c,e.at(c)));return l}class m_{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(r);)r=l.get(r);l.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(r);)r=l.get(r),t(r,n)}}}function Sy(e,t,n,r,l,c,m,y){go("NgControlFlow");const v=(0,i.OAn)(),T=(0,i.klJ)();return p(v,T,e,t,n,r,l,(0,i.db4)(T.consts,c),512,m,y),Sy}class D1{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-i.Y20}}class A1{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class T1 extends b1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-i.Y20}at(t){return this.getLView(t)[i.SKP].$implicit}attach(t,n){const r=n[i.tcA];this.needsIndexUpdate||=t!==this.length,fs(this.lContainer,n,t,hs(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function I1(e,t){return al(e,t)}(this.lContainer,t)}create(t,n){const l=nl(this.hostLView,this.templateTNode,new D1(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),l}destroy(t){Zs(t[i.eDl],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[i.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[i.SKP].$index=t}getLView(t){return function R1(e,t){return Om(e,t)}(this.lContainer,t)}}function Qh(e,t){return e[t]}function Ay(e,t){return(0,i.XRZ)(e,t)}function My(e,t,n){const r=(0,i.OAn)();return In(r,(0,i.xbp)(),t)&&((0,i.klJ)(),xc((0,i.CpD)(),r,e,t,r[i.GpT],n)),My}function Ty(e,t,n,r,l){Am(t,e,n,l?"class":"style",r)}function Xh(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?Mo(m,l,2,t,Rc,(0,i.ckz)(),n,r):c.data[m];if(Oc(y,l,e,t,Iy),(0,i.yoD)(y)){const v=l[i.eDl];Ac(v,l,y),Ji(v,y,l)}return null!=r&&tl(l,y),Xh}function Yh(){const e=(0,i.klJ)(),n=iu((0,i.Mx4)());return e.firstCreatePass&&oi(e,n),(0,i.UhH)(n)&&(0,i.krE)(),(0,i.N79)(),null!=n.classesWithoutHost&&function cn(e){return!!(8&e.flags)}(n)&&Ty(e,n,(0,i.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Bt(e){return!!(16&e.flags)}(n)&&Ty(e,n,(0,i.OAn)(),n.stylesWithoutHost,!1),Yh}function xy(e,t,n,r){return Xh(e,t,n,r),Yh(),xy}function Jh(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?fh(m,c,2,t,n,r):c.data[m];return Oc(y,l,e,t,Iy),null!=r&&tl(l,y),Jh}function Zh(){const t=iu((0,i.Mx4)());return(0,i.UhH)(t)&&(0,i.krE)(),(0,i.N79)(),Zh}let Iy=(e,t,n,r,l)=>((0,i.m7n)(!0),Zl(t[i.GpT],r,(0,i.UaU)()));function ep(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?Mo(c,r,8,"ng-container",Rc,(0,i.ckz)(),t,n):l.data[c];if(Oc(m,r,e,"ng-container",Oy),(0,i.yoD)(m)){const y=r[i.eDl];Ac(y,r,m),Ji(y,m,r)}return null!=n&&tl(r,m),ep}function Sd(){const e=(0,i.klJ)(),n=iu((0,i.Mx4)());return e.firstCreatePass&&oi(e,n),Sd}function Ry(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?fh(c,l,8,"ng-container",t,n):l.data[c];return Oc(m,r,e,"ng-container",Oy),null!=n&&tl(r,m),Ry}function f_(){return iu((0,i.Mx4)()),Sd}let Oy=(e,t,n,r,l)=>((0,i.m7n)(!0),_c(t[i.GpT],""));function g_(){return(0,i.OAn)()}const Cl=void 0;var L1=["en",[["a","p"],["AM","PM"],Cl],[["AM","PM"],Cl,Cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cl,"{1} 'at' {0}",Cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function N1(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ku={};function Py(e){const t=function F1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=w_(t);if(n)return n;const r=t.split("-")[0];if(n=w_(r),n)return n;if("en"===r)return L1;throw new i.buA(701,!1)}function b_(e){return Py(e)[Gu.PluralCase]}function w_(e){return e in Ku||(Ku[e]=i.laP.ng&&i.laP.ng.common&&i.laP.ng.common.locales&&i.laP.ng.common.locales[e]),Ku[e]}var Gu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Gu||{});const j1=["zero","one","two","few","many"],Ny="en-US",tp={marker:"element"},np={marker:"ICU"};var sa=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(sa||{});let E_=Ny;function V1(e){"string"==typeof e&&(E_=e.toLowerCase().replace(/_/g,"-"))}let Ad=0,Md=0;let Td=(e,t,n,r)=>((0,i.m7n)(!0),function k_(e,t,n){const r=e[i.GpT];switch(n){case Node.COMMENT_NODE:return _c(r,t);case Node.TEXT_NODE:return vc(r,t);case Node.ELEMENT_NODE:return Zl(r,t,null)}}(e,n,r));function D_(e,t,n,r){const l=n[i.GpT];let m,c=null;for(let y=0;y<t.length;y++){const v=t[y];if("string"==typeof v){const T=t[++y];null===n[T]&&(n[T]=Td(n,0,v,Node.TEXT_NODE))}else if("number"==typeof v)switch(1&v){case 0:const T=Vm(v);let L,W;if(null===c&&(c=T,m=l.parentNode(r)),T===c?(L=r,W=m):(L=null,W=(0,i.IvY)(n[T])),null!==W){const $e=Hc(v);xa(l,W,n[$e],L,!1);const ht=cl(e,$e);if(null!==ht&&"object"==typeof ht){const Je=dl(ht,n);null!==Je&&D_(e,ht.create[Je],n,n[ht.anchorIdx])}}break;case 1:const te=t[++y],Ae=t[++y];au(l,(0,i.vaC)(v>>>1,n),null,null,te,Ae,null)}else switch(v){case np:const T=t[++y],L=t[++y];null===n[L]&&ie(n[L]=Td(n,0,T,Node.COMMENT_NODE),n);break;case tp:const W=t[++y],ee=t[++y];null===n[ee]&&ie(n[ee]=Td(n,0,W,Node.ELEMENT_NODE),n)}}}function C_(e,t,n,r,l){for(let c=0;c<n.length;c++){const m=n[c],y=n[++c];if(m&l){let v="";for(let T=c+1;T<=c+y;T++){const L=n[T];if("string"==typeof L)v+=L;else if("number"==typeof L)if(L<0)v+=(0,i.eFE)(t[r-L]);else{const W=L>>>2;switch(3&L){case 1:const ee=n[++T],te=n[++T],Ae=e.data[W];"string"==typeof Ae?au(t[i.GpT],t[W],null,Ae,ee,v,te):xc(Ae,t,ee,v,t[i.GpT],te);break;case 0:const $e=t[W];null!==$e&&am(t[i.GpT],$e,v);break;case 2:G1(e,cl(e,W),t,v);break;case 3:S_(e,cl(e,W),r,t)}}}}else{const v=n[c+1];if(v>0&&!(3&~v)){const L=cl(e,v>>>2);t[L.currentCaseLViewIndex]<0&&S_(e,L,r,t)}}c+=y}}function S_(e,t,n,r){let l=r[t.currentCaseLViewIndex];if(null!==l){let c=Ad;l<0&&(l=r[t.currentCaseLViewIndex]=~l,c=-1),C_(e,r,t.update[l],n,c)}}function G1(e,t,n,r){const l=function q1(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function B1(e,t){const n=b_(t)(parseInt(e,10)),r=j1[n];return void 0!==r?r:"other"}(t,function $1(){return E_}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(dl(t,n)!==l&&(A_(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const m=n[t.anchorIdx];m&&D_(e,t.create[l],n,m)}}function A_(e,t,n){let r=dl(t,n);if(null!==r){const l=t.remove[r];for(let c=0;c<l.length;c++){const m=l[c];if(m>0){const y=(0,i.vaC)(m,n);null!==y&&Xs(n[i.GpT],y)}else A_(e,cl(e,~m),n)}}}const rp=/\ufffd(\d+):?\d*\ufffd/gi,Q1=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,X1=/\ufffd(\d+)\ufffd/,T_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Y1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,J1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Z1=/\uE500/g;function x_(e,t,n,r,l,c,m){const y=ls(e,r,1,null);let v=y<<sa.SHIFT,T=(0,i.Ab)();t===T&&(T=null),null===T&&(v|=sa.APPEND_EAGERLY),m&&(v|=sa.COMMENT,function mm(e){void 0===ds&&(ds=e())}(Wm)),l.push(v,null===c?"":c);const L=ul(e,y,m?32:1,null===c?"":c,null);jm(n,L);const W=L.index;return(0,i.iMd)(L,!1),null!==T&&t!==T&&function sf(e,t){let n=e.insertBeforeIndex;null===n?(bm($c,du),n=e.insertBeforeIndex=[null,t]):((0,i.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(T,W),L}function nE(e,t,n,r,l,c,m,y){const v=y.match(rp),L=x_(t,n,r,m,l,v?null:y,!1).index;v&&Id(c,y,L,null,0,null),e.push({kind:0,index:L})}function Id(e,t,n,r,l,c){const m=e.length,y=m+1;e.push(null,null);const v=m+2,T=t.split(rp);let L=0;for(let W=0;W<T.length;W++){const ee=T[W];if(1&W){const te=l+parseInt(ee,10);e.push(-1-te),L|=I_(te)}else""!==ee&&e.push(ee)}return e.push(n<<2|(r?1:0)),r&&e.push(r,c),e[m]=L,e[y]=e.length-v,L}function oE(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function I_(e){return 1<<Math.min(e,31)}function R_(e){let t,c,n="",r=0,l=!1;for(;null!==(t=Y1.exec(e));)l?t[0]===`\ufffd/*${c}\ufffd`&&(r=t.index,l=!1):(n+=e.substring(r,t.index+t[0].length),c=t[1],l=!0);return n+=e.slice(r),n}function O_(e,t,n,r,l,c,m){let y=0;const v={type:c.type,currentCaseLViewIndex:ls(t,n,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function uE(e,t,n){e.push(I_(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(r,c,m),function Wg(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(t,m,v);const T=c.values,L=[];for(let W=0;W<T.length;W++){const ee=T[W],te=[];for(let $e=0;$e<ee.length;$e++){const vt=ee[$e];if("string"!=typeof vt){const ht=te.push(vt)-1;ee[$e]=`\x3c!--\ufffd${ht}\ufffd--\x3e`}}const Ae=[];L.push(Ae),y=sE(Ae,t,v,n,r,l,c.cases[W],ee.join(""),te)|y}y&&function cE(e,t,n){e.push(t,1,n<<2|3)}(r,y,m),e.push({kind:3,index:m,cases:L,currentCaseLViewIndex:v.currentCaseLViewIndex})}function iE(e){const t=[],n=[];let r=1,l=0;const c=Ly(e=e.replace(T_,function(m,y,v){return r="select"===v?0:1,l=parseInt(y.slice(1),10),""}));for(let m=0;m<c.length;){let y=c[m++].trim();1===r&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&t.push(y);const v=Ly(c[m++]);t.length>n.length&&n.push(v)}return{type:r,mainBinding:l,cases:t,values:n}}function Ly(e){if(!e)return[];let t=0;const n=[],r=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(e);){const y=c.index;if("}"==c[0]){if(n.pop(),0==n.length){const v=e.substring(t,y);T_.test(v)?r.push(iE(v)):r.push(v),t=y+1}}else{if(0==n.length){const v=e.substring(t,y);r.push(v),t=y+1}n.push("{")}}const m=e.substring(t);return r.push(m),r}function sE(e,t,n,r,l,c,m,y,v){const T=[],L=[],W=[];n.cases.push(m),n.create.push(T),n.remove.push(L),n.update.push(W);const te=rs(he()).getInertBodyElement(y),Ae=we(te)||te;return Ae?P_(e,t,n,r,l,T,L,W,Ae,c,v,0):0}function P_(e,t,n,r,l,c,m,y,v,T,L,W){let ee=0,te=v.firstChild;for(;te;){const Ae=ls(t,r,1,null);switch(te.nodeType){case Node.ELEMENT_NODE:const $e=te,vt=$e.tagName.toLowerCase();if(Wl.hasOwnProperty(vt)){Fy(c,tp,vt,T,Ae),t.data[Ae]=vt;const Io=$e.attributes;for(let cg=0;cg<Io.length;cg++){const Ml=Io.item(cg),g0=Ml.name.toLowerCase();Ml.value.match(rp)?zl.hasOwnProperty(g0)&&Id(y,Ml.value,Ae,Ml.name,0,os[g0]?_i:null):dE(c,Ae,Ml)}const Un={kind:1,index:Ae,children:[]};e.push(Un),ee=P_(Un.children,t,n,r,l,c,m,y,te,Ae,L,W+1)|ee,N_(m,Ae,W)}break;case Node.TEXT_NODE:const ht=te.textContent||"",Je=ht.match(rp);Fy(c,null,Je?"":ht,T,Ae),N_(m,Ae,W),Je&&(ee=Id(y,ht,Ae,null,0,null)|ee),e.push({kind:0,index:Ae});break;case Node.COMMENT_NODE:const En=X1.exec(te.textContent||"");if(En){const Un=L[parseInt(En[1],10)];Fy(c,np,"",T,Ae),O_(e,t,r,l,T,Un,Ae),lE(m,Ae,W)}}te=te.nextSibling}return ee}function N_(e,t,n){0===n&&e.push(t)}function lE(e,t,n){0===n&&(e.push(~t),e.push(t))}function Fy(e,t,n,r,l){null!==t&&e.push(t),e.push(n,l,function Hm(e,t,n){return e|t<<17|n<<1}(0,r,l))}function dE(e,t,n){e.push(t<<1|1,n.name,n.value)}const mE=/\[(\ufffd.+?\ufffd?)\]/,hE=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,pE=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fE=/{([A-Z0-9_]+)}/g,yE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gE=/\/\*/,vE=/\d+\:(\d+)/;function F_(e,t,n=-1){const r=(0,i.klJ)(),l=(0,i.OAn)(),c=i.Yw1+e,m=(0,i.db4)(r.consts,t),y=(0,i.Ab)();r.firstCreatePass&&function tE(e,t,n,r,l,c){const m=(0,i.Ab)(),y=[],v=[],T=[[]],L=[[]];l=function aE(e,t){if(function hu(e){return-1===e}(t))return R_(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return R_(e.substring(n,r))}}(l,c);const W=function eE(e){return e.replace(Z1," ")}(l).split(J1);for(let ee=0;ee<W.length;ee++){let te=W[ee];if(1&ee){const Ae=47===te.charCodeAt(0),$e=te.charCodeAt(Ae?1:0),vt=i.Yw1+Number.parseInt(te.substring(Ae?2:1));if(Ae)T.shift(),L.shift(),(0,i.iMd)((0,i.Ab)(),!1);else{const ht=Um(e,T[0],vt);T.unshift([]),(0,i.iMd)(ht,!0);const Je={kind:2,index:vt,children:[],type:35===$e?0:1};L[0].push(Je),L.unshift(Je.children)}}else{const Ae=Ly(te);for(let $e=0;$e<Ae.length;$e++){let vt=Ae[$e];if(1&$e){const ht=vt;if("object"!=typeof ht)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const En=x_(e,m,T[0],n,y,"",!0).index;O_(L[0],e,n,v,t,ht,En)}else""!==vt&&nE(L[0],e,m,T[0],y,v,n,vt)}}}e.data[r]={create:y,update:v,ast:L[0],parentTNodeIndex:t}}(r,null===y?0:y.index,l,c,m,n),2===r.type?l[i.b5C][i.Wg1]|=32:l[i.Wg1]|=32;const v=r.data[c],L=ym(r,y===l[i.qlT]?null:y,l);(function K1(e,t,n,r){const l=e[i.GpT];for(let c=0;c<t.length;c++){const m=t[c++],T=(m&sa.APPEND_EAGERLY)===sa.APPEND_EAGERLY,L=m>>>sa.SHIFT;let W=e[L],ee=!1;null===W&&(W=e[L]=Td(e,0,t[c],(m&sa.COMMENT)===sa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ee=(0,i.SX7)()),T&&null!==n&&ee&&xa(l,n,W,r,!1)}})(l,v.create,L,y&&8&y.type?l[y.index]:null),(0,i.xyx)(!0)}function j_(){(0,i.xyx)(!1)}function jy(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return Uy(l,r,r[i.GpT],c,e,t,n),jy}function By(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return(3&c.type||n)&&_l(c,l,r,n,r[i.GpT],e,t,Au(c,r,t)),By}function Uy(e,t,n,r,l,c,m){let y=!0,v=null;if((3&r.type||m)&&(v??=Au(r,t,c),_l(r,e,t,m,n,l,c,v)&&(y=!1)),y){const T=r.outputs?.[l],L=r.hostDirectiveOutputs?.[l];if(L&&L.length)for(let W=0;W<L.length;W+=2){const ee=L[W],te=L[W+1];v??=Au(r,t,c),Mu(r,t,ee,te,l,v)}if(T&&T.length)for(const W of T)v??=Au(r,t,c),Mu(r,t,W,l,l,v)}}function V_(e=1){return(0,i.jvu)(e)}function DE(e,t){let n=null;const r=function wp(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const c=t[l];if("*"!==c){if(null===r?Ei(e,c,!0):Dp(r,c))return l}else n=l}return n}function $_(e,t,n,r){Nu(e,t,n,r)}function H_(e,t,n){ud(e,t,n)}function W_(e){const t=(0,i.OAn)(),n=(0,i.klJ)(),r=(0,i.w7Z)();(0,i.GA0)(r+1);const l=cd(n,r);if(e.dirty&&(0,i.vOT)(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const c=dd(t,r);e.reset(c,Zn),e.notifyOnChanges()}return!0}return!1}function z_(){return sd((0,i.OAn)(),(0,i.w7Z)())}function K_(e){const t=(0,i.VPL)();return(0,i.Hh6)(t,i.Yw1+e)}function op(e,t){return e<<17|t<<2}function Sl(e){return e>>17&32767}function Vy(e){return 2|e}function qu(e){return(131068&e)>>2}function $y(e,t){return-131069&e|t<<2}function Hy(e){return 1|e}function G_(e,t,n,r){const l=e[n+1],c=null===t;let m=r?Sl(l):qu(l),y=!1;for(;0!==m&&(!1===y||c);){const T=e[m+1];LE(e[m],t)&&(y=!0,e[m+1]=r?Hy(T):Vy(T)),m=r?Sl(T):qu(T)}y&&(e[n+1]=r?Vy(l):Hy(l))}function LE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,i.FRF)(e,t)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q_(e){return e.substring(Kr.key,Kr.keyEnd)}function FE(e){return e.substring(Kr.value,Kr.valueEnd)}function Q_(e,t){const n=Kr.textEnd;return n===t?-1:(t=Kr.keyEnd=function UE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Kr.key=t,n),Qu(e,t,n))}function X_(e,t){const n=Kr.textEnd;let r=Kr.key=Qu(e,t,n);return n===r?-1:(r=Kr.keyEnd=function VE(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=J_(e,r,n),r=Kr.value=Qu(e,r,n),r=Kr.valueEnd=function $E(e,t,n){let r=-1,l=-1,c=-1,m=t,y=m;for(;m<n;){const v=e.charCodeAt(m++);if(59===v)return y;34===v||39===v?y=m=Z_(e,v,m,n):t===m-4&&85===c&&82===l&&76===r&&40===v?y=m=Z_(e,41,m,n):v>32&&(y=m),c=l,l=r,r=-33&v}return y}(e,r,n),J_(e,r,n))}function Y_(e){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=e.length}function Qu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function J_(e,t,n,r){return(t=Qu(e,t,n))<n&&t++,t}function Z_(e,t,n,r){let l=-1,c=n;for(;c<r;){const m=e.charCodeAt(c++);if(m==t&&92!==l)return c;l=92==m&&92===l?0:m}throw new Error}function Wy(e,t,n){return tb(e,t,n,!1),Wy}function zy(e,t){return tb(e,t,null,!0),zy}function WE(e,t){for(let n=function BE(e){return Y_(e),X_(e,Qu(e,0,Kr.textEnd))}(t);n>=0;n=X_(t,n))ab(e,q_(t),FE(t))}function eb(e){nb(YE,zE,e,!0)}function zE(e,t){for(let n=function jE(e){return Y_(e),Q_(e,Qu(e,0,Kr.textEnd))}(t);n>=0;n=Q_(t,n))(0,i.ezK)(e,q_(t),!0)}function tb(e,t,n,r){const l=(0,i.OAn)(),c=(0,i.klJ)(),m=(0,i.b$O)(2);c.firstUpdatePass&&ob(c,e,m,r),t!==gn&&In(l,m,t)&&ib(c,c.data[(0,i._px)()],l,l[i.GpT],e,l[m+1]=function ZE(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,i.AsM)(ra(e)))),e}(t,n),r,m)}function nb(e,t,n,r){const l=(0,i.klJ)(),c=(0,i.b$O)(2);l.firstUpdatePass&&ob(l,null,c,r);const m=(0,i.OAn)();if(n!==gn&&In(m,c,n)){const y=l.data[(0,i._px)()];if(lb(y,r)&&!rb(l,c)){let v=r?y.classesWithoutHost:y.stylesWithoutHost;null!==v&&(n=(0,i.n$e)(v,n||"")),Ty(l,y,m,n,r)}else!function JE(e,t,n,r,l,c,m,y){l===gn&&(l=i.Mlv);let v=0,T=0,L=0<l.length?l[0]:null,W=0<c.length?c[0]:null;for(;null!==L||null!==W;){const ee=v<l.length?l[v+1]:void 0,te=T<c.length?c[T+1]:void 0;let $e,Ae=null;L===W?(v+=2,T+=2,ee!==te&&(Ae=W,$e=te)):null===W||null!==L&&L<W?(v+=2,Ae=L):(T+=2,Ae=W,$e=te),null!==Ae&&ib(e,t,n,r,Ae,$e,m,y),L=v<l.length?l[v]:null,W=T<c.length?c[T]:null}}(l,y,m,m[i.GpT],m[c+1],m[c+1]=function XE(e,t,n){if(null==n||""===n)return i.Mlv;const r=[],l=ra(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)e(r,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&e(r,c,l[c]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,c)}}function rb(e,t){return t>=e.expandoStartIndex}function ob(e,t,n,r){const l=e.data;if(null===l[n+1]){const c=l[(0,i._px)()],m=rb(e,n);lb(c,r)&&null===t&&!m&&(t=!1),t=function KE(e,t,n,r){const l=(0,i.MT)(e);let c=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=Rd(n=Ky(null,e,t,n,r),t.attrs,r),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==l)if(n=Ky(l,e,t,n,r),null===c){let v=function GE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==qu(r))return e[Sl(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Ky(null,e,t,v[1],r),v=Rd(v,t.attrs,r),function qE(e,t,n,r){e[Sl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else c=function QE(e,t,n){let r;const l=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<l;c++)r=Rd(r,e[c].hostAttrs,n);return Rd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(l,c,t,r),function PE(e,t,n,r,l,c){let m=c?t.classBindings:t.styleBindings,y=Sl(m),v=qu(m);e[r]=n;let L,T=!1;if(Array.isArray(n)?(L=n[1],(null===L||(0,i.FRF)(n,L)>0)&&(T=!0)):L=n,l)if(0!==v){const ee=Sl(e[y+1]);e[r+1]=op(ee,y),0!==ee&&(e[ee+1]=$y(e[ee+1],r)),e[y+1]=function RE(e,t){return 131071&e|t<<17}(e[y+1],r)}else e[r+1]=op(y,0),0!==y&&(e[y+1]=$y(e[y+1],r)),y=r;else e[r+1]=op(v,0),0===y?y=r:e[v+1]=$y(e[v+1],r),v=r;T&&(e[r+1]=Vy(e[r+1])),G_(e,L,r,!0),G_(e,L,r,!1),function NE(e,t,n,r,l){const c=l?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&(0,i.FRF)(c,t)>=0&&(n[r+1]=Hy(n[r+1]))}(t,L,e,r,c),m=op(y,v),c?t.classBindings=m:t.styleBindings=m}(l,c,t,n,m,r)}}function Ky(e,t,n,r,l){let c=null;const m=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<m&&(c=t[y],r=Rd(r,c.hostAttrs,l),c!==e);)y++;return null!==e&&(n.directiveStylingLast=y),r}function Rd(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?l=m:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,i.ezK)(e,m,!!n||t[++c]))}return void 0===e?null:e}function ab(e,t,n){(0,i.ezK)(e,t,ra(n))}function YE(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&(0,i.ezK)(e,r,n)}function ib(e,t,n,r,l,c,m,y){if(!(3&t.type))return;const v=e.data,T=v[y+1],L=function OE(e){return!(1&~e)}(T)?sb(v,t,n,l,qu(T),m):void 0;ap(L)||(ap(c)||function IE(e){return!(2&~e)}(T)&&(c=sb(v,null,n,l,y,m)),function Pp(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:tu.DashCase;null==l?e.removeStyle(n,r,c):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=tu.Important),e.setStyle(n,r,l,c))}}(r,m,(0,i.vaC)((0,i._px)(),n),l,c))}function sb(e,t,n,r,l,c){const m=null===t;let y;for(;l>0;){const v=e[l],T=Array.isArray(v),L=T?v[1]:v,W=null===L;let ee=n[l+1];ee===gn&&(ee=W?i.Mlv:void 0);let te=W?(0,i.K7h)(ee,r):L===r?ee:void 0;if(T&&!ap(te)&&(te=(0,i.K7h)(v,r)),ap(te)&&(y=te,m))return y;const Ae=e[l+1];l=m?Sl(Ae):qu(Ae)}if(null!==t){let v=c?t.residualClasses:t.residualStyles;null!=v&&(y=(0,i.K7h)(v,r))}return y}function ap(e){return void 0!==e}function lb(e,t){return!!(e.flags&(t?8:16))}function ub(e,t=""){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=e+i.Yw1,c=r.firstCreatePass?Va(r,l,1,t,null):r.data[l],m=cb(r,n,c,t,e);n[l]=m,(0,i.SX7)()&&Cc(r,n,m,c),(0,i.iMd)(c,!1)}let cb=(e,t,n,r,l)=>((0,i.m7n)(!0),vc(t[i.GpT],r));function db(e,t){let n=!1,r=(0,i.c$7)();for(let c=1;c<t.length;c+=2)n=In(e,r++,t[c])||n;if((0,i.Kw3)(r),!n)return gn;let l=t[0];for(let c=1;c<t.length;c+=2)l+=(0,i.eFE)(t[c])+(c+1!==t.length?t[c+1]:"");return l}function mb(e,t,n,r=""){return In(e,(0,i.xbp)(),n)?t+(0,i.eFE)(n)+r:gn}function hb(e,t,n,r,l,c=""){const y=Ri(e,(0,i.c$7)(),n,l);return(0,i.b$O)(2),y?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c:gn}function pb(e,t,n,r,l,c,m,y=""){const T=vl(e,(0,i.c$7)(),n,l,m);return(0,i.b$O)(3),T?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y:gn}function fb(e,t,n,r,l,c,m,y,v,T=""){const W=Go(e,(0,i.c$7)(),n,l,m,v);return(0,i.b$O)(4),W?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+T:gn}function yb(e,t,n,r,l,c,m,y,v,T,L,W=""){const ee=(0,i.c$7)();let te=Go(e,ee,n,l,m,v);return te=In(e,ee+4,L)||te,(0,i.b$O)(5),te?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+T+(0,i.eFE)(L)+W:gn}function gb(e,t,n,r,l,c,m,y,v,T,L,W,ee,te=""){const Ae=(0,i.c$7)();let $e=Go(e,Ae,n,l,m,v);return $e=Ri(e,Ae+4,L,ee)||$e,(0,i.b$O)(6),$e?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+T+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te:gn}function vb(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e=""){const vt=(0,i.c$7)();let ht=Go(e,vt,n,l,m,v);return ht=vl(e,vt+4,L,ee,Ae)||ht,(0,i.b$O)(7),ht?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+T+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te+(0,i.eFE)(Ae)+$e:gn}function _b(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e,vt,ht=""){const Je=(0,i.c$7)();let En=Go(e,Je,n,l,m,v);return En=Go(e,Je+4,L,ee,Ae,vt)||En,(0,i.b$O)(8),En?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+T+(0,i.eFE)(L)+W+(0,i.eFE)(ee)+te+(0,i.eFE)(Ae)+$e+(0,i.eFE)(vt)+ht:gn}function Gy(e){return ip("",e),Gy}function ip(e,t,n){const r=(0,i.OAn)(),l=mb(r,e,t,n);return l!==gn&&$i(r,(0,i._px)(),l),ip}function qy(e,t,n,r,l){const c=(0,i.OAn)(),m=hb(c,e,t,n,r,l);return m!==gn&&$i(c,(0,i._px)(),m),qy}function $i(e,t,n){const r=(0,i.vaC)(t,e);am(e[i.GpT],r,n)}function Qy(e,t,n){(0,i.n$r)(t)&&(t=t());const r=(0,i.OAn)();return In(r,(0,i.xbp)(),t)&&((0,i.klJ)(),xc((0,i.CpD)(),r,e,t,r[i.GpT],n)),Qy}function Ab(e,t){const n=(0,i.n$r)(e);return n&&e.set(t),n}function Xy(e,t){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=(0,i.Mx4)();return Uy(r,n,n[i.GpT],l,e,t),Xy}const Mb={};function Yy(e,t,n,r,l){if(e=(0,i.nl4)(e),Array.isArray(e))for(let c=0;c<e.length;c++)Yy(e[c],t,n,r,l);else{const c=(0,i.klJ)(),m=(0,i.OAn)(),y=(0,i.Mx4)();let v=(0,i.Y3W)(e)?e:(0,i.nl4)(e.provide);const T=(0,i.Rc9)(e),L=1048575&y.providerIndexes,W=y.directiveStart,ee=y.providerIndexes>>20;if((0,i.Y3W)(e)||!e.multi){const te=new Kt(T,l,Ds,null),Ae=Zy(v,t,l?L:L+ee,W);-1===Ae?(Kn(Qr(y,m),c,v),Jy(c,e,t.length),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(te),m.push(te)):(n[Ae]=te,m[Ae]=te)}else{const te=Zy(v,t,L+ee,W),Ae=Zy(v,t,L,L+ee),vt=Ae>=0&&n[Ae];if(l&&!vt||!l&&!(te>=0&&n[te])){Kn(Qr(y,m),c,v);const ht=function gk(e,t,n,r,l){const m=new Kt(e,n,Ds,null);return m.multi=[],m.index=t,m.componentProviders=0,xb(m,l,r&&!n),m}(l?yk:fk,n.length,l,r,T);!l&&vt&&(n[Ae].providerFactory=ht),Jy(c,e,t.length,0),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(ht),m.push(ht)}else Jy(c,e,te>-1?te:Ae,xb(n[l?Ae:te],T,!l&&r));!l&&r&&vt&&n[Ae].componentProviders++}}}function Jy(e,t,n,r){const l=(0,i.Y3W)(t),c=(0,i.MME)(t);if(l||c){const v=(c?(0,i.nl4)(t.useClass):t).prototype.ngOnDestroy;if(v){const T=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const L=T.indexOf(n);-1===L?T.push(n,[r,v]):T[L+1].push(r,v)}else T.push(n,v)}}}function xb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Zy(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function fk(e,t,n,r,l){return eg(this.multi,[])}function yk(e,t,n,r,l){const c=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=Br(r,r[i.eDl],this.providerFactory.index,l);m=v.slice(0,y),eg(c,m);for(let T=y;T<v.length;T++)m.push(v[T])}else m=[],eg(c,m);return m}function eg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ib(e,t=[]){return n=>{n.providersResolver=(r,l)=>function pk(e,t,n){const r=(0,i.klJ)();if(r.firstCreatePass){const l=(0,i.JlV)(e);Yy(n,r.data,r.blueprint,l,!0),Yy(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}function sp(e){if("function"==typeof e)return e;const t=(0,i.Bqz)(e);return t.some(i.Jzi)?()=>t.map(i.nl4).map(Rb):t.map(Rb)}function Rb(e){return Jc(e)?e.ngModule:e}function Ob(e,t,n,r,l){return Lb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l)}function Pb(e,t,n,r,l,c){return Fb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c)}function Od(e,t){const n=e[t];return n===gn?void 0:n}function Nb(e,t,n,r,l,c){const m=t+n;return In(e,m,l)?Oa(e,m+1,c?r.call(c,l):r(l)):Od(e,m+1)}function Lb(e,t,n,r,l,c,m){const y=t+n;return Ri(e,y,l,c)?Oa(e,y+2,m?r.call(m,l,c):r(l,c)):Od(e,y+2)}function Fb(e,t,n,r,l,c,m,y){const v=t+n;return vl(e,v,l,c,m)?Oa(e,v+3,y?r.call(y,l,c,m):r(l,c,m)):Od(e,v+3)}function jb(e,t,n,r,l,c,m,y,v){const T=t+n;return Go(e,T,l,c,m,y)?Oa(e,T+4,v?r.call(v,l,c,m,y):r(l,c,m,y)):Od(e,T+4)}function Bb(e,t,n,r,l,c){let m=t+n,y=!1;for(let v=0;v<l.length;v++)In(e,m++,l[v])&&(y=!0);return y?Oa(e,m,r.apply(c,l)):Od(e,m)}function Ub(e,t){const n=(0,i.klJ)();let r;const l=e+i.Yw1;n.firstCreatePass?(r=function Tk(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[l]=r,r.onDestroy&&(n.destroyHooks??=[]).push(l,r.onDestroy)):r=n.data[l];const c=r.factory||(r.factory=(0,i.wGu)(r.type,!0)),y=(0,i.a2B)(Ds);try{const v=Wn(!1),T=c();return Wn(v),(0,i.M_e)(n,(0,i.OAn)(),l,T),T}finally{(0,i.a2B)(y)}}function Vb(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Pd(l,r)?Nb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform(n)}function $b(e,t,n,r){const l=e+i.Yw1,c=(0,i.OAn)(),m=(0,i.Hh6)(c,l);return Pd(c,l)?Lb(c,(0,i.gxQ)(),t,m.transform,n,r,m):m.transform(n,r)}function Pd(e,t){return e[i.eDl].data[t].pure}function Hb(e,t){return uu(e,t)}function lp(e,t,n,r,l){const c=l[i.eDl];if(c!==r.tView)for(let m=i.Yw1;m<c.bindingStartIndex;m++){const y=l[m];if((0,i.A0l)(y)){(0,i.q$2)(y[i.jgP])&&lp(e,t,n,r,y[i.jgP]);for(let v=i.Y20;v<y.length;v++)lp(e,t,n,r,y[v])}else(0,i.q$2)(y)&&lp(e,t,n,r,y)}else!function Bk(e,t,n,r,l){const c=l[i.SKP];let m=l[i.jgP];const y=l[i.f7T],v=l[i.qlT],T=l[i.YEL].get(Wt,null),L=()=>{if(r.encapsulation===pa.ShadowDom){const Ae=m.cloneNode(!1);m.replaceWith(Ae),m=Ae}const W=bc(n),ee=Ys(y,W,c,wc(n),m,v,null,null,null,null,null);(function Uk(e,t,n,r){for(let l=i.Yw1;l<e[i.eDl].bindingStartIndex;l++){const c=e[l];if(((0,i.q$2)(c)||(0,i.A0l)(c))&&c[i.K29]===t){c[i.K29]=n;break}}e[i.EJG]===t&&(e[i.EJG]=n),e[i.Yrj]===t&&(e[i.Yrj]=n),n[i.K29]=t[i.K29],t[i.K29]=null,e[r]=n})(y,l,ee,v.index),Zs(l[i.eDl],l);const te=l[i.M0L].rendererFactory;(function jk(e,t){e.componentReplaced?.(t.id)})(te,r),ee[i.GpT]=te.createRenderer(m,n),hm(l[i.eDl],l),function Vk(e){if(null!==e.projection){for(const t of e.projection)Pr(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(v),Pc(W,ee,c),Gp(W,ee,W.template,c)};null===T?Wb(e,t,L):T.run(()=>Wb(e,t,L))}(e,t,n,r,l)}function Wb(e,t,n){try{n()}catch(r){if(null!==t&&r.message){const c=r.message+(r.stack?"\n"+r.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:c,error:!0})}throw r}}const Is={\u0275\u0275attribute:ky,\u0275\u0275defineComponent:Nh,\u0275\u0275defineDirective:ey,\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275defineNgModule:fd,\u0275\u0275definePipe:ty,\u0275\u0275directiveInject:Ds,\u0275\u0275getInheritedFactory:Do,\u0275\u0275inject:i.KVO,\u0275\u0275injectAttribute:_r,\u0275\u0275invalidFactory:function lh(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:i.dmw,\u0275\u0275templateRefExtractor:Hb,\u0275\u0275resetView:i.Njj,\u0275\u0275HostDirectivesFeature:function Bh(e){const t=n=>{const r=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=ly,n.hostDirectives=r?e.map(Vh):[e]):r?n.hostDirectives.unshift(...e.map(Vh)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:jt,\u0275\u0275ProvidersFeature:Ib,\u0275\u0275CopyDefinitionFeature:function sy(e){let n,t=Lh(e.type);n=(0,i.JlV)(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const l of iy)r[l]=n[l];if((0,i.JlV)(n))for(const l of jh)r[l]=n[l]},\u0275\u0275InheritDefinitionFeature:gd,\u0275\u0275ExternalStylesFeature:function vk(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(l=>l+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:V_,\u0275\u0275namespaceHTML:i.joV,\u0275\u0275namespaceMathML:i.By9,\u0275\u0275namespaceSVG:i.qSk,\u0275\u0275enableBindings:i.cSN,\u0275\u0275disableBindings:i.fuf,\u0275\u0275elementStart:Xh,\u0275\u0275elementEnd:Yh,\u0275\u0275element:xy,\u0275\u0275elementContainerStart:ep,\u0275\u0275elementContainerEnd:Sd,\u0275\u0275domElement:function h_(e,t,n,r){return Jh(e,t,n,r),Zh(),h_},\u0275\u0275domElementStart:Jh,\u0275\u0275domElementEnd:Zh,\u0275\u0275domElementContainer:function y_(e,t,n){return Ry(e,t,n),f_(),y_},\u0275\u0275domElementContainerStart:Ry,\u0275\u0275domElementContainerEnd:f_,\u0275\u0275domTemplate:function I(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),T=(0,i.klJ)();return p(v,T,e,t,n,r,l,(0,i.db4)(T.consts,c),void 0,m,y),I},\u0275\u0275domListener:By,\u0275\u0275elementContainer:function p_(e,t,n){return ep(e,t,n),Sd(),p_},\u0275\u0275pureFunction0:function wk(e,t,n){const r=(0,i.gxQ)()+e,l=(0,i.OAn)();return l[r]===gn?Oa(l,r,n?t.call(n):t()):gl(l,r)},\u0275\u0275pureFunction1:function Ek(e,t,n,r){return Nb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275pureFunction2:Ob,\u0275\u0275pureFunction3:Pb,\u0275\u0275pureFunction4:function kk(e,t,n,r,l,c,m){return jb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c,m)},\u0275\u0275pureFunction5:function Dk(e,t,n,r,l,c,m,y){const v=(0,i.gxQ)()+e,T=(0,i.OAn)(),L=Go(T,v,n,r,l,c);return In(T,v+4,m)||L?Oa(T,v+5,y?t.call(y,n,r,l,c,m):t(n,r,l,c,m)):gl(T,v+5)},\u0275\u0275pureFunction6:function Ck(e,t,n,r,l,c,m,y,v){const T=(0,i.gxQ)()+e,L=(0,i.OAn)(),W=Go(L,T,n,r,l,c);return Ri(L,T+4,m,y)||W?Oa(L,T+6,v?t.call(v,n,r,l,c,m,y):t(n,r,l,c,m,y)):gl(L,T+6)},\u0275\u0275pureFunction7:function Sk(e,t,n,r,l,c,m,y,v,T){const L=(0,i.gxQ)()+e,W=(0,i.OAn)();let ee=Go(W,L,n,r,l,c);return vl(W,L+4,m,y,v)||ee?Oa(W,L+7,T?t.call(T,n,r,l,c,m,y,v):t(n,r,l,c,m,y,v)):gl(W,L+7)},\u0275\u0275pureFunction8:function Ak(e,t,n,r,l,c,m,y,v,T,L){const W=(0,i.gxQ)()+e,ee=(0,i.OAn)(),te=Go(ee,W,n,r,l,c);return Go(ee,W+4,m,y,v,T)||te?Oa(ee,W+8,L?t.call(L,n,r,l,c,m,y,v,T):t(n,r,l,c,m,y,v,T)):gl(ee,W+8)},\u0275\u0275pureFunctionV:function Mk(e,t,n,r){return Bb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275getCurrentView:g_,\u0275\u0275restoreView:i.eBV,\u0275\u0275listener:jy,\u0275\u0275projection:function SE(e,t=0,n,r,l,c){const m=(0,i.OAn)(),y=(0,i.klJ)(),v=r?e+1:null;null!==v&&p(m,y,v,r,l,c,null,n);const T=Va(y,i.Yw1+e,16,null,n||null);null===T.projection&&(T.projection=t),(0,i.Pfq)();const W=!m[i.tcA]||(0,i.KtD)();null===m[i.b5C][i.qlT].projection[T.projection]&&null!==v?function AE(e,t,n){const r=i.Yw1+n,l=t.data[r],c=e[r];fs(c,nl(e,l,void 0,{dehydratedView:null}),0,hs(l,null))}(m,y,v):W&&!Fn(T)&&function Em(e,t,n){el(t[i.GpT],0,t,n,Dc(e,n,t),gm(n.parent||t[i.qlT],n,t))}(y,m,T)},\u0275\u0275syntheticHostProperty:function __(e,t,n){const r=(0,i.OAn)();if(In(r,(0,i.xbp)(),t)){const c=(0,i.klJ)(),m=(0,i.CpD)();Dm(m,r,e,t,Vp((0,i.MT)(c.data),m,r),n)}return __},\u0275\u0275syntheticHostListener:function U_(e,t){const n=(0,i.Mx4)(),r=(0,i.OAn)(),l=(0,i.klJ)();return Uy(l,r,Vp((0,i.MT)(l.data),n,r),n,e,t),U_},\u0275\u0275pipeBind1:Vb,\u0275\u0275pipeBind2:$b,\u0275\u0275pipeBind3:function xk(e,t,n,r,l){const c=e+i.Yw1,m=(0,i.OAn)(),y=(0,i.Hh6)(m,c);return Pd(m,c)?Fb(m,(0,i.gxQ)(),t,y.transform,n,r,l,y):y.transform(n,r,l)},\u0275\u0275pipeBind4:function Ik(e,t,n,r,l,c){const m=e+i.Yw1,y=(0,i.OAn)(),v=(0,i.Hh6)(y,m);return Pd(y,m)?jb(y,(0,i.gxQ)(),t,v.transform,n,r,l,c,v):v.transform(n,r,l,c)},\u0275\u0275pipeBindV:function Rk(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Pd(l,r)?Bb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform.apply(c,n)},\u0275\u0275projectionDef:function CE(e){const t=(0,i.OAn)()[i.b5C][i.qlT];if(!t.projection){const r=t.projection=(0,i.WfI)(e?e.length:1,null),l=r.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?DE(c,e):0;null!==m&&(l[m]?l[m].projectionNext=c:r[m]=c,l[m]=c)}c=c.next}}},\u0275\u0275domProperty:function v_(e,t,n){const r=(0,i.OAn)();return In(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Dm((0,i.CpD)(),r,e,t,r[i.GpT],n)),v_},\u0275\u0275property:My,\u0275\u0275pipe:Ub,\u0275\u0275queryRefresh:W_,\u0275\u0275queryAdvance:function xE(e=1){(0,i.GA0)((0,i.w7Z)()+e)},\u0275\u0275viewQuery:H_,\u0275\u0275viewQuerySignal:function TE(e,t,n,r){xh(e,ud(t,n,r))},\u0275\u0275loadQuery:z_,\u0275\u0275contentQuery:$_,\u0275\u0275contentQuerySignal:function ME(e,t,n,r,l){xh(t,Nu(e,n,r,l))},\u0275\u0275reference:K_,\u0275\u0275classMap:eb,\u0275\u0275styleMap:function HE(e){nb(ab,WE,e,!1)},\u0275\u0275styleProp:Wy,\u0275\u0275classProp:zy,\u0275\u0275advance:cm,\u0275\u0275template:b,\u0275\u0275conditional:function k1(e,t){go("NgControlFlow");const n=(0,i.OAn)(),r=(0,i.xbp)(),l=n[r]!==gn?n[r]:-1,c=-1!==l?Qh(n,i.Yw1+l):void 0;if(In(n,r,e)){const y=(0,z.Ht)(null);try{if(void 0!==c&&jc(c,0),-1!==e){const v=i.Yw1+e,T=Qh(n,v),L=Ay(n[i.eDl],v),W=null;fs(T,nl(n,L,t,{dehydratedView:W}),0,hs(L,W))}}finally{(0,z.Ht)(y)}}else if(void 0!==c){const y=Om(c,0);void 0!==y&&(y[i.SKP]=t)}},\u0275\u0275conditionalCreate:function E1(e,t,n,r,l,c,m,y){go("NgControlFlow");const v=(0,i.OAn)(),T=(0,i.klJ)();return p(v,T,e,t,n,r,l,(0,i.db4)(T.consts,c),256,m,y),Sy},\u0275\u0275conditionalBranchCreate:Sy,\u0275\u0275defer:function Xw(e,t,n,r,l,c,m,y,v,T){const L=(0,i.OAn)(),W=(0,i.klJ)(),ee=e+i.Yw1,te=p(L,W,e,null,0,0),Ae=L[i.YEL];if(W.firstCreatePass){go("NgDefer");const Un={primaryTmplIndex:t,loadingTmplIndex:r??null,placeholderTmplIndex:l??null,errorTmplIndex:c??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:Ye.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:T??0};v?.(W,Un,y,m),function I0(e,t,n){const r=kd(t);e.data[r]=n}(W,ee,Un)}const $e=L[ee];bl($e,te,L);let vt=null,ht=null;if($e[i.qFA]?.length>0){const Un=$e[i.qFA][0].data;ht=Un.di??null,vt=Un.s}const Je=[null,dt.Initial,null,null,null,null,ht,vt,null,null];!function x0(e,t,n){e[kd(t)]=n}(L,ee,Je);let En=null;null!==ht&&(En=Ae.get(Yt),En.add(ht,{lView:L,tNode:te,lContainer:$e}));const Io=()=>{bd(Je),null!==ht&&En?.cleanup([ht])};_a(0,Je,()=>(0,i.DyX)(L,Io)),(0,i.ik5)(L,Io)},\u0275\u0275deferWhen:function Yw(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(ir(0,t,n)&&In(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,y=aa(t,n)[1];!1===c&&y===dt.Initial?Wu(t,n):!0===c&&(y===dt.Initial||y===tt.Placeholder)&&kl(0,t,n)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferOnIdle:function t1(){ir(0,(0,i.OAn)(),(0,i.Mx4)())&&n_(Hh)},\u0275\u0275deferOnImmediate:function o1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(0,e,t)&&(null===_o(e[i.eDl],t).loadingTmplIndex&&Wu(e,t),kl(0,e,t))},\u0275\u0275deferOnTimer:function s1(e){ir(0,(0,i.OAn)(),(0,i.Mx4)())&&n_(Wh(e))},\u0275\u0275deferOnHover:function c1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(Wu(n,r),Hu(n,r,e,t,g,()=>kl(0,n,r),0))},\u0275\u0275deferOnInteraction:function h1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(Wu(n,r),Hu(n,r,e,t,C,()=>kl(0,n,r),0))},\u0275\u0275deferOnViewport:function y1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();ir(0,n,r)&&(Wu(n,r),Hu(n,r,e,t,hy,()=>kl(0,n,r),0))},\u0275\u0275deferPrefetchWhen:function Jw(e){const t=(0,i.OAn)();if(ir(1,t,(0,i.CpD)())&&In(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,m=t[i.eDl],y=(0,i.CpD)(),v=_o(m,y);!0===c&&v.loadingState===Ye.NOT_STARTED&&Cd(v,t,y)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function n1(){ir(1,(0,i.OAn)(),(0,i.Mx4)())&&r_(Hh)},\u0275\u0275deferPrefetchOnImmediate:function a1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();if(!ir(1,e,t))return;const r=_o(e[i.eDl],t);r.loadingState===Ye.NOT_STARTED&&_y(r,e,t)},\u0275\u0275deferPrefetchOnTimer:function l1(e){ir(1,(0,i.OAn)(),(0,i.Mx4)())&&r_(Wh(e))},\u0275\u0275deferPrefetchOnHover:function d1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===Ye.NOT_STARTED&&Hu(n,r,e,t,g,()=>Cd(c,n,r),1)},\u0275\u0275deferPrefetchOnInteraction:function p1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===Ye.NOT_STARTED&&Hu(n,r,e,t,C,()=>Cd(c,n,r),1)},\u0275\u0275deferPrefetchOnViewport:function g1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!ir(1,n,r))return;const c=_o(n[i.eDl],r);c.loadingState===Ye.NOT_STARTED&&Hu(n,r,e,t,hy,()=>Cd(c,n,r),1)},\u0275\u0275deferHydrateWhen:function Zw(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(!ir(2,t,n))return;const r=(0,i.xbp)();if(xs((0,i.klJ)(),n).set(6,null),In(t,r,e)){const m=t[i.YEL],y=(0,z.Ht)(null);try{1==!!e&&Dl(m,aa(t,n)[6])}finally{(0,z.Ht)(y)}}},\u0275\u0275deferHydrateNever:function e1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&xs((0,i.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function r1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&(xs((0,i.klJ)(),t).set(0,null),o_(Hh,e,t))},\u0275\u0275deferHydrateOnImmediate:function i1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&(xs((0,i.klJ)(),t).set(1,null),Dl(e[i.YEL],aa(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function u1(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();ir(2,t,n)&&(xs((0,i.klJ)(),n).set(5,{delay:e}),o_(Wh(e),t,n))},\u0275\u0275deferHydrateOnHover:function m1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&xs((0,i.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function f1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&xs((0,i.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function v1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();ir(2,e,t)&&xs((0,i.klJ)(),t).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function z0(e,t,n,r){const l=e.consts;null!=n&&(t.placeholderBlockConfig=(0,i.db4)(l,n)),null!=r&&(t.loadingBlockConfig=(0,i.db4)(l,r)),null===fy&&(fy=W0)},\u0275\u0275repeater:function x1(e){const t=(0,z.Ht)(null),n=(0,i._px)();try{const r=(0,i.OAn)(),l=r[i.eDl],c=r[n],m=n+1,y=Qh(r,m);if(void 0===c.liveCollection){const T=Ay(l,m);c.liveCollection=new T1(y,r,T)}else c.liveCollection.reset();const v=c.liveCollection;if(function w1(e,t,n){let r,l,c=0,m=e.length-1;if(Array.isArray(t)){let v=t.length-1;for(;c<=m&&c<=v;){const T=e.at(c),L=t[c],W=Dy(c,T,c,L,n);if(0!==W){W<0&&e.updateValue(c,L),c++;continue}const ee=e.at(m),te=t[v],Ae=Dy(m,ee,v,te,n);if(0!==Ae){Ae<0&&e.updateValue(m,te),m--,v--;continue}const $e=n(c,T),vt=n(m,ee),ht=n(c,L);if(Object.is(ht,vt)){const Je=n(v,te);Object.is(Je,$e)?(e.swap(c,m),e.updateValue(m,te),v--,m--):e.move(m,c),e.updateValue(c,L),c++;continue}if(r??=new m_,l??=d_(e,c,m,n),Cy(e,r,c,ht))e.updateValue(c,L),c++,m++;else if(l.has(ht))r.set($e,e.detach(c)),m--;else{const Je=e.create(c,t[c]);e.attach(c,Je),c++,m++}}for(;c<=v;)c_(e,r,n,c,t[c]),c++}else if(null!=t){const v=t[Symbol.iterator]();let T=v.next();for(;!T.done&&c<=m;){const L=e.at(c),W=T.value,ee=Dy(c,L,c,W,n);if(0!==ee)ee<0&&e.updateValue(c,W),c++,T=v.next();else{r??=new m_,l??=d_(e,c,m,n);const te=n(c,W);if(Cy(e,r,c,te))e.updateValue(c,W),c++,m++,T=v.next();else if(l.has(te)){const Ae=n(c,L);r.set(Ae,e.detach(c)),m--}else e.attach(c,e.create(c,W)),c++,m++,T=v.next()}}for(;!T.done;)c_(e,r,n,e.length,T.value),T=v.next()}for(;c<=m;)e.destroy(e.detach(m--));r?.forEach(v=>{e.destroy(v)})}(v,e,c.trackByFn),v.updateIndexes(),c.hasEmptyBlock){const T=(0,i.xbp)(),L=0===v.length;if(In(r,T,L)){const W=n+2,ee=Qh(r,W);if(L){const te=Ay(l,W),Ae=null;fs(ee,nl(r,te,void 0,{dehydratedView:Ae}),0,hs(te,Ae))}else l.firstUpdatePass&&bu(ee),jc(ee,0)}}}finally{(0,z.Ht)(t)}},\u0275\u0275repeaterCreate:function M1(e,t,n,r,l,c,m,y,v,T,L,W,ee){go("NgControlFlow");const te=(0,i.OAn)(),Ae=(0,i.klJ)(),$e=void 0!==v,vt=(0,i.OAn)(),ht=y?m.bind(vt[i.b5C][i.SKP]):m,Je=new A1($e,ht);vt[i.Yw1+e]=Je,p(te,Ae,e+1,t,n,r,l,(0,i.db4)(Ae.consts,c),256),$e&&p(te,Ae,e+2,v,T,L,W,(0,i.db4)(Ae.consts,ee),512)},\u0275\u0275repeaterTrackByIndex:function C1(e){return e},\u0275\u0275repeaterTrackByIdentity:function S1(e,t){return t},\u0275\u0275componentInstance:function _1(){return(0,i.OAn)()[i.b5C][i.SKP]},\u0275\u0275text:ub,\u0275\u0275textInterpolate:Gy,\u0275\u0275textInterpolate1:ip,\u0275\u0275textInterpolate2:qy,\u0275\u0275textInterpolate3:function bb(e,t,n,r,l,c,m){const y=(0,i.OAn)(),v=pb(y,e,t,n,r,l,c,m);return v!==gn&&$i(y,(0,i._px)(),v),bb},\u0275\u0275textInterpolate4:function wb(e,t,n,r,l,c,m,y,v){const T=(0,i.OAn)(),L=fb(T,e,t,n,r,l,c,m,y,v);return L!==gn&&$i(T,(0,i._px)(),L),wb},\u0275\u0275textInterpolate5:function Eb(e,t,n,r,l,c,m,y,v,T,L){const W=(0,i.OAn)(),ee=yb(W,e,t,n,r,l,c,m,y,v,T,L);return ee!==gn&&$i(W,(0,i._px)(),ee),Eb},\u0275\u0275textInterpolate6:function kb(e,t,n,r,l,c,m,y,v,T,L,W,ee){const te=(0,i.OAn)(),Ae=gb(te,e,t,n,r,l,c,m,y,v,T,L,W,ee);return Ae!==gn&&$i(te,(0,i._px)(),Ae),kb},\u0275\u0275textInterpolate7:function Db(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae){const $e=(0,i.OAn)(),vt=vb($e,e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae);return vt!==gn&&$i($e,(0,i._px)(),vt),Db},\u0275\u0275textInterpolate8:function Cb(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e,vt){const ht=(0,i.OAn)(),Je=_b(ht,e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e,vt);return Je!==gn&&$i(ht,(0,i._px)(),Je),Cb},\u0275\u0275textInterpolateV:function Sb(e){const t=(0,i.OAn)(),n=db(t,e);return n!==gn&&$i(t,(0,i._px)(),n),Sb},\u0275\u0275i18n:function bE(e,t,n){F_(e,t,n),j_()},\u0275\u0275i18nAttributes:function wE(e,t){const n=(0,i.klJ)(),r=(0,i.db4)(n.consts,t);!function rE(e,t,n){const l=(0,i.Mx4)().index,c=[];if(e.firstCreatePass&&null===e.data[t]){for(let m=0;m<n.length;m+=2){const y=n[m],v=n[m+1];if(""!==v){if(Q1.test(v))throw new Error(`ICU expressions are not supported in attributes. Message: "${v}".`);Id(c,v,l,y,oE(c),null)}}e.data[t]=c}}(n,e+i.Yw1,r)},\u0275\u0275i18nExp:function B_(e){return function H1(e){e&&(Ad|=1<<Math.min(Md,31)),Md++}(In((0,i.OAn)(),(0,i.xbp)(),e)),B_},\u0275\u0275i18nStart:F_,\u0275\u0275i18nEnd:j_,\u0275\u0275i18nApply:function EE(e){!function W1(e,t,n){if(Md>0){const r=e.data[n];C_(e,t,Array.isArray(r)?r:r.update,(0,i.c$7)()-Md-1,Ad)}Ad=0,Md=0}((0,i.klJ)(),(0,i.OAn)(),e+i.Yw1)},\u0275\u0275i18nPostprocess:function kE(e,t={}){return function _E(e,t={}){let n=e;if(mE.test(e)){const r={},l=[0];n=n.replace(hE,(c,m,y)=>{const v=m||y,T=r[v]||[];if(T.length||(v.split("|").forEach($e=>{const vt=$e.match(vE),ht=vt?parseInt(vt[1],10):0,Je=gE.test($e);T.push([ht,Je,$e])}),r[v]=T),!T.length)throw new Error(`i18n postprocess: unmatched placeholder - ${v}`);const L=l[l.length-1];let W=0;for(let $e=0;$e<T.length;$e++)if(T[$e][0]===L){W=$e;break}const[ee,te,Ae]=T[W];return te?l.pop():L!==ee&&l.push(ee),T.splice(W,1),Ae})}return Object.keys(t).length&&(n=n.replace(pE,(r,l,c,m,y,v)=>t.hasOwnProperty(c)?`${l}${t[c]}${v}`:r),n=n.replace(fE,(r,l)=>t.hasOwnProperty(l)?t[l]:r),n=n.replace(yE,(r,l)=>{if(t.hasOwnProperty(l)){const c=t[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${l}`);return c.shift()}return r})),n}(e,t)},\u0275\u0275resolveWindow:function fp(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function yp(e){return e.ownerDocument},\u0275\u0275resolveBody:function Zd(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function _k(e,t,n){const r=e.\u0275cmp;r.directiveDefs=yd(t,Zf),r.pipeDefs=yd(n,i.oyA)},\u0275\u0275setNgModuleScope:function bk(e,t){return J(()=>{const n=(0,i.WbQ)(e);n.declarations=sp(t.declarations||i.Mlv),n.imports=sp(t.imports||i.Mlv),n.exports=sp(t.exports||i.Mlv),t.bootstrap&&(n.bootstrap=sp(t.bootstrap)),Ii.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:Oh,\u0275\u0275getComponentDepsFactory:function Ok(e,t){return()=>{try{return Ii.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function Pk(e,t){const n=(0,i.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function Tb(e){const t=(0,i.klJ)(),n=(0,i.OAn)(),r=e+i.Yw1,l=Va(t,r,128,null,null);return(0,i.iMd)(l,!1),(0,i.M_e)(t,n,r,Mb),Tb},\u0275\u0275storeLet:function tk(e){go("NgLet");const t=(0,i.klJ)(),n=(0,i.OAn)(),r=(0,i._px)();return(0,i.M_e)(t,n,r,e),e},\u0275\u0275readContextLet:function nk(e){const t=(0,i.VPL)(),n=(0,i.Hh6)(t,i.Yw1+e);if(n===Mb)throw new i.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function rk(e,t){const n=(0,i.klJ)(),r=(0,i.OAn)(),l=r[i.GpT],c="data-ng-source-location";for(const[m,y,v,T]of t){(0,i.XRZ)(n,m+i.Yw1);const W=(0,i.vaC)(m+i.Yw1,r);W.hasAttribute(c)||l.setAttribute(W,c,`${e}@o:${y},l:${v},c:${T}`)}},\u0275\u0275interpolate:function ok(e){return In((0,i.OAn)(),(0,i.xbp)(),e)?(0,i.eFE)(e):gn},\u0275\u0275interpolate1:function ak(e,t,n=""){return mb((0,i.OAn)(),e,t,n)},\u0275\u0275interpolate2:function ik(e,t,n,r,l=""){return hb((0,i.OAn)(),e,t,n,r,l)},\u0275\u0275interpolate3:function sk(e,t,n,r,l,c,m=""){return pb((0,i.OAn)(),e,t,n,r,l,c,m)},\u0275\u0275interpolate4:function lk(e,t,n,r,l,c,m,y,v=""){return fb((0,i.OAn)(),e,t,n,r,l,c,m,y,v)},\u0275\u0275interpolate5:function uk(e,t,n,r,l,c,m,y,v,T,L=""){return yb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,T,L)},\u0275\u0275interpolate6:function ck(e,t,n,r,l,c,m,y,v,T,L,W,ee=""){return gb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,T,L,W,ee)},\u0275\u0275interpolate7:function dk(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae=""){return vb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae)},\u0275\u0275interpolate8:function mk(e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e,vt=""){return _b((0,i.OAn)(),e,t,n,r,l,c,m,y,v,T,L,W,ee,te,Ae,$e,vt)},\u0275\u0275interpolateV:function hk(e){return db((0,i.OAn)(),e)},\u0275\u0275sanitizeHtml:function ln(e){const t=wi();return t?Ba(t.sanitize(ot.HTML,e)||""):Vo(e,"HTML")?Ba(ra(e)):function K(e,t){let n=null;try{R=R||rs(e);let r=t?String(t):"";n=R.getInertBodyElement(r);let l=5,c=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=R.getInertBodyElement(r)}while(r!==c);return Ya((new Ho).sanitizeChildren(we(n)||n))}finally{if(n){const r=we(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(he(),(0,i.eFE)(e))},\u0275\u0275sanitizeStyle:function xr(e){const t=wi();return t?t.sanitize(ot.STYLE,e)||"":Vo(e,"Style")?ra(e):(0,i.eFE)(e)},\u0275\u0275sanitizeResourceUrl:Cn,\u0275\u0275sanitizeScript:function Ta(e){const t=wi();if(t)return Nl(t.sanitize(ot.SCRIPT,e)||"");if(Vo(e,"Script"))return Nl(ra(e));throw new i.buA(905,!1)},\u0275\u0275sanitizeUrl:xn,\u0275\u0275sanitizeUrlOrResourceUrl:Hd,\u0275\u0275trustConstantHtml:function dc(e){return Ya(e[0])},\u0275\u0275trustConstantResourceUrl:function mc(e){return function ac(e){return yi()?.createScriptURL(e)||e}(e[0])},\u0275\u0275validateIframeAttribute:function dv(e,t,n){const r=(0,i.OAn)(),l=(0,i.CpD)(),c=(0,i.d31)(l,r);if(2===l.type&&"iframe"===t.toLowerCase()){const m=c;throw m.src="",m.srcdoc=Ya(""),Xs(r[i.GpT],m),new i.buA(-910,!1)}return e},forwardRef:i.Rfq,resolveForwardRef:i.nl4,\u0275\u0275twoWayProperty:Qy,\u0275\u0275twoWayBindingSet:Ab,\u0275\u0275twoWayListener:Xy,\u0275\u0275replaceMetadata:function Lk(e,t,n,r,l=null,c=null){const m=(0,i.xUg)(e);t.apply(null,[e,n,...r]);const{newDef:y,oldDef:v}=function Fk(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(m,(0,i.xUg)(e));if(e[i.CQl]=y,v.tView){const T=function da(){return kr}().values();for(const L of T)(0,i.EFk)(L)&&null===L[i.f7T]&&lp(l,c,y,v,L)}},\u0275\u0275getReplaceMetadataURL:function Nk(e,t,n){const r=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(r,n).href}};let Xu=null;function $k(e){null!==Xu&&(e.defaultEncapsulation!==Xu.defaultEncapsulation||e.preserveWhitespaces!==Xu.preserveWhitespaces)||(Xu=e)}const Nd=[];function Xb(e){return Jc(e)?e.ngModule:e}const iD=re("NgModule",e=>e,void 0,0,(e,t)=>function Kk(e,t={}){(function Gk(e,t){const r=(0,i.Bqz)(t.declarations||i.Mlv);let l=null;Object.defineProperty(e,i.hmW,{configurable:!0,get:()=>(null===l&&(l=bt().compileNgModule(Is,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,i.Bqz)(t.bootstrap||i.Mlv).map(i.nl4),declarations:r.map(i.nl4),imports:(0,i.Bqz)(t.imports||i.Mlv).map(i.nl4).map(Xb),exports:(0,i.Bqz)(t.exports||i.Mlv).map(i.nl4).map(Xb),schemas:t.schemas?(0,i.Bqz)(t.schemas):null,id:t.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(e,i.zSs,{get:()=>{if(null===c){const y=bt();c=y.compileFactory(Is,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:mr(e),target:y.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let m=null;Object.defineProperty(e,i.ONQ,{get:()=>{if(null===m){const y={name:e.name,type:e,providers:t.providers||i.Mlv,imports:[(t.imports||i.Mlv).map(i.nl4),(t.exports||i.Mlv).map(i.nl4)]};m=bt().compileInjector(Is,`ng:///${e.name}/\u0275inj.js`,y)}return m},configurable:!1})})(e,t),void 0!==t.id&&Oh(e,t.id),function Wk(e,t){Nd.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class sD{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let lD=(()=>{class e{compileModuleSync(n){return new Ph(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=fa((0,i.phH)(n).declarations).reduce((m,y)=>{const v=(0,i.xUg)(y);return v&&m.push(new bh(v)),m},[]);return new sD(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uD=new i.nKC("");let cD=(()=>{class e{zone=(0,i.WQX)(Wt);changeDetectionScheduler=(0,i.WQX)(i.hk6);applicationRef=(0,i.WQX)(Gh);applicationErrorHandler=(0,i.WQX)(i.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const l0=new i.nKC("",{factory:()=>!1});function u0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Wt({...ag(),scheduleInRootZone:n}),[{provide:Wt,useFactory:e},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(cD,{optional:!0});return()=>r.initialize()}},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(dD);return()=>{r.initialize()}}},!0===t?{provide:i.Jy$,useValue:!0}:[],{provide:i.AQb,useValue:n??It},{provide:i.ZTf,useFactory:()=>{const r=(0,i.WQX)(Wt),l=(0,i.WQX)(i.uvJ);let c;return m=>{r.runOutsideAngular(()=>{l.destroyed&&!c?setTimeout(()=>{throw m}):(c??=l.get(i.zcH),c.handleError(m))})}}}]}function ag(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let dD=(()=>{class e{subscription=new X.yU;initialized=!1;zone=(0,i.WQX)(Wt);pendingTasks=(0,i.WQX)(i.rev);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m0=(()=>{class e{applicationErrorHandler=(0,i.WQX)(i.ZTf);appRef=(0,i.WQX)(Gh);taskService=(0,i.WQX)(i.rev);ngZone=(0,i.WQX)(Wt);zonelessEnabled=(0,i.WQX)(i.Evm);tracing=(0,i.WQX)(Dt,{optional:!0});disableScheduling=(0,i.WQX)(i.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new X.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,i.WQX)(i.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const l=this.useMicrotaskScheduler?To:ba;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,To(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h0=new i.nKC("",{providedIn:"root",factory:()=>(0,i.WQX)(h0,{optional:!0,skipSelf:!0})||function mD(){return typeof $localize<"u"&&$localize.locale||Ny}()}),hD=new i.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(it,Ee,V)=>{"use strict";function E(i){return i}V.d(Ee,{D:()=>E})},3794:(it,Ee,V)=>{"use strict";V.d(Ee,{ms:()=>x,lI:()=>X});var E=V(8071);function z(J){return J[J.length-1]}function x(J){return(0,E.T)(z(J))?J.pop():void 0}function X(J){return function i(J){return J&&(0,E.T)(J.schedule)}(z(J))?J.pop():void 0}},4060:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(le){return le&&le.__esModule?le:{default:le}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const i=E(V(3242));Ee.PostgrestClient=i.default;const z=E(V(8666));Ee.PostgrestQueryBuilder=z.default;const x=E(V(3608));Ee.PostgrestFilterBuilder=x.default;const X=E(V(3342));Ee.PostgrestTransformBuilder=X.default;const Z=E(V(5958));Ee.PostgrestBuilder=Z.default;const J=E(V(4659));Ee.PostgrestError=J.default,Ee.default={PostgrestClient:i.default,PostgrestQueryBuilder:z.default,PostgrestFilterBuilder:x.default,PostgrestTransformBuilder:X.default,PostgrestBuilder:Z.default,PostgrestError:J.default}},4242:(it,Ee,V)=>{"use strict";V.d(Ee,{Vh:()=>le,im:()=>Z});var E=V(4412),i=V(2615),z=V(4675),x=V(7473),X=V(3077),Z=function(_e){return _e.Host="host",_e.Client="client",_e}(Z||{}),J=function(_e){return _e.JoinSession="join-session",_e.ElementsUpdate="elements-update",_e.RoundUpdate="round-update",_e.GraveyardUpdate="graveyard-update",_e.CharactersUpdate="characters-update",_e}(J||{});let le=(()=>{class _e{appContext;notificationService;localStorageService;ws=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnecting=!1;role;updatingFromServer=!1;clientId=null;clientIdSubject=new E.t(null);sessionId=0;sessionIdSubject=new E.t(null);clientId$=this.clientIdSubject.asObservable();sessionId$=this.sessionIdSubject.asObservable();constructor(re,ce,de){this.appContext=re,this.notificationService=ce,this.localStorageService=de,this.subscribeAndBroadcast(this.appContext.roundNumber$,J.RoundUpdate,ye=>({roundNumber:ye})),this.subscribeAndBroadcast(this.appContext.creatures$,J.CharactersUpdate,ye=>({characters:ye})),this.subscribeAndBroadcast(this.appContext.elements$,J.ElementsUpdate,ye=>({elements:ye}))}subscribeAndBroadcast(re,ce,de){re.subscribe(ye=>{this.updatingFromServer||this.sendUpdateMessage(ce,{...de(ye),originatingClientId:this.clientId})})}connect(re,ce){this.role=re,null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(1e3,"Switching session or reconnecting"),this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const de=this.getSessionId(),ye={type:J.JoinSession,...null!=de&&{sessionId:de},characters:this.role===Z.Host?this.appContext.getCreatures():[],roundNumber:this.role===Z.Host?this.appContext.getRoundNumber():1,elementStates:this.role===Z.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(ye)),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onerror=de=>{this.isConnected=!1,this.notificationService.emitErrorMessage("Unable to connect to the server. Retrying..."),this.tryReconnect()},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect()},this.ws.onmessage=de=>{const ye=JSON.parse(de.data);if("session-joined"===ye.type)return this.handleSessionJoined(ye);if(ye.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,ye.type){case J.CharactersUpdate:this.appContext.setCreatures(ye.characters);break;case J.GraveyardUpdate:this.appContext.setGraveyard(ye.graveyard);break;case J.RoundUpdate:this.appContext.setRoundNumber(ye.roundNumber);break;case J.ElementsUpdate:this.appContext.setElements(ye.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${ye.type}`)}this.updatingFromServer=!1}}}tryReconnect(){if(!this.reconnecting&&this.getSessionId())if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const re=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role,this.getSessionId()),this.reconnecting=!1},re)}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts.")}sendUpdateMessage(re,ce){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:re,...ce,originatingClientId:this.clientId}))}handleSessionJoined(re){this.clientId=re.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=re.sessionId,this.localStorageService.setSessionId(re.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${re.sessionId}.`)}requestServerState(re){this.sendUpdateMessage("request-latest-state",{sessionId:re})}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId()}static \u0275fac=function(ce){return new(ce||_e)(i.KVO(z.B),i.KVO(x.J),i.KVO(X.s))};static \u0275prov=i.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},4341:(it,Ee,V)=>{"use strict";V.d(Ee,{Zm:()=>ve,me:()=>Fe,YN:()=>Wi,tU:()=>kn,BC:()=>bo,vS:()=>Ht});var E=V(3664),i=V(2615),z=V(3597),x=V(7705),X=V(7303),Z=V(6648),J=V(1985),le=V(3073),_e=V(8750),pe=V(3794),re=V(4360),ce=V(6450),de=V(8496),Oe=V(1413),He=V(6354);let ze=(()=>{class A{_renderer;_elementRef;onChange=w=>{};onTouched=()=>{};constructor(w,U){this._renderer=w,this._elementRef=U}setProperty(w,U){this._renderer.setProperty(this._elementRef.nativeElement,w,U)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:A})}return A})(),Ge=(()=>{class A extends ze{static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,features:[E.Vt3]})}return A})();const We=new i.nKC(""),bt={provide:We,useExisting:(0,i.Rfq)(()=>ve),multi:!0};let ve=(()=>{class A extends Ge{writeValue(w){this.setProperty("checked",w)}static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(U,ne){1&U&&E.bIt("change",function(At){return ne.onChange(At.target.checked)})("blur",function(){return ne.onTouched()})},standalone:!1,features:[E.Jv_([bt]),E.Vt3]})}return A})();const Te={provide:We,useExisting:(0,i.Rfq)(()=>Fe),multi:!0},Ve=new i.nKC("");let Fe=(()=>{class A extends ze{_compositionMode;_composing=!1;constructor(w,U,ne){super(w,U),this._compositionMode=ne,null==this._compositionMode&&(this._compositionMode=!function Ce(){const A=(0,X.rb)()?(0,X.rb)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(Ve,8))};static \u0275dir=E.FsC({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,ne){1&U&&E.bIt("input",function(At){return ne._handleInput(At.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(At){return ne._compositionEnd(At.target.value)})},standalone:!1,features:[E.Jv_([Te]),E.Vt3]})}return A})();const nt=new i.nKC(""),Vt=new i.nKC("");function ae(A){return M=>{const w=M.value?.length??function Mt(A){return null==A?null:Array.isArray(A)||"string"==typeof A?A.length:A instanceof Set?A.size:null}(M.value);return null!==w&&w>A?{maxlength:{requiredLength:A,actualLength:w}}:null}}function be(A){return null}function ge(A){return null!=A}function ke(A){return(0,E.yLl)(A)?(0,Z.H)(A):A}function Le(A){let M={};return A.forEach(w=>{M=null!=w?{...M,...w}:M}),0===Object.keys(M).length?null:M}function ct(A,M){return M.map(w=>w(A))}function Xt(A){return A.map(M=>function at(A){return!A.validate}(M)?M:w=>M.validate(w))}function Be(A){return null!=A?function me(A){if(!A)return null;const M=A.filter(ge);return 0==M.length?null:function(w){return Le(ct(w,M))}}(Xt(A)):null}function pt(A){return null!=A?function Xe(A){if(!A)return null;const M=A.filter(ge);return 0==M.length?null:function(w){return function ye(...A){const M=(0,pe.ms)(A),{args:w,keys:U}=(0,le.D)(A),ne=new J.c(ft=>{const{length:At}=w;if(!At)return void ft.complete();const tr=new Array(At);let yo=At,zr=At;for(let jo=0;jo<At;jo++){let Aa=!1;(0,_e.Tg)(w[jo]).subscribe((0,re._)(ft,C=>{Aa||(Aa=!0,zr--),tr[jo]=C},()=>yo--,void 0,()=>{(!yo||!Aa)&&(zr||ft.next(U?(0,de.e)(U,tr):tr),ft.complete())}))}});return M?ne.pipe((0,ce.I)(M)):ne}(ct(w,M).map(ke)).pipe((0,He.T)(Le))}}(Xt(A)):null}function Ue(A,M){return null===A?[M]:Array.isArray(A)?[...A,M]:[A,M]}function un(A){return A?Array.isArray(A)?A:[A]:[]}function Kt(A,M){return Array.isArray(A)?A.includes(M):A===M}function Gr(A,M){const w=un(M);return un(A).forEach(ne=>{Kt(w,ne)||w.push(ne)}),w}function Pr(A,M){return un(M).filter(w=>!Kt(A,w))}class Hn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Be(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,w){return!!this.control&&this.control.hasError(M,w)}getError(M,w){return this.control?this.control.getError(M,w):null}}class cn extends Hn{name;get formDirective(){return null}get path(){return null}}class Bt extends Hn{_parent=null;name=null;valueAccessor=null}class Nr{_cd;constructor(M){this._cd=M}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let bo=(()=>{class A extends Nr{constructor(w){super(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(Bt,2))};static \u0275dir=E.FsC({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,ne){2&U&&E.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},standalone:!1,features:[E.Vt3]})}return A})();const Kn="VALID",Xr="INVALID",jr="PENDING",Gn="DISABLED";class Sn{}class ao extends Sn{value;source;constructor(M,w){super(),this.value=M,this.source=w}}class wa extends Sn{pristine;source;constructor(M,w){super(),this.pristine=M,this.source=w}}class ur extends Sn{touched;source;constructor(M,w){super(),this.touched=M,this.source=w}}class Yr extends Sn{status;source;constructor(M,w){super(),this.status=M,this.source=w}}function Jt(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}class Ur{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(M,w){this._assignValidators(M),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,z.O8)(this.statusReactive)}set status(M){(0,z.O8)(()=>this.statusReactive.set(M))}_status=(0,z.EW)(()=>this.statusReactive());statusReactive=(0,i.vPA)(void 0);get valid(){return this.status===Kn}get invalid(){return this.status===Xr}get pending(){return this.status==jr}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}errors;get pristine(){return(0,z.O8)(this.pristineReactive)}set pristine(M){(0,z.O8)(()=>this.pristineReactive.set(M))}_pristine=(0,z.EW)(()=>this.pristineReactive());pristineReactive=(0,i.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,z.O8)(this.touchedReactive)}set touched(M){(0,z.O8)(()=>this.touchedReactive.set(M))}_touched=(0,z.EW)(()=>this.touchedReactive());touchedReactive=(0,i.vPA)(!1);get untouched(){return!this.touched}_events=new Oe.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Gr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Gr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Pr(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Pr(M,this._rawAsyncValidators))}hasValidator(M){return Kt(this._rawValidators,M)}hasAsyncValidator(M){return Kt(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){const w=!1===this.touched;this.touched=!0;const U=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:U}),w&&!1!==M.emitEvent&&this._events.next(new ur(!0,U))}markAllAsDirty(M={}){this.markAsDirty({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsDirty(M))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsTouched(M))}markAsUntouched(M={}){const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const U=M.sourceControl??this;this._forEachChild(ne=>{ne.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:U})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,U),w&&!1!==M.emitEvent&&this._events.next(new ur(!1,U))}markAsDirty(M={}){const w=!0===this.pristine;this.pristine=!1;const U=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:U}),w&&!1!==M.emitEvent&&this._events.next(new wa(!1,U))}markAsPristine(M={}){const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const U=M.sourceControl??this;this._forEachChild(ne=>{ne.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,U),w&&!1!==M.emitEvent&&this._events.next(new wa(!0,U))}markAsPending(M={}){this.status=jr;const w=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new Yr(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:w})}disable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(ne=>{ne.disable({...M,onlySelf:!0})}),this._updateValue();const U=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new ao(this.value,U)),this._events.next(new Yr(this.status,U)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:w},this),this._onDisabledChange.forEach(ne=>ne(!0))}enable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=Kn,this._forEachChild(U=>{U.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:w},this),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(M,w){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},w),this._parent._updateTouched({},w))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const U=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kn||this.status===jr)&&this._runAsyncValidator(U,M.emitEvent)}const w=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new ao(this.value,w)),this._events.next(new Yr(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:w})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:Kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,w){if(this.asyncValidator){this.status=jr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==w,shouldHaveEmitted:!1!==M};const U=ke(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(ne=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ne,{emitEvent:w,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const M=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,M}return!1}setErrors(M,w={}){this.errors=M,this._updateControlsErrors(!1!==w.emitEvent,this,w.shouldHaveEmitted)}get(M){let w=M;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((U,ne)=>U&&U._find(ne),this)}getError(M,w){const U=w?this.get(w):this;return U&&U.errors?U.errors[M]:null}hasError(M,w){return!!this.getError(M,w)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,w,U){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||U)&&this._events.next(new Yr(this.status,w)),this._parent&&this._parent._updateControlsErrors(M,w,U)}_initObservables(){this.valueChanges=new E.bkB,this.statusChanges=new E.bkB}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?Xr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jr)?jr:this._anyControlsHaveStatus(Xr)?Xr:Kn}_anyControlsHaveStatus(M){return this._anyControls(w=>w.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,w){const U=!this._anyControlsDirty(),ne=this.pristine!==U;this.pristine=U,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,w),ne&&this._events.next(new wa(this.pristine,w))}_updateTouched(M={},w){this.touched=this._anyControlsTouched(),this._events.next(new ur(this.touched,w)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,w)}_onDisabledChange=[];_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Jt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Ea(A){return Array.isArray(A)?Be(A):A||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function vr(A){return Array.isArray(A)?pt(A):A||null}(this._rawAsyncValidators)}}const mr=new i.nKC("",{providedIn:"root",factory:()=>Nn}),Nn="always";function Po(A,M,w=Nn){(function rr(A,M){const w=function zt(A){return A._rawValidators}(A);null!==M.validator?A.setValidators(Ue(w,M.validator)):"function"==typeof w&&A.setValidators([w]);const U=function kt(A){return A._rawAsyncValidators}(A);null!==M.asyncValidator?A.setAsyncValidators(Ue(U,M.asyncValidator)):"function"==typeof U&&A.setAsyncValidators([U]);const ne=()=>A.updateValueAndValidity();wr(M._rawValidators,ne),wr(M._rawAsyncValidators,ne)})(A,M),M.valueAccessor.writeValue(A.value),(A.disabled||"always"===w)&&M.valueAccessor.setDisabledState?.(A.disabled),function St(A,M){M.valueAccessor.registerOnChange(w=>{A._pendingValue=w,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&Zr(A,M)})}(A,M),function Jn(A,M){const w=(U,ne)=>{M.valueAccessor.writeValue(U),ne&&M.viewToModelUpdate(U)};A.registerOnChange(w),M._registerOnDestroy(()=>{A._unregisterOnChange(w)})}(A,M),function so(A,M){M.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&Zr(A,M),"submit"!==A.updateOn&&A.markAsTouched()})}(A,M),function No(A,M){if(M.valueAccessor.setDisabledState){const w=U=>{M.valueAccessor.setDisabledState(U)};A.registerOnDisabledChange(w),M._registerOnDestroy(()=>{A._unregisterOnDisabledChange(w)})}}(A,M)}function wr(A,M){A.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(M)})}function Zr(A,M){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function Cr(A,M){const w=A.indexOf(M);w>-1&&A.splice(w,1)}function mo(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const da=class extends Ur{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(M=null,w,U){super(function ko(A){return(Jt(A)?A.validators:A)||null}(w),function cr(A,M){return(Jt(M)?M.asyncValidators:A)||null}(U,w)),this._applyFormState(M),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jt(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=mo(M)?M.value:M)}setValue(M,w={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(M,w={}){this.setValue(M,w)}reset(M=this.defaultValue,w={}){this._applyFormState(M),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Cr(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Cr(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){mo(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},Lt={provide:Bt,useExisting:(0,i.Rfq)(()=>Ht)},Pt=Promise.resolve();let Ht=(()=>{class A extends Bt{_changeDetectorRef;callSetDisabledState;control=new da;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new E.bkB;constructor(w,U,ne,ft,At,tr){super(),this._changeDetectorRef=At,this.callSetDisabledState=tr,this._parent=w,this._setValidators(U),this._setAsyncValidators(ne),this.valueAccessor=function Hr(A,M){if(!M)return null;let w,U,ne;return Array.isArray(M),M.forEach(ft=>{ft.constructor===Fe?w=ft:function Qn(A){return Object.getPrototypeOf(A.constructor)===Ge}(ft)?U=ft:ne=ft}),ne||U||w||null}(0,ft)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const U=w.name.previousValue;this.formDirective.removeControl({name:U,path:this._getPath(U)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),function lo(A,M){if(!A.hasOwnProperty("model"))return!1;const w=A.model;return!!w.isFirstChange()||!Object.is(M,w.currentValue)}(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Po(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Pt.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const U=w.isDisabled.currentValue,ne=0!==U&&(0,x.L39)(U);Pt.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?function Jr(A,M){return[...M.path,A]}(w,this._parent):[w]}static \u0275fac=function(U){return new(U||A)(E.rXU(cn,9),E.rXU(nt,10),E.rXU(Vt,10),E.rXU(We,10),E.rXU(x.gRc,8),E.rXU(mr,8))};static \u0275dir=E.FsC({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([Lt]),E.Vt3,E.OA$]})}return A})();let wt=(()=>{class A{_validator=be;_onChange;_enabled;ngOnChanges(w){if(this.inputName in w){const U=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(U),this._validator=this._enabled?this.createValidator(U):be,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}static \u0275fac=function(U){return new(U||A)};static \u0275dir=E.FsC({type:A,features:[E.OA$]})}return A})();const Ka={provide:nt,useExisting:(0,i.Rfq)(()=>kn),multi:!0};let kn=(()=>{class A extends wt{maxlength;inputName="maxlength";normalizeInput=w=>function xe(A){return"number"==typeof A?A:parseInt(A,10)}(w);createValidator=w=>ae(w);static \u0275fac=(()=>{let w;return function(ne){return(w||(w=E.xGo(A)))(ne||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(U,ne){2&U&&E.BMQ("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[E.Jv_([Ka]),E.Vt3]})}return A})(),fo=(()=>{class A{static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({})}return A})(),Wi=(()=>{class A{static withConfig(w){return{ngModule:A,providers:[{provide:mr,useValue:w.callSetDisabledState??Nn}]}}static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({imports:[fo]})}return A})()},4360:(it,Ee,V)=>{"use strict";V.d(Ee,{_:()=>i});var E=V(7707);function i(x,X,Z,J,le){return new z(x,X,Z,J,le)}class z extends E.vU{constructor(X,Z,J,le,_e,pe){super(X),this.onFinalize=_e,this.shouldUnsubscribe=pe,this._next=Z?function(re){try{Z(re)}catch(ce){X.error(ce)}}:super._next,this._error=le?function(re){try{le(re)}catch(ce){X.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(re){X.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4412:(it,Ee,V)=>{"use strict";V.d(Ee,{t:()=>i});var E=V(1413);class i extends E.B{constructor(x){super(),this._value=x}get value(){return this.getValue()}_subscribe(x){const X=super._subscribe(x);return!X.closed&&x.next(this._value),X}getValue(){const{hasError:x,thrownError:X,_value:Z}=this;if(x)throw X;return this._throwIfClosed(),Z}next(x){super.next(this._value=x)}}},4572:(it,Ee,V)=>{"use strict";V.d(Ee,{z:()=>pe});var E=V(1985),i=V(3073),z=V(6648),x=V(3669),X=V(6450),Z=V(3794),J=V(8496),le=V(4360),_e=V(5225);function pe(...de){const ye=(0,Z.lI)(de),Oe=(0,Z.ms)(de),{args:He,keys:ze}=(0,i.D)(de);if(0===He.length)return(0,z.H)([],ye);const Ge=new E.c(function re(de,ye,Oe=x.D){return He=>{ce(ye,()=>{const{length:ze}=de,Ge=new Array(ze);let We=ze,bt=ze;for(let ve=0;ve<ze;ve++)ce(ye,()=>{const Te=(0,z.H)(de[ve],ye);let Ce=!1;Te.subscribe((0,le._)(He,Ve=>{Ge[ve]=Ve,Ce||(Ce=!0,bt--),bt||He.next(Oe(Ge.slice()))},()=>{--We||He.complete()}))},He)},He)}}(He,ye,ze?We=>(0,J.e)(ze,We):x.D));return Oe?Ge.pipe((0,X.I)(Oe)):Ge}function ce(de,ye,Oe){de?(0,_e.N)(Oe,de,ye):ye()}},4659:(it,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});class V extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}Ee.default=V},4675:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>pe});var E=V(467),i=V(8880),z=V(4412),x=V(2615),X=V(130),Z=V(5231),J=V(8147),le=V(7473),_e=V(1948);let pe=(()=>{class re{dataLoader;creatureFactory;logService;notificationService;db;defaultLevel=1;isGroupSelected=!1;selectedCreature=null;addMonsterToggled=!1;shouldShowSetup=!0;creaturesSubject=new z.t([]);creatures$=this.creaturesSubject.asObservable();graveyardSubject=new z.t([]);graveyard$=this.graveyardSubject.asObservable();roundNumberSubject=new z.t(1);roundNumber$=this.roundNumberSubject.asObservable();defaultLevelSubject=new z.t(1);defaultLevel$=this.defaultLevelSubject.asObservable();elementsSubject=new z.t([{type:i.RJ.Fire,state:i.e_.None},{type:i.RJ.Ice,state:i.e_.None},{type:i.RJ.Earth,state:i.e_.None},{type:i.RJ.Air,state:i.e_.None},{type:i.RJ.Light,state:i.e_.None},{type:i.RJ.Dark,state:i.e_.None}]);elements$=this.elementsSubject.asObservable();constructor(de,ye,Oe,He,ze){this.dataLoader=de,this.creatureFactory=ye,this.logService=Oe,this.notificationService=He,this.db=ze,this.addDefaultCharacters(),this.logService.init(this.creatures$)}getRoundNumber(){return this.roundNumberSubject.getValue()}setRoundNumber(de){this.roundNumberSubject.next(de)}getElements(){return this.elementsSubject.getValue()}setElements(de){this.elementsSubject.next([...de])}setElementState(de,ye){const Oe=this.getElements().map(He=>He.type===de?{...He,state:ye}:He);this.setElements(Oe)}getCreatures(){return this.creaturesSubject.value}setCreatures(de){this.creaturesSubject.next(de)}addCreature(de){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(de)])}addCreatures(de){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(de)])}removeCreature(de){this.creaturesSubject.next(this.creaturesSubject.value.filter(ye=>ye.id!==de))}getGraveyard(){return this.graveyardSubject.value}setGraveyard(de){this.graveyardSubject.next(de)}addGraveyard(de){this.graveyardSubject.next([...this.graveyardSubject.value,JSON.parse(JSON.stringify(de))])}removeGraveyard(de){this.graveyardSubject.next(this.graveyardSubject.value.filter(ye=>ye.id!==de))}updateCreatureBaseStat(de,ye,Oe,He){const ze=this.getCreatures(),Ge=this.findCreature(de);"name"===ye&&(Oe=this.creatureFactory.createCreatureName(Ge)),He?ze.filter(bt=>bt.type===Ge.type).forEach(bt=>{this.updateCreatureBaseStat(bt.id,ye,Oe,!1)}):Ge[ye]=Oe,this.creaturesSubject.next([...ze])}toggleCreatureConditions(de,ye){const Oe=this.findCreature(de);if(!Oe)return;const He=Oe.conditions||[];Oe.conditions=He.indexOf(ye)>-1?He.filter(Ge=>Ge!==ye):[...He,ye],this.creaturesSubject.next([...this.getCreatures()])}killCreature(de){const ye=this.findCreature(de);if(!ye)return;if(!ye.aggressive)return void this.notificationService.emitErrorMessage("haha, can't kill me");const Oe=this.creaturesSubject.value.filter(ze=>ze.id!==de);this.creaturesSubject.next(Oe);const He=JSON.parse(JSON.stringify(ye));this.addGraveyard(He),this.notificationService.emitInfoMessage(`${ye.name} has been killed!`)}reviveCreature(de,ye){const Oe=this.getGraveyard?this.getGraveyard():this.graveyardSubject?.value??[],He=Oe.findIndex(ve=>ve.id===de);if(-1===He)return;const ze={...Oe[He]},Ge=[...Oe];Ge.splice(He,1);const We=Number.isFinite(ye)?Number(ye):void 0;ze.hp=Math.max(1,Number(We??ze.hp??1)),ze.aggressive=!0;const bt=[...this.creaturesSubject.value,ze];this.creaturesSubject.next(bt),this.graveyardSubject&&this.graveyardSubject.next(Ge),this.notificationService?.emitInfoMessage?.(`${ze.name} has been revived!`)}findCreature(de){const Oe=this.getCreatures().find(He=>He.id===de);if(!Oe)throw Error("Creature not found");return Oe}addDefaultCharacters(){var de=this;return(0,E.A)(function*(){try{const ye=yield de.db.getCharacter(),Oe=ye.map(We=>Number(We.level)||1),He=Oe.reduce((We,bt)=>We+bt,0)/Oe.length,ze=Math.max(1,Math.round(He/2));de.defaultLevelSubject.next(ze);const Ge=ye.map(({name:We,type:bt,level:ve})=>{const Te=de.dataLoader.getData().characters.find(qe=>qe.name===bt),Ce=Te?.stats?.find(qe=>qe.level===Number(ve)),Ve=Number(Ce?.health)||10;return de.creatureFactory.createCreature({name:We,type:bt,hp:Ve,traits:Te?.traits??[],level:Number(ve)||1,aggressive:!1})});de.addCreatures(Ge)}catch(ye){console.error("addDefaultCharacters failed",ye)}})()}static \u0275fac=function(ye){return new(ye||re)(x.KVO(X.X),x.KVO(Z.Z),x.KVO(J.K),x.KVO(le.J),x.KVO(_e.a))};static \u0275prov=x.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},4761:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>i});const i=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>z});var E=V(3494),i=V(8071);function z(x){return(0,i.T)(x[E.s])}},5196:(it,Ee,V)=>{"use strict";V.d(Ee,{C:()=>z,U:()=>x});var E=V(1635),i=V(8071);function z(X){return(0,E.AQ)(this,arguments,function*(){const J=X.getReader();try{for(;;){const{value:le,done:_e}=yield(0,E.N3)(J.read());if(_e)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(le)}}finally{J.releaseLock()}})}function x(X){return(0,i.T)(X?.getReader)}},5225:(it,Ee,V)=>{"use strict";function E(i,z,x,X=0,Z=!1){const J=z.schedule(function(){x(),Z?i.add(this.schedule(null,X)):this.unsubscribe()},X);if(i.add(J),!Z)return J}V.d(Ee,{N:()=>E})},5231:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>x});var E=V(2615),i=V(130);let z=(()=>{class X{parseInt(J){return parseInt(void 0!==J?String(J):"0")||0}static \u0275fac=function(le){return new(le||X)};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),x=(()=>{class X{dataLoader;stringUtils;creatureIdCounter=0;dataFile;constructor(J,le){this.dataLoader=J,this.stringUtils=le,this.dataFile=this.dataLoader.getData()}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter}createCreature(J){const le=this.findMonsterStats(J);return{id:this.generateCreatureId(),name:J.aggressive?this.createCreatureName(J):J.name,type:J.type,standee:J.standee??"#",level:J.level??1,hp:Math.max(this.stringUtils.parseInt(le?.baseStat?.health??0),this.stringUtils.parseInt(le?.stats[0]?.health??0),this.stringUtils.parseInt(J.hp??0)),attack:Math.max(this.stringUtils.parseInt(le?.baseStat?.attack??0),this.stringUtils.parseInt(le?.stats[0]?.attack??0)),movement:Math.max(this.stringUtils.parseInt(le?.baseStat?.movement??0),this.stringUtils.parseInt(le?.stats[0]?.movement??0)),initiative:J.initiative??0,armor:this.stringUtils.parseInt(le?.stats?.[0]?.actions?.find(pe=>"shield"===pe.type)?.value??le?.stats?.[0]?.baseStat?.actions?.find(pe=>"shield"===pe.type)?.value??0),retaliate:this.getRetaliateStat(le,"value"),retaliateRange:this.getRetaliateStat(le,"range"),aggressive:J.aggressive,boss:le?.boss??!1,flying:le?.flying??!1,isElite:J.isElite??!1,conditions:J.conditions??[],immunities:(le?.stats?.[0]?.immunities??le?.baseStat?.immunities??[]).map(pe=>pe),roundArmor:J.roundArmor??0,roundRetaliate:J.roundRetaliate??0,actions:le?.actions?.filter(pe=>"condition"===pe.type)??le?.baseStat?.actions?.filter(pe=>"condition"===pe.type)??le?.stats?.flatMap(pe=>pe.actions??[]).filter(pe=>"condition"===pe.type)??[],log:J.log??[],traits:J.traits??[]}}createCreatureName(J){let le=`${J.type} ${J.standee??""}`;return J.isElite?`\u2605 ${le}`:le}getRetaliateStat(J,le){const _e=J?.stats?.[0]?.actions?.find(pe=>"retaliate"===pe.type)??J?.baseStat?.actions?.find(pe=>"retaliate"===pe.type);return _e?"value"===le?this.stringUtils.parseInt(_e.value??0):"range"===le?this.stringUtils.parseInt(_e.range??_e.subActions?.find(pe=>"range"===pe.type)?.value??0):0:0}createCreatureList(J){const le=[];return J.forEach(_e=>{le.push(this.createCreature(_e))}),le}findMonsterStats(J){const le=this.dataFile.monsters.find(re=>re.name===J.name||re.name===J.type);if(!le)return;const _e=this.isCreatureElite(J),pe=le.stats.find(re=>(_e?"elite"===re.type:"normal"===re.type||!re.type)&&re.level===J.level);return pe?{...le,stats:[pe]}:void 0}isCreatureElite(J){return"elite"===J.type||"elite"===J.player4||!0===J.isElite}static \u0275fac=function(le){return new(le||X)(E.KVO(i.X),E.KVO(z))};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},5286:(it,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{Headers:()=>X,Request:()=>Z,Response:()=>J,default:()=>x,fetch:()=>z});var i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const z=i.fetch,x=i.fetch.bind(i),X=i.Headers,Z=i.Request,J=i.Response},5334:(it,Ee,V)=>{"use strict";V.d(Ee,{m:()=>z});var E=V(1026),i=V(9270);function z(x){i.f.setTimeout(()=>{const{onUnhandledError:X}=E.$;if(!X)throw x;X(x)})}},5343:(it,Ee,V)=>{"use strict";function E(){}V.d(Ee,{l:()=>E})},5397:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>z});var E=V(4761),i=V(8071);function z(x){return(0,i.T)(x?.[E.l])}},5958:function(it,Ee,V){"use strict";var E=V(9293).default,i=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(Ee,"__esModule",{value:!0});const z=i(V(5286)),x=i(V(4659));Ee.default=class X{constructor(J){var le,_e;this.shouldThrowOnError=!1,this.method=J.method,this.url=J.url,this.headers=new Headers(J.headers),this.schema=J.schema,this.body=J.body,this.shouldThrowOnError=null!==(le=J.shouldThrowOnError)&&void 0!==le&&le,this.signal=J.signal,this.isMaybeSingle=null!==(_e=J.isMaybeSingle)&&void 0!==_e&&_e,this.fetch=J.fetch?J.fetch:typeof fetch>"u"?z.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(J,le){return this.headers=new Headers(this.headers),this.headers.set(J,le),this}then(J,le){var _e=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let re=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ce=E(function*(de){var ye,Oe,He,ze;let Ge=null,We=null,bt=null,ve=de.status,Te=de.statusText;if(de.ok){if("HEAD"!==_e.method){const qe=yield de.text();""===qe||(We="text/csv"===_e.headers.get("Accept")||_e.headers.get("Accept")&&null!==(ye=_e.headers.get("Accept"))&&void 0!==ye&&ye.includes("application/vnd.pgrst.plan+text")?qe:JSON.parse(qe))}const Ve=null===(Oe=_e.headers.get("Prefer"))||void 0===Oe?void 0:Oe.match(/count=(exact|planned|estimated)/),Fe=null===(He=de.headers.get("content-range"))||void 0===He?void 0:He.split("/");Ve&&Fe&&Fe.length>1&&(bt=parseInt(Fe[1])),_e.isMaybeSingle&&"GET"===_e.method&&Array.isArray(We)&&(We.length>1?(Ge={code:"PGRST116",details:`Results contain ${We.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},We=null,bt=null,ve=406,Te="Not Acceptable"):We=1===We.length?We[0]:null)}else{const Ve=yield de.text();try{Ge=JSON.parse(Ve),Array.isArray(Ge)&&404===de.status&&(We=[],Ge=null,ve=200,Te="OK")}catch{404===de.status&&""===Ve?(ve=204,Te="No Content"):Ge={message:Ve}}if(Ge&&_e.isMaybeSingle&&!(null===(ze=Ge?.details)||void 0===ze)&&ze.includes("0 rows")&&(Ge=null,ve=200,Te="OK"),Ge&&_e.shouldThrowOnError)throw new x.default(Ge)}return{error:Ge,data:We,count:bt,status:ve,statusText:Te}});return function(de){return ce.apply(this,arguments)}}());return this.shouldThrowOnError||(re=re.catch(ce=>{var de,ye,Oe;return{error:{message:`${null!==(de=ce?.name)&&void 0!==de?de:"FetchError"}: ${ce?.message}`,details:`${null!==(ye=ce?.stack)&&void 0!==ye?ye:""}`,hint:"",code:`${null!==(Oe=ce?.code)&&void 0!==Oe?Oe:""}`},data:null,count:null,status:0,statusText:""}})),re.then(J,le)}returns(){return this}overrideTypes(){return this}}},5964:(it,Ee,V)=>{"use strict";V.d(Ee,{p:()=>z});var E=V(9974),i=V(4360);function z(x,X){return(0,E.N)((Z,J)=>{let le=0;Z.subscribe((0,i._)(J,_e=>x.call(X,_e,le++)&&J.next(_e)))})}},6354:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>z});var E=V(9974),i=V(4360);function z(x,X){return(0,E.N)((Z,J)=>{let le=0;Z.subscribe((0,i._)(J,_e=>{J.next(x.call(X,_e,le++))}))})}},6365:(it,Ee,V)=>{"use strict";V.d(Ee,{U:()=>z});var E=V(1397),i=V(3669);function z(x=1/0){return(0,E.Z)(i.D,x)}},6450:(it,Ee,V)=>{"use strict";V.d(Ee,{I:()=>x});var E=V(6354);const{isArray:i}=Array;function x(X){return(0,E.T)(Z=>function z(X,Z){return i(Z)?X(...Z):X(Z)}(X,Z))}},6648:(it,Ee,V)=>{"use strict";V.d(Ee,{H:()=>Ve});var E=V(8750),i=V(5225),z=V(9974),x=V(4360);function X(Fe,qe=0){return(0,z.N)((Mt,nt)=>{Mt.subscribe((0,x._)(nt,Vt=>(0,i.N)(nt,Fe,()=>nt.next(Vt),qe),()=>(0,i.N)(nt,Fe,()=>nt.complete(),qe),Vt=>(0,i.N)(nt,Fe,()=>nt.error(Vt),qe)))})}function Z(Fe,qe=0){return(0,z.N)((Mt,nt)=>{nt.add(Fe.schedule(()=>Mt.subscribe(nt),qe))})}var _e=V(1985),re=V(4761),ce=V(8071);function ye(Fe,qe){if(!Fe)throw new Error("Iterable cannot be null");return new _e.c(Mt=>{(0,i.N)(Mt,qe,()=>{const nt=Fe[Symbol.asyncIterator]();(0,i.N)(Mt,qe,()=>{nt.next().then(Vt=>{Vt.done?Mt.complete():Mt.next(Vt.value)})},0,!0)})})}var Oe=V(5055),He=V(9858),ze=V(7441),Ge=V(5397),We=V(7953),bt=V(591),ve=V(5196);function Ve(Fe,qe){return qe?function Ce(Fe,qe){if(null!=Fe){if((0,Oe.l)(Fe))return function J(Fe,qe){return(0,E.Tg)(Fe).pipe(Z(qe),X(qe))}(Fe,qe);if((0,ze.X)(Fe))return function pe(Fe,qe){return new _e.c(Mt=>{let nt=0;return qe.schedule(function(){nt===Fe.length?Mt.complete():(Mt.next(Fe[nt++]),Mt.closed||this.schedule())})})}(Fe,qe);if((0,He.y)(Fe))return function le(Fe,qe){return(0,E.Tg)(Fe).pipe(Z(qe),X(qe))}(Fe,qe);if((0,We.T)(Fe))return ye(Fe,qe);if((0,Ge.x)(Fe))return function de(Fe,qe){return new _e.c(Mt=>{let nt;return(0,i.N)(Mt,qe,()=>{nt=Fe[re.l](),(0,i.N)(Mt,qe,()=>{let Vt,On;try{({value:Vt,done:On}=nt.next())}catch(vn){return void Mt.error(vn)}On?Mt.complete():Mt.next(Vt)},0,!0)}),()=>(0,ce.T)(nt?.return)&&nt.return()})}(Fe,qe);if((0,ve.U)(Fe))return function Te(Fe,qe){return ye((0,ve.C)(Fe),qe)}(Fe,qe)}throw(0,bt.L)(Fe)}(Fe,qe):(0,E.Tg)(Fe)}},6977:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>X});var E=V(9974),i=V(4360),z=V(8750),x=V(5343);function X(Z){return(0,E.N)((J,le)=>{(0,z.Tg)(Z).subscribe((0,i._)(le,()=>le.complete(),x.l)),!le.closed&&J.subscribe(le)})}},7303:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>ce,Vw:()=>J,aZ:()=>He,hb:()=>de,ig:()=>X,kB:()=>ye,om:()=>pe,qj:()=>Z,rb:()=>x});var E=V(2615),i=V(1413);let z=null;function x(){return z}function X(ve){z??=ve}class Z{}let J=(()=>{class ve{historyGo(Ce){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>(0,E.WQX)(_e),providedIn:"platform"})}return ve})(),_e=(()=>{class ve extends J{_location;_history;_doc=(0,E.WQX)(E.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(Ce){const Ve=x().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("popstate",Ce,!1),()=>Ve.removeEventListener("popstate",Ce)}onHashChange(Ce){const Ve=x().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("hashchange",Ce,!1),()=>Ve.removeEventListener("hashchange",Ce)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ce){this._location.pathname=Ce}pushState(Ce,Ve,Fe){this._history.pushState(Ce,Ve,Fe)}replaceState(Ce,Ve,Fe){this._history.replaceState(Ce,Ve,Fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}static \u0275fac=function(Ve){return new(Ve||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>new ve,providedIn:"platform"})}return ve})();function pe(ve,Te){return ve?Te?ve.endsWith("/")?Te.startsWith("/")?ve+Te.slice(1):ve+Te:Te.startsWith("/")?ve+Te:`${ve}/${Te}`:ve:Te}function re(ve){const Te=ve.search(/#|\?|$/);return"/"===ve[Te-1]?ve.slice(0,Te-1)+ve.slice(Te):ve}function ce(ve){return ve&&"?"!==ve[0]?`?${ve}`:ve}let de=(()=>{class ve{historyGo(Ce){throw new Error("")}static \u0275fac=function(Ve){return new(Ve||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>(0,E.WQX)(Oe),providedIn:"root"})}return ve})();const ye=new E.nKC("");let Oe=(()=>{class ve extends de{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Ce,Ve){super(),this._platformLocation=Ce,this._baseHref=Ve??this._platformLocation.getBaseHrefFromDOM()??(0,E.WQX)(E.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return pe(this._baseHref,Ce)}path(Ce=!1){const Ve=this._platformLocation.pathname+ce(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&Ce?`${Ve}${Fe}`:Ve}pushState(Ce,Ve,Fe,qe){const Mt=this.prepareExternalUrl(Fe+ce(qe));this._platformLocation.pushState(Ce,Ve,Mt)}replaceState(Ce,Ve,Fe,qe){const Mt=this.prepareExternalUrl(Fe+ce(qe));this._platformLocation.replaceState(Ce,Ve,Mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){this._platformLocation.historyGo?.(Ce)}static \u0275fac=function(Ve){return new(Ve||ve)(E.KVO(J),E.KVO(ye,8))};static \u0275prov=E.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),He=(()=>{class ve{_subject=new i.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Ce){this._locationStrategy=Ce;const Ve=this._locationStrategy.getBaseHref();this._basePath=function bt(ve){if(new RegExp("^(https?:)?//").test(ve)){const[,Ce]=ve.split(/\/\/[^\/]+/);return Ce}return ve}(re(We(Ve))),this._locationStrategy.onPopState(Fe=>{this._subject.next({url:this.path(!0),pop:!0,state:Fe.state,type:Fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ce=!1){return this.normalize(this._locationStrategy.path(Ce))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ce,Ve=""){return this.path()==this.normalize(Ce+ce(Ve))}normalize(Ce){return ve.stripTrailingSlash(function Ge(ve,Te){if(!ve||!Te.startsWith(ve))return Te;const Ce=Te.substring(ve.length);return""===Ce||["/",";","?","#"].includes(Ce[0])?Ce:Te}(this._basePath,We(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._locationStrategy.prepareExternalUrl(Ce)}go(Ce,Ve="",Fe=null){this._locationStrategy.pushState(Fe,"",Ce,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+ce(Ve)),Fe)}replaceState(Ce,Ve="",Fe=null){this._locationStrategy.replaceState(Fe,"",Ce,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+ce(Ve)),Fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ce=0){this._locationStrategy.historyGo?.(Ce)}onUrlChange(Ce){return this._urlChangeListeners.push(Ce),this._urlChangeSubscription??=this.subscribe(Ve=>{this._notifyUrlChangeListeners(Ve.url,Ve.state)}),()=>{const Ve=this._urlChangeListeners.indexOf(Ce);this._urlChangeListeners.splice(Ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ce="",Ve){this._urlChangeListeners.forEach(Fe=>Fe(Ce,Ve))}subscribe(Ce,Ve,Fe){return this._subject.subscribe({next:Ce,error:Ve??void 0,complete:Fe??void 0})}static normalizeQueryParams=ce;static joinWithSlash=pe;static stripTrailingSlash=re;static \u0275fac=function(Ve){return new(Ve||ve)(E.KVO(de))};static \u0275prov=E.jDH({token:ve,factory:()=>function ze(){return new He((0,E.KVO)(de))}(),providedIn:"root"})}return ve})();function We(ve){return ve.replace(/\/index.html$/,"")}},7441:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>E});const E=i=>i&&"number"==typeof i.length&&"function"!=typeof i},7473:(it,Ee,V)=>{"use strict";V.d(Ee,{J:()=>z});var E=V(1413),i=V(2615);let z=(()=>{class x{messageSubject=new E.B;message$=this.messageSubject.asObservable();emitErrorMessage(Z){this.messageSubject.next({type:"error",message:Z})}emitInfoMessage(Z){this.messageSubject.next({type:"info",message:Z})}static \u0275fac=function(J){return new(J||x)};static \u0275prov=i.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},7705:(it,Ee,V)=>{"use strict";V.d(Ee,{ES_:()=>re,L39:()=>$,MKu:()=>Yr,RxE:()=>Ke,TL3:()=>Jt,_q3:()=>ao,gRc:()=>Wn,hFB:()=>ze,naY:()=>yr});var E=V(2615),i=V(8440),z=V(3664);const x=Symbol("InputSignalNode#UNSET"),X={...i.s0,transformFn:void 0,applyValueToInputSignal(j,D){(0,i.j2)(j,D)}};function J(j,D){const P=Object.create(X);function q(){if((0,i.mK)(P),P.value===x)throw new E.buA(-950,null);return P.value}return P.value=j,P.transformFn=D?.transform,q[i.bh]=P,q}class re{attributeName;constructor(D){this.attributeName=D}__NG_ELEMENT_ID__=()=>(0,z.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function Oe(j,D){return J(j,D)}new E.nKC("").__NG_ELEMENT_ID__=j=>{const D=(0,E.Mx4)();if(null===D)throw new E.buA(204,!1);if(2&D.type)return D.value;if(8&j)return null;throw new E.buA(204,!1)};const ze=(Oe.required=function He(j){return J(x,j)},Oe);class Ke{full;major;minor;patch;constructor(D){this.full=D;const P=D.split(".");this.major=P[0],this.minor=P[1],this.patch=P.slice(2).join(".")}}const Xt=new E.nKC(""),me=new E.nKC("");function Be(j){return!j.moduleRef}let pt,Kt=null;function yr(){return!1}let Wn=(()=>class j{static __NG_ELEMENT_ID__=zn})();function zn(j){return function wo(j,D,P){if((0,E.Qs1)(j)&&!P){const q=(0,E.KdJ)(j.index,D);return new z.NCX(q,q)}return 175&j.type?new z.NCX(D[E.b5C],D):null}((0,E.Mx4)(),(0,E.OAn)(),!(16&~j))}class Gt{constructor(){}supports(D){return(0,z.ozJ)(D)}create(D){return new Qr(D)}}const Fr=(j,D)=>D;class Qr{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(D){this._trackByFn=D||Fr}forEachItem(D){let P;for(P=this._itHead;null!==P;P=P._next)D(P)}forEachOperation(D){let P=this._itHead,q=this._removalsHead,he=0,Se=null;for(;P||q;){const je=!q||P&&P.currentIndex<Kn(q,he,Se)?P:q,xe=Kn(je,he,Se),mt=je.currentIndex;if(je===q)he--,q=q._nextRemoved;else if(P=P._next,null==je.previousIndex)he++;else{Se||(Se=[]);const wt=xe-he,Nt=mt-he;if(wt!=Nt){for(let fn=0;fn<wt;fn++){const Zt=fn<Se.length?Se[fn]:Se[fn]=0,dn=Zt+fn;Nt<=dn&&dn<wt&&(Se[fn]=Zt+1)}Se[je.previousIndex]=Nt-wt}}xe!==mt&&D(je,xe,mt)}}forEachPreviousItem(D){let P;for(P=this._previousItHead;null!==P;P=P._nextPrevious)D(P)}forEachAddedItem(D){let P;for(P=this._additionsHead;null!==P;P=P._nextAdded)D(P)}forEachMovedItem(D){let P;for(P=this._movesHead;null!==P;P=P._nextMoved)D(P)}forEachRemovedItem(D){let P;for(P=this._removalsHead;null!==P;P=P._nextRemoved)D(P)}forEachIdentityChange(D){let P;for(P=this._identityChangesHead;null!==P;P=P._nextIdentityChange)D(P)}diff(D){if(null==D&&(D=[]),!(0,z.ozJ)(D))throw new E.buA(900,!1);return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let he,Se,je,P=this._itHead,q=!1;if(Array.isArray(D)){this.length=D.length;for(let xe=0;xe<this.length;xe++)Se=D[xe],je=this._trackByFn(xe,Se),null!==P&&Object.is(P.trackById,je)?(q&&(P=this._verifyReinsertion(P,Se,je,xe)),Object.is(P.item,Se)||this._addIdentityChange(P,Se)):(P=this._mismatch(P,Se,je,xe),q=!0),P=P._next}else he=0,(0,z.utN)(D,xe=>{je=this._trackByFn(he,xe),null!==P&&Object.is(P.trackById,je)?(q&&(P=this._verifyReinsertion(P,xe,je,he)),Object.is(P.item,xe)||this._addIdentityChange(P,xe)):(P=this._mismatch(P,xe,je,he),q=!0),P=P._next,he++}),this.length=he;return this._truncate(P),this.collection=D,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let D;for(D=this._previousItHead=this._itHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._additionsHead;null!==D;D=D._nextAdded)D.previousIndex=D.currentIndex;for(this._additionsHead=this._additionsTail=null,D=this._movesHead;null!==D;D=D._nextMoved)D.previousIndex=D.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(D,P,q,he){let Se;return null===D?Se=this._itTail:(Se=D._prev,this._remove(D)),null!==(D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null))?(Object.is(D.item,P)||this._addIdentityChange(D,P),this._reinsertAfter(D,Se,he)):null!==(D=null===this._linkedRecords?null:this._linkedRecords.get(q,he))?(Object.is(D.item,P)||this._addIdentityChange(D,P),this._moveAfter(D,Se,he)):D=this._addAfter(new Qo(P,q),Se,he),D}_verifyReinsertion(D,P,q,he){let Se=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null);return null!==Se?D=this._reinsertAfter(Se,D._prev,he):D.currentIndex!=he&&(D.currentIndex=he,this._addToMoves(D,he)),D}_truncate(D){for(;null!==D;){const P=D._next;this._addToRemovals(this._unlink(D)),D=P}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(D,P,q){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(D);const he=D._prevRemoved,Se=D._nextRemoved;return null===he?this._removalsHead=Se:he._nextRemoved=Se,null===Se?this._removalsTail=he:Se._prevRemoved=he,this._insertAfter(D,P,q),this._addToMoves(D,q),D}_moveAfter(D,P,q){return this._unlink(D),this._insertAfter(D,P,q),this._addToMoves(D,q),D}_addAfter(D,P,q){return this._insertAfter(D,P,q),this._additionsTail=null===this._additionsTail?this._additionsHead=D:this._additionsTail._nextAdded=D,D}_insertAfter(D,P,q){const he=null===P?this._itHead:P._next;return D._next=he,D._prev=P,null===he?this._itTail=D:he._prev=D,null===P?this._itHead=D:P._next=D,null===this._linkedRecords&&(this._linkedRecords=new oo),this._linkedRecords.put(D),D.currentIndex=q,D}_remove(D){return this._addToRemovals(this._unlink(D))}_unlink(D){null!==this._linkedRecords&&this._linkedRecords.remove(D);const P=D._prev,q=D._next;return null===P?this._itHead=q:P._next=q,null===q?this._itTail=P:q._prev=P,D}_addToMoves(D,P){return D.previousIndex===P||(this._movesTail=null===this._movesTail?this._movesHead=D:this._movesTail._nextMoved=D),D}_addToRemovals(D){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oo),this._unlinkedRecords.put(D),D.currentIndex=null,D._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=D,D._prevRemoved=null):(D._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=D),D}_addIdentityChange(D,P){return D.item=P,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=D:this._identityChangesTail._nextIdentityChange=D,D}}class Qo{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(D,P){this.item=D,this.trackById=P}}class Xo{_head=null;_tail=null;add(D){null===this._head?(this._head=this._tail=D,D._nextDup=null,D._prevDup=null):(this._tail._nextDup=D,D._prevDup=this._tail,D._nextDup=null,this._tail=D)}get(D,P){let q;for(q=this._head;null!==q;q=q._nextDup)if((null===P||P<=q.currentIndex)&&Object.is(q.trackById,D))return q;return null}remove(D){const P=D._prevDup,q=D._nextDup;return null===P?this._head=q:P._nextDup=q,null===q?this._tail=P:q._prevDup=P,null===this._head}}class oo{map=new Map;put(D){const P=D.trackById;let q=this.map.get(P);q||(q=new Xo,this.map.set(P,q)),q.add(D)}get(D,P){const he=this.map.get(D);return he?he.get(D,P):null}remove(D){const P=D.trackById;return this.map.get(P).remove(D)&&this.map.delete(P),D}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kn(j,D,P){const q=j.previousIndex;if(null===q)return q;let he=0;return P&&q<P.length&&(he=P[q]),q+D+he}class Xr{constructor(){}supports(D){return D instanceof Map||(0,z.vDg)(D)}create(){return new jr}}class jr{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(D){let P;for(P=this._mapHead;null!==P;P=P._next)D(P)}forEachPreviousItem(D){let P;for(P=this._previousMapHead;null!==P;P=P._nextPrevious)D(P)}forEachChangedItem(D){let P;for(P=this._changesHead;null!==P;P=P._nextChanged)D(P)}forEachAddedItem(D){let P;for(P=this._additionsHead;null!==P;P=P._nextAdded)D(P)}forEachRemovedItem(D){let P;for(P=this._removalsHead;null!==P;P=P._nextRemoved)D(P)}diff(D){if(D){if(!(D instanceof Map||(0,z.vDg)(D)))throw new E.buA(900,!1)}else D=new Map;return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let P=this._mapHead;if(this._appendAfter=null,this._forEach(D,(q,he)=>{if(P&&P.key===he)this._maybeAddToChanges(P,q),this._appendAfter=P,P=P._next;else{const Se=this._getOrCreateRecordForKey(he,q);P=this._insertBeforeOrAppend(P,Se)}}),P){P._prev&&(P._prev._next=null),this._removalsHead=P;for(let q=P;null!==q;q=q._nextRemoved)q===this._mapHead&&(this._mapHead=null),this._records.delete(q.key),q._nextRemoved=q._next,q.previousValue=q.currentValue,q.currentValue=null,q._prev=null,q._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(D,P){if(D){const q=D._prev;return P._next=D,P._prev=q,D._prev=P,q&&(q._next=P),D===this._mapHead&&(this._mapHead=P),this._appendAfter=D,D}return this._appendAfter?(this._appendAfter._next=P,P._prev=this._appendAfter):this._mapHead=P,this._appendAfter=P,null}_getOrCreateRecordForKey(D,P){if(this._records.has(D)){const he=this._records.get(D);this._maybeAddToChanges(he,P);const Se=he._prev,je=he._next;return Se&&(Se._next=je),je&&(je._prev=Se),he._next=null,he._prev=null,he}const q=new Gn(D);return this._records.set(D,q),q.currentValue=P,this._addToAdditions(q),q}_reset(){if(this.isDirty){let D;for(this._previousMapHead=this._mapHead,D=this._previousMapHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._changesHead;null!==D;D=D._nextChanged)D.previousValue=D.currentValue;for(D=this._additionsHead;null!=D;D=D._nextAdded)D.previousValue=D.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(D,P){Object.is(P,D.currentValue)||(D.previousValue=D.currentValue,D.currentValue=P,this._addToChanges(D))}_addToAdditions(D){null===this._additionsHead?this._additionsHead=this._additionsTail=D:(this._additionsTail._nextAdded=D,this._additionsTail=D)}_addToChanges(D){null===this._changesHead?this._changesHead=this._changesTail=D:(this._changesTail._nextChanged=D,this._changesTail=D)}_forEach(D,P){D instanceof Map?D.forEach(P):Object.keys(D).forEach(q=>P(D[q],q))}}class Gn{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(D){this.key=D}}function Sn(){return new ao([new Gt])}let ao=(()=>{class j{factories;static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:Sn});constructor(P){this.factories=P}static create(P,q){if(null!=q){const he=q.factories.slice();P=P.concat(he)}return new j(P)}static extend(P){return{provide:j,useFactory:q=>j.create(P,q||Sn()),deps:[[j,new z.kdw,new z.Xx1]]}}find(P){const q=this.factories.find(he=>he.supports(P));if(null!=q)return q;throw new E.buA(901,!1)}}return j})();function ur(){return new Yr([new Xr])}let Yr=(()=>{class j{static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:ur});factories;constructor(P){this.factories=P}static create(P,q){if(q){const he=q.factories.slice();P=P.concat(he)}return new j(P)}static extend(P){return{provide:j,useFactory:q=>j.create(P,q||ur()),deps:[[j,new z.kdw,new z.Xx1]]}}find(P){const q=this.factories.find(he=>he.supports(P));if(q)return q;throw new E.buA(901,!1)}}return j})();function Jt(j){(0,z.Ef8)(8);try{const{rootComponent:D,appProviders:P,platformProviders:q}=j,he=function la(j=[]){if(Kt)return Kt;(0,z.pl0)();const D=function cn(j=[],D){return E.zZn.create({name:D,providers:[{provide:E.GBX,useValue:"platform"},{provide:Xt,useValue:new Set([()=>Kt=null])},...j]})}(j);return Kt=D,(0,z.ypd)(),function Ro(j){const D=j.get(z.PLl,null);(0,E.N4e)(j,()=>{D?.forEach(P=>P())})}(D),D}(q),Se=[(0,z.SdI)({}),{provide:E.hk6,useExisting:z.Ts$},E.gv8,...P||[]];return function Xe(j){const D=Be(j)?j.r3Injector:j.moduleRef.injector,P=D.get(z.SKi);return P.run(()=>{Be(j)?j.r3Injector.resolveInjectorInitializers():j.moduleRef.resolveInjectorInitializers();const q=D.get(E.ZTf);let he;if(P.runOutsideAngular(()=>{he=P.onError.subscribe({next:q})}),Be(j)){const Se=()=>D.destroy(),je=j.platformInjector.get(Xt);je.add(Se),D.onDestroy(()=>{he.unsubscribe(),je.delete(Se)})}else{const Se=()=>j.moduleRef.destroy(),je=j.platformInjector.get(Xt);je.add(Se),j.moduleRef.onDestroy(()=>{(0,z.TFI)(j.allPlatformModules,j.moduleRef),he.unsubscribe(),je.delete(Se)})}return function kt(j,D,P){try{const q=P();return(0,z.yLl)(q)?q.catch(he=>{throw D.runOutsideAngular(()=>j(he)),he}):q}catch(q){throw D.runOutsideAngular(()=>j(q)),q}}(q,P,()=>{const Se=D.get(E.rev),je=Se.add(),xe=D.get(z.H1s);return xe.runInitializers(),xe.donePromise.then(()=>{const mt=D.get(z.xe9,z.DkB);if((0,z.e6s)(mt||z.DkB),!D.get(me,!0))return Be(j)?D.get(z.o8S):(j.allPlatformModules.push(j.moduleRef),j.moduleRef);if(Be(j)){const Nt=D.get(z.o8S);return void 0!==j.rootComponent&&Nt.bootstrap(j.rootComponent),Nt}return pt?.(j.moduleRef,j.allPlatformModules),j.moduleRef}).finally(()=>{Se.remove(je)})})})}({r3Injector:new z.bH1({providers:Se,parent:he,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:he,rootComponent:D})}catch(D){return Promise.reject(D)}finally{(0,z.Ef8)(9)}}function $(j){return"boolean"==typeof j?j:null!=j&&"false"!==j}},7707:(it,Ee,V)=>{"use strict";V.d(Ee,{Ms:()=>He,vU:()=>ce});var E=V(8071),i=V(8359),z=V(1026),x=V(5334),X=V(5343);const Z=_e("C",void 0,void 0);function _e(ve,Te,Ce){return{kind:ve,value:Te,error:Ce}}var pe=V(9270),re=V(9786);class ce extends i.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,i.Uv)(Te)&&Te.add(this)):this.destination=bt}static create(Te,Ce,Ve){return new He(Te,Ce,Ve)}next(Te){this.isStopped?We(function le(ve){return _e("N",ve,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?We(function J(ve){return _e("E",void 0,ve)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?We(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const de=Function.prototype.bind;function ye(ve,Te){return de.call(ve,Te)}class Oe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Te)}catch(Ve){ze(Ve)}}error(Te){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Te)}catch(Ve){ze(Ve)}else ze(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ce){ze(Ce)}}}class He extends ce{constructor(Te,Ce,Ve){let Fe;if(super(),(0,E.T)(Te)||!Te)Fe={next:Te??void 0,error:Ce??void 0,complete:Ve??void 0};else{let qe;this&&z.$.useDeprecatedNextContext?(qe=Object.create(Te),qe.unsubscribe=()=>this.unsubscribe(),Fe={next:Te.next&&ye(Te.next,qe),error:Te.error&&ye(Te.error,qe),complete:Te.complete&&ye(Te.complete,qe)}):Fe=Te}this.destination=new Oe(Fe)}}function ze(ve){z.$.useDeprecatedSynchronousErrorHandling?(0,re.l)(ve):(0,x.m)(ve)}function We(ve,Te){const{onStoppedNotification:Ce}=z.$;Ce&&pe.f.setTimeout(()=>Ce(ve,Te))}const bt={closed:!0,next:X.l,error:function Ge(ve){throw ve},complete:X.l}},7908:(it,Ee,V)=>{"use strict";function E(i,z){if(i){const x=i.indexOf(z);0<=x&&i.splice(x,1)}}V.d(Ee,{o:()=>E})},7953:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>i});var E=V(8071);function i(z){return Symbol.asyncIterator&&(0,E.T)(z?.[Symbol.asyncIterator])}},8071:(it,Ee,V)=>{"use strict";function E(i){return"function"==typeof i}V.d(Ee,{T:()=>E})},8147:(it,Ee,V)=>{"use strict";V.d(Ee,{K:()=>_e});var E=V(4412),i=V(6354),z=V(9974),x=V(4360),Z=V(5964),J=V(2615);const le=["name","standee","level","initiative","hp","aggressive","armor","roundArmor","retaliate","roundRetaliate","conditions"];let _e=(()=>{class pe{logsSubject=new E.t([]);logs$=this.logsSubject.asObservable();init(ce){ce.pipe((0,i.T)(ye=>(ye??[]).map(Oe=>{const He={id:Oe.id,type:Oe.type};for(const ze of le)He[ze]=Oe[ze];return He}))).pipe(function X(){return(0,z.N)((pe,re)=>{let ce,de=!1;pe.subscribe((0,x._)(re,ye=>{const Oe=ce;ce=ye,de&&re.next([Oe,ye]),de=!0}))})}(),(0,i.T)(([ye,Oe])=>this.diff(ye,Oe)),(0,Z.p)(ye=>ye.length>0)).subscribe(ye=>{this.logsSubject.next([...ye,...this.logsSubject.value])})}characterOptions$=this.logs$.pipe((0,i.T)(ce=>{const de=new Map;for(const ye of ce)ye.creatureId&&!de.has(ye.creatureId)&&de.set(ye.creatureId,ye.creature);return Array.from(de.entries()).map(([ye,Oe])=>({value:ye,text:Oe}))}));getLastAliveHpBefore(ce,de){const ye=this.logsSubject.value,Oe=ye.findIndex(He=>He.id===ce);if(-1!==Oe)for(let He=Oe+1;He<ye.length;He++){const ze=ye[He];if(ze.creatureId===de&&"hp"===ze.stat){const Ge="number"==typeof ze.value?ze.value:void 0;if(void 0!==Ge&&Ge>0)return Ge}}}getLastPositiveHp(ce){const de=this.logsSubject.value;for(const ye of de)if(ye.creatureId===ce&&"hp"===ye.stat){const Oe="number"==typeof ye.value?ye.value:void 0;if(void 0!==Oe&&Oe>0)return Oe}}diff(ce,de){const ye=new Map((ce??[]).map(ze=>[ze.id,ze])),Oe=new Map((de??[]).map(ze=>[ze.id,ze])),He=[];for(const[ze,Ge]of Oe){const We=ye.get(ze);if(We)for(const bt of le){const ve=We[bt],Te=Ge[bt];Object.is(ve,Te)||He.push(this.entry(ze,Ge.name??"(unknown)",String(bt),Te,ve))}else He.push(this.entry(ze,Ge.name??"(unknown)","created",this.pretty(Ge),null,{new:this.snap(Ge)}))}for(const[ze,Ge]of ye)Oe.has(ze)||He.push(this.entry(ze,`${Ge.name??"(unknown)"} (killed)`,"killed",null,this.pretty(Ge),{old:this.snap(Ge)}));return He}pretty(ce){return`hp=${ce.hp}, lvl=${ce.level}`}entry(ce,de,ye,Oe,He,ze){return{id:this.randId(),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),creatureId:ce,creature:de,stat:ye,value:Oe,oldValue:He,data:ze}}snap(ce){return{name:ce.name,type:ce.type,standee:ce.standee,level:ce.level,hp:ce.hp,aggressive:ce?.aggressive}}randId(){return Math.random().toString(36).slice(2,10)}static \u0275fac=function(de){return new(de||pe)};static \u0275prov=J.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},8359:(it,Ee,V)=>{"use strict";V.d(Ee,{Kn:()=>Z,yU:()=>X,Uv:()=>J});var E=V(8071);const z=(0,V(1853).L)(_e=>function(re){_e(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((ce,de)=>`${de+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var x=V(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const ye of re)ye.remove(this);else re.remove(this);const{initialTeardown:ce}=this;if((0,E.T)(ce))try{ce()}catch(ye){pe=ye instanceof z?ye.errors:[ye]}const{_finalizers:de}=this;if(de){this._finalizers=null;for(const ye of de)try{le(ye)}catch(Oe){pe=pe??[],Oe instanceof z?pe=[...pe,...Oe.errors]:pe.push(Oe)}}if(pe)throw new z(pe)}}add(pe){var re;if(pe&&pe!==this)if(this.closed)le(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(pe)}}_hasParent(pe){const{_parentage:re}=this;return re===pe||Array.isArray(re)&&re.includes(pe)}_addParent(pe){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(pe),re):re?[re,pe]:pe}_removeParent(pe){const{_parentage:re}=this;re===pe?this._parentage=null:Array.isArray(re)&&(0,x.o)(re,pe)}remove(pe){const{_finalizers:re}=this;re&&(0,x.o)(re,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const _e=new X;return _e.closed=!0,_e})();const Z=X.EMPTY;function J(_e){return _e instanceof X||_e&&"closed"in _e&&(0,E.T)(_e.remove)&&(0,E.T)(_e.add)&&(0,E.T)(_e.unsubscribe)}function le(_e){(0,E.T)(_e)?_e():_e.unsubscribe()}},8440:(it,Ee,V)=>{"use strict";function E(me,Be){return Object.is(me,Be)}V.d(Ee,{Ag:()=>On,Bg:()=>We,EF:()=>_n,H8:()=>E,Ht:()=>J,JC:()=>ye,KE:()=>_e,KO:()=>Ke,KZ:()=>Vt,Ny:()=>vn,TO:()=>Ge,Wu:()=>bt,XR:()=>Te,a7:()=>qe,bh:()=>Z,j2:()=>ke,mC:()=>Le,mK:()=>ce,n5:()=>se,nR:()=>le,pL:()=>re,s0:()=>at,si:()=>ve});let i=null,z=!1,x=1,X=null;const Z=Symbol("SIGNAL");function J(me){const Be=i;return i=me,Be}function le(){return i}function _e(){return z}const re={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(me){if(z)throw new Error("");if(null===i)return;i.consumerOnSignalRead(me);const Be=i.producersTail;if(void 0!==Be&&Be.producer===me)return;let Xe;const pt=i.recomputing;if(pt&&(Xe=void 0!==Be?Be.nextProducer:i.producers,void 0!==Xe&&Xe.producer===me))return i.producersTail=Xe,void(Xe.lastReadVersion=me.version);const Ue=me.consumersTail;if(void 0!==Ue&&Ue.consumer===i&&(!pt||function nt(me,Be){const Xe=Be.producersTail;if(void 0!==Xe){let pt=Be.producers;do{if(pt===me)return!0;if(pt===Xe)break;pt=pt.nextProducer}while(void 0!==pt)}return!1}(Ue,i)))return;const zt=Fe(i),kt={producer:me,consumer:i,nextProducer:Xe,prevConsumer:Ue,lastReadVersion:me.version,nextConsumer:void 0};i.producersTail=kt,void 0!==Be?Be.nextProducer=kt:i.producers=kt,zt&&Ce(me,kt)}function ye(me){if((!Fe(me)||me.dirty)&&(me.dirty||me.lastCleanEpoch!==x)){if(!me.producerMustRecompute(me)&&!ve(me))return void Ge(me);me.producerRecomputeValue(me),Ge(me)}}function Oe(me){if(void 0===me.consumers)return;const Be=z;z=!0;try{for(let Xe=me.consumers;void 0!==Xe;Xe=Xe.nextConsumer){const pt=Xe.consumer;pt.dirty||ze(pt)}}finally{z=Be}}function He(){return!1!==i?.consumerAllowSignalWrites}function ze(me){me.dirty=!0,Oe(me),me.consumerMarkedDirty?.(me)}function Ge(me){me.dirty=!1,me.lastCleanEpoch=x}function We(me){return me&&(me.producersTail=void 0,me.recomputing=!0),J(me)}function bt(me,Be){if(J(Be),!me)return;me.recomputing=!1;const Xe=me.producersTail;let pt=void 0!==Xe?Xe.nextProducer:me.producers;if(void 0!==pt){if(Fe(me))do{pt=Ve(pt)}while(void 0!==pt);void 0!==Xe?Xe.nextProducer=void 0:me.producers=void 0}}function ve(me){for(let Be=me.producers;void 0!==Be;Be=Be.nextProducer){const Xe=Be.producer,pt=Be.lastReadVersion;if(pt!==Xe.version||(ye(Xe),pt!==Xe.version))return!0}return!1}function Te(me){if(Fe(me)){let Be=me.producers;for(;void 0!==Be;)Be=Ve(Be)}me.producers=void 0,me.producersTail=void 0,me.consumers=void 0,me.consumersTail=void 0}function Ce(me,Be){const Xe=me.consumersTail,pt=Fe(me);if(void 0!==Xe?(Be.nextConsumer=Xe.nextConsumer,Xe.nextConsumer=Be):(Be.nextConsumer=void 0,me.consumers=Be),Be.prevConsumer=Xe,me.consumersTail=Be,!pt)for(let Ue=me.producers;void 0!==Ue;Ue=Ue.nextProducer)Ce(Ue.producer,Ue)}function Ve(me){const Be=me.producer,Xe=me.nextProducer,pt=me.nextConsumer,Ue=me.prevConsumer;if(me.nextConsumer=void 0,me.prevConsumer=void 0,void 0!==pt?pt.prevConsumer=Ue:Be.consumersTail=Ue,void 0!==Ue)Ue.nextConsumer=pt;else if(Be.consumers=pt,!Fe(Be)){let zt=Be.producers;for(;void 0!==zt;)zt=Ve(zt)}return Xe}function Fe(me){return me.consumerIsAlwaysLive||void 0!==me.consumers}function qe(me){X?.(me)}function Vt(me,Be){const Xe=Object.create(sr);Xe.computation=me,void 0!==Be&&(Xe.equal=Be);const pt=()=>{if(ye(Xe),ce(Xe),Xe.value===_n)throw Xe.error;return Xe.value};return pt[Z]=Xe,qe(Xe),pt}const On=Symbol("UNSET"),vn=Symbol("COMPUTING"),_n=Symbol("ERRORED"),sr={...re,value:On,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:me=>me.value===On||me.value===vn,producerRecomputeValue(me){if(me.value===vn)throw new Error("");const Be=me.value;me.value=vn;const Xe=We(me);let pt,Ue=!1;try{pt=me.computation(),J(null),Ue=Be!==On&&Be!==_n&&pt!==_n&&me.equal(Be,pt)}catch(zt){pt=_n,me.error=zt}finally{bt(me,Xe)}Ue?me.value=Be:(me.value=pt,me.version++)}};let lr=function jt(){throw new Error};function Re(me){lr(me)}function Ke(me){lr=me}let ae=null;function se(me,Be){const Xe=Object.create(at);Xe.value=me,void 0!==Be&&(Xe.equal=Be);const pt=()=>function ge(me){return ce(me),me.value}(Xe);return pt[Z]=Xe,qe(Xe),[pt,kt=>ke(Xe,kt),kt=>Le(Xe,kt)]}function ke(me,Be){He()||Re(me),me.equal(me.value,Be)||(me.value=Be,function Xt(me){me.version++,function de(){x++}(),Oe(me),ae?.(me)}(me))}function Le(me,Be){He()||Re(me),ke(me,Be(me.value))}const at={...re,equal:E,value:void 0,kind:"signal"}},8496:(it,Ee,V)=>{"use strict";function E(i,z){return i.reduce((x,X,Z)=>(x[X]=z[Z],x),{})}V.d(Ee,{e:()=>E})},8666:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3608));Ee.default=class z{constructor(X,{headers:Z={},schema:J,fetch:le}){this.url=X,this.headers=new Headers(Z),this.schema=J,this.fetch=le}select(X,{head:Z=!1,count:J}={}){const le=Z?"HEAD":"GET";let _e=!1;const pe=(X??"*").split("").map(re=>/\s/.test(re)&&!_e?"":('"'===re&&(_e=!_e),re)).join("");return this.url.searchParams.set("select",pe),J&&this.headers.append("Prefer",`count=${J}`),new i.default({method:le,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(X,{count:Z,defaultToNull:J=!0}={}){var le;if(Z&&this.headers.append("Prefer",`count=${Z}`),J||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const pe=X.reduce((re,ce)=>re.concat(Object.keys(ce)),[]);if(pe.length>0){const re=[...new Set(pe)].map(ce=>`"${ce}"`);this.url.searchParams.set("columns",re.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(le=this.fetch)&&void 0!==le?le:fetch})}upsert(X,{onConflict:Z,ignoreDuplicates:J=!1,count:le,defaultToNull:_e=!0}={}){var pe;if(this.headers.append("Prefer",`resolution=${J?"ignore":"merge"}-duplicates`),void 0!==Z&&this.url.searchParams.set("on_conflict",Z),le&&this.headers.append("Prefer",`count=${le}`),_e||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const ce=X.reduce((de,ye)=>de.concat(Object.keys(ye)),[]);if(ce.length>0){const de=[...new Set(ce)].map(ye=>`"${ye}"`);this.url.searchParams.set("columns",de.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(pe=this.fetch)&&void 0!==pe?pe:fetch})}update(X,{count:Z}={}){var J;return Z&&this.headers.append("Prefer",`count=${Z}`),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(J=this.fetch)&&void 0!==J?J:fetch})}delete({count:X}={}){var Z;return X&&this.headers.append("Prefer",`count=${X}`),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}}},8750:(it,Ee,V)=>{"use strict";V.d(Ee,{Tg:()=>de});var E=V(1635),i=V(7441),z=V(9858),x=V(1985),X=V(5055),Z=V(7953),J=V(591),le=V(5397),_e=V(5196),pe=V(8071),re=V(5334),ce=V(3494);function de(ve){if(ve instanceof x.c)return ve;if(null!=ve){if((0,X.l)(ve))return function ye(ve){return new x.c(Te=>{const Ce=ve[ce.s]();if((0,pe.T)(Ce.subscribe))return Ce.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,i.X)(ve))return function Oe(ve){return new x.c(Te=>{for(let Ce=0;Ce<ve.length&&!Te.closed;Ce++)Te.next(ve[Ce]);Te.complete()})}(ve);if((0,z.y)(ve))return function He(ve){return new x.c(Te=>{ve.then(Ce=>{Te.closed||(Te.next(Ce),Te.complete())},Ce=>Te.error(Ce)).then(null,re.m)})}(ve);if((0,Z.T)(ve))return Ge(ve);if((0,le.x)(ve))return function ze(ve){return new x.c(Te=>{for(const Ce of ve)if(Te.next(Ce),Te.closed)return;Te.complete()})}(ve);if((0,_e.U)(ve))return function We(ve){return Ge((0,_e.C)(ve))}(ve)}throw(0,J.L)(ve)}function Ge(ve){return new x.c(Te=>{(function bt(ve,Te){var Ce,Ve,Fe,qe;return(0,E.sH)(this,void 0,void 0,function*(){try{for(Ce=(0,E.xN)(ve);!(Ve=yield Ce.next()).done;)if(Te.next(Ve.value),Te.closed)return}catch(Mt){Fe={error:Mt}}finally{try{Ve&&!Ve.done&&(qe=Ce.return)&&(yield qe.call(Ce))}finally{if(Fe)throw Fe.error}}Te.complete()})})(ve,Te).catch(Ce=>Te.error(Ce))})}},8793:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>X});var E=V(6365),z=V(3794),x=V(6648);function X(...Z){return function i(){return(0,E.U)(1)}()((0,x.H)(Z,(0,z.lI)(Z)))}},8880:(it,Ee,V)=>{"use strict";V.d(Ee,{Mm:()=>E,RJ:()=>z,e_:()=>i});var E=function(x){return x.poison="poison",x.wound="wound",x.brittle="brittle",x.ward="ward",x.immobilize="immobilize",x.bane="bane",x.muddle="muddle",x.stun="stun",x.impair="impair",x.disarm="disarm",x}(E||{}),i=function(x){return x.None="none",x.Full="full",x.Half="half",x}(i||{}),z=function(x){return x.Fire="fire",x.Ice="ice",x.Earth="earth",x.Air="air",x.Light="light",x.Dark="dark",x}(z||{})},8889:(it,Ee,V)=>{"use strict";var E=V(7303);function i(s,a){a=encodeURIComponent(a);for(const o of s.split(";")){const u=o.indexOf("="),[d,p]=-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)];if(d.trim()===a)return decodeURIComponent(p)}return null}class z{}var x=V(2615),X=V(7705);var fe=V(3664);const wr=new x.nKC("");let No=(()=>{class s{_zone;_plugins;_eventNameToPlugin=new Map;constructor(o,u){this._zone=u,o.forEach(d=>{d.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,u,d,p){return this._findPluginFor(u).addEventListener(o,u,d,p)}getZone(){return this._zone}_findPluginFor(o){let u=this._eventNameToPlugin.get(o);if(u)return u;if(u=this._plugins.find(p=>p.supports(o)),!u)throw new x.buA(5101,!1);return this._eventNameToPlugin.set(o,u),u}static \u0275fac=function(u){return new(u||s)(x.KVO(wr),x.KVO(fe.SKi))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();class rr{_doc;constructor(a){this._doc=a}manager}const Vr="ng-app-id";function St(s){for(const a of s)a.remove()}function so(s,a){const o=a.createElement("style");return o.textContent=s,o}function Jn(s,a){const o=a.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",s),o}let Ln=(()=>{class s{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(o,u,d,p={}){this.doc=o,this.appId=u,this.nonce=d,function Zr(s,a,o,u){const d=s.head?.querySelectorAll(`style[${Vr}="${a}"],link[${Vr}="${a}"]`);if(d)for(const p of d)p.removeAttribute(Vr),p instanceof HTMLLinkElement?u.set(p.href.slice(p.href.lastIndexOf("/")+1),{usage:0,elements:[p]}):p.textContent&&o.set(p.textContent,{usage:0,elements:[p]})}(o,u,this.inline,this.external),this.hosts.add(o.head)}addStyles(o,u){for(const d of o)this.addUsage(d,this.inline,so);u?.forEach(d=>this.addUsage(d,this.external,Jn))}removeStyles(o,u){for(const d of o)this.removeUsage(d,this.inline);u?.forEach(d=>this.removeUsage(d,this.external))}addUsage(o,u,d){const p=u.get(o);p?p.usage++:u.set(o,{usage:1,elements:[...this.hosts].map(b=>this.addElement(b,d(o,this.doc)))})}removeUsage(o,u){const d=u.get(o);d&&(d.usage--,d.usage<=0&&(St(d.elements),u.delete(o)))}ngOnDestroy(){for(const[,{elements:o}]of[...this.inline,...this.external])St(o);this.hosts.clear()}addHost(o){this.hosts.add(o);for(const[u,{elements:d}]of this.inline)d.push(this.addElement(o,so(u,this.doc)));for(const[u,{elements:d}]of this.external)d.push(this.addElement(o,Jn(u,this.doc)))}removeHost(o){this.hosts.delete(o)}addElement(o,u){return this.nonce&&u.setAttribute("nonce",this.nonce),o.appendChild(u)}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL),x.KVO(fe.sZ2),x.KVO(fe.BIS,8),x.KVO(fe.Agw))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const Zn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lo=/%COMP%/g,or=new x.nKC("",{providedIn:"root",factory:()=>!0});function kr(s,a){return a.map(o=>o.replace(Lo,s))}let Dr=(()=>{class s{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(o,u,d,p,b,I,B,Y=null,Me=null){this.eventManager=o,this.sharedStylesHost=u,this.appId=d,this.removeStylesOnCompDestroy=p,this.doc=b,this.platformId=I,this.ngZone=B,this.nonce=Y,this.tracingService=Me,this.platformIsServer=!1,this.defaultRenderer=new ar(o,b,B,this.platformIsServer,this.tracingService)}createRenderer(o,u){if(!o||!u)return this.defaultRenderer;const d=this.getOrCreateRenderer(o,u);return d instanceof Q?d.applyToHost(o):d instanceof S&&d.applyStyles(),d}getOrCreateRenderer(o,u){const d=this.rendererByCompId;let p=d.get(u.id);if(!p){const b=this.doc,I=this.ngZone,B=this.eventManager,Y=this.sharedStylesHost,Me=this.removeStylesOnCompDestroy,Ne=this.platformIsServer,Ye=this.tracingService;switch(u.encapsulation){case fe.gXe.Emulated:p=new Q(B,Y,u,this.appId,Me,b,I,Ne,Ye);break;case fe.gXe.ShadowDom:return new ka(B,Y,o,u,b,I,this.nonce,Ne,Ye);default:p=new S(B,Y,u,Me,b,I,Ne,Ye)}d.set(u.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(o){this.rendererByCompId.delete(o)}static \u0275fac=function(u){return new(u||s)(x.KVO(No),x.KVO(Ln),x.KVO(fe.sZ2),x.KVO(or),x.KVO(x.qQL),x.KVO(fe.Agw),x.KVO(fe.SKi),x.KVO(fe.BIS),x.KVO(fe.a8H,8))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();class ar{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(a,o,u,d,p){this.eventManager=a,this.doc=o,this.ngZone=u,this.platformIsServer=d,this.tracingService=p}destroy(){}destroyNode=null;createElement(a,o){return o?this.doc.createElementNS(Zn[o]||o,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,o){(da(a)?a.content:a).appendChild(o)}insertBefore(a,o,u){a&&(da(a)?a.content:a).insertBefore(o,u)}removeChild(a,o){o.remove()}selectRootElement(a,o){let u="string"==typeof a?this.doc.querySelector(a):a;if(!u)throw new x.buA(-5104,!1);return o||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,o,u,d){if(d){o=d+":"+o;const p=Zn[d];p?a.setAttributeNS(p,o,u):a.setAttribute(o,u)}else a.setAttribute(o,u)}removeAttribute(a,o,u){if(u){const d=Zn[u];d?a.removeAttributeNS(d,o):a.removeAttribute(`${u}:${o}`)}else a.removeAttribute(o)}addClass(a,o){a.classList.add(o)}removeClass(a,o){a.classList.remove(o)}setStyle(a,o,u,d){d&(fe.czy.DashCase|fe.czy.Important)?a.style.setProperty(o,u,d&fe.czy.Important?"important":""):a.style[o]=u}removeStyle(a,o,u){u&fe.czy.DashCase?a.style.removeProperty(o):a.style[o]=""}setProperty(a,o,u){null!=a&&(a[o]=u)}setValue(a,o){a.nodeValue=o}listen(a,o,u,d){if("string"==typeof a&&!(a=(0,E.rb)().getGlobalEventTarget(this.doc,a)))throw new x.buA(5102,!1);let p=this.decoratePreventDefault(u);return this.tracingService?.wrapEventListener&&(p=this.tracingService.wrapEventListener(a,o,p)),this.eventManager.addEventListener(a,o,p,d)}decoratePreventDefault(a){return o=>{if("__ngUnwrap__"===o)return a;!1===a(o)&&o.preventDefault()}}}function da(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class ka extends ar{sharedStylesHost;hostEl;shadowRoot;constructor(a,o,u,d,p,b,I,B,Y){super(a,p,b,B,Y),this.sharedStylesHost=o,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Me=d.styles;Me=kr(d.id,Me);for(const Ye of Me){const lt=document.createElement("style");I&&lt.setAttribute("nonce",I),lt.textContent=Ye,this.shadowRoot.appendChild(lt)}const Ne=d.getExternalStyles?.();if(Ne)for(const Ye of Ne){const lt=Jn(Ye,p);I&&lt.setAttribute("nonce",I),this.shadowRoot.appendChild(lt)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,o){return super.appendChild(this.nodeOrShadowRoot(a),o)}insertBefore(a,o,u){return super.insertBefore(this.nodeOrShadowRoot(a),o,u)}removeChild(a,o){return super.removeChild(null,o)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class S extends ar{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(a,o,u,d,p,b,I,B,Y){super(a,p,b,I,B),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=d;let Me=u.styles;this.styles=Y?kr(Y,Me):Me,this.styleUrls=u.getExternalStyles?.(Y)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Q extends S{contentAttr;hostAttr;constructor(a,o,u,d,p,b,I,B,Y){const Me=d+"-"+u.id;super(a,o,u,p,b,I,B,Y,Me),this.contentAttr=function Hr(s){return"_ngcontent-%COMP%".replace(Lo,s)}(Me),this.hostAttr=function uo(s){return"_nghost-%COMP%".replace(Lo,s)}(Me)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,o){const u=super.createElement(a,o);return super.setAttribute(u,this.contentAttr,""),u}}class F extends E.qj{supportsDOMEvents=!0;static makeCurrent(){(0,E.ig)(new F)}onAndCancel(a,o,u,d){return a.addEventListener(o,u,d),()=>{a.removeEventListener(o,u,d)}}dispatchEvent(a,o){a.dispatchEvent(o)}remove(a){a.remove()}createElement(a,o){return(o=o||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,o){return"window"===o?window:"document"===o?a:"body"===o?a.body:null}getBaseHref(a){const o=function ie(){return $=$||document.head.querySelector("base"),$?$.getAttribute("href"):null}();return null==o?null:function Ie(s){return new URL(s,document.baseURI).pathname}(o)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return i(document.cookie,a)}}let $=null,st=(()=>{class s{build(){return new XMLHttpRequest}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})(),Lt=(()=>{class s extends rr{constructor(o){super(o)}supports(o){return!0}addEventListener(o,u,d,p){return o.addEventListener(u,d,p),()=>this.removeEventListener(o,u,d,p)}removeEventListener(o,u,d,p){return o.removeEventListener(u,d,p)}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const Pt=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let hn=(()=>{class s extends rr{constructor(o){super(o)}supports(o){return null!=s.parseEventName(o)}addEventListener(o,u,d,p){const b=s.parseEventName(u),I=s.eventCallback(b.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.rb)().onAndCancel(o,b.domEventName,I,p))}static parseEventName(o){const u=o.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const p=s._normalizeKey(u.pop());let b="",I=u.indexOf("code");if(I>-1&&(u.splice(I,1),b="code."),Pt.forEach(Y=>{const Me=u.indexOf(Y);Me>-1&&(u.splice(Me,1),b+=Y+".")}),b+=p,0!=u.length||0===p.length)return null;const B={};return B.domEventName=d,B.fullKey=b,B}static matchEventFullKeyCode(o,u){let d=Ht[o.key]||o.key,p="";return u.indexOf("code.")>-1&&(d=o.code,p="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),Pt.forEach(b=>{b!==d&&(0,Ft[b])(o)&&(p+=b+".")}),p+=d,p===u)}static eventCallback(o,u,d){return p=>{s.matchEventFullKeyCode(p,o)&&d.runGuarded(()=>u(p))}}static _normalizeKey(o){return"esc"===o?"escape":o}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();function Vn(s){return{appProviders:[...Ca,...s?.providers??[]],platformProviders:hr}}const hr=[{provide:fe.Agw,useValue:"browser"},{provide:fe.PLl,useValue:function Sr(){F.makeCurrent()},multi:!0},{provide:x.qQL,useFactory:function ho(){return(0,fe._9u)(document),document}}],Ca=[{provide:x.GBX,useValue:"root"},{provide:x.zcH,useFactory:function er(){return new x.zcH}},{provide:wr,useClass:Lt,multi:!0,deps:[x.qQL]},{provide:wr,useClass:hn,multi:!0,deps:[x.qQL]},Dr,Ln,No,{provide:fe._9s,useExisting:Dr},{provide:z,useClass:st},[]];var Yn=V(2200),pr=V(8359),po=V(7473);const So=(s,a)=>({"toast-error":s,"toast-info":a});function ma(s,a){if(1&s){const o=fe.RV6();fe.j41(0,"div",2)(1,"div",3)(2,"strong",4),fe.EFF(3),fe.k0s(),fe.j41(4,"small"),fe.EFF(5),fe.nI1(6,"date"),fe.k0s(),fe.j41(7,"button",5),fe.bIt("click",function(){const d=x.eBV(o).$implicit,p=fe.XpG();return x.Njj(p.removeMessage(d.id))}),fe.EFF(8,"\xd7"),fe.k0s()(),fe.j41(9,"div",6),fe.EFF(10),fe.k0s()()}if(2&s){const o=a.$implicit;fe.Y8G("ngClass",fe.l_i(7,So,"error"===o.type,"info"===o.type)),fe.R7$(3),fe.JRh("error"===o.type?"Error":"Information"),fe.R7$(2),fe.JRh(fe.i5U(6,4,o.timestamp,"HH:mm:ss")),fe.R7$(5),fe.SpI(" ",o.message," ")}}let za=(()=>{class s{notificationService;messages=[];subscription=new pr.yU;messageCounter=0;displayDuration=3500;constructor(o){this.notificationService=o}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(o=>{const u=this.messageCounter++;this.messages.push({id:u,type:o.type,message:o.message,timestamp:new Date}),setTimeout(()=>{this.removeMessage(u)},this.displayDuration)}))}ngOnDestroy(){this.subscription.unsubscribe()}removeMessage(o){const u=this.messages.findIndex(d=>d.id===o);-1!==u&&this.messages.splice(u,1)}static \u0275fac=function(u){return new(u||s)(fe.rXU(po.J))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(u,d){1&u&&(fe.j41(0,"div",0),fe.DNE(1,ma,11,10,"div",1),fe.k0s()),2&u&&(fe.R7$(),fe.Y8G("ngForOf",d.messages))},dependencies:[Yn.MD,Yn.YU,Yn.Sq,Yn.vh],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:var(--base-color-spots);border-left:4px solid #777;color:var(--font-color)}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:var(--font-color)}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]})}return s})();var Sa=V(4341),Ar=V(1985),no=V(8071),nn=V(6648),j=V(3794);function D(...s){const a=(0,j.lI)(s);return(0,nn.H)(s,a)}var P=V(4412);const he=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var Se=V(4572),je=V(8793),xe=V(8750);function mt(s){return new Ar.c(a=>{(0,xe.Tg)(s()).subscribe(a)})}var wt=V(1203);function Nt(s,a){const o=(0,no.T)(s)?s:()=>s,u=d=>d.error(o());return new Ar.c(a?d=>a.schedule(u,0,d):u)}const rt=new Ar.c(s=>s.complete());var dn=V(9974),bn=V(4360);function yn(){return(0,dn.N)((s,a)=>{let o=null;s._refCount++;const u=(0,bn._)(a,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(o=null);const d=s._connection,p=o;o=null,d&&(!p||d===p)&&d.unsubscribe(),a.unsubscribe()});s.subscribe(u),u.closed||(o=s.connect())})}class Tr extends Ar.c{constructor(a,o){super(),this.source=a,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,(0,dn.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new pr.yU;const o=this.getSubject();a.add(this.source.subscribe((0,bn._)(o,void 0,()=>{this._teardown(),o.complete()},u=>{this._teardown(),o.error(u)},()=>this._teardown()))),a.closed&&(this._connection=null,a=pr.yU.EMPTY)}return a}refCount(){return yn()(this)}}var sn=V(1413),Tt=V(6354);function An(s,a){return(0,dn.N)((o,u)=>{let d=null,p=0,b=!1;const I=()=>b&&!d&&u.complete();o.subscribe((0,bn._)(u,B=>{d?.unsubscribe();let Y=0;const Me=p++;(0,xe.Tg)(s(B,Me)).subscribe(d=(0,bn._)(u,Ne=>u.next(a?a(B,Ne,Me,Y++):Ne),()=>{d=null,I()}))},()=>{b=!0,I()}))})}function Mn(s){return s<=0?()=>rt:(0,dn.N)((a,o)=>{let u=0;a.subscribe((0,bn._)(o,d=>{++u<=s&&(o.next(d),s<=u&&o.complete())}))})}var Ka=V(9172),kn=V(5964),$n=V(1397);function Jo(s){return(0,dn.N)((a,o)=>{let u=!1;a.subscribe((0,bn._)(o,d=>{u=!0,o.next(d)},()=>{u||o.next(s),o.complete()}))})}function Zo(s=Hi){return(0,dn.N)((a,o)=>{let u=!1;a.subscribe((0,bn._)(o,d=>{u=!0,o.next(d)},()=>u?o.complete():o.error(s())))})}function Hi(){return new he}var ha=V(3669);function fo(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kn.p)((d,p)=>s(d,p,u)):ha.D,Mn(1),o?Jo(a):Zo(()=>new he))}function Fo(s,a){return(0,no.T)(a)?(0,$n.Z)(s,a,1):(0,$n.Z)(s,1)}function Dn(s,a,o){const u=(0,no.T)(s)||a||o?{next:s,error:a,complete:o}:s;return u?(0,dn.N)((d,p)=>{var b;null===(b=u.subscribe)||void 0===b||b.call(u);let I=!0;d.subscribe((0,bn._)(p,B=>{var Y;null===(Y=u.next)||void 0===Y||Y.call(u,B),p.next(B)},()=>{var B;I=!1,null===(B=u.complete)||void 0===B||B.call(u),p.complete()},B=>{var Y;I=!1,null===(Y=u.error)||void 0===Y||Y.call(u,B),p.error(B)},()=>{var B,Y;I&&(null===(B=u.unsubscribe)||void 0===B||B.call(u)),null===(Y=u.finalize)||void 0===Y||Y.call(u)}))}):ha.D}function ea(s){return(0,dn.N)((a,o)=>{let p,u=null,d=!1;u=a.subscribe((0,bn._)(o,void 0,void 0,b=>{p=(0,xe.Tg)(s(b,ea(s)(a))),u?(u.unsubscribe(),u=null,p.subscribe(o)):d=!0})),d&&(u.unsubscribe(),u=null,p.subscribe(o))})}function ta(s){return s<=0?()=>rt:(0,dn.N)((a,o)=>{let u=[];a.subscribe((0,bn._)(o,d=>{u.push(d),s<u.length&&u.shift()},()=>{for(const d of u)o.next(d);o.complete()},void 0,()=>{u=null}))})}function ci(s){return(0,dn.N)((a,o)=>{try{a.subscribe(o)}finally{o.add(s)}})}var Wi=V(6977);let M=(()=>{class s{_doc;constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ze="primary",Tn=Symbol("RouteTitle");class Yt{params;constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o[0]:o}return null}getAll(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function wn(s){return new Yt(s)}function Fn(s,a,o){const u=o.path.split("/");if(u.length>s.length||"full"===o.pathMatch&&(a.hasChildren()||u.length<s.length))return null;const d={};for(let p=0;p<u.length;p++){const b=u[p],I=s[p];if(":"===b[0])d[b.substring(1)]=I;else if(b!==I.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function rn(s,a){const o=s?Bo(s):void 0,u=a?Bo(a):void 0;if(!o||!u||o.length!=u.length)return!1;let d;for(let p=0;p<o.length;p++)if(d=o[p],!mn(s[d],a[d]))return!1;return!0}function Bo(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function mn(s,a){if(Array.isArray(s)&&Array.isArray(a)){if(s.length!==a.length)return!1;const o=[...s].sort(),u=[...a].sort();return o.every((d,p)=>u[p]===d)}return s===a}function jn(s){return s.length>0?s[s.length-1]:null}function Ao(s){return function Mr(s){return!!s&&(s instanceof Ar.c||(0,no.T)(s.lift)&&(0,no.T)(s.subscribe))}(s)?s:(0,fe.yLl)(s)?(0,nn.H)(Promise.resolve(s)):D(s)}const Yu={exact:function mi(s,a,o){if(!Ga(s.segments,a.segments)||!Ct(s.segments,a.segments,o)||s.numberOfChildren!==a.numberOfChildren)return!1;for(const u in a.children)if(!s.children[u]||!mi(s.children[u],a.children[u],o))return!1;return!0},subset:Ps},di={exact:function Ju(s,a){return rn(s,a)},subset:function Tl(s,a){return Object.keys(a).length<=Object.keys(s).length&&Object.keys(a).every(o=>mn(s[o],a[o]))},ignored:()=>!0};function Os(s,a,o){return Yu[o.paths](s.root,a.root,o.matrixParams)&&di[o.queryParams](s.queryParams,a.queryParams)&&!("exact"===o.fragment&&s.fragment!==a.fragment)}function Ps(s,a,o){return xl(s,a,a.segments,o)}function xl(s,a,o,u){if(s.segments.length>o.length){const d=s.segments.slice(0,o.length);return!(!Ga(d,o)||a.hasChildren()||!Ct(d,o,u))}if(s.segments.length===o.length){if(!Ga(s.segments,o)||!Ct(s.segments,o,u))return!1;for(const d in a.children)if(!s.children[d]||!Ps(s.children[d],a.children[d],u))return!1;return!0}{const d=o.slice(0,s.segments.length),p=o.slice(s.segments.length);return!!(Ga(s.segments,d)&&Ct(s.segments,d,u)&&s.children[Ze])&&xl(s.children[Ze],a,p,u)}}function Ct(s,a,o){return a.every((u,d)=>di[o](s[d].parameters,u.parameters))}class Uo{root;queryParams;fragment;_queryParamMap;constructor(a=new en([],{}),o={},u=null){this.root=a,this.queryParams=o,this.fragment=u}get queryParamMap(){return this._queryParamMap??=wn(this.queryParams),this._queryParamMap}toString(){return Ki.serialize(this)}}class en{segments;children;parent=null;constructor(a,o){this.segments=a,this.children=o,Object.values(o).forEach(u=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qa(this)}}class Fa{path;parameters;_parameterMap;constructor(a,o){this.path=a,this.parameters=o}get parameterMap(){return this._parameterMap??=wn(this.parameters),this._parameterMap}toString(){return Qi(this)}}function Ga(s,a){return s.length===a.length&&s.every((o,u)=>o.path===a[u].path)}let Ma=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:()=>new zi,providedIn:"root"})}return s})();class zi{parse(a){const o=new oc(a);return new Uo(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(a){const o=`/${hi(a.root,!0)}`,u=function Xi(s){const a=Object.entries(s).map(([o,u])=>Array.isArray(u)?u.map(d=>`${Ns(o)}=${Ns(d)}`).join("&"):`${Ns(o)}=${Ns(u)}`).filter(o=>o);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${o}${u}${"string"==typeof a.fragment?`#${function Gi(s){return encodeURI(s)}(a.fragment)}`:""}`}}const Ki=new zi;function qa(s){return s.segments.map(a=>Qi(a)).join("/")}function hi(s,a){if(!s.hasChildren())return qa(s);if(a){const o=s.children[Ze]?hi(s.children[Ze],!1):"",u=[];return Object.entries(s.children).forEach(([d,p])=>{d!==Ze&&u.push(`${d}:${hi(p,!1)}`)}),u.length>0?`${o}(${u.join("//")})`:o}{const o=function Fd(s,a){let o=[];return Object.entries(s.children).forEach(([u,d])=>{u===Ze&&(o=o.concat(a(d,u)))}),Object.entries(s.children).forEach(([u,d])=>{u!==Ze&&(o=o.concat(a(d,u)))}),o}(s,(u,d)=>d===Ze?[hi(s.children[Ze],!1)]:[`${d}:${hi(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ze]?`${qa(s)}/${o[0]}`:`${qa(s)}/(${o.join("//")})`}}function Zu(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ns(s){return Zu(s).replace(/%3B/gi,";")}function Ls(s){return Zu(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pi(s){return decodeURIComponent(s)}function qi(s){return pi(s.replace(/\+/g,"%20"))}function Qi(s){return`${Ls(s.path)}${function fi(s){return Object.entries(s).map(([a,o])=>`;${Ls(a)}=${Ls(o)}`).join("")}(s.parameters)}`}const ec=/^[^\/()?;#]+/;function Il(s){const a=s.match(ec);return a?a[0]:""}const tc=/^[^\/()?;=#]+/,jd=/^[^=?&#]+/,rc=/^[^&#]+/;class oc{url;remaining;constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(a.length>0||Object.keys(o).length>0)&&(u[Ze]=new en(a,o)),u}parseSegment(){const a=Il(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new x.buA(4009,!1);return this.capture(a),new Fa(pi(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const o=function nc(s){const a=s.match(tc);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const d=Il(this.remaining);d&&(u=d,this.capture(u))}a[pi(o)]=pi(u)}parseQueryParam(a){const o=function Rl(s){const a=s.match(jd);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const b=function Bd(s){const a=s.match(rc);return a?a[0]:""}(this.remaining);b&&(u=b,this.capture(u))}const d=qi(o),p=qi(u);if(a.hasOwnProperty(d)){let b=a[d];Array.isArray(b)||(b=[b],a[d]=b),b.push(p)}else a[d]=p}parseParens(a){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=Il(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new x.buA(4010,!1);let p;u.indexOf(":")>-1?(p=u.slice(0,u.indexOf(":")),this.capture(p),this.capture(":")):a&&(p=Ze);const b=this.parseChildren();o[p]=1===Object.keys(b).length?b[Ze]:new en([],b),this.consumeOptional("//")}return o}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new x.buA(4011,!1)}}function Ol(s){return s.segments.length>0?new en([],{[Ze]:s}):s}function Pl(s){const a={};for(const[u,d]of Object.entries(s.children)){const p=Pl(d);if(u===Ze&&0===p.segments.length&&p.hasChildren())for(const[b,I]of Object.entries(p.children))a[b]=I;else(p.segments.length>0||p.hasChildren())&&(a[u]=p)}return function Fs(s){if(1===s.numberOfChildren&&s.children[Ze]){const a=s.children[Ze];return new en(s.segments.concat(a.segments),a.children)}return s}(new en(s.segments,a))}function ja(s){return s instanceof Uo}function Yi(s){let a;const d=Ol(function o(p){const b={};for(const B of p.children){const Y=o(B);b[B.outlet]=Y}const I=new en(p.url,b);return p===s&&(a=I),I}(s.root));return a??d}function js(s,a,o,u){let d=s;for(;d.parent;)d=d.parent;if(0===a.length)return Xa(d,d,d,o,u);const p=function Zi(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new pa(!0,0,s);let a=0,o=!1;const u=s.reduce((d,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const I={};return Object.entries(p.outlets).forEach(([B,Y])=>{I[B]="string"==typeof Y?Y.split("/"):Y}),[...d,{outlets:I}]}if(p.segmentPath)return[...d,p.segmentPath]}return"string"!=typeof p?[...d,p]:0===b?(p.split("/").forEach((I,B)=>{0==B&&"."===I||(0==B&&""===I?o=!0:".."===I?a++:""!=I&&d.push(I))}),d):[...d,p]},[]);return new pa(o,a,u)}(a);if(p.toRoot())return Xa(d,d,new en([],{}),o,u);const b=function Ya(s,a,o){if(s.isAbsolute)return new yi(a,!0,0);if(!o)return new yi(a,!1,NaN);if(null===o.parent)return new yi(o,!0,0);const u=Bs(s.commands[0])?0:1;return function ac(s,a,o){let u=s,d=a,p=o;for(;p>d;){if(p-=d,u=u.parent,!u)throw new x.buA(4005,!1);d=u.segments.length}return new yi(u,!1,d-p)}(o,o.segments.length-1+u,s.numberOfDoubleDots)}(p,d,s),I=b.processChildren?Ba(b.segmentGroup,b.index,p.commands):vi(b.segmentGroup,b.index,p.commands);return Xa(d,b.segmentGroup,I,o,u)}function Bs(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Qa(s){return"object"==typeof s&&null!=s&&s.outlets}function Xa(s,a,o,u,d){let b,p={};u&&Object.entries(u).forEach(([B,Y])=>{p[B]=Array.isArray(Y)?Y.map(Me=>`${Me}`):`${Y}`}),b=s===a?o:Ji(s,a,o);const I=Ol(Pl(b));return new Uo(I,p,d)}function Ji(s,a,o){const u={};return Object.entries(s.children).forEach(([d,p])=>{u[d]=p===a?o:Ji(p,a,o)}),new en(s.segments,u)}class pa{isAbsolute;numberOfDoubleDots;commands;constructor(a,o,u){if(this.isAbsolute=a,this.numberOfDoubleDots=o,this.commands=u,a&&u.length>0&&Bs(u[0]))throw new x.buA(4003,!1);const d=u.find(Qa);if(d&&d!==jn(u))throw new x.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yi{segmentGroup;processChildren;index;constructor(a,o,u){this.segmentGroup=a,this.processChildren=o,this.index=u}}function vi(s,a,o){if(s??=new en([],{}),0===s.segments.length&&s.hasChildren())return Ba(s,a,o);const u=function Nl(s,a,o){let u=0,d=a;const p={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=o.length)return p;const b=s.segments[d],I=o[u];if(Qa(I))break;const B=`${I}`,Y=u<o.length-1?o[u+1]:null;if(d>0&&void 0===B)break;if(B&&Y&&"object"==typeof Y&&void 0===Y.outlets){if(!jl(B,Y,b))return p;u+=2}else{if(!jl(B,{},b))return p;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,a,o),d=o.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const p=new en(s.segments.slice(0,u.pathIndex),{});return p.children[Ze]=new en(s.segments.slice(u.pathIndex),s.children),Ba(p,0,d)}return u.match&&0===d.length?new en(s.segments,{}):u.match&&!s.hasChildren()?es(s,a,o):u.match?Ba(s,0,d):es(s,a,o)}function Ba(s,a,o){if(0===o.length)return new en(s.segments,{});{const u=function gi(s){return Qa(s[0])?s[0].outlets:{[Ze]:s}}(o),d={};if(Object.keys(u).some(p=>p!==Ze)&&s.children[Ze]&&1===s.numberOfChildren&&0===s.children[Ze].segments.length){const p=Ba(s.children[Ze],a,o);return new en(s.segments,p.children)}return Object.entries(u).forEach(([p,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(d[p]=vi(s.children[p],a,b))}),Object.entries(s.children).forEach(([p,b])=>{void 0===u[p]&&(d[p]=b)}),new en(s.segments,d)}}function es(s,a,o){const u=s.segments.slice(0,a);let d=0;for(;d<o.length;){const p=o[d];if(Qa(p)){const B=Ll(p.outlets);return new en(u,B)}if(0===d&&Bs(o[0])){u.push(new Fa(s.segments[a].path,Fl(o[0]))),d++;continue}const b=Qa(p)?p.outlets[Ze]:`${p}`,I=d<o.length-1?o[d+1]:null;b&&I&&Bs(I)?(u.push(new Fa(b,Fl(I))),d+=2):(u.push(new Fa(b,{})),d++)}return new en(u,{})}function Ll(s){const a={};return Object.entries(s).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(a[o]=es(new en([],{}),0,u))}),a}function Fl(s){const a={};return Object.entries(s).forEach(([o,u])=>a[o]=`${u}`),a}function jl(s,a,o){return s==o.path&&rn(a,o.parameters)}const ts="imperative";var qt=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(qt||{});class na{id;url;constructor(a,o){this.id=a,this.url=o}}class ra extends na{type=qt.NavigationStart;navigationTrigger;restoredState;constructor(a,o,u="imperative",d=null){super(a,o),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vo extends na{urlAfterRedirects;type=qt.NavigationEnd;constructor(a,o,u){super(a,o),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ro=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s[s.Aborted=4]="Aborted",s}(ro||{}),Us=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(Us||{});class Ja extends na{reason;code;type=qt.NavigationCancel;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ns extends na{reason;code;type=qt.NavigationSkipped;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}}class Vs extends na{error;target;type=qt.NavigationError;constructor(a,o,u,d){super(a,o),this.error=u,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bl extends na{urlAfterRedirects;state;type=qt.RoutesRecognized;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends na{urlAfterRedirects;state;type=qt.GuardsCheckStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends na{urlAfterRedirects;state;shouldActivate;type=qt.GuardsCheckEnd;constructor(a,o,u,d,p){super(a,o),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $s extends na{urlAfterRedirects;state;type=qt.ResolveStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends na{urlAfterRedirects;state;type=qt.ResolveEnd;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic{route;type=qt.RouteConfigLoadStart;constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _i{route;type=qt.RouteConfigLoadEnd;constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $o{snapshot;type=qt.ChildActivationStart;constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{snapshot;type=qt.ChildActivationEnd;constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{snapshot;type=qt.ActivationStart;constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sc{snapshot;type=qt.ActivationEnd;constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lc{}class Hs{url;navigationBehaviorOptions;constructor(a,o){this.url=a,this.navigationBehaviorOptions=o}}function Ho(s){return s.outlet||Ze}function Za(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let a=s.parent;a;a=a.parent){const o=a.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class Gl{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Za(this.route?.snapshot)??this.rootInjector}constructor(a){this.rootInjector=a,this.children=new ei(this.rootInjector)}}let ei=(()=>{class s{rootInjector;contexts=new Map;constructor(o){this.rootInjector=o}onChildOutletCreated(o,u){const d=this.getOrCreateContext(o);d.outlet=u,this.contexts.set(o,d)}onChildOutletDestroyed(o){const u=this.getContext(o);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let u=this.getContext(o);return u||(u=new Gl(this.rootInjector),this.contexts.set(o,u)),u}getContext(o){return this.contexts.get(o)||null}static \u0275fac=function(u){return new(u||s)(x.KVO(x.uvJ))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Ws{_root;constructor(a){this._root=a}get root(){return this._root.value}parent(a){const o=this.pathFromRoot(a);return o.length>1?o[o.length-2]:null}children(a){const o=zs(a,this._root);return o?o.children.map(u=>u.value):[]}firstChild(a){const o=zs(a,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(a){const o=Ks(a,this._root);return o.length<2?[]:o[o.length-2].children.map(d=>d.value).filter(d=>d!==a)}pathFromRoot(a){return Ks(a,this._root).map(o=>o.value)}}function zs(s,a){if(s===a.value)return a;for(const o of a.children){const u=zs(s,o);if(u)return u}return null}function Ks(s,a){if(s===a.value)return[a];for(const o of a.children){const u=Ks(s,o);if(u.length)return u.unshift(a),u}return[]}class _{value;children;constructor(a,o){this.value=a,this.children=o}toString(){return`TreeNode(${this.value})`}}function R(s){const a={};return s&&s.children.forEach(o=>a[o.value.outlet]=o),a}class K extends Ws{snapshot;constructor(a,o){super(a),this.snapshot=o,Cn(this,a)}toString(){return this.snapshot.toString()}}function we(s){const a=function Pe(s){const p=new xr([],{},{},"",{},Ze,s,null,{});return new xn("",new _(p,[]))}(s),o=new P.t([new Fa("",{})]),u=new P.t({}),d=new P.t({}),p=new P.t({}),b=new P.t(""),I=new ot(o,u,p,b,d,Ze,s,a.root);return I.snapshot=a.root,new K(new _(I,[]),a)}class ot{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(a,o,u,d,p,b,I,B){this.urlSubject=a,this.paramsSubject=o,this.queryParamsSubject=u,this.fragmentSubject=d,this.dataSubject=p,this.outlet=b,this.component=I,this._futureSnapshot=B,this.title=this.dataSubject?.pipe((0,Tt.T)(Y=>Y[Tn]))??D(void 0),this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Tt.T)(a=>wn(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Tt.T)(a=>wn(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ln(s,a,o="emptyOnly"){let u;const{routeConfig:d}=s;return u=null===a||"always"!==o&&""!==d?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...a.params,...s.params},data:{...a.data,...s.data},resolve:{...s.data,...a.data,...d?.data,...s._resolvedData}},d&&$d(d)&&(u.resolve[Tn]=d.title),u}class xr{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Tn]}constructor(a,o,u,d,p,b,I,B,Y){this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p,this.outlet=b,this.component=I,this.routeConfig=B,this._resolve=Y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xn extends Ws{url;constructor(a,o){super(o),this.url=a,Cn(this,o)}toString(){return Ta(this._root)}}function Cn(s,a){a.value._routerState=s,a.children.forEach(o=>Cn(s,o))}function Ta(s){const a=s.children.length>0?` { ${s.children.map(Ta).join(", ")} } `:"";return`${s.value}${a}`}function dc(s){if(s.snapshot){const a=s.snapshot,o=s._futureSnapshot;s.snapshot=o,rn(a.queryParams,o.queryParams)||s.queryParamsSubject.next(o.queryParams),a.fragment!==o.fragment&&s.fragmentSubject.next(o.fragment),rn(a.params,o.params)||s.paramsSubject.next(o.params),function xt(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(!rn(s[o],a[o]))return!1;return!0}(a.url,o.url)||s.urlSubject.next(o.url),rn(a.data,o.data)||s.dataSubject.next(o.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function mc(s,a){const o=rn(s.params,a.params)&&function Ld(s,a){return Ga(s,a)&&s.every((o,u)=>rn(o.parameters,a[u].parameters))}(s.url,a.url);return o&&!(!s.parent!=!a.parent)&&(!s.parent||mc(s.parent,a.parent))}function $d(s){return"string"==typeof s.title||null===s.title}const Hd=new x.nKC("");let Wd=(()=>{class s{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ze;activateEvents=new fe.bkB;deactivateEvents=new fe.bkB;attachEvents=new fe.bkB;detachEvents=new fe.bkB;routerOutletData=(0,X.hFB)(void 0);parentContexts=(0,x.WQX)(ei);location=(0,x.WQX)(fe.c1b);changeDetector=(0,x.WQX)(X.gRc);inputBinder=(0,x.WQX)(wi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(o){if(o.name){const{firstChange:u,previousValue:d}=o.name;if(u)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x.buA(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,u){this.activated=o,this._activatedRoute=u,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,u){if(this.isActivated)throw new x.buA(4013,!1);this._activatedRoute=o;const d=this.location,b=o.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,B=new dg(o,I,d.injector,this.routerOutletData);this.activated=d.createComponent(b,{index:d.length,injector:B,environmentInjector:u}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(u){return new(u||s)};static \u0275dir=fe.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fe.OA$]})}return s})();class dg{route;childContexts;parent;outletData;constructor(a,o,u,d){this.route=a,this.childContexts=o,this.parent=u,this.outletData=d}get(a,o){return a===ot?this.route:a===ei?this.childContexts:a===Hd?this.outletData:this.parent.get(a,o)}}const wi=new x.nKC("");let zd=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275cmp=fe.VBU({type:s,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(u,d){1&u&&fe.nrm(0,"router-outlet")},dependencies:[Wd],encapsulation:2})}return s})();function hc(s){const a=s.children&&s.children.map(hc),o=a?{...s,children:a}:{...s};return!o.component&&!o.loadComponent&&(a||o.loadChildren)&&o.outlet&&o.outlet!==Ze&&(o.component=zd),o}function Gs(s,a,o){if(o&&s.shouldReuseRoute(a.value,o.value.snapshot)){const u=o.value;u._futureSnapshot=a.value;const d=function hg(s,a,o){return a.children.map(u=>{for(const d of o.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return Gs(s,u,d);return Gs(s,u)})}(s,a,o);return new _(u,d)}{if(s.shouldAttach(a.value)){const p=s.retrieve(a.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=a.value,b.children=a.children.map(I=>Gs(s,I)),b}}const u=function pg(s){return new ot(new P.t(s.url),new P.t(s.params),new P.t(s.queryParams),new P.t(s.fragment),new P.t(s.data),s.outlet,s.component,s)}(a.value),d=a.children.map(p=>Gs(s,p));return new _(u,d)}}class pc{redirectTo;navigationBehaviorOptions;constructor(a,o){this.redirectTo=a,this.navigationBehaviorOptions=o}}const Gd="ngNavigationCancelingError";function ql(s,a){const{redirectTo:o,navigationBehaviorOptions:u}=ja(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,d=qd(!1,ro.Redirect);return d.url=o,d.navigationBehaviorOptions=u,d}function qd(s,a){const o=new Error(`NavigationCancelingError: ${s||""}`);return o[Gd]=!0,o.cancellationCode=a,o}function Qd(s){return!!s&&s[Gd]}class yg{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(a,o,u,d,p){this.routeReuseStrategy=a,this.futureState=o,this.currState=u,this.forwardEvent=d,this.inputBindingEnabled=p}activate(a){const o=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,u,a),dc(this.futureState.root),this.activateChildRoutes(o,u,a)}deactivateChildRoutes(a,o,u){const d=R(o);a.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,d[b],u),delete d[b]}),Object.values(d).forEach(p=>{this.deactivateRouteAndItsChildren(p,u)})}deactivateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(d===p)if(d.component){const b=u.getContext(d.outlet);b&&this.deactivateChildRoutes(a,o,b.children)}else this.deactivateChildRoutes(a,o,u);else p&&this.deactivateRouteAndItsChildren(o,u)}deactivateRouteAndItsChildren(a,o){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,o):this.deactivateRouteAndOutlet(a,o)}detachAndStoreRouteSubtree(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=R(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);if(u&&u.outlet){const b=u.outlet.detach(),I=u.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:b,route:a,contexts:I})}}deactivateRouteAndOutlet(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=R(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);u&&(u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated()),u.attachRef=null,u.route=null)}activateChildRoutes(a,o,u){const d=R(o);a.children.forEach(p=>{this.activateRoutes(p,d[p.value.outlet],u),this.forwardEvent(new sc(p.value.snapshot))}),a.children.length&&this.forwardEvent(new bi(a.value.snapshot))}activateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(dc(d),d===p)if(d.component){const b=u.getOrCreateContext(d.outlet);this.activateChildRoutes(a,o,b.children)}else this.activateChildRoutes(a,o,u);else if(d.component){const b=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const I=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),b.children.onOutletReAttached(I.contexts),b.attachRef=I.componentRef,b.route=I.route.value,b.outlet&&b.outlet.attach(I.componentRef,I.route.value),dc(I.route.value),this.activateChildRoutes(a,null,b.children)}else b.attachRef=null,b.route=d,b.outlet&&b.outlet.activateWith(d,b.injector),this.activateChildRoutes(a,null,b.children)}else this.activateChildRoutes(a,null,u)}}class Ql{path;route;constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class fc{component;route;constructor(a,o){this.component=a,this.route=o}}function gg(s,a,o){const u=s._root;return Xl(u,a?a._root:null,o,[u.value])}function qs(s,a){const o=Symbol(),u=a.get(s,o);return u===o?"function"!=typeof s||(0,x.muV)(s)?a.get(s):s:u}function Xl(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=R(a);return s.children.forEach(b=>{(function pp(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=s.value,b=a?a.value:null,I=o?o.getContext(s.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const B=function Yl(s,a,o){if("function"==typeof o)return o(s,a);switch(o){case"pathParamsChange":return!Ga(s.url,a.url);case"pathParamsOrQueryParamsChange":return!Ga(s.url,a.url)||!rn(s.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mc(s,a)||!rn(s.queryParams,a.queryParams);default:return!mc(s,a)}}(b,p,p.routeConfig.runGuardsAndResolvers);B?d.canActivateChecks.push(new Ql(u)):(p.data=b.data,p._resolvedData=b._resolvedData),Xl(s,a,p.component?I?I.children:null:o,u,d),B&&I&&I.outlet&&I.outlet.isActivated&&d.canDeactivateChecks.push(new fc(I.outlet.component,b))}else b&&ti(a,I,d),d.canActivateChecks.push(new Ql(u)),Xl(s,null,p.component?I?I.children:null:o,u,d)})(b,p[b.value.outlet],o,u.concat([b.value]),d),delete p[b.value.outlet]}),Object.entries(p).forEach(([b,I])=>ti(I,o.getContext(b),d)),d}function ti(s,a,o){const u=R(s),d=s.value;Object.entries(u).forEach(([p,b])=>{ti(b,d.component?a?a.children.getContext(p):null:a,o)}),o.canDeactivateChecks.push(new fc(d.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,d))}function as(s){return"function"==typeof s}function fa(s){return s instanceof he||"EmptyError"===s?.name}const Qs=Symbol("INITIAL_VALUE");function ss(){return An(s=>(0,Se.z)(s.map(a=>a.pipe(Mn(1),(0,Ka.Z)(Qs)))).pipe((0,Tt.T)(a=>{for(const o of a)if(!0!==o){if(o===Qs)return Qs;if(!1===o||gp(o))return o}return!0}),(0,kn.p)(a=>a!==Qs),Mn(1)))}function gp(s){return ja(s)||s instanceof pc}function rm(s){return(0,wt.F)(Dn(a=>{if("boolean"!=typeof a)throw ql(0,a)}),(0,Tt.T)(a=>!0===a))}class Wo{segmentGroup;constructor(a){this.segmentGroup=a||null}}class gc extends Error{urlTree;constructor(a){super(),this.urlTree=a}}function Ei(s){return Nt(new Wo(s))}function wp(s){return Nt(new x.buA(4e3,!1))}class kp{urlSerializer;urlTree;constructor(a,o){this.urlSerializer=a,this.urlTree=o}lineralizeSegments(a,o){let u=[],d=o.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return D(u);if(d.numberOfChildren>1||!d.children[Ze])return wp();d=d.children[Ze]}}applyRedirectCommands(a,o,u,d,p){return function Dp(s,a,o){if("string"==typeof s)return D(s);const u=s,{queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,params:Y,data:Me,title:Ne}=a;return Ao((0,x.N4e)(o,()=>u({params:Y,data:Me,queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,title:Ne})))}(o,d,p).pipe((0,Tt.T)(b=>{if(b instanceof Uo)throw new gc(b);const I=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),a,u);if("/"===b[0])throw new gc(I);return I}))}applyRedirectCreateUrlTree(a,o,u,d){const p=this.createSegmentGroup(a,o.root,u,d);return new Uo(p,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(a,o){const u={};return Object.entries(a).forEach(([d,p])=>{if("string"==typeof p&&":"===p[0]){const I=p.substring(1);u[d]=o[I]}else u[d]=p}),u}createSegmentGroup(a,o,u,d){const p=this.createSegments(a,o.segments,u,d);let b={};return Object.entries(o.children).forEach(([I,B])=>{b[I]=this.createSegmentGroup(a,B,u,d)}),new en(p,b)}createSegments(a,o,u,d){return o.map(p=>":"===p.path[0]?this.findPosParam(a,p,d):this.findOrReturn(p,u))}findPosParam(a,o,u){const d=u[o.path.substring(1)];if(!d)throw new x.buA(4001,!1);return d}findOrReturn(a,o){let u=0;for(const d of o){if(d.path===a.path)return o.splice(u),d;u++}return a}}const Jl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cp(s,a,o,u,d){const p=om(s,a,o);return p.matched?(u=function os(s,a){return s.providers&&!s._injector&&(s._injector=(0,fe.Ol2)(s.providers,a,`Route: ${s.path}`)),s._injector??a}(a,u),function bp(s,a,o,u){const d=a.canMatch;return d&&0!==d.length?D(d.map(b=>{const I=qs(b,s);return Ao(function is(s){return s&&as(s.canMatch)}(I)?I.canMatch(a,o):(0,x.N4e)(s,()=>I(a,o)))})).pipe(ss(),rm()):D(!0)}(u,a,o).pipe((0,Tt.T)(b=>!0===b?p:{...Jl}))):D(p)}function om(s,a,o){if("**"===a.path)return function Sp(s){return{matched:!0,parameters:s.length>0?jn(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===a.path)return"full"===a.pathMatch&&(s.hasChildren()||o.length>0)?{...Jl}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const d=(a.matcher||Fn)(o,s,a);if(!d)return{...Jl};const p={};Object.entries(d.posParams??{}).forEach(([I,B])=>{p[I]=B.path});const b=d.consumed.length>0?{...p,...d.consumed[d.consumed.length-1].parameters}:p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:o.slice(d.consumed.length),parameters:b,positionalParamSegments:d.posParams??{}}}function gn(s,a,o,u){return o.length>0&&function _c(s,a,o){return o.some(u=>xa(s,a,u)&&Ho(u)!==Ze)}(s,o,u)?{segmentGroup:new en(a,am(u,new en(o,s.children))),slicedSegments:[]}:0===o.length&&function Zl(s,a,o){return o.some(u=>xa(s,a,u))}(s,o,u)?{segmentGroup:new en(s.segments,vc(s,o,u,s.children)),slicedSegments:o}:{segmentGroup:new en(s.segments,s.children),slicedSegments:o}}function vc(s,a,o,u){const d={};for(const p of o)if(xa(s,a,p)&&!u[Ho(p)]){const b=new en([],{});d[Ho(p)]=b}return{...u,...d}}function am(s,a){const o={};o[Ze]=a;for(const u of s)if(""===u.path&&Ho(u)!==Ze){const d=new en([],{});o[Ho(u)]=d}return o}function xa(s,a,o){return(!(s.hasChildren()||a.length>0)||"full"!==o.pathMatch)&&""===o.path}class sm{}class Ap{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(a,o,u,d,p,b,I){this.injector=a,this.configLoader=o,this.rootComponentType=u,this.config=d,this.urlTree=p,this.paramsInheritanceStrategy=b,this.urlSerializer=I,this.applyRedirects=new kp(this.urlSerializer,this.urlTree)}noMatchError(a){return new x.buA(4002,`'${a.segmentGroup}'`)}recognize(){const a=gn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,Tt.T)(({children:o,rootSnapshot:u})=>{const d=new _(u,o),p=new xn("",d),b=function Ud(s,a,o=null,u=null){return js(Yi(s),a,o,u)}(u,[],this.urlTree.queryParams,this.urlTree.fragment);return b.queryParams=this.urlTree.queryParams,p.url=this.urlSerializer.serialize(b),{state:p,tree:b}}))}match(a){const o=new xr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ze,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,Ze,o).pipe((0,Tt.T)(u=>({children:u,rootSnapshot:o})),ea(u=>{if(u instanceof gc)return this.urlTree=u.urlTree,this.match(u.urlTree.root);throw u instanceof Wo?this.noMatchError(u):u}))}processSegmentGroup(a,o,u,d,p){return 0===u.segments.length&&u.hasChildren()?this.processChildren(a,o,u,p):this.processSegment(a,o,u,u.segments,d,!0,p).pipe((0,Tt.T)(b=>b instanceof _?[b]:[]))}processChildren(a,o,u,d){const p=[];for(const b of Object.keys(u.children))"primary"===b?p.unshift(b):p.push(b);return(0,nn.H)(p).pipe(Fo(b=>{const I=u.children[b],B=function Kl(s,a){const o=s.filter(u=>Ho(u)===a);return o.push(...s.filter(u=>Ho(u)!==a)),o}(o,b);return this.processSegmentGroup(a,B,I,b,d)}),function La(s,a){return(0,dn.N)(function li(s,a,o,u,d){return(p,b)=>{let I=o,B=a,Y=0;p.subscribe((0,bn._)(b,Me=>{const Ne=Y++;B=I?s(B,Me,Ne):(I=!0,Me),u&&b.next(B)},d&&(()=>{I&&b.next(B),b.complete()})))}}(s,a,arguments.length>=2,!0))}((b,I)=>(b.push(...I),b)),Jo(null),function ui(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kn.p)((d,p)=>s(d,p,u)):ha.D,ta(1),o?Jo(a):Zo(()=>new he))}(),(0,$n.Z)(b=>{if(null===b)return Ei(u);const I=eu(b);return function Mp(s){s.sort((a,o)=>a.value.outlet===Ze?-1:o.value.outlet===Ze?1:a.value.outlet.localeCompare(o.value.outlet))}(I),D(I)}))}processSegment(a,o,u,d,p,b,I){return(0,nn.H)(o).pipe(Fo(B=>this.processSegmentAgainstRoute(B._injector??a,o,B,u,d,p,b,I).pipe(ea(Y=>{if(Y instanceof Wo)return D(null);throw Y}))),fo(B=>!!B),ea(B=>{if(fa(B))return function im(s,a,o){return 0===a.length&&!s.children[o]}(u,d,p)?D(new sm):Ei(u);throw B}))}processSegmentAgainstRoute(a,o,u,d,p,b,I,B){return Ho(u)===b||b!==Ze&&xa(d,p,u)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(a,d,u,p,b,B):this.allowRedirects&&I?this.expandSegmentAgainstRouteUsingRedirect(a,d,o,u,p,b,B):Ei(d):Ei(d)}expandSegmentAgainstRouteUsingRedirect(a,o,u,d,p,b,I){const{matched:B,parameters:Y,consumedSegments:Me,positionalParamSegments:Ne,remainingSegments:Ye}=om(o,d,p);if(!B)return Ei(o);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const lt=new xr(p,Y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bc(d),Ho(d),d.component??d._loadedComponent??null,d,Ys(d)),et=ln(lt,I,this.paramsInheritanceStrategy);return lt.params=Object.freeze(et.params),lt.data=Object.freeze(et.data),this.applyRedirects.applyRedirectCommands(Me,d.redirectTo,Ne,lt,a).pipe(An(dt=>this.applyRedirects.lineralizeSegments(d,dt)),(0,$n.Z)(dt=>this.processSegment(a,u,o,dt.concat(Ye),b,!1,I)))}matchSegmentAgainstRoute(a,o,u,d,p,b){const I=Cp(o,u,d,a);return"**"===u.path&&(o.children={}),I.pipe(An(B=>B.matched?this.getChildConfig(a=u._injector??a,u,d).pipe(An(({routes:Y})=>{const Me=u._loadedInjector??a,{parameters:Ne,consumedSegments:Ye,remainingSegments:lt}=B,et=new xr(Ye,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bc(u),Ho(u),u.component??u._loadedComponent??null,u,Ys(u)),tt=ln(et,b,this.paramsInheritanceStrategy);et.params=Object.freeze(tt.params),et.data=Object.freeze(tt.data);const{segmentGroup:dt,slicedSegments:Et}=gn(o,Ye,lt,Y);if(0===Et.length&&dt.hasChildren())return this.processChildren(Me,Y,dt,et).pipe((0,Tt.T)(Qt=>new _(et,Qt)));if(0===Y.length&&0===Et.length)return D(new _(et,[]));const Ut=Ho(u)===p;return this.processSegment(Me,Y,dt,Et,Ut?Ze:p,!0,et).pipe((0,Tt.T)(Qt=>new _(et,Qt instanceof _?[Qt]:[])))})):Ei(o)))}getChildConfig(a,o,u){return o.children?D({routes:o.children,injector:a}):o.loadChildren?void 0!==o._loadedRoutes?D({routes:o._loadedRoutes,injector:o._loadedInjector}):function yc(s,a,o,u){const d=a.canLoad;return void 0===d||0===d.length?D(!0):D(d.map(b=>{const I=qs(b,s);return Ao(function Jd(s){return s&&as(s.canLoad)}(I)?I.canLoad(a,o):(0,x.N4e)(s,()=>I(a,o)))})).pipe(ss(),rm())}(a,o,u).pipe((0,$n.Z)(d=>d?this.configLoader.loadChildren(a,o).pipe(Dn(p=>{o._loadedRoutes=p.routes,o._loadedInjector=p.injector})):function Ep(){return Nt(qd(!1,ro.GuardRejected))}())):D({routes:[],injector:a})}}function um(s){const a=s.value.routeConfig;return a&&""===a.path}function eu(s){const a=[],o=new Set;for(const u of s){if(!um(u)){a.push(u);continue}const d=a.find(p=>u.value.routeConfig===p.value.routeConfig);void 0!==d?(d.children.push(...u.children),o.add(d)):a.push(u)}for(const u of o){const d=eu(u.children);a.push(new _(u.value,d))}return a.filter(u=>!o.has(u))}function bc(s){return s.data||{}}function Ys(s){return s.resolve||{}}function ls(s){const a=s.children.map(o=>ls(o)).flat();return[s,...a]}function us(s){return An(a=>{const o=s(a);return o?(0,nn.H)(o).pipe((0,Tt.T)(()=>a)):D(a)})}let cs=(()=>{class s{buildTitle(o){let u,d=o.root;for(;void 0!==d;)u=this.getResolvedTitleForRoute(d)??u,d=d.children.find(p=>p.outlet===Ze);return u}getResolvedTitleForRoute(o){return o.data[Tn]}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:()=>(0,x.WQX)(tu),providedIn:"root"})}return s})(),tu=(()=>{class s extends cs{title;constructor(o){super(),this.title=o}updateTitle(o){const u=this.buildTitle(o);void 0!==u&&this.title.setTitle(u)}static \u0275fac=function(u){return new(u||s)(x.KVO(M))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const ds=new x.nKC("",{providedIn:"root",factory:()=>({})}),Js=new x.nKC("");let mm=(()=>{class s{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,x.WQX)(fe.Ql9);loadComponent(o,u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return D(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const d=Ao((0,x.N4e)(o,()=>u.loadComponent())).pipe((0,Tt.T)(pm),Dn(b=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=b}),ci(()=>{this.componentLoaders.delete(u)})),p=new Tr(d,()=>new sn.B).pipe(yn());return this.componentLoaders.set(u,p),p}loadChildren(o,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return D({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const p=function ms(s,a,o,u){return Ao((0,x.N4e)(o,()=>s.loadChildren())).pipe((0,Tt.T)(pm),(0,$n.Z)(d=>d instanceof fe.PYt||Array.isArray(d)?D(d):(0,nn.H)(a.compileModuleAsync(d))),(0,Tt.T)(d=>{u&&u(s);let p,b,I=!1;return Array.isArray(d)?(b=d,!0):(p=d.create(o).injector,b=p.get(Js,[],{optional:!0,self:!0}).flat()),{routes:b.map(hc),injector:p}}))}(u,this.compiler,o,this.onLoadEndListener).pipe(ci(()=>{this.childrenLoaders.delete(u)})),b=new Tr(p,()=>new sn.B).pipe(yn());return this.childrenLoaders.set(u,b),b}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function pm(s){return function hm(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}let nu=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:()=>(0,x.WQX)(xp),providedIn:"root"})}return s})(),xp=(()=>{class s{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,u){return o}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const kc=new x.nKC(""),Rp=new x.nKC("");let Dc=(()=>{class s{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new sn.B;transitionAbortWithErrorSubject=new sn.B;configLoader=(0,x.WQX)(mm);environmentInjector=(0,x.WQX)(x.uvJ);destroyRef=(0,x.WQX)(x.abz);urlSerializer=(0,x.WQX)(Ma);rootContexts=(0,x.WQX)(ei);location=(0,x.WQX)(E.aZ);inputBindingEnabled=null!==(0,x.WQX)(wi,{optional:!0});titleStrategy=(0,x.WQX)(cs);options=(0,x.WQX)(ds,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,x.WQX)(nu);createViewTransition=(0,x.WQX)(kc,{optional:!0});navigationErrorHandler=(0,x.WQX)(Rp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new _i(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new ic(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(o){const u=++this.navigationId;this.transitions?.next({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u})}setupNavigations(o){return this.transitions=new P.t(null),this.transitions.pipe((0,kn.p)(u=>null!==u),An(u=>{let d=!1;return D(u).pipe(An(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",ro.SupersededByNewNavigation),rt;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>p.abortController.abort()};const b=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!b&&"reload"!==(p.extras.onSameUrlNavigation??o.onSameUrlNavigation)){const B="";return this.events.next(new ns(p.id,this.urlSerializer.serialize(p.rawUrl),B,Us.IgnoredSameUrlNavigation)),p.resolve(!1),rt}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return D(p).pipe(An(B=>(this.events.next(new ra(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),B.id!==this.navigationId?rt:Promise.resolve(B))),function Tp(s,a,o,u,d,p){return(0,$n.Z)(b=>function Xs(s,a,o,u,d,p,b="emptyOnly"){return new Ap(s,a,o,u,d,b,p).recognize()}(s,a,o,u,b.extractedUrl,d,p).pipe((0,Tt.T)(({state:I,tree:B})=>({...b,targetSnapshot:I,urlAfterRedirects:B}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),Dn(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const Y=new Bl(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(Y)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:B,extractedUrl:Y,source:Me,restoredState:Ne,extras:Ye}=p,lt=new ra(B,this.urlSerializer.serialize(Y),Me,Ne);this.events.next(lt);const et=we(this.rootComponentType).snapshot;return this.currentTransition=u={...p,targetSnapshot:et,urlAfterRedirects:Y,extras:{...Ye,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Y,D(u)}{const B="";return this.events.next(new ns(p.id,this.urlSerializer.serialize(p.extractedUrl),B,Us.IgnoredByUrlHandlingStrategy)),p.resolve(!1),rt}}),Dn(p=>{const b=new rs(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),(0,Tt.T)(p=>(this.currentTransition=u={...p,guards:gg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},u)),function _g(s,a){return(0,$n.Z)(o=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:p,canDeactivateChecks:b}}=o;return 0===b.length&&0===p.length?D({...o,guardsResult:!0}):function bg(s,a,o,u){return(0,nn.H)(s).pipe((0,$n.Z)(d=>function _p(s,a,o,u,d){const p=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return p&&0!==p.length?D(p.map(I=>{const B=Za(a)??d,Y=qs(I,B);return Ao(function Zd(s){return s&&as(s.canDeactivate)}(Y)?Y.canDeactivate(s,a,o,u):(0,x.N4e)(B,()=>Y(s,a,o,u))).pipe(fo())})).pipe(ss()):D(!0)}(d.component,d.route,o,a,u)),fo(d=>!0!==d,!0))}(b,u,d,s).pipe((0,$n.Z)(I=>I&&function Yd(s){return"boolean"==typeof s}(I)?function em(s,a,o,u){return(0,nn.H)(a).pipe(Fo(d=>(0,je.x)(function wg(s,a){return null!==s&&a&&a(new $o(s)),D(!0)}(d.route.parent,u),function tm(s,a){return null!==s&&a&&a(new $l(s)),D(!0)}(d.route,u),function nm(s,a,o){const u=a[a.length-1],p=a.slice(0,a.length-1).reverse().map(b=>function vg(s){const a=s.routeConfig?s.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:s,guards:a}:null}(b)).filter(b=>null!==b).map(b=>mt(()=>D(b.guards.map(B=>{const Y=Za(b.node)??o,Me=qs(B,Y);return Ao(function yp(s){return s&&as(s.canActivateChild)}(Me)?Me.canActivateChild(u,s):(0,x.N4e)(Y,()=>Me(u,s))).pipe(fo())})).pipe(ss())));return D(p).pipe(ss())}(s,d.path,o),function vp(s,a,o){const u=a.routeConfig?a.routeConfig.canActivate:null;if(!u||0===u.length)return D(!0);const d=u.map(p=>mt(()=>{const b=Za(a)??o,I=qs(p,b);return Ao(function fp(s){return s&&as(s.canActivate)}(I)?I.canActivate(a,s):(0,x.N4e)(b,()=>I(a,s))).pipe(fo())}));return D(d).pipe(ss())}(s,d.route,o))),fo(d=>!0!==d,!0))}(u,p,s,a):D(I)),(0,Tt.T)(I=>({...o,guardsResult:I})))})}(this.environmentInjector,p=>this.events.next(p)),Dn(p=>{if(u.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw ql(0,p.guardsResult);const b=new Ul(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(b)}),(0,kn.p)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",ro.GuardRejected),!1)),us(p=>{if(0!==p.guards.canActivateChecks.length)return D(p).pipe(Dn(b=>{const I=new $s(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}),An(b=>{let I=!1;return D(b).pipe(function wc(s,a){return(0,$n.Z)(o=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=o;if(!d.length)return D(o);const p=new Set(d.map(B=>B.route)),b=new Set;for(const B of p)if(!b.has(B))for(const Y of ls(B))b.add(Y);let I=0;return(0,nn.H)(b).pipe(Fo(B=>p.has(B)?function Ec(s,a,o,u){const d=s.routeConfig,p=s._resolve;return void 0!==d?.title&&!$d(d)&&(p[Tn]=d.title),mt(()=>(s.data=ln(s,s.parent,o).resolve,function cm(s,a,o,u){const d=Bo(s);if(0===d.length)return D({});const p={};return(0,nn.H)(d).pipe((0,$n.Z)(b=>function dm(s,a,o,u){const d=Za(a)??u,p=qs(s,d);return Ao(p.resolve?p.resolve(a,o):(0,x.N4e)(d,()=>p(a,o)))}(s[b],a,o,u).pipe(fo(),Dn(I=>{if(I instanceof pc)throw ql(new zi,I);p[b]=I}))),ta(1),(0,Tt.T)(()=>p),ea(b=>fa(b)?rt:Nt(b)))}(p,s,a,u).pipe((0,Tt.T)(b=>(s._resolvedData=b,s.data={...s.data,...b},null)))))}(B,u,s,a):(B.data=ln(B,B.parent,s).resolve,D(void 0))),Dn(()=>I++),ta(1),(0,$n.Z)(B=>I===b.size?D(o):rt))})}(this.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(b,"",ro.NoDataFromResolver)}}))}),Dn(b=>{const I=new Vl(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}))}),us(p=>{const b=I=>{const B=[];if(I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent){const Y=Za(I)??this.environmentInjector;B.push(this.configLoader.loadComponent(Y,I.routeConfig).pipe(Dn(Me=>{I.component=Me}),(0,Tt.T)(()=>{})))}for(const Y of I.children)B.push(...b(Y));return B};return(0,Se.z)(b(p.targetSnapshot.root)).pipe(Jo(null),Mn(1))}),us(()=>this.afterPreactivation()),An(()=>{const{currentSnapshot:p,targetSnapshot:b}=u,I=this.createViewTransition?.(this.environmentInjector,p.root,b.root);return I?(0,nn.H)(I).pipe((0,Tt.T)(()=>u)):D(u)}),(0,Tt.T)(p=>{const b=function Kd(s,a,o){const u=Gs(s,a._root,o?o._root:void 0);return new K(u,a)}(o.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u={...p,targetRouterState:b},this.currentNavigation.targetRouterState=b,u}),Dn(()=>{this.events.next(new lc)}),((s,a,o,u)=>(0,Tt.T)(d=>(new yg(a,d.targetRouterState,d.currentRouterState,o,u).activate(s),d)))(this.rootContexts,o.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Mn(1),(0,Wi.Q)(new Ar.c(p=>{const b=u.abortController.signal,I=()=>p.next();return b.addEventListener("abort",I),()=>b.removeEventListener("abort",I)}).pipe((0,kn.p)(()=>!d&&!u.targetRouterState),Dn(()=>{this.cancelNavigationTransition(u,u.abortController.signal.reason+"",ro.Aborted)}))),Dn({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),(0,Wi.Q)(this.transitionAbortWithErrorSubject.pipe(Dn(p=>{throw p}))),ci(()=>{d||this.cancelNavigationTransition(u,"",ro.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),ea(p=>{if(this.destroyed)return u.resolve(!1),rt;if(d=!0,Qd(p))this.events.next(new Ja(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),function hp(s){return Qd(s)&&ja(s.url)}(p)?this.events.next(new Hs(p.url,p.navigationBehaviorOptions)):u.resolve(!1);else{const b=new Vs(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0);try{const I=(0,x.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(!(I instanceof pc))throw this.events.next(b),p;{const{message:B,cancellationCode:Y}=ql(0,I);this.events.next(new Ja(u.id,this.urlSerializer.serialize(u.extractedUrl),B,Y)),this.events.next(new Hs(I.redirectTo,I.navigationBehaviorOptions))}}catch(I){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(I)}}return rt}))}))}cancelNavigationTransition(o,u,d){const p=new Ja(o.id,this.urlSerializer.serialize(o.extractedUrl),u,d);this.events.next(p),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const o=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return o.toString()!==u?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ym(s){return s!==ts}let gm=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:()=>(0,x.WQX)(_m),providedIn:"root"})}return s})();class vm{shouldDetach(a){return!1}store(a,o){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,o){return a.routeConfig===o.routeConfig}}let _m=(()=>{class s extends vm{static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ru=(()=>{class s{urlSerializer=(0,x.WQX)(Ma);options=(0,x.WQX)(ds,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,x.WQX)(E.aZ);urlHandlingStrategy=(0,x.WQX)(nu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Uo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:o,initialUrl:u,targetBrowserUrl:d}){const p=void 0!==o?this.urlHandlingStrategy.merge(o,u):u,b=d??p;return b instanceof Uo?this.urlSerializer.serialize(b):b}commitTransition({targetRouterState:o,finalUrl:u,initialUrl:d}){u&&o?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,d),this.routerState=o):this.rawUrlTree=d}routerState=we(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:o}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o??this.rawUrlTree)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:()=>(0,x.WQX)(bm),providedIn:"root"})}return s})(),bm=(()=>{class s extends ru{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(u=>{"popstate"===u.type&&setTimeout(()=>{o(u.url,u.state,"popstate")})})}handleRouterEvent(o,u){o instanceof ra?this.updateStateMemento():o instanceof ns?this.commitTransition(u):o instanceof Bl?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof lc?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof Ja&&o.code!==ro.SupersededByNewNavigation&&o.code!==ro.Redirect?this.restoreHistory(u):o instanceof Vs?this.restoreHistory(u,!0):o instanceof Vo&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,{extras:u,id:d}){const{replaceUrl:p,state:b}=u;if(this.location.isCurrentPathEqualTo(o)||p){const I=this.browserPageId,B={...b,...this.generateNgRouterState(d,I)};this.location.replaceState(o,"",B)}else{const I={...b,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(o,"",I)}}restoreHistory(o,u=!1){if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-this.browserPageId;0!==p?this.location.historyGo(p):this.getCurrentUrlTree()===o.finalUrl&&0===p&&(this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,u){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:u}:{navigationId:o}}static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const ki={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,x.WQX)(fe.C7A);stateManager=(0,x.WQX)(ru);options=(0,x.WQX)(ds,{optional:!0})||{};pendingTasks=(0,x.WQX)(x.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,x.WQX)(Dc);urlSerializer=(0,x.WQX)(Ma);location=(0,x.WQX)(E.aZ);urlHandlingStrategy=(0,x.WQX)(nu);injector=(0,x.WQX)(x.uvJ);_events=new sn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,x.WQX)(gm);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,x.WQX)(Js,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,x.WQX)(wi,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pr.yU;subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(u=>{try{const d=this.navigationTransitions.currentTransition,p=this.navigationTransitions.currentNavigation;if(null!==d&&null!==p)if(this.stateManager.handleRouterEvent(u,p),u instanceof Ja&&u.code!==ro.Redirect&&u.code!==ro.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof Vo)this.navigated=!0;else if(u instanceof Hs){const b=u.navigationBehaviorOptions,I=this.urlHandlingStrategy.merge(u.url,d.currentRawUrl),B={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ym(d.source),...b};this.scheduleNavigation(I,ts,null,B,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function uc(s){return!(s instanceof lc||s instanceof Hs)})(u)&&this._events.next(u)}catch(d){this.navigationTransitions.transitionAbortWithErrorSubject.next(d)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,u,d)=>{this.navigateToSyncWithBrowser(o,d,u)})}navigateToSyncWithBrowser(o,u,d){const p={replaceUrl:!0},b=d?.navigationId?d:null;if(d){const B={...d};delete B.navigationId,delete B.\u0275routerPageId,0!==Object.keys(B).length&&(p.state=B)}const I=this.parseUrl(o);this.scheduleNavigation(I,u,b,p).catch(B=>{this.disposed||this.injector.get(x.ZTf)(B)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(hc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,u={}){const{relativeTo:d,queryParams:p,fragment:b,queryParamsHandling:I,preserveFragment:B}=u,Y=B?this.currentUrlTree.fragment:b;let Ne,Me=null;switch(I??this.options.defaultQueryParamsHandling){case"merge":Me={...this.currentUrlTree.queryParams,...p};break;case"preserve":Me=this.currentUrlTree.queryParams;break;default:Me=p||null}null!==Me&&(Me=this.removeEmptyProps(Me));try{Ne=Yi(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||"/"!==o[0][0])&&(o=[]),Ne=this.currentUrlTree.root}return js(Ne,o,Me,Y??null)}navigateByUrl(o,u={skipLocationChange:!1}){const d=ja(o)?o:this.parseUrl(o),p=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(p,ts,null,u)}navigate(o,u={skipLocationChange:!1}){return function Sc(s){for(let a=0;a<s.length;a++)if(null==s[a])throw new x.buA(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,u),u)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,u){let d;if(d=!0===u?{...ki}:!1===u?{...wm}:u,ja(o))return Os(this.currentUrlTree,o,d);const p=this.parseUrl(o);return Os(this.currentUrlTree,p,d)}removeEmptyProps(o){return Object.entries(o).reduce((u,[d,p])=>(null!=p&&(u[d]=p),u),{})}scheduleNavigation(o,u,d,p,b){if(this.disposed)return Promise.resolve(!1);let I,B,Y;b?(I=b.resolve,B=b.reject,Y=b.promise):Y=new Promise((Ne,Ye)=>{I=Ne,B=Ye});const Me=this.pendingTasks.add();return function Cc(s,a){s.events.pipe((0,kn.p)(o=>o instanceof Vo||o instanceof Ja||o instanceof Vs||o instanceof ns),(0,Tt.T)(o=>o instanceof Vo||o instanceof ns?0:o instanceof Ja&&(o.code===ro.Redirect||o.code===ro.SupersededByNewNavigation)?2:1),(0,kn.p)(o=>2!==o),Mn(1)).subscribe(()=>{a()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Me))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:p,resolve:I,reject:B,promise:Y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Y.catch(Ne=>Promise.reject(Ne))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ou=V(3597);V(6365);let el=(()=>{class s{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,x.vPA)(null);get href(){return(0,ou.O8)(this.reactiveHref)}set href(o){this.reactiveHref.set(o)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new sn.B;applicationErrorHandler=(0,x.WQX)(x.ZTf);options=(0,x.WQX)(ds,{optional:!0});constructor(o,u,d,p,b,I){this.router=o,this.route=u,this.tabIndexAttribute=d,this.renderer=p,this.el=b,this.locationStrategy=I,this.reactiveHref.set((0,x.WQX)(new X.ES_("href"),{optional:!0}));const B=b.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===B||"area"===B||!("object"!=typeof customElements||!customElements.get(B)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let o=this.preserveFragment;const u=d=>"merge"===d||"preserve"===d;o||=u(this.queryParamsHandling),o||=!this.queryParamsHandling&&!u(this.options?.defaultQueryParamsHandling),o&&(this.subscription=this.router.events.subscribe(d=>{d instanceof Vo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(o){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(o){null==o?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ja(o)||Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0"))}onClick(o,u,d,p,b){const I=this.urlTree;if(null===I||this.isAnchorElement&&(0!==o||u||d||p||b||"string"==typeof this.target&&"_self"!=this.target))return!0;const B={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(I,B)?.catch(Y=>{this.applicationErrorHandler(Y)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const o=this.urlTree;this.reactiveHref.set(null!==o&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o))??"":null)}applyAttributeValue(o,u){const d=this.renderer,p=this.el.nativeElement;null!==u?d.setAttribute(p,o,u):d.removeAttribute(p,o)}get urlTree(){return null===this.routerLinkInput?null:ja(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(u){return new(u||s)(fe.rXU(ni),fe.rXU(ot),fe.kS0("tabindex"),fe.rXU(fe.sFG),fe.rXU(fe.aKT),fe.rXU(E.hb))};static \u0275dir=fe.FsC({type:s,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(u,d){1&u&&fe.bIt("click",function(b){return d.onClick(b.button,b.ctrlKey,b.shiftKey,b.altKey,b.metaKey)}),2&u&&fe.BMQ("href",d.reactiveHref(),fe.n$t)("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",X.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",X.L39],replaceUrl:[2,"replaceUrl","replaceUrl",X.L39],routerLink:"routerLink"},features:[fe.OA$]})}return s})();const Mc=new x.nKC("");function Fp(s){return s.routerState.root}function Bp(){const s=(0,x.WQX)(x.zZn);return a=>{const o=s.get(fe.o8S);if(a!==o.components[0])return;const u=s.get(ni),d=s.get(Cm);1===s.get(Ic)&&u.initialNavigation(),s.get(au,null,{optional:!0})?.setUpPreloading(),s.get(Mc,null,{optional:!0})?.init(),u.resetRootComponentType(o.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const Cm=new x.nKC("",{factory:()=>new sn.B}),Ic=new x.nKC("",{providedIn:"root",factory:()=>1}),au=new x.nKC("");var Hp=V(4675),Nc=V(4242);function Tm(s,a){if(1&s&&(fe.j41(0,"span"),fe.EFF(1),fe.k0s()),2&s){const o=fe.XpG();fe.R7$(),fe.Lme("client ",o.clientId," connected to session: ",o.sessionId)}}let Wp=(()=>{class s{appContext;webSocketService;title=(0,x.vPA)("frosthaven-assistant-angular");clientId=null;sessionId=1;constructor(o,u){this.appContext=o,this.webSocketService=u,this.webSocketService.clientId$.subscribe(d=>{this.clientId=d}),this.webSocketService.sessionId$.subscribe(d=>{null!=d&&(this.sessionId=d)})}static \u0275fac=function(u){return new(u||s)(fe.rXU(Hp.B),fe.rXU(Nc.Vh))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-root"]],decls:20,vars:3,consts:[["id","master-container",1,"app-viewport"],[1,"navigaiton"],["routerLink","/"],["routerLink","/potions"],[1,"technical-info"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://supabase.com/dashboard/project/ymlekirbwjanuxrclsgf/editor/17421?schema=public","target","_blank","title","Postman",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/e/2PACX-1vQ3mIO6M9EcAcvLxGvf368ZtNINTWFTPUY3w8immfofr0ViH4KllF0lqUv_vTZzIdb74hHYOvI_Hwkq/pubhtml","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://www.gloomhavencards.com/fh/items?fbclid=IwY2xjawL8IHRleHRuA2FlbQIxMQABHkKcdLIcbofW8IUeOP6v5TWQoy0Zy87jam0ER3Wlj5h5ix4GIPpDYmtn_MYa_aem_uNM6fXKf3vBZx724Hs_wlw","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/1LXfBFjL74gE959ogz9Kj6Wbo_ieL4kZBT3jss13WZto/edit?gid=800894000#gid=800894000","target","_blank","title","Unlocked craftables",1,"button-link"],[4,"ngIf"]],template:function(u,d){1&u&&(fe.j41(0,"div",0)(1,"div",1)(2,"a",2),fe.EFF(3,"Game"),fe.k0s(),fe.j41(4,"a",3),fe.EFF(5,"Alchemy"),fe.k0s()(),fe.nrm(6,"router-outlet"),fe.k0s(),fe.j41(7,"div",4)(8,"a",5),fe.EFF(9,"Run Postman "),fe.k0s(),fe.j41(10,"a",6),fe.EFF(11,"Open DB "),fe.k0s(),fe.j41(12,"a",7),fe.EFF(13," View Unlocked Craftables "),fe.k0s(),fe.j41(14,"a",8),fe.EFF(15," View All Items "),fe.k0s(),fe.j41(16,"a",9),fe.EFF(17," View Crafting Calculator "),fe.k0s(),fe.DNE(18,Tm,2,2,"span",10),fe.k0s(),fe.nrm(19,"app-toast-notification")),2&u&&(fe.R7$(),fe.xc7("display",d.appContext.shouldShowSetup?null:"none"),fe.R7$(17),fe.Y8G("ngIf",d.clientId))},dependencies:[Yn.MD,Yn.bT,Sa.YN,Wd,el,za],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;overflow-x:clip}.navigaiton[_ngcontent-%COMP%]{display:flex;gap:1rem}.navigaiton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--font-color)}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-10em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]})}return s})();var Ot=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(Ot||{});const Ua="*";function zp(s){return{type:Ot.Style,styles:s,offset:null}}class rl{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(a=0,o=0){this.totalTime=a+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Fc{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(a){this.players=a;let o=0,u=0,d=0;const p=this.players.length;0==p?queueMicrotask(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++o==p&&this._onFinish()}),b.onDestroy(()=>{++u==p&&this._onDestroy()}),b.onStart(()=>{++d==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,I)=>Math.max(b,I.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const o=a*this.totalTime;this.players.forEach(u=>{const d=u.totalTime?Math.min(1,o/u.totalTime):1;u.setPosition(d)})}getPosition(){const a=this.players.reduce((o,u)=>null===o||u.totalTime>o.totalTime?u:o,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}function Im(s){return new x.buA(3e3,!1)}function Fg(s){return new x.buA(3002,!1)}function oa(s){switch(s.length){case 0:return new rl;case 1:return s[0];default:return new Fc(s)}}function $c(s,a,o=new Map,u=new Map){const d=[],p=[];let b=-1,I=null;if(a.forEach(B=>{const Y=B.get("offset"),Me=Y==b,Ne=Me&&I||new Map;B.forEach((Ye,lt)=>{let et=lt,tt=Ye;if("offset"!==lt)switch(et=s.normalizePropertyName(et,d),tt){case"!":tt=o.get(lt);break;case Ua:tt=u.get(lt);break;default:tt=s.normalizeStyleValue(lt,et,tt,d)}Ne.set(et,tt)}),Me||p.push(Ne),I=Ne,b=Y}),d.length)throw function Hg(){return new x.buA(3502,!1)}();return p}function du(s,a,o,u){switch(a){case"start":s.onStart(()=>u(o&&Va(o,"start",s)));break;case"done":s.onDone(()=>u(o&&Va(o,"done",s)));break;case"destroy":s.onDestroy(()=>u(o&&Va(o,"destroy",s)))}}function Va(s,a,o){const p=ul(s.element,s.triggerName,s.fromState,s.toState,a||s.phaseName,o.totalTime??s.totalTime,!!o.disabled),b=s._data;return null!=b&&(p._data=b),p}function ul(s,a,o,u,d="",p=0,b){return{element:s,triggerName:a,fromState:o,toState:u,phaseName:d,totalTime:p,disabled:!!b}}function zo(s,a,o){let u=s.get(a);return u||s.set(a,u=o),u}function Fm(s){const a=s.indexOf(":");return[s.substring(1,a),s.slice(a+1)]}const jm=typeof document>"u"?null:document.documentElement;function mu(s){const a=s.parentNode||s.host||null;return a===jm?null:a}let Di=null,Bm=!1;function Um(s,a){for(;a;){if(a===s)return!0;a=mu(a)}return!1}function dl(s,a,o){if(o)return Array.from(s.querySelectorAll(a));const u=s.querySelector(a);return u?[u]:[]}const Hm="ng-enter",hu="ng-leave",ys="ng-trigger",Ci=".ng-trigger",Wm="ng-animating",Wc=".ng-animating";function $a(s){if("number"==typeof s)return s;const a=s.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:zc(parseFloat(a[1]),a[2])}function zc(s,a){return"s"===a?1e3*s:s}function pu(s,a,o){return s.hasOwnProperty("duration")?s:function Kc(s,a,o){let u,d=0,p="";if("string"==typeof s){const b=s.match(lf);if(null===b)return a.push(Im()),{duration:0,delay:0,easing:""};u=zc(parseFloat(b[1]),b[2]);const I=b[3];null!=I&&(d=zc(parseFloat(I),b[4]));const B=b[5];B&&(p=B)}else u=s;if(!o){let b=!1,I=a.length;u<0&&(a.push(function ps(){return new x.buA(3100,!1)}()),b=!0),d<0&&(a.push(function Rm(){return new x.buA(3101,!1)}()),b=!0),b&&a.splice(I,0,Im())}return{duration:u,delay:d,easing:p}}(s,a,o)}const lf=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function ya(s,a,o){a.forEach((u,d)=>{const p=qc(d);o&&!o.has(d)&&o.set(d,s.style[p]),s.style[p]=u})}function Si(s,a){a.forEach((o,u)=>{const d=qc(u);s.style[d]=""})}function Ha(s){return Array.isArray(s)?1==s.length?s[0]:function xm(s,a=null){return{type:Ot.Sequence,steps:s,options:a}}(s):s}const zm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Km(s){let a=[];if("string"==typeof s){let o;for(;o=zm.exec(s);)a.push(o[1]);zm.lastIndex=0}return a}function gs(s,a,o){const u=`${s}`,d=u.replace(zm,(p,b)=>{let I=a[b];return null==I&&(o.push(function fs(){return new x.buA(3003,!1)}()),I=""),I.toString()});return d==u?s:d}const Gc=/-+([a-z0-9])/g;function qc(s){return s.replace(Gc,(...a)=>a[1].toUpperCase())}function Ko(s,a,o){switch(a.type){case Ot.Trigger:return s.visitTrigger(a,o);case Ot.State:return s.visitState(a,o);case Ot.Transition:return s.visitTransition(a,o);case Ot.Sequence:return s.visitSequence(a,o);case Ot.Group:return s.visitGroup(a,o);case Ot.Animate:return s.visitAnimate(a,o);case Ot.Keyframes:return s.visitKeyframes(a,o);case Ot.Style:return s.visitStyle(a,o);case Ot.Reference:return s.visitReference(a,o);case Ot.AnimateChild:return s.visitAnimateChild(a,o);case Ot.AnimateRef:return s.visitAnimateRef(a,o);case Ot.Query:return s.visitQuery(a,o);case Ot.Stagger:return s.visitStagger(a,o);default:throw function jc(){return new x.buA(3004,!1)}()}}function yu(s,a){return window.getComputedStyle(s)[a]}let gu=(()=>{class s{validateStyleProperty(o){return function cl(s){Di||(Di=function sf(){return typeof document<"u"?document.body:null}()||{},Bm=!!Di.style&&"WebkitAppearance"in Di.style);let a=!0;return Di.style&&!function af(s){return"ebkit"==s.substring(1,6)}(s)&&(a=s in Di.style,!a&&Bm&&(a="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in Di.style)),a}(o)}containsElement(o,u){return Um(o,u)}getParentElement(o){return mu(o)}query(o,u,d){return dl(o,u,d)}computeStyle(o,u,d){return d||""}animate(o,u,d,p,b,I=[],B){return new rl(d,p)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();class Gm{static NOOP=new gu}class vu{}const Gg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hf extends vu{normalizePropertyName(a,o){return qc(a)}normalizeStyleValue(a,o,u,d){let p="";const b=u.toString().trim();if(Gg.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)p="px";else{const I=u.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&d.push(function al(){return new x.buA(3005,!1)}())}return b+p}}const vs=new Set(["true","1"]),_s=new Set(["false","0"]);function Xm(s,a){const o=vs.has(s)||_s.has(s),u=vs.has(a)||_s.has(a);return(d,p)=>{let b="*"==s||s==d,I="*"==a||a==p;return!b&&o&&"boolean"==typeof d&&(b=d?vs.has(s):_s.has(s)),!I&&u&&"boolean"==typeof p&&(I=p?vs.has(a):_s.has(a)),b&&I}}const Ym=new RegExp("s*:selfs*,?","g");function Qc(s,a,o,u){return new yf(s).build(a,o,u)}class yf{_driver;constructor(a){this._driver=a}build(a,o,u){const d=new bu(o);return this._resetContextStyleTimingState(d),Ko(this,Ha(a),d)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,o){let u=o.queryCount=0,d=o.depCount=0;const p=[],b=[];return"@"==a.name.charAt(0)&&o.errors.push(function Xp(){return new x.buA(3006,!1)}()),a.definitions.forEach(I=>{if(this._resetContextStyleTimingState(o),I.type==Ot.State){const B=I,Y=B.name;Y.toString().split(/\s*,\s*/).forEach(Me=>{B.name=Me,p.push(this.visitState(B,o))}),B.name=Y}else if(I.type==Ot.Transition){const B=this.visitTransition(I,o);u+=B.queryCount,d+=B.depCount,b.push(B)}else o.errors.push(function Pm(){return new x.buA(3007,!1)}())}),{type:Ot.Trigger,name:a.name,states:p,transitions:b,queryCount:u,depCount:d,options:null}}visitState(a,o){const u=this.visitStyle(a.styles,o),d=a.options&&a.options.params||null;if(u.containsDynamicStyles){const p=new Set,b=d||{};u.styles.forEach(I=>{I instanceof Map&&I.forEach(B=>{Km(B).forEach(Y=>{b.hasOwnProperty(Y)||p.add(Y)})})}),p.size&&o.errors.push(function lu(){return new x.buA(3008,!1)}(0,p.values()))}return{type:Ot.State,name:a.name,style:u,options:d?{params:d}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const u=Ko(this,Ha(a.animation),o),d=function pf(s,a){const o=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(u=>function Ai(s,a,o){if(":"==s[0]){const B=function ml(s,a){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return a.push(function Zp(){return new x.buA(3016,!1)}()),"* => *"}}(s,o);if("function"==typeof B)return void a.push(B);s=B}const u=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Ug(){return new x.buA(3015,!1)}()),a;const d=u[1],p=u[2],b=u[3];a.push(Xm(d,b)),"<"==p[0]&&("*"!=d||"*"!=b)&&a.push(Xm(b,d))}(u,o,a)):o.push(s),o}(a.expr,o.errors);return{type:Ot.Transition,matchers:d,animation:u,queryCount:o.queryCount,depCount:o.depCount,options:Ra(a.options)}}visitSequence(a,o){return{type:Ot.Sequence,steps:a.steps.map(u=>Ko(this,u,o)),options:Ra(a.options)}}visitGroup(a,o){const u=o.currentTime;let d=0;const p=a.steps.map(b=>{o.currentTime=u;const I=Ko(this,b,o);return d=Math.max(d,o.currentTime),I});return o.currentTime=d,{type:Ot.Group,steps:p,options:Ra(a.options)}}visitAnimate(a,o){const u=function Jm(s,a){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return bs(pu(s,a).duration,0,"");const o=s;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=bs(0,0,"");return p.dynamic=!0,p.strValue=o,p}const d=pu(o,a);return bs(d.duration,d.delay,d.easing)}(a.timings,o.errors);o.currentAnimateTimings=u;let d,p=a.styles?a.styles:zp({});if(p.type==Ot.Keyframes)d=this.visitKeyframes(p,o);else{let b=a.styles,I=!1;if(!b){I=!0;const Y={};u.easing&&(Y.easing=u.easing),b=zp(Y)}o.currentTime+=u.duration+u.delay;const B=this.visitStyle(b,o);B.isEmptyStep=I,d=B}return o.currentAnimateTimings=null,{type:Ot.Animate,timings:u,style:d,options:null}}visitStyle(a,o){const u=this._makeStyleAst(a,o);return this._validateStyleAst(u,o),u}_makeStyleAst(a,o){const u=[],d=Array.isArray(a.styles)?a.styles:[a.styles];for(let I of d)"string"==typeof I?I===Ua?u.push(I):o.errors.push(Fg()):u.push(new Map(Object.entries(I)));let p=!1,b=null;return u.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(b=I.get("easing"),I.delete("easing")),!p))for(let B of I.values())if(B.toString().indexOf("{{")>=0){p=!0;break}}),{type:Ot.Style,styles:u,easing:b,offset:a.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(a,o){const u=o.currentAnimateTimings;let d=o.currentTime,p=o.currentTime;u&&p>0&&(p-=u.duration+u.delay),a.styles.forEach(b=>{"string"!=typeof b&&b.forEach((I,B)=>{const Y=o.collectedStyles.get(o.currentQuerySelector),Me=Y.get(B);let Ne=!0;Me&&(p!=d&&p>=Me.startTime&&d<=Me.endTime&&(o.errors.push(function jg(){return new x.buA(3010,!1)}()),Ne=!1),p=Me.startTime),Ne&&Y.set(B,{startTime:p,endTime:d}),o.options&&function fu(s,a,o){const u=a.params||{},d=Km(s);d.length&&d.forEach(p=>{u.hasOwnProperty(p)||o.push(function Om(){return new x.buA(3001,!1)}())})}(I,o.options,o.errors)})})}visitKeyframes(a,o){const u={type:Ot.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function il(){return new x.buA(3011,!1)}()),u;let p=0;const b=[];let I=!1,B=!1,Y=0;const Me=a.steps.map(Et=>{const Ut=this._makeStyleAst(Et,o);let Qt=null!=Ut.offset?Ut.offset:function _f(s){if("string"==typeof s)return null;let a=null;if(Array.isArray(s))s.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;a=parseFloat(u.get("offset")),u.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const o=s;a=parseFloat(o.get("offset")),o.delete("offset")}return a}(Ut.styles),Rt=0;return null!=Qt&&(p++,Rt=Ut.offset=Qt),B=B||Rt<0||Rt>1,I=I||Rt<Y,Y=Rt,b.push(Rt),Ut});B&&o.errors.push(function Yp(){return new x.buA(3012,!1)}()),I&&o.errors.push(function uu(){return new x.buA(3200,!1)}());const Ne=a.steps.length;let Ye=0;p>0&&p<Ne?o.errors.push(function Bc(){return new x.buA(3202,!1)}()):0==p&&(Ye=1/(Ne-1));const lt=Ne-1,et=o.currentTime,tt=o.currentAnimateTimings,dt=tt.duration;return Me.forEach((Et,Ut)=>{const Qt=Ye>0?Ut==lt?1:Ye*Ut:b[Ut],Rt=Qt*dt;o.currentTime=et+tt.delay+Rt,tt.duration=Rt,this._validateStyleAst(Et,o),Et.offset=Qt,u.styles.push(Et)}),u}visitReference(a,o){return{type:Ot.Reference,animation:Ko(this,Ha(a.animation),o),options:Ra(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:Ot.AnimateChild,options:Ra(a.options)}}visitAnimateRef(a,o){return{type:Ot.AnimateRef,animation:this.visitReference(a.animation,o),options:Ra(a.options)}}visitQuery(a,o){const u=o.currentQuerySelector,d=a.options||{};o.queryCount++,o.currentQuery=a;const[p,b]=function gf(s){const a=!!s.split(/\s*,\s*/).find(o=>":self"==o);return a&&(s=s.replace(Ym,"")),s=s.replace(/@\*/g,Ci).replace(/@\w+/g,o=>Ci+"-"+o.slice(1)).replace(/:animating/g,Wc),[s,a]}(a.selector);o.currentQuerySelector=u.length?u+" "+p:p,zo(o.collectedStyles,o.currentQuerySelector,new Map);const I=Ko(this,Ha(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:Ot.Query,selector:p,limit:d.limit||0,optional:!!d.optional,includeSelf:b,animation:I,originalSelector:a.selector,options:Ra(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push(function Jp(){return new x.buA(3013,!1)}());const u="full"===a.timings?{duration:0,delay:0,easing:"full"}:pu(a.timings,o.errors,!0);return{type:Ot.Stagger,animation:Ko(this,Ha(a.animation),o),timings:u,options:null}}}class bu{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(a){this.errors=a}}function Ra(s){return s?(s={...s}).params&&(s.params=function vf(s){return s?{...s}:null}(s.params)):s={},s}function bs(s,a,o){return{duration:s,delay:a,easing:o}}function Xc(s,a,o,u,d,p,b=null,I=!1){return{type:1,element:s,keyframes:a,preStyleProps:o,postStyleProps:u,duration:d,delay:p,totalTime:d+p,easing:b,subTimeline:I}}class wu{_map=new Map;get(a){return this._map.get(a)||[]}append(a,o){let u=this._map.get(a);u||this._map.set(a,u=[]),u.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const eh=new RegExp(":enter","g"),wf=new RegExp(":leave","g");function Ti(s,a,o,u,d,p=new Map,b=new Map,I,B,Y=[]){return(new Ef).buildKeyframes(s,a,o,u,d,p,b,I,B,Y)}class Ef{buildKeyframes(a,o,u,d,p,b,I,B,Y,Me=[]){Y=Y||new wu;const Ne=new Yc(a,o,Y,d,p,Me,[]);Ne.options=B;const Ye=B.delay?$a(B.delay):0;Ne.currentTimeline.delayNextStep(Ye),Ne.currentTimeline.setStyles([b],null,Ne.errors,B),Ko(this,u,Ne);const lt=Ne.timelines.filter(et=>et.containsAnimation());if(lt.length&&I.size){let et;for(let tt=lt.length-1;tt>=0;tt--){const dt=lt[tt];if(dt.element===o){et=dt;break}}et&&!et.allowOnlyTimelineStyles()&&et.setStyles([I],null,Ne.errors,B)}return lt.length?lt.map(et=>et.buildKeyframes()):[Xc(o,[],[],[],0,Ye,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const u=o.subInstructions.get(o.element);if(u){const d=o.createSubContext(a.options),p=o.currentTimeline.currentTime,b=this._visitSubInstructions(u,d,d.options);p!=b&&o.transformIntoNewTimeline(b)}o.previousNode=a}visitAnimateRef(a,o){const u=o.createSubContext(a.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],o,u),this.visitReference(a.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=a}_applyAnimationRefDelays(a,o,u){for(const d of a){const p=d?.delay;if(p){const b="number"==typeof p?p:$a(gs(p,d?.params??{},o.errors));u.delayNextStep(b)}}}_visitSubInstructions(a,o,u){let p=o.currentTimeline.currentTime;const b=null!=u.duration?$a(u.duration):null,I=null!=u.delay?$a(u.delay):null;return 0!==b&&a.forEach(B=>{const Y=o.appendInstructionToTimeline(B,b,I);p=Math.max(p,Y.duration+Y.delay)}),p}visitReference(a,o){o.updateOptions(a.options,!0),Ko(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const u=o.subContextCount;let d=o;const p=a.options;if(p&&(p.params||p.delay)&&(d=o.createSubContext(p),d.transformIntoNewTimeline(),null!=p.delay)){d.previousNode.type==Ot.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=hl);const b=$a(p.delay);d.delayNextStep(b)}a.steps.length&&(a.steps.forEach(b=>Ko(this,b,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>u&&d.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const u=[];let d=o.currentTimeline.currentTime;const p=a.options&&a.options.delay?$a(a.options.delay):0;a.steps.forEach(b=>{const I=o.createSubContext(a.options);p&&I.delayNextStep(p),Ko(this,b,I),d=Math.max(d,I.currentTimeline.currentTime),u.push(I.currentTimeline)}),u.forEach(b=>o.currentTimeline.mergeTimelineCollectedStyles(b)),o.transformIntoNewTimeline(d),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const u=a.strValue;return pu(o.params?gs(u,o.params,o.errors):u,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const u=o.currentAnimateTimings=this._visitTiming(a.timings,o),d=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),d.snapshotCurrentStyles());const p=a.style;p.type==Ot.Keyframes?this.visitKeyframes(p,o):(o.incrementTime(u.duration),this.visitStyle(p,o),d.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const u=o.currentTimeline,d=o.currentAnimateTimings;!d&&u.hasCurrentStyleProperties()&&u.forwardFrame();const p=d&&d.easing||a.easing;a.isEmptyStep?u.applyEmptyStep(p):u.setStyles(a.styles,p,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const u=o.currentAnimateTimings,d=o.currentTimeline.duration,p=u.duration,I=o.createSubContext().currentTimeline;I.easing=u.easing,a.styles.forEach(B=>{I.forwardTime((B.offset||0)*p),I.setStyles(B.styles,B.easing,o.errors,o.options),I.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(I),o.transformIntoNewTimeline(d+p),o.previousNode=a}visitQuery(a,o){const u=o.currentTimeline.currentTime,d=a.options||{},p=d.delay?$a(d.delay):0;p&&(o.previousNode.type===Ot.Style||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=hl);let b=u;const I=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!d.optional,o.errors);o.currentQueryTotal=I.length;let B=null;I.forEach((Y,Me)=>{o.currentQueryIndex=Me;const Ne=o.createSubContext(a.options,Y);p&&Ne.delayNextStep(p),Y===o.element&&(B=Ne.currentTimeline),Ko(this,a.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Ne.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(b),B&&(o.currentTimeline.mergeTimelineCollectedStyles(B),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const u=o.parentContext,d=o.currentTimeline,p=a.timings,b=Math.abs(p.duration),I=b*(o.currentQueryTotal-1);let B=b*o.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":B=I-B;break;case"full":B=u.currentStaggerTime}const Me=o.currentTimeline;B&&Me.delayNextStep(B);const Ne=Me.currentTime;Ko(this,a.animation,o),o.previousNode=a,u.currentStaggerTime=d.currentTime-Ne+(d.startTime-u.currentTimeline.startTime)}}const hl={};class Yc{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=hl;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(a,o,u,d,p,b,I,B){this._driver=a,this.element=o,this.subInstructions=u,this._enterClassName=d,this._leaveClassName=p,this.errors=b,this.timelines=I,this.currentTimeline=B||new pl(this._driver,o,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const u=a;let d=this.options;null!=u.duration&&(d.duration=$a(u.duration)),null!=u.delay&&(d.delay=$a(u.delay));const p=u.params;if(p){let b=d.params;b||(b=this.options.params={}),Object.keys(p).forEach(I=>{(!o||!b.hasOwnProperty(I))&&(b[I]=gs(p[I],b,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const u=a.params={};Object.keys(o).forEach(d=>{u[d]=o[d]})}}return a}createSubContext(a=null,o,u){const d=o||this.element,p=new Yc(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,u||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(a),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(a){return this.previousNode=hl,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,u){const d={duration:o??a.duration,delay:this.currentTimeline.currentTime+(u??0)+a.delay,easing:""},p=new th(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,d,a.stretchStartingKeyframe);return this.timelines.push(p),d}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,u,d,p,b){let I=[];if(d&&I.push(this.element),a.length>0){a=(a=a.replace(eh,"."+this._enterClassName)).replace(wf,"."+this._leaveClassName);let Y=this._driver.query(this.element,a,1!=u);0!==u&&(Y=u<0?Y.slice(Y.length+u,Y.length):Y.slice(0,u)),I.push(...Y)}return!p&&0==I.length&&b.push(function Bg(){return new x.buA(3014,!1)}()),I}}class pl{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(a,o,u,d){this._driver=a,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=d,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new pl(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles.set(a,o),this._globalTimelineStyles.set(a,o),this._styleSummary.set(a,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||Ua),this._currentKeyframe.set(o,Ua);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,u,d){o&&this._previousKeyframe.set("easing",o);const p=d&&d.params||{},b=function rh(s,a){const o=new Map;let u;return s.forEach(d=>{if("*"===d){u??=a.keys();for(let p of u)o.set(p,Ua)}else for(let[p,b]of d)o.set(p,b)}),o}(a,this._globalTimelineStyles);for(let[I,B]of b){const Y=gs(B,p,u);this._pendingStyles.set(I,Y),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??Ua),this._updateStyle(I,Y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,o)=>{this._currentKeyframe.set(o,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,a)}))}snapshotCurrentStyles(){for(let[a,o]of this._localTimelineStyles)this._pendingStyles.set(a,o),this._updateStyle(a,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((o,u)=>{const d=this._styleSummary.get(u);(!d||o.time>d.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((I,B)=>{const Y=new Map([...this._backFill,...I]);Y.forEach((Me,Ne)=>{"!"===Me?a.add(Ne):Me===Ua&&o.add(Ne)}),u||Y.set("offset",B/this.duration),d.push(Y)});const p=[...a.values()],b=[...o.values()];if(u){const I=d[0],B=new Map(I);I.set("offset",0),B.set("offset",1),d=[I,B]}return Xc(this.element,d,p,b,this.duration,this.startTime,this.easing,!1)}}class th extends pl{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(a,o,u,d,p,b,I=!1){super(a,o,b.delay),this.keyframes=u,this.preStyleProps=d,this.postStyleProps=p,this._stretchStartingKeyframe=I,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:u,easing:d}=this.timings;if(this._stretchStartingKeyframe&&o){const p=[],b=u+o,I=o/b,B=new Map(a[0]);B.set("offset",0),p.push(B);const Y=new Map(a[0]);Y.set("offset",nh(I)),p.push(Y);const Me=a.length-1;for(let Ne=1;Ne<=Me;Ne++){let Ye=new Map(a[Ne]);const lt=Ye.get("offset");Ye.set("offset",nh((o+lt*u)/b)),p.push(Ye)}u=b,o=0,d="",a=p}return Xc(this.element,a,this.preStyleProps,this.postStyleProps,u,o,d,!0)}}function nh(s,a=3){const o=Math.pow(10,a-1);return Math.round(s*o)/o}function oh(s,a,o,u,d,p,b,I,B,Y,Me,Ne,Ye){return{type:0,element:s,triggerName:a,isRemovalTransition:d,fromState:o,fromStyles:p,toState:u,toStyles:b,timelines:I,queriedElements:B,preStyleProps:Y,postStyleProps:Me,totalTime:Ne,errors:Ye}}const ws={};class Eu{_triggerName;ast;_stateStyles;constructor(a,o,u){this._triggerName=a,this.ast=o,this._stateStyles=u}match(a,o,u,d){return function kf(s,a,o,u,d){return s.some(p=>p(a,o,u,d))}(this.ast.matchers,a,o,u,d)}buildStyles(a,o,u){let d=this._stateStyles.get("*");return void 0!==a&&(d=this._stateStyles.get(a?.toString())||d),d?d.buildStyles(o,u):new Map}build(a,o,u,d,p,b,I,B,Y,Me){const Ne=[],Ye=this.ast.options&&this.ast.options.params||ws,et=this.buildStyles(u,I&&I.params||ws,Ne),tt=B&&B.params||ws,dt=this.buildStyles(d,tt,Ne),Et=new Set,Ut=new Map,Qt=new Map,Rt="void"===d,Ir={params:ah(tt,Ye),delay:this.ast.options?.delay},Rr=Me?[]:Ti(a,o,this.ast.animation,p,b,et,dt,Ir,Y,Ne);let on=0;return Rr.forEach(Or=>{on=Math.max(Or.duration+Or.delay,on)}),Ne.length?oh(o,this._triggerName,u,d,Rt,et,dt,[],[],Ut,Qt,on,Ne):(Rr.forEach(Or=>{const vo=Or.element,As=zo(Ut,vo,new Set);Or.preStyleProps.forEach(_a=>As.add(_a));const _d=zo(Qt,vo,new Set);Or.postStyleProps.forEach(_a=>_d.add(_a)),vo!==o&&Et.add(vo)}),oh(o,this._triggerName,u,d,Rt,et,dt,Rr,[...Et.values()],Ut,Qt,on))}}function ah(s,a){const o={...a};return Object.entries(s).forEach(([u,d])=>{null!=d&&(o[u]=d)}),o}class Jc{styles;defaultParams;normalizer;constructor(a,o,u){this.styles=a,this.defaultParams=o,this.normalizer=u}buildStyles(a,o){const u=new Map,d=ah(a,this.defaultParams);return this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((b,I)=>{b&&(b=gs(b,d,o));const B=this.normalizer.normalizePropertyName(I,o);b=this.normalizer.normalizeStyleValue(I,B,b,o),u.set(I,b)})}),u}}class ku{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(a,o,u){this.name=a,this.ast=o,this._normalizer=u,o.states.forEach(d=>{this.states.set(d.name,new Jc(d.style,d.options&&d.options.params||{},u))}),Es(this.states,"true","1"),Es(this.states,"false","0"),o.transitions.forEach(d=>{this.transitionFactories.push(new Eu(a,d,this.states))}),this.fallbackTransition=function ih(s,a){return new Eu(s,{type:Ot.Transition,animation:{type:Ot.Sequence,steps:[],options:null},matchers:[(b,I)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,u,d){return this.transitionFactories.find(b=>b.match(a,o,u,d))||null}matchStyles(a,o,u){return this.fallbackTransition.buildStyles(a,o,u)}}function Es(s,a,o){s.has(a)?s.has(o)||s.set(o,s.get(a)):s.has(o)&&s.set(a,s.get(o))}const Df=new wu;class Cf{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u}register(a,o){const u=[],p=Qc(this._driver,o,u,[]);if(u.length)throw function ef(){return new x.buA(3503,!1)}();this._animations.set(a,p)}_buildPlayer(a,o,u){const d=a.element,p=$c(this._normalizer,a.keyframes,o,u);return this._driver.animate(d,p,a.duration,a.delay,a.easing,[],!0)}create(a,o,u={}){const d=[],p=this._animations.get(a);let b;const I=new Map;if(p?(b=Ti(this._driver,o,p,Hm,hu,new Map,new Map,u,Df,d),b.forEach(Me=>{const Ne=zo(I,Me.element,new Map);Me.postStyleProps.forEach(Ye=>Ne.set(Ye,null))})):(d.push(function tf(){return new x.buA(3300,!1)}()),b=[]),d.length)throw function nf(){return new x.buA(3504,!1)}();I.forEach((Me,Ne)=>{Me.forEach((Ye,lt)=>{Me.set(lt,this._driver.computeStyle(Ne,lt,Ua))})});const Y=oa(b.map(Me=>{const Ne=I.get(Me.element);return this._buildPlayer(Me,new Map,Ne)}));return this._playersById.set(a,Y),Y.onDestroy(()=>this.destroy(a)),this.players.push(Y),Y}destroy(a){const o=this._getPlayer(a);o.destroy(),this._playersById.delete(a);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(a){const o=this._playersById.get(a);if(!o)throw function Uc(){return new x.buA(3301,!1)}();return o}listen(a,o,u,d){const p=ul(o,"","","");return du(this._getPlayer(a),u,p,d),()=>{}}command(a,o,u,d){if("register"==u)return void this.register(a,d[0]);if("create"==u)return void this.create(a,o,d[0]||{});const p=this._getPlayer(a);switch(u){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(a)}}}const sh="ng-animate-queued",Ii="ng-animate-disabled",Ds=[],lh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class ed{namespaceId;value;options;get params(){return this.options.params}constructor(a,o=""){this.namespaceId=o;const u=a&&a.hasOwnProperty("value");if(this.value=function Sf(s){return s??null}(u?a.value:a),u){const{value:p,...b}=a;this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const o=a.params;if(o){const u=this.options.params;Object.keys(o).forEach(d=>{null==u[d]&&(u[d]=o[d])})}}}const fl="void",td=new ed(fl);class ch{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(a,o,u){this.id=a,this.hostElement=o,this._engine=u,this._hostClassName="ng-tns-"+a,Mo(o,this._hostClassName)}listen(a,o,u,d){if(!this._triggers.has(o))throw function sl(){return new x.buA(3302,!1)}();if(null==u||0==u.length)throw function Vc(){return new x.buA(3303,!1)}();if(!function Af(s){return"start"==s||"done"==s}(u))throw function cu(){return new x.buA(3400,!1)}();const p=zo(this._elementListeners,a,[]),b={name:o,phase:u,callback:d};p.push(b);const I=zo(this._engine.statesByElement,a,new Map);return I.has(o)||(Mo(a,ys),Mo(a,ys+"-"+o),I.set(o,td)),()=>{this._engine.afterFlush(()=>{const B=p.indexOf(b);B>=0&&p.splice(B,1),this._triggers.has(o)||I.delete(o)})}}register(a,o){return!this._triggers.has(a)&&(this._triggers.set(a,o),!0)}_getTrigger(a){const o=this._triggers.get(a);if(!o)throw function Nm(){return new x.buA(3401,!1)}();return o}trigger(a,o,u,d=!0){const p=this._getTrigger(o),b=new Cu(this.id,o,a);let I=this._engine.statesByElement.get(a);I||(Mo(a,ys),Mo(a,ys+"-"+o),this._engine.statesByElement.set(a,I=new Map));let B=I.get(o);const Y=new ed(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&B&&Y.absorbOptions(B.options),I.set(o,Y),B||(B=td),Y.value!==fl&&B.value===Y.value){if(!function Tf(s,a){const o=Object.keys(s),u=Object.keys(a);if(o.length!=u.length)return!1;for(let d=0;d<o.length;d++){const p=o[d];if(!a.hasOwnProperty(p)||s[p]!==a[p])return!1}return!0}(B.params,Y.params)){const tt=[],dt=p.matchStyles(B.value,B.params,tt),Et=p.matchStyles(Y.value,Y.params,tt);tt.length?this._engine.reportError(tt):this._engine.afterFlush(()=>{Si(a,dt),ya(a,Et)})}return}const Ye=zo(this._engine.playersByElement,a,[]);Ye.forEach(tt=>{tt.namespaceId==this.id&&tt.triggerName==o&&tt.queued&&tt.destroy()});let lt=p.matchTransition(B.value,Y.value,a,Y.params),et=!1;if(!lt){if(!d)return;lt=p.fallbackTransition,et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:lt,fromState:B,toState:Y,player:b,isFallbackTransition:et}),et||(Mo(a,sh),b.onStart(()=>{oi(a,sh)})),b.onDone(()=>{let tt=this.players.indexOf(b);tt>=0&&this.players.splice(tt,1);const dt=this._engine.playersByElement.get(a);if(dt){let Et=dt.indexOf(b);Et>=0&&dt.splice(Et,1)}}),this.players.push(b),Ye.push(b),b}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(o=>o.delete(a)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(d=>d.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const u=this._engine.driver.query(a,Ci,!0);u.forEach(d=>{if(d[ga])return;const p=this._engine.fetchNamespacesByElement(d);p.size?p.forEach(b=>b.triggerLeaveAnimation(d,o,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(a,o,u,d){const p=this._engine.statesByElement.get(a),b=new Map;if(p){const I=[];if(p.forEach((B,Y)=>{if(b.set(Y,B.value),this._triggers.has(Y)){const Me=this.trigger(a,Y,fl,d);Me&&I.push(Me)}}),I.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,b),u&&oa(I).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),u=this._engine.statesByElement.get(a);if(o&&u){const d=new Set;o.forEach(p=>{const b=p.name;if(d.has(b))return;d.add(b);const B=this._triggers.get(b).fallbackTransition,Y=u.get(b)||td,Me=new ed(fl),Ne=new Cu(this.id,b,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:b,transition:B,fromState:Y,toState:Me,player:Ne,isFallbackTransition:!0})})}}removeNode(a,o){const u=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let d=!1;if(u.totalAnimations){const p=u.players.length?u.playersByQueriedElement.get(a):[];if(p&&p.length)d=!0;else{let b=a;for(;b=b.parentNode;)if(u.statesByElement.get(b)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(a),d)u.markElementAsRemoved(this.id,a,!1,o);else{const p=a[ga];(!p||p===lh)&&(u.afterFlush(()=>this.clearElementCache(a)),u.destroyInnerAnimations(a),u._onRemovalComplete(a,o))}}insertNode(a,o){Mo(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(u=>{const d=u.player;if(d.destroyed)return;const p=u.element,b=this._elementListeners.get(p);b&&b.forEach(I=>{if(I.name==u.triggerName){const B=ul(p,u.triggerName,u.fromState.value,u.toState.value);B._data=a,du(u.player,I.phase,B,I.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):o.push(u)}),this._queue=[],o.sort((u,d)=>{const p=u.transition.ast.depCount,b=d.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(u.element,d.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}}class dh{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(a,o)=>{};_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}constructor(a,o,u){this.bodyNode=a,this.driver=o,this._normalizer=u}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&a.push(u)})}),a}createNamespace(a,o){const u=new ch(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[a]=u}_balanceNamespaceList(a,o){const u=this._namespaceList,d=this.namespacesByHostElement;if(u.length-1>=0){let b=!1,I=this.driver.getParentElement(o);for(;I;){const B=d.get(I);if(B){const Y=u.indexOf(B);u.splice(Y+1,0,a),b=!0;break}I=this.driver.getParentElement(I)}b||u.unshift(a)}else u.push(a);return d.set(o,a),a}register(a,o){let u=this._namespaceLookup[a];return u||(u=this.createNamespace(a,o)),u}registerTrigger(a,o,u){let d=this._namespaceLookup[a];d&&d.register(o,u)&&this.totalAnimations++}destroy(a,o){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(a);this.namespacesByHostElement.delete(u.hostElement);const d=this._namespaceList.indexOf(u);d>=0&&this._namespaceList.splice(d,1),u.destroy(o),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,u=this.statesByElement.get(a);if(u)for(let d of u.values())if(d.namespaceId){const p=this._fetchNamespace(d.namespaceId);p&&o.add(p)}return o}trigger(a,o,u,d){if(Su(o)){const p=this._fetchNamespace(a);if(p)return p.trigger(o,u,d),!0}return!1}insertNode(a,o,u,d){if(!Su(o))return;const p=o[ga];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(o);b>=0&&this.collectedLeaveElements.splice(b,1)}if(a){const b=this._fetchNamespace(a);b&&b.insertNode(o,u)}d&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Mo(a,Ii)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),oi(a,Ii))}removeNode(a,o,u){if(Su(o)){const d=a?this._fetchNamespace(a):null;d?d.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u);const p=this.namespacesByHostElement.get(o);p&&p.id!==a&&p.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,u,d,p){this.collectedLeaveElements.push(o),o[ga]={namespaceId:a,setForRemoval:d,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:p}}listen(a,o,u,d,p){return Su(o)?this._fetchNamespace(a).listen(o,u,d,p):()=>{}}_buildInstruction(a,o,u,d,p){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,u,d,a.fromState.options,a.toState.options,o,p)}destroyInnerAnimations(a){let o=this.driver.query(a,Ci,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,Wc,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return oa(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[ga];if(o&&o.setForRemoval){if(a[ga]=lh,o.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(Ii)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,d)=>this._balanceNamespaceList(u,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Mo(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,a)}finally{for(let d=0;d<u.length;d++)u[d]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?oa(o).onDone(()=>{u.forEach(d=>d())}):u.forEach(d=>d())}}reportError(a){throw function ll(){return new x.buA(3402,!1)}()}_flushAnimations(a,o){const u=new wu,d=[],p=new Map,b=[],I=new Map,B=new Map,Y=new Map,Me=new Set;this.disabledNodes.forEach(_t=>{Me.add(_t);const Dt=this.driver.query(_t,".ng-animate-queued",!0);for(let It=0;It<Dt.length;It++)Me.add(Dt[It])});const Ne=this.bodyNode,Ye=Array.from(this.statesByElement.keys()),lt=Mf(Ye,this.collectedEnterElements),et=new Map;let tt=0;lt.forEach((_t,Dt)=>{const It=Hm+tt++;et.set(Dt,It),_t.forEach(an=>Mo(an,It))});const dt=[],Et=new Set,Ut=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Dt=this.collectedLeaveElements[_t],It=Dt[ga];It&&It.setForRemoval&&(dt.push(Dt),Et.add(Dt),It.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(an=>Et.add(an)):Ut.add(Dt))}const Qt=new Map,Rt=Mf(Ye,Array.from(Et));Rt.forEach((_t,Dt)=>{const It=hu+tt++;Qt.set(Dt,It),_t.forEach(an=>Mo(an,It))}),a.push(()=>{lt.forEach((_t,Dt)=>{const It=et.get(Dt);_t.forEach(an=>oi(an,It))}),Rt.forEach((_t,Dt)=>{const It=Qt.get(Dt);_t.forEach(an=>oi(an,It))}),dt.forEach(_t=>{this.processLeaveNode(_t)})});const Ir=[],Rr=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(o).forEach(It=>{const an=It.player,Rn=It.element;if(Ir.push(an),this.collectedEnterElements.length){const Wt=Rn[ga];if(Wt&&Wt.setForMove){if(Wt.previousTriggersValues&&Wt.previousTriggersValues.has(It.triggerName)){const Vi=Wt.previousTriggersValues.get(It.triggerName),xo=this.statesByElement.get(It.element);if(xo&&xo.has(It.triggerName)){const $u=xo.get(It.triggerName);$u.value=Vi,xo.set(It.triggerName,$u)}}return void an.destroy()}}const ba=!Ne||!this.driver.containsElement(Ne,Rn),To=Qt.get(Rn),Ui=et.get(Rn),Bn=this._buildInstruction(It,u,Ui,To,ba);if(Bn.errors&&Bn.errors.length)return void Rr.push(Bn);if(ba)return an.onStart(()=>Si(Rn,Bn.fromStyles)),an.onDestroy(()=>ya(Rn,Bn.toStyles)),void d.push(an);if(It.isFallbackTransition)return an.onStart(()=>Si(Rn,Bn.fromStyles)),an.onDestroy(()=>ya(Rn,Bn.toStyles)),void d.push(an);const El=[];Bn.timelines.forEach(Wt=>{Wt.stretchStartingKeyframe=!0,this.disabledNodes.has(Wt.element)||El.push(Wt)}),Bn.timelines=El,u.append(Rn,Bn.timelines),b.push({instruction:Bn,player:an,element:Rn}),Bn.queriedElements.forEach(Wt=>zo(I,Wt,[]).push(an)),Bn.preStyleProps.forEach((Wt,Vi)=>{if(Wt.size){let xo=B.get(Vi);xo||B.set(Vi,xo=new Set),Wt.forEach(($u,Ed)=>xo.add(Ed))}}),Bn.postStyleProps.forEach((Wt,Vi)=>{let xo=Y.get(Vi);xo||Y.set(Vi,xo=new Set),Wt.forEach(($u,Ed)=>xo.add(Ed))})});if(Rr.length){const _t=[];Rr.forEach(Dt=>{_t.push(function Lm(){return new x.buA(3505,!1)}())}),Ir.forEach(Dt=>Dt.destroy()),this.reportError(_t)}const on=new Map,Or=new Map;b.forEach(_t=>{const Dt=_t.element;u.has(Dt)&&(Or.set(Dt,Dt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,on))}),d.forEach(_t=>{const Dt=_t.element;this._getPreviousPlayers(Dt,!1,_t.namespaceId,_t.triggerName,null).forEach(an=>{zo(on,Dt,[]).push(an),an.destroy()})});const vo=dt.filter(_t=>rd(_t,B,Y)),As=new Map;ph(As,this.driver,Ut,Y,Ua).forEach(_t=>{rd(_t,B,Y)&&vo.push(_t)});const _a=new Map;lt.forEach((_t,Dt)=>{ph(_a,this.driver,new Set(_t),B,"!")}),vo.forEach(_t=>{const Dt=As.get(_t),It=_a.get(_t);As.set(_t,new Map([...Dt?.entries()??[],...It?.entries()??[]]))});const Ms=[],bd=[],wd={};b.forEach(_t=>{const{element:Dt,player:It,instruction:an}=_t;if(u.has(Dt)){if(Me.has(Dt))return It.onDestroy(()=>ya(Dt,an.toStyles)),It.disabled=!0,It.overrideTotalTime(an.totalTime),void d.push(It);let Rn=wd;if(Or.size>1){let To=Dt;const Ui=[];for(;To=To.parentNode;){const Bn=Or.get(To);if(Bn){Rn=Bn;break}Ui.push(To)}Ui.forEach(Bn=>Or.set(Bn,Rn))}const ba=this._buildAnimation(It.namespaceId,an,on,p,_a,As);if(It.setRealPlayer(ba),Rn===wd)Ms.push(It);else{const To=this.playersByElement.get(Rn);To&&To.length&&(It.parentPlayer=oa(To)),d.push(It)}}else Si(Dt,an.fromStyles),It.onDestroy(()=>ya(Dt,an.toStyles)),bd.push(It),Me.has(Dt)&&d.push(It)}),bd.forEach(_t=>{const Dt=p.get(_t.element);if(Dt&&Dt.length){const It=oa(Dt);_t.setRealPlayer(It)}}),d.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<dt.length;_t++){const Dt=dt[_t],It=Dt[ga];if(oi(Dt,hu),It&&It.hasAnimation)continue;let an=[];if(I.size){let ba=I.get(Dt);ba&&ba.length&&an.push(...ba);let To=this.driver.query(Dt,Wc,!0);for(let Ui=0;Ui<To.length;Ui++){let Bn=I.get(To[Ui]);Bn&&Bn.length&&an.push(...Bn)}}const Rn=an.filter(ba=>!ba.destroyed);Rn.length?fh(this,Dt,Rn):this.processLeaveNode(Dt)}return dt.length=0,Ms.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Dt=this.players.indexOf(_t);this.players.splice(Dt,1)}),_t.play()}),Ms}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,u,d,p){let b=[];if(o){const I=this.playersByQueriedElement.get(a);I&&(b=I)}else{const I=this.playersByElement.get(a);if(I){const B=!p||p==fl;I.forEach(Y=>{Y.queued||!B&&Y.triggerName!=d||b.push(Y)})}}return(u||d)&&(b=b.filter(I=>!(u&&u!=I.namespaceId||d&&d!=I.triggerName))),b}_beforeAnimationBuild(a,o,u){const p=o.element,b=o.isRemovalTransition?void 0:a,I=o.isRemovalTransition?void 0:o.triggerName;for(const B of o.timelines){const Y=B.element,Me=Y!==p,Ne=zo(u,Y,[]);this._getPreviousPlayers(Y,Me,b,I,o.toState).forEach(lt=>{const et=lt.getRealPlayer();et.beforeDestroy&&et.beforeDestroy(),lt.destroy(),Ne.push(lt)})}Si(p,o.fromStyles)}_buildAnimation(a,o,u,d,p,b){const I=o.triggerName,B=o.element,Y=[],Me=new Set,Ne=new Set,Ye=o.timelines.map(et=>{const tt=et.element;Me.add(tt);const dt=tt[ga];if(dt&&dt.removedBeforeQueried)return new rl(et.duration,et.delay);const Et=tt!==B,Ut=function nd(s){const a=[];return yh(s,a),a}((u.get(tt)||Ds).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===tt),Qt=p.get(tt),Rt=b.get(tt),Ir=$c(this._normalizer,et.keyframes,Qt,Rt),Rr=this._buildPlayer(et,Ir,Ut);if(et.subTimeline&&d&&Ne.add(tt),Et){const on=new Cu(a,I,tt);on.setRealPlayer(Rr),Y.push(on)}return Rr});Y.forEach(et=>{zo(this.playersByQueriedElement,et.element,[]).push(et),et.onDone(()=>function mh(s,a,o){let u=s.get(a);if(u){if(u.length){const d=u.indexOf(o);u.splice(d,1)}0==u.length&&s.delete(a)}return u}(this.playersByQueriedElement,et.element,et))}),Me.forEach(et=>Mo(et,Wm));const lt=oa(Ye);return lt.onDestroy(()=>{Me.forEach(et=>oi(et,Wm)),ya(B,o.toStyles)}),Ne.forEach(et=>{zo(d,et,[]).push(lt)}),lt}_buildPlayer(a,o,u){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,u):new rl(a.duration,a.delay)}}class Cu{namespaceId;triggerName;element;_player=new rl;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(a,o,u){this.namespaceId=a,this.triggerName=o,this.element=u}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((o,u)=>{o.forEach(d=>du(a,u,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){zo(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function Su(s){return s&&1===s.nodeType}function hh(s,a){const o=s.style.display;return s.style.display=a??"none",o}function ph(s,a,o,u,d){const p=[];o.forEach(B=>p.push(hh(B)));const b=[];u.forEach((B,Y)=>{const Me=new Map;B.forEach(Ne=>{const Ye=a.computeStyle(Y,Ne,d);Me.set(Ne,Ye),(!Ye||0==Ye.length)&&(Y[ga]=uh,b.push(Y))}),s.set(Y,Me)});let I=0;return o.forEach(B=>hh(B,p[I++])),b}function Mf(s,a){const o=new Map;if(s.forEach(I=>o.set(I,[])),0==a.length)return o;const d=new Set(a),p=new Map;function b(I){if(!I)return 1;let B=p.get(I);if(B)return B;const Y=I.parentNode;return B=o.has(Y)?Y:d.has(Y)?1:b(Y),p.set(I,B),B}return a.forEach(I=>{const B=b(I);1!==B&&o.get(B).push(I)}),o}function Mo(s,a){s.classList?.add(a)}function oi(s,a){s.classList?.remove(a)}function fh(s,a,o){oa(o).onDone(()=>s.processLeaveNode(a))}function yh(s,a){for(let o=0;o<s.length;o++){const u=s[o];u instanceof Fc?yh(u.players,a):a.push(u)}}function rd(s,a,o){const u=o.get(s);if(!u)return!1;let d=a.get(s);return d?u.forEach(p=>d.add(p)):a.set(s,u),o.delete(s),!0}class yl{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(a,o)=>{};constructor(a,o,u){this._driver=o,this._normalizer=u,this._transitionEngine=new dh(a.body,o,u),this._timelineEngine=new Cf(a.body,o,u),this._transitionEngine.onRemovalComplete=(d,p)=>this.onRemovalComplete(d,p)}registerTrigger(a,o,u,d,p){const b=a+"-"+d;let I=this._triggerCache[b];if(!I){const B=[],Me=Qc(this._driver,p,B,[]);if(B.length)throw function $g(){return new x.buA(3404,!1)}();I=function xi(s,a,o){return new ku(s,a,o)}(d,Me,this._normalizer),this._triggerCache[b]=I}this._transitionEngine.registerTrigger(o,d,I)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,u,d){this._transitionEngine.insertNode(a,o,u,d)}onRemove(a,o,u){this._transitionEngine.removeNode(a,o,u)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,u,d){if("@"==u.charAt(0)){const[p,b]=Fm(u);this._timelineEngine.command(p,o,b,d)}else this._transitionEngine.trigger(a,o,u,d)}listen(a,o,u,d,p){if("@"==u.charAt(0)){const[b,I]=Fm(u);return this._timelineEngine.listen(b,o,I,p)}return this._transitionEngine.listen(a,o,u,d,p)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}}let gl=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(o,u,d){this._element=o,this._startStyles=u,this._endStyles=d;let p=s.initialStylesByElement.get(o);p||s.initialStylesByElement.set(o,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&ya(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ya(this._element,this._initialStyles),this._endStyles&&(ya(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),ya(this._element,this._initialStyles),this._state=3)}}return s})();function In(s){let a=null;return s.forEach((o,u)=>{(function Ri(s){return"display"===s||"position"===s})(u)&&(a=a||new Map,a.set(u,o))}),a}class vl{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(a,o,u,d){this.element=a,this.keyframes=o,this.options=u,this._specialStyles=d,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const o=[];return a.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(a,o,u){return a.animate(this._convertKeyframesToObject(o),u)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,d)=>{"offset"!==d&&a.set(d,this._finished?u:yu(this.element,d))}),this.currentSnapshot=a}triggerCallback(a){const o="start"===a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Go{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}containsElement(a,o){return Um(a,o)}getParentElement(a){return mu(a)}query(a,o,u){return dl(a,o,u)}computeStyle(a,o,u){return yu(a,o)}animate(a,o,u,d,p,b=[]){const B={duration:u,delay:d,fill:0==d?"both":"forwards"};p&&(B.easing=p);const Y=new Map,Me=b.filter(lt=>lt instanceof vl);(function zg(s,a){return 0===s||0===a})(u,d)&&Me.forEach(lt=>{lt.currentSnapshot.forEach((et,tt)=>Y.set(tt,et))});let Ne=function uf(s){return s.length?s[0]instanceof Map?s:s.map(a=>new Map(Object.entries(a))):[]}(o).map(lt=>new Map(lt));Ne=function Kg(s,a,o){if(o.size&&a.length){let u=a[0],d=[];if(o.forEach((p,b)=>{u.has(b)||d.push(b),u.set(b,p)}),d.length)for(let p=1;p<a.length;p++){let b=a[p];d.forEach(I=>b.set(I,yu(s,I)))}}return a}(a,Ne,Y);const Ye=function Oa(s,a){let o=null,u=null;return Array.isArray(a)&&a.length?(o=In(a[0]),a.length>1&&(u=In(a[a.length-1]))):a instanceof Map&&(o=In(a)),o||u?new gl(s,o,u):null}(a,Ne);return new vl(a,Ne,B,Ye)}}const gh="@.disabled";class od{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(a,o,u,d){this.namespaceId=a,this.delegate=o,this.engine=u,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,u,d=!0){this.delegate.insertBefore(a,o,u),this.engine.onInsert(this.namespaceId,o,a,d)}removeChild(a,o,u){this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,u,d){this.delegate.setAttribute(a,o,u,d)}removeAttribute(a,o,u){this.delegate.removeAttribute(a,o,u)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,u,d){this.delegate.setStyle(a,o,u,d)}removeStyle(a,o,u){this.delegate.removeStyle(a,o,u)}setProperty(a,o,u){"@"==o.charAt(0)&&o==gh?this.disableAnimations(a,!!u):this.delegate.setProperty(a,o,u)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,u,d){return this.delegate.listen(a,o,u,d)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class If extends od{factory;constructor(a,o,u,d,p){super(o,u,d,p),this.factory=a,this.namespaceId=o}setProperty(a,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==gh?this.disableAnimations(a,u=void 0===u||!!u):this.engine.process(this.namespaceId,a,o.slice(1),u):this.delegate.setProperty(a,o,u)}listen(a,o,u,d){if("@"==o.charAt(0)){const p=function Rf(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(a);let b=o.slice(1),I="";return"@"!=b.charAt(0)&&([b,I]=function Mu(s){const a=s.indexOf(".");return[s.substring(0,a),s.slice(a+1)]}(b)),this.engine.listen(this.namespaceId,p,b,I,B=>{this.factory.scheduleListenerCallback(B._data||-1,u,B)})}return this.delegate.listen(a,o,u,d)}}class Jg{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(a,o,u){this.delegate=a,this.engine=o,this._zone=u,o.onRemovalComplete=(d,p)=>{p?.removeChild(null,d)}}createRenderer(a,o){const d=this.delegate.createRenderer(a,o);if(!a||!o?.data?.animation){const Y=this._rendererCache;let Me=Y.get(d);return Me||(Me=new od("",d,this.engine,()=>Y.delete(d)),Y.set(d,Me)),Me}const p=o.id,b=o.id+"-"+this._currentId;this._currentId++,this.engine.register(b,a);const I=Y=>{Array.isArray(Y)?Y.forEach(I):this.engine.registerTrigger(p,b,a,Y.name,Y)};return o.data.animation.forEach(I),new If(this,b,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,o,u){if(a>=0&&a<this._microtaskId)return void this._zone.run(()=>o(u));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(p=>{const[b,I]=p;b(I)}),this._animationCallbacksBuffer=[]})}),d.push([o,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(a){this.engine.flush(),this.delegate.componentReplaced?.(a)}}const Lf=[{provide:Gm,useFactory:()=>new Go},{provide:fe.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:vu,useFactory:function Of(){return new hf}},{provide:yl,useClass:(()=>{class s extends yl{constructor(o,u,d){super(o,u,d)}ngOnDestroy(){this.flush()}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL),x.KVO(Gm),x.KVO(vu))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:fe._9s,useFactory:function Pf(s,a,o){return new Jg(s,a,o)},deps:[Dr,yl,fe.SKi]}]];V(467);class Tu{}class xu{}class va{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(a){a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(o=>{const u=o.indexOf(":");if(u>0){const d=o.slice(0,u),p=o.slice(u+1).trim();this.addHeaderEntry(d,p)}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((o,u)=>{this.addHeaderEntry(u,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([o,u])=>{this.setHeaderEntries(o,u)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const o=this.headers.get(a.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,o){return this.clone({name:a,value:o,op:"a"})}set(a,o){return this.clone({name:a,value:o,op:"s"})}delete(a,o){return this.clone({name:a,value:o,op:"d"})}maybeSetNormalizedName(a,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,a)}init(){this.lazyInit&&(this.lazyInit instanceof va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(o=>{this.headers.set(o,a.headers.get(o)),this.normalizedNames.set(o,a.normalizedNames.get(o))})}clone(a){const o=new va;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof va?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([a]),o}applyUpdate(a){const o=a.name.toLowerCase();switch(a.op){case"a":case"s":let u=a.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(a.name,o);const d=("a"===a.op?this.headers.get(o):void 0)||[];d.push(...u),this.headers.set(o,d);break;case"d":const p=a.value;if(p){let b=this.headers.get(o);if(!b)return;b=b.filter(I=>-1===p.indexOf(I)),0===b.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,b)}else this.headers.delete(o),this.normalizedNames.delete(o)}}addHeaderEntry(a,o){const u=a.toLowerCase();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(o):this.headers.set(u,[o])}setHeaderEntries(a,o){const u=(Array.isArray(o)?o:[o]).map(p=>p.toString()),d=a.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(a,d)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>a(this.normalizedNames.get(o),this.headers.get(o)))}}class jf{encodeKey(a){return Eh(a)}encodeValue(a){return Eh(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const wh=/%(\d[a-f0-9])/gi,Uf={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Eh(s){return encodeURIComponent(s).replace(wh,(a,o)=>Uf[o]??a)}function Oi(s){return`${s}`}class ii{map;encoder;updates=null;cloneFrom=null;constructor(a={}){if(this.encoder=a.encoder||new jf,a.fromString){if(a.fromObject)throw new x.buA(2805,!1);this.map=function Bf(s,a){const o=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(d=>{const p=d.indexOf("="),[b,I]=-1==p?[a.decodeKey(d),""]:[a.decodeKey(d.slice(0,p)),a.decodeValue(d.slice(p+1))],B=o.get(b)||[];B.push(I),o.set(b,B)}),o}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(o=>{const u=a.fromObject[o],d=Array.isArray(u)?u.map(Oi):[Oi(u)];this.map.set(o,d)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const o=this.map.get(a);return o?o[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,o){return this.clone({param:a,value:o,op:"a"})}appendAll(a){const o=[];return Object.keys(a).forEach(u=>{const d=a[u];Array.isArray(d)?d.forEach(p=>{o.push({param:u,value:p,op:"a"})}):o.push({param:u,value:d,op:"a"})}),this.clone(o)}set(a,o){return this.clone({param:a,value:o,op:"s"})}delete(a,o){return this.clone({param:a,value:o,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const o=this.encoder.encodeKey(a);return this.map.get(a).map(u=>o+"="+this.encoder.encodeValue(u)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const o=new ii({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(a),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const o=("a"===a.op?this.map.get(a.param):void 0)||[];o.push(Oi(a.value)),this.map.set(a.param,o);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let u=this.map.get(a.param)||[];const d=u.indexOf(Oi(a.value));-1!==d&&u.splice(d,1),u.length>0?this.map.set(a.param,u):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class kh{map=new Map;set(a,o){return this.map.set(a,o),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function Iu(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function ad(s){return typeof Blob<"u"&&s instanceof Blob}function Ch(s){return typeof FormData<"u"&&s instanceof FormData}const Pi="Content-Type",Ru="X-Request-URL",Ah="text/plain",Mh="application/json",Vf=`${Mh}, ${Ah}, */*`;class Ni{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(a,o,u,d){let p;if(this.url=o,this.method=a.toUpperCase(),function Dh(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==u?u:null,p=d):p=u,p){if(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,this.keepalive=!!p.keepalive,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params),p.priority&&(this.priority=p.priority),p.cache&&(this.cache=p.cache),p.credentials&&(this.credentials=p.credentials),"number"==typeof p.timeout){if(p.timeout<1||!Number.isInteger(p.timeout))throw new Error("");this.timeout=p.timeout}p.mode&&(this.mode=p.mode),p.redirect&&(this.redirect=p.redirect),this.transferCache=p.transferCache}if(this.headers??=new va,this.context??=new kh,this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=o;else{const I=o.indexOf("?");this.urlWithParams=o+(-1===I?"?":I<o.length-1?"&":"")+b}}else this.params=new ii,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||Iu(this.body)||ad(this.body)||Ch(this.body)||function Sh(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ii?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ch(this.body)?null:ad(this.body)?this.body.type||null:Iu(this.body)?null:"string"==typeof this.body?Ah:this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Mh:null}clone(a={}){const o=a.method||this.method,u=a.url||this.url,d=a.responseType||this.responseType,p=a.keepalive??this.keepalive,b=a.priority||this.priority,I=a.cache||this.cache,B=a.mode||this.mode,Y=a.redirect||this.redirect,Me=a.credentials||this.credentials,Ne=a.transferCache??this.transferCache,Ye=a.timeout??this.timeout,lt=void 0!==a.body?a.body:this.body,et=a.withCredentials??this.withCredentials,tt=a.reportProgress??this.reportProgress;let dt=a.headers||this.headers,Et=a.params||this.params;const Ut=a.context??this.context;return void 0!==a.setHeaders&&(dt=Object.keys(a.setHeaders).reduce((Qt,Rt)=>Qt.set(Rt,a.setHeaders[Rt]),dt)),a.setParams&&(Et=Object.keys(a.setParams).reduce((Qt,Rt)=>Qt.set(Rt,a.setParams[Rt]),Et)),new Ni(o,u,lt,{params:Et,headers:dt,context:Ut,reportProgress:tt,responseType:d,withCredentials:et,transferCache:Ne,keepalive:p,cache:I,priority:b,timeout:Ye,mode:B,redirect:Y,credentials:Me})}}var Pa=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Pa||{});class Ou{headers;status;statusText;url;ok;type;constructor(a,o=200,u="OK"){this.headers=a.headers||new va,this.status=void 0!==a.status?a.status:o,this.statusText=a.statusText||u,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class Cs extends Ou{constructor(a={}){super(a)}type=Pa.ResponseHeader;clone(a={}){return new Cs({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Li extends Ou{body;constructor(a={}){super(a),this.body=void 0!==a.body?a.body:null}type=Pa.Response;clone(a={}){return new Li({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Fi extends Ou{name="HttpErrorResponse";message;error;ok=!1;constructor(a){super(a,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Pu(s,a){return{body:a,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect}}let id=(()=>{class s{handler;constructor(o){this.handler=o}request(o,u,d={}){let p;if(o instanceof Ni)p=o;else{let B,Y;B=d.headers instanceof va?d.headers:new va(d.headers),d.params&&(Y=d.params instanceof ii?d.params:new ii({fromObject:d.params})),p=new Ni(o,u,void 0!==d.body?d.body:null,{headers:B,context:d.context,params:Y,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache,keepalive:d.keepalive,priority:d.priority,cache:d.cache,mode:d.mode,redirect:d.redirect,credentials:d.credentials})}const b=D(p).pipe(Fo(B=>this.handler.handle(B)));if(o instanceof Ni||"events"===d.observe)return b;const I=b.pipe((0,kn.p)(B=>B instanceof Li));switch(d.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return I.pipe((0,Tt.T)(B=>{if(null!==B.body&&!(B.body instanceof ArrayBuffer))throw new x.buA(2806,!1);return B.body}));case"blob":return I.pipe((0,Tt.T)(B=>{if(null!==B.body&&!(B.body instanceof Blob))throw new x.buA(2807,!1);return B.body}));case"text":return I.pipe((0,Tt.T)(B=>{if(null!==B.body&&"string"!=typeof B.body)throw new x.buA(2808,!1);return B.body}));default:return I.pipe((0,Tt.T)(B=>B.body))}case"response":return I;default:throw new x.buA(2809,!1)}}delete(o,u={}){return this.request("DELETE",o,u)}get(o,u={}){return this.request("GET",o,u)}head(o,u={}){return this.request("HEAD",o,u)}jsonp(o,u){return this.request("JSONP",o,{params:(new ii).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,u={}){return this.request("OPTIONS",o,u)}patch(o,u,d={}){return this.request("PATCH",o,Pu(d,u))}post(o,u,d={}){return this.request("POST",o,Pu(d,u))}put(o,u,d={}){return this.request("PUT",o,Pu(d,u))}static \u0275fac=function(u){return new(u||s)(x.KVO(Tu))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const ud=new x.nKC("");function dd(s,a){return a(s)}const Fu=new x.nKC(""),xh=new x.nKC(""),Ih=new x.nKC("",{providedIn:"root",factory:()=>!0});let Ss=(()=>{class s extends Tu{backend;injector;chain=null;pendingTasks=(0,x.WQX)(x.u5s);contributeToStability=(0,x.WQX)(Ih);constructor(o,u){super(),this.backend=o,this.injector=u}handle(o){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(Fu),...this.injector.get(xh,[])]));this.chain=u.reduceRight((d,p)=>function rv(s,a,o){return(u,d)=>(0,x.N4e)(o,()=>a(u,p=>s(p,d)))}(d,p,this.injector),dd)}if(this.contributeToStability){const u=this.pendingTasks.add();return this.chain(o,d=>this.backend.handle(d)).pipe(ci(u))}return this.chain(o,u=>this.backend.handle(u))}static \u0275fac=function(u){return new(u||s)(x.KVO(xu),x.KVO(x.uvJ))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const Oh=/^\)\]\}',?\n/,uv=RegExp(`^${Ru}:`,"m");let hd=(()=>{class s{xhrFactory;constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new x.buA(-2800,!1);const u=this.xhrFactory;return D(null).pipe(An(()=>new Ar.c(p=>{const b=u.build();if(b.open(o.method,o.urlWithParams),o.withCredentials&&(b.withCredentials=!0),o.headers.forEach((dt,Et)=>b.setRequestHeader(dt,Et.join(","))),o.headers.has("Accept")||b.setRequestHeader("Accept",Vf),!o.headers.has(Pi)){const dt=o.detectContentTypeHeader();null!==dt&&b.setRequestHeader(Pi,dt)}if(o.timeout&&(b.timeout=o.timeout),o.responseType){const dt=o.responseType.toLowerCase();b.responseType="json"!==dt?dt:"text"}const I=o.serializeBody();let B=null;const Y=()=>{if(null!==B)return B;const dt=b.statusText||"OK",Et=new va(b.getAllResponseHeaders()),Ut=function cv(s){return"responseURL"in s&&s.responseURL?s.responseURL:uv.test(s.getAllResponseHeaders())?s.getResponseHeader(Ru):null}(b)||o.url;return B=new Cs({headers:Et,status:b.status,statusText:dt,url:Ut}),B},Me=()=>{let{headers:dt,status:Et,statusText:Ut,url:Qt}=Y(),Rt=null;204!==Et&&(Rt=typeof b.response>"u"?b.responseText:b.response),0===Et&&(Et=Rt?200:0);let Ir=Et>=200&&Et<300;if("json"===o.responseType&&"string"==typeof Rt){const Rr=Rt;Rt=Rt.replace(Oh,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(on){Rt=Rr,Ir&&(Ir=!1,Rt={error:on,text:Rt})}}Ir?(p.next(new Li({body:Rt,headers:dt,status:Et,statusText:Ut,url:Qt||void 0})),p.complete()):p.error(new Fi({error:Rt,headers:dt,status:Et,statusText:Ut,url:Qt||void 0}))},Ne=dt=>{const{url:Et}=Y(),Ut=new Fi({error:dt,status:b.status||0,statusText:b.statusText||"Unknown Error",url:Et||void 0});p.error(Ut)};let Ye=Ne;o.timeout&&(Ye=dt=>{const{url:Et}=Y(),Ut=new Fi({error:new DOMException("Request timed out","TimeoutError"),status:b.status||0,statusText:b.statusText||"Request timeout",url:Et||void 0});p.error(Ut)});let lt=!1;const et=dt=>{lt||(p.next(Y()),lt=!0);let Et={type:Pa.DownloadProgress,loaded:dt.loaded};dt.lengthComputable&&(Et.total=dt.total),"text"===o.responseType&&b.responseText&&(Et.partialText=b.responseText),p.next(Et)},tt=dt=>{let Et={type:Pa.UploadProgress,loaded:dt.loaded};dt.lengthComputable&&(Et.total=dt.total),p.next(Et)};return b.addEventListener("load",Me),b.addEventListener("error",Ne),b.addEventListener("timeout",Ye),b.addEventListener("abort",Ne),o.reportProgress&&(b.addEventListener("progress",et),null!==I&&b.upload&&b.upload.addEventListener("progress",tt)),b.send(I),p.next({type:Pa.Sent}),()=>{b.removeEventListener("error",Ne),b.removeEventListener("abort",Ne),b.removeEventListener("load",Me),b.removeEventListener("timeout",Ye),o.reportProgress&&(b.removeEventListener("progress",et),null!==I&&b.upload&&b.upload.removeEventListener("progress",tt)),b.readyState!==b.DONE&&b.abort()}})))}static \u0275fac=function(u){return new(u||s)(x.KVO(z))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const go=new x.nKC(""),pd=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Xf=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bu{}let Ph=(()=>{class s{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(o,u){this.doc=o,this.cookieName=u}getToken(){const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i(o,this.cookieName),this.lastCookieString=o),this.lastToken}static \u0275fac=function(u){return new(u||s)(x.KVO(x.qQL),x.KVO(pd))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();function Yf(s,a){const o=s.url.toLowerCase();if(!(0,x.WQX)(go)||"GET"===s.method||"HEAD"===s.method||o.startsWith("http://")||o.startsWith("https://"))return a(s);const u=(0,x.WQX)(Bu).getToken(),d=(0,x.WQX)(Xf);return null!=u&&!s.headers.has(d)&&(s=s.clone({headers:s.headers.set(d,u)})),a(s)}var Lh=V(3077),gd=V(130),oy=V(5343);const si=new Ar.c(oy.l),vd="Service workers are disabled or not supported by this browser";class Uu{serviceWorker;worker;registration;events;constructor(a,o){if(this.serviceWorker=a,a){let u=null;const d=new sn.B;this.worker=new Ar.c(Y=>(null!==u&&Y.next(u),d.subscribe(Me=>Y.next(Me))));const p=()=>{const{controller:Y}=a;null!==Y&&(u=Y,d.next(u))};a.addEventListener("controllerchange",p),p(),this.registration=this.worker.pipe(An(()=>a.getRegistration().then(Y=>{if(!Y)throw new x.buA(5601,!1);return Y})));const b=new sn.B;this.events=b.asObservable();const I=Y=>{const{data:Me}=Y;Me?.type&&b.next(Me)};a.addEventListener("message",I),o?.get(fe.o8S,null,{optional:!0})?.onDestroy(()=>{a.removeEventListener("controllerchange",p),a.removeEventListener("message",I)})}else this.worker=this.events=this.registration=new Ar.c(u=>u.error(new x.buA(5601,!1)))}postMessage(a,o){return new Promise(u=>{this.worker.pipe(Mn(1)).subscribe(d=>{d.postMessage({action:a,...o}),u()})})}postMessageWithOperation(a,o,u){const d=this.waitForOperationCompleted(u),p=this.postMessage(a,o);return Promise.all([p,d]).then(([,b])=>b)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(a){let o;return o="string"==typeof a?u=>u.type===a:u=>a.includes(u.type),this.events.pipe((0,kn.p)(o))}nextEventOfType(a){return this.eventsOfType(a).pipe(Mn(1))}waitForOperationCompleted(a){return new Promise((o,u)=>{this.eventsOfType("OPERATION_COMPLETED").pipe((0,kn.p)(d=>d.nonce===a),Mn(1),(0,Tt.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).subscribe({next:o,error:u})})}get isEnabled(){return!!this.serviceWorker}}let ay=(()=>{class s{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new sn.B;constructor(o){if(this.sw=o,!o.isEnabled)return this.messages=si,this.notificationClicks=si,this.notificationCloses=si,this.pushSubscriptionChanges=si,void(this.subscription=si);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Tt.T)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Tt.T)(d=>d.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe((0,Tt.T)(d=>d.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe((0,Tt.T)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,Tt.T)(d=>d.pushManager));const u=this.pushManager.pipe(An(d=>d.getSubscription()));this.subscription=new Ar.c(d=>{const p=u.subscribe(d),b=this.subscriptionChanges.subscribe(d);return()=>{p.unsubscribe(),b.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(vd));const u={userVisibleOnly:!0};let d=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(d.length));for(let b=0;b<d.length;b++)p[b]=d.charCodeAt(b);return u.applicationServerKey=p,new Promise((b,I)=>{this.pushManager.pipe(An(B=>B.subscribe(u)),Mn(1)).subscribe({next:B=>{this.subscriptionChanges.next(B),b(B)},error:I})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(vd));const o=u=>{if(null===u)throw new x.buA(5602,!1);return u.unsubscribe().then(d=>{if(!d)throw new x.buA(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((u,d)=>{this.subscription.pipe(Mn(1),An(o)).subscribe({next:u,error:d})})}decodeBase64(o){return atob(o)}static \u0275fac=function(u){return new(u||s)(x.KVO(Uu))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})(),iy=(()=>{class s{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled)return this.versionUpdates=si,void(this.unrecoverable=si);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(vd));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;const o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new x.buA(5601,!1));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(u){return new(u||s)(x.KVO(Uu))};static \u0275prov=x.jDH({token:s,factory:s.\u0275fac})}return s})();const jh=new x.nKC("");function sy(){const s=(0,x.WQX)(Vu);if(!("serviceWorker"in navigator)||!1===s.enabled)return;const a=(0,x.WQX)(jh),o=(0,x.WQX)(fe.SKi),u=(0,x.WQX)(fe.o8S);o.runOutsideAngular(()=>{const d=navigator.serviceWorker,p=()=>d.controller?.postMessage({action:"INITIALIZE"});d.addEventListener("controllerchange",p),u.onDestroy(()=>{d.removeEventListener("controllerchange",p)})}),o.runOutsideAngular(()=>{let d;const{registrationStrategy:p}=s;if("function"==typeof p)d=new Promise(b=>p().subscribe(()=>b()));else{const[b,...I]=(p||"registerWhenStable:30000").split(":");switch(b){case"registerImmediately":d=Promise.resolve();break;case"registerWithDelay":d=Bh(+I[0]||0);break;case"registerWhenStable":d=Promise.race([u.whenStable(),Bh(+I[0])]);break;default:throw new x.buA(5600,!1)}}d.then(()=>{u.destroyed||navigator.serviceWorker.register(a,{scope:s.scope}).catch(b=>console.error((0,x.OsK)(5604,!1)))})})}function Bh(s){return new Promise(a=>setTimeout(a,s))}function ly(s,a){return new Uu(!1!==s.enabled?navigator.serviceWorker:void 0,a)}class Vu{enabled;scope;registrationStrategy}const $h=[{path:"",loadComponent:()=>Promise.all([V.e(76),V.e(622)]).then(V.bind(V,5622)).then(s=>s.ScenarioComponent)},{path:"potions",loadComponent:()=>Promise.all([V.e(76),V.e(615)]).then(V.bind(V,7615)).then(s=>s.PotionsComponent)},{path:"**",redirectTo:""}];(function tn(s,a){const o={rootComponent:s,...Vn(a)};return(0,X.TL3)(o)})(Wp,{providers:[function _h(){return(0,fe._jY)("NgEagerAnimations"),[...Lf]}(),function Nh(...s){const a=[id,hd,Ss,{provide:Tu,useExisting:Ss},{provide:xu,useFactory:()=>(0,x.WQX)(ud,{optional:!0})??(0,x.WQX)(hd)},{provide:Fu,useValue:Yf,multi:!0},{provide:go,useValue:!0},{provide:Bu,useClass:Ph}];for(const o of s)a.push(...o.\u0275providers);return(0,x.EmA)(a)}(),function Lp(s,...a){return(0,x.EmA)([{provide:Js,multi:!0,useValue:s},[],{provide:ot,useFactory:Fp,deps:[ni]},{provide:fe.iLQ,multi:!0,useFactory:Bp},a.map(o=>o.\u0275providers)])}($h,function iu(){return function Ia(s,a){return{\u0275kind:s,\u0275providers:a}}(6,[{provide:E.hb,useClass:Yn.fw}])}()),Nc.Vh,Lh.s,po.J,gd.X,function Uh(s,a={}){return(0,x.EmA)([ay,iy,{provide:jh,useValue:s},{provide:Vu,useValue:a},{provide:Uu,useFactory:ly,deps:[Vu,x.zZn]},(0,fe.phd)(sy)])}("ngsw-worker.js",{enabled:!(0,X.naY)(),registrationStrategy:"registerWhenStable:30000"})]}).catch(s=>console.error(s))},9172:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>x});var E=V(8793),i=V(3794),z=V(9974);function x(...X){const Z=(0,i.lI)(X);return(0,z.N)((J,le)=>{(Z?(0,E.x)(X,J,Z):(0,E.x)(X,J)).subscribe(le)})}},9270:(it,Ee,V)=>{"use strict";V.d(Ee,{f:()=>E});const E={setTimeout(i,z,...x){const{delegate:X}=E;return X?.setTimeout?X.setTimeout(i,z,...x):setTimeout(i,z,...x)},clearTimeout(i){const{delegate:z}=E;return(z?.clearTimeout||clearTimeout)(i)},delegate:void 0}},9293:it=>{function Ee(E,i,z,x,X,Z,J){try{var le=E[Z](J),_e=le.value}catch(pe){return void z(pe)}le.done?i(_e):Promise.resolve(_e).then(x,X)}it.exports=function V(E){return function(){var i=this,z=arguments;return new Promise(function(x,X){var Z=E.apply(i,z);function J(_e){Ee(Z,x,X,J,le,"next",_e)}function le(_e){Ee(Z,x,X,J,le,"throw",_e)}J(void 0)})}},it.exports.__esModule=!0,it.exports.default=it.exports},9786:(it,Ee,V)=>{"use strict";V.d(Ee,{Y:()=>z,l:()=>x});var E=V(1026);let i=null;function z(X){if(E.$.useDeprecatedSynchronousErrorHandling){const Z=!i;if(Z&&(i={errorThrown:!1,error:null}),X(),Z){const{errorThrown:J,error:le}=i;if(i=null,J)throw le}}else X()}function x(X){E.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=X)}},9858:(it,Ee,V)=>{"use strict";V.d(Ee,{y:()=>i});var E=V(8071);function i(z){return(0,E.T)(z?.then)}},9974:(it,Ee,V)=>{"use strict";V.d(Ee,{N:()=>z,S:()=>i});var E=V(8071);function i(x){return(0,E.T)(x?.lift)}function z(x){return X=>{if(i(X))return X.lift(function(Z){try{return x(Z,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}}},it=>{it(it.s=8889)}]);