(self.webpackChunkfrosthaven_assistant_angular=self.webpackChunkfrosthaven_assistant_angular||[]).push([[792],{130:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>i});var E=V(2615);let i=(()=>{class z{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}]}}static \u0275fac=function(ee){return new(ee||z)};static \u0275prov=E.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},467:(it,Ee,V)=>{"use strict";function E(z,T,X,ee,Z,ue,ye){try{var pe=z[ue](ye),ae=pe.value}catch(ce){return void X(ce)}pe.done?T(ae):Promise.resolve(ae).then(ee,Z)}function i(z){return function(){var T=this,X=arguments;return new Promise(function(ee,Z){var ue=z.apply(T,X);function ye(ae){E(ue,ee,Z,ye,pe,"next",ae)}function pe(ae){E(ue,ee,Z,ye,pe,"throw",ae)}ye(void 0)})}}V.d(Ee,{A:()=>i})},591:(it,Ee,V)=>{"use strict";function E(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{L:()=>E})},1026:(it,Ee,V)=>{"use strict";V.d(Ee,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(it,Ee,V)=>{"use strict";V.d(Ee,{F:()=>i,m:()=>z});var E=V(3669);function i(...T){return z(T)}function z(T){return 0===T.length?E.D:1===T.length?T[0]:function(ee){return T.reduce((Z,ue)=>ue(Z),ee)}}},1397:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ue});var E=V(6354),i=V(8750),z=V(9974),T=V(5225),X=V(4360),Z=V(8071);function ue(ye,pe,ae=1/0){return(0,Z.T)(pe)?ue((ce,ke)=>(0,E.T)((Ce,He)=>pe(ce,Ce,ke,He))((0,i.Tg)(ye(ce,ke))),ae):("number"==typeof pe&&(ae=pe),(0,z.N)((ce,ke)=>function ee(ye,pe,ae,ce,ke,Ce,He,et){const Ye=[];let Je=0,ze=0,Tt=!1;const ve=()=>{Tt&&!Ye.length&&!Je&&pe.complete()},xe=Ue=>Je<ce?Se(Ue):Ye.push(Ue),Se=Ue=>{Ce&&pe.next(Ue),Je++;let Ne=!1;(0,i.Tg)(ae(Ue,ze++)).subscribe((0,X._)(pe,Ke=>{ke?.(Ke),Ce?xe(Ke):pe.next(Ke)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Je--;Ye.length&&Je<ce;){const Ke=Ye.shift();He?(0,T.N)(pe,He,()=>Se(Ke)):Se(Ke)}ve()}catch(Ke){pe.error(Ke)}}))};return ye.subscribe((0,X._)(pe,xe,()=>{Tt=!0,ve()})),()=>{et?.()}}(ce,ke,ye,ae)))}},1413:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>Z});var E=V(1985),i=V(8359);const T=(0,V(1853).L)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=V(7908),ee=V(9786);let Z=(()=>{class ye extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const ce=new ue(this,this);return ce.operator=ae,ce}_throwIfClosed(){if(this.closed)throw new T}next(ae){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ae)}})}error(ae){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ae)}})}complete(){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:ce,isStopped:ke,observers:Ce}=this;return ce||ke?i.Kn:(this.currentObservers=null,Ce.push(ae),new i.yU(()=>{this.currentObservers=null,(0,X.o)(Ce,ae)}))}_checkFinalizedStatuses(ae){const{hasError:ce,thrownError:ke,isStopped:Ce}=this;ce?ae.error(ke):Ce&&ae.complete()}asObservable(){const ae=new E.c;return ae.source=this,ae}}return ye.create=(pe,ae)=>new ue(pe,ae),ye})();class ue extends Z{constructor(pe,ae){super(),this.destination=pe,this.source=ae}next(pe){var ae,ce;null===(ce=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===ce||ce.call(ae,pe)}error(pe){var ae,ce;null===(ce=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===ce||ce.call(ae,pe)}complete(){var pe,ae;null===(ae=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===ae||ae.call(pe)}_subscribe(pe){var ae,ce;return null!==(ce=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(pe))&&void 0!==ce?ce:i.Kn}}},1635:(it,Ee,V)=>{"use strict";function ce(ie,le,ge,de){return new(ge||(ge=Promise))(function(Pe,ct){function rt(je){try{me(de.next(je))}catch(Ge){ct(Ge)}}function Gt(je){try{me(de.throw(je))}catch(Ge){ct(Ge)}}function me(je){je.done?Pe(je.value):function we(Pe){return Pe instanceof ge?Pe:new ge(function(ct){ct(Pe)})}(je.value).then(rt,Gt)}me((de=de.apply(ie,le||[])).next())})}function ve(ie){return this instanceof ve?(this.v=ie,this):new ve(ie)}function xe(ie,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,de=ge.apply(ie,le||[]),Pe=[];return we=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),rt("next"),rt("throw"),rt("return",function ct(Fe){return function(Ht){return Promise.resolve(Ht).then(Fe,Ge)}}),we[Symbol.asyncIterator]=function(){return this},we;function rt(Fe,Ht){de[Fe]&&(we[Fe]=function(Et){return new Promise(function(an,Wt){Pe.push([Fe,Et,an,Wt])>1||Gt(Fe,Et)})},Ht&&(we[Fe]=Ht(we[Fe])))}function Gt(Fe,Ht){try{!function me(Fe){Fe.value instanceof ve?Promise.resolve(Fe.value.v).then(je,Ge):wt(Pe[0][2],Fe)}(de[Fe](Ht))}catch(Et){wt(Pe[0][3],Et)}}function je(Fe){Gt("next",Fe)}function Ge(Fe){Gt("throw",Fe)}function wt(Fe,Ht){Fe(Ht),Pe.shift(),Pe.length&&Gt(Pe[0][0],Pe[0][1])}}function Ue(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=ie[Symbol.asyncIterator];return le?le.call(ie):(ie=function et(ie){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&ie[le],de=0;if(ge)return ge.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&de>=ie.length&&(ie=void 0),{value:ie&&ie[de++],done:!ie}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ge={},de("next"),de("throw"),de("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function de(Pe){ge[Pe]=ie[Pe]&&function(ct){return new Promise(function(rt,Gt){!function we(Pe,ct,rt,Gt){Promise.resolve(Gt).then(function(me){Pe({value:me,done:rt})},ct)}(rt,Gt,(ct=ie[Pe](ct)).done,ct.value)})}}}V.d(Ee,{AQ:()=>xe,N3:()=>ve,sH:()=>ce,xN:()=>Ue}),"function"==typeof SuppressedError&&SuppressedError},1853:(it,Ee,V)=>{"use strict";function E(i){const T=i(X=>{Error.call(X),X.stack=(new Error).stack});return T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T}V.d(Ee,{L:()=>E})},1985:(it,Ee,V)=>{"use strict";V.d(Ee,{c:()=>ue});var E=V(7707),i=V(8359),z=V(3494),T=V(1203),X=V(1026),ee=V(8071),Z=V(9786);let ue=(()=>{class ce{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const He=new ce;return He.source=this,He.operator=Ce,He}subscribe(Ce,He,et){const Ye=function ae(ce){return ce&&ce instanceof E.vU||function pe(ce){return ce&&(0,ee.T)(ce.next)&&(0,ee.T)(ce.error)&&(0,ee.T)(ce.complete)}(ce)&&(0,i.Uv)(ce)}(Ce)?Ce:new E.Ms(Ce,He,et);return(0,Z.Y)(()=>{const{operator:Je,source:ze}=this;Ye.add(Je?Je.call(Ye,ze):ze?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(He){Ce.error(He)}}forEach(Ce,He){return new(He=ye(He))((et,Ye)=>{const Je=new E.Ms({next:ze=>{try{Ce(ze)}catch(Tt){Ye(Tt),Je.unsubscribe()}},error:Ye,complete:et});this.subscribe(Je)})}_subscribe(Ce){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Ce)}[z.s](){return this}pipe(...Ce){return(0,T.m)(Ce)(this)}toPromise(Ce){return new(Ce=ye(Ce))((He,et)=>{let Ye;this.subscribe(Je=>Ye=Je,Je=>et(Je),()=>He(Ye))})}}return ce.create=ke=>new ce(ke),ce})();function ye(ce){var ke;return null!==(ke=ce??X.$.Promise)&&void 0!==ke?ke:Promise}},2200:(it,Ee,V)=>{"use strict";V.d(Ee,{Jj:()=>No,MD:()=>ca,Sq:()=>mr,YU:()=>zr,bT:()=>Wn,fw:()=>ee,vh:()=>mo});var E=V(2615),i=V(3664),z=V(7705),T=V(3597),X=V(7303);let ee=(()=>{class S extends X.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(F,$){super(),this._platformLocation=F,null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(F){const $=(0,X.om)(this._baseHref,F);return $.length>0?"#"+$:$}pushState(F,$,se,Ie){const $e=this.prepareExternalUrl(se+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.pushState(F,$,$e)}replaceState(F,$,se,Ie){const $e=this.prepareExternalUrl(se+(0,X.Q)(Ie))||this._platformLocation.pathname;this._platformLocation.replaceState(F,$,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static \u0275fac=function($){return new($||S)(E.KVO(X.Vw),E.KVO(X.kB,8))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac})}return S})();var pe=function(S){return S[S.Format=0]="Format",S[S.Standalone=1]="Standalone",S}(pe||{}),ae=function(S){return S[S.Narrow=0]="Narrow",S[S.Abbreviated=1]="Abbreviated",S[S.Wide=2]="Wide",S[S.Short=3]="Short",S}(ae||{}),ce=function(S){return S[S.Short=0]="Short",S[S.Medium=1]="Medium",S[S.Long=2]="Long",S[S.Full=3]="Full",S}(ce||{});function xe(S,Q){return Te((0,i.kBR)(S)[i.NSC.DateFormat],Q)}function Se(S,Q){return Te((0,i.kBR)(S)[i.NSC.TimeFormat],Q)}function Ue(S,Q){return Te((0,i.kBR)(S)[i.NSC.DateTimeFormat],Q)}function Ne(S,Q){const F=(0,i.kBR)(S),$=F[i.NSC.NumberSymbols][Q];if(typeof $>"u"){if(12===Q)return F[i.NSC.NumberSymbols][0];if(13===Q)return F[i.NSC.NumberSymbols][1]}return $}function yn(S){if(!S[i.NSC.ExtraData])throw new E.buA(2303,!1)}function Te(S,Q){for(let F=Q;F>-1;F--)if(typeof S[F]<"u")return S[F];throw new E.buA(2304,!1)}function Ve(S){const[Q,F]=S.split(":");return{hours:+Q,minutes:+F}}const de=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,we={},Pe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ct(S,Q,F,$){let se=function qt(S){if(Er(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[se,Ie=1,$e=1]=S.split("-").map(ot=>+ot);return Gt(se,Ie-1,$e)}const F=parseFloat(S);if(!isNaN(S-F))return new Date(F);let $;if($=S.match(de))return function Go(S){const Q=new Date(0);let F=0,$=0;const se=S[8]?Q.setUTCFullYear:Q.setFullYear,Ie=S[8]?Q.setUTCHours:Q.setHours;S[9]&&(F=Number(S[9]+S[10]),$=Number(S[9]+S[11])),se.call(Q,Number(S[1]),Number(S[2])-1,Number(S[3]));const $e=Number(S[4]||0)-F,ot=Number(S[5]||0)-$,Zt=Number(S[6]||0),Bt=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return Ie.call(Q,$e,ot,Zt,Bt),Q}($)}const Q=new Date(S);if(!Er(Q))throw new E.buA(2302,!1);return Q}(S);Q=me(F,Q)||Q;let ot,$e=[];for(;Q;){if(ot=Pe.exec(Q),!ot){$e.push(Q);break}{$e=$e.concat(ot.slice(1));const Vt=$e.pop();if(!Vt)break;Q=Vt}}let Zt=se.getTimezoneOffset();$&&(Zt=To($,Zt),se=function Rn(S,Q){const se=S.getTimezoneOffset();return function xo(S,Q){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+Q),S}(S,-1*(To(Q,se)-se))}(se,$));let Bt="";return $e.forEach(Vt=>{const Ft=function ia(S){if(oo[S])return oo[S];let Q;switch(S){case"G":case"GG":case"GGG":Q=Et(3,ae.Abbreviated);break;case"GGGG":Q=Et(3,ae.Wide);break;case"GGGGG":Q=Et(3,ae.Narrow);break;case"y":Q=Fe(0,1,0,!1,!0);break;case"yy":Q=Fe(0,2,0,!0,!0);break;case"yyy":Q=Fe(0,3,0,!1,!0);break;case"yyyy":Q=Fe(0,4,0,!1,!0);break;case"Y":Q=ir(1);break;case"YY":Q=ir(2,!0);break;case"YYY":Q=ir(3);break;case"YYYY":Q=ir(4);break;case"M":case"L":Q=Fe(1,1,1);break;case"MM":case"LL":Q=Fe(1,2,1);break;case"MMM":Q=Et(2,ae.Abbreviated);break;case"MMMM":Q=Et(2,ae.Wide);break;case"MMMMM":Q=Et(2,ae.Narrow);break;case"LLL":Q=Et(2,ae.Abbreviated,pe.Standalone);break;case"LLLL":Q=Et(2,ae.Wide,pe.Standalone);break;case"LLLLL":Q=Et(2,ae.Narrow,pe.Standalone);break;case"w":Q=Bn(1);break;case"ww":Q=Bn(2);break;case"W":Q=Bn(1,!0);break;case"d":Q=Fe(2,1);break;case"dd":Q=Fe(2,2);break;case"c":case"cc":Q=Fe(7,1);break;case"ccc":Q=Et(1,ae.Abbreviated,pe.Standalone);break;case"cccc":Q=Et(1,ae.Wide,pe.Standalone);break;case"ccccc":Q=Et(1,ae.Narrow,pe.Standalone);break;case"cccccc":Q=Et(1,ae.Short,pe.Standalone);break;case"E":case"EE":case"EEE":Q=Et(1,ae.Abbreviated);break;case"EEEE":Q=Et(1,ae.Wide);break;case"EEEEE":Q=Et(1,ae.Narrow);break;case"EEEEEE":Q=Et(1,ae.Short);break;case"a":case"aa":case"aaa":Q=Et(0,ae.Abbreviated);break;case"aaaa":Q=Et(0,ae.Wide);break;case"aaaaa":Q=Et(0,ae.Narrow);break;case"b":case"bb":case"bbb":Q=Et(0,ae.Abbreviated,pe.Standalone,!0);break;case"bbbb":Q=Et(0,ae.Wide,pe.Standalone,!0);break;case"bbbbb":Q=Et(0,ae.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":Q=Et(0,ae.Abbreviated,pe.Format,!0);break;case"BBBB":Q=Et(0,ae.Wide,pe.Format,!0);break;case"BBBBB":Q=Et(0,ae.Narrow,pe.Format,!0);break;case"h":Q=Fe(3,1,-12);break;case"hh":Q=Fe(3,2,-12);break;case"H":Q=Fe(3,1);break;case"HH":Q=Fe(3,2);break;case"m":Q=Fe(4,1);break;case"mm":Q=Fe(4,2);break;case"s":Q=Fe(5,1);break;case"ss":Q=Fe(5,2);break;case"S":Q=Fe(6,1);break;case"SS":Q=Fe(6,2);break;case"SSS":Q=Fe(6,3);break;case"Z":case"ZZ":case"ZZZ":Q=Wt(0);break;case"ZZZZZ":Q=Wt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Wt(1);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Wt(2);break;default:return null}return oo[S]=Q,Q}(Vt);Bt+=Ft?Ft(se,F,Zt):"''"===Vt?"'":Vt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Bt}function Gt(S,Q,F){const $=new Date(0);return $.setFullYear(S,Q,F),$.setHours(0,0,0),$}function me(S,Q){const F=function He(S){return(0,i.kBR)(S)[i.NSC.LocaleId]}(S);if(we[F]??={},we[F][Q])return we[F][Q];let $="";switch(Q){case"shortDate":$=xe(S,ce.Short);break;case"mediumDate":$=xe(S,ce.Medium);break;case"longDate":$=xe(S,ce.Long);break;case"fullDate":$=xe(S,ce.Full);break;case"shortTime":$=Se(S,ce.Short);break;case"mediumTime":$=Se(S,ce.Medium);break;case"longTime":$=Se(S,ce.Long);break;case"fullTime":$=Se(S,ce.Full);break;case"short":const se=me(S,"shortTime"),Ie=me(S,"shortDate");$=je(Ue(S,ce.Short),[se,Ie]);break;case"medium":const $e=me(S,"mediumTime"),ot=me(S,"mediumDate");$=je(Ue(S,ce.Medium),[$e,ot]);break;case"long":const Zt=me(S,"longTime"),Bt=me(S,"longDate");$=je(Ue(S,ce.Long),[Zt,Bt]);break;case"full":const Vt=me(S,"fullTime"),Ft=me(S,"fullDate");$=je(Ue(S,ce.Full),[Vt,Ft])}return $&&(we[F][Q]=$),$}function je(S,Q){return Q&&(S=S.replace(/\{([^}]+)}/g,function(F,$){return null!=Q&&$ in Q?Q[$]:F})),S}function Ge(S,Q,F="-",$,se){let Ie="";(S<0||se&&S<=0)&&(se?S=1-S:(S=-S,Ie=F));let $e=String(S);for(;$e.length<Q;)$e="0"+$e;return $&&($e=$e.slice($e.length-Q)),Ie+$e}function Fe(S,Q,F=0,$=!1,se=!1){return function(Ie,$e){let ot=function Ht(S,Q){switch(S){case 0:return Q.getFullYear();case 1:return Q.getMonth();case 2:return Q.getDate();case 3:return Q.getHours();case 4:return Q.getMinutes();case 5:return Q.getSeconds();case 6:return Q.getMilliseconds();case 7:return Q.getDay();default:throw new E.buA(2301,!1)}}(S,Ie);if((F>0||ot>-F)&&(ot+=F),3===S)0===ot&&-12===F&&(ot=12);else if(6===S)return function wt(S,Q){return Ge(S,3).substring(0,Q)}(ot,Q);const Zt=Ne($e,5);return Ge(ot,Q,Zt,$,se)}}function Et(S,Q,F=pe.Format,$=!1){return function(se,Ie){return function an(S,Q,F,$,se,Ie){switch(F){case 2:return function Je(S,Q,F){const $=(0,i.kBR)(S),Ie=Te([$[i.NSC.MonthsFormat],$[i.NSC.MonthsStandalone]],Q);return Te(Ie,F)}(Q,se,$)[S.getMonth()];case 1:return function Ye(S,Q,F){const $=(0,i.kBR)(S),Ie=Te([$[i.NSC.DaysFormat],$[i.NSC.DaysStandalone]],Q);return Te(Ie,F)}(Q,se,$)[S.getDay()];case 0:const $e=S.getHours(),ot=S.getMinutes();if(Ie){const Bt=function wr(S){const Q=(0,i.kBR)(S);return yn(Q),(Q[i.NSC.ExtraData][2]||[]).map($=>"string"==typeof $?Ve($):[Ve($[0]),Ve($[1])])}(Q),Vt=function ar(S,Q,F){const $=(0,i.kBR)(S);yn($);const Ie=Te([$[i.NSC.ExtraData][0],$[i.NSC.ExtraData][1]],Q)||[];return Te(Ie,F)||[]}(Q,se,$),Ft=Bt.findIndex(gn=>{if(Array.isArray(gn)){const[en,On]=gn,_n=$e>=en.hours&&ot>=en.minutes,nr=$e<On.hours||$e===On.hours&&ot<On.minutes;if(en.hours<On.hours){if(_n&&nr)return!0}else if(_n||nr)return!0}else if(gn.hours===$e&&gn.minutes===ot)return!0;return!1});if(-1!==Ft)return Vt[Ft]}return function et(S,Q,F){const $=(0,i.kBR)(S),Ie=Te([$[i.NSC.DayPeriodsFormat],$[i.NSC.DayPeriodsStandalone]],Q);return Te(Ie,F)}(Q,se,$)[$e<12?0:1];case 3:return function ze(S,Q){return Te((0,i.kBR)(S)[i.NSC.Eras],Q)}(Q,$)[S.getFullYear()<=0?0:1];default:throw new E.buA(2302,!1)}}(se,Ie,S,Q,F,$)}}function Wt(S){return function(Q,F,$){const se=-1*$,Ie=Ne(F,5),$e=se>0?Math.floor(se/60):Math.ceil(se/60);switch(S){case 0:return(se>=0?"+":"")+Ge($e,2,Ie)+Ge(Math.abs(se%60),2,Ie);case 1:return"GMT"+(se>=0?"+":"")+Ge($e,1,Ie);case 2:return"GMT"+(se>=0?"+":"")+Ge($e,2,Ie)+":"+Ge(Math.abs(se%60),2,Ie);case 3:return 0===$?"Z":(se>=0?"+":"")+Ge($e,2,Ie)+":"+Ge(Math.abs(se%60),2,Ie);default:throw new E.buA(2302,!1)}}}const dr=0,jn=4;function un(S){const Q=S.getDay(),F=0===Q?-3:jn-Q;return Gt(S.getFullYear(),S.getMonth(),S.getDate()+F)}function Bn(S,Q=!1){return function(F,$){let se;if(Q){const Ie=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,$e=F.getDate();se=1+Math.floor(($e+Ie)/7)}else{const Ie=un(F),$e=function Kn(S){const Q=Gt(S,dr,1).getDay();return Gt(S,0,1+(Q<=jn?jn:jn+7)-Q)}(Ie.getFullYear()),ot=Ie.getTime()-$e.getTime();se=1+Math.round(ot/6048e5)}return Ge(se,S,Ne($,5))}}function ir(S,Q=!1){return function(F,$){return Ge(un(F).getFullYear(),S,Ne($,5),Q)}}const oo={};function To(S,Q){S=S.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(F)?Q:F}function Er(S){return S instanceof Date&&!isNaN(S.valueOf())}const Un=/\s+/,Zr=[];let zr=(()=>{class S{_ngEl;_renderer;initialClasses=Zr;rawClass;stateMap=new Map;constructor(F,$){this._ngEl=F,this._renderer=$}set klass(F){this.initialClasses=null!=F?F.trim().split(Un):Zr}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(Un):F}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const $ of F)this._updateState($,!0);else if(null!=F)for(const $ of Object.keys(F))this._updateState($,!!F[$]);this._applyStateDiff()}_updateState(F,$){const se=this.stateMap.get(F);void 0!==se?(se.enabled!==$&&(se.changed=!0,se.enabled=$),se.touched=!0):this.stateMap.set(F,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const $=F[0],se=F[1];se.changed?(this._toggleClass($,se.enabled),se.changed=!1):se.touched||(se.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),se.touched=!1}}_toggleClass(F,$){(F=F.trim()).length>0&&F.split(Un).forEach(se=>{$?this._renderer.addClass(this._ngEl.nativeElement,se):this._renderer.removeClass(this._ngEl.nativeElement,se)})}static \u0275fac=function($){return new($||S)(i.rXU(i.aKT),i.rXU(i.sFG))};static \u0275dir=i.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return S})();class Na{$implicit;ngForOf;index;count;constructor(Q,F,$,se){this.$implicit=Q,this.ngForOf=F,this.index=$,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class S{_viewContainer;_template;_differs;set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(F,$,se){this._viewContainer=F,this._template=$,this._differs=se}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const $=this._viewContainer;F.forEachOperation((se,Ie,$e)=>{if(null==se.previousIndex)$.createEmbeddedView(this._template,new Na(se.item,this._ngForOf,-1,-1),null===$e?void 0:$e);else if(null==$e)$.remove(null===Ie?void 0:Ie);else if(null!==Ie){const ot=$.get(Ie);$.move(ot,$e),Ar(ot,se)}});for(let se=0,Ie=$.length;se<Ie;se++){const ot=$.get(se).context;ot.index=se,ot.count=Ie,ot.ngForOf=this._ngForOf}F.forEachIdentityChange(se=>{Ar($.get(se.currentIndex),se)})}static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(z._q3))};static \u0275dir=i.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return S})();function Ar(S,Q){S.context.$implicit=Q.item}let Wn=(()=>{class S{_viewContainer;_context=new uo;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(F,$){this._viewContainer=F,this._thenTemplateRef=$}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Mr(F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Mr(F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(F,$){return!0}static \u0275fac=function($){return new($||S)(i.rXU(i.c1b),i.rXU(i.C4Q))};static \u0275dir=i.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return S})();class uo{$implicit=null;ngIf=null}function Mr(S,Q){if(S&&!S.createEmbeddedView)throw new E.buA(2020,!1)}function fe(S,Q){return new E.buA(2100,!1)}class pr{createSubscription(Q,F,$){return(0,T.O8)(()=>Q.subscribe({next:F,error:$}))}dispose(Q){(0,T.O8)(()=>Q.unsubscribe())}}class Po{createSubscription(Q,F,$){return Q.then(se=>F?.(se),se=>$?.(se)),{unsubscribe:()=>{F=null,$=null}}}dispose(Q){Q.unsubscribe()}}const sr=new Po,_o=new pr;let No=(()=>{class S{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,E.WQX)(E.ZTf);constructor(F){this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){if(!this._obj){if(F)try{this.markForCheckOnValueUpdate=!1,this._subscribe(F)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,$=>this._updateLatestValue(F,$),$=>this.applicationErrorHandler($))}_selectStrategy(F){if((0,i.yLl)(F))return sr;if((0,i.cdK)(F))return _o;throw fe()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,$){F===this._obj&&(this._latestValue=$,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function($){return new($||S)(i.rXU(z.gRc,16))};static \u0275pipe=i.EJ8({name:"async",type:S,pure:!1})}return S})();const co=new E.nKC(""),Dt=new E.nKC("");let mo=(()=>{class S{locale;defaultTimezone;defaultOptions;constructor(F,$,se){this.locale=F,this.defaultTimezone=$,this.defaultOptions=se}transform(F,$,se,Ie){if(null==F||""===F||F!=F)return null;try{return ct(F,$??this.defaultOptions?.dateFormat??"mediumDate",Ie||this.locale,se??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch($e){throw fe()}}static \u0275fac=function($){return new($||S)(i.rXU(i.xe9,16),i.rXU(co,24),i.rXU(Dt,24))};static \u0275pipe=i.EJ8({name:"date",type:S,pure:!0})}return S})(),ca=(()=>{class S{static \u0275fac=function($){return new($||S)};static \u0275mod=i.$C({type:S});static \u0275inj=E.G2t({})}return S})()},2615:(it,Ee,V)=>{"use strict";let E;function i(){return E}function z(_){const O=E;return E=_,O}V.d(Ee,{JEi:()=>Ga,EJG:()=>pt,Yrj:()=>Lt,VVG:()=>he,Y20:()=>Do,SKP:()=>De,hk6:()=>is,eVN:()=>Bo,b5C:()=>cn,rQE:()=>En,X5O:()=>lt,qFA:()=>ko,qQL:()=>Vl,abz:()=>Hs,tQN:()=>nn,pcR:()=>xt,oMQ:()=>lr,Mlv:()=>wn,MZA:()=>tr,M0L:()=>Qe,Z63:()=>Pr,VML:()=>Ks,uvJ:()=>to,zcH:()=>bi,Wg1:()=>tn,Yw1:()=>Xn,jgP:()=>Fr,tcA:()=>q,ID:()=>pn,YEL:()=>Le,B9r:()=>yr,GBX:()=>On,ZTf:()=>Vo,nKC:()=>Kn,zZn:()=>as,rJ1:()=>h,nfM:()=>Da,s6P:()=>Jo,K29:()=>D,CQl:()=>Io,p9y:()=>Jn,zSs:()=>$n,ONQ:()=>jn,hmW:()=>la,yAH:()=>dr,KXn:()=>$l,oTH:()=>gr,Czx:()=>$t,f7T:()=>j,wVl:()=>ft,GYQ:()=>mp,u5s:()=>ni,rev:()=>ql,Ds7:()=>dn,e5P:()=>qr,Iaj:()=>Pn,GpT:()=>ht,buA:()=>ke,AQb:()=>cc,jNX:()=>g,eDl:()=>jr,qlT:()=>N,bm_:()=>Wi,r4V:()=>Gl,ok8:()=>ce,Evm:()=>Vd,Jy$:()=>Kl,laP:()=>et,EYC:()=>Rr,ng7:()=>_o,llW:()=>co,gsJ:()=>wo,GZS:()=>yt,iYM:()=>de,PEr:()=>Ps,z7f:()=>Pe,LZP:()=>ct,Xln:()=>yn,yzR:()=>Ca,TWe:()=>mi,LIA:()=>Cn,GWr:()=>ie,pbo:()=>le,bBq:()=>or,Af3:()=>Lr,zQk:()=>xl,oZy:()=>hi,tF7:()=>rt,ZFY:()=>Mr,cP4:()=>po,MdC:()=>ma,XvL:()=>Te,KET:()=>At,Tkx:()=>C,iw4:()=>wr,tdH:()=>$o,pr_:()=>me,IAh:()=>Xt,U45:()=>_t,WrV:()=>ln,kNT:()=>Gt,MI:()=>pa,biv:()=>Ju,ZQF:()=>ar,Cv0:()=>Vn,W0r:()=>oe,R2n:()=>U,O8q:()=>M,VKj:()=>A,Rom:()=>w,z6V:()=>pr,n$e:()=>xe,hjC:()=>Kr,Pz9:()=>Ul,PQT:()=>Gn,VX4:()=>lo,_Z$:()=>so,N79:()=>Fd,xLP:()=>bo,zuh:()=>Hr,BI7:()=>sa,U7d:()=>Go,uXy:()=>Er,nZS:()=>qt,ihb:()=>Za,ID8:()=>ac,gv8:()=>wi,dwj:()=>Tt,Bqz:()=>No,OsK:()=>He,Rfq:()=>Ne,c$7:()=>Nl,gxQ:()=>Pl,ckz:()=>Aa,kLh:()=>ze,xUg:()=>qn,KdJ:()=>_e,db4:()=>It,VPL:()=>nc,MT:()=>es,Z9v:()=>Ya,Ab:()=>Ji,w7Z:()=>fa,Mx4:()=>Yi,veI:()=>yi,HaV:()=>ho,Agf:()=>Gr,znI:()=>Ld,wGu:()=>sr,ebl:()=>Wt,OAn:()=>Qi,_0$:()=>mn,UaU:()=>ro,vaC:()=>R,d31:()=>P,ZRn:()=>H,phH:()=>Qo,WbQ:()=>Nr,WB9:()=>vr,d_l:()=>Nn,vNG:()=>Ns,oyA:()=>ua,_px:()=>jl,CpD:()=>rs,XRZ:()=>G,klJ:()=>Fs,Fje:()=>Qa,b$O:()=>Ud,SMZ:()=>Je,WQX:()=>Sn,MzJ:()=>uo,jXY:()=>$,MME:()=>en,JlV:()=>Fa,Qs1:()=>zi,srX:()=>Zo,vOT:()=>ut,YWB:()=>Rl,EPY:()=>Ki,yoD:()=>ci,P3H:()=>Ol,Jzi:()=>Nt,rFz:()=>jd,JjR:()=>Zi,M6u:()=>Yo,KtD:()=>Gi,muV:()=>Ht,A0l:()=>An,q$2:()=>br,yP_:()=>Bd,EFk:()=>qa,Hps:()=>Wl,UhH:()=>qi,QuC:()=>ca,Y3W:()=>gn,n$r:()=>zl,K7h:()=>mo,FRF:()=>Lo,ezK:()=>Dt,m7n:()=>os,niQ:()=>Ll,krE:()=>Ls,bll:()=>ns,Hh6:()=>J,EmA:()=>S,blu:()=>St,HAh:()=>kn,WfI:()=>Or,xbp:()=>Ua,jvu:()=>Fl,lQ1:()=>zs,Rc9:()=>jo,E6O:()=>er,DyX:()=>Sa,eFE:()=>Zn,dMS:()=>Qt,HUe:()=>Mt,nl4:()=>Ke,N4e:()=>Ka,XaM:()=>Jr,Kw3:()=>js,vQI:()=>Us,RZ9:()=>Ja,GA0:()=>ts,iMd:()=>ec,Pfq:()=>tc,xyx:()=>Bs,a2B:()=>Wn,kcM:()=>xo,DFp:()=>ir,P2g:()=>rc,cBl:()=>oc,ypq:()=>Bl,vPA:()=>Ws,HO5:()=>uc,M_e:()=>ne,B22:()=>Il,ik5:()=>Mn,AsM:()=>ve,PP7:()=>io,$8:()=>we,$Hz:()=>Zr,zAe:()=>k,IvY:()=>f,_gW:()=>ur,F1c:()=>nt,ITl:()=>at,brz:()=>Ie,jRZ:()=>vn,SX7:()=>ei,jDH:()=>je,G2t:()=>wt,fuf:()=>Zu,cSN:()=>Xa,KVO:()=>xr,dmw:()=>Ir,joV:()=>ta,By9:()=>ea,qSk:()=>zt,Njj:()=>Xi,eBV:()=>fi});const X=Symbol("NotFound");function Z(_){return _===X||"\u0275NotFound"===_?.name}Error;var ue=V(8440),ye=V(4412),pe=V(1985);const ce="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ke extends Error{code;constructor(O,K){super(He(O,K)),this.code=O}}function He(_,O){return`${function Ce(_){return`NG0${Math.abs(_)}`}(_)}${O?": "+O:""}`}const et=globalThis;function Je(){return!1}function ze(_){for(let O in _)if(_[O]===ze)return O;throw Error("")}function Tt(_,O){for(const K in O)O.hasOwnProperty(K)&&!_.hasOwnProperty(K)&&(_[K]=O[K])}function ve(_){if("string"==typeof _)return _;if(Array.isArray(_))return`[${_.map(ve).join(", ")}]`;if(null==_)return""+_;const O=_.overriddenName||_.name;if(O)return`${O}`;const K=_.toString();if(null==K)return""+K;const be=K.indexOf("\n");return be>=0?K.slice(0,be):K}function xe(_,O){return _?O?`${_} ${O}`:_:O||""}const Ue=ze({__forward_ref__:ze});function Ne(_){return _.__forward_ref__=Ne,_.toString=function(){return ve(this())},_}function Ke(_){return Nt(_)?_():_}function Nt(_){return"function"==typeof _&&_.hasOwnProperty(Ue)&&_.__forward_ref__===Ne}function _t(_,O){"number"!=typeof _&&we(O,typeof _,"number","===")}function ln(_,O,K){_t(_,"Expected a number"),function Ve(_,O,K){_<=O||we(K,_,O,"<=")}(_,K,"Expected number to be less than or equal to"),le(_,O,"Expected number to be greater than or equal to")}function Vn(_,O){"string"!=typeof _&&we(O,null===_?"null":typeof _,"string","===")}function Cn(_,O){"function"!=typeof _&&we(O,null===_?"null":typeof _,"function","===")}function yn(_,O,K){_!=O&&we(K,_,O,"==")}function wr(_,O,K){_==O&&we(K,_,O,"!=")}function ar(_,O,K){_!==O&&we(K,_,O,"===")}function Xt(_,O,K){_===O&&we(K,_,O,"!==")}function Te(_,O,K){_<O||we(K,_,O,"<")}function ie(_,O,K){_>O||we(K,_,O,">")}function le(_,O,K){_>=O||we(K,_,O,">=")}function de(_,O){null==_&&we(O,_,null,"!=")}function we(_,O,K,be){throw new Error(`ASSERTION ERROR: ${_}`+(null==be?"":` [Expected=> ${K} ${be} ${O} <=Actual]`))}function Pe(_){_ instanceof Node||we(`The provided value must be an instance of a DOM Node but got ${ve(_)}`)}function ct(_){_ instanceof Element||we(`The provided value must be an element but got ${ve(_)}`)}function rt(_,O){de(_,"Array must be defined.");const K=_.length;(O<0||O>=K)&&we(`Index expected to be less than ${K} but got ${O}`)}function Gt(_,...O){if(-1!==O.indexOf(_))return!0;we(`Expected value to be one of ${JSON.stringify(O)} but was ${JSON.stringify(_)}.`)}function me(_){null!==(0,ue.nR)()&&we(`${_}() should never be called in a reactive context.`)}function je(_){return{token:_.token,providedIn:_.providedIn||null,factory:_.factory,value:void 0}}function wt(_){return{providers:_.providers||[],imports:_.imports||[]}}function Fe(_){return function Et(_,O){return _.hasOwnProperty(O)&&_[O]||null}(_,dr)}function Ht(_){return null!==Fe(_)}function Wt(_){return _&&_.hasOwnProperty(jn)?_[jn]:null}const dr=ze({\u0275prov:ze}),jn=ze({\u0275inj:ze});class Kn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(O,K){this._desc=O,this.\u0275prov=void 0,"number"==typeof K?this.__NG_ELEMENT_ID__=K:void 0!==K&&(this.\u0275prov=je({token:this,providedIn:K.providedIn||"root",factory:K.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let un;function Bn(){return we("getInjectorProfilerContext should never be called in production mode"),un}function ir(_){we("setInjectorProfilerContext should never be called in production mode");const O=un;return un=_,O}const oo=[],ia=()=>{};function xo(_){return we("setInjectorProfiler should never be called in production mode"),null!==_?(oo.includes(_)||oo.push(_),()=>function To(_){const O=oo.indexOf(_);-1!==O&&oo.splice(O,1)}(_)):(oo.length=0,ia)}function Rn(_){we("Injector profiler should never be called in production mode");for(let O=0;O<oo.length;O++)(0,oo[O])(_)}function qt(_,O=!1){let K;we("Injector profiler should never be called in production mode"),K="function"==typeof _||_ instanceof Kn?_:Ke(_.provide);let be=_;_ instanceof Kn&&(be=_.\u0275prov||_),Rn({type:2,context:Bn(),providerRecord:{token:K,provider:be,isViewProvider:O}})}function Go(_){we("Injector profiler should never be called in production mode"),Rn({type:4,context:Bn(),token:_})}function Er(_){we("Injector profiler should never be called in production mode"),Rn({type:1,context:Bn(),instance:{value:_}})}function sa(_,O,K){we("Injector profiler should never be called in production mode"),Rn({type:0,context:Bn(),service:{token:_,value:O,flags:K}})}function Hr(_){we("Injector profiler should never be called in production mode"),Rn({type:3,context:Bn(),effect:_})}function Jr(_,O,K){we("runInInjectorProfilerContext should never be called in production mode");const be=ir({injector:_,token:O});try{K()}finally{ir(be)}}function Yn(_){return _&&!!_.\u0275providers}const Io=ze({\u0275cmp:ze}),kr=ze({\u0275dir:ze}),ao=ze({\u0275pipe:ze}),la=ze({\u0275mod:ze}),$n=ze({\u0275fac:ze}),Jn=ze({__NG_ELEMENT_ID__:ze}),Dr=ze({__NG_ENV_ID__:ze});function Zn(_){return"string"==typeof _?_:null==_?"":String(_)}function io(_){return"function"==typeof _?_.name||_.toString():"object"==typeof _&&null!=_&&"function"==typeof _.type?_.type.name||_.type.toString():Zn(_)}function so(_){let O=_[Io]||null;return null!==O&&O.debugInfo?function Cr(_){return _.filePath&&_.lineNumber?`${_.className} (at ${_.filePath}:${_.lineNumber})`:_.className}(O.debugInfo):io(_)}const hn=ze({ngErrorCode:ze}),Wr=ze({ngErrorMessage:ze}),Hn=ze({ngTokenPath:ze});function Gn(_,O){return Sr("",-200,O)}function lo(_,O){return function Ro(_,O){return _.message=function mr(_,O,K=[],be=null){let Re="";K&&K.length>1&&(Re=` Path: ${K.join(" -> ")}.`);return He(O,`${_}${be?` Source: ${be}.`:""}${Re}`)}(_[Wr]||_.message,_[hn],_[Hn],O),_}(Gn(0,O),null)}function Zr(_,O){throw new ke(-201,!1)}function Sr(_,O,K){const be=new ke(O,_);return be[hn]=O,be[Wr]=_,K&&(be[Hn]=K),be}let Ar;function Yt(){return Ar}function Wn(_){const O=Ar;return Ar=_,O}function uo(_,O,K){const be=Fe(_);return be&&"root"==be.providedIn?void 0===be.value?be.value=be.factory():be.value:8&K?null:void 0!==O?O:void Zr()}function Mr(_){}const Tr={},Oo="__NG_DI_FLAG__";class La{injector;constructor(O){this.injector=O}retrieve(O,K){const be=Kr(K)||0;try{return this.injector.get(O,8&be?null:Tr,be)}catch(Re){if(Z(Re))return Re;throw Re}}}function qo(_,O=0){const K=i();if(void 0===K)throw new ke(-203,!1);if(null===K)return uo(_,void 0,O);{const be=function hr(_){return{optional:!!(8&_),host:!!(1&_),self:!!(2&_),skipSelf:!!(4&_)}}(O),Re=K.retrieve(_,be);if(Z(Re)){if(be.optional)return null;throw Re}return Re}}function xr(_,O=0){return(Yt()||qo)(Ke(_),O)}function Ir(_){throw new ke(202,!1)}function Sn(_,O){return xr(_,Kr(O))}function Kr(_){return typeof _>"u"||"number"==typeof _?_:0|(_.optional&&8)|(_.host&&1)|(_.self&&2)|(_.skipSelf&&4)}function fe(_){const O=[];for(let K=0;K<_.length;K++){const be=Ke(_[K]);if(Array.isArray(be)){if(0===be.length)throw new ke(900,!1);let Re,tt=0;for(let sn=0;sn<be.length;sn++){const Br=be[sn],Tn=Po(Br);"number"==typeof Tn?-1===Tn?Re=Br.token:tt|=Tn:Re=Br}O.push(xr(Re,tt))}else O.push(xr(be))}return O}function pr(_,O){return _[Oo]=O,_.prototype[Oo]=O,_}function Po(_){return _[Oo]}function sr(_,O){return _.hasOwnProperty($n)?_[$n]:null}function _o(_,O,K){if(_.length!==O.length)return!1;for(let be=0;be<_.length;be++){let Re=_[be],tt=O[be];if(K&&(Re=K(Re),tt=K(tt)),tt!==Re)return!1}return!0}function No(_){return _.flat(Number.POSITIVE_INFINITY)}function bo(_,O){_.forEach(K=>Array.isArray(K)?bo(K,O):O(K))}function Rr(_,O,K){O>=_.length?_.push(K):_.splice(O,0,K)}function er(_,O){return O>=_.length-1?_.pop():_.splice(O,1)[0]}function Or(_,O){const K=[];for(let be=0;be<_;be++)K.push(O);return K}function wo(_,O,K){const be=_.length-K;for(;O<be;)_[O]=_[O+K],O++;for(;K--;)_.pop()}function co(_,O,K,be){let Re=_.length;if(Re==O)_.push(K,be);else if(1===Re)_.push(be,_[0]),_[0]=K;else{for(Re--,_.push(_[Re-1],_[Re]);Re>O;)_[Re]=_[Re-2],Re--;_[O]=K,_[O+1]=be}}function Dt(_,O,K){let be=Lo(_,O);return be>=0?_[1|be]=K:(be=~be,co(_,be,O,K)),be}function mo(_,O){const K=Lo(_,O);if(K>=0)return _[1|K]}function Lo(_,O){return function Fo(_,O,K){let be=0,Re=_.length>>K;for(;Re!==be;){const tt=be+(Re-be>>1),sn=_[tt<<K];if(O===sn)return tt<<K;sn>O?Re=tt:be=tt+1}return~(Re<<K)}(_,O,1)}const tr={},wn=[],Pr=new Kn(""),fr=new Kn("",-1),yr=new Kn("");class gr{get(O,K=Tr){if(K===Tr){const Re=Sr("",-201);throw Re.name="\u0275NotFound",Re}return K}}function Qo(_){return _[la]||null}function Nr(_){const O=Qo(_);if(!O)throw new ke(915,!1);return O}function qn(_){return _[Io]||null}function Gr(_){const O=ho(_);if(!O)throw new ke(916,!1);return O}function ho(_){return _[kr]||null}function ua(_){return _[ao]||null}function ca(_){const O=qn(_)||ho(_)||ua(_);return null!==O&&O.standalone}function S(_){return{\u0275providers:_}}function F(..._){return{\u0275providers:$(0,_),\u0275fromNgModule:!0}}function $(_,...O){const K=[],be=new Set;let Re;const tt=sn=>{K.push(sn)};return bo(O,sn=>{const Br=sn;Ie(Br,tt,[],be)&&(Re||=[],Re.push(Br))}),void 0!==Re&&se(Re,tt),K}function se(_,O){for(let K=0;K<_.length;K++){const{ngModule:be,providers:Re}=_[K];ot(Re,tt=>{O(tt,be)})}}function Ie(_,O,K,be){if(!(_=Ke(_)))return!1;let Re=null,tt=Wt(_);const sn=!tt&&qn(_);if(tt||sn){if(sn&&!sn.standalone)return!1;Re=_}else{const Tn=_.ngModule;if(tt=Wt(Tn),!tt)return!1;Re=Tn}const Br=be.has(Re);if(sn){if(Br)return!1;if(be.add(Re),sn.dependencies){const Tn="function"==typeof sn.dependencies?sn.dependencies():sn.dependencies;for(const Dn of Tn)Ie(Dn,O,K,be)}}else{if(!tt)return!1;{if(null!=tt.imports&&!Br){let Dn;be.add(Re);try{bo(tt.imports,Ma=>{Ie(Ma,O,K,be)&&(Dn||=[],Dn.push(Ma))})}finally{}void 0!==Dn&&se(Dn,O)}if(!Br){const Dn=sr(Re)||(()=>new Re);O({provide:Re,useFactory:Dn,deps:wn},Re),O({provide:yr,useValue:Re,multi:!0},Re),O({provide:Pr,useValue:()=>xr(Re),multi:!0},Re)}const Tn=tt.providers;if(null!=Tn&&!Br){const Dn=_;ot(Tn,Ma=>{O(Ma,Dn)})}}}return Re!==_&&void 0!==_.providers}function ot(_,O){for(let K of _)Yn(K)&&(K=K.\u0275providers),Array.isArray(K)?ot(K,O):O(K)}const Zt=ze({provide:String,useValue:ze});function Bt(_){return null!==_&&"object"==typeof _&&Zt in _}function gn(_){return"function"==typeof _}function en(_){return!!_.useClass}const On=new Kn(""),_n={},nr={};let eo;function vr(){return void 0===eo&&(eo=new gr),eo}class to{}class qr extends to{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(O,K,be,Re){super(),this.parent=K,this.source=be,this.scopes=Re,da(O,sn=>this.processProvider(sn)),this.records.set(fr,Qn(void 0,this)),Re.has("environment")&&this.records.set(to,Qn(void 0,this));const tt=this.records.get(On);null!=tt&&"string"==typeof tt.value&&this.scopes.add(tt.value),this.injectorDefTypes=new Set(this.get(yr,wn,{self:!0}))}retrieve(O,K){const be=Kr(K)||0;try{return this.get(O,Tr,be)}catch(Re){if(Z(Re))return Re;throw Re}}destroy(){Xr(this),this._destroyed=!0;const O=(0,ue.Ht)(null);try{for(const be of this._ngOnDestroyHooks)be.ngOnDestroy();const K=this._onDestroyHooks;this._onDestroyHooks=[];for(const be of K)be()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,ue.Ht)(O)}}onDestroy(O){return Xr(this),this._onDestroyHooks.push(O),()=>this.removeOnDestroy(O)}runInContext(O){Xr(this);const K=z(this),be=Wn(void 0);try{return O()}finally{z(K),Wn(be)}}get(O,K=Tr,be){if(Xr(this),O.hasOwnProperty(Dr))return O[Dr](this);const Re=Kr(be),sn=z(this),Br=Wn(void 0);try{if(!(4&Re)){let Dn=this.records.get(O);if(void 0===Dn){const Ma=function Xo(_){return"function"==typeof _||"object"==typeof _&&"InjectionToken"===_.ngMetadataName}(O)&&Fe(O);Dn=Ma&&this.injectableDefInScope(Ma)?Qn(rr(O),_n):null,this.records.set(O,Dn)}if(null!=Dn)return this.hydrate(O,Dn,Re)}return(2&Re?vr():this.parent).get(O,K=8&Re&&K===Tr?null:K)}catch(Tn){const Dn=function Na(_){return _[hn]}(Tn);throw-200===Dn||-201===Dn?new ke(Dn,null):Tn}finally{Wn(Br),z(sn)}}resolveInjectorInitializers(){const O=(0,ue.Ht)(null),K=z(this),be=Wn(void 0);try{const tt=this.get(Pr,wn,{self:!0});for(const sn of tt)sn()}finally{z(K),Wn(be),(0,ue.Ht)(O)}}toString(){const O=[],K=this.records;for(const be of K.keys())O.push(ve(be));return`R3Injector[${O.join(", ")}]`}processProvider(O){let K=gn(O=Ke(O))?O:Ke(O&&O.provide);const be=function Qr(_){return Bt(_)?Qn(void 0,_.useValue):Qn(jo(_),_n)}(O);if(!gn(O)&&!0===O.multi){let Re=this.records.get(K);Re||(Re=Qn(void 0,_n,!0),Re.factory=()=>fe(Re.multi),this.records.set(K,Re)),K=O,Re.multi.push(O)}this.records.set(K,be)}hydrate(O,K,be){const Re=(0,ue.Ht)(null);try{if(K.value===nr)throw Gn(ve(O));return K.value===_n&&(K.value=nr,K.value=K.factory(void 0,be)),"object"==typeof K.value&&K.value&&function ka(_){return null!==_&&"object"==typeof _&&"function"==typeof _.ngOnDestroy}(K.value)&&this._ngOnDestroyHooks.add(K.value),K.value}finally{(0,ue.Ht)(Re)}}injectableDefInScope(O){if(!O.providedIn)return!1;const K=Ke(O.providedIn);return"string"==typeof K?"any"===K||this.scopes.has(K):this.injectorDefTypes.has(K)}removeOnDestroy(O){const K=this._onDestroyHooks.indexOf(O);-1!==K&&this._onDestroyHooks.splice(K,1)}}function rr(_){const O=Fe(_),K=null!==O?O.factory:sr(_);if(null!==K)return K;if(_ instanceof Kn)throw new ke(204,!1);if(_ instanceof Function)return function Eo(_){if(_.length>0)throw new ke(204,!1);const K=function an(_){return(_?.[dr]??null)||null}(_);return null!==K?()=>K.factory(_):()=>new _}(_);throw new ke(204,!1)}function jo(_,O,K){let be;if(gn(_)){const Re=Ke(_);return sr(Re)||rr(Re)}if(Bt(_))be=()=>Ke(_.useValue);else if(function Ft(_){return!(!_||!_.useFactory)}(_))be=()=>_.useFactory(...fe(_.deps||[]));else if(function Vt(_){return!(!_||!_.useExisting)}(_))be=(Re,tt)=>xr(Ke(_.useExisting),void 0!==tt&&8&tt?8:void 0);else{const Re=Ke(_&&(_.useClass||_.provide));if(!function _r(_){return!!_.deps}(_))return sr(Re)||rr(Re);be=()=>new Re(...fe(_.deps))}return be}function Xr(_){if(_.destroyed)throw new ke(205,!1)}function Qn(_,O,K=!1){return{factory:_,value:O,multi:K?[]:void 0}}function da(_,O){for(const K of _)Array.isArray(K)?da(K,O):K&&Yn(K)?da(K.\u0275providers,O):O(K)}function Ka(_,O){let K;_ instanceof qr?(Xr(_),K=_):K=new La(_);const Re=z(K),tt=Wn(void 0);try{return O()}finally{z(Re),Wn(tt)}}function Yo(){return void 0!==Yt()||null!=i()}function Lr(_){if(!Yo())throw new ke(-203,!1)}const Fr=0,jr=1,tn=2,j=3,D=4,N=5,q=6,he=7,De=8,Le=9,Qe=10,ht=11,pt=12,Lt=13,lt=14,cn=15,En=16,ft=17,dn=18,pn=19,lr=20,$t=21,xt=22,nn=23,Pn=24,Ga=25,Xn=26,zn=1,ko=6,Jo=7,Wi=8,Da=9,Do=10;function br(_){return Array.isArray(_)&&"object"==typeof _[zn]}function An(_){return Array.isArray(_)&&!0===_[zn]}function Zo(_){return!!(4&_.flags)}function zi(_){return _.componentOffset>-1}function ci(_){return!(1&~_.flags)}function Fa(_){return!!_.template}function qa(_){return!!(512&_[tn])}function Ki(_){return!(256&~_[tn])}function A(_,O){w(_,O[jr])}function M(_,O){const K=O+Xn;rt(_,K),Te(K,_[jr].bindingStartIndex,"TNodes should be created before any bindings")}function w(_,O){U(_);const K=O.data;for(let be=Xn;be<K.length;be++)if(K[be]===_)return;we("This TNode does not belong to this TView.")}function U(_){de(_,"TNode must be defined"),_&&"object"==typeof _&&_.hasOwnProperty("directiveStylingLast")||we("Not of type TNode, got: "+_)}function oe(_){de(_,"Expected TIcu to be defined"),"number"!=typeof _.currentCaseLViewIndex&&we("Object is not of TIcu type.")}function yt(_,O="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){qn(_)||we(O)}function At(_,O="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){Qo(_)||we(O)}function or(_){de(_,"currentTNode should exist!"),de(_.parent,"currentTNode should have a parent")}function po(_){de(_,"LContainer must be defined"),yn(An(_),!0,"Expecting LContainer")}function ma(_){de(_,"LView must be defined"),yn(br(_),!0,"Expecting LView")}function Ca(_,O){yn(_.firstCreatePass,!0,O||"Should only be called in first create pass.")}function mi(_,O){yn(_.firstUpdatePass,!0,"Should only be called in first update pass.")}function Ps(_){(void 0===_.type||null==_.selectors||void 0===_.inputs)&&we("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function xl(_,O){ha(Xn,_.bindingStartIndex,O)}function hi(_,O){ha(_[1].expandoStartIndex,_.length,O)}function ha(_,O,K){_<=K&&K<O||we(`Index out of range (expecting ${_} <= ${K} < ${O})`)}function Ju(_,O){de(_[cn],"Component views should exist."),de(_[cn][N].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function pa(_,O){de(_,"Component views should always have a parent view (component's host view)")}function C(_,O){hi(_,O),hi(_,O+8),_t(_[O+0],"injectorIndex should point to a bloom filter"),_t(_[O+1],"injectorIndex should point to a bloom filter"),_t(_[O+2],"injectorIndex should point to a bloom filter"),_t(_[O+3],"injectorIndex should point to a bloom filter"),_t(_[O+4],"injectorIndex should point to a bloom filter"),_t(_[O+5],"injectorIndex should point to a bloom filter"),_t(_[O+6],"injectorIndex should point to a bloom filter"),_t(_[O+7],"injectorIndex should point to a bloom filter"),_t(_[O+8],"injectorIndex should point to parent injector")}const g="svg",h="math";function f(_){for(;Array.isArray(_);)_=_[Fr];return _}function k(_){for(;Array.isArray(_);){if("object"==typeof _[zn])return _;_=_[Fr]}return null}function R(_,O){return f(O[_])}function P(_,O){return f(O[_.index])}function H(_,O){const K=null===_?-1:_.index;return-1!==K?f(O[K]):null}function G(_,O){return _.data[O]}function J(_,O){return _[O]}function ne(_,O,K,be){K>=_.data.length&&(_.data[K]=null,_.blueprint[K]=null),O[K]=be}function _e(_,O){const K=O[_];return br(K)?K:K[Fr]}function ut(_){return!(4&~_[tn])}function nt(_){return!(128&~_[tn])}function at(_){return An(_[j])}function It(_,O){return null==O?null:_[O]}function Mt(_){_[ft]=0}function kn(_){1024&_[tn]||(_[tn]|=1024,nt(_)&&St(_))}function vn(_,O){for(;_>0;)O=O[lt],_--;return O}function Qt(_){return!!(9216&_[tn]||_[Pn]?.dirty)}function ur(_){_[Qe].changeDetectionScheduler?.notify(8),64&_[tn]&&(_[tn]|=1024),Qt(_)&&St(_)}function St(_){_[Qe].changeDetectionScheduler?.notify(0);let O=mn(_);for(;null!==O&&!(8192&O[tn])&&(O[tn]|=8192,nt(O));)O=mn(O)}function Mn(_,O){if(Ki(_))throw new ke(911,!1);null===_[$t]&&(_[$t]=[]),_[$t].push(O)}function Sa(_,O){if(null===_[$t])return;const K=_[$t].indexOf(O);-1!==K&&_[$t].splice(K,1)}function mn(_){const O=_[j];return An(O)?O[j]:O}function Nn(_){return _[he]??=[]}function Ns(_){return _.cleanup??=[]}function Il(_,O,K,be){const Re=Nn(O);Re.push(K),_.firstCreatePass&&Ns(_).push(be,Re.length-1)}const Ct={lFrame:_i(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bo=function(_){return _[_.Off=0]="Off",_[_.Exhaustive=1]="Exhaustive",_[_.OnlyDirtyViews=2]="OnlyDirtyViews",_}(Bo||{});let Jt=0,Ba=!1;function Ld(){return Ct.lFrame.elementDepthCount}function Qa(){Ct.lFrame.elementDepthCount++}function Fd(){Ct.lFrame.elementDepthCount--}function Aa(){return Ct.bindingsEnabled}function Gi(){return null!==Ct.skipHydrationRootTNode}function qi(_){return Ct.skipHydrationRootTNode===_}function Xa(){Ct.bindingsEnabled=!0}function Zu(){Ct.bindingsEnabled=!1}function Ls(){Ct.skipHydrationRootTNode=null}function Qi(){return Ct.lFrame.lView}function Fs(){return Ct.lFrame.tView}function fi(_){return Ct.lFrame.contextLView=_,_[De]}function Xi(_){return Ct.lFrame.contextLView=null,_}function Yi(){let _=yi();for(;null!==_&&64===_.type;)_=_.parent;return _}function yi(){return Ct.lFrame.currentTNode}function Ji(){const _=Ct.lFrame,O=_.currentTNode;return _.isParent?O:O.parent}function ec(_,O){const K=Ct.lFrame;K.currentTNode=_,K.isParent=O}function Rl(){return Ct.lFrame.isParent}function tc(){Ct.lFrame.isParent=!1}function nc(){return Ct.lFrame.contextLView}function jd(){return we("Must never be called in production mode"),Jt!==Bo.Off}function Ol(){return we("Must never be called in production mode"),Jt===Bo.Exhaustive}function rc(_){we("Must never be called in production mode"),Jt=_}function Bd(){return Ba}function oc(_){const O=Ba;return Ba=_,O}function Pl(){const _=Ct.lFrame;let O=_.bindingRootIndex;return-1===O&&(O=_.bindingRootIndex=_.tView.bindingStartIndex),O}function Nl(){return Ct.lFrame.bindingIndex}function js(_){return Ct.lFrame.bindingIndex=_}function Ua(){return Ct.lFrame.bindingIndex++}function Ud(_){const O=Ct.lFrame,K=O.bindingIndex;return O.bindingIndex=O.bindingIndex+_,K}function Zi(){return Ct.lFrame.inI18n}function Bs(_){Ct.lFrame.inI18n=_}function Us(_,O){const K=Ct.lFrame;K.bindingIndex=K.bindingRootIndex=_,Ja(O)}function Ya(){return Ct.lFrame.currentDirectiveIndex}function Ja(_){Ct.lFrame.currentDirectiveIndex=_}function es(_){const O=Ct.lFrame.currentDirectiveIndex;return-1===O?null:_[O]}function fa(){return Ct.lFrame.currentQueryIndex}function ts(_){Ct.lFrame.currentQueryIndex=_}function gi(_){const O=_[jr];return 2===O.type?O.declTNode:1===O.type?_[N]:null}function Za(_,O,K){if(4&K){let Re=O,tt=_;for(;!(Re=Re.parent,null!==Re||1&K||(Re=gi(tt),null===Re||(tt=tt[lt],10&Re.type))););if(null===Re)return!1;O=Re,_=tt}const be=Ct.lFrame=vi();return be.currentTNode=O,be.lView=_,!0}function ac(_){const O=vi(),K=_[jr];Ct.lFrame=O,O.currentTNode=K.firstChild,O.lView=_,O.tView=K,O.contextLView=_,O.bindingIndex=K.bindingStartIndex,O.inI18n=!1}function vi(){const _=Ct.lFrame,O=null===_?null:_.child;return null===O?_i(_):O}function _i(_){const O={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:_,child:null,inI18n:!1};return null!==_&&(_.child=O),O}function Va(){const _=Ct.lFrame;return Ct.lFrame=_.parent,_.currentTNode=null,_.lView=null,_}const Ll=Va;function ns(){const _=Va();_.isParent=!0,_.tView=null,_.selectedIndex=-1,_.contextLView=null,_.elementDepthCount=0,_.currentDirectiveIndex=-1,_.currentNamespace=null,_.bindingRootIndex=-1,_.bindingIndex=-1,_.currentQueryIndex=0}function Fl(_){return(Ct.lFrame.contextLView=vn(_,Ct.lFrame.contextLView))[De]}function jl(){return Ct.lFrame.selectedIndex}function Bl(_){Ct.lFrame.selectedIndex=_}function rs(){const _=Ct.lFrame;return G(_.tView,_.selectedIndex)}function zt(){Ct.lFrame.currentNamespace=g}function ea(){Ct.lFrame.currentNamespace=h}function ta(){!function Uo(){Ct.lFrame.currentNamespace=null}()}function ro(){return Ct.lFrame.currentNamespace}let Vs=!0;function ei(){return Vs}function os(_){Vs=_}function $s(_,O=null,K=null,be){const Re=Ul(_,O,K,be);return Re.resolveInjectorInitializers(),Re}function Ul(_,O=null,K=null,be,Re=new Set){const tt=[K||wn,F(_)];return be=be||("object"==typeof _?void 0:ve(_)),new qr(tt,O||vr(),be||null,Re)}class as{static THROW_IF_NOT_FOUND=Tr;static NULL=new gr;static create(O,K){if(Array.isArray(O))return $s({name:""},K,O,"");{const be=O.name??"";return $s({name:be},O.parent,O.providers,be)}}static \u0275prov=je({token:as,providedIn:"any",factory:()=>xr(fr)});static __NG_ELEMENT_ID__=-1}const Vl=new Kn("");let Hs=(()=>class _{static __NG_ELEMENT_ID__=ic;static __NG_ENV_ID__=K=>K})();class $l extends Hs{_lView;constructor(O){super(),this._lView=O}get destroyed(){return Ki(this._lView)}onDestroy(O){const K=this._lView;return Mn(K,O),()=>Sa(K,O)}}function ic(){return new $l(Qi())}class bi{_console=console;handleError(O){this._console.error("ERROR",O)}}const Vo=new Kn("",{providedIn:"root",factory:()=>{const _=Sn(to);let O;return K=>{_.destroyed&&!O?setTimeout(()=>{throw K}):(O??=_.get(bi),O.handleError(K))}}}),wi={provide:Pr,useValue:()=>{Sn(bi)},multi:!0};function Wl(_){return"function"==typeof _&&void 0!==_[ue.bh]}function Ws(_,O){const[K,be,Re]=(0,ue.n5)(_,O?.equal),tt=K;return tt.set=be,tt.update=Re,tt.asReadonly=uc.bind(tt),tt}function uc(){const _=this[ue.bh];if(void 0===_.readonlyFn){const O=()=>this();O[ue.bh]=_,_.readonlyFn=O}return _.readonlyFn}function zl(_){return Wl(_)&&"function"==typeof _.set}class is{}const Vd=new Kn("",{providedIn:"root",factory:()=>!1}),mp=new Kn("",{providedIn:"root",factory:()=>!1}),Kl=new Kn(""),cc=new Kn("");function $o(_,O){if(null!==(0,ue.nR)())throw new ke(-602,!1)}let Gl=(()=>class _{view;node;constructor(K,be){this.view=K,this.node=be}static __NG_ELEMENT_ID__=ti})();function ti(){return new Gl(Qi(),Yi())}let ql=(()=>{class _{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ye.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pe.c(K=>{K.next(!1),K.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const K=this.taskId++;return this.pendingTasks.add(K),K}has(K){return this.pendingTasks.has(K)}remove(K){this.pendingTasks.delete(K),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=je({token:_,providedIn:"root",factory:()=>new _})}return _})(),ni=(()=>{class _{internalPendingTasks=Sn(ql);scheduler=Sn(is);errorHandler=Sn(Vo);add(){const K=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(K)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(K))}}run(K){const be=this.add();K().catch(this.errorHandler).finally(be)}static \u0275prov=je({token:_,providedIn:"root",factory:()=>new _})}return _})();function zs(..._){}let Ks=(()=>{class _{static \u0275prov=je({token:_,providedIn:"root",factory:()=>new Gs})}return _})();class Gs{dirtyEffectCount=0;queues=new Map;add(O){this.enqueue(O),this.schedule(O)}schedule(O){O.dirty&&this.dirtyEffectCount++}remove(O){const be=this.queues.get(O.zone);be.has(O)&&(be.delete(O),O.dirty&&this.dirtyEffectCount--)}enqueue(O){const K=O.zone;this.queues.has(K)||this.queues.set(K,new Set);const be=this.queues.get(K);be.has(O)||be.add(O)}flush(){for(;this.dirtyEffectCount>0;){let O=!1;for(const[K,be]of this.queues)O||=null===K?this.flushQueue(be):K.run(()=>this.flushQueue(be));O||(this.dirtyEffectCount=0)}}flushQueue(O){let K=!1;for(const be of O)be.dirty&&(this.dirtyEffectCount--,K=!0,be.run());return K}}},3073:(it,Ee,V)=>{"use strict";V.d(Ee,{D:()=>X});const{isArray:E}=Array,{getPrototypeOf:i,prototype:z,keys:T}=Object;function X(Z){if(1===Z.length){const ue=Z[0];if(E(ue))return{args:ue,keys:null};if(function ee(Z){return Z&&"object"==typeof Z&&i(Z)===z}(ue)){const ye=T(ue);return{args:ye.map(pe=>ue[pe]),keys:ye}}}return{args:Z,keys:null}}},3077:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>z});var E=V(467),i=V(2615);let z=(()=>{class T{SESSION_ID="sessionId";constructor(){}load(ee){const Z=localStorage.getItem(ee);return null!==Z?JSON.parse(Z):null}loadSessionId(){const ee=this.load(this.SESSION_ID);return null!==ee?ee:0}set(ee,Z){localStorage.setItem(ee,Z)}setSessionId(ee){this.set(this.SESSION_ID,ee.toString())}clear(ee){localStorage.removeItem(ee)}resetGame(){localStorage.clear(),location.reload()}loadFile(ee,Z){var ue=this;return(0,E.A)(function*(){if(!ee)throw new Error("Enter a valid scenario number");const ye=String(ee).padStart(3,"0"),ae=`${(document.querySelector("base")?.getAttribute("href")||"/").replace(/\/$/,"")}/scenarios/${ye}.json`;try{const ce=yield fetch(ae);if(!ce.ok)throw new Error(`Failed to load file: ${ce.status} ${ce.statusText}`);const ke=yield ce.json();return ue.processScenarioData(ke,Z)}catch(ce){throw console.error("Error loading file:",ce),new Error(`Error loading scenario ${ee}. Check the file path and make sure it exists.`)}})()}processScenarioData(ee,Z=1){return ee.rooms&&ee.rooms[0]&&ee.rooms[0].monster?ee.rooms[0].monster.map(ue=>({type:ue.name,level:Z,isElite:"elite"===ue?.type||"elite"===ue?.player4,aggressive:!0})):[]}static \u0275fac=function(Z){return new(Z||T)};static \u0275prov=i.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},3242:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(8666)),z=E(V(3608));class T{constructor(ee,{headers:Z={},schema:ue,fetch:ye}={}){this.url=ee,this.headers=new Headers(Z),this.schemaName=ue,this.fetch=ye}from(ee){const Z=new URL(`${this.url}/${ee}`);return new i.default(Z,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(ee){return new T(this.url,{headers:this.headers,schema:ee,fetch:this.fetch})}rpc(ee,Z={},{head:ue=!1,get:ye=!1,count:pe}={}){var ae;let ce;const ke=new URL(`${this.url}/rpc/${ee}`);let Ce;ue||ye?(ce=ue?"HEAD":"GET",Object.entries(Z).filter(([et,Ye])=>void 0!==Ye).map(([et,Ye])=>[et,Array.isArray(Ye)?`{${Ye.join(",")}}`:`${Ye}`]).forEach(([et,Ye])=>{ke.searchParams.append(et,Ye)})):(ce="POST",Ce=Z);const He=new Headers(this.headers);return pe&&He.set("Prefer",`count=${pe}`),new z.default({method:ce,url:ke,headers:He,schema:this.schemaName,body:Ce,fetch:null!==(ae=this.fetch)&&void 0!==ae?ae:fetch})}}Ee.default=T},3342:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(5958));Ee.default=class z extends i.default{select(X){let ee=!1;const Z=(X??"*").split("").map(ue=>/\s/.test(ue)&&!ee?"":('"'===ue&&(ee=!ee),ue)).join("");return this.url.searchParams.set("select",Z),this.headers.append("Prefer","return=representation"),this}order(X,{ascending:ee=!0,nullsFirst:Z,foreignTable:ue,referencedTable:ye=ue}={}){const pe=ye?`${ye}.order`:"order",ae=this.url.searchParams.get(pe);return this.url.searchParams.set(pe,`${ae?`${ae},`:""}${X}.${ee?"asc":"desc"}${void 0===Z?"":Z?".nullsfirst":".nullslast"}`),this}limit(X,{foreignTable:ee,referencedTable:Z=ee}={}){return this.url.searchParams.set(typeof Z>"u"?"limit":`${Z}.limit`,`${X}`),this}range(X,ee,{foreignTable:Z,referencedTable:ue=Z}={}){const pe=typeof ue>"u"?"limit":`${ue}.limit`;return this.url.searchParams.set(typeof ue>"u"?"offset":`${ue}.offset`,`${X}`),this.url.searchParams.set(pe,""+(ee-X+1)),this}abortSignal(X){return this.signal=X,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:X=!1,verbose:ee=!1,settings:Z=!1,buffers:ue=!1,wal:ye=!1,format:pe="text"}={}){var ae;const ce=[X?"analyze":null,ee?"verbose":null,Z?"settings":null,ue?"buffers":null,ye?"wal":null].filter(Boolean).join("|"),ke=null!==(ae=this.headers.get("Accept"))&&void 0!==ae?ae:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${pe}; for="${ke}"; options=${ce};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(X){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${X}`),this}}},3494:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3597:(it,Ee,V)=>{"use strict";V.d(Ee,{EW:()=>ce,O8:()=>ae}),V(467);var i=V(2615),z=V(8440);function ae(Te){return function ue(Te){const Ve=(0,z.Ht)(null);try{return Te()}finally{(0,z.Ht)(Ve)}}(Te)}function ce(Te,Ve){return(0,z.KZ)(Te,Ve?.equal)}Error,Error},3608:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3342));Ee.default=class z extends i.default{eq(X,ee){return this.url.searchParams.append(X,`eq.${ee}`),this}neq(X,ee){return this.url.searchParams.append(X,`neq.${ee}`),this}gt(X,ee){return this.url.searchParams.append(X,`gt.${ee}`),this}gte(X,ee){return this.url.searchParams.append(X,`gte.${ee}`),this}lt(X,ee){return this.url.searchParams.append(X,`lt.${ee}`),this}lte(X,ee){return this.url.searchParams.append(X,`lte.${ee}`),this}like(X,ee){return this.url.searchParams.append(X,`like.${ee}`),this}likeAllOf(X,ee){return this.url.searchParams.append(X,`like(all).{${ee.join(",")}}`),this}likeAnyOf(X,ee){return this.url.searchParams.append(X,`like(any).{${ee.join(",")}}`),this}ilike(X,ee){return this.url.searchParams.append(X,`ilike.${ee}`),this}ilikeAllOf(X,ee){return this.url.searchParams.append(X,`ilike(all).{${ee.join(",")}}`),this}ilikeAnyOf(X,ee){return this.url.searchParams.append(X,`ilike(any).{${ee.join(",")}}`),this}is(X,ee){return this.url.searchParams.append(X,`is.${ee}`),this}in(X,ee){const Z=Array.from(new Set(ee)).map(ue=>"string"==typeof ue&&new RegExp("[,()]").test(ue)?`"${ue}"`:`${ue}`).join(",");return this.url.searchParams.append(X,`in.(${Z})`),this}contains(X,ee){return"string"==typeof ee?this.url.searchParams.append(X,`cs.${ee}`):Array.isArray(ee)?this.url.searchParams.append(X,`cs.{${ee.join(",")}}`):this.url.searchParams.append(X,`cs.${JSON.stringify(ee)}`),this}containedBy(X,ee){return"string"==typeof ee?this.url.searchParams.append(X,`cd.${ee}`):Array.isArray(ee)?this.url.searchParams.append(X,`cd.{${ee.join(",")}}`):this.url.searchParams.append(X,`cd.${JSON.stringify(ee)}`),this}rangeGt(X,ee){return this.url.searchParams.append(X,`sr.${ee}`),this}rangeGte(X,ee){return this.url.searchParams.append(X,`nxl.${ee}`),this}rangeLt(X,ee){return this.url.searchParams.append(X,`sl.${ee}`),this}rangeLte(X,ee){return this.url.searchParams.append(X,`nxr.${ee}`),this}rangeAdjacent(X,ee){return this.url.searchParams.append(X,`adj.${ee}`),this}overlaps(X,ee){return this.url.searchParams.append(X,"string"==typeof ee?`ov.${ee}`:`ov.{${ee.join(",")}}`),this}textSearch(X,ee,{config:Z,type:ue}={}){let ye="";return"plain"===ue?ye="pl":"phrase"===ue?ye="ph":"websearch"===ue&&(ye="w"),this.url.searchParams.append(X,`${ye}fts${void 0===Z?"":`(${Z})`}.${ee}`),this}match(X){return Object.entries(X).forEach(([ee,Z])=>{this.url.searchParams.append(ee,`eq.${Z}`)}),this}not(X,ee,Z){return this.url.searchParams.append(X,`not.${ee}.${Z}`),this}or(X,{foreignTable:ee,referencedTable:Z=ee}={}){return this.url.searchParams.append(Z?`${Z}.or`:"or",`(${X})`),this}filter(X,ee,Z){return this.url.searchParams.append(X,`${ee}.${Z}`),this}}},3664:(it,Ee,V)=>{"use strict";V.d(Ee,{$C:()=>fd,$Ln:()=>Qv,AVh:()=>Ky,Ab1:()=>Bi,Agw:()=>ht,B4B:()=>Tn,BIS:()=>lt,BMQ:()=>ky,C4Q:()=>sl,C5r:()=>Hb,C7A:()=>Ov,Co$:()=>Ph,DH7:()=>Ab,DNE:()=>b,DkB:()=>Ly,EFF:()=>ub,EJ8:()=>ty,Ef8:()=>rt,FsC:()=>ey,G5x:()=>S0,GBs:()=>H_,H1s:()=>e_,HbH:()=>eb,Hgh:()=>Iy,JRh:()=>qy,Jt5:()=>b_,Jv_:()=>Ib,KED:()=>$k,Lme:()=>Qy,NCX:()=>uu,NSC:()=>qu,NYb:()=>Rw,OA$:()=>ar,OR8:()=>Ii,Ocv:()=>hD,Ol2:()=>Pa,PLl:()=>Qe,PYt:()=>pd,Ql9:()=>lD,R50:()=>Xy,R7$:()=>cm,RV6:()=>g_,SKi:()=>Ut,SdI:()=>u0,SpI:()=>ip,TFI:()=>qh,Ts$:()=>m0,UQu:()=>iD,V5L:()=>l0,VBU:()=>Nh,VeQ:()=>En,Vt3:()=>gd,VwU:()=>Uy,VzW:()=>Yf,XpG:()=>V_,Xx1:()=>et,Y8G:()=>My,YEm:()=>he,Zhj:()=>zf,_9s:()=>ku,_9u:()=>q,_jY:()=>fo,_qm:()=>bo,_ys:()=>Ev,a8H:()=>kt,aKT:()=>Or,bH1:()=>Jf,bIt:()=>By,bMT:()=>Vb,bVm:()=>Sd,bc$:()=>Lt,bkB:()=>In,c1b:()=>Pi,cDI:()=>K0,cZr:()=>ig,cdK:()=>Jv,czy:()=>nu,d80:()=>uD,dOL:()=>qv,dfE:()=>us,e6s:()=>V1,eux:()=>Zh,gXe:()=>fa,giA:()=>Xv,i5U:()=>$b,iLQ:()=>t_,j41:()=>Xh,k0s:()=>Yh,kBR:()=>Ny,kS0:()=>Oo,kdw:()=>Je,lJT:()=>n_,l_i:()=>Ob,lsd:()=>z_,mGM:()=>W_,mal:()=>kv,mxI:()=>Yy,n$t:()=>Hd,nI1:()=>Ub,nrm:()=>xy,o8S:()=>Gh,ozJ:()=>nd,phd:()=>Pw,pl0:()=>Nw,qex:()=>ep,rXU:()=>Ss,rj2:()=>Jh,sFG:()=>Jg,sMw:()=>Pb,sZ2:()=>De,sdS:()=>K_,sgu:()=>lv,uiO:()=>Tt,utN:()=>Tf,vDg:()=>rd,w6W:()=>Qf,wni:()=>$_,xGo:()=>uo,xc7:()=>zy,xe9:()=>h0,yLl:()=>Yv,ypd:()=>Lw,zoo:()=>wv});var E=V(467),i=V(2615),z=V(8440),T=V(1413),X=V(8359),ee=V(6354);function Z(e){return{toString:e}.toString()}const ue="__annotations__",ye="__parameters__",pe="__prop__metadata__";function ae(e,t,n,r,l){return Z(()=>{const c=ce(t);function m(...y){if(this instanceof m)return c.call(this,...y),this;const v=new m(...y);return function(L){return l&&l(L,...y),(L.hasOwnProperty(ue)?L[ue]:Object.defineProperty(L,ue,{value:[]})[ue]).push(v),L}}return n&&(m.prototype=Object.create(n.prototype)),m.prototype.ngMetadataName=e,m.annotationCls=m,m})}function ce(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}function ke(e,t,n){return Z(()=>{const r=ce(t);function l(...c){if(this instanceof l)return r.apply(this,c),this;const m=new l(...c);return y.annotation=m,y;function y(v,x,L){const W=v.hasOwnProperty(ye)?v[ye]:Object.defineProperty(v,ye,{value:[]})[ye];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(m),v}}return l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const He=(0,i.z6V)(ke("Inject",e=>({token:e})),-1),et=(0,i.z6V)(ke("Optional"),8),Ye=(0,i.z6V)(ke("Self"),2),Je=(0,i.z6V)(ke("SkipSelf"),4),ze=(0,i.z6V)(ke("Host"),1);function Tt(e){const t=i.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ve={\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275inject:i.KVO,\u0275\u0275invalidFactoryDep:i.dmw,resolveForwardRef:i.nl4},xe=Function;function Se(e){return"function"==typeof e}const Ue=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ne=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ke=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Nt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ln{_reflect;constructor(t){this._reflect=t||i.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=(0,i.WfI)(typeof t>"u"?n.length:t.length);for(let l=0;l<r.length;l++)r[l]=typeof t>"u"?[]:t[l]&&t[l]!=Object?[t[l]]:[],n&&null!=n[l]&&(r[l]=r[l].concat(n[l]));return r}_ownParameters(t,n){if(function _t(e){return Ue.test(e)||Nt.test(e)||Ne.test(e)&&!Ke.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const l=t.ctorParameters;if(l&&l!==n.ctorParameters){const y="function"==typeof l?l():l,v=y.map(L=>L&&L.type),x=y.map(L=>L&&Vn(L.decorators));return this._zipTypesAndAnnotations(v,x)}const c=t.hasOwnProperty(ye)&&t[ye],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return m||c?this._zipTypesAndAnnotations(m,c):(0,i.WfI)(t.length)}parameters(t){if(!Se(t))return[];const n=Cn(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?Vn(t.decorators):t.hasOwnProperty(ue)?t[ue]:null}annotations(t){if(!Se(t))return[];const n=Cn(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,l={};return Object.keys(r).forEach(c=>{l[c]=Vn(r[c])}),l}return t.hasOwnProperty(pe)?t[pe]:null}propMetadata(t){if(!Se(t))return{};const n=Cn(t),r={};if(n!==Object){const c=this.propMetadata(n);Object.keys(c).forEach(m=>{r[m]=c[m]})}const l=this._ownPropMetadata(t,n);return l&&Object.keys(l).forEach(c=>{const m=[];r.hasOwnProperty(c)&&m.push(...r[c]),m.push(...l[c]),r[c]=m}),r}ownPropMetadata(t){return Se(t)&&this._ownPropMetadata(t,Cn(t))||{}}hasLifecycleHook(t,n){return t instanceof xe&&n in t.prototype}}function Vn(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Cn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}class yn{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wr(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const ar=(()=>{const e=()=>Xt;return e.ngInherit=!0,e})();function Xt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ve),Te}function Te(){const e=le(this),t=e?.current;if(t){const n=e.previous;if(n===i.MZA)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ve(e,t,n,r,l){const c=this.declaredInputs[r],m=le(e)||function ge(e,t){return e[ie]=t}(e,{previous:i.MZA,current:null}),y=m.current||(m.current={}),v=m.previous,x=v[c];y[c]=new yn(x&&x.currentValue,n,v===i.MZA),wr(e,t,l,n)}const ie="__ngSimpleChanges__";function le(e){return e[ie]||null}const de=[],rt=function(e,t=null,n){for(let r=0;r<de.length;r++)(0,de[r])(e,t,n)};function me(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:v,ngAfterViewChecked:x,ngOnDestroy:L}=c;m&&(e.contentHooks??=[]).push(-n,m),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),v&&(e.viewHooks??=[]).push(-n,v),x&&((e.viewHooks??=[]).push(n,x),(e.viewCheckHooks??=[]).push(n,x)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function je(e,t,n){Fe(e,t,3,n)}function Ge(e,t,n,r){(3&e[i.Wg1])===n&&Fe(e,t,n,r)}function wt(e,t){let n=e[i.Wg1];(3&n)===t&&(n&=16383,n+=1,e[i.Wg1]=n)}function Fe(e,t,n,r){const c=r??-1,m=t.length-1;let y=0;for(let v=void 0!==r?65535&e[i.wVl]:0;v<m;v++)if("number"==typeof t[v+1]){if(y=t[v],null!=r&&y>=r)break}else t[v]<0&&(e[i.wVl]+=65536),(y<c||-1==c)&&(Et(e,n,t,v),e[i.wVl]=(4294901760&e[i.wVl])+v+2),v++}function Ht(e,t){rt(4,e,t);const n=(0,z.Ht)(null);try{t.call(e)}finally{(0,z.Ht)(n),rt(5,e,t)}}function Et(e,t,n,r){const l=n[r]<0,c=n[r+1],y=e[l?-n[r]:n[r]];l?e[i.Wg1]>>14<e[i.wVl]>>16&&(3&e[i.Wg1])===t&&(e[i.Wg1]+=16384,Ht(y,c)):Ht(y,c)}const an=-1;class Wt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,l){this.factory=t,this.name=l,this.canSeeViewProviders=n,this.injectImpl=r}}function jn(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function To(e){return 3===e||4===e||6===e}function xo(e){return 64===e.charCodeAt(0)}function Rn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||qt(e,n,l,0,-1===n||2===n?t[++r]:null)}}return e}function qt(e,t,n,r,l){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){m=-1;break}if(y>t){m=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n)return void(null!==l&&(e[c+1]=l));c++,null!==l&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,n),null!==l&&e.splice(c++,0,l)}function Go(e){return e!==an}function Er(e){return 32767&e}function Hr(e,t){let n=function sa(e){return e>>16}(e),r=t;for(;n>0;)r=r[i.X5O],n--;return r}let Jr=!0;function Yn(e){const t=Jr;return Jr=e,t}const kr=255,ao=5;let la=0;const $n={};function Dr(e,t){const n=io(e,t);if(-1!==n)return n;const r=t[i.eDl];r.firstCreatePass&&(e.injectorIndex=t.length,Zn(r.data,e),Zn(t,null),Zn(r.blueprint,null));const l=so(e,t),c=e.injectorIndex;if(Go(l)){const m=Er(l),y=Hr(l,t),v=y[i.eDl].data;for(let x=0;x<8;x++)t[c+x]=y[m+x]|v[m+x]}return t[c+8]=l,c}function Zn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function io(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function so(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=Tr(l),null===r)return an;if(n++,l=l[i.X5O],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return an}function Cr(e,t,n){!function Jn(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(i.p9y)&&(r=n[i.p9y]),null==r&&(r=n[i.p9y]=la++);const l=r&kr;t.data[e+(l>>ao)]|=1<<l}(e,t,n)}function Wr(e,t,n){if(8&n||void 0!==e)return e;(0,i.$Hz)(t,"NodeInjector")}function Hn(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const l=e[i.YEL],c=(0,i.a2B)(void 0);try{return l?l.get(t,r,8&n):(0,i.MzJ)(t,r,8&n)}finally{(0,i.a2B)(c)}}return Wr(r,t,n)}function Gn(e,t,n,r=0,l){if(null!==e){if(2048&t[i.Wg1]&&!(2&r)){const m=function vo(e,t,n,r,l){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[i.Wg1]&&!(0,i.EFk)(m);){const y=lo(c,m,n,2|r,$n);if(y!==$n)return y;let v=c.parent;if(!v){const x=m[i.oMQ];if(x){const L=x.get(n,$n,r);if(L!==$n)return L}v=Tr(m),m=m[i.X5O]}c=v}return l}(e,t,n,r,$n);if(m!==$n)return m}const c=lo(e,t,n,r,$n);if(c!==$n)return c}return Hn(t,n,r,l)}function lo(e,t,n,r,l){const c=function Ro(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(i.p9y)?e[i.p9y]:void 0;return"number"==typeof t?t>=0?t&kr:Wn:t}(n);if("function"==typeof c){if(!(0,i.ihb)(t,e,r))return 1&r?Wr(l,n,r):Hn(t,n,r,l);try{let m;if(m=c(r),null!=m||8&r)return m;(0,i.$Hz)(n)}finally{(0,i.niQ)()}}else if("number"==typeof c){let m=null,y=io(e,t),v=an,x=1&r?t[i.b5C][i.qlT]:null;for((-1===y||4&r)&&(v=-1===y?so(e,t):t[y+8],v!==an&&Na(r,!1)?(m=t[i.eDl],y=Er(v),t=Hr(v,t)):y=-1);-1!==y;){const L=t[i.eDl];if(Sr(c,y,L.data)){const W=Ea(y,t,n,m,r,x);if(W!==$n)return W}v=t[y+8],v!==an&&Na(r,t[i.eDl].data[y+8]===x)&&Sr(c,y,t)?(m=L,y=Er(v),t=Hr(v,t)):y=-1}}return l}function Ea(e,t,n,r,l,c){const m=t[i.eDl],y=m.data[e+8],L=Un(y,m,n,null==r?(0,i.Qs1)(y)&&Jr:r!=m&&!!(3&y.type),1&l&&c===y);return null!==L?zr(t,m,L,y,l):$n}function Un(e,t,n,r,l){const c=e.providerIndexes,m=t.data,y=1048575&c,v=e.directiveStart,L=c>>20,te=l?y+L:e.directiveEnd;for(let re=r?y:y+L;re<te;re++){const Ae=m[re];if(re<v&&n===Ae||re>=v&&Ae.type===n)return re}if(l){const re=m[v];if(re&&(0,i.JlV)(re)&&re.type===n)return v}return null}function zr(e,t,n,r,l){let c=e[n];const m=t.data;if(c instanceof Wt){const y=c;if(y.resolving){const re=(0,i.PP7)(m[n]);throw(0,i.PQT)(re)}const v=Yn(y.canSeeViewProviders);y.resolving=!0;const W=y.injectImpl?(0,i.a2B)(y.injectImpl):null;(0,i.ihb)(e,r,0);try{c=e[n]=y.factory(void 0,l,m,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Gt(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=t.type.prototype;if(r){const m=Xt(t);(n.preOrderHooks??=[]).push(e,m),(n.preOrderCheckHooks??=[]).push(e,m)}l&&(n.preOrderHooks??=[]).push(0-e,l),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}(n,m[n],t)}finally{null!==W&&(0,i.a2B)(W),Yn(v),y.resolving=!1,(0,i.niQ)()}}return c}function Sr(e,t,n){return!!(n[t+(e>>ao)]&1<<e)}function Na(e,t){return!(2&e||1&e&&t)}class Yt{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Gn(this._tNode,this._lView,t,(0,i.hjC)(r),n)}}function Wn(){return new Yt((0,i.Mx4)(),(0,i.OAn)())}function uo(e){return Z(()=>{const t=e.prototype.constructor,n=t[i.zSs]||Mr(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const c=l[i.zSs]||Mr(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Mr(e){return(0,i.Jzi)(e)?()=>{const t=Mr((0,i.nl4)(e));return t&&t()}:(0,i.wGu)(e)}function Tr(e){const t=e[i.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[i.qlT]:null}function Oo(e){return function hn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const c=n[l];if(To(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(c===t)return n[l+1];l+=2}}}return null}((0,i.Mx4)(),e)}const La=ke("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Oo(e)}));let qo=null;function Ir(e){return Sn(function xr(){return qo=qo||new ln}().parameters(e))}function Sn(e){return e.map(t=>function Kr(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const l=Object.getPrototypeOf(r);if(r instanceof et||"Optional"===l.ngMetadataName)t.optional=!0;else if(r instanceof Je||"SkipSelf"===l.ngMetadataName)t.skipSelf=!0;else if(r instanceof Ye||"Self"===l.ngMetadataName)t.self=!0;else if(r instanceof ze||"Host"===l.ngMetadataName)t.host=!0;else if(r instanceof He)t.token=r.token;else if(r instanceof La){if(void 0===r.attributeName)throw new i.buA(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const fe=(0,i.kLh)({provide:String,useValue:i.kLh});function pr(e){return void 0!==e.useClass}function sr(e){return void 0!==e.useFactory}const bo=ae("Injectable",void 0,void 0,0,(e,t)=>function hr(e,t){let n=null,r=null;e.hasOwnProperty(i.yAH)||Object.defineProperty(e,i.yAH,{get:()=>(null===n&&(n=Tt().compileInjectable(ve,`ng:///${e.name}/\u0275prov.js`,function No(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(pr(n)||sr(n))&&void 0!==n.deps&&(r.deps=Sn(n.deps)),pr(n)?r.useClass=n.useClass:function Po(e){return fe in e}(n)?r.useValue=n.useValue:sr(n)?r.useFactory=n.useFactory:function _o(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(i.zSs)||Object.defineProperty(e,i.zSs,{get:()=>{if(null===r){const l=Tt();r=l.compileFactory(ve,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Ir(e),target:l.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Rr(){return er((0,i.Mx4)(),(0,i.OAn)())}function er(e,t){return new Or((0,i.d31)(e,t))}let Or=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Rr})();function wo(e){return e instanceof Or?e.nativeElement:e}function co(){return this._results[Symbol.iterator]()}class Dt{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new T.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=(0,i.Bqz)(t);(this._changesDetected=!(0,i.ng7)(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=co}function wn(e){return!(128&~e.flags)}var yr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(yr||{});const gr=new Map;let Qo=0;function ho(e){gr.delete(e[i.ID])}const $="__ngContext__";function se(e,t){(0,i.q$2)(t)?(e[$]=t[i.ID],function qn(e){gr.set(e[i.ID],e)}(t)):e[$]=t}function vr(e){return qr(e[i.EJG])}function to(e){return qr(e[i.K29])}function qr(e){for(;null!==e&&!(0,i.A0l)(e);)e=e[i.K29];return e}let N;function q(e){N=e}function he(){if(void 0!==N)return N;if(typeof document<"u")return document;throw new i.buA(210,!1)}const De=new i.nKC("",{providedIn:"root",factory:()=>Le}),Le="ng",Qe=new i.nKC(""),ht=new i.nKC("",{providedIn:"platform",factory:()=>"unknown"}),Lt=new i.nKC(""),lt=new i.nKC("",{providedIn:"root",factory:()=>he().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),cn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},En=new i.nKC("",{providedIn:"root",factory:()=>cn});function dn(){const e=new pn;return e.store=function lr(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(he(),(0,i.WQX)(De)),e}let pn=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:dn});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const di=new i.nKC("",{providedIn:"root",factory:()=>!1}),M=new i.nKC(""),U={passive:!0,capture:!0},oe=new WeakMap,yt=new WeakMap,At=new WeakMap,or=["click","keydown"],po=["mouseenter","mouseover","focusin"];let no=null,ma=0;class Ca{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function mi(e,t){let n=yt.get(e);if(!n){n=new Ca,yt.set(e,n);for(const r of or)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){yt.delete(e);for(const c of or)e.removeEventListener(c,l,U)}}}function Ps(e,t){let n=oe.get(e);if(!n){n=new Ca,oe.set(e,n);for(const r of po)e.addEventListener(r,n.listener,U)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){for(const c of po)e.removeEventListener(c,l,U);oe.delete(e)}}}let G=(e,t,n,r)=>{};const _e=new i.nKC("");function nt(e){return!(32&~e.flags)}function Nn(e){let t=e._lView;return 2===t[i.eDl].type?null:((0,i.EFk)(t)&&(t=t[i.Yw1]),t)}function Ya(e,t){const n=e.contentQueries;if(null!==n){const r=(0,z.Ht)(null);try{for(let l=0;l<n.length;l+=2){const m=n[l+1];if(-1!==m){const y=e.data[m];(0,i.GA0)(n[l]),y.contentQueries(2,t[m],m)}}}finally{(0,z.Ht)(r)}}}function Ja(e,t,n){(0,i.GA0)(0);const r=(0,z.Ht)(null);try{t(e,n)}finally{(0,z.Ht)(r)}}function es(e,t,n){if((0,i.srX)(t)){const r=(0,z.Ht)(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const y=e.data[m];y.contentQueries&&y.contentQueries(1,n[m],m)}}finally{(0,z.Ht)(r)}}}var fa=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(fa||{});let ts,vi;function gi(){if(void 0===ts&&(ts=null,i.laP.trustedTypes))try{ts=i.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ts}function Za(e){return gi()?.createHTML(e)||e}function _i(){if(void 0===vi&&(vi=null,i.laP.trustedTypes))try{vi=i.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vi}function Va(e){return _i()?.createHTML(e)||e}function Ll(e){return _i()?.createScript(e)||e}function ns(e){return _i()?.createScriptURL(e)||e}class Fl{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i.ok8})`}}function ta(e){return e instanceof Fl?e.changingThisBreaksApplicationSecurity:e}function Uo(e,t){const n=function ro(e){return e instanceof Fl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${i.ok8})`)}return n===t}function as(e){const t=new Hs(e);return function $l(){try{return!!(new window.DOMParser).parseFromString(Za(""),"text/html")}catch{return!1}}()?new Vl(t):t}class Vl{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Za(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class Hs{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Za(t),n}}const ic=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bi(e){return(e=String(e)).match(ic)?e:"unsafe:"+e}function Vo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function wi(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Hl=Vo("area,br,col,hr,img,wbr"),sc=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wl=Vo("rp,rt"),zl=wi(Hl,wi(sc,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wi(Wl,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wi(Wl,sc)),is=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kl=wi(is,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cc=Vo("script,style,template");class $o{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)l.push(n),n=ql(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=ti(n);if(c){n=c;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=ni(t).toLowerCase();if(!zl.hasOwnProperty(n))return this.sanitizedSomething=!0,!cc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const c=r.item(l),m=c.name,y=m.toLowerCase();if(!Kl.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let v=c.value;is[y]&&(v=bi(v)),this.buf.push(" ",m,'="',_(v),'"')}return this.buf.push(">"),!0}endElement(t){const n=ni(t).toLowerCase();zl.hasOwnProperty(n)&&!Hl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_(t))}}function ti(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw zs(t);return t}function ql(e){const t=e.firstChild;if(t&&function Gl(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw zs(t);return t}function ni(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function zs(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Ks=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gs=/([^\#-~ |!])/g;function _(e){return e.replace(/&/g,"&amp;").replace(Ks,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Gs,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let O;function be(e){return"content"in e&&function Re(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var tt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(tt||{});function Tn(e){const t=Ei();return t?t.sanitize(tt.URL,e)||"":Uo(e,"URL")?ta(e):bi((0,i.eFE)(e))}function Dn(e){const t=Ei();if(t)return ns(t.sanitize(tt.RESOURCE_URL,e)||"");if(Uo(e,"ResourceURL"))return ns(ta(e));throw new i.buA(904,!1)}function Hd(e,t,n){return function $d(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Dn:Tn}(t,n)(e)}function Ei(){const e=(0,i.OAn)();return e&&e[i.M0L].sanitizer}const hg=/^>|^->|<!--|-->|--!>|<!-$/g,zd=/(<|>)/g;function ya(e){return e instanceof Function?e():e}function us(e){if(function gp(e){if(!(0,i.xUg)(e))throw new i.buA(906,`The ${(0,i.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(e),!(0,i.xUg)(e).standalone)throw new i.buA(907,`The ${(0,i.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,i.PP7)(e)} component has the \`standalone: true\` flag in the decorator.`)}function vp(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const c=t.length;if(l+c===r||e.charCodeAt(l+c)<=32)return l}n=l+1}}const nm="ng-template";function _p(e,t,n,r){let l=0;if(r){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==vp(t[l+1].toLowerCase(),n,0))return!0}else if(yc(e))return!1;if(l=t.indexOf(1,l),l>-1){let c;for(;++l<t.length&&"string"==typeof(c=t[l]);)if(c.toLowerCase()===n)return!0}return!1}function yc(e){return 4===e.type&&e.value!==nm}function rm(e,t,n){return t===(4!==e.type||n?e.value:nm)}function bp(e,t,n){let r=4;const l=e.attrs,c=null!==l?function Ep(e){for(let t=0;t<e.length;t++)if(To(e[t]))return t;return e.length}(l):0;let m=!1;for(let y=0;y<t.length;y++){const v=t[y];if("number"!=typeof v){if(!m)if(4&r){if(r=2|1&r,""!==v&&!rm(e,v,n)||""===v&&1===t.length){if(Ho(r))return!1;m=!0}}else if(8&r){if(null===l||!_p(e,l,v,n)){if(Ho(r))return!1;m=!0}}else{const x=t[++y],L=gc(v,l,yc(e),n);if(-1===L){if(Ho(r))return!1;m=!0;continue}if(""!==x){let W;if(W=L>c?"":l[L+1].toLowerCase(),2&r&&x!==W){if(Ho(r))return!1;m=!0}}}}else{if(!m&&!Ho(r)&&!Ho(v))return!1;if(m&&Ho(v))continue;m=!1,r=v|1&r}}return Ho(r)||m}function Ho(e){return!(1&e)}function gc(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let c=!1;for(;l<t.length;){const m=t[l];if(m===e)return l;if(3===m||6===m)c=!0;else{if(1===m||2===m){let y=t[++l];for(;"string"==typeof y;)y=t[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=c?1:2}return-1}return function kp(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ki(e,t,n=!1){for(let r=0;r<t.length;r++)if(bp(e,t[r],n))return!0;return!1}function Dp(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function Zl(e,t){return e?":not("+t.trim()+")":t}function Cp(e){let t=e[0],n=1,r=2,l="",c=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&r){const y=e[++n];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?l+="."+m:4&r&&(l+=" "+m);else""!==l&&!Ho(m)&&(t+=Zl(c,l),l=""),r=m,c=c||!Ho(r);n++}return""!==l&&(t+=Zl(c,l)),t}const fn={};function vc(e,t){return e.createText(t)}function am(e,t,n){e.setValue(t,n)}function _c(e,t){return e.createComment(function Kd(e){return e.replace(hg,t=>t.replace(zd,"\u200b$1\u200b"))}(t))}function eu(e,t,n){return e.createElement(t,n)}function Ta(e,t,n,r,l){e.insertBefore(t,n,r,l)}function im(e,t,n){e.appendChild(t,n)}function sm(e,t,n,r,l){null!==r?Ta(e,t,n,r,l):im(e,t,n)}function Ys(e,t,n){e.removeChild(null,t,n)}function um(e,t,n){const{mergedAttrs:r,classes:l,styles:c}=n;null!==r&&function ia(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const c=n[r++],m=n[r++],y=n[r++];e.setAttribute(t,m,y,c)}else{const c=l,m=n[++r];xo(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),r++}}}(e,t,r),null!==l&&function Mp(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,l),null!==c&&function Ap(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function tu(e,t,n,r,l,c,m,y,v,x,L){const W=i.Yw1+r,te=W+l,re=function kg(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fn);return n}(W,te),Ae="function"==typeof x?x():x;return re[i.eDl]={type:e,blueprint:re,template:n,queries:null,viewQuery:y,declTNode:t,data:re.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:v,consts:Ae,incompleteFirstPass:!1,ssrId:L}}function bc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=tu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Js(e,t,n,r,l,c,m,y,v,x,L){const W=t.blueprint.slice();return W[i.jgP]=l,W[i.Wg1]=1228|r,(null!==x||e&&2048&e[i.Wg1])&&(W[i.Wg1]|=2048),(0,i.HUe)(W),W[i.f7T]=W[i.X5O]=e,W[i.SKP]=n,W[i.M0L]=m||e&&e[i.M0L],W[i.GpT]=y||e&&e[i.GpT],W[i.YEL]=v||e&&e[i.YEL]||null,W[i.qlT]=c,W[i.ID]=function Nr(){return Qo++}(),W[i.tcA]=L,W[i.oMQ]=x,W[i.b5C]=2==t.type?e[i.b5C]:W,W}function wc(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function cs(e,t,n,r){if(0===n)return-1;const l=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function Ec(e,t){return e[i.EJG]?e[i.Yrj][i.K29]=t:e[i.EJG]=t,e[i.Yrj]=t,t}function cm(e=1){dm((0,i.klJ)(),(0,i.OAn)(),(0,i._px)()+e,!1)}function dm(e,t,n,r){if(!r)if(3&~t[i.Wg1]){const c=e.preOrderHooks;null!==c&&Ge(t,c,0,n)}else{const c=e.preOrderCheckHooks;null!==c&&je(t,c,n)}(0,i.ypq)(n)}var ds=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ds||{});function ms(e,t,n,r){const l=(0,z.Ht)(null);try{const[c,m,y]=e.inputs[n];let v=null;0!==(m&ds.SignalBased)&&(v=t[c][z.bh]),null!==v&&void 0!==v.transformFn?r=v.transformFn(r):null!==y&&(r=y.call(t,r)),null!==e.setInput?e.setInput(t,v,r,n,c):wr(t,v,c,r)}finally{(0,z.Ht)(l)}}var nu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(nu||{});let hs;function Zs(e,t){return hs(e,t)}function ps(e,t,n,r,l){if(null!=r){let c,m=!1;(0,i.A0l)(r)?c=r:(0,i.q$2)(r)&&(m=!0,r=r[i.jgP]);const y=(0,i.IvY)(r);0===e&&null!==n?null==l?im(t,n,y):Ta(t,n,y,l||null,!0):1===e&&null!==n?Ta(t,n,y,l||null,!0):2===e?Ys(t,y,m):3===e&&t.destroyNode(y),null!=c&&function Op(e,t,n,r,l){const c=n[i.s6P];c!==(0,i.IvY)(n)&&ps(t,e,r,c,l);for(let y=i.Y20;y<n.length;y++){const v=n[y];au(v[i.eDl],v,e,t,r,c)}}(t,e,c,n,l)}}function hm(e,t){ru(e,t),t[i.jgP]=null,t[i.qlT]=null}function ru(e,t){t[i.M0L].changeDetectionScheduler?.notify(9),au(e,t,t[i.GpT],2,null,null)}function kc(e,t){const n=e[i.nfM],r=n.indexOf(t);n.splice(r,1)}function el(e,t){if((0,i.EPY)(t))return;const n=t[i.GpT];n.destroyNode&&au(e,t,n,3,null,null),function xp(e){let t=e[i.EJG];if(!t)return fm(e[i.eDl],e);for(;t;){let n=null;if((0,i.q$2)(t))n=t[i.EJG];else{const r=t[i.Y20];r&&(n=r)}if(!n){for(;t&&!t[i.K29]&&t!==e;)(0,i.q$2)(t)&&fm(t[i.eDl],t),t=t[i.f7T];null===t&&(t=e),(0,i.q$2)(t)&&fm(t[i.eDl],t),n=t&&t[i.K29]}t=n}}(t)}function fm(e,t){if((0,i.EPY)(t))return;const n=(0,z.Ht)(null);try{t[i.Wg1]&=-129,t[i.Wg1]|=256,t[i.Iaj]&&(0,z.XR)(t[i.Iaj]),function Rp(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof Wt)){const c=n[r+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const y=l[c[m]],v=c[m+1];rt(4,y,v);try{v.call(y)}finally{rt(5,y,v)}}else{rt(4,l,c);try{c.call(l)}finally{rt(5,l,c)}}}}}(e,t),function Ip(e,t){const n=e.cleanup,r=t[i.VVG];if(null!==n)for(let m=0;m<n.length-1;m+=2)if("string"==typeof n[m]){const y=n[m+3];y>=0?r[y]():r[-y].unsubscribe(),m+=2}else n[m].call(r[n[m+1]]);null!==r&&(t[i.VVG]=null);const l=t[i.Czx];if(null!==l){t[i.Czx]=null;for(let m=0;m<l.length;m++)(0,l[m])()}const c=t[i.tQN];if(null!==c){t[i.tQN]=null;for(const m of c)m.destroy()}}(e,t),1===t[i.eDl].type&&t[i.GpT].destroy();const r=t[i.rQE];if(null!==r&&(0,i.A0l)(t[i.f7T])){r!==t[i.f7T]&&kc(r,t);const l=t[i.Ds7];null!==l&&l.detachView(e)}ho(t)}finally{(0,z.Ht)(n)}}function Dc(e,t,n){return ym(e,t.parent,n)}function ym(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[i.jgP];if((0,i.Qs1)(r)){const{encapsulation:l}=e.data[r.directiveStart+r.componentOffset];if(l===fa.None||l===fa.Emulated)return null}return(0,i.d31)(r,n)}function gm(e,t,n){return _m(e,t,n)}function vm(e,t,n){return 40&e.type?(0,i.d31)(e,n):null}let ou,_m=vm;function bm(e,t){_m=e,ou=t}function Cc(e,t,n,r){const l=Dc(e,r,t),c=t[i.GpT],y=gm(r.parent||t[i.qlT],r,t);if(null!=l)if(Array.isArray(n))for(let v=0;v<n.length;v++)sm(c,l,n[v],y,!1);else sm(c,l,n,y,!1);void 0!==ou&&ou(c,r,t,n,l)}function Di(e,t){if(null!==t){const n=t.type;if(3&n)return(0,i.d31)(t,e);if(4&n)return oi(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Di(e,r);{const l=e[t.index];return(0,i.A0l)(l)?oi(-1,l):(0,i.IvY)(l)}}if(128&n)return Di(e,t.next);if(32&n)return Zs(t,e)()||(0,i.IvY)(e[t.index]);{const r=wm(e,t);return null!==r?Array.isArray(r)?r[0]:Di((0,i._0$)(e[i.b5C]),r):Di(e,t.next)}}return null}function wm(e,t){return null!==t?e[i.b5C][i.qlT].projection[t.projection]:null}function oi(e,t){const n=i.Y20+e+1;if(n<t.length){const r=t[n],l=r[i.eDl].firstChild;if(null!==l)return Di(r,l)}return t[i.s6P]}function Sc(e,t,n,r,l,c,m){for(;null!=n;){if(128===n.type){n=n.next;continue}const y=r[n.index],v=n.type;if(m&&0===t&&(y&&se((0,i.IvY)(y),r),n.flags|=2),!nt(n))if(8&v)Sc(e,t,n.child,r,l,c,!1),ps(t,e,l,y,c);else if(32&v){const x=Zs(n,r);let L;for(;L=x();)ps(t,e,l,L,c);ps(t,e,l,y,c)}else 16&v?tl(e,t,r,n,l,c):ps(t,e,l,y,c);n=m?n.projectionNext:n.next}}function au(e,t,n,r,l,c){Sc(n,r,e.firstChild,t,l,c,!1)}function tl(e,t,n,r,l,c){const m=n[i.b5C],v=m[i.qlT].projection[r.projection];if(Array.isArray(v))for(let x=0;x<v.length;x++)ps(t,e,l,v[x],c);else{let x=v;const L=m[i.f7T];wn(r)&&(x.flags|=128),Sc(e,t,x,L,l,c,!0)}}function km(e,t,n,r,l){const c=(0,i._px)(),m=2&r;try{(0,i.ypq)(-1),m&&t.length>i.Yw1&&dm(e,t,i.Yw1,!1),rt(m?2:0,l,n),n(r,l)}finally{(0,i.ypq)(c),rt(m?3:1,l,n)}}function Ac(e,t,n){(function Cm(e,t,n){const r=n.directiveStart,l=n.directiveEnd;(0,i.Qs1)(n)&&function Tp(e,t,n){const r=(0,i.d31)(t,e),l=bc(n),c=e[i.M0L].rendererFactory,m=Ec(e,Js(e,l,null,wc(n),r,t,null,c.createRenderer(r,n),null,null,null));e[t.index]=m}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Dr(n,t);const c=n.initialInputs;for(let m=r;m<l;m++){const y=e.data[m],v=zr(t,e,m,n);se(v,t),null!==c&&Sg(0,m-r,v,y,0,c),(0,i.JlV)(y)&&((0,i.KdJ)(n.index,t)[i.SKP]=zr(t,e,m,n))}})(e,t,n),!(64&~n.flags)&&function Ic(e,t,n){const r=n.directiveStart,l=n.directiveEnd,c=n.index,m=(0,i.Z9v)();try{(0,i.ypq)(c);for(let y=r;y<l;y++){const v=e.data[y],x=t[y];(0,i.RZ9)(y),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Up(v,x)}}finally{(0,i.ypq)(-1),(0,i.RZ9)(m)}}(e,t,n)}function nl(e,t,n=i.d31){const r=t.localNames;if(null!==r){let l=t.index+1;for(let c=0;c<r.length;c+=2){const m=r[c+1],y=-1===m?n(t,e):e[m];e[l++]=y}}}let Tc=()=>null;function xc(e,t,n,r,l,c){Am(e,t[i.eDl],t,n,r)?(0,i.Qs1)(e)&&function Dg(e,t){const n=(0,i.KdJ)(t,e);16&n[i.Wg1]||(n[i.Wg1]|=64)}(t,e.index):(3&e.type&&(n=function xa(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),Dm(e,t,n,r,l,c))}function Dm(e,t,n,r,l,c){if(3&e.type){const m=(0,i.d31)(e,t);r=null!=c?c(r,e.value||"",n):r,l.setProperty(m,n,r)}}function Up(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rc(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];ki(t,c.selectors,!1)&&(r??=[],(0,i.JlV)(c)?r.unshift(c):r.push(c))}return r}function iu(e,t,n,r,l,c,m){if(null==c)e.removeAttribute(t,l,n);else{const y=null==m?(0,i.eFE)(c):m(c,r||"",l);e.setAttribute(t,l,y,n)}}function Sg(e,t,n,r,l,c){const m=c[t];if(null!==m)for(let y=0;y<m.length;y+=2)ms(r,n,m[y],m[y+1])}function Oc(e,t,n,r,l){const c=i.Yw1+n,m=t[i.eDl],y=l(m,t,e,r,n);t[c]=y,(0,i.iMd)(e,!0);const v=2===e.type;return v?(um(t[i.GpT],y,e),(0===(0,i.znI)()||(0,i.yoD)(e))&&se(y,t),(0,i.Fje)()):se(y,t),(0,i.SX7)()&&(!v||!nt(e))&&Cc(m,t,y,e),e}function su(e){let t=e;return(0,i.YWB)()?(0,i.Pfq)():(t=t.parent,(0,i.iMd)(t,!1)),t}function Vp(e,t,n){return(null===e||(0,i.JlV)(e))&&(n=(0,i.zAe)(n[t.index])),n[i.GpT]}function Sm(e,t){const n=e[i.YEL];n&&n.get(i.ZTf,null)?.(t)}function Am(e,t,n,r,l){const c=e.inputs?.[r],m=e.hostDirectiveInputs?.[r];let y=!1;if(m)for(let v=0;v<m.length;v+=2){const x=m[v];ms(t.data[x],n[x],m[v+1],l),y=!0}if(c)for(const v of c)ms(t.data[v],n[v],r,l),y=!0;return y}function Mg(e,t){const n=(0,i.KdJ)(t,e),r=n[i.eDl];!function Tg(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[i.jgP];null!==l&&null===n[i.tcA]&&(n[i.tcA]=null),rt(18),Pc(r,n,n[i.SKP]),rt(19,n[i.SKP])}function Pc(e,t,n){(0,i.ID8)(t);try{const r=e.viewQuery;null!==r&&Ja(1,r,n);const l=e.template;null!==l&&km(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[i.Ds7]?.finishViewCreation(e),e.staticContentQueries&&Ya(e,t),e.staticViewQueries&&Ja(2,e.viewQuery,n);const c=e.components;null!==c&&function xg(e,t){for(let n=0;n<t.length;n++)Mg(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[i.Wg1]&=-5,(0,i.bll)()}}function rl(e,t,n,r){const l=(0,z.Ht)(null);try{const c=t.tView,v=Js(e,c,n,4096&e[i.Wg1]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);v[i.rQE]=e[t.index];const L=e[i.Ds7];return null!==L&&(v[i.Ds7]=L.createEmbeddedView(c)),Pc(c,v,n),v}finally{(0,z.Ht)(l)}}function fs(e,t){return!t||null===t.firstChild||wn(e)}function lu(e,t,n,r,l=!1){for(;null!==n;){if(128===n.type){n=l?n.projectionNext:n.next;continue}const c=t[n.index];null!==c&&r.push((0,i.IvY)(c)),(0,i.A0l)(c)&&Hp(c,r);const m=n.type;if(8&m)lu(e,t,n.child,r);else if(32&m){const y=Zs(n,t);let v;for(;v=y();)r.push(v)}else if(16&m){const y=wm(t,n);if(Array.isArray(y))r.push(...y);else{const v=(0,i._0$)(t[i.b5C]);lu(v[i.eDl],v,y,r,!0)}}n=l?n.projectionNext:n.next}return r}function Hp(e,t){for(let n=i.Y20;n<e.length;n++){const r=e[n],l=r[i.eDl].firstChild;null!==l&&lu(r[i.eDl],r,l,t)}e[i.s6P]!==e[i.jgP]&&t.push(e[i.s6P])}function Nc(e){if(null!==e[i.JEi]){for(const t of e[i.JEi])t.impl.addSequence(t);e[i.JEi].length=0}}let Tm=[];const Ig={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,i.blu)(e.lView)},consumerOnSignalRead(){this.lView[i.Iaj]=this}},Og={...z.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,i._0$)(e.lView);for(;t&&!xm(t[i.eDl]);)t=(0,i._0$)(t);t&&(0,i.HAh)(t)},consumerOnSignalRead(){this.lView[i.Iaj]=this}};function xm(e){return 2!==e.type}function Kp(e){if(null===e[i.tQN])return;let t=!0;for(;t;){let n=!1;for(const r of e[i.tQN])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[i.Wg1])}}function Lc(e,t=0){const r=e[i.M0L].rendererFactory;r.begin?.();try{!function Ng(e,t){const n=(0,i.yP_)();try{(0,i.cBl)(!0),al(e,t);let r=0;for(;(0,i.dMS)(e);){if(100===r)throw new i.buA(103,!1);r++,al(e,1)}}finally{(0,i.cBl)(n)}}(e,t)}finally{r.end?.()}}function Gp(e,t,n,r){if((0,i.EPY)(t))return;const l=t[i.Wg1];(0,i.ID8)(t);let y=!0,v=null,x=null;xm(e)?(x=function Wp(e){return e[i.Iaj]??function Pt(e){const t=Tm.pop()??Object.create(Ig);return t.lView=e,t}(e)}(t),v=(0,z.Bg)(x)):null===(0,z.nR)()?(y=!1,x=function Rg(e){const t=e[i.Iaj]??Object.create(Og);return t.lView=e,t}(t),v=(0,z.Bg)(x)):t[i.Iaj]&&((0,z.XR)(t[i.Iaj]),t[i.Iaj]=null);try{(0,i.HUe)(t),(0,i.Kw3)(e.bindingStartIndex),null!==n&&km(e,t,n,2,r);const L=!(3&~l);if(L){const re=e.preOrderCheckHooks;null!==re&&je(t,re,null)}else{const re=e.preOrderHooks;null!==re&&Ge(t,re,0,null),wt(t,0)}if(function Fg(e){for(let t=vr(e);null!==t;t=to(t)){if(!(2&t[i.Wg1]))continue;const n=t[i.nfM];for(let r=0;r<n.length;r++)(0,i.HAh)(n[r])}}(t),Kp(t),qp(t,0),null!==e.contentQueries&&Ya(e,t),L){const re=e.contentCheckHooks;null!==re&&je(t,re)}else{const re=e.contentHooks;null!==re&&Ge(t,re,1),wt(t,1)}!function Im(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)(0,i.ypq)(~l);else{const c=l,m=n[++r],y=n[++r];(0,i.vQI)(m,c);const v=t[c];rt(24,v),y(2,v),rt(25,v)}}}finally{(0,i.ypq)(-1)}}(e,t);const W=e.components;null!==W&&Qp(t,W,0);const te=e.viewQuery;if(null!==te&&Ja(2,te,r),L){const re=e.viewCheckHooks;null!==re&&je(t,re)}else{const re=e.viewHooks;null!==re&&Ge(t,re,2),wt(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[i.pcR]){for(const re of t[i.pcR])re();t[i.pcR]=null}Nc(t),t[i.Wg1]&=-73}catch(L){throw(0,i.blu)(t),L}finally{null!==x&&((0,z.Wu)(x,v),y&&function $a(e){e.lView[i.Iaj]!==e&&(e.lView=null,Tm.push(e))}(x)),(0,i.bll)()}}function qp(e,t){for(let n=vr(e);null!==n;n=to(n))for(let r=i.Y20;r<n.length;r++)Fc(n[r],t)}function ol(e,t,n){rt(18);const r=(0,i.KdJ)(t,e);Fc(r,n),rt(19,r[i.SKP])}function Fc(e,t){(0,i.F1c)(e)&&al(e,t)}function al(e,t){const r=e[i.eDl],l=e[i.Wg1],c=e[i.Iaj];let m=!!(0===t&&16&l);if(m||=!!(64&l&&0===t),m||=!!(1024&l),m||=!(!c?.dirty||!(0,z.si)(c)),m||=!1,c&&(c.dirty=!1),e[i.Wg1]&=-9217,m)Gp(r,e,r.template,e[i.SKP]);else if(8192&l){const y=(0,z.Ht)(null);try{Kp(e),qp(e,1);const v=r.components;null!==v&&Qp(e,v,1),Nc(e)}finally{(0,z.Ht)(y)}}}function Qp(e,t,n){for(let r=0;r<t.length;r++)ol(e,t[r],n)}function ys(e,t){const n=(0,i.yP_)()?64:1088;for(e[i.M0L].changeDetectionScheduler?.notify(t);e;){e[i.Wg1]|=n;const r=(0,i._0$)(e);if((0,i.EFk)(e)&&!r)return e;e=r}return null}function Rm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Om(e,t){const n=i.Y20+t;if(n<e.length)return e[n]}function gs(e,t,n,r=!0){const l=t[i.eDl];if(function Xp(e,t,n,r){const l=i.Y20+r,c=n.length;r>0&&(n[l-1][i.K29]=t),r<c-i.Y20?(t[i.K29]=n[l],(0,i.EYC)(n,i.Y20+r,t)):(n.push(t),t[i.K29]=null),t[i.f7T]=n;const m=t[i.rQE];null!==m&&n!==m&&Pm(m,t);const y=t[i.Ds7];null!==y&&y.insertView(e),(0,i._gW)(t),t[i.Wg1]|=128}(l,t,e,n),r){const m=oi(n,e),y=t[i.GpT],v=y.parentNode(e[i.s6P]);null!==v&&function pm(e,t,n,r,l,c){r[i.jgP]=l,r[i.qlT]=t,au(e,r,n,1,l,c)}(l,e[i.qlT],y,t,v,m)}const c=t[i.tcA];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function jc(e,t){const n=il(e,t);return void 0!==n&&el(n[i.eDl],n),n}function il(e,t){if(e.length<=i.Y20)return;const n=i.Y20+t,r=e[n];if(r){const l=r[i.rQE];null!==l&&l!==e&&kc(l,r),t>0&&(e[n-1][i.K29]=r[i.K29]);const c=(0,i.E6O)(e,i.Y20+t);hm(r[i.eDl],r);const m=c[i.Ds7];null!==m&&m.detachView(c[i.eDl]),r[i.f7T]=null,r[i.K29]=null,r[i.Wg1]&=-129}return r}function Pm(e,t){const n=e[i.nfM],r=t[i.f7T];((0,i.q$2)(r)||t[i.b5C]!==r[i.f7T][i.b5C])&&(e[i.Wg1]|=2),null===n?e[i.nfM]=[t]:n.push(t)}class uu{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[i.eDl];return lu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[i.SKP]}set context(t){this._lView[i.SKP]=t}get destroyed(){return(0,i.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[i.f7T];if((0,i.A0l)(t)){const n=t[i.bm_],r=n?n.indexOf(this):-1;r>-1&&(il(t,r),(0,i.E6O)(n,r))}this._attachedToViewContainer=!1}el(this._lView[i.eDl],this._lView)}onDestroy(t){(0,i.ik5)(this._lView,t)}markForCheck(){ys(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[i.Wg1]&=-129}reattach(){(0,i._gW)(this._lView),this._lView[i.Wg1]|=128}detectChanges(){this._lView[i.Wg1]|=1024,Lc(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new i.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,i.EFk)(this._lView),n=this._lView[i.rQE];null!==n&&!t&&kc(n,this._lView),ru(this._lView[i.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new i.buA(902,!1);this._appRef=t;const n=(0,i.EFk)(this._lView),r=this._lView[i.rQE];null!==r&&!n&&Pm(r,this._lView),(0,i._gW)(this._lView)}}let sl=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Yp;constructor(n,r,l){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const c=rl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:l});return new uu(c)}})();function Yp(){return cu((0,i.Mx4)(),(0,i.OAn)())}function cu(e,t){return 4&e.type?new sl(t,e,er(e,t)):null}function $c(e,t,n){const r=t.insertBeforeIndex,l=Array.isArray(r)?r[0]:r;return null===l?vm(e,0,n):(0,i.IvY)(n[l])}function mu(e,t,n,r,l){const c=t.insertBeforeIndex;if(Array.isArray(c)){let m=r,y=null;if(3&t.type||(y=m,m=l),null!==m&&-1===t.componentOffset)for(let v=1;v<c.length;v++)Ta(e,m,n[c[v]],y,!1)}}function Ha(e,t,n,r,l){let c=e.data[t];if(null===c)c=cl(e,t,n,r,l),(0,i.JjR)()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=l;const m=(0,i.Ab)();c.injectorIndex=null===m?-1:m.injectorIndex}return(0,i.iMd)(c,!0),c}function cl(e,t,n,r,l){const c=(0,i.veI)(),m=(0,i.YWB)(),v=e.data[t]=function Fm(e,t,n,r,l,c){let m=t?t.injectorIndex:-1,y=0;return(0,i.KtD)()&&(y|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,n,t,r,l);return function Wo(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,v,c,m),v}function jm(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];hu(r)||af(r,t)&&null===Ci(r)&&Bm(r,t.index)}}function hu(e){return!(64&e.type)}function af(e,t){return hu(t)||e.index>t.index}function Ci(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Bm(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(bm($c,mu),e.insertBeforeIndex=t)}function dl(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Um(e,t,n){const r=cl(e,n,64,null,null);return jm(t,r),r}function ml(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Vm(e){return e>>>17}function Hc(e){return(131070&e)>>>1}function vs(e,t,n){e.index=0;const r=ml(t,n);e.removes=null!==r?t.remove[r]:i.Mlv}function Si(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),vs(e,e.lView[i.eDl].data[~t],e.lView),Si(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),Si(e))}function Wm(){const e={stack:[],index:-1};return function t(n,r){for(e.lView=r;e.stack.length;)e.stack.pop();return vs(e,n.value,r),Si.bind(null,e)}}function vf(e,t,n){for(const r of n.node.cases[n.case]){const l=t.get(r.index-i.Yw1);l&&Ys(e,l,!1)}}function wu(e){const t=e[i.qFA]??[],r=e[i.f7T][i.GpT],l=[];for(const c of t)void 0!==c.data.di?l.push(c):Jm(c,r);e[i.qFA]=l}function _f(e){const{lContainer:t}=e,n=t[i.qFA];if(null===n)return;const l=t[i.f7T][i.GpT];for(const c of n)Jm(c,l)}function Jm(e,t){let n=0,r=e.firstChild;if(r){const l=e.data.r;for(;n<l;){const c=r.nextSibling;Ys(t,r,!1),r=c,n++}}}function Ia(e){wu(e);const t=e[i.jgP];(0,i.q$2)(t)&&Es(t);for(let n=i.Y20;n<e.length;n++)Es(e[n])}function Es(e){!function gf(e){const t=e[i.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){const l=e[i.GpT];for(const c of r.values())vf(l,n,c)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[i.eDl];for(let n=i.Yw1;n<t.bindingStartIndex;n++)(0,i.A0l)(e[n])?Ia(e[n]):(0,i.q$2)(e[n])&&Es(e[n])}let nh=class{},rh=class{};class oh{resolveComponentFactory(t){throw new i.buA(917,!1)}}let ks=class{static NULL=new oh};class ku{}let Jg=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function kf(){const e=(0,i.OAn)(),t=(0,i.Mx4)(),n=(0,i.KdJ)(t.index,e);return((0,i.q$2)(n)?n:e)[i.GpT]}()})(),ah=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function Jc(e){return void 0!==e.ngModule}function Ii(e){return!!(0,i.phH)(e)}function Du(e){return!!(0,i.oyA)(e)}function ih(e){return!!(0,i.HaV)(e)}function Ds(e){return!!(0,i.xUg)(e)}function Cf(e,t){if((0,i.Jzi)(e)&&!(e=(0,i.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,i.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,i.PP7)(e)||e}".`);if(null==(0,i.phH)(e)){const n=(0,i.xUg)(e)||(0,i.HaV)(e)||(0,i.oyA)(e);if(null==n)throw Jc(e)?new Error(`A module with providers was imported from "${(0,i.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,i.PP7)(e)}" type, imported from "${(0,i.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone)throw new Error(`The "${(0,i.PP7)(e)}" ${function Df(e){return(0,i.xUg)(e)?"component":(0,i.HaV)(e)?"directive":(0,i.oyA)(e)?"pipe":"type"}(e)}, imported from "${(0,i.PP7)(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class sh{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,i.phH)(t);if(n?.declarations)for(const r of ya(n.declarations))Ds(r)&&this.ownerNgModule.set(r,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const r=(0,i.xUg)(t);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(r.standalone){const l=this.getStandaloneComponentScope(t,n);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(t));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(t,n){if(!Ii(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,i.WbQ)(t),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of ya(n.imports))if(Ii(l)){const c=this.getNgModuleScope(l);ai(c.exported.directives,r.compilation.directives),ai(c.exported.pipes,r.compilation.pipes)}else{if(!(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}if(ih(l)||Ds(l))r.compilation.directives.add(l);else{if(!Du(l))throw new i.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(l)}}if(!r.compilation.isPoisoned)for(const l of ya(n.declarations)){if(Ii(l)||(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}Du(l)?r.compilation.pipes.add(l):r.compilation.directives.add(l)}for(const l of ya(n.exports))if(Ii(l)){const c=this.getNgModuleScope(l);ai(c.exported.directives,r.exported.directives),ai(c.exported.pipes,r.exported.pipes),ai(c.exported.directives,r.compilation.directives),ai(c.exported.pipes,r.compilation.pipes)}else Du(l)?r.exported.pipes.add(l):r.exported.directives.add(l);return r}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const r=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,r),r}computeStandaloneComponentScope(t,n){const r={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const l of(0,i.Bqz)(n??[])){const c=(0,i.nl4)(l);try{Cf(c,t)}catch{return r.compilation.isPoisoned=!0,r}if(Ii(c)){r.compilation.ngModules.add(c);const m=this.getNgModuleScope(c);if(m.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;ai(m.exported.directives,r.compilation.directives),ai(m.exported.pipes,r.compilation.pipes)}else if(Du(c))r.compilation.pipes.add(c);else{if(!ih(c)&&!Ds(c))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(c)}}return r}isOrphanComponent(t){const n=(0,i.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function ai(e,t){for(const n of e)t.add(n)}const Ri=new sh,Zc={};class Cs{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const l=this.injector.get(t,Zc,r);return l!==Zc||n===Zc?l:this.parentInjector.get(t,n,r)}}function Cu(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const y=t[m];if("number"==typeof y)c=y;else if(1==c)l=(0,i.n$e)(l,y);else if(2==c){const x=t[++m];r=(0,i.n$e)(r,y+": "+x+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function Ss(e,t=0){const n=(0,i.OAn)();return null===n?(0,i.KVO)(e,t):Gn((0,i.Mx4)(),n,(0,i.nl4)(e),t)}function uh(e,t,n,r,l){const c=null===r?null:{"":-1},m=l(e,n);if(null!==m){let y=m,v=null,x=null;for(const L of m)if(null!==L.resolveHostDirectives){[y,v,x]=L.resolveHostDirectives(m);break}!function yl(e,t,n,r,l,c,m){const y=r.length;let v=!1;for(let te=0;te<y;te++){const re=r[te];!v&&(0,i.JlV)(re)&&(v=!0,ed(e,n,te)),Cr(Dr(n,t),e,re.type)}!function ph(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,y);for(let te=0;te<y;te++){const re=r[te];re.providersResolver&&re.providersResolver(re)}let x=!1,L=!1,W=cs(e,t,y,null);y>0&&(n.directiveToIndex=new Map);for(let te=0;te<y;te++){const re=r[te];if(n.mergedAttrs=Rn(n.mergedAttrs,re.hostAttrs),Sf(e,n,t,W,re),hh(W,re,l),null!==m&&m.has(re)){const[Be,gt]=m.get(re);n.directiveToIndex.set(re.type,[W,Be+n.directiveStart,gt+n.directiveStart])}else(null===c||!c.has(re))&&n.directiveToIndex.set(re.type,W);null!==re.contentQueries&&(n.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(n.flags|=64);const Ae=re.type.prototype;!x&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),x=!0),!L&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),L=!0),W++}!function td(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const l=e.data[r];if(null!==n&&n.has(l)){const c=n.get(l);dh(0,t,c,r),dh(1,t,c,r),mh(t,r,!0)}else ch(0,t,l,r),ch(1,t,l,r),mh(t,r,!1)}}(e,n,c)}(e,t,n,y,c,v,x)}null!==c&&null!==r&&function va(e,t,n){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const c=n[t[l+1]];if(null==c)throw new i.buA(-301,!1);r.push(t[l],c)}}(n,r,c)}function ed(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ch(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){let m;m=0===e?t.inputs??={}:t.outputs??={},m[c]??=[],m[c].push(r),Su(t,c)}}function dh(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){const m=l[c];let y;y=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},y[m]??=[],y[m].push(r,c),Su(t,m)}}function Su(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function mh(e,t,n){const{attrs:r,inputs:l,hostDirectiveInputs:c}=e;if(null===r||!n&&null===l||n&&null===c||yc(e))return e.initialInputs??=[],void e.initialInputs.push(null);let m=null,y=0;for(;y<r.length;){const v=r[y];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!n&&l.hasOwnProperty(v)){const x=l[v];for(const L of x)if(L===t){m??=[],m.push(v,r[y+1]);break}}else if(n&&c.hasOwnProperty(v)){const x=c[v];for(let L=0;L<x.length;L+=2)if(x[L]===t){m??=[],m.push(x[L+1],r[y+1]);break}}y+=2}else y+=2;else y+=4}e.initialInputs??=[],e.initialInputs.push(m)}function Sf(e,t,n,r,l){e.data[r]=l;const c=l.factory||(l.factory=(0,i.wGu)(l.type,!0)),m=new Wt(c,(0,i.JlV)(l),Ss,null);e.blueprint[r]=m,n[r]=m,function Au(e,t,n,r,l){const c=l.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const y=~t.index;(function Af(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=y&&m.push(y),m.push(n,r,c)}}(e,t,r,cs(e,n,l.hostVars,fn),l)}function hh(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;(0,i.JlV)(t)&&(n[""]=e)}}function Co(e,t,n,r,l,c,m,y){const v=t[i.eDl],x=v.consts,W=Ha(v,e,n,r,(0,i.db4)(x,m));return c&&uh(v,t,W,(0,i.db4)(x,y),l),W.mergedAttrs=Rn(W.mergedAttrs,W.attrs),null!==W.attrs&&Cu(W,W.attrs,!1),null!==W.mergedAttrs&&Cu(W,W.mergedAttrs,!0),null!==v.queries&&v.queries.elementStart(v,W),W}function ii(e,t){me(e,t),(0,i.srX)(t)&&e.queries.elementEnd(t)}function fh(e,t,n,r,l,c){const m=t.consts,v=Ha(t,e,n,r,(0,i.db4)(m,l));if(v.mergedAttrs=Rn(v.mergedAttrs,v.attrs),null!=c){const x=(0,i.db4)(m,c);v.localNames=[];for(let L=0;L<x.length;L+=2)v.localNames.push(x[L],-1)}return null!==v.attrs&&Cu(v,v.attrs,!1),null!==v.mergedAttrs&&Cu(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}function nd(e){return!!rd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Tf(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}function rd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ra(e,t,n){return e[t]=n}function vl(e,t){return e[t]}function xn(e,t,n){return n!==fn&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Oi(e,t,n,r){const l=xn(e,t,n);return xn(e,t+1,r)||l}function _l(e,t,n,r,l){const c=Oi(e,t,n,r);return xn(e,t+2,l)||c}function Ko(e,t,n,r,l,c){const m=Oi(e,t,n,r);return Oi(e,t+2,l,c)||m}function Mu(e,t,n){return function r(l){ys((0,i.Qs1)(e)?(0,i.KdJ)(e.index,t):t,5);const m=t[i.SKP];let y=xf(t,m,n,l),v=r.__ngNextListenerFn__;for(;v;)y=xf(t,m,v,l)&&y,v=v.__ngNextListenerFn__;return y}}function xf(e,t,n,r){const l=(0,z.Ht)(null);try{return rt(6,t,n),!1!==n(r)}catch(c){return Sm(e,c),!1}finally{rt(7,t,n),(0,z.Ht)(l)}}function bl(e,t,n,r,l,c,m,y){const v=(0,i.yoD)(e);let x=!1,L=null;if(!r&&v&&(L=function gh(e,t,n,r){const l=e.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const m=l[c];if(m===n&&l[c+1]===r){const y=t[i.VVG],v=l[c+2];return y&&y.length>v?y[v]:null}"string"==typeof m&&(c+=2)}return null}(t,n,c,e.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=m,L.__ngLastListenerFn__=m,x=!0;else{const W=(0,i.d31)(e,n),te=r?r(W):W;!function J(e,t,n,r){G(e,t,n,r)}(n,te,c,y);const re=l.listen(te,c,y);od(r?Be=>r((0,i.IvY)(Be[e.index])):e.index,t,n,c,y,re,!1)}return x}function od(e,t,n,r,l,c,m){const y=t.firstCreatePass?(0,i.vNG)(t):null,v=(0,i.d_l)(n),x=v.length;v.push(l,c),y&&y.push(r,e,x,(x+1)*(m?-1:1))}function Tu(e,t,n,r,l,c){const y=t[i.eDl],W=t[n][y.data[n].outputs[r]].subscribe(c);od(e.index,y,t,l,c,W,!0)}const si=Symbol("BINDING");class _h extends ks{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,i.xUg)(t);return new bh(n,this.ngModule)}}class bh extends rh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function ev(e){return Object.keys(e).map(t=>{const[n,r,l]=e[t],c={propName:n,templateName:t,isSignal:0!==(r&ds.SignalBased)};return l&&(c.transform=l),c})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function tv(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function om(e){return e.map(Cp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,l,c,m){rt(22);const y=(0,z.Ht)(null);try{const v=this.componentDef,x=function jf(e,t,n,r){const l=e?["ng-version","20.1.6"]:function Sp(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===l?""!==c&&t.push(c,e[++r]):8===l&&n.push(c);else{if(!Ho(l))break;l=c}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let c=null,m=null,y=0;if(n)for(const L of n)y+=L[si].requiredVars,L.create&&(L.targetIdx=0,(c??=[]).push(L)),L.update&&(L.targetIdx=0,(m??=[]).push(L));if(r)for(let L=0;L<r.length;L++){const W=r[L];if("function"!=typeof W)for(const te of W.bindings){y+=te[si].requiredVars;const re=L+1;te.create&&(te.targetIdx=re,(c??=[]).push(te)),te.update&&(te.targetIdx=re,(m??=[]).push(te))}}const v=[t];if(r)for(const L of r){const te=(0,i.HaV)("function"==typeof L?L:L.type);v.push(te)}return tu(0,null,function Bf(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(c,m),1,y,v,null,null,null,[l],null)}(r,v,m,c),L=function xu(e,t,n){let r=t instanceof i.uvJ?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Cs(n,r):n}(v,l||this.ngModule,t),W=function Iu(e){const t=e.get(ku,null);if(null===t)throw new i.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(ah,null),changeDetectionScheduler:e.get(i.hk6,null),ngReflect:!1}}(L),te=W.rendererFactory.createRenderer(null,v),re=r?function Np(e,t,n,r){const c=r.get(di,!1)||n===fa.ShadowDom,m=e.selectRootElement(t,c);return function Mc(e){Tc(e)}(m),m}(te,r,v.encapsulation,L):function _a(e,t){const n=(e.selectors[0][0]||"div").toLowerCase();return eu(t,n,"svg"===n?i.jNX:"math"===n?i.rJ1:null)}(v,te),Ae=m?.some(wh)||c?.some(mt=>"function"!=typeof mt&&mt.bindings.some(wh)),Be=Js(null,x,null,512|wc(v),null,null,W,te,L,null,null);Be[i.Yw1]=re,(0,i.ID8)(Be);let gt=null;try{const mt=Co(i.Yw1,Be,2,"#host",()=>x.directiveRegistry,!0,0);re&&(um(te,re,mt),se(re,Be)),Ac(x,Be,mt),es(x,mt,Be),ii(x,mt),void 0!==n&&function Eh(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const c=n[l];r.push(null!=c&&c.length?Array.from(c):null)}}(mt,this.ngContentSelectors,n),gt=(0,i.KdJ)(mt.index,Be),Be[i.SKP]=gt[i.SKP],Pc(x,Be,null)}catch(mt){throw null!==gt&&ho(gt),ho(Be),mt}finally{rt(23),(0,i.bll)()}return new Uf(this.componentType,Be,!!Ae)}finally{(0,z.Ht)(y)}}}function wh(e){const t=e[si].kind;return"input"===t||"twoWay"===t}class Uf extends nh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=(0,i.XRZ)(n[i.eDl],i.Yw1),this.location=er(this._tNode,n),this.instance=(0,i.KdJ)(this._tNode.index,n)[i.SKP],this.hostView=this.changeDetectorRef=new uu(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Am(r,l[i.eDl],l,t,n),this.previousInputValues.set(t,n),ys((0,i.KdJ)(r.index,l),1)}get injector(){return new Yt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Pi=(()=>class e{static __NG_ELEMENT_ID__=li})();function li(){return ad((0,i.Mx4)(),(0,i.OAn)())}const nv=Pi,kh=class extends nv{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return er(this._hostTNode,this._hostLView)}get injector(){return new Yt(this._hostTNode,this._hostLView)}get parentInjector(){const t=so(this._hostTNode,this._hostLView);if(Go(t)){const n=Hr(t,this._hostLView),r=Er(t);return new Yt(n[i.eDl].data[r+8],n)}return new Yt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Dh(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-i.Y20}createEmbeddedView(t,n,r){let l,c;"number"==typeof r?l=r:null!=r&&(l=r.index,c=r.injector);const y=t.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(y,l,fs(this._hostTNode,null)),y}createComponent(t,n,r,l,c,m,y){const v=t&&!Se(t);let x;if(v)x=n;else{const gt=n||{};x=gt.index,r=gt.injector,l=gt.projectableNodes,c=gt.environmentInjector||gt.ngModuleRef,m=gt.directives,y=gt.bindings}const L=v?t:new bh((0,i.xUg)(t)),W=r||this.parentInjector;if(!c&&null==L.ngModule){const mt=(v?W:this.parentInjector).get(i.uvJ,null);mt&&(c=mt)}(0,i.xUg)(L.componentType??{});const Be=L.create(W,l,null,c,m,y);return this.insertImpl(Be.hostView,x,fs(this._hostTNode,null)),Be}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const l=t._lView;if((0,i.ITl)(l)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const v=l[i.f7T],x=new kh(v,v[i.qlT],v[i.f7T]);x.detach(x.indexOf(t))}}const c=this._adjustIndex(n),m=this._lContainer;return gs(m,l,c,r),t.attachToViewContainerRef(),(0,i.EYC)(Ru(m),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Dh(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=il(this._lContainer,n);r&&((0,i.E6O)(Ru(this._lContainer),n),el(r[i.eDl],r))}detach(t){const n=this._adjustIndex(t,-1),r=il(this._lContainer,n);return r&&null!=(0,i.E6O)(Ru(this._lContainer),n)?new uu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Dh(e){return e[i.bm_]}function Ru(e){return e[i.bm_]||(e[i.bm_]=[])}function ad(e,t){let n;const r=t[e.index];return(0,i.A0l)(r)?n=r:(n=Rm(r,t,null,e),t[e.index]=n,Ec(t,n)),Sh(n,t,e,r),new kh(n,e,t)}let Sh=function Ou(e,t,n,r){if(e[i.s6P])return;let l;l=8&n.type?(0,i.IvY)(r):function Ch(e,t){const n=e[i.GpT],r=n.createComment(""),l=(0,i.d31)(t,e),c=n.parentNode(l);return Ta(n,c,r,n.nextSibling(l),!1),r}(t,n),e[i.s6P]=l},Ni=()=>!1;function wl(e,t,n){return Ni(e,t,n)}class Li{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Li(this.queryList)}setDirty(){this.queryList.setDirty()}}class Oa{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){const m=n.getByIndex(c);l.push(this.queries[m.indexInDeclarationView].clone())}return new Oa(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==cd(t,n).matches&&this.queries[n].setDirty()}}class Pu{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function Wf(e){return e.split(",").map(t=>t.trim())}(t):t}}class As{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,l);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new As(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fi{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Fi(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const c=r[l];this.matchTNodeWithReadOption(t,n,ji(n,c)),this.matchTNodeWithReadOption(t,n,Un(n,t,c,!1,!1))}else r===sl?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Un(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===Or||l===Pi||l===sl&&4&n.type)this.addMatch(n.index,-2);else{const c=Un(n,t,l,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ji(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function $f(e,t,n,r){return-1===n?function Th(e,t){return 11&e.type?er(e,t):4&e.type?cu(e,t):null}(t,e):-2===n?function Hf(e,t,n){return n===Or?er(t,e):n===sl?cu(t,e):n===Pi?ad(t,e):void 0}(e,t,r):zr(e,e[i.eDl],n,t)}function Nu(e,t,n,r){const l=t[i.Ds7].queries[r];if(null===l.matches){const c=e.data,m=n.matches,y=[];for(let v=0;null!==m&&v<m.length;v+=2){const x=m[v];y.push(x<0?null:$f(t,c[x],m[v+1],n.metadata.read))}l.matches=y}return l.matches}function id(e,t,n,r){const l=e.queries.getByIndex(n),c=l.matches;if(null!==c){const m=Nu(e,t,l,n);for(let y=0;y<c.length;y+=2){const v=c[y];if(v>0)r.push(m[y/2]);else{const x=c[y+1],L=t[-v];for(let W=i.Y20;W<L.length;W++){const te=L[W];te[i.rQE]===te[i.f7T]&&id(te[i.eDl],te,x,r)}if(null!==L[i.nfM]){const W=L[i.nfM];for(let te=0;te<W.length;te++){const re=W[te];id(re[i.eDl],re,x,r)}}}}}return r}function sd(e,t){return e[i.Ds7].queries[t].queryList}function ld(e,t,n){const r=new Dt(!(4&~n));return(0,i.B22)(e,t,r,r.destroy),(t[i.Ds7]??=new Oa).queries.push(new Li(r))-1}function ud(e,t,n){const r=(0,i.klJ)();return r.firstCreatePass&&(Fu(r,new Pu(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),ld(r,(0,i.OAn)(),t)}function Lu(e,t,n,r){const l=(0,i.klJ)();if(l.firstCreatePass){const c=(0,i.Mx4)();Fu(l,new Pu(t,n,r),c.index),function rv(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return ld(l,(0,i.OAn)(),n)}function Fu(e,t,n){null===e.queries&&(e.queries=new As),e.queries.track(new Fi(t,n))}function cd(e,t){return e.queries.getByIndex(t)}function dd(e,t){const n=e[i.eDl],r=cd(n,t);return r.crossesNgTemplate?id(n,e,t,[]):Nu(n,e,r,t)}function xh(e,t){const n=e[z.bh];n._lView=(0,i.OAn)(),n._queryIndex=t,n._queryList=sd(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function zf(e){const t=[],n=new Map;function r(l){let c=n.get(l);if(!c){const m=e(l);n.set(l,c=m.then(y=>function Gf(e,t){return"string"==typeof t?t:void 0!==t.status&&200!==t.status?Promise.reject(new i.buA(918,!1)):t.text()}(0,y)))}return c}return El.forEach((l,c)=>{const m=[];l.templateUrl&&m.push(r(l.templateUrl).then(x=>{l.template=x}));const y="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=y,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const x=l.styles.length,L=l.styleUrls;l.styleUrls.forEach((W,te)=>{y.push(""),m.push(r(W).then(re=>{y[x+te]=re,L.splice(L.indexOf(W),1),0==L.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&m.push(r(l.styleUrl).then(x=>{y.push(x),l.styleUrl=void 0}));const v=Promise.all(m).then(()=>function qf(e){Ms.delete(e)}(c));t.push(v)}),function sv(){const e=El;El=new Map}(),Promise.all(t).then(()=>{})}let El=new Map;const Ms=new Set;function lv(){return 0===El.size}const Bu=new Map;function Oh(e,t){(function uv(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${(0,i.AsM)(t)} vs ${(0,i.AsM)(t.name)}`)})(t,Bu.get(t)||null,e),Bu.set(t,e)}const hd=new Set;function fo(e){hd.has(e)||(hd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Bi=class{},pd=class{};function Qf(e,t){return new Uu(e,t??null,[])}class Uu extends Bi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _h(this);constructor(t,n,r,l=!0){super(),this.ngModuleType=t,this._parent=n;const c=(0,i.phH)(t);this._bootstrapComponents=ya(c.bootstrap),this._r3Injector=(0,i.Pz9)(t,n,[{provide:Bi,useValue:this},{provide:ks,useValue:this.componentFactoryResolver},...r],(0,i.AsM)(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ph extends pd{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Uu(this.moduleType,t,[])}}function Yf(e,t,n){return new Uu(e,t,n,!1)}class Jf extends Bi{injector;componentFactoryResolver=new _h(this);instance=null;constructor(t){super();const n=new i.e5P([...t.providers,{provide:Bi,useValue:this},{provide:ks,useValue:this.componentFactoryResolver}],t.parent||(0,i.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Pa(e,t,n=null){return new Jf({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Ui=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=(0,i.jXY)(!1,n.type),l=r.length>0?Pa([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,i.KVO)(i.uvJ))})}return e})();function Nh(e){return Z(()=>{const t=ny(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?l=>l.get(Ui).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||fa.Emulated,styles:e.styles||i.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&fo("NgStandalone"),ry(n);const r=e.dependencies;return n.directiveDefs=yd(r,Zf),n.pipeDefs=yd(r,i.oyA),n.id=function yv(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Zf(e){return(0,i.xUg)(e)||(0,i.HaV)(e)}function fd(e){return Z(()=>({type:e.type,bootstrap:e.bootstrap||i.Mlv,declarations:e.declarations||i.Mlv,imports:e.imports||i.Mlv,exports:e.exports||i.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hv(e,t){if(null==e)return i.MZA;const n={};for(const r in e)if(e.hasOwnProperty(r)){const l=e[r];let c,m,y,v;Array.isArray(l)?(y=l[0],c=l[1],m=l[2]??c,v=l[3]||null):(c=l,m=l,y=ds.None,v=null),n[c]=[r,y,v],t[c]=m}return n}function pv(e){if(null==e)return i.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ey(e){return Z(()=>{const t=ny(e);return ry(t),t})}function ty(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ny(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||i.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||i.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:hv(e.inputs,t),outputs:pv(e.outputs),debugInfo:null}}function ry(e){e.features?.forEach(t=>t(e))}function yd(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const l of n){const c=t(l);null!==c&&r.push(c)}return r}:null}function Lh(e){return Object.getPrototypeOf(e.prototype).constructor}function gd(e){let t=Lh(e.type),n=!0;const r=[e];for(;t;){let l;if((0,i.JlV)(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new i.buA(903,!1);l=t.\u0275dir}if(l){if(n){r.push(l);const m=e;m.inputs=Fh(e.inputs),m.declaredInputs=Fh(e.declaredInputs),m.outputs=Fh(e.outputs);const y=l.hostBindings;y&&ay(e,y);const v=l.viewQuery,x=l.contentQueries;if(v&&vd(e,v),x&&Vu(e,x),oy(e,l),(0,i.dwj)(e.outputs,l.outputs),(0,i.JlV)(l)&&l.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let m=0;m<c.length;m++){const y=c[m];y&&y.ngInherit&&y(e),y===gd&&(n=!1)}}t=Object.getPrototypeOf(t)}!function ui(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=Rn(l.hostAttrs,n=Rn(n,l.hostAttrs))}}(r)}function oy(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Fh(e){return e===i.MZA?{}:e===i.Mlv?[]:e}function vd(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function Vu(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,c)=>{t(r,l,c),n(r,l,c)}:t}function ay(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}const iy=["providersResolver"],jh=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ly(e){const t=[];let n=!1,r=null,l=null;for(let c=0;c<e.length;c++){const m=e[c];if(null!==m.hostDirectives){const y=t.length;r??=new Map,l??=new Map,$u(m,t,r),l.set(m,[y,t.length-1])}0===c&&(0,i.JlV)(m)&&(n=!0,t.push(m))}for(let c=n?1:0;c<e.length;c++)t.push(e[c]);return[t,r,l]}function $u(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives)if("function"==typeof r){const l=r();for(const c of l)Uh(Vh(c),t,n)}else Uh(r,t,n)}function Uh(e,t,n){const r=(0,i.HaV)(e.directive);(function s(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(r.declaredInputs,e.inputs),$u(r,t,n),n.set(r,e),t.push(r)}function Vh(e){return"function"==typeof e?{directive:(0,i.nl4)(e),inputs:i.MZA,outputs:i.MZA}:{directive:(0,i.nl4)(e.directive),inputs:$h(e.inputs),outputs:$h(e.outputs)}}function $h(e){if(void 0===e||0===e.length)return i.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function u(e,t,n,r,l,c,m,y){if(n.firstCreatePass){e.mergedAttrs=Rn(e.mergedAttrs,e.attrs);const L=e.tView=tu(2,e,l,c,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),L.queries=n.queries.embeddedTView(e))}y&&(e.flags|=y),(0,i.iMd)(e,!1);const v=B(n,t,e,r);(0,i.SX7)()&&Cc(n,t,v,e),se(v,t);const x=Rm(v,t,v,e);t[r+i.Yw1]=x,Ec(t,x),wl(x,e,t)}function p(e,t,n,r,l,c,m,y,v,x,L){const W=n+i.Yw1;let te;if(t.firstCreatePass){if(te=Ha(t,W,4,m||null,y||null),null!=x){const re=(0,i.db4)(t.consts,x);te.localNames=[];for(let Ae=0;Ae<re.length;Ae+=2)te.localNames.push(re[Ae],-1)}}else te=t.data[W];return u(te,e,t,n,r,l,c,v),null!=x&&nl(e,te,L),te}function b(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),x=(0,i.klJ)();return function d(e,t,n,r,l,c,m,y,v,x,L){const W=n+i.Yw1;let te;t.firstCreatePass?(te=Ha(t,W,4,m||null,y||null),(0,i.ckz)()&&uh(t,e,te,(0,i.db4)(t.consts,x),Rc),me(t,te)):te=t.data[W],u(te,e,t,n,r,l,c,v),(0,i.yoD)(te)&&Ac(t,e,te),null!=x&&nl(e,te,L)}(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),void 0,m,y),b}let B=function Y(e,t,n,r){return(0,i.m7n)(!0),t[i.GpT].createComment("")};var We=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(We||{}),Ze=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Ze||{}),dt=function(e){return e[e.Initial=-1]="Initial",e}(dt||{}),_d=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(_d||{});function ba(e,t,n){const r=wd(e);null===t[r]&&(t[r]=[]),t[r].push(n)}function xs(e,t){const n=wd(e),r=t[n];if(null!==r){for(const l of r)l();t[n]=null}}function bd(e){xs(1,e),xs(0,e),xs(2,e)}function wd(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}var vt=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(vt||{});const kt=new i.nKC(""),Rt=!1,In=class on extends T.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,(0,i.M6u)()&&(this.destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0,this.pendingTasks=(0,i.WQX)(i.rev,{optional:!0})??void 0)}emit(t){const n=(0,z.Ht)(null);try{super.next(t)}finally{(0,z.Ht)(n)}}subscribe(t,n,r){let l=t,c=n||(()=>null),m=r;if(t&&"object"==typeof t){const v=t;l=v.next?.bind(v),c=v.error?.bind(v),m=v.complete?.bind(v)}this.__isAsync&&(c=this.wrapInTimeout(c),l&&(l=this.wrapInTimeout(l)),m&&(m=this.wrapInTimeout(m)));const y=super.subscribe({next:l,error:c,complete:m});return t instanceof X.yU&&t.add(y),y}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function wa(e){let t,n;function r(){e=i.lQ1;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function So(e){return queueMicrotask(()=>e()),()=>{e=i.lQ1}}const Ln="isAngularZone",kl=Ln+"_ID";let uy=0;class Ut{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new In(!1);onMicrotaskEmpty=new In(!1);onStable=new In(!1);onError=new In(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:c=Rt}=t;if(typeof Zone>"u")throw new i.buA(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&r,m.shouldCoalesceRunChangeDetection=l,m.callbackScheduled=!1,m.scheduleInRootZone=c,function Ed(e){const t=()=>{!function Hu(e){function t(){wa(()=>{e.callbackScheduled=!1,cy(e),e.isCheckStableRunning=!0,Ao(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),cy(e))}(e)},n=uy++;e._inner=e._inner.fork({name:"angular",properties:{[Ln]:!0,[kl]:n,[kl+n]:!0},onInvokeTask:(r,l,c,m,y,v)=>{if(function D0(e){return _v(e,"__ignore_ng_zone__")}(v))return r.invokeTask(c,m,y,v);try{return gv(e),r.invokeTask(c,m,y,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),vv(e)}},onInvoke:(r,l,c,m,y,v,x)=>{try{return gv(e),r.invoke(c,m,y,v,x)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function C0(e){return _v(e,"__scheduler_tick__")}(v)&&t(),vv(e)}},onHasTask:(r,l,c,m)=>{r.hasTask(c,m),l===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,cy(e),Ao(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(r,l,c,m)=>(r.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ln)}static assertInAngularZone(){if(!Ut.isInAngularZone())throw new i.buA(909,!1)}static assertNotInAngularZone(){if(Ut.isInAngularZone())throw new i.buA(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+l,t,$i,i.lQ1,i.lQ1);try{return c.runTask(m,n,r)}finally{c.cancelTask(m)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const $i={};function Ao(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function gv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vv(e){e._nesting--,Ao(e)}class dy{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new In;onMicrotaskEmpty=new In;onStable=new In;onError=new In;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}function _v(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}function S0(e="zone.js",t){return"noop"===e?new dy:"zone.js"===e?new Ut(t):e}let bv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const wv=[0,1,2,3];let A0=(()=>{class e{ngZone=(0,i.WQX)(Ut);scheduler=(0,i.WQX)(i.hk6);errorHandler=(0,i.WQX)(i.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,i.WQX)(kt,{optional:!0})}execute(){const n=this.sequences.size>0;n&&rt(16),this.executing=!0;for(const r of wv)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[r])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[r])(l.pipelinedValue),l.snapshot))}catch(c){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&rt(17)}register(n){const{view:r}=n;void 0!==r?((r[i.JEi]??=[]).push(n),(0,i.blu)(r),r[i.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(vt.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class Ev{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,l,c,m=null){this.impl=t,this.hooks=n,this.view=r,this.once=l,this.snapshot=m,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[i.JEi];t&&(this.view[i.JEi]=t.filter(n=>n!==this))}}function kv(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return fo("NgAfterNextRender"),Dv(e,n,t,!0)}function Dv(e,t,n,r){const l=t.get(bv);l.impl??=t.get(A0);const c=t.get(kt,null,{optional:!0}),m=!0!==n?.manualCleanup?t.get(i.abz):null,y=t.get(i.r4V,null,{optional:!0}),v=new Ev(l.impl,function T0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),y?.view,r,m,c?.snapshot(null));return l.impl.register(v),v}function kd(e){return e+1}function ra(e,t){return e[kd(t.index)]}function go(e,t){const n=kd(t.index);return e.data[n]}function my(e,t){return t===Ze.Placeholder?e.placeholderBlockConfig?.[0]??null:t===Ze.Loading?e.loadingBlockConfig?.[0]??null:null}function Cv(e){return e.loadingBlockConfig?.[1]??null}function Sv(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function hy(e,t,n){const r=n.get(Ut);return function hi(e,t,n){let r=At.get(e);return no=no||n(),r||(r=new Ca,no.observe(e),At.set(e,r),ma++),r.callbacks.add(t),()=>{At.has(e)&&(r.callbacks.delete(t),0===r.callbacks.size&&(no?.unobserve(e),At.delete(e),ma--),0===ma&&(no?.disconnect(),no=null))}}(e,()=>r.run(t),()=>r.runOutsideAngular(()=>function xl(){return new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&At.has(t.target)&&At.get(t.target).listener()})}()))}function Wu(e,t,n,r,l,c,m){const y=e[i.YEL],v=y.get(Ut);let x;x=function M0(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return fo("NgAfterRender"),Dv(e,n,t,!1)}({read:function L(){if((0,i.EPY)(e))return void x.destroy();const W=ra(e,t),te=W[1];if(te!==dt.Initial&&te!==Ze.Placeholder)return void x.destroy();const re=function P0(e,t,n){return null==n?e:n>=0?(0,i.jRZ)(n,e):e[t.index][i.Y20]??null}(e,t,r);if(!re||(x.destroy(),(0,i.EPY)(re)))return;const Ae=function N0(e,t){return(0,i.vaC)(i.Yw1+t,e)}(re,n),Be=l(Ae,()=>{v.run(()=>{e!==re&&(0,i.DyX)(re,Be),c()})},y);e!==re&&(0,i.ik5)(re,Be),ba(m,W,Be)}},{injector:y})}function Hh(e,t){const n=t.get(j0);return n.add(e),()=>n.remove(e)}let j0=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,i.WQX)(Ut);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:r,deferred:l}=this;r.delete(n),l.delete(n),0===r.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const r of this.current)r();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const r of this.deferred)this.current.add(r);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function Wh(e){return(t,n)=>Mv(e,t,n)}function Mv(e,t,n){const r=n.get(B0),l=n.get(Ut);return r.add(e,t,l),()=>r.remove(t)}let B0=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,r,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,r),this.scheduleTimer(l)}remove(n){const{current:r,deferred:l}=this;-1===this.removeFromQueue(r,n)&&this.removeFromQueue(l,n),0===r.length&&0===l.length&&this.clearTimeout()}addToQueue(n,r,l){let c=n.length;for(let m=0;m<n.length;m+=2)if(n[m]>r){c=m;break}(0,i.llW)(n,c,r,l)}removeFromQueue(n,r){let l=-1;for(let c=0;c<n.length;c+=2)if(n[c+1]===r){l=c;break}return l>-1&&(0,i.gsJ)(n,l,2),l}scheduleTimer(n){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],m=Date.now();for(let v=0;v<c.length;v+=2){const L=c[v+1];if(!(c[v]<=m))break;L()}let y=-1;for(let v=0;v<this.current.length&&this.current[v]<=m;v+=2)y=v+1;if(y>=0&&(0,i.gsJ)(this.current,0,y+1),this.executingCallbacks=!1,this.deferred.length>0){for(let v=0;v<this.deferred.length;v+=2)this.addToQueue(this.current,this.deferred[v],this.deferred[v+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const c=Date.now(),m=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-m>16){this.clearTimeout();const y=Math.max(m-c,16);this.invokeTimerAt=m,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(r),y))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),U0=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,l,c){if(!this.cachedInjectors.has(n)){const m=l.length>0?Pa(l,r,c):null;this.cachedInjectors.set(n,m)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const V0=new i.nKC("");function py(e,t,n){return e.get(U0).getOrCreateInjector(t,e,n,"")}function Is(e,t,n,r=!1){const l=n[i.f7T],c=l[i.eDl];if((0,i.EPY)(l))return;const m=ra(l,t),v=m[7];if(!(null!==v&&e<v)&&Iv(m[1],e)&&Iv(m[0]??-1,e)){const x=go(c,t),W=r||null===Cv(x)&&null===my(x,Ze.Loading)&&!my(x,Ze.Placeholder)?Tv:fy;try{W(e,m,n,t,l)}catch(te){Sm(l,te)}}}function Tv(e,t,n,r,l){rt(20);const c=function R0(e,t,n){const l=go(t[i.eDl],n);switch(e){case Ze.Complete:return l.primaryTmplIndex;case Ze.Loading:return l.loadingTmplIndex;case Ze.Error:return l.errorTmplIndex;case Ze.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,r);if(null!==c){t[1]=e;const m=l[i.eDl],v=(0,i.XRZ)(m,c+i.Yw1),x=0;let L;if(jc(n,x),e===Ze.Complete){const Ae=go(m,r),Be=Ae.providers;Be&&Be.length>0&&(L=function $0(e,t,n){if(e instanceof Cs){const l=e.injector,m=py(e.parentInjector,t,n);return new Cs(l,m)}const r=e.get(i.uvJ);if(r!==e){const l=py(r,t,n);return new Cs(e,l)}return py(e,t,n)}(l[i.YEL],Ae,Be))}const{dehydratedView:W,dehydratedViewIx:te}=function H0(e,t){const n=e[i.qFA]?.findIndex(l=>l.data.s===t[1])??-1;return{dehydratedView:n>-1?e[i.qFA][n]:null,dehydratedViewIx:n}}(n,t),re=rl(l,v,null,{injector:L,dehydratedView:W});if(gs(n,re,x,fs(v,W)),ys(re,2),te>-1&&n[i.qFA]?.splice(te,1),(e===Ze.Complete||e===Ze.Error)&&Array.isArray(t[8])){for(const Ae of t[8])Ae();t[8]=null}}rt(21)}function W0(e,t,n,r,l){const c=Date.now(),y=go(l[i.eDl],r);if(null===t[2]||t[2]<=c){t[2]=null;const v=Cv(y),x=null!==t[3];if(e!==Ze.Loading||null===v||x){e>Ze.Loading&&x&&(t[3](),t[3]=null,t[0]=null),Tv(e,t,n,r,l);const L=my(y,e);null!==L&&(t[2]=c+L,xv(L,t,r,n,l))}else{t[0]=e;const L=xv(v,t,r,n,l);t[3]=L}}else t[0]=e}function xv(e,t,n,r,l){return Mv(e,()=>{const m=t[0];t[2]=null,t[0]=null,null!==m&&Is(m,n,r)},l[i.YEL])}function Iv(e,t){return e<t}function zu(e,t){Is(Ze.Placeholder,t,e[t.index])}function Rv(e,t,n){e.loadingPromise.then(()=>{e.loadingState===We.COMPLETE?Is(Ze.Complete,t,n):e.loadingState===We.FAILED&&Is(Ze.Error,t,n)})}let fy=null;function K0(e,t,n,r){return Z(()=>{const l=e;null!==t&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...t):l.decorators=t),null!==n&&(l.ctorParameters=n),null!==r&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...r}:r)})}let Ov=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const qv=new i.nKC(""),Qv=new i.nKC("");let vy,Rw=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,l){this._ngZone=n,this.registry=r,(0,i.M6u)()&&(this._destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0),vy||(function Ow(e){vy=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ut.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),n()},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:l})}whenStable(n,r,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static \u0275fac=function(r){return new(r||e)((0,i.KVO)(Ut),(0,i.KVO)(Xv),(0,i.KVO)(Qv))};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac})}return e})(),Xv=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return vy?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Yv(e){return!!e&&"function"==typeof e.then}function Jv(e){return!!e&&"function"==typeof e.subscribe}const Zv=new i.nKC("");function Pw(e){return(0,i.EmA)([{provide:Zv,multi:!0,useValue:e}])}let e_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=(0,i.WQX)(Zv,{optional:!0})??[];injector=(0,i.WQX)(i.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const c=(0,i.N4e)(this.injector,l);if(Yv(c))n.push(c);else if(Jv(c)){const m=new Promise((y,v)=>{c.subscribe({complete:y,error:v})});n.push(m)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const t_=new i.nKC("");function Nw(){}function Lw(){(0,z.KO)(()=>{throw new i.buA(600,"")})}function n_(e,t){return Array.isArray(t)?t.reduce(n_,e):{...e,...t}}let Gh=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,i.WQX)(i.ZTf);afterRenderManager=(0,i.WQX)(bv);zonelessEnabled=(0,i.WQX)(i.Evm);rootEffectScheduler=(0,i.WQX)(i.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new T.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,i.WQX)(i.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,ee.T)(n=>!n))}constructor(){(0,i.WQX)(kt,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:l=>{l&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,i.WQX)(i.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,l=i.zZn.NULL){return this._injector.get(Ut).run(()=>{rt(10);const m=n instanceof rh;if(!this._injector.get(e_).done)throw new i.buA(405,"");let v;v=m?n:this._injector.get(ks).resolveComponentFactory(n),this.componentTypes.push(v.componentType);const x=function Fw(e){return e.isBoundToModule}(v)?void 0:this._injector.get(Bi),W=v.create(l,[],r||v.selector,x),te=W.location.nativeElement,re=W.injector.get(qv,null);return re?.registerApplication(te),W.onDestroy(()=>{this.detachView(W.hostView),qh(this.components,W),re?.unregisterApplication(te)}),this._loadComponent(W),rt(11,W),W})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){rt(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(vt.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new i.buA(101,!1);const n=(0,z.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,z.Ht)(n),this.afterTick.next(),rt(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ku,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)rt(14),this.synchronizeOnce(),rt(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(r||(0,i.dMS)(l))&&(Lc(l,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,i.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(n),this._injector.get(t_,[]).forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new i.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function r_(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();if(zu(t,n),!i_(0,t))return;const r=t[i.YEL];ba(0,ra(t,n),e(()=>Dl(0,t,n),r))}function o_(e,t){const n=(0,i.OAn)(),r=n[i.YEL],l=(0,i.Mx4)(),m=go(n[i.eDl],l);m.loadingState===We.NOT_STARTED&&ba(1,ra(n,l),e(()=>Cd(m,n,l),r))}function a_(e,t,n){const r=t[i.YEL],l=ra(t,n),c=l[6];ba(2,l,e(()=>Cl(r,c),r))}function Cd(e,t,n){_y(e,t,n)}function _y(e,t,n){const r=t[i.YEL],l=t[i.eDl];if(e.loadingState!==We.NOT_STARTED)return e.loadingPromise??Promise.resolve();const c=ra(t,n),m=function O0(e,t){return(0,i.XRZ)(e,t.primaryTmplIndex+i.Yw1)}(l,e);e.loadingState=We.IN_PROGRESS,xs(1,c);let y=e.dependencyResolverFn;const v=r.get(i.u5s).add();return y?(e.loadingPromise=Promise.allSettled(y()).then(x=>{let L=!1;const W=[],te=[];for(const re of x){if("fulfilled"!==re.status){L=!0;break}{const Ae=re.value,Be=(0,i.xUg)(Ae)||(0,i.HaV)(Ae);if(Be)W.push(Be);else{const gt=(0,i.oyA)(Ae);gt&&te.push(gt)}}}if(L){if(e.loadingState=We.FAILED,null===e.errorTmplIndex){const Ae=new i.buA(-750,!1);Sm(t,Ae)}}else{e.loadingState=We.COMPLETE;const re=m.tView;if(W.length>0){re.directiveRegistry=Sv(re.directiveRegistry,W);const Ae=W.map(gt=>gt.type),Be=(0,i.jXY)(!1,...Ae);e.providers=Be}te.length>0&&(re.pipeRegistry=Sv(re.pipeRegistry,te))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,v()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=We.COMPLETE,v()}),e.loadingPromise)}function i_(e,t){return t[i.YEL].get(V0,null,{optional:!0})?.behavior!==_d.Manual}function Dl(e,t,n){const r=t[i.eDl],l=t[n.index];if(!i_(0,t))return;const c=ra(t,n),m=go(r,n);switch(bd(c),m.loadingState){case We.NOT_STARTED:Is(Ze.Loading,n,l),_y(m,t,n),m.loadingState===We.IN_PROGRESS&&Rv(m,n,l);break;case We.IN_PROGRESS:Is(Ze.Loading,n,l),Rv(m,n,l);break;case We.COMPLETE:Is(Ze.Complete,n,l);break;case We.FAILED:Is(Ze.Error,n,l)}}function Cl(e,t,n){return by.apply(this,arguments)}function by(){return(by=(0,E.A)(function*(e,t,n){const r=e.get(_e);if(r.hydrating.has(t))return;const{parentBlockPromise:c,hydrationQueue:m}=function tc(e,t){const n=t.get(_e),l=t.get(pn).get("__nghDeferData__",{});let c=!1,m=e,y=null;const v=[];for(;!c&&m;){c=n.has(m);const x=n.hydrating.get(m);if(null===y&&null!=x){y=x.promise;break}v.unshift(m),m=l[m].p}return{parentBlockPromise:y,hydrationQueue:v}}(t,e);if(0===m.length)return;null!==c&&m.shift(),function Vw(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}(r,m),null!==c&&(yield c);const y=m[0];r.has(y)?yield s_(e,m,n):r.awaitParentBlock(y,(0,E.A)(function*(){return yield s_(e,m,n)}))})).apply(this,arguments)}function s_(e,t,n){return wy.apply(this,arguments)}function wy(){return(wy=(0,E.A)(function*(e,t,n){const r=e.get(_e),l=r.hydrating,c=e.get(i.rev),m=c.add();for(let v=0;v<t.length;v++){const x=t[v],L=r.get(x);if(null==L){Uw(v,t,r),l_(t.slice(v),r);break}if(yield Hw(L),yield $w(e),Bw(L)){_f(L),l_(t.slice(v),r);break}l.get(x).resolve()}const y=t[t.length-1];yield l.get(y)?.promise,c.remove(m),n&&n(t),function Eu(e,t,n,r){null!==e&&(n.cleanup(t),Ia(e.lContainer),function Xc(e){const t=e._views;for(const n of t){const r=Nn(n);null!==r&&null!==r[i.jgP]&&((0,i.q$2)(r)?Es(r):Ia(r))}}(r))}(r.get(y),t,r,e.get(Gh))})).apply(this,arguments)}function Bw(e){return ra(e.lView,e.tNode)[1]===Ze.Error}function Uw(e,t,n){const r=e-1,l=r>-1?n.get(t[r]):null;l&&Ia(l.lContainer)}function l_(e,t){const n=t.hydrating;for(const r in e)n.get(r)?.reject();t.cleanup(e)}function $w(e){return new Promise(t=>kv(t,{injector:e}))}function Hw(e){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,E.A)(function*(e){const{tNode:t,lView:n}=e,r=ra(n,t);return new Promise(l=>{(function Ww(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(r,l),Dl(0,n,t)})})).apply(this,arguments)}function cr(e,t,n){return 0===e?u_(t,n):2!==e||!u_(t,n)}function u_(e,t){const n=e[i.YEL],r=go(e[i.eDl],t),l=function pi(e){return e.get(M,!1,{optional:!0})}(n),c=function zw(e){return null!=e&&!(1&~e)}(r.flags),y=null!==ra(e,t)[6];return!(c&&y&&l)}function Rs(e,t){const n=go(e,t);return n.hydrateTriggers??=new Map}function ky(e,t,n,r){const l=(0,i.OAn)();return xn(l,(0,i.xbp)(),t)&&((0,i.klJ)(),function Cg(e,t,n,r,l,c){const m=(0,i.d31)(e,t);iu(t[i.GpT],m,c,e.value,n,r,l)}((0,i.CpD)(),l,e,t,n,r)),ky}class b1{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),l=Math.max(t,n),c=this.detach(l);if(l-r>1){const m=this.detach(r);this.attach(r,c),this.attach(l,m)}else this.attach(r,c)}move(t,n){this.attach(n,this.detach(t))}}function Dy(e,t,n,r,l){return e===n&&Object.is(t,r)?1:Object.is(l(e,t),l(n,r))?-1:0}function Cy(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function d_(e,t,n,r,l){if(Cy(e,t,r,n(r,l)))e.updateValue(r,l);else{const c=e.create(r,l);e.attach(r,c)}}function m_(e,t,n,r){const l=new Set;for(let c=t;c<=n;c++)l.add(r(c,e.at(c)));return l}class h_{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(r);)r=l.get(r);l.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(r);)r=l.get(r),t(r,n)}}}function Sy(e,t,n,r,l,c,m,y){fo("NgControlFlow");const v=(0,i.OAn)(),x=(0,i.klJ)();return p(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),512,m,y),Sy}class D1{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-i.Y20}}class A1{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class T1 extends b1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-i.Y20}at(t){return this.getLView(t)[i.SKP].$implicit}attach(t,n){const r=n[i.tcA];this.needsIndexUpdate||=t!==this.length,gs(this.lContainer,n,t,fs(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function I1(e,t){return il(e,t)}(this.lContainer,t)}create(t,n){const l=rl(this.hostLView,this.templateTNode,new D1(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),l}destroy(t){el(t[i.eDl],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[i.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[i.SKP].$index=t}getLView(t){return function R1(e,t){return Om(e,t)}(this.lContainer,t)}}function Qh(e,t){return e[t]}function Ay(e,t){return(0,i.XRZ)(e,t)}function My(e,t,n){const r=(0,i.OAn)();return xn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),xc((0,i.CpD)(),r,e,t,r[i.GpT],n)),My}function Ty(e,t,n,r,l){Am(t,e,n,l?"class":"style",r)}function Xh(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?Co(m,l,2,t,Rc,(0,i.ckz)(),n,r):c.data[m];if(Oc(y,l,e,t,Ry),(0,i.yoD)(y)){const v=l[i.eDl];Ac(v,l,y),es(v,y,l)}return null!=r&&nl(l,y),Xh}function Yh(){const e=(0,i.klJ)(),n=su((0,i.Mx4)());return e.firstCreatePass&&ii(e,n),(0,i.UhH)(n)&&(0,i.krE)(),(0,i.N79)(),null!=n.classesWithoutHost&&function un(e){return!!(8&e.flags)}(n)&&Ty(e,n,(0,i.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Bn(e){return!!(16&e.flags)}(n)&&Ty(e,n,(0,i.OAn)(),n.stylesWithoutHost,!1),Yh}function xy(e,t,n,r){return Xh(e,t,n,r),Yh(),xy}function Jh(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],m=e+i.Yw1,y=c.firstCreatePass?fh(m,c,2,t,n,r):c.data[m];return Oc(y,l,e,t,Ry),null!=r&&nl(l,y),Jh}function Zh(){const t=su((0,i.Mx4)());return(0,i.UhH)(t)&&(0,i.krE)(),(0,i.N79)(),Zh}function Iy(e,t,n,r){return Jh(e,t,n,r),Zh(),Iy}let Ry=(e,t,n,r,l)=>((0,i.m7n)(!0),eu(t[i.GpT],r,(0,i.UaU)()));function ep(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?Co(c,r,8,"ng-container",Rc,(0,i.ckz)(),t,n):l.data[c];if(Oc(m,r,e,"ng-container",Py),(0,i.yoD)(m)){const y=r[i.eDl];Ac(y,r,m),es(y,m,r)}return null!=n&&nl(r,m),ep}function Sd(){const e=(0,i.klJ)(),n=su((0,i.Mx4)());return e.firstCreatePass&&ii(e,n),Sd}function Oy(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,m=l.firstCreatePass?fh(c,l,8,"ng-container",t,n):l.data[c];return Oc(m,r,e,"ng-container",Py),null!=n&&nl(r,m),Oy}function f_(){return su((0,i.Mx4)()),Sd}let Py=(e,t,n,r,l)=>((0,i.m7n)(!0),_c(t[i.GpT],""));function g_(){return(0,i.OAn)()}const Sl=void 0;var L1=["en",[["a","p"],["AM","PM"],Sl],[["AM","PM"],Sl,Sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sl,"{1} 'at' {0}",Sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function N1(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Gu={};function Ny(e){const t=function F1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=w_(t);if(n)return n;const r=t.split("-")[0];if(n=w_(r),n)return n;if("en"===r)return L1;throw new i.buA(701,!1)}function b_(e){return Ny(e)[qu.PluralCase]}function w_(e){return e in Gu||(Gu[e]=i.laP.ng&&i.laP.ng.common&&i.laP.ng.common.locales&&i.laP.ng.common.locales[e]),Gu[e]}var qu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(qu||{});const j1=["zero","one","two","few","many"],Ly="en-US",tp={marker:"element"},np={marker:"ICU"};var aa=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(aa||{});let E_=Ly;function V1(e){"string"==typeof e&&(E_=e.toLowerCase().replace(/_/g,"-"))}let Ad=0,Md=0;let Td=(e,t,n,r)=>((0,i.m7n)(!0),function k_(e,t,n){const r=e[i.GpT];switch(n){case Node.COMMENT_NODE:return _c(r,t);case Node.TEXT_NODE:return vc(r,t);case Node.ELEMENT_NODE:return eu(r,t,null)}}(e,n,r));function D_(e,t,n,r){const l=n[i.GpT];let m,c=null;for(let y=0;y<t.length;y++){const v=t[y];if("string"==typeof v){const x=t[++y];null===n[x]&&(n[x]=Td(n,0,v,Node.TEXT_NODE))}else if("number"==typeof v)switch(1&v){case 0:const x=Vm(v);let L,W;if(null===c&&(c=x,m=l.parentNode(r)),x===c?(L=r,W=m):(L=null,W=(0,i.IvY)(n[x])),null!==W){const Be=Hc(v);Ta(l,W,n[Be],L,!1);const mt=dl(e,Be);if(null!==mt&&"object"==typeof mt){const qe=ml(mt,n);null!==qe&&D_(e,mt.create[qe],n,n[mt.anchorIdx])}}break;case 1:const re=t[++y],Ae=t[++y];iu(l,(0,i.vaC)(v>>>1,n),null,null,re,Ae,null)}else switch(v){case np:const x=t[++y],L=t[++y];null===n[L]&&se(n[L]=Td(n,0,x,Node.COMMENT_NODE),n);break;case tp:const W=t[++y],te=t[++y];null===n[te]&&se(n[te]=Td(n,0,W,Node.ELEMENT_NODE),n)}}}function C_(e,t,n,r,l){for(let c=0;c<n.length;c++){const m=n[c],y=n[++c];if(m&l){let v="";for(let x=c+1;x<=c+y;x++){const L=n[x];if("string"==typeof L)v+=L;else if("number"==typeof L)if(L<0)v+=(0,i.eFE)(t[r-L]);else{const W=L>>>2;switch(3&L){case 1:const te=n[++x],re=n[++x],Ae=e.data[W];"string"==typeof Ae?iu(t[i.GpT],t[W],null,Ae,te,v,re):xc(Ae,t,te,v,t[i.GpT],re);break;case 0:const Be=t[W];null!==Be&&am(t[i.GpT],Be,v);break;case 2:G1(e,dl(e,W),t,v);break;case 3:S_(e,dl(e,W),r,t)}}}}else{const v=n[c+1];if(v>0&&!(3&~v)){const L=dl(e,v>>>2);t[L.currentCaseLViewIndex]<0&&S_(e,L,r,t)}}c+=y}}function S_(e,t,n,r){let l=r[t.currentCaseLViewIndex];if(null!==l){let c=Ad;l<0&&(l=r[t.currentCaseLViewIndex]=~l,c=-1),C_(e,r,t.update[l],n,c)}}function G1(e,t,n,r){const l=function q1(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function B1(e,t){const n=b_(t)(parseInt(e,10)),r=j1[n];return void 0!==r?r:"other"}(t,function $1(){return E_}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(ml(t,n)!==l&&(A_(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const m=n[t.anchorIdx];m&&D_(e,t.create[l],n,m)}}function A_(e,t,n){let r=ml(t,n);if(null!==r){const l=t.remove[r];for(let c=0;c<l.length;c++){const m=l[c];if(m>0){const y=(0,i.vaC)(m,n);null!==y&&Ys(n[i.GpT],y)}else A_(e,dl(e,~m),n)}}}const rp=/\ufffd(\d+):?\d*\ufffd/gi,Q1=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,X1=/\ufffd(\d+)\ufffd/,T_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Y1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,J1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Z1=/\uE500/g;function x_(e,t,n,r,l,c,m){const y=cs(e,r,1,null);let v=y<<aa.SHIFT,x=(0,i.Ab)();t===x&&(x=null),null===x&&(v|=aa.APPEND_EAGERLY),m&&(v|=aa.COMMENT,function mm(e){void 0===hs&&(hs=e())}(Wm)),l.push(v,null===c?"":c);const L=cl(e,y,m?32:1,null===c?"":c,null);jm(n,L);const W=L.index;return(0,i.iMd)(L,!1),null!==x&&t!==x&&function sf(e,t){let n=e.insertBeforeIndex;null===n?(bm($c,mu),n=e.insertBeforeIndex=[null,t]):((0,i.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(x,W),L}function nE(e,t,n,r,l,c,m,y){const v=y.match(rp),L=x_(t,n,r,m,l,v?null:y,!1).index;v&&Id(c,y,L,null,0,null),e.push({kind:0,index:L})}function Id(e,t,n,r,l,c){const m=e.length,y=m+1;e.push(null,null);const v=m+2,x=t.split(rp);let L=0;for(let W=0;W<x.length;W++){const te=x[W];if(1&W){const re=l+parseInt(te,10);e.push(-1-re),L|=I_(re)}else""!==te&&e.push(te)}return e.push(n<<2|(r?1:0)),r&&e.push(r,c),e[m]=L,e[y]=e.length-v,L}function oE(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function I_(e){return 1<<Math.min(e,31)}function R_(e){let t,c,n="",r=0,l=!1;for(;null!==(t=Y1.exec(e));)l?t[0]===`\ufffd/*${c}\ufffd`&&(r=t.index,l=!1):(n+=e.substring(r,t.index+t[0].length),c=t[1],l=!0);return n+=e.slice(r),n}function O_(e,t,n,r,l,c,m){let y=0;const v={type:c.type,currentCaseLViewIndex:cs(t,n,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function uE(e,t,n){e.push(I_(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(r,c,m),function zg(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(t,m,v);const x=c.values,L=[];for(let W=0;W<x.length;W++){const te=x[W],re=[];for(let Be=0;Be<te.length;Be++){const gt=te[Be];if("string"!=typeof gt){const mt=re.push(gt)-1;te[Be]=`\x3c!--\ufffd${mt}\ufffd--\x3e`}}const Ae=[];L.push(Ae),y=sE(Ae,t,v,n,r,l,c.cases[W],te.join(""),re)|y}y&&function cE(e,t,n){e.push(t,1,n<<2|3)}(r,y,m),e.push({kind:3,index:m,cases:L,currentCaseLViewIndex:v.currentCaseLViewIndex})}function iE(e){const t=[],n=[];let r=1,l=0;const c=Fy(e=e.replace(T_,function(m,y,v){return r="select"===v?0:1,l=parseInt(y.slice(1),10),""}));for(let m=0;m<c.length;){let y=c[m++].trim();1===r&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&t.push(y);const v=Fy(c[m++]);t.length>n.length&&n.push(v)}return{type:r,mainBinding:l,cases:t,values:n}}function Fy(e){if(!e)return[];let t=0;const n=[],r=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(e);){const y=c.index;if("}"==c[0]){if(n.pop(),0==n.length){const v=e.substring(t,y);T_.test(v)?r.push(iE(v)):r.push(v),t=y+1}}else{if(0==n.length){const v=e.substring(t,y);r.push(v),t=y+1}n.push("{")}}const m=e.substring(t);return r.push(m),r}function sE(e,t,n,r,l,c,m,y,v){const x=[],L=[],W=[];n.cases.push(m),n.create.push(x),n.remove.push(L),n.update.push(W);const re=as(he()).getInertBodyElement(y),Ae=be(re)||re;return Ae?P_(e,t,n,r,l,x,L,W,Ae,c,v,0):0}function P_(e,t,n,r,l,c,m,y,v,x,L,W){let te=0,re=v.firstChild;for(;re;){const Ae=cs(t,r,1,null);switch(re.nodeType){case Node.ELEMENT_NODE:const Be=re,gt=Be.tagName.toLowerCase();if(zl.hasOwnProperty(gt)){jy(c,tp,gt,x,Ae),t.data[Ae]=gt;const Mo=Be.attributes;for(let dg=0;dg<Mo.length;dg++){const Tl=Mo.item(dg),g0=Tl.name.toLowerCase();Tl.value.match(rp)?Kl.hasOwnProperty(g0)&&Id(y,Tl.value,Ae,Tl.name,0,is[g0]?bi:null):dE(c,Ae,Tl)}const Fn={kind:1,index:Ae,children:[]};e.push(Fn),te=P_(Fn.children,t,n,r,l,c,m,y,re,Ae,L,W+1)|te,N_(m,Ae,W)}break;case Node.TEXT_NODE:const mt=re.textContent||"",qe=mt.match(rp);jy(c,null,qe?"":mt,x,Ae),N_(m,Ae,W),qe&&(te=Id(y,mt,Ae,null,0,null)|te),e.push({kind:0,index:Ae});break;case Node.COMMENT_NODE:const bn=X1.exec(re.textContent||"");if(bn){const Fn=L[parseInt(bn[1],10)];jy(c,np,"",x,Ae),O_(e,t,r,l,x,Fn,Ae),lE(m,Ae,W)}}re=re.nextSibling}return te}function N_(e,t,n){0===n&&e.push(t)}function lE(e,t,n){0===n&&(e.push(~t),e.push(t))}function jy(e,t,n,r,l){null!==t&&e.push(t),e.push(n,l,function Hm(e,t,n){return e|t<<17|n<<1}(0,r,l))}function dE(e,t,n){e.push(t<<1|1,n.name,n.value)}const mE=/\[(\ufffd.+?\ufffd?)\]/,hE=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,pE=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fE=/{([A-Z0-9_]+)}/g,yE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gE=/\/\*/,vE=/\d+\:(\d+)/;function F_(e,t,n=-1){const r=(0,i.klJ)(),l=(0,i.OAn)(),c=i.Yw1+e,m=(0,i.db4)(r.consts,t),y=(0,i.Ab)();r.firstCreatePass&&function tE(e,t,n,r,l,c){const m=(0,i.Ab)(),y=[],v=[],x=[[]],L=[[]];l=function aE(e,t){if(function pu(e){return-1===e}(t))return R_(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return R_(e.substring(n,r))}}(l,c);const W=function eE(e){return e.replace(Z1," ")}(l).split(J1);for(let te=0;te<W.length;te++){let re=W[te];if(1&te){const Ae=47===re.charCodeAt(0),Be=re.charCodeAt(Ae?1:0),gt=i.Yw1+Number.parseInt(re.substring(Ae?2:1));if(Ae)x.shift(),L.shift(),(0,i.iMd)((0,i.Ab)(),!1);else{const mt=Um(e,x[0],gt);x.unshift([]),(0,i.iMd)(mt,!0);const qe={kind:2,index:gt,children:[],type:35===Be?0:1};L[0].push(qe),L.unshift(qe.children)}}else{const Ae=Fy(re);for(let Be=0;Be<Ae.length;Be++){let gt=Ae[Be];if(1&Be){const mt=gt;if("object"!=typeof mt)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const bn=x_(e,m,x[0],n,y,"",!0).index;O_(L[0],e,n,v,t,mt,bn)}else""!==gt&&nE(L[0],e,m,x[0],y,v,n,gt)}}}e.data[r]={create:y,update:v,ast:L[0],parentTNodeIndex:t}}(r,null===y?0:y.index,l,c,m,n),2===r.type?l[i.b5C][i.Wg1]|=32:l[i.Wg1]|=32;const v=r.data[c],L=ym(r,y===l[i.qlT]?null:y,l);(function K1(e,t,n,r){const l=e[i.GpT];for(let c=0;c<t.length;c++){const m=t[c++],x=(m&aa.APPEND_EAGERLY)===aa.APPEND_EAGERLY,L=m>>>aa.SHIFT;let W=e[L],te=!1;null===W&&(W=e[L]=Td(e,0,t[c],(m&aa.COMMENT)===aa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),te=(0,i.SX7)()),x&&null!==n&&te&&Ta(l,n,W,r,!1)}})(l,v.create,L,y&&8&y.type?l[y.index]:null),(0,i.xyx)(!0)}function j_(){(0,i.xyx)(!1)}function By(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return Vy(l,r,r[i.GpT],c,e,t,n),By}function Uy(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return(3&c.type||n)&&bl(c,l,r,n,r[i.GpT],e,t,Mu(c,r,t)),Uy}function Vy(e,t,n,r,l,c,m){let y=!0,v=null;if((3&r.type||m)&&(v??=Mu(r,t,c),bl(r,e,t,m,n,l,c,v)&&(y=!1)),y){const x=r.outputs?.[l],L=r.hostDirectiveOutputs?.[l];if(L&&L.length)for(let W=0;W<L.length;W+=2){const te=L[W],re=L[W+1];v??=Mu(r,t,c),Tu(r,t,te,re,l,v)}if(x&&x.length)for(const W of x)v??=Mu(r,t,c),Tu(r,t,W,l,l,v)}}function V_(e=1){return(0,i.jvu)(e)}function DE(e,t){let n=null;const r=function wp(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const c=t[l];if("*"!==c){if(null===r?ki(e,c,!0):Dp(r,c))return l}else n=l}return n}function $_(e,t,n,r){Lu(e,t,n,r)}function H_(e,t,n){ud(e,t,n)}function W_(e){const t=(0,i.OAn)(),n=(0,i.klJ)(),r=(0,i.w7Z)();(0,i.GA0)(r+1);const l=cd(n,r);if(e.dirty&&(0,i.vOT)(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const c=dd(t,r);e.reset(c,wo),e.notifyOnChanges()}return!0}return!1}function z_(){return sd((0,i.OAn)(),(0,i.w7Z)())}function K_(e){const t=(0,i.VPL)();return(0,i.Hh6)(t,i.Yw1+e)}function op(e,t){return e<<17|t<<2}function Al(e){return e>>17&32767}function $y(e){return 2|e}function Qu(e){return(131068&e)>>2}function Hy(e,t){return-131069&e|t<<2}function Wy(e){return 1|e}function G_(e,t,n,r){const l=e[n+1],c=null===t;let m=r?Al(l):Qu(l),y=!1;for(;0!==m&&(!1===y||c);){const x=e[m+1];LE(e[m],t)&&(y=!0,e[m+1]=r?Wy(x):$y(x)),m=r?Al(x):Qu(x)}y&&(e[n+1]=r?$y(l):Wy(l))}function LE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,i.FRF)(e,t)>=0}const Yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q_(e){return e.substring(Yr.key,Yr.keyEnd)}function FE(e){return e.substring(Yr.value,Yr.valueEnd)}function Q_(e,t){const n=Yr.textEnd;return n===t?-1:(t=Yr.keyEnd=function UE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Yr.key=t,n),Xu(e,t,n))}function X_(e,t){const n=Yr.textEnd;let r=Yr.key=Xu(e,t,n);return n===r?-1:(r=Yr.keyEnd=function VE(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=J_(e,r,n),r=Yr.value=Xu(e,r,n),r=Yr.valueEnd=function $E(e,t,n){let r=-1,l=-1,c=-1,m=t,y=m;for(;m<n;){const v=e.charCodeAt(m++);if(59===v)return y;34===v||39===v?y=m=Z_(e,v,m,n):t===m-4&&85===c&&82===l&&76===r&&40===v?y=m=Z_(e,41,m,n):v>32&&(y=m),c=l,l=r,r=-33&v}return y}(e,r,n),J_(e,r,n))}function Y_(e){Yr.key=0,Yr.keyEnd=0,Yr.value=0,Yr.valueEnd=0,Yr.textEnd=e.length}function Xu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function J_(e,t,n,r){return(t=Xu(e,t,n))<n&&t++,t}function Z_(e,t,n,r){let l=-1,c=n;for(;c<r;){const m=e.charCodeAt(c++);if(m==t&&92!==l)return c;l=92==m&&92===l?0:m}throw new Error}function zy(e,t,n){return tb(e,t,n,!1),zy}function Ky(e,t){return tb(e,t,null,!0),Ky}function WE(e,t){for(let n=function BE(e){return Y_(e),X_(e,Xu(e,0,Yr.textEnd))}(t);n>=0;n=X_(t,n))ab(e,q_(t),FE(t))}function eb(e){nb(YE,zE,e,!0)}function zE(e,t){for(let n=function jE(e){return Y_(e),Q_(e,Xu(e,0,Yr.textEnd))}(t);n>=0;n=Q_(t,n))(0,i.ezK)(e,q_(t),!0)}function tb(e,t,n,r){const l=(0,i.OAn)(),c=(0,i.klJ)(),m=(0,i.b$O)(2);c.firstUpdatePass&&ob(c,e,m,r),t!==fn&&xn(l,m,t)&&ib(c,c.data[(0,i._px)()],l,l[i.GpT],e,l[m+1]=function ZE(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,i.AsM)(ta(e)))),e}(t,n),r,m)}function nb(e,t,n,r){const l=(0,i.klJ)(),c=(0,i.b$O)(2);l.firstUpdatePass&&ob(l,null,c,r);const m=(0,i.OAn)();if(n!==fn&&xn(m,c,n)){const y=l.data[(0,i._px)()];if(lb(y,r)&&!rb(l,c)){let v=r?y.classesWithoutHost:y.stylesWithoutHost;null!==v&&(n=(0,i.n$e)(v,n||"")),Ty(l,y,m,n,r)}else!function JE(e,t,n,r,l,c,m,y){l===fn&&(l=i.Mlv);let v=0,x=0,L=0<l.length?l[0]:null,W=0<c.length?c[0]:null;for(;null!==L||null!==W;){const te=v<l.length?l[v+1]:void 0,re=x<c.length?c[x+1]:void 0;let Be,Ae=null;L===W?(v+=2,x+=2,te!==re&&(Ae=W,Be=re)):null===W||null!==L&&L<W?(v+=2,Ae=L):(x+=2,Ae=W,Be=re),null!==Ae&&ib(e,t,n,r,Ae,Be,m,y),L=v<l.length?l[v]:null,W=x<c.length?c[x]:null}}(l,y,m,m[i.GpT],m[c+1],m[c+1]=function XE(e,t,n){if(null==n||""===n)return i.Mlv;const r=[],l=ta(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)e(r,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&e(r,c,l[c]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,c)}}function rb(e,t){return t>=e.expandoStartIndex}function ob(e,t,n,r){const l=e.data;if(null===l[n+1]){const c=l[(0,i._px)()],m=rb(e,n);lb(c,r)&&null===t&&!m&&(t=!1),t=function KE(e,t,n,r){const l=(0,i.MT)(e);let c=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=Rd(n=Gy(null,e,t,n,r),t.attrs,r),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==l)if(n=Gy(l,e,t,n,r),null===c){let v=function GE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Qu(r))return e[Al(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Gy(null,e,t,v[1],r),v=Rd(v,t.attrs,r),function qE(e,t,n,r){e[Al(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else c=function QE(e,t,n){let r;const l=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<l;c++)r=Rd(r,e[c].hostAttrs,n);return Rd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(l,c,t,r),function PE(e,t,n,r,l,c){let m=c?t.classBindings:t.styleBindings,y=Al(m),v=Qu(m);e[r]=n;let L,x=!1;if(Array.isArray(n)?(L=n[1],(null===L||(0,i.FRF)(n,L)>0)&&(x=!0)):L=n,l)if(0!==v){const te=Al(e[y+1]);e[r+1]=op(te,y),0!==te&&(e[te+1]=Hy(e[te+1],r)),e[y+1]=function RE(e,t){return 131071&e|t<<17}(e[y+1],r)}else e[r+1]=op(y,0),0!==y&&(e[y+1]=Hy(e[y+1],r)),y=r;else e[r+1]=op(v,0),0===y?y=r:e[v+1]=Hy(e[v+1],r),v=r;x&&(e[r+1]=$y(e[r+1])),G_(e,L,r,!0),G_(e,L,r,!1),function NE(e,t,n,r,l){const c=l?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&(0,i.FRF)(c,t)>=0&&(n[r+1]=Wy(n[r+1]))}(t,L,e,r,c),m=op(y,v),c?t.classBindings=m:t.styleBindings=m}(l,c,t,n,m,r)}}function Gy(e,t,n,r,l){let c=null;const m=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<m&&(c=t[y],r=Rd(r,c.hostAttrs,l),c!==e);)y++;return null!==e&&(n.directiveStylingLast=y),r}function Rd(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?l=m:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,i.ezK)(e,m,!!n||t[++c]))}return void 0===e?null:e}function ab(e,t,n){(0,i.ezK)(e,t,ta(n))}function YE(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&(0,i.ezK)(e,r,n)}function ib(e,t,n,r,l,c,m,y){if(!(3&t.type))return;const v=e.data,x=v[y+1],L=function OE(e){return!(1&~e)}(x)?sb(v,t,n,l,Qu(x),m):void 0;ap(L)||(ap(c)||function IE(e){return!(2&~e)}(x)&&(c=sb(v,null,n,l,y,m)),function Pp(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:nu.DashCase;null==l?e.removeStyle(n,r,c):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=nu.Important),e.setStyle(n,r,l,c))}}(r,m,(0,i.vaC)((0,i._px)(),n),l,c))}function sb(e,t,n,r,l,c){const m=null===t;let y;for(;l>0;){const v=e[l],x=Array.isArray(v),L=x?v[1]:v,W=null===L;let te=n[l+1];te===fn&&(te=W?i.Mlv:void 0);let re=W?(0,i.K7h)(te,r):L===r?te:void 0;if(x&&!ap(re)&&(re=(0,i.K7h)(v,r)),ap(re)&&(y=re,m))return y;const Ae=e[l+1];l=m?Al(Ae):Qu(Ae)}if(null!==t){let v=c?t.residualClasses:t.residualStyles;null!=v&&(y=(0,i.K7h)(v,r))}return y}function ap(e){return void 0!==e}function lb(e,t){return!!(e.flags&(t?8:16))}function ub(e,t=""){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=e+i.Yw1,c=r.firstCreatePass?Ha(r,l,1,t,null):r.data[l],m=cb(r,n,c,t,e);n[l]=m,(0,i.SX7)()&&Cc(r,n,m,c),(0,i.iMd)(c,!1)}let cb=(e,t,n,r,l)=>((0,i.m7n)(!0),vc(t[i.GpT],r));function db(e,t){let n=!1,r=(0,i.c$7)();for(let c=1;c<t.length;c+=2)n=xn(e,r++,t[c])||n;if((0,i.Kw3)(r),!n)return fn;let l=t[0];for(let c=1;c<t.length;c+=2)l+=(0,i.eFE)(t[c])+(c+1!==t.length?t[c+1]:"");return l}function mb(e,t,n,r=""){return xn(e,(0,i.xbp)(),n)?t+(0,i.eFE)(n)+r:fn}function hb(e,t,n,r,l,c=""){const y=Oi(e,(0,i.c$7)(),n,l);return(0,i.b$O)(2),y?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c:fn}function pb(e,t,n,r,l,c,m,y=""){const x=_l(e,(0,i.c$7)(),n,l,m);return(0,i.b$O)(3),x?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y:fn}function fb(e,t,n,r,l,c,m,y,v,x=""){const W=Ko(e,(0,i.c$7)(),n,l,m,v);return(0,i.b$O)(4),W?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x:fn}function yb(e,t,n,r,l,c,m,y,v,x,L,W=""){const te=(0,i.c$7)();let re=Ko(e,te,n,l,m,v);return re=xn(e,te+4,L)||re,(0,i.b$O)(5),re?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W:fn}function gb(e,t,n,r,l,c,m,y,v,x,L,W,te,re=""){const Ae=(0,i.c$7)();let Be=Ko(e,Ae,n,l,m,v);return Be=Oi(e,Ae+4,L,te)||Be,(0,i.b$O)(6),Be?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(te)+re:fn}function vb(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be=""){const gt=(0,i.c$7)();let mt=Ko(e,gt,n,l,m,v);return mt=_l(e,gt+4,L,te,Ae)||mt,(0,i.b$O)(7),mt?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(te)+re+(0,i.eFE)(Ae)+Be:fn}function _b(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be,gt,mt=""){const qe=(0,i.c$7)();let bn=Ko(e,qe,n,l,m,v);return bn=Ko(e,qe+4,L,te,Ae,gt)||bn,(0,i.b$O)(8),bn?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(m)+y+(0,i.eFE)(v)+x+(0,i.eFE)(L)+W+(0,i.eFE)(te)+re+(0,i.eFE)(Ae)+Be+(0,i.eFE)(gt)+mt:fn}function qy(e){return ip("",e),qy}function ip(e,t,n){const r=(0,i.OAn)(),l=mb(r,e,t,n);return l!==fn&&Hi(r,(0,i._px)(),l),ip}function Qy(e,t,n,r,l){const c=(0,i.OAn)(),m=hb(c,e,t,n,r,l);return m!==fn&&Hi(c,(0,i._px)(),m),Qy}function Hi(e,t,n){const r=(0,i.vaC)(t,e);am(e[i.GpT],r,n)}function Xy(e,t,n){(0,i.n$r)(t)&&(t=t());const r=(0,i.OAn)();return xn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),xc((0,i.CpD)(),r,e,t,r[i.GpT],n)),Xy}function Ab(e,t){const n=(0,i.n$r)(e);return n&&e.set(t),n}function Yy(e,t){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=(0,i.Mx4)();return Vy(r,n,n[i.GpT],l,e,t),Yy}const Mb={};function Jy(e,t,n,r,l){if(e=(0,i.nl4)(e),Array.isArray(e))for(let c=0;c<e.length;c++)Jy(e[c],t,n,r,l);else{const c=(0,i.klJ)(),m=(0,i.OAn)(),y=(0,i.Mx4)();let v=(0,i.Y3W)(e)?e:(0,i.nl4)(e.provide);const x=(0,i.Rc9)(e),L=1048575&y.providerIndexes,W=y.directiveStart,te=y.providerIndexes>>20;if((0,i.Y3W)(e)||!e.multi){const re=new Wt(x,l,Ss,null),Ae=eg(v,t,l?L:L+te,W);-1===Ae?(Cr(Dr(y,m),c,v),Zy(c,e,t.length),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(re),m.push(re)):(n[Ae]=re,m[Ae]=re)}else{const re=eg(v,t,L+te,W),Ae=eg(v,t,L,L+te),gt=Ae>=0&&n[Ae];if(l&&!gt||!l&&!(re>=0&&n[re])){Cr(Dr(y,m),c,v);const mt=function gk(e,t,n,r,l){const m=new Wt(e,n,Ss,null);return m.multi=[],m.index=t,m.componentProviders=0,xb(m,l,r&&!n),m}(l?yk:fk,n.length,l,r,x);!l&&gt&&(n[Ae].providerFactory=mt),Zy(c,e,t.length,0),t.push(v),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),n.push(mt),m.push(mt)}else Zy(c,e,re>-1?re:Ae,xb(n[l?Ae:re],x,!l&&r));!l&&r&&gt&&n[Ae].componentProviders++}}}function Zy(e,t,n,r){const l=(0,i.Y3W)(t),c=(0,i.MME)(t);if(l||c){const v=(c?(0,i.nl4)(t.useClass):t).prototype.ngOnDestroy;if(v){const x=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const L=x.indexOf(n);-1===L?x.push(n,[r,v]):x[L+1].push(r,v)}else x.push(n,v)}}}function xb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eg(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function fk(e,t,n,r,l){return tg(this.multi,[])}function yk(e,t,n,r,l){const c=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=zr(r,r[i.eDl],this.providerFactory.index,l);m=v.slice(0,y),tg(c,m);for(let x=y;x<v.length;x++)m.push(v[x])}else m=[],tg(c,m);return m}function tg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ib(e,t=[]){return n=>{n.providersResolver=(r,l)=>function pk(e,t,n){const r=(0,i.klJ)();if(r.firstCreatePass){const l=(0,i.JlV)(e);Jy(n,r.data,r.blueprint,l,!0),Jy(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}function sp(e){if("function"==typeof e)return e;const t=(0,i.Bqz)(e);return t.some(i.Jzi)?()=>t.map(i.nl4).map(Rb):t.map(Rb)}function Rb(e){return Jc(e)?e.ngModule:e}function Ob(e,t,n,r,l){return Lb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l)}function Pb(e,t,n,r,l,c){return Fb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c)}function Od(e,t){const n=e[t];return n===fn?void 0:n}function Nb(e,t,n,r,l,c){const m=t+n;return xn(e,m,l)?Ra(e,m+1,c?r.call(c,l):r(l)):Od(e,m+1)}function Lb(e,t,n,r,l,c,m){const y=t+n;return Oi(e,y,l,c)?Ra(e,y+2,m?r.call(m,l,c):r(l,c)):Od(e,y+2)}function Fb(e,t,n,r,l,c,m,y){const v=t+n;return _l(e,v,l,c,m)?Ra(e,v+3,y?r.call(y,l,c,m):r(l,c,m)):Od(e,v+3)}function jb(e,t,n,r,l,c,m,y,v){const x=t+n;return Ko(e,x,l,c,m,y)?Ra(e,x+4,v?r.call(v,l,c,m,y):r(l,c,m,y)):Od(e,x+4)}function Bb(e,t,n,r,l,c){let m=t+n,y=!1;for(let v=0;v<l.length;v++)xn(e,m++,l[v])&&(y=!0);return y?Ra(e,m,r.apply(c,l)):Od(e,m)}function Ub(e,t){const n=(0,i.klJ)();let r;const l=e+i.Yw1;n.firstCreatePass?(r=function Tk(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[l]=r,r.onDestroy&&(n.destroyHooks??=[]).push(l,r.onDestroy)):r=n.data[l];const c=r.factory||(r.factory=(0,i.wGu)(r.type,!0)),y=(0,i.a2B)(Ss);try{const v=Yn(!1),x=c();return Yn(v),(0,i.M_e)(n,(0,i.OAn)(),l,x),x}finally{(0,i.a2B)(y)}}function Vb(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Pd(l,r)?Nb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform(n)}function $b(e,t,n,r){const l=e+i.Yw1,c=(0,i.OAn)(),m=(0,i.Hh6)(c,l);return Pd(c,l)?Lb(c,(0,i.gxQ)(),t,m.transform,n,r,m):m.transform(n,r)}function Pd(e,t){return e[i.eDl].data[t].pure}function Hb(e,t){return cu(e,t)}function lp(e,t,n,r,l){const c=l[i.eDl];if(c!==r.tView)for(let m=i.Yw1;m<c.bindingStartIndex;m++){const y=l[m];if((0,i.A0l)(y)){(0,i.q$2)(y[i.jgP])&&lp(e,t,n,r,y[i.jgP]);for(let v=i.Y20;v<y.length;v++)lp(e,t,n,r,y[v])}else(0,i.q$2)(y)&&lp(e,t,n,r,y)}else!function Bk(e,t,n,r,l){const c=l[i.SKP];let m=l[i.jgP];const y=l[i.f7T],v=l[i.qlT],x=l[i.YEL].get(Ut,null),L=()=>{if(r.encapsulation===fa.ShadowDom){const Ae=m.cloneNode(!1);m.replaceWith(Ae),m=Ae}const W=bc(n),te=Js(y,W,c,wc(n),m,v,null,null,null,null,null);(function Uk(e,t,n,r){for(let l=i.Yw1;l<e[i.eDl].bindingStartIndex;l++){const c=e[l];if(((0,i.q$2)(c)||(0,i.A0l)(c))&&c[i.K29]===t){c[i.K29]=n;break}}e[i.EJG]===t&&(e[i.EJG]=n),e[i.Yrj]===t&&(e[i.Yrj]=n),n[i.K29]=t[i.K29],t[i.K29]=null,e[r]=n})(y,l,te,v.index),el(l[i.eDl],l);const re=l[i.M0L].rendererFactory;(function jk(e,t){e.componentReplaced?.(t.id)})(re,r),te[i.GpT]=re.createRenderer(m,n),hm(l[i.eDl],l),function Vk(e){if(null!==e.projection){for(const t of e.projection)jn(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(v),Pc(W,te,c),Gp(W,te,W.template,c)};null===x?Wb(e,t,L):x.run(()=>Wb(e,t,L))}(e,t,n,r,l)}function Wb(e,t,n){try{n()}catch(r){if(null!==t&&r.message){const c=r.message+(r.stack?"\n"+r.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:c,error:!0})}throw r}}const Os={\u0275\u0275attribute:ky,\u0275\u0275defineComponent:Nh,\u0275\u0275defineDirective:ey,\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275defineNgModule:fd,\u0275\u0275definePipe:ty,\u0275\u0275directiveInject:Ss,\u0275\u0275getInheritedFactory:uo,\u0275\u0275inject:i.KVO,\u0275\u0275injectAttribute:Oo,\u0275\u0275invalidFactory:function lh(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:i.dmw,\u0275\u0275templateRefExtractor:Hb,\u0275\u0275resetView:i.Njj,\u0275\u0275HostDirectivesFeature:function Bh(e){const t=n=>{const r=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=ly,n.hostDirectives=r?e.map(Vh):[e]):r?n.hostDirectives.unshift(...e.map(Vh)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:ar,\u0275\u0275ProvidersFeature:Ib,\u0275\u0275CopyDefinitionFeature:function sy(e){let n,t=Lh(e.type);n=(0,i.JlV)(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const l of iy)r[l]=n[l];if((0,i.JlV)(n))for(const l of jh)r[l]=n[l]},\u0275\u0275InheritDefinitionFeature:gd,\u0275\u0275ExternalStylesFeature:function vk(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(l=>l+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:V_,\u0275\u0275namespaceHTML:i.joV,\u0275\u0275namespaceMathML:i.By9,\u0275\u0275namespaceSVG:i.qSk,\u0275\u0275enableBindings:i.cSN,\u0275\u0275disableBindings:i.fuf,\u0275\u0275elementStart:Xh,\u0275\u0275elementEnd:Yh,\u0275\u0275element:xy,\u0275\u0275elementContainerStart:ep,\u0275\u0275elementContainerEnd:Sd,\u0275\u0275domElement:Iy,\u0275\u0275domElementStart:Jh,\u0275\u0275domElementEnd:Zh,\u0275\u0275domElementContainer:function y_(e,t,n){return Oy(e,t,n),f_(),y_},\u0275\u0275domElementContainerStart:Oy,\u0275\u0275domElementContainerEnd:f_,\u0275\u0275domTemplate:function I(e,t,n,r,l,c,m,y){const v=(0,i.OAn)(),x=(0,i.klJ)();return p(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),void 0,m,y),I},\u0275\u0275domListener:Uy,\u0275\u0275elementContainer:function p_(e,t,n){return ep(e,t,n),Sd(),p_},\u0275\u0275pureFunction0:function wk(e,t,n){const r=(0,i.gxQ)()+e,l=(0,i.OAn)();return l[r]===fn?Ra(l,r,n?t.call(n):t()):vl(l,r)},\u0275\u0275pureFunction1:function Ek(e,t,n,r){return Nb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275pureFunction2:Ob,\u0275\u0275pureFunction3:Pb,\u0275\u0275pureFunction4:function kk(e,t,n,r,l,c,m){return jb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c,m)},\u0275\u0275pureFunction5:function Dk(e,t,n,r,l,c,m,y){const v=(0,i.gxQ)()+e,x=(0,i.OAn)(),L=Ko(x,v,n,r,l,c);return xn(x,v+4,m)||L?Ra(x,v+5,y?t.call(y,n,r,l,c,m):t(n,r,l,c,m)):vl(x,v+5)},\u0275\u0275pureFunction6:function Ck(e,t,n,r,l,c,m,y,v){const x=(0,i.gxQ)()+e,L=(0,i.OAn)(),W=Ko(L,x,n,r,l,c);return Oi(L,x+4,m,y)||W?Ra(L,x+6,v?t.call(v,n,r,l,c,m,y):t(n,r,l,c,m,y)):vl(L,x+6)},\u0275\u0275pureFunction7:function Sk(e,t,n,r,l,c,m,y,v,x){const L=(0,i.gxQ)()+e,W=(0,i.OAn)();let te=Ko(W,L,n,r,l,c);return _l(W,L+4,m,y,v)||te?Ra(W,L+7,x?t.call(x,n,r,l,c,m,y,v):t(n,r,l,c,m,y,v)):vl(W,L+7)},\u0275\u0275pureFunction8:function Ak(e,t,n,r,l,c,m,y,v,x,L){const W=(0,i.gxQ)()+e,te=(0,i.OAn)(),re=Ko(te,W,n,r,l,c);return Ko(te,W+4,m,y,v,x)||re?Ra(te,W+8,L?t.call(L,n,r,l,c,m,y,v,x):t(n,r,l,c,m,y,v,x)):vl(te,W+8)},\u0275\u0275pureFunctionV:function Mk(e,t,n,r){return Bb((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275getCurrentView:g_,\u0275\u0275restoreView:i.eBV,\u0275\u0275listener:By,\u0275\u0275projection:function SE(e,t=0,n,r,l,c){const m=(0,i.OAn)(),y=(0,i.klJ)(),v=r?e+1:null;null!==v&&p(m,y,v,r,l,c,null,n);const x=Ha(y,i.Yw1+e,16,null,n||null);null===x.projection&&(x.projection=t),(0,i.Pfq)();const W=!m[i.tcA]||(0,i.KtD)();null===m[i.b5C][i.qlT].projection[x.projection]&&null!==v?function AE(e,t,n){const r=i.Yw1+n,l=t.data[r],c=e[r];gs(c,rl(e,l,void 0,{dehydratedView:null}),0,fs(l,null))}(m,y,v):W&&!nt(x)&&function Em(e,t,n){tl(t[i.GpT],0,t,n,Dc(e,n,t),gm(n.parent||t[i.qlT],n,t))}(y,m,x)},\u0275\u0275syntheticHostProperty:function __(e,t,n){const r=(0,i.OAn)();if(xn(r,(0,i.xbp)(),t)){const c=(0,i.klJ)(),m=(0,i.CpD)();Dm(m,r,e,t,Vp((0,i.MT)(c.data),m,r),n)}return __},\u0275\u0275syntheticHostListener:function U_(e,t){const n=(0,i.Mx4)(),r=(0,i.OAn)(),l=(0,i.klJ)();return Vy(l,r,Vp((0,i.MT)(l.data),n,r),n,e,t),U_},\u0275\u0275pipeBind1:Vb,\u0275\u0275pipeBind2:$b,\u0275\u0275pipeBind3:function xk(e,t,n,r,l){const c=e+i.Yw1,m=(0,i.OAn)(),y=(0,i.Hh6)(m,c);return Pd(m,c)?Fb(m,(0,i.gxQ)(),t,y.transform,n,r,l,y):y.transform(n,r,l)},\u0275\u0275pipeBind4:function Ik(e,t,n,r,l,c){const m=e+i.Yw1,y=(0,i.OAn)(),v=(0,i.Hh6)(y,m);return Pd(y,m)?jb(y,(0,i.gxQ)(),t,v.transform,n,r,l,c,v):v.transform(n,r,l,c)},\u0275\u0275pipeBindV:function Rk(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Pd(l,r)?Bb(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform.apply(c,n)},\u0275\u0275projectionDef:function CE(e){const t=(0,i.OAn)()[i.b5C][i.qlT];if(!t.projection){const r=t.projection=(0,i.WfI)(e?e.length:1,null),l=r.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?DE(c,e):0;null!==m&&(l[m]?l[m].projectionNext=c:r[m]=c,l[m]=c)}c=c.next}}},\u0275\u0275domProperty:function v_(e,t,n){const r=(0,i.OAn)();return xn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Dm((0,i.CpD)(),r,e,t,r[i.GpT],n)),v_},\u0275\u0275property:My,\u0275\u0275pipe:Ub,\u0275\u0275queryRefresh:W_,\u0275\u0275queryAdvance:function xE(e=1){(0,i.GA0)((0,i.w7Z)()+e)},\u0275\u0275viewQuery:H_,\u0275\u0275viewQuerySignal:function TE(e,t,n,r){xh(e,ud(t,n,r))},\u0275\u0275loadQuery:z_,\u0275\u0275contentQuery:$_,\u0275\u0275contentQuerySignal:function ME(e,t,n,r,l){xh(t,Lu(e,n,r,l))},\u0275\u0275reference:K_,\u0275\u0275classMap:eb,\u0275\u0275styleMap:function HE(e){nb(ab,WE,e,!1)},\u0275\u0275styleProp:zy,\u0275\u0275classProp:Ky,\u0275\u0275advance:cm,\u0275\u0275template:b,\u0275\u0275conditional:function k1(e,t){fo("NgControlFlow");const n=(0,i.OAn)(),r=(0,i.xbp)(),l=n[r]!==fn?n[r]:-1,c=-1!==l?Qh(n,i.Yw1+l):void 0;if(xn(n,r,e)){const y=(0,z.Ht)(null);try{if(void 0!==c&&jc(c,0),-1!==e){const v=i.Yw1+e,x=Qh(n,v),L=Ay(n[i.eDl],v),W=null;gs(x,rl(n,L,t,{dehydratedView:W}),0,fs(L,W))}}finally{(0,z.Ht)(y)}}else if(void 0!==c){const y=Om(c,0);void 0!==y&&(y[i.SKP]=t)}},\u0275\u0275conditionalCreate:function E1(e,t,n,r,l,c,m,y){fo("NgControlFlow");const v=(0,i.OAn)(),x=(0,i.klJ)();return p(v,x,e,t,n,r,l,(0,i.db4)(x.consts,c),256,m,y),Sy},\u0275\u0275conditionalBranchCreate:Sy,\u0275\u0275defer:function Xw(e,t,n,r,l,c,m,y,v,x){const L=(0,i.OAn)(),W=(0,i.klJ)(),te=e+i.Yw1,re=p(L,W,e,null,0,0),Ae=L[i.YEL];if(W.firstCreatePass){fo("NgDefer");const Fn={primaryTmplIndex:t,loadingTmplIndex:r??null,placeholderTmplIndex:l??null,errorTmplIndex:c??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:We.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:x??0};v?.(W,Fn,y,m),function I0(e,t,n){const r=kd(t);e.data[r]=n}(W,te,Fn)}const Be=L[te];wl(Be,re,L);let gt=null,mt=null;if(Be[i.qFA]?.length>0){const Fn=Be[i.qFA][0].data;mt=Fn.di??null,gt=Fn.s}const qe=[null,dt.Initial,null,null,null,null,mt,gt,null,null];!function x0(e,t,n){e[kd(t)]=n}(L,te,qe);let bn=null;null!==mt&&(bn=Ae.get(_e),bn.add(mt,{lView:L,tNode:re,lContainer:Be}));const Mo=()=>{bd(qe),null!==mt&&bn?.cleanup([mt])};ba(0,qe,()=>(0,i.DyX)(L,Mo)),(0,i.ik5)(L,Mo)},\u0275\u0275deferWhen:function Yw(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(cr(0,t,n)&&xn(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,y=ra(t,n)[1];!1===c&&y===dt.Initial?zu(t,n):!0===c&&(y===dt.Initial||y===Ze.Placeholder)&&Dl(0,t,n)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferOnIdle:function t1(){cr(0,(0,i.OAn)(),(0,i.Mx4)())&&r_(Hh)},\u0275\u0275deferOnImmediate:function o1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(0,e,t)&&(null===go(e[i.eDl],t).loadingTmplIndex&&zu(e,t),Dl(0,e,t))},\u0275\u0275deferOnTimer:function s1(e){cr(0,(0,i.OAn)(),(0,i.Mx4)())&&r_(Wh(e))},\u0275\u0275deferOnHover:function c1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();cr(0,n,r)&&(zu(n,r),Wu(n,r,e,t,Ps,()=>Dl(0,n,r),0))},\u0275\u0275deferOnInteraction:function h1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();cr(0,n,r)&&(zu(n,r),Wu(n,r,e,t,mi,()=>Dl(0,n,r),0))},\u0275\u0275deferOnViewport:function y1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();cr(0,n,r)&&(zu(n,r),Wu(n,r,e,t,hy,()=>Dl(0,n,r),0))},\u0275\u0275deferPrefetchWhen:function Jw(e){const t=(0,i.OAn)();if(cr(1,t,(0,i.CpD)())&&xn(t,(0,i.xbp)(),e)){const l=(0,z.Ht)(null);try{const c=!!e,m=t[i.eDl],y=(0,i.CpD)(),v=go(m,y);!0===c&&v.loadingState===We.NOT_STARTED&&Cd(v,t,y)}finally{(0,z.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function n1(){cr(1,(0,i.OAn)(),(0,i.Mx4)())&&o_(Hh)},\u0275\u0275deferPrefetchOnImmediate:function a1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();if(!cr(1,e,t))return;const r=go(e[i.eDl],t);r.loadingState===We.NOT_STARTED&&_y(r,e,t)},\u0275\u0275deferPrefetchOnTimer:function l1(e){cr(1,(0,i.OAn)(),(0,i.Mx4)())&&o_(Wh(e))},\u0275\u0275deferPrefetchOnHover:function d1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!cr(1,n,r))return;const c=go(n[i.eDl],r);c.loadingState===We.NOT_STARTED&&Wu(n,r,e,t,Ps,()=>Cd(c,n,r),1)},\u0275\u0275deferPrefetchOnInteraction:function p1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!cr(1,n,r))return;const c=go(n[i.eDl],r);c.loadingState===We.NOT_STARTED&&Wu(n,r,e,t,mi,()=>Cd(c,n,r),1)},\u0275\u0275deferPrefetchOnViewport:function g1(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!cr(1,n,r))return;const c=go(n[i.eDl],r);c.loadingState===We.NOT_STARTED&&Wu(n,r,e,t,hy,()=>Cd(c,n,r),1)},\u0275\u0275deferHydrateWhen:function Zw(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(!cr(2,t,n))return;const r=(0,i.xbp)();if(Rs((0,i.klJ)(),n).set(6,null),xn(t,r,e)){const m=t[i.YEL],y=(0,z.Ht)(null);try{1==!!e&&Cl(m,ra(t,n)[6])}finally{(0,z.Ht)(y)}}},\u0275\u0275deferHydrateNever:function e1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&Rs((0,i.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function r1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&(Rs((0,i.klJ)(),t).set(0,null),a_(Hh,e,t))},\u0275\u0275deferHydrateOnImmediate:function i1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&(Rs((0,i.klJ)(),t).set(1,null),Cl(e[i.YEL],ra(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function u1(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();cr(2,t,n)&&(Rs((0,i.klJ)(),n).set(5,{delay:e}),a_(Wh(e),t,n))},\u0275\u0275deferHydrateOnHover:function m1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&Rs((0,i.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function f1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&Rs((0,i.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function v1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();cr(2,e,t)&&Rs((0,i.klJ)(),t).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function z0(e,t,n,r){const l=e.consts;null!=n&&(t.placeholderBlockConfig=(0,i.db4)(l,n)),null!=r&&(t.loadingBlockConfig=(0,i.db4)(l,r)),null===fy&&(fy=W0)},\u0275\u0275repeater:function x1(e){const t=(0,z.Ht)(null),n=(0,i._px)();try{const r=(0,i.OAn)(),l=r[i.eDl],c=r[n],m=n+1,y=Qh(r,m);if(void 0===c.liveCollection){const x=Ay(l,m);c.liveCollection=new T1(y,r,x)}else c.liveCollection.reset();const v=c.liveCollection;if(function w1(e,t,n){let r,l,c=0,m=e.length-1;if(Array.isArray(t)){let v=t.length-1;for(;c<=m&&c<=v;){const x=e.at(c),L=t[c],W=Dy(c,x,c,L,n);if(0!==W){W<0&&e.updateValue(c,L),c++;continue}const te=e.at(m),re=t[v],Ae=Dy(m,te,v,re,n);if(0!==Ae){Ae<0&&e.updateValue(m,re),m--,v--;continue}const Be=n(c,x),gt=n(m,te),mt=n(c,L);if(Object.is(mt,gt)){const qe=n(v,re);Object.is(qe,Be)?(e.swap(c,m),e.updateValue(m,re),v--,m--):e.move(m,c),e.updateValue(c,L),c++;continue}if(r??=new h_,l??=m_(e,c,m,n),Cy(e,r,c,mt))e.updateValue(c,L),c++,m++;else if(l.has(mt))r.set(Be,e.detach(c)),m--;else{const qe=e.create(c,t[c]);e.attach(c,qe),c++,m++}}for(;c<=v;)d_(e,r,n,c,t[c]),c++}else if(null!=t){const v=t[Symbol.iterator]();let x=v.next();for(;!x.done&&c<=m;){const L=e.at(c),W=x.value,te=Dy(c,L,c,W,n);if(0!==te)te<0&&e.updateValue(c,W),c++,x=v.next();else{r??=new h_,l??=m_(e,c,m,n);const re=n(c,W);if(Cy(e,r,c,re))e.updateValue(c,W),c++,m++,x=v.next();else if(l.has(re)){const Ae=n(c,L);r.set(Ae,e.detach(c)),m--}else e.attach(c,e.create(c,W)),c++,m++,x=v.next()}}for(;!x.done;)d_(e,r,n,e.length,x.value),x=v.next()}for(;c<=m;)e.destroy(e.detach(m--));r?.forEach(v=>{e.destroy(v)})}(v,e,c.trackByFn),v.updateIndexes(),c.hasEmptyBlock){const x=(0,i.xbp)(),L=0===v.length;if(xn(r,x,L)){const W=n+2,te=Qh(r,W);if(L){const re=Ay(l,W),Ae=null;gs(te,rl(r,re,void 0,{dehydratedView:Ae}),0,fs(re,Ae))}else l.firstUpdatePass&&wu(te),jc(te,0)}}}finally{(0,z.Ht)(t)}},\u0275\u0275repeaterCreate:function M1(e,t,n,r,l,c,m,y,v,x,L,W,te){fo("NgControlFlow");const re=(0,i.OAn)(),Ae=(0,i.klJ)(),Be=void 0!==v,gt=(0,i.OAn)(),mt=y?m.bind(gt[i.b5C][i.SKP]):m,qe=new A1(Be,mt);gt[i.Yw1+e]=qe,p(re,Ae,e+1,t,n,r,l,(0,i.db4)(Ae.consts,c),256),Be&&p(re,Ae,e+2,v,x,L,W,(0,i.db4)(Ae.consts,te),512)},\u0275\u0275repeaterTrackByIndex:function C1(e){return e},\u0275\u0275repeaterTrackByIdentity:function S1(e,t){return t},\u0275\u0275componentInstance:function _1(){return(0,i.OAn)()[i.b5C][i.SKP]},\u0275\u0275text:ub,\u0275\u0275textInterpolate:qy,\u0275\u0275textInterpolate1:ip,\u0275\u0275textInterpolate2:Qy,\u0275\u0275textInterpolate3:function bb(e,t,n,r,l,c,m){const y=(0,i.OAn)(),v=pb(y,e,t,n,r,l,c,m);return v!==fn&&Hi(y,(0,i._px)(),v),bb},\u0275\u0275textInterpolate4:function wb(e,t,n,r,l,c,m,y,v){const x=(0,i.OAn)(),L=fb(x,e,t,n,r,l,c,m,y,v);return L!==fn&&Hi(x,(0,i._px)(),L),wb},\u0275\u0275textInterpolate5:function Eb(e,t,n,r,l,c,m,y,v,x,L){const W=(0,i.OAn)(),te=yb(W,e,t,n,r,l,c,m,y,v,x,L);return te!==fn&&Hi(W,(0,i._px)(),te),Eb},\u0275\u0275textInterpolate6:function kb(e,t,n,r,l,c,m,y,v,x,L,W,te){const re=(0,i.OAn)(),Ae=gb(re,e,t,n,r,l,c,m,y,v,x,L,W,te);return Ae!==fn&&Hi(re,(0,i._px)(),Ae),kb},\u0275\u0275textInterpolate7:function Db(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae){const Be=(0,i.OAn)(),gt=vb(Be,e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae);return gt!==fn&&Hi(Be,(0,i._px)(),gt),Db},\u0275\u0275textInterpolate8:function Cb(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be,gt){const mt=(0,i.OAn)(),qe=_b(mt,e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be,gt);return qe!==fn&&Hi(mt,(0,i._px)(),qe),Cb},\u0275\u0275textInterpolateV:function Sb(e){const t=(0,i.OAn)(),n=db(t,e);return n!==fn&&Hi(t,(0,i._px)(),n),Sb},\u0275\u0275i18n:function bE(e,t,n){F_(e,t,n),j_()},\u0275\u0275i18nAttributes:function wE(e,t){const n=(0,i.klJ)(),r=(0,i.db4)(n.consts,t);!function rE(e,t,n){const l=(0,i.Mx4)().index,c=[];if(e.firstCreatePass&&null===e.data[t]){for(let m=0;m<n.length;m+=2){const y=n[m],v=n[m+1];if(""!==v){if(Q1.test(v))throw new Error(`ICU expressions are not supported in attributes. Message: "${v}".`);Id(c,v,l,y,oE(c),null)}}e.data[t]=c}}(n,e+i.Yw1,r)},\u0275\u0275i18nExp:function B_(e){return function H1(e){e&&(Ad|=1<<Math.min(Md,31)),Md++}(xn((0,i.OAn)(),(0,i.xbp)(),e)),B_},\u0275\u0275i18nStart:F_,\u0275\u0275i18nEnd:j_,\u0275\u0275i18nApply:function EE(e){!function W1(e,t,n){if(Md>0){const r=e.data[n];C_(e,t,Array.isArray(r)?r:r.update,(0,i.c$7)()-Md-1,Ad)}Ad=0,Md=0}((0,i.klJ)(),(0,i.OAn)(),e+i.Yw1)},\u0275\u0275i18nPostprocess:function kE(e,t={}){return function _E(e,t={}){let n=e;if(mE.test(e)){const r={},l=[0];n=n.replace(hE,(c,m,y)=>{const v=m||y,x=r[v]||[];if(x.length||(v.split("|").forEach(Be=>{const gt=Be.match(vE),mt=gt?parseInt(gt[1],10):0,qe=gE.test(Be);x.push([mt,qe,Be])}),r[v]=x),!x.length)throw new Error(`i18n postprocess: unmatched placeholder - ${v}`);const L=l[l.length-1];let W=0;for(let Be=0;Be<x.length;Be++)if(x[Be][0]===L){W=Be;break}const[te,re,Ae]=x[W];return re?l.pop():L!==te&&l.push(te),x.splice(W,1),Ae})}return Object.keys(t).length&&(n=n.replace(pE,(r,l,c,m,y,v)=>t.hasOwnProperty(c)?`${l}${t[c]}${v}`:r),n=n.replace(fE,(r,l)=>t.hasOwnProperty(l)?t[l]:r),n=n.replace(yE,(r,l)=>{if(t.hasOwnProperty(l)){const c=t[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${l}`);return c.shift()}return r})),n}(e,t)},\u0275\u0275resolveWindow:function fp(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function yp(e){return e.ownerDocument},\u0275\u0275resolveBody:function Zd(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function _k(e,t,n){const r=e.\u0275cmp;r.directiveDefs=yd(t,Zf),r.pipeDefs=yd(n,i.oyA)},\u0275\u0275setNgModuleScope:function bk(e,t){return Z(()=>{const n=(0,i.WbQ)(e);n.declarations=sp(t.declarations||i.Mlv),n.imports=sp(t.imports||i.Mlv),n.exports=sp(t.exports||i.Mlv),t.bootstrap&&(n.bootstrap=sp(t.bootstrap)),Ri.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:Oh,\u0275\u0275getComponentDepsFactory:function Ok(e,t){return()=>{try{return Ri.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function Pk(e,t){const n=(0,i.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function Tb(e){const t=(0,i.klJ)(),n=(0,i.OAn)(),r=e+i.Yw1,l=Ha(t,r,128,null,null);return(0,i.iMd)(l,!1),(0,i.M_e)(t,n,r,Mb),Tb},\u0275\u0275storeLet:function tk(e){fo("NgLet");const t=(0,i.klJ)(),n=(0,i.OAn)(),r=(0,i._px)();return(0,i.M_e)(t,n,r,e),e},\u0275\u0275readContextLet:function nk(e){const t=(0,i.VPL)(),n=(0,i.Hh6)(t,i.Yw1+e);if(n===Mb)throw new i.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function rk(e,t){const n=(0,i.klJ)(),r=(0,i.OAn)(),l=r[i.GpT],c="data-ng-source-location";for(const[m,y,v,x]of t){(0,i.XRZ)(n,m+i.Yw1);const W=(0,i.vaC)(m+i.Yw1,r);W.hasAttribute(c)||l.setAttribute(W,c,`${e}@o:${y},l:${v},c:${x}`)}},\u0275\u0275interpolate:function ok(e){return xn((0,i.OAn)(),(0,i.xbp)(),e)?(0,i.eFE)(e):fn},\u0275\u0275interpolate1:function ak(e,t,n=""){return mb((0,i.OAn)(),e,t,n)},\u0275\u0275interpolate2:function ik(e,t,n,r,l=""){return hb((0,i.OAn)(),e,t,n,r,l)},\u0275\u0275interpolate3:function sk(e,t,n,r,l,c,m=""){return pb((0,i.OAn)(),e,t,n,r,l,c,m)},\u0275\u0275interpolate4:function lk(e,t,n,r,l,c,m,y,v=""){return fb((0,i.OAn)(),e,t,n,r,l,c,m,y,v)},\u0275\u0275interpolate5:function uk(e,t,n,r,l,c,m,y,v,x,L=""){return yb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L)},\u0275\u0275interpolate6:function ck(e,t,n,r,l,c,m,y,v,x,L,W,te=""){return gb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,te)},\u0275\u0275interpolate7:function dk(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae=""){return vb((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae)},\u0275\u0275interpolate8:function mk(e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be,gt=""){return _b((0,i.OAn)(),e,t,n,r,l,c,m,y,v,x,L,W,te,re,Ae,Be,gt)},\u0275\u0275interpolateV:function hk(e){return db((0,i.OAn)(),e)},\u0275\u0275sanitizeHtml:function sn(e){const t=Ei();return t?Va(t.sanitize(tt.HTML,e)||""):Uo(e,"HTML")?Va(ta(e)):function K(e,t){let n=null;try{O=O||as(e);let r=t?String(t):"";n=O.getInertBodyElement(r);let l=5,c=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=O.getInertBodyElement(r)}while(r!==c);return Za((new $o).sanitizeChildren(be(n)||n))}finally{if(n){const r=be(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(he(),(0,i.eFE)(e))},\u0275\u0275sanitizeStyle:function Br(e){const t=Ei();return t?t.sanitize(tt.STYLE,e)||"":Uo(e,"Style")?ta(e):(0,i.eFE)(e)},\u0275\u0275sanitizeResourceUrl:Dn,\u0275\u0275sanitizeScript:function Ma(e){const t=Ei();if(t)return Ll(t.sanitize(tt.SCRIPT,e)||"");if(Uo(e,"Script"))return Ll(ta(e));throw new i.buA(905,!1)},\u0275\u0275sanitizeUrl:Tn,\u0275\u0275sanitizeUrlOrResourceUrl:Hd,\u0275\u0275trustConstantHtml:function dc(e){return Za(e[0])},\u0275\u0275trustConstantResourceUrl:function mc(e){return function ac(e){return gi()?.createScriptURL(e)||e}(e[0])},\u0275\u0275validateIframeAttribute:function mv(e,t,n){const r=(0,i.OAn)(),l=(0,i.CpD)(),c=(0,i.d31)(l,r);if(2===l.type&&"iframe"===t.toLowerCase()){const m=c;throw m.src="",m.srcdoc=Za(""),Ys(r[i.GpT],m),new i.buA(-910,!1)}return e},forwardRef:i.Rfq,resolveForwardRef:i.nl4,\u0275\u0275twoWayProperty:Xy,\u0275\u0275twoWayBindingSet:Ab,\u0275\u0275twoWayListener:Yy,\u0275\u0275replaceMetadata:function Lk(e,t,n,r,l=null,c=null){const m=(0,i.xUg)(e);t.apply(null,[e,n,...r]);const{newDef:y,oldDef:v}=function Fk(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(m,(0,i.xUg)(e));if(e[i.CQl]=y,v.tView){const x=function ua(){return gr}().values();for(const L of x)(0,i.EFk)(L)&&null===L[i.f7T]&&lp(l,c,y,v,L)}},\u0275\u0275getReplaceMetadataURL:function Nk(e,t,n){const r=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(r,n).href}};let Yu=null;function $k(e){null!==Yu&&(e.defaultEncapsulation!==Yu.defaultEncapsulation||e.preserveWhitespaces!==Yu.preserveWhitespaces)||(Yu=e)}const Nd=[];function Xb(e){return Jc(e)?e.ngModule:e}const iD=ae("NgModule",e=>e,void 0,0,(e,t)=>function Kk(e,t={}){(function Gk(e,t){const r=(0,i.Bqz)(t.declarations||i.Mlv);let l=null;Object.defineProperty(e,i.hmW,{configurable:!0,get:()=>(null===l&&(l=Tt().compileNgModule(Os,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,i.Bqz)(t.bootstrap||i.Mlv).map(i.nl4),declarations:r.map(i.nl4),imports:(0,i.Bqz)(t.imports||i.Mlv).map(i.nl4).map(Xb),exports:(0,i.Bqz)(t.exports||i.Mlv).map(i.nl4).map(Xb),schemas:t.schemas?(0,i.Bqz)(t.schemas):null,id:t.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(e,i.zSs,{get:()=>{if(null===c){const y=Tt();c=y.compileFactory(Os,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Ir(e),target:y.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let m=null;Object.defineProperty(e,i.ONQ,{get:()=>{if(null===m){const y={name:e.name,type:e,providers:t.providers||i.Mlv,imports:[(t.imports||i.Mlv).map(i.nl4),(t.exports||i.Mlv).map(i.nl4)]};m=Tt().compileInjector(Os,`ng:///${e.name}/\u0275inj.js`,y)}return m},configurable:!1})})(e,t),void 0!==t.id&&Oh(e,t.id),function Wk(e,t){Nd.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class sD{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let lD=(()=>{class e{compileModuleSync(n){return new Ph(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=ya((0,i.phH)(n).declarations).reduce((m,y)=>{const v=(0,i.xUg)(y);return v&&m.push(new bh(v)),m},[]);return new sD(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uD=new i.nKC("");let cD=(()=>{class e{zone=(0,i.WQX)(Ut);changeDetectionScheduler=(0,i.WQX)(i.hk6);applicationRef=(0,i.WQX)(Gh);applicationErrorHandler=(0,i.WQX)(i.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const l0=new i.nKC("",{factory:()=>!1});function u0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ut({...ig(),scheduleInRootZone:n}),[{provide:Ut,useFactory:e},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(cD,{optional:!0});return()=>r.initialize()}},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(dD);return()=>{r.initialize()}}},!0===t?{provide:i.Jy$,useValue:!0}:[],{provide:i.AQb,useValue:n??Rt},{provide:i.ZTf,useFactory:()=>{const r=(0,i.WQX)(Ut),l=(0,i.WQX)(i.uvJ);let c;return m=>{r.runOutsideAngular(()=>{l.destroyed&&!c?setTimeout(()=>{throw m}):(c??=l.get(i.zcH),c.handleError(m))})}}}]}function ig(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let dD=(()=>{class e{subscription=new X.yU;initialized=!1;zone=(0,i.WQX)(Ut);pendingTasks=(0,i.WQX)(i.rev);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ut.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ut.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m0=(()=>{class e{applicationErrorHandler=(0,i.WQX)(i.ZTf);appRef=(0,i.WQX)(Gh);taskService=(0,i.WQX)(i.rev);ngZone=(0,i.WQX)(Ut);zonelessEnabled=(0,i.WQX)(i.Evm);tracing=(0,i.WQX)(kt,{optional:!0});disableScheduling=(0,i.WQX)(i.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new X.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,i.WQX)(i.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const l=this.useMicrotaskScheduler?So:wa;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,So(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h0=new i.nKC("",{providedIn:"root",factory:()=>(0,i.WQX)(h0,{optional:!0,skipSelf:!0})||function mD(){return typeof $localize<"u"&&$localize.locale||Ly}()}),hD=new i.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(it,Ee,V)=>{"use strict";function E(i){return i}V.d(Ee,{D:()=>E})},3794:(it,Ee,V)=>{"use strict";V.d(Ee,{ms:()=>T,lI:()=>X});var E=V(8071);function z(Z){return Z[Z.length-1]}function T(Z){return(0,E.T)(z(Z))?Z.pop():void 0}function X(Z){return function i(Z){return Z&&(0,E.T)(Z.schedule)}(z(Z))?Z.pop():void 0}},4060:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const i=E(V(3242));Ee.PostgrestClient=i.default;const z=E(V(8666));Ee.PostgrestQueryBuilder=z.default;const T=E(V(3608));Ee.PostgrestFilterBuilder=T.default;const X=E(V(3342));Ee.PostgrestTransformBuilder=X.default;const ee=E(V(5958));Ee.PostgrestBuilder=ee.default;const Z=E(V(4659));Ee.PostgrestError=Z.default,Ee.default={PostgrestClient:i.default,PostgrestQueryBuilder:z.default,PostgrestFilterBuilder:T.default,PostgrestTransformBuilder:X.default,PostgrestBuilder:ee.default,PostgrestError:Z.default}},4242:(it,Ee,V)=>{"use strict";V.d(Ee,{Vh:()=>ue,im:()=>ee});var E=V(4412),i=V(2615),z=V(4458),T=V(7473),X=V(3077),ee=function(ye){return ye.Host="host",ye.Client="client",ye}(ee||{}),Z=function(ye){return ye.JoinSession="join-session",ye.ElementsUpdate="elements-update",ye.RoundUpdate="round-update",ye.GraveyardUpdate="graveyard-update",ye.CharactersUpdate="characters-update",ye}(Z||{});let ue=(()=>{class ye{appContext;notificationService;localStorageService;ws=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnecting=!1;role;updatingFromServer=!1;clientId=null;clientIdSubject=new E.t(null);sessionId=0;sessionIdSubject=new E.t(null);clientId$=this.clientIdSubject.asObservable();sessionId$=this.sessionIdSubject.asObservable();constructor(ae,ce,ke){this.appContext=ae,this.notificationService=ce,this.localStorageService=ke,this.subscribeAndBroadcast(this.appContext.roundNumber$,Z.RoundUpdate,Ce=>({roundNumber:Ce})),this.subscribeAndBroadcast(this.appContext.creatures$,Z.CharactersUpdate,Ce=>({characters:Ce})),this.subscribeAndBroadcast(this.appContext.elements$,Z.ElementsUpdate,Ce=>({elements:Ce}))}subscribeAndBroadcast(ae,ce,ke){ae.subscribe(Ce=>{this.updatingFromServer||this.sendUpdateMessage(ce,{...ke(Ce),originatingClientId:this.clientId})})}connect(ae,ce){this.role=ae,null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(1e3,"Switching session or reconnecting"),this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const ke=this.getSessionId(),Ce={type:Z.JoinSession,...null!=ke&&{sessionId:ke},characters:this.role===ee.Host?this.appContext.getCreatures():[],roundNumber:this.role===ee.Host?this.appContext.getRoundNumber():1,elementStates:this.role===ee.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(Ce)),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onerror=ke=>{this.isConnected=!1,this.notificationService.emitErrorMessage("Unable to connect to the server. Retrying..."),this.tryReconnect()},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect()},this.ws.onmessage=ke=>{const Ce=JSON.parse(ke.data);if("session-joined"===Ce.type)return this.handleSessionJoined(Ce);if(Ce.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,Ce.type){case Z.CharactersUpdate:this.appContext.setCreatures(Ce.characters);break;case Z.GraveyardUpdate:this.appContext.setGraveyard(Ce.graveyard);break;case Z.RoundUpdate:this.appContext.setRoundNumber(Ce.roundNumber);break;case Z.ElementsUpdate:this.appContext.setElements(Ce.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${Ce.type}`)}this.updatingFromServer=!1}}}tryReconnect(){if(!this.reconnecting&&this.getSessionId())if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const ae=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role,this.getSessionId()),this.reconnecting=!1},ae)}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts.")}sendUpdateMessage(ae,ce){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:ae,...ce,originatingClientId:this.clientId}))}handleSessionJoined(ae){this.clientId=ae.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=ae.sessionId,this.localStorageService.setSessionId(ae.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${ae.sessionId}.`)}requestServerState(ae){this.sendUpdateMessage("request-latest-state",{sessionId:ae})}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId()}static \u0275fac=function(ce){return new(ce||ye)(i.KVO(z.B),i.KVO(T.J),i.KVO(X.s))};static \u0275prov=i.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},4341:(it,Ee,V)=>{"use strict";V.d(Ee,{Zm:()=>ve,me:()=>Ne,YN:()=>ja,tU:()=>Xn,BC:()=>To,vS:()=>Vt});var E=V(3664),i=V(2615),z=V(3597),T=V(7705),X=V(7303),ee=V(6648),Z=V(1985),ue=V(3073),ye=V(8750),pe=V(3794),ae=V(4360),ce=V(6450),ke=V(8496),He=V(1413),et=V(6354);let Ye=(()=>{class A{_renderer;_elementRef;onChange=w=>{};onTouched=()=>{};constructor(w,U){this._renderer=w,this._elementRef=U}setProperty(w,U){this._renderer.setProperty(this._elementRef.nativeElement,w,U)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:A})}return A})(),Je=(()=>{class A extends Ye{static \u0275fac=(()=>{let w;return function(oe){return(w||(w=E.xGo(A)))(oe||A)}})();static \u0275dir=E.FsC({type:A,features:[E.Vt3]})}return A})();const ze=new i.nKC(""),Tt={provide:ze,useExisting:(0,i.Rfq)(()=>ve),multi:!0};let ve=(()=>{class A extends Je{writeValue(w){this.setProperty("checked",w)}static \u0275fac=(()=>{let w;return function(oe){return(w||(w=E.xGo(A)))(oe||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(U,oe){1&U&&E.bIt("change",function(At){return oe.onChange(At.target.checked)})("blur",function(){return oe.onTouched()})},standalone:!1,features:[E.Jv_([Tt]),E.Vt3]})}return A})();const xe={provide:ze,useExisting:(0,i.Rfq)(()=>Ne),multi:!0},Ue=new i.nKC("");let Ne=(()=>{class A extends Ye{_compositionMode;_composing=!1;constructor(w,U,oe){super(w,U),this._compositionMode=oe,null==this._compositionMode&&(this._compositionMode=!function Se(){const A=(0,X.rb)()?(0,X.rb)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(Ue,8))};static \u0275dir=E.FsC({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,oe){1&U&&E.bIt("input",function(At){return oe._handleInput(At.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(At){return oe._compositionEnd(At.target.value)})},standalone:!1,features:[E.Jv_([xe]),E.Vt3]})}return A})();const _t=new i.nKC(""),ln=new i.nKC("");function ie(A){return M=>{const w=M.value?.length??function Nt(A){return null==A?null:Array.isArray(A)||"string"==typeof A?A.length:A instanceof Set?A.size:null}(M.value);return null!==w&&w>A?{maxlength:{requiredLength:A,actualLength:w}}:null}}function ge(A){return null}function de(A){return null!=A}function we(A){return(0,E.yLl)(A)?(0,ee.H)(A):A}function Pe(A){let M={};return A.forEach(w=>{M=null!=w?{...M,...w}:M}),0===Object.keys(M).length?null:M}function ct(A,M){return M.map(w=>w(A))}function Gt(A){return A.map(M=>function rt(A){return!A.validate}(M)?M:w=>M.validate(w))}function je(A){return null!=A?function me(A){if(!A)return null;const M=A.filter(de);return 0==M.length?null:function(w){return Pe(ct(w,M))}}(Gt(A)):null}function wt(A){return null!=A?function Ge(A){if(!A)return null;const M=A.filter(de);return 0==M.length?null:function(w){return function Ce(...A){const M=(0,pe.ms)(A),{args:w,keys:U}=(0,ue.D)(A),oe=new Z.c(yt=>{const{length:At}=w;if(!At)return void yt.complete();const or=new Array(At);let po=At,no=At;for(let ma=0;ma<At;ma++){let Ca=!1;(0,ye.Tg)(w[ma]).subscribe((0,ae._)(yt,mi=>{Ca||(Ca=!0,no--),or[ma]=mi},()=>po--,void 0,()=>{(!po||!Ca)&&(no||yt.next(U?(0,ke.e)(U,or):or),yt.complete())}))}});return M?oe.pipe((0,ce.I)(M)):oe}(ct(w,M).map(we)).pipe((0,et.T)(Pe))}}(Gt(A)):null}function Fe(A,M){return null===A?[M]:Array.isArray(A)?[...A,M]:[A,M]}function an(A){return A?Array.isArray(A)?A:[A]:[]}function Wt(A,M){return Array.isArray(A)?A.includes(M):A===M}function dr(A,M){const w=an(M);return an(A).forEach(oe=>{Wt(w,oe)||w.push(oe)}),w}function jn(A,M){return an(M).filter(w=>!Wt(A,w))}class Kn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,w){return!!this.control&&this.control.hasError(M,w)}getError(M,w){return this.control?this.control.getError(M,w):null}}class un extends Kn{name;get formDirective(){return null}get path(){return null}}class Bn extends Kn{_parent=null;name=null;valueAccessor=null}class ir{_cd;constructor(M){this._cd=M}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let To=(()=>{class A extends ir{constructor(w){super(w)}static \u0275fac=function(U){return new(U||A)(E.rXU(Bn,2))};static \u0275dir=E.FsC({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,oe){2&U&&E.AVh("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},standalone:!1,features:[E.Vt3]})}return A})();const Cr="VALID",hn="INVALID",Wr="PENDING",Hn="DISABLED";class Gn{}class lo extends Gn{value;source;constructor(M,w){super(),this.value=M,this.source=w}}class Ea extends Gn{pristine;source;constructor(M,w){super(),this.pristine=M,this.source=w}}class Un extends Gn{touched;source;constructor(M,w){super(),this.touched=M,this.source=w}}class Zr extends Gn{status;source;constructor(M,w){super(),this.status=M,this.source=w}}function Yt(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}class Mr{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(M,w){this._assignValidators(M),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,z.O8)(this.statusReactive)}set status(M){(0,z.O8)(()=>this.statusReactive.set(M))}_status=(0,z.EW)(()=>this.statusReactive());statusReactive=(0,i.vPA)(void 0);get valid(){return this.status===Cr}get invalid(){return this.status===hn}get pending(){return this.status==Wr}get disabled(){return this.status===Hn}get enabled(){return this.status!==Hn}errors;get pristine(){return(0,z.O8)(this.pristineReactive)}set pristine(M){(0,z.O8)(()=>this.pristineReactive.set(M))}_pristine=(0,z.EW)(()=>this.pristineReactive());pristineReactive=(0,i.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,z.O8)(this.touchedReactive)}set touched(M){(0,z.O8)(()=>this.touchedReactive.set(M))}_touched=(0,z.EW)(()=>this.touchedReactive());touchedReactive=(0,i.vPA)(!1);get untouched(){return!this.touched}_events=new He.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(dr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(dr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(jn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(jn(M,this._rawAsyncValidators))}hasValidator(M){return Wt(this._rawValidators,M)}hasAsyncValidator(M){return Wt(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){const w=!1===this.touched;this.touched=!0;const U=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:U}),w&&!1!==M.emitEvent&&this._events.next(new Un(!0,U))}markAllAsDirty(M={}){this.markAsDirty({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsDirty(M))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsTouched(M))}markAsUntouched(M={}){const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const U=M.sourceControl??this;this._forEachChild(oe=>{oe.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:U})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,U),w&&!1!==M.emitEvent&&this._events.next(new Un(!1,U))}markAsDirty(M={}){const w=!0===this.pristine;this.pristine=!1;const U=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:U}),w&&!1!==M.emitEvent&&this._events.next(new Ea(!1,U))}markAsPristine(M={}){const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const U=M.sourceControl??this;this._forEachChild(oe=>{oe.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,U),w&&!1!==M.emitEvent&&this._events.next(new Ea(!0,U))}markAsPending(M={}){this.status=Wr;const w=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new Zr(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:w})}disable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=Hn,this.errors=null,this._forEachChild(oe=>{oe.disable({...M,onlySelf:!0})}),this._updateValue();const U=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new lo(this.value,U)),this._events.next(new Zr(this.status,U)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:w},this),this._onDisabledChange.forEach(oe=>oe(!0))}enable(M={}){const w=this._parentMarkedDirty(M.onlySelf);this.status=Cr,this._forEachChild(U=>{U.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:w},this),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(M,w){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},w),this._parent._updateTouched({},w))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const U=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cr||this.status===Wr)&&this._runAsyncValidator(U,M.emitEvent)}const w=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new lo(this.value,w)),this._events.next(new Zr(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:w})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hn:Cr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,w){if(this.asyncValidator){this.status=Wr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==w,shouldHaveEmitted:!1!==M};const U=we(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(oe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(oe,{emitEvent:w,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const M=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,M}return!1}setErrors(M,w={}){this.errors=M,this._updateControlsErrors(!1!==w.emitEvent,this,w.shouldHaveEmitted)}get(M){let w=M;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((U,oe)=>U&&U._find(oe),this)}getError(M,w){const U=w?this.get(w):this;return U&&U.errors?U.errors[M]:null}hasError(M,w){return!!this.getError(M,w)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,w,U){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||U)&&this._events.next(new Zr(this.status,w)),this._parent&&this._parent._updateControlsErrors(M,w,U)}_initObservables(){this.valueChanges=new E.bkB,this.statusChanges=new E.bkB}_calculateStatus(){return this._allControlsDisabled()?Hn:this.errors?hn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wr)?Wr:this._anyControlsHaveStatus(hn)?hn:Cr}_anyControlsHaveStatus(M){return this._anyControls(w=>w.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,w){const U=!this._anyControlsDirty(),oe=this.pristine!==U;this.pristine=U,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,w),oe&&this._events.next(new Ea(this.pristine,w))}_updateTouched(M={},w){this.touched=this._anyControlsTouched(),this._events.next(new Un(this.touched,w)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,w)}_onDisabledChange=[];_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Yt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Na(A){return Array.isArray(A)?je(A):A||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function Ar(A){return Array.isArray(A)?wt(A):A||null}(this._rawAsyncValidators)}}const Ir=new i.nKC("",{providedIn:"root",factory:()=>Sn}),Sn="always";function hr(A,M,w=Sn){(function sr(A,M){const w=function Ht(A){return A._rawValidators}(A);null!==M.validator?A.setValidators(Fe(w,M.validator)):"function"==typeof w&&A.setValidators([w]);const U=function Et(A){return A._rawAsyncValidators}(A);null!==M.asyncValidator?A.setAsyncValidators(Fe(U,M.asyncValidator)):"function"==typeof U&&A.setAsyncValidators([U]);const oe=()=>A.updateValueAndValidity();pr(M._rawValidators,oe),pr(M._rawAsyncValidators,oe)})(A,M),M.valueAccessor.writeValue(A.value),(A.disabled||"always"===w)&&M.valueAccessor.setDisabledState?.(A.disabled),function No(A,M){M.valueAccessor.registerOnChange(w=>{A._pendingValue=w,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&Rr(A,M)})}(A,M),function er(A,M){const w=(U,oe)=>{M.valueAccessor.writeValue(U),oe&&M.viewToModelUpdate(U)};A.registerOnChange(w),M._registerOnDestroy(()=>{A._unregisterOnChange(w)})}(A,M),function bo(A,M){M.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&Rr(A,M),"submit"!==A.updateOn&&A.markAsTouched()})}(A,M),function Po(A,M){if(M.valueAccessor.setDisabledState){const w=U=>{M.valueAccessor.setDisabledState(U)};A.registerOnDisabledChange(w),M._registerOnDestroy(()=>{A._unregisterOnDisabledChange(w)})}}(A,M)}function pr(A,M){A.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(M)})}function Rr(A,M){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function Gr(A,M){const w=A.indexOf(M);w>-1&&A.splice(w,1)}function ho(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const ua=class extends Mr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(M=null,w,U){super(function Sr(A){return(Yt(A)?A.validators:A)||null}(w),function mr(A,M){return(Yt(M)?M.asyncValidators:A)||null}(U,w)),this._applyFormState(M),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yt(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=ho(M)?M.value:M)}setValue(M,w={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(M,w={}){this.setValue(M,w)}reset(M=this.defaultValue,w={}){this._applyFormState(M),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Gr(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Gr(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){ho(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},Zt={provide:Bn,useExisting:(0,i.Rfq)(()=>Vt)},Bt=Promise.resolve();let Vt=(()=>{class A extends Bn{_changeDetectorRef;callSetDisabledState;control=new ua;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new E.bkB;constructor(w,U,oe,yt,At,or){super(),this._changeDetectorRef=At,this.callSetDisabledState=or,this._parent=w,this._setValidators(U),this._setAsyncValidators(oe),this.valueAccessor=function fr(A,M){if(!M)return null;let w,U,oe;return Array.isArray(M),M.forEach(yt=>{yt.constructor===Ne?w=yt:function wn(A){return Object.getPrototypeOf(A.constructor)===Je}(yt)?U=yt:oe=yt}),oe||U||w||null}(0,yt)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const U=w.name.previousValue;this.formDirective.removeControl({name:U,path:this._getPath(U)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),function tr(A,M){if(!A.hasOwnProperty("model"))return!1;const w=A.model;return!!w.isFirstChange()||!Object.is(M,w.currentValue)}(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Bt.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const U=w.isDisabled.currentValue,oe=0!==U&&(0,T.L39)(U);Bt.then(()=>{oe&&!this.control.disabled?this.control.disable():!oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?function Kr(A,M){return[...M.path,A]}(w,this._parent):[w]}static \u0275fac=function(U){return new(U||A)(E.rXU(un,9),E.rXU(_t,10),E.rXU(ln,10),E.rXU(ze,10),E.rXU(T.gRc,8),E.rXU(Ir,8))};static \u0275dir=E.FsC({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([Zt]),E.Vt3,E.OA$]})}return A})();let pt=(()=>{class A{_validator=ge;_onChange;_enabled;ngOnChanges(w){if(this.inputName in w){const U=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(U),this._validator=this._enabled?this.createValidator(U):ge,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}static \u0275fac=function(U){return new(U||A)};static \u0275dir=E.FsC({type:A,features:[E.OA$]})}return A})();const Ga={provide:_t,useExisting:(0,i.Rfq)(()=>Xn),multi:!0};let Xn=(()=>{class A extends pt{maxlength;inputName="maxlength";normalizeInput=w=>function Qe(A){return"number"==typeof A?A:parseInt(A,10)}(w);createValidator=w=>ie(w);static \u0275fac=(()=>{let w;return function(oe){return(w||(w=E.xGo(A)))(oe||A)}})();static \u0275dir=E.FsC({type:A,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(U,oe){2&U&&E.BMQ("maxlength",oe._enabled?oe.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[E.Jv_([Ga]),E.Vt3]})}return A})(),Do=(()=>{class A{static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({})}return A})(),ja=(()=>{class A{static withConfig(w){return{ngModule:A,providers:[{provide:Ir,useValue:w.callSetDisabledState??Sn}]}}static \u0275fac=function(U){return new(U||A)};static \u0275mod=E.$C({type:A});static \u0275inj=i.G2t({imports:[Do]})}return A})()},4360:(it,Ee,V)=>{"use strict";V.d(Ee,{_:()=>i});var E=V(7707);function i(T,X,ee,Z,ue){return new z(T,X,ee,Z,ue)}class z extends E.vU{constructor(X,ee,Z,ue,ye,pe){super(X),this.onFinalize=ye,this.shouldUnsubscribe=pe,this._next=ee?function(ae){try{ee(ae)}catch(ce){X.error(ce)}}:super._next,this._error=ue?function(ae){try{ue(ae)}catch(ce){X.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ae){X.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4412:(it,Ee,V)=>{"use strict";V.d(Ee,{t:()=>i});var E=V(1413);class i extends E.B{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const X=super._subscribe(T);return!X.closed&&T.next(this._value),X}getValue(){const{hasError:T,thrownError:X,_value:ee}=this;if(T)throw X;return this._throwIfClosed(),ee}next(T){super.next(this._value=T)}}},4458:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>pa});var E=V(467),i=V(8880),z=V(4412),T=V(2615),X=V(130),ee=V(5231),Z=V(8147),ue=V(7473);class pe extends Error{constructor(g,h="FunctionsError",f){super(g),this.name=h,this.context=f}}class ae extends pe{constructor(g){super("Failed to send a request to the Edge Function","FunctionsFetchError",g)}}class ce extends pe{constructor(g){super("Relay Error invoking the Edge Function","FunctionsRelayError",g)}}class ke extends pe{constructor(g){super("Edge Function returned a non-2xx status code","FunctionsHttpError",g)}}var Ce=function(C){return C.Any="any",C.ApNortheast1="ap-northeast-1",C.ApNortheast2="ap-northeast-2",C.ApSouth1="ap-south-1",C.ApSoutheast1="ap-southeast-1",C.ApSoutheast2="ap-southeast-2",C.CaCentral1="ca-central-1",C.EuCentral1="eu-central-1",C.EuWest1="eu-west-1",C.EuWest2="eu-west-2",C.EuWest3="eu-west-3",C.SaEast1="sa-east-1",C.UsEast1="us-east-1",C.UsWest1="us-west-1",C.UsWest2="us-west-2",C}(Ce||{});class et{constructor(g,{headers:h={},customFetch:f,region:k=Ce.Any}={}){this.url=g,this.headers=h,this.region=k,this.fetch=(C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)})(f)}setAuth(g){this.headers.Authorization=`Bearer ${g}`}invoke(g,h={}){var f;return function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:k,method:R,body:P}=h;let H={},{region:G}=h;G||(G=this.region);const J=new URL(`${this.url}/${g}`);let ne;G&&"any"!==G&&(H["x-region"]=G,J.searchParams.set("forceFunctionRegion",G)),P&&(k&&!Object.prototype.hasOwnProperty.call(k,"Content-Type")||!k)&&(typeof Blob<"u"&&P instanceof Blob||P instanceof ArrayBuffer?(H["Content-Type"]="application/octet-stream",ne=P):"string"==typeof P?(H["Content-Type"]="text/plain",ne=P):typeof FormData<"u"&&P instanceof FormData?ne=P:(H["Content-Type"]="application/json",ne=JSON.stringify(P)));const _e=yield this.fetch(J.toString(),{method:R||"POST",headers:Object.assign(Object.assign(Object.assign({},H),this.headers),k),body:ne}).catch(It=>{throw new ae(It)}),ut=_e.headers.get("x-relay-error");if(ut&&"true"===ut)throw new ce(_e);if(!_e.ok)throw new ke(_e);let at,nt=(null!==(f=_e.headers.get("Content-Type"))&&void 0!==f?f:"text/plain").split(";")[0].trim();return at="application/json"===nt?yield _e.json():"application/octet-stream"===nt?yield _e.blob():"text/event-stream"===nt?_e:"multipart/form-data"===nt?yield _e.formData():yield _e.text(),{data:at,error:null,response:_e}}catch(k){return{data:null,error:k,response:k instanceof ke||k instanceof ce?k.context:void 0}}})}}var Ye=V(4060);const{PostgrestClient:Je}=Ye,Ke=class Ne{static detectEnvironment(){var g;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(g=navigator.userAgent)&&void 0!==g&&g.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const h=parseInt(process.versions.node.split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const g=this.detectEnvironment();if(g.constructor)return g.constructor;let h=g.error||"WebSocket not supported in this environment.";throw g.workaround&&(h+=`\n\nSuggested solution: ${g.workaround}`),new Error(h)}static createWebSocket(g,h){return new(this.getWebSocketConstructor())(g,h)}static isWebSocketSupported(){try{const g=this.detectEnvironment();return"native"===g.type||"ws"===g.type}catch{return!1}}};var ar=function(C){return C[C.connecting=0]="connecting",C[C.open=1]="open",C[C.closing=2]="closing",C[C.closed=3]="closed",C}(ar||{}),Xt=function(C){return C.closed="closed",C.errored="errored",C.joined="joined",C.joining="joining",C.leaving="leaving",C}(Xt||{}),Te=function(C){return C.close="phx_close",C.error="phx_error",C.join="phx_join",C.reply="phx_reply",C.leave="phx_leave",C.access_token="access_token",C}(Te||{}),Ve=function(C){return C.websocket="websocket",C}(Ve||{}),ie=function(C){return C.Connecting="connecting",C.Open="open",C.Closing="closing",C.Closed="closed",C}(ie||{});class le{constructor(){this.HEADER_LENGTH=1}decode(g,h){return g.constructor===ArrayBuffer?h(this._binaryDecode(g)):h("string"==typeof g?JSON.parse(g):{})}_binaryDecode(g){const h=new DataView(g),f=new TextDecoder;return this._decodeBroadcast(g,h,f)}_decodeBroadcast(g,h,f){const k=h.getUint8(1),R=h.getUint8(2);let P=this.HEADER_LENGTH+2;const H=f.decode(g.slice(P,P+k));P+=k;const G=f.decode(g.slice(P,P+R));return P+=R,{ref:null,topic:H,event:G,payload:JSON.parse(f.decode(g.slice(P,g.byteLength)))}}}class ge{constructor(g,h){this.callback=g,this.timerCalc=h,this.timer=void 0,this.tries=0,this.callback=g,this.timerCalc=h}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de=function(C){return C.abstime="abstime",C.bool="bool",C.date="date",C.daterange="daterange",C.float4="float4",C.float8="float8",C.int2="int2",C.int4="int4",C.int4range="int4range",C.int8="int8",C.int8range="int8range",C.json="json",C.jsonb="jsonb",C.money="money",C.numeric="numeric",C.oid="oid",C.reltime="reltime",C.text="text",C.time="time",C.timestamp="timestamp",C.timestamptz="timestamptz",C.timetz="timetz",C.tsrange="tsrange",C.tstzrange="tstzrange",C}(de||{});const we=(C,g,h={})=>{var f;const k=null!==(f=h.skipTypes)&&void 0!==f?f:[];return Object.keys(g).reduce((R,P)=>(R[P]=Pe(P,C,g,k),R),{})},Pe=(C,g,h,f)=>{const k=g.find(H=>H.name===C),R=k?.type,P=h[C];return R&&!f.includes(R)?ct(R,P):rt(P)},ct=(C,g)=>{if("_"===C.charAt(0)){const h=C.slice(1,C.length);return Ge(g,h)}switch(C){case de.bool:return Gt(g);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return me(g);case de.json:case de.jsonb:return je(g);case de.timestamp:return wt(g);default:return rt(g)}},rt=C=>C,Gt=C=>{switch(C){case"t":return!0;case"f":return!1;default:return C}},me=C=>{if("string"==typeof C){const g=parseFloat(C);if(!Number.isNaN(g))return g}return C},je=C=>{if("string"==typeof C)try{return JSON.parse(C)}catch(g){return console.log(`JSON parse error: ${g}`),C}return C},Ge=(C,g)=>{if("string"!=typeof C)return C;const h=C.length-1;if("{"===C[0]&&"}"===C[h]){let R;const P=C.slice(1,h);try{R=JSON.parse("["+P+"]")}catch{R=P?P.split(","):[]}return R.map(H=>ct(g,H))}return C},wt=C=>"string"==typeof C?C.replace(" ","T"):C,Fe=C=>{let g=C;return g=g.replace(/^ws/i,"http"),g=g.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),g.replace(/\/+$/,"")+"/api/broadcast"};class Ht{constructor(g,h,f={},k=1e4){this.channel=g,this.event=h,this.payload=f,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(g){this.timeout=g,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(g){this.payload=Object.assign(Object.assign({},this.payload),g)}receive(g,h){var f;return this._hasReceived(g)&&h(null===(f=this.receivedResp)||void 0===f?void 0:f.response),this.recHooks.push({status:g,callback:h}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},h=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=h,this._matchReceive(h)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(g,h){this.refEvent&&this.channel._trigger(this.refEvent,{status:g,response:h})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:g,response:h}){this.recHooks.filter(f=>f.status===g).forEach(f=>f.callback(h))}_hasReceived(g){return this.receivedResp&&this.receivedResp.status===g}}class an{constructor(g,h){this.channel=g,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=h?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},k=>{const{onJoin:R,onLeave:P,onSync:H}=this.caller;this.joinRef=this.channel._joinRef(),this.state=an.syncState(this.state,k,R,P),this.pendingDiffs.forEach(G=>{this.state=an.syncDiff(this.state,G,R,P)}),this.pendingDiffs=[],H()}),this.channel._on(f.diff,{},k=>{const{onJoin:R,onLeave:P,onSync:H}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(k):(this.state=an.syncDiff(this.state,k,R,P),H())}),this.onJoin((k,R,P)=>{this.channel._trigger("presence",{event:"join",key:k,currentPresences:R,newPresences:P})}),this.onLeave((k,R,P)=>{this.channel._trigger("presence",{event:"leave",key:k,currentPresences:R,leftPresences:P})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(g,h,f,k){const R=this.cloneDeep(g),P=this.transformState(h),H={},G={};return this.map(R,(J,ne)=>{P[J]||(G[J]=ne)}),this.map(P,(J,ne)=>{const _e=R[J];if(_e){const ut=ne.map(Mt=>Mt.presence_ref),nt=_e.map(Mt=>Mt.presence_ref),at=ne.filter(Mt=>nt.indexOf(Mt.presence_ref)<0),It=_e.filter(Mt=>ut.indexOf(Mt.presence_ref)<0);at.length>0&&(H[J]=at),It.length>0&&(G[J]=It)}else H[J]=ne}),this.syncDiff(R,{joins:H,leaves:G},f,k)}static syncDiff(g,h,f,k){const{joins:R,leaves:P}={joins:this.transformState(h.joins),leaves:this.transformState(h.leaves)};return f||(f=()=>{}),k||(k=()=>{}),this.map(R,(H,G)=>{var J;const ne=null!==(J=g[H])&&void 0!==J?J:[];if(g[H]=this.cloneDeep(G),ne.length>0){const _e=g[H].map(nt=>nt.presence_ref),ut=ne.filter(nt=>_e.indexOf(nt.presence_ref)<0);g[H].unshift(...ut)}f(H,ne,G)}),this.map(P,(H,G)=>{let J=g[H];if(!J)return;const ne=G.map(_e=>_e.presence_ref);J=J.filter(_e=>ne.indexOf(_e.presence_ref)<0),g[H]=J,k(H,J,G),0===J.length&&delete g[H]}),g}static map(g,h){return Object.getOwnPropertyNames(g).map(f=>h(f,g[f]))}static transformState(g){return g=this.cloneDeep(g),Object.getOwnPropertyNames(g).reduce((h,f)=>{const k=g[f];return h[f]="metas"in k?k.metas.map(R=>(R.presence_ref=R.phx_ref,delete R.phx_ref,delete R.phx_ref_prev,R)):k,h},{})}static cloneDeep(g){return JSON.parse(JSON.stringify(g))}onJoin(g){this.caller.onJoin=g}onLeave(g){this.caller.onLeave=g}onSync(g){this.caller.onSync=g}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dr=function(C){return C.BROADCAST="broadcast",C.PRESENCE="presence",C.POSTGRES_CHANGES="postgres_changes",C.SYSTEM="system",C}(dr||{}),jn=function(C){return C.SUBSCRIBED="SUBSCRIBED",C.TIMED_OUT="TIMED_OUT",C.CLOSED="CLOSED",C.CHANNEL_ERROR="CHANNEL_ERROR",C}(jn||{});class un{constructor(g,h={config:{}},f){this.topic=g,this.params=h,this.socket=f,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=g.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},h.config),this.timeout=this.socket.timeout,this.joinPush=new Ht(this,Te.join,this.params,this.timeout),this.rejoinTimer=new ge(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(k=>k.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Te.reply,{},(k,R)=>{this._trigger(this._replyEventName(R),k)}),this.presence=new an(this),this.broadcastEndpointURL=Fe(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(g,h=this.timeout){var k,R,f=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:P,presence:H,private:G}}=this.params,J=null!==(R=null===(k=this.bindings.postgres_changes)||void 0===k?void 0:k.map(nt=>nt.filter))&&void 0!==R?R:[],ne=!!this.bindings[dr.PRESENCE]&&this.bindings[dr.PRESENCE].length>0,_e={},ut={broadcast:P,presence:Object.assign(Object.assign({},H),{enabled:ne}),postgres_changes:J,private:G};this.socket.accessTokenValue&&(_e.access_token=this.socket.accessTokenValue),this._onError(nt=>g?.(jn.CHANNEL_ERROR,nt)),this._onClose(()=>g?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:ut},_e)),this.joinedOnce=!0,this._rejoin(h),this.joinPush.receive("ok",function(){var nt=(0,E.A)(function*({postgres_changes:at}){var It;if(f.socket.setAuth(),void 0!==at){const Mt=f.bindings.postgres_changes,kn=null!==(It=Mt?.length)&&void 0!==It?It:0,vn=[];for(let Qt=0;Qt<kn;Qt++){const ur=Mt[Qt],{filter:{event:St,schema:Mn,table:Sa,filter:mn}}=ur,Nn=at&&at[Qt];if(!Nn||Nn.event!==St||Nn.schema!==Mn||Nn.table!==Sa||Nn.filter!==mn)return f.unsubscribe(),f.state=Xt.errored,void g?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));vn.push(Object.assign(Object.assign({},ur),{id:Nn.id}))}return f.bindings.postgres_changes=vn,void(g&&g(jn.SUBSCRIBED))}g?.(jn.SUBSCRIBED)});return function(at){return nt.apply(this,arguments)}}()).receive("error",nt=>{this.state=Xt.errored,g?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(nt).join(", ")||"error")))}).receive("timeout",()=>{g?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(g){var h=this;return(0,E.A)(function*(f,k={}){return yield h.send({type:"presence",event:"track",payload:f},k.timeout||h.timeout)}).apply(this,arguments)}untrack(){var g=this;return(0,E.A)(function*(h={}){return yield g.send({type:"presence",event:"untrack"},h)}).apply(this,arguments)}on(g,h,f){return this.state===Xt.joined&&g===dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(g,h,f)}send(g){var h=this;return(0,E.A)(function*(f,k={}){var R,P;if(h._canPush()||"broadcast"!==f.type)return new Promise(H=>{var G,J,ne;const _e=h._push(f.type,f,k.timeout||h.timeout);"broadcast"===f.type&&!(null!==(ne=null===(J=null===(G=h.params)||void 0===G?void 0:G.config)||void 0===J?void 0:J.broadcast)&&void 0!==ne&&ne.ack)&&H("ok"),_e.receive("ok",()=>H("ok")),_e.receive("error",()=>H("error")),_e.receive("timeout",()=>H("timed out"))});{const{event:H,payload:G}=f,ne={method:"POST",headers:{Authorization:h.socket.accessTokenValue?`Bearer ${h.socket.accessTokenValue}`:"",apikey:h.socket.apiKey?h.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:h.subTopic,event:H,payload:G,private:h.private}]})};try{const _e=yield h._fetchWithTimeout(h.broadcastEndpointURL,ne,null!==(R=k.timeout)&&void 0!==R?R:h.timeout);return yield null===(P=_e.body)||void 0===P?void 0:P.cancel(),_e.ok?"ok":"error"}catch(_e){return"AbortError"===_e.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(g){this.joinPush.updatePayload(g)}unsubscribe(g=this.timeout){this.state=Xt.leaving;const h=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Te.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(k=>{f=new Ht(this,Te.leave,{},g),f.receive("ok",()=>{h(),k("ok")}).receive("timeout",()=>{h(),k("timed out")}).receive("error",()=>{k("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f?.destroy()})}teardown(){this.pushBuffer.forEach(g=>g.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}_fetchWithTimeout(g,h,f){var k=this;return(0,E.A)(function*(){const R=new AbortController,P=setTimeout(()=>R.abort(),f),H=yield k.socket.fetch(g,Object.assign(Object.assign({},h),{signal:R.signal}));return clearTimeout(P),H})()}_push(g,h,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${g}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let k=new Ht(this,g,h,f);return this._canPush()?k.send():this._addToPushBuffer(k),k}_addToPushBuffer(g){if(g.startTimeout(),this.pushBuffer.push(g),this.pushBuffer.length>100){const h=this.pushBuffer.shift();h&&(h.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${h.event}`,h.payload))}}_onMessage(g,h,f){return h}_isMember(g){return this.topic===g}_joinRef(){return this.joinPush.ref}_trigger(g,h,f){var k,R;const P=g.toLocaleLowerCase(),{close:H,error:G,leave:J,join:ne}=Te;if(f&&[H,G,J,ne].indexOf(P)>=0&&f!==this._joinRef())return;let ut=this._onMessage(P,h,f);if(h&&!ut)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(P)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(nt=>{var at,It,Mt;return"*"===(null===(at=nt.filter)||void 0===at?void 0:at.event)||(null===(Mt=null===(It=nt.filter)||void 0===It?void 0:It.event)||void 0===Mt?void 0:Mt.toLocaleLowerCase())===P}).map(nt=>nt.callback(ut,f)):null===(R=this.bindings[P])||void 0===R||R.filter(nt=>{var at,It,Mt,kn,vn,Qt;if(["broadcast","presence","postgres_changes"].includes(P)){if("id"in nt){const ur=nt.id,St=null===(at=nt.filter)||void 0===at?void 0:at.event;return ur&&(null===(It=h.ids)||void 0===It?void 0:It.includes(ur))&&("*"===St||St?.toLocaleLowerCase()===(null===(Mt=h.data)||void 0===Mt?void 0:Mt.type.toLocaleLowerCase()))}{const ur=null===(vn=null===(kn=nt?.filter)||void 0===kn?void 0:kn.event)||void 0===vn?void 0:vn.toLocaleLowerCase();return"*"===ur||ur===(null===(Qt=h?.event)||void 0===Qt?void 0:Qt.toLocaleLowerCase())}}return nt.type.toLocaleLowerCase()===P}).map(nt=>{if("object"==typeof ut&&"ids"in ut){const at=ut.data,{schema:It,table:Mt,commit_timestamp:kn,type:vn,errors:Qt}=at;ut=Object.assign(Object.assign({},{schema:It,table:Mt,commit_timestamp:kn,eventType:vn,new:{},old:{},errors:Qt}),this._getPayloadRecords(at))}nt.callback(ut,f)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(g){return`chan_reply_${g}`}_on(g,h,f){const k=g.toLocaleLowerCase(),R={type:k,filter:h,callback:f};return this.bindings[k]?this.bindings[k].push(R):this.bindings[k]=[R],this}_off(g,h){const f=g.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(k=>{var R;return!((null===(R=k.type)||void 0===R?void 0:R.toLocaleLowerCase())===f&&un.isEqual(k.filter,h))})),this}static isEqual(g,h){if(Object.keys(g).length!==Object.keys(h).length)return!1;for(const f in g)if(g[f]!==h[f])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(g){this._on(Te.close,{},g)}_onError(g){this._on(Te.error,{},h=>g(h))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(g=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(g))}_getPayloadRecords(g){const h={new:{},old:{}};return("INSERT"===g.type||"UPDATE"===g.type)&&(h.new=we(g.columns,g.record)),("UPDATE"===g.type||"DELETE"===g.type)&&(h.old=we(g.columns,g.old_record)),h}}const Bn=()=>{},oo=[1e3,2e3,5e3,1e4];class xo{constructor(g,h){var f;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bn,this.ref=0,this.reconnectTimer=null,this.logger=Bn,this.conn=null,this.sendBuffer=[],this.serializer=new le,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=k=>{let R;return R=k||(typeof fetch>"u"?(...P)=>Promise.resolve().then(V.bind(V,5286)).then(({default:H})=>H(...P)).catch(H=>{throw new Error(`Failed to load @supabase/node-fetch: ${H.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...P)=>R(...P)},null===(f=h?.params)||void 0===f||!f.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=h.params.apikey,this.endPoint=`${g}/${Ve.websocket}`,this.httpEndpoint=Fe(g),this._initializeOptions(h),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(h?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ke.createWebSocket(this.endpointURL())}catch(g){this._setConnectionState("disconnected");const h=g.message;throw h.includes("Node.js")?new Error(`${h}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${h}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(g,h){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},g?this.conn.close(g,h??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(g){var h=this;return(0,E.A)(function*(){const f=yield g.unsubscribe();return 0===h.channels.length&&h.disconnect(),f})()}removeAllChannels(){var g=this;return(0,E.A)(function*(){const h=yield Promise.all(g.channels.map(f=>f.unsubscribe()));return g.channels=[],g.disconnect(),h})()}log(g,h,f){this.logger(g,h,f)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return ie.Connecting;case ar.open:return ie.Open;case ar.closing:return ie.Closing;default:return ie.Closed}}isConnected(){return this.connectionState()===ie.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(g,h={config:{}}){const f=`realtime:${g}`,k=this.getChannels().find(R=>R.topic===f);if(k)return k;{const R=new un(`realtime:${g}`,h,this);return this.channels.push(R),R}}push(g){const{topic:h,event:f,payload:k,ref:R}=g,P=()=>{this.encode(g,H=>{var G;null===(G=this.conn)||void 0===G||G.send(H)})};this.log("push",`${h} ${f} (${R})`,k),this.isConnected()?P():this.sendBuffer.push(P)}setAuth(){var g=this;return(0,E.A)(function*(h=null){g._authPromise=g._performAuth(h);try{yield g._authPromise}finally{g._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var g=this;return(0,E.A)(function*(){var h;if(g.isConnected())return g.pendingHeartbeatRef?(g.pendingHeartbeatRef=null,g.log("transport","heartbeat timeout. Attempting to re-establish connection"),g.heartbeatCallback("timeout"),g._wasManualDisconnect=!1,null===(h=g.conn)||void 0===h||h.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var f;g.isConnected()||null===(f=g.reconnectTimer)||void 0===f||f.scheduleTimeout()},100)):(g.pendingHeartbeatRef=g._makeRef(),g.push({topic:"phoenix",event:"heartbeat",payload:{},ref:g.pendingHeartbeatRef}),g.heartbeatCallback("sent"),void g._setAuthSafely("heartbeat"));g.heartbeatCallback("disconnected")})()}onHeartbeat(g){this.heartbeatCallback=g}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(g=>g()),this.sendBuffer=[])}_makeRef(){let g=this.ref+1;return this.ref=g===this.ref?0:g,this.ref.toString()}_leaveOpenTopic(g){let h=this.channels.find(f=>f.topic===g&&(f._isJoined()||f._isJoining()));h&&(this.log("transport",`leaving duplicate topic "${g}"`),h.unsubscribe())}_remove(g){this.channels=this.channels.filter(h=>h.topic!==g.topic)}_onConnMessage(g){this.decode(g.data,h=>{"phoenix"===h.topic&&"phx_reply"===h.event&&this.heartbeatCallback("ok"===h.payload.status?"ok":"error"),h.ref&&h.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:k,payload:R,ref:P}=h;this.log("receive",`${R.status||""} ${f} ${k} ${P?`(${P})`:""}`.trim(),R),this.channels.filter(J=>J._isMember(f)).forEach(J=>J._trigger(k,R,P)),this._triggerStateCallbacks("message",h)})}_clearTimer(g){var h;"heartbeat"===g&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===g&&(null===(h=this.reconnectTimer)||void 0===h||h.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=g=>this._onConnError(g),this.conn.onmessage=g=>this._onConnMessage(g),this.conn.onclose=g=>this._onConnClose(g))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(g=>g.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const g=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(g),this.workerRef.onerror=h=>{this.log("worker","worker error",h.message),this.workerRef.terminate()},this.workerRef.onmessage=h=>{"keepAlive"===h.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(g){var h;this._setConnectionState("disconnected"),this.log("transport","close",g),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(h=this.reconnectTimer)||void 0===h||h.scheduleTimeout(),this._triggerStateCallbacks("close",g)}_onConnError(g){this._setConnectionState("disconnected"),this.log("transport",`${g}`),this._triggerChanError(),this._triggerStateCallbacks("error",g)}_triggerChanError(){this.channels.forEach(g=>g._trigger(Te.error))}_appendParams(g,h){if(0===Object.keys(h).length)return g;const f=g.match(/\?/)?"&":"?";return`${g}${f}${new URLSearchParams(h)}`}_workerObjectUrl(g){let h;if(g)h=g;else{const f=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});h=URL.createObjectURL(f)}return h}_setConnectionState(g,h=!1){this._connectionState=g,"connecting"===g?this._wasManualDisconnect=!1:"disconnecting"===g&&(this._wasManualDisconnect=h)}_performAuth(){var g=this;return(0,E.A)(function*(h=null){let f;f=h||(g.accessToken?yield g.accessToken():g.accessTokenValue),g.accessTokenValue!=f&&(g.accessTokenValue=f,g.channels.forEach(k=>{f&&k.updateJoinPayload({access_token:f,version:"realtime-js/2.15.1"}),k.joinedOnce&&k._isJoined()&&k._push(Te.access_token,{access_token:f})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var g=this;return(0,E.A)(function*(){g._authPromise&&(yield g._authPromise)})()}_setAuthSafely(g="general"){this.setAuth().catch(h=>{this.log("error",`error setting auth in ${g}`,h)})}_triggerStateCallbacks(g,h){try{this.stateChangeCallbacks[g].forEach(f=>{try{f(h)}catch(k){this.log("error",`error in ${g} callback`,k)}})}catch(f){this.log("error",`error triggering ${g} callbacks`,f)}}_setupReconnectionTimer(){var g=this;this.reconnectTimer=new ge((0,E.A)(function*(){setTimeout((0,E.A)(function*(){yield g._waitForAuthIfNeeded(),g.isConnected()||g.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(g){var h,f,k,R,P,H,G,J;if(this.transport=null!==(h=g?.transport)&&void 0!==h?h:null,this.timeout=null!==(f=g?.timeout)&&void 0!==f?f:1e4,this.heartbeatIntervalMs=null!==(k=g?.heartbeatIntervalMs)&&void 0!==k?k:25e3,this.worker=null!==(R=g?.worker)&&void 0!==R&&R,this.accessToken=null!==(P=g?.accessToken)&&void 0!==P?P:null,g?.params&&(this.params=g.params),g?.logger&&(this.logger=g.logger),(g?.logLevel||g?.log_level)&&(this.logLevel=g.logLevel||g.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(H=g?.reconnectAfterMs)&&void 0!==H?H:ne=>oo[ne-1]||1e4,this.encode=null!==(G=g?.encode)&&void 0!==G?G:(ne,_e)=>_e(JSON.stringify(ne)),this.decode=null!==(J=g?.decode)&&void 0!==J?J:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=g?.workerUrl}}}class Rn extends Error{constructor(g){super(g),this.__isStorageError=!0,this.name="StorageError"}}function qt(C){return"object"==typeof C&&null!==C&&"__isStorageError"in C}class Go extends Rn{constructor(g,h,f){super(g),this.name="StorageApiError",this.status=h,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Er extends Rn{constructor(g,h){super(g),this.name="StorageUnknownError",this.originalError=h}}const Hr=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},Yn=C=>{if(Array.isArray(C))return C.map(h=>Yn(h));if("function"==typeof C||C!==Object(C))return C;const g={};return Object.entries(C).forEach(([h,f])=>{const k=h.replace(/([-_][a-z])/gi,R=>R.toUpperCase().replace(/[-_]/g,""));g[k]=Yn(f)}),g};var kr=function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})};const ao=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),la=(C,g,h)=>kr(void 0,void 0,void 0,function*(){const f=yield function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(V.bind(V,5286))).Response:Response});C instanceof f&&!h?.noResolveJson?C.json().then(k=>{const R=C.status||500,P=k?.statusCode||R+"";g(new Go(ao(k),R,P))}).catch(k=>{g(new Er(ao(k),k))}):g(new Er(ao(C),C))});function Jn(C,g,h,f,k,R){return kr(this,void 0,void 0,function*(){return new Promise((P,H)=>{C(h,((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"!==C&&f?((C=>{if("object"!=typeof C||null===C)return!1;const g=Object.getPrototypeOf(C);return!(null!==g&&g!==Object.prototype&&null!==Object.getPrototypeOf(g)||Symbol.toStringTag in C||Symbol.iterator in C)})(f)?(k.headers=Object.assign({"Content-Type":"application/json"},g?.headers),k.body=JSON.stringify(f)):k.body=f,g?.duplex&&(k.duplex=g.duplex),Object.assign(Object.assign({},k),h)):k})(g,f,k,R)).then(G=>{if(!G.ok)throw G;return f?.noResolveJson?G:G.json()}).then(G=>P(G)).catch(G=>la(G,H,f))})})}function Dr(C,g,h,f){return kr(this,void 0,void 0,function*(){return Jn(C,"GET",g,h,f)})}function Zn(C,g,h,f,k){return kr(this,void 0,void 0,function*(){return Jn(C,"POST",g,f,k,h)})}function io(C,g,h,f,k){return kr(this,void 0,void 0,function*(){return Jn(C,"PUT",g,f,k,h)})}function Cr(C,g,h,f,k){return kr(this,void 0,void 0,function*(){return Jn(C,"DELETE",g,f,k,h)})}var hn=function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})};const Wr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gn{constructor(g,h={},f,k){this.url=g,this.headers=h,this.bucketId=f,this.fetch=Hr(k)}uploadOrUpdate(g,h,f,k){return hn(this,void 0,void 0,function*(){try{let R;const P=Object.assign(Object.assign({},Hn),k);let H=Object.assign(Object.assign({},this.headers),"POST"===g&&{"x-upsert":String(P.upsert)});const G=P.metadata;typeof Blob<"u"&&f instanceof Blob?(R=new FormData,R.append("cacheControl",P.cacheControl),G&&R.append("metadata",this.encodeMetadata(G)),R.append("",f)):typeof FormData<"u"&&f instanceof FormData?(R=f,R.append("cacheControl",P.cacheControl),G&&R.append("metadata",this.encodeMetadata(G))):(R=f,H["cache-control"]=`max-age=${P.cacheControl}`,H["content-type"]=P.contentType,G&&(H["x-metadata"]=this.toBase64(this.encodeMetadata(G)))),k?.headers&&(H=Object.assign(Object.assign({},H),k.headers));const J=this._removeEmptyFolders(h),ne=this._getFinalPath(J),_e=yield("PUT"==g?io:Zn)(this.fetch,`${this.url}/object/${ne}`,R,Object.assign({headers:H},P?.duplex?{duplex:P.duplex}:{}));return{data:{path:J,id:_e.Id,fullPath:_e.Key},error:null}}catch(R){if(qt(R))return{data:null,error:R};throw R}})}upload(g,h,f){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",g,h,f)})}uploadToSignedUrl(g,h,f,k){return hn(this,void 0,void 0,function*(){const R=this._removeEmptyFolders(g),P=this._getFinalPath(R),H=new URL(this.url+`/object/upload/sign/${P}`);H.searchParams.set("token",h);try{let G;const J=Object.assign({upsert:Hn.upsert},k),ne=Object.assign(Object.assign({},this.headers),{"x-upsert":String(J.upsert)});return typeof Blob<"u"&&f instanceof Blob?(G=new FormData,G.append("cacheControl",J.cacheControl),G.append("",f)):typeof FormData<"u"&&f instanceof FormData?(G=f,G.append("cacheControl",J.cacheControl)):(G=f,ne["cache-control"]=`max-age=${J.cacheControl}`,ne["content-type"]=J.contentType),{data:{path:R,fullPath:(yield io(this.fetch,H.toString(),G,{headers:ne})).Key},error:null}}catch(G){if(qt(G))return{data:null,error:G};throw G}})}createSignedUploadUrl(g,h){return hn(this,void 0,void 0,function*(){try{let f=this._getFinalPath(g);const k=Object.assign({},this.headers);h?.upsert&&(k["x-upsert"]="true");const R=yield Zn(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:k}),P=new URL(this.url+R.url),H=P.searchParams.get("token");if(!H)throw new Rn("No token returned by API");return{data:{signedUrl:P.toString(),path:g,token:H},error:null}}catch(f){if(qt(f))return{data:null,error:f};throw f}})}update(g,h,f){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",g,h,f)})}move(g,h,f){return hn(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers}),error:null}}catch(k){if(qt(k))return{data:null,error:k};throw k}})}copy(g,h,f){return hn(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:g,destinationKey:h,destinationBucket:f?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(k){if(qt(k))return{data:null,error:k};throw k}})}createSignedUrl(g,h,f){return hn(this,void 0,void 0,function*(){try{let k=this._getFinalPath(g),R=yield Zn(this.fetch,`${this.url}/object/sign/${k}`,Object.assign({expiresIn:h},f?.transform?{transform:f.transform}:{}),{headers:this.headers});const P=f?.download?`&download=${!0===f.download?"":f.download}`:"";return R={signedUrl:encodeURI(`${this.url}${R.signedURL}${P}`)},{data:R,error:null}}catch(k){if(qt(k))return{data:null,error:k};throw k}})}createSignedUrls(g,h,f){return hn(this,void 0,void 0,function*(){try{const k=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:h,paths:g},{headers:this.headers}),R=f?.download?`&download=${!0===f.download?"":f.download}`:"";return{data:k.map(P=>Object.assign(Object.assign({},P),{signedUrl:P.signedURL?encodeURI(`${this.url}${P.signedURL}${R}`):null})),error:null}}catch(k){if(qt(k))return{data:null,error:k};throw k}})}download(g,h){return hn(this,void 0,void 0,function*(){const k=typeof h?.transform<"u"?"render/image/authenticated":"object",R=this.transformOptsToQueryString(h?.transform||{}),P=R?`?${R}`:"";try{const H=this._getFinalPath(g);return{data:yield(yield Dr(this.fetch,`${this.url}/${k}/${H}${P}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(H){if(qt(H))return{data:null,error:H};throw H}})}info(g){return hn(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{const f=yield Dr(this.fetch,`${this.url}/object/info/${h}`,{headers:this.headers});return{data:Yn(f),error:null}}catch(f){if(qt(f))return{data:null,error:f};throw f}})}exists(g){return hn(this,void 0,void 0,function*(){const h=this._getFinalPath(g);try{return yield function so(C,g,h,f){return kr(this,void 0,void 0,function*(){return Jn(C,"HEAD",g,Object.assign(Object.assign({},h),{noResolveJson:!0}),f)})}(this.fetch,`${this.url}/object/${h}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(qt(f)&&f instanceof Er){const k=f.originalError;if([400,404].includes(k?.status))return{data:!1,error:f}}throw f}})}getPublicUrl(g,h){const f=this._getFinalPath(g),k=[],R=h?.download?`download=${!0===h.download?"":h.download}`:"";""!==R&&k.push(R);const H=typeof h?.transform<"u"?"render/image":"object",G=this.transformOptsToQueryString(h?.transform||{});""!==G&&k.push(G);let J=k.join("&");return""!==J&&(J=`?${J}`),{data:{publicUrl:encodeURI(`${this.url}/${H}/public/${f}${J}`)}}}remove(g){return hn(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:g},{headers:this.headers}),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}list(g,h,f){return hn(this,void 0,void 0,function*(){try{const k=Object.assign(Object.assign(Object.assign({},Wr),h),{prefix:g||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,k,{headers:this.headers},f),error:null}}catch(k){if(qt(k))return{data:null,error:k};throw k}})}listV2(g,h){return hn(this,void 0,void 0,function*(){try{const f=Object.assign({},g);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},h),error:null}}catch(f){if(qt(f))return{data:null,error:f};throw f}})}encodeMetadata(g){return JSON.stringify(g)}toBase64(g){return typeof Buffer<"u"?Buffer.from(g).toString("base64"):btoa(g)}_getFinalPath(g){return`${this.bucketId}/${g.replace(/^\/+/,"")}`}_removeEmptyFolders(g){return g.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(g){const h=[];return g.width&&h.push(`width=${g.width}`),g.height&&h.push(`height=${g.height}`),g.resize&&h.push(`resize=${g.resize}`),g.format&&h.push(`format=${g.format}`),g.quality&&h.push(`quality=${g.quality}`),h.join("&")}}const Ea={"X-Client-Info":"storage-js/2.11.0"};var Un=function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})};class Zr{constructor(g,h={},f,k){const R=new URL(g);k?.useNewHostname&&/supabase\.(co|in|red)$/.test(R.hostname)&&!R.hostname.includes("storage.supabase.")&&(R.hostname=R.hostname.replace("supabase.","storage.supabase.")),this.url=R.href,this.headers=Object.assign(Object.assign({},Ea),h),this.fetch=Hr(f)}listBuckets(){return Un(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(g){if(qt(g))return{data:null,error:g};throw g}})}getBucket(g){return Un(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${g}`,{headers:this.headers}),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}createBucket(g,h={public:!1}){return Un(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:g,name:g,type:h.type,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(qt(f))return{data:null,error:f};throw f}})}updateBucket(g,h){return Un(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${g}`,{id:g,name:g,public:h.public,file_size_limit:h.fileSizeLimit,allowed_mime_types:h.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(qt(f))return{data:null,error:f};throw f}})}emptyBucket(g){return Un(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${g}/empty`,{},{headers:this.headers}),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}deleteBucket(g){return Un(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${g}`,{},{headers:this.headers}),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}}class zr extends Zr{constructor(g,h={},f,k){super(g,h,f,k)}from(g){return new Gn(this.url,this.headers,g,this.fetch)}}let Sr="";Sr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const mr={headers:{"X-Client-Info":`supabase-js-${Sr}/2.56.0`}},Ar={schema:"public"},Yt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wn={};var uo=V(5286);const Oo=(C,g,h)=>{const f=(C=>{let g;return g=C||(typeof fetch>"u"?uo.default:fetch),(...h)=>g(...h)})(h),k=typeof Headers>"u"?uo.Headers:Headers;return(R,P)=>function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})}(void 0,void 0,void 0,function*(){var H;const G=null!==(H=yield g())&&void 0!==H?H:C;let J=new k(P?.headers);return J.has("apikey")||J.set("apikey",C),J.has("Authorization")||J.set("Authorization",`Bearer ${G}`),f(R,Object.assign(Object.assign({},P),{headers:J}))})};const hr=3e4,Rr="X-Supabase-Api-Version",er_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),er_2024_01_01_name="2024-01-01",Or=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class co extends Error{constructor(g,h,f){super(g),this.__isAuthError=!0,this.name="AuthError",this.status=h,this.code=f}}function Dt(C){return"object"==typeof C&&null!==C&&"__isAuthError"in C}class mo extends co{constructor(g,h,f){super(g,h,f),this.name="AuthApiError",this.status=h,this.code=f}}class Fo extends co{constructor(g,h){super(g),this.name="AuthUnknownError",this.originalError=h}}class tr extends co{constructor(g,h,f,k){super(g,f,k),this.name=h,this.status=f}}class wn extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class fr extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yr extends tr{constructor(g){super(g,"AuthInvalidCredentialsError",400,void 0)}}class gr extends tr{constructor(g,h=null){super(g,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nr extends tr{constructor(g,h=null){super(g,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=h}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qn extends tr{constructor(g,h){super(g,"AuthRetryableFetchError",h,void 0)}}function Gr(C){return Dt(C)&&"AuthRetryableFetchError"===C.name}class ho extends tr{constructor(g,h,f){super(g,"AuthWeakPasswordError",h,"weak_password"),this.reasons=f}}class ca extends tr{constructor(g){super(g,"AuthInvalidJwtError",400,"invalid_jwt")}}const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q=" \t\n\r=".split(""),F=(()=>{const C=new Array(128);for(let g=0;g<C.length;g+=1)C[g]=-1;for(let g=0;g<Q.length;g+=1)C[Q[g].charCodeAt(0)]=-2;for(let g=0;g<S.length;g+=1)C[S[g].charCodeAt(0)]=g;return C})();function $(C,g,h){if(null!==C)for(g.queue=g.queue<<8|C,g.queuedBits+=8;g.queuedBits>=6;)h(S[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6;else if(g.queuedBits>0)for(g.queue=g.queue<<6-g.queuedBits,g.queuedBits=6;g.queuedBits>=6;)h(S[g.queue>>g.queuedBits-6&63]),g.queuedBits-=6}function se(C,g,h){const f=F[C];if(!(f>-1)){if(-2===f)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(C)}"`)}for(g.queue=g.queue<<6|f,g.queuedBits+=6;g.queuedBits>=8;)h(g.queue>>g.queuedBits-8&255),g.queuedBits-=8}function $e(C){const g=[],h=P=>{g.push(String.fromCodePoint(P))},f={utf8seq:0,codepoint:0},k={queue:0,queuedBits:0},R=P=>{!function Bt(C,g,h){if(0===g.utf8seq){if(C<=127)return void h(C);for(let f=1;f<6;f+=1)if(!(C>>7-f&1)){g.utf8seq=f;break}if(2===g.utf8seq)g.codepoint=31&C;else if(3===g.utf8seq)g.codepoint=15&C;else{if(4!==g.utf8seq)throw new Error("Invalid UTF-8 sequence");g.codepoint=7&C}g.utf8seq-=1}else if(g.utf8seq>0){if(C<=127)throw new Error("Invalid UTF-8 sequence");g.codepoint=g.codepoint<<6|63&C,g.utf8seq-=1,0===g.utf8seq&&h(g.codepoint)}}(P,f,h)};for(let P=0;P<C.length;P+=1)se(C.charCodeAt(P),k,R);return g.join("")}function ot(C,g){if(!(C<=127)){if(C<=2047)return g(192|C>>6),void g(128|63&C);if(C<=65535)return g(224|C>>12),g(128|C>>6&63),void g(128|63&C);if(C<=1114111)return g(240|C>>18),g(128|C>>12&63),g(128|C>>6&63),void g(128|63&C);throw new Error(`Unrecognized Unicode codepoint: ${C.toString(16)}`)}g(C)}function Vt(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};for(let k=0;k<C.length;k+=1)se(C.charCodeAt(k),h,f);return new Uint8Array(g)}function gn(C){const g=[],h={queue:0,queuedBits:0},f=k=>{g.push(k)};return C.forEach(k=>$(k,h,f)),$(null,h,f),g.join("")}const _n=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},eo=()=>{if(!_n())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(nr.tested)return nr.writable;const C=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(C,C),globalThis.localStorage.removeItem(C),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable},to=C=>{let g;return g=C||(typeof fetch>"u"?(...h)=>Promise.resolve().then(V.bind(V,5286)).then(({default:f})=>f(...h)):fetch),(...h)=>g(...h)},rr=function(){var C=(0,E.A)(function*(g,h,f){yield g.setItem(h,JSON.stringify(f))});return function(h,f,k){return C.apply(this,arguments)}}(),Eo=function(){var C=(0,E.A)(function*(g,h){const f=yield g.getItem(h);if(!f)return null;try{return JSON.parse(f)}catch{return f}});return function(h,f){return C.apply(this,arguments)}}(),Qr=function(){var C=(0,E.A)(function*(g,h){yield g.removeItem(h)});return function(h,f){return C.apply(this,arguments)}}();class jo{constructor(){this.promise=new jo.promiseConstructor((g,h)=>{this.resolve=g,this.reject=h})}}function Xr(C){const g=C.split(".");if(3!==g.length)throw new ca("Invalid JWT structure");for(let f=0;f<g.length;f++)if(!Or.test(g[f]))throw new ca("JWT not in base64url format");return{header:JSON.parse($e(g[0])),payload:JSON.parse($e(g[1])),signature:Vt(g[2]),raw:{header:g[0],payload:g[1]}}}function _r(){return(_r=(0,E.A)(function*(C){return yield new Promise(g=>{setTimeout(()=>g(null),C)})})).apply(this,arguments)}function Xo(C){return("0"+C.toString(16)).substr(-2)}function Yo(){return(Yo=(0,E.A)(function*(C){const h=(new TextEncoder).encode(C),f=yield crypto.subtle.digest("SHA-256",h),k=new Uint8Array(f);return Array.from(k).map(R=>String.fromCharCode(R)).join("")})).apply(this,arguments)}function Fr(){return Fr=(0,E.A)(function*(C){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),C;const h=yield function Ka(C){return Yo.apply(this,arguments)}(C);return btoa(h).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Fr.apply(this,arguments)}function jr(C,g){return tn.apply(this,arguments)}function tn(){return tn=(0,E.A)(function*(C,g,h=!1){const f=function da(){const g=new Uint32Array(56);if(typeof crypto>"u"){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=h.length;let k="";for(let R=0;R<56;R++)k+=h.charAt(Math.floor(Math.random()*f));return k}return crypto.getRandomValues(g),Array.from(g,Xo).join("")}();let k=f;h&&(k+="/PASSWORD_RECOVERY"),yield rr(C,`${g}-code-verifier`,k);const R=yield function Lr(C){return Fr.apply(this,arguments)}(f);return[R,f===R?"plain":"s256"]}),tn.apply(this,arguments)}jo.promiseConstructor=Promise;const j=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,he=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function De(C){if(!he.test(C))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Le(){return new Proxy({},{get:(g,h)=>{if("__isUserNotAvailableProxy"===h)return!0;if("symbol"==typeof h){const f=h.toString();if("Symbol(Symbol.toPrimitive)"===f||"Symbol(Symbol.toStringTag)"===f||"Symbol(util.inspect.custom)"===f)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${h}" property of the session object is not supported. Please use getUser() instead.`)},set:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(g,h)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${h}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qe(C){return JSON.parse(JSON.stringify(C))}const pt=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),Lt=[502,503,504];function lt(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,E.A)(function*(C){var g;if(!(C=>"object"==typeof C&&null!==C&&"status"in C&&"ok"in C&&"json"in C&&"function"==typeof C.json)(C))throw new qn(pt(C),0);if(Lt.includes(C.status))throw new qn(pt(C),C.status);let h,f;try{h=yield C.json()}catch(R){throw new Fo(pt(R),R)}const k=function D(C){const g=C.headers.get(Rr);if(!g||!g.match(j))return null;try{return new Date(`${g}T00:00:00.0Z`)}catch{return null}}(C);if(k&&k.getTime()>=er_2024_01_01_timestamp&&"object"==typeof h&&h&&"string"==typeof h.code?f=h.code:"object"==typeof h&&h&&"string"==typeof h.error_code&&(f=h.error_code),f){if("weak_password"===f)throw new ho(pt(h),C.status,(null===(g=h.weak_password)||void 0===g?void 0:g.reasons)||[]);if("session_not_found"===f)throw new wn}else if("object"==typeof h&&h&&"object"==typeof h.weak_password&&h.weak_password&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.reasons.reduce((R,P)=>R&&"string"==typeof P,!0))throw new ho(pt(h),C.status,h.weak_password.reasons);throw new mo(pt(h),C.status||500,f)})).apply(this,arguments)}function ft(C,g,h,f){return dn.apply(this,arguments)}function dn(){return dn=(0,E.A)(function*(C,g,h,f){var k;const R=Object.assign({},f?.headers);R[Rr]||(R[Rr]=er_2024_01_01_name),f?.jwt&&(R.Authorization=`Bearer ${f.jwt}`);const P=null!==(k=f?.query)&&void 0!==k?k:{};f?.redirectTo&&(P.redirect_to=f.redirectTo);const H=Object.keys(P).length?"?"+new URLSearchParams(P).toString():"",G=yield function pn(C,g,h,f,k,R){return lr.apply(this,arguments)}(C,g,h+H,{headers:R,noResolveJson:f?.noResolveJson},{},f?.body);return f?.xform?f?.xform(G):{data:Object.assign({},G),error:null}}),dn.apply(this,arguments)}function lr(){return(lr=(0,E.A)(function*(C,g,h,f,k,R){const P=((C,g,h,f)=>{const k={method:C,headers:g?.headers||{}};return"GET"===C?k:(k.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},g?.headers),k.body=JSON.stringify(f),Object.assign(Object.assign({},k),h))})(g,f,k,R);let H;try{H=yield C(h,Object.assign({},P))}catch(G){throw console.error(G),new qn(pt(G),0)}if(H.ok||(yield lt(H)),f?.noResolveJson)return H;try{return yield H.json()}catch(G){yield lt(G)}})).apply(this,arguments)}function $t(C){var g;let h=null;return function zn(C){return C.access_token&&C.refresh_token&&C.expires_in}(C)&&(h=Object.assign({},C),C.expires_at||(h.expires_at=function en(C){return Math.round(Date.now()/1e3)+C}(C.expires_in))),{data:{session:h,user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function xt(C){const g=$t(C);return!g.error&&C.weak_password&&"object"==typeof C.weak_password&&Array.isArray(C.weak_password.reasons)&&C.weak_password.reasons.length&&C.weak_password.message&&"string"==typeof C.weak_password.message&&C.weak_password.reasons.reduce((h,f)=>h&&"string"==typeof f,!0)&&(g.data.weak_password=C.weak_password),g}function nn(C){var g;return{data:{user:null!==(g=C.user)&&void 0!==g?g:C},error:null}}function Pn(C){return{data:C,error:null}}function Ga(C){const{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:R}=C,P=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(C,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:g,email_otp:h,hashed_token:f,redirect_to:k,verification_type:R},user:Object.assign({},P)},error:null}}function Xn(C){return C}const ko=["global","local","others"];class Wi{constructor({url:g="",headers:h={},fetch:f}){this.url=g,this.headers=h,this.fetch=to(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(g){var h=this;return(0,E.A)(function*(f,k=ko[0]){if(ko.indexOf(k)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ko.join(", ")}`);try{return yield ft(h.fetch,"POST",`${h.url}/logout?scope=${k}`,{headers:h.headers,jwt:f,noResolveJson:!0}),{data:null,error:null}}catch(R){if(Dt(R))return{data:null,error:R};throw R}}).apply(this,arguments)}inviteUserByEmail(g){var h=this;return(0,E.A)(function*(f,k={}){try{return yield ft(h.fetch,"POST",`${h.url}/invite`,{body:{email:f,data:k.data},headers:h.headers,redirectTo:k.redirectTo,xform:nn})}catch(R){if(Dt(R))return{data:{user:null},error:R};throw R}}).apply(this,arguments)}generateLink(g){var h=this;return(0,E.A)(function*(){try{const{options:f}=g,k=function(C,g){var h={};for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&g.indexOf(f)<0&&(h[f]=C[f]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(f=Object.getOwnPropertySymbols(C);k<f.length;k++)g.indexOf(f[k])<0&&Object.prototype.propertyIsEnumerable.call(C,f[k])&&(h[f[k]]=C[f[k]])}return h}(g,["options"]),R=Object.assign(Object.assign({},k),f);return"newEmail"in k&&(R.new_email=k?.newEmail,delete R.newEmail),yield ft(h.fetch,"POST",`${h.url}/admin/generate_link`,{body:R,headers:h.headers,xform:Ga,redirectTo:f?.redirectTo})}catch(f){if(Dt(f))return{data:{properties:null,user:null},error:f};throw f}})()}createUser(g){var h=this;return(0,E.A)(function*(){try{return yield ft(h.fetch,"POST",`${h.url}/admin/users`,{body:g,headers:h.headers,xform:nn})}catch(f){if(Dt(f))return{data:{user:null},error:f};throw f}})()}listUsers(g){var h=this;return(0,E.A)(function*(){var f,k,R,P,H,G,J;try{const ne={nextPage:null,lastPage:0,total:0},_e=yield ft(h.fetch,"GET",`${h.url}/admin/users`,{headers:h.headers,noResolveJson:!0,query:{page:null!==(k=null===(f=g?.page)||void 0===f?void 0:f.toString())&&void 0!==k?k:"",per_page:null!==(P=null===(R=g?.perPage)||void 0===R?void 0:R.toString())&&void 0!==P?P:""},xform:Xn});if(_e.error)throw _e.error;const ut=yield _e.json(),nt=null!==(H=_e.headers.get("x-total-count"))&&void 0!==H?H:0,at=null!==(J=null===(G=_e.headers.get("link"))||void 0===G?void 0:G.split(","))&&void 0!==J?J:[];return at.length>0&&(at.forEach(It=>{const Mt=parseInt(It.split(";")[0].split("=")[1].substring(0,1)),kn=JSON.parse(It.split(";")[1].split("=")[1]);ne[`${kn}Page`]=Mt}),ne.total=parseInt(nt)),{data:Object.assign(Object.assign({},ut),ne),error:null}}catch(ne){if(Dt(ne))return{data:{users:[]},error:ne};throw ne}})()}getUserById(g){var h=this;return(0,E.A)(function*(){De(g);try{return yield ft(h.fetch,"GET",`${h.url}/admin/users/${g}`,{headers:h.headers,xform:nn})}catch(f){if(Dt(f))return{data:{user:null},error:f};throw f}})()}updateUserById(g,h){var f=this;return(0,E.A)(function*(){De(g);try{return yield ft(f.fetch,"PUT",`${f.url}/admin/users/${g}`,{body:h,headers:f.headers,xform:nn})}catch(k){if(Dt(k))return{data:{user:null},error:k};throw k}})()}deleteUser(g){var h=this;return(0,E.A)(function*(f,k=!1){De(f);try{return yield ft(h.fetch,"DELETE",`${h.url}/admin/users/${f}`,{headers:h.headers,body:{should_soft_delete:k},xform:nn})}catch(R){if(Dt(R))return{data:{user:null},error:R};throw R}}).apply(this,arguments)}_listFactors(g){var h=this;return(0,E.A)(function*(){De(g.userId);try{const{data:f,error:k}=yield ft(h.fetch,"GET",`${h.url}/admin/users/${g.userId}/factors`,{headers:h.headers,xform:R=>({data:{factors:R},error:null})});return{data:f,error:k}}catch(f){if(Dt(f))return{data:null,error:f};throw f}})()}_deleteFactor(g){var h=this;return(0,E.A)(function*(){De(g.userId),De(g.id);try{return{data:yield ft(h.fetch,"DELETE",`${h.url}/admin/users/${g.userId}/factors/${g.id}`,{headers:h.headers}),error:null}}catch(f){if(Dt(f))return{data:null,error:f};throw f}})()}}function Da(C={}){return{getItem:g=>C[g]||null,setItem:(g,h)=>{C[g]=h},removeItem:g=>{delete C[g]}}}const br_debug=!!(globalThis&&eo()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class An extends Error{constructor(g){super(g),this.isAcquireTimeout=!0}}class Zo extends An{}function ci(C,g,h){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,E.A)(function*(C,g,h){br_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",C,g);const f=new globalThis.AbortController;return g>0&&setTimeout(()=>{f.abort(),br_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",C)},g),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(C,0===g?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},function(){var k=(0,E.A)(function*(R){if(!R){if(0===g)throw br_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",C),new Zo(`Acquiring an exclusive Navigator LockManager lock "${C}" immediately failed`);if(br_debug)try{const P=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(P,null,"  "))}catch(P){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",P)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield h()}br_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",C,R.name);try{return yield h()}finally{br_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",C,R.name)}});return function(R){return k.apply(this,arguments)}}()))}),Fa.apply(this,arguments)}!function Do(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Ki={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.71.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function A(C,g,h){return M.apply(this,arguments)}function M(){return(M=(0,E.A)(function*(C,g,h){return yield h()})).apply(this,arguments)}const w={};const or=(()=>{class C{constructor(h){var k,R,f=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=C.nextInstanceID,C.nextInstanceID+=1,this.instanceID>0&&_n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const P=Object.assign(Object.assign({},Ki),h);if(this.logDebugMessages=!!P.debug,"function"==typeof P.debug&&(this.logger=P.debug),this.persistSession=P.persistSession,this.storageKey=P.storageKey,this.autoRefreshToken=P.autoRefreshToken,this.admin=new Wi({url:P.url,headers:P.headers,fetch:P.fetch}),this.url=P.url,this.headers=P.headers,this.fetch=to(P.fetch),this.lock=P.lock||A,this.detectSessionInUrl=P.detectSessionInUrl,this.flowType=P.flowType,this.hasCustomAuthorizationHeader=P.hasCustomAuthorizationHeader,this.lock=P.lock?P.lock:_n()&&null!==(k=globalThis?.navigator)&&void 0!==k&&k.locks?ci:A,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(P.storage?this.storage=P.storage:eo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Da(this.memoryStorage)),P.userStorage&&(this.userStorage=P.userStorage)):(this.memoryStorage={},this.storage=Da(this.memoryStorage)),_n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(H){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",H)}null===(R=this.broadcastChannel)||void 0===R||R.addEventListener("message",function(){var H=(0,E.A)(function*(G){f._debug("received broadcast notification from other tab or client",G),yield f._notifyAllSubscribers(G.data.event,G.data.session,!1)});return function(G){return H.apply(this,arguments)}}())}this.initialize()}get jwks(){var h,f;return null!==(f=null===(h=w[this.storageKey])||void 0===h?void 0:h.jwks)&&void 0!==f?f:{keys:[]}}set jwks(h){w[this.storageKey]=Object.assign(Object.assign({},w[this.storageKey]),{jwks:h})}get jwks_cached_at(){var h,f;return null!==(f=null===(h=w[this.storageKey])||void 0===h?void 0:h.cachedAt)&&void 0!==f?f:Number.MIN_SAFE_INTEGER}set jwks_cached_at(h){w[this.storageKey]=Object.assign(Object.assign({},w[this.storageKey]),{cachedAt:h})}_debug(...h){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.71.1) ${(new Date).toISOString()}`,...h),this}initialize(){var h=this;return(0,E.A)(function*(){return h.initializePromise||(h.initializePromise=(0,E.A)(function*(){return yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._initialize()}))})()),yield h.initializePromise})()}_initialize(){var h=this;return(0,E.A)(function*(){var f;try{const k=function vr(C){const g={},h=new URL(C);if(h.hash&&"#"===h.hash[0])try{new URLSearchParams(h.hash.substring(1)).forEach((k,R)=>{g[R]=k})}catch{}return h.searchParams.forEach((f,k)=>{g[k]=f}),g}(window.location.href);let R="none";if(h._isImplicitGrantCallback(k)?R="implicit":(yield h._isPKCECallback(k))&&(R="pkce"),_n()&&h.detectSessionInUrl&&"none"!==R){const{data:P,error:H}=yield h._getSessionFromURL(k,R);if(H){if(h._debug("#_initialize()","error detecting session from URL",H),function Qo(C){return Dt(C)&&"AuthImplicitGrantRedirectError"===C.name}(H)){const ne=null===(f=H.details)||void 0===f?void 0:f.code;if("identity_already_exists"===ne||"identity_not_found"===ne||"single_identity_not_deletable"===ne)return{error:H}}return yield h._removeSession(),{error:H}}const{session:G,redirectType:J}=P;return h._debug("#_initialize()","detected session in URL",G,"redirect type",J),yield h._saveSession(G),setTimeout((0,E.A)(function*(){"recovery"===J?yield h._notifyAllSubscribers("PASSWORD_RECOVERY",G):yield h._notifyAllSubscribers("SIGNED_IN",G)}),0),{error:null}}return yield h._recoverAndRefresh(),{error:null}}catch(k){return Dt(k)?{error:k}:{error:new Fo("Unexpected error during initialization",k)}}finally{yield h._handleVisibilityChange(),h._debug("#_initialize()","end")}})()}signInAnonymously(h){var f=this;return(0,E.A)(function*(){var k,R,P;try{const H=yield ft(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{data:null!==(R=null===(k=h?.options)||void 0===k?void 0:k.data)&&void 0!==R?R:{},gotrue_meta_security:{captcha_token:null===(P=h?.options)||void 0===P?void 0:P.captchaToken}},xform:$t}),{data:G,error:J}=H;if(J||!G)return{data:{user:null,session:null},error:J};const ne=G.session,_e=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",ne)),{data:{user:_e,session:ne},error:null}}catch(H){if(Dt(H))return{data:{user:null,session:null},error:H};throw H}})()}signUp(h){var f=this;return(0,E.A)(function*(){var k,R,P;try{let H;if("email"in h){const{email:ut,password:nt,options:at}=h;let It=null,Mt=null;"pkce"===f.flowType&&([It,Mt]=yield jr(f.storage,f.storageKey)),H=yield ft(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,redirectTo:at?.emailRedirectTo,body:{email:ut,password:nt,data:null!==(k=at?.data)&&void 0!==k?k:{},gotrue_meta_security:{captcha_token:at?.captchaToken},code_challenge:It,code_challenge_method:Mt},xform:$t})}else{if(!("phone"in h))throw new yr("You must provide either an email or phone number and a password");{const{phone:ut,password:nt,options:at}=h;H=yield ft(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{phone:ut,password:nt,data:null!==(R=at?.data)&&void 0!==R?R:{},channel:null!==(P=at?.channel)&&void 0!==P?P:"sms",gotrue_meta_security:{captcha_token:at?.captchaToken}},xform:$t})}}const{data:G,error:J}=H;if(J||!G)return{data:{user:null,session:null},error:J};const ne=G.session,_e=G.user;return G.session&&(yield f._saveSession(G.session),yield f._notifyAllSubscribers("SIGNED_IN",ne)),{data:{user:_e,session:ne},error:null}}catch(H){if(Dt(H))return{data:{user:null,session:null},error:H};throw H}})()}signInWithPassword(h){var f=this;return(0,E.A)(function*(){try{let k;if("email"in h){const{email:H,password:G,options:J}=h;k=yield ft(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{email:H,password:G,gotrue_meta_security:{captcha_token:J?.captchaToken}},xform:xt})}else{if(!("phone"in h))throw new yr("You must provide either an email or phone number and a password");{const{phone:H,password:G,options:J}=h;k=yield ft(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{phone:H,password:G,gotrue_meta_security:{captcha_token:J?.captchaToken}},xform:xt})}}const{data:R,error:P}=k;return P?{data:{user:null,session:null},error:P}:R&&R.session&&R.user?(R.session&&(yield f._saveSession(R.session),yield f._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({user:R.user,session:R.session},R.weak_password?{weakPassword:R.weak_password}:null),error:P}):{data:{user:null,session:null},error:new fr}}catch(k){if(Dt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOAuth(h){var f=this;return(0,E.A)(function*(){var k,R,P,H;return yield f._handleProviderSignIn(h.provider,{redirectTo:null===(k=h.options)||void 0===k?void 0:k.redirectTo,scopes:null===(R=h.options)||void 0===R?void 0:R.scopes,queryParams:null===(P=h.options)||void 0===P?void 0:P.queryParams,skipBrowserRedirect:null===(H=h.options)||void 0===H?void 0:H.skipBrowserRedirect})})()}exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,f._acquireLock(-1,(0,E.A)(function*(){return f._exchangeCodeForSession(h)}))})()}signInWithWeb3(h){var f=this;return(0,E.A)(function*(){const{chain:k}=h;if("solana"===k)return yield f.signInWithSolana(h);throw new Error(`@supabase/auth-js: Unsupported chain "${k}"`)})()}signInWithSolana(h){var f=this;return(0,E.A)(function*(){var k,R,P,H,G,J,ne,_e,ut,nt,at,It;let Mt,kn;if("message"in h)Mt=h.message,kn=h.signature;else{const{wallet:Qt,statement:ur,options:St}=h;let Mn;if(_n())if("object"==typeof Qt)Mn=Qt;else{const mn=window;if(!("solana"in mn)||"object"!=typeof mn.solana||!("signIn"in mn.solana&&"function"==typeof mn.solana.signIn||"signMessage"in mn.solana&&"function"==typeof mn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Mn=mn.solana}else{if("object"!=typeof Qt||!St?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Mn=Qt}const Sa=new URL(null!==(k=St?.url)&&void 0!==k?k:window.location.href);if("signIn"in Mn&&Mn.signIn){const mn=yield Mn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},St?.signInWithSolana),{version:"1",domain:Sa.host,uri:Sa.href}),ur?{statement:ur}:null));let Nn;if(Array.isArray(mn)&&mn[0]&&"object"==typeof mn[0])Nn=mn[0];else{if(!(mn&&"object"==typeof mn&&"signedMessage"in mn&&"signature"in mn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Nn=mn}if(!("signedMessage"in Nn&&"signature"in Nn&&("string"==typeof Nn.signedMessage||Nn.signedMessage instanceof Uint8Array)&&Nn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Mt="string"==typeof Nn.signedMessage?Nn.signedMessage:(new TextDecoder).decode(Nn.signedMessage),kn=Nn.signature}else{if(!("signMessage"in Mn&&"function"==typeof Mn.signMessage&&"publicKey"in Mn&&"object"==typeof Mn&&Mn.publicKey&&"toBase58"in Mn.publicKey&&"function"==typeof Mn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Mt=[`${Sa.host} wants you to sign in with your Solana account:`,Mn.publicKey.toBase58(),...ur?["",ur,""]:[""],"Version: 1",`URI: ${Sa.href}`,`Issued At: ${null!==(P=null===(R=St?.signInWithSolana)||void 0===R?void 0:R.issuedAt)&&void 0!==P?P:(new Date).toISOString()}`,...null!==(H=St?.signInWithSolana)&&void 0!==H&&H.notBefore?[`Not Before: ${St.signInWithSolana.notBefore}`]:[],...null!==(G=St?.signInWithSolana)&&void 0!==G&&G.expirationTime?[`Expiration Time: ${St.signInWithSolana.expirationTime}`]:[],...null!==(J=St?.signInWithSolana)&&void 0!==J&&J.chainId?[`Chain ID: ${St.signInWithSolana.chainId}`]:[],...null!==(ne=St?.signInWithSolana)&&void 0!==ne&&ne.nonce?[`Nonce: ${St.signInWithSolana.nonce}`]:[],...null!==(_e=St?.signInWithSolana)&&void 0!==_e&&_e.requestId?[`Request ID: ${St.signInWithSolana.requestId}`]:[],...null!==(nt=null===(ut=St?.signInWithSolana)||void 0===ut?void 0:ut.resources)&&void 0!==nt&&nt.length?["Resources",...St.signInWithSolana.resources.map(Nn=>`- ${Nn}`)]:[]].join("\n");const mn=yield Mn.signMessage((new TextEncoder).encode(Mt),"utf8");if(!(mn&&mn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");kn=mn}}try{const{data:vn,error:Qt}=yield ft(f.fetch,"POST",`${f.url}/token?grant_type=web3`,{headers:f.headers,body:Object.assign({chain:"solana",message:Mt,signature:gn(kn)},null!==(at=h.options)&&void 0!==at&&at.captchaToken?{gotrue_meta_security:{captcha_token:null===(It=h.options)||void 0===It?void 0:It.captchaToken}}:null),xform:$t});if(Qt)throw Qt;return vn&&vn.session&&vn.user?(vn.session&&(yield f._saveSession(vn.session),yield f._notifyAllSubscribers("SIGNED_IN",vn.session)),{data:Object.assign({},vn),error:Qt}):{data:{user:null,session:null},error:new fr}}catch(vn){if(Dt(vn))return{data:{user:null,session:null},error:vn};throw vn}})()}_exchangeCodeForSession(h){var f=this;return(0,E.A)(function*(){const k=yield Eo(f.storage,`${f.storageKey}-code-verifier`),[R,P]=(k??"").split("/");try{const{data:H,error:G}=yield ft(f.fetch,"POST",`${f.url}/token?grant_type=pkce`,{headers:f.headers,body:{auth_code:h,code_verifier:R},xform:$t});if(yield Qr(f.storage,`${f.storageKey}-code-verifier`),G)throw G;return H&&H.session&&H.user?(H.session&&(yield f._saveSession(H.session),yield f._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign(Object.assign({},H),{redirectType:P??null}),error:G}):{data:{user:null,session:null,redirectType:null},error:new fr}}catch(H){if(Dt(H))return{data:{user:null,session:null,redirectType:null},error:H};throw H}})()}signInWithIdToken(h){var f=this;return(0,E.A)(function*(){try{const{options:k,provider:R,token:P,access_token:H,nonce:G}=h,J=yield ft(f.fetch,"POST",`${f.url}/token?grant_type=id_token`,{headers:f.headers,body:{provider:R,id_token:P,access_token:H,nonce:G,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:$t}),{data:ne,error:_e}=J;return _e?{data:{user:null,session:null},error:_e}:ne&&ne.session&&ne.user?(ne.session&&(yield f._saveSession(ne.session),yield f._notifyAllSubscribers("SIGNED_IN",ne.session)),{data:ne,error:_e}):{data:{user:null,session:null},error:new fr}}catch(k){if(Dt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOtp(h){var f=this;return(0,E.A)(function*(){var k,R,P,H,G;try{if("email"in h){const{email:J,options:ne}=h;let _e=null,ut=null;"pkce"===f.flowType&&([_e,ut]=yield jr(f.storage,f.storageKey));const{error:nt}=yield ft(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{email:J,data:null!==(k=ne?.data)&&void 0!==k?k:{},create_user:null===(R=ne?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:ne?.captchaToken},code_challenge:_e,code_challenge_method:ut},redirectTo:ne?.emailRedirectTo});return{data:{user:null,session:null},error:nt}}if("phone"in h){const{phone:J,options:ne}=h,{data:_e,error:ut}=yield ft(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{phone:J,data:null!==(P=ne?.data)&&void 0!==P?P:{},create_user:null===(H=ne?.shouldCreateUser)||void 0===H||H,gotrue_meta_security:{captcha_token:ne?.captchaToken},channel:null!==(G=ne?.channel)&&void 0!==G?G:"sms"}});return{data:{user:null,session:null,messageId:_e?.message_id},error:ut}}throw new yr("You must provide either an email or phone number.")}catch(J){if(Dt(J))return{data:{user:null,session:null},error:J};throw J}})()}verifyOtp(h){var f=this;return(0,E.A)(function*(){var k,R;try{let P,H;"options"in h&&(P=null===(k=h.options)||void 0===k?void 0:k.redirectTo,H=null===(R=h.options)||void 0===R?void 0:R.captchaToken);const{data:G,error:J}=yield ft(f.fetch,"POST",`${f.url}/verify`,{headers:f.headers,body:Object.assign(Object.assign({},h),{gotrue_meta_security:{captcha_token:H}}),redirectTo:P,xform:$t});if(J)throw J;if(!G)throw new Error("An error occurred on token verification.");const ne=G.session,_e=G.user;return ne?.access_token&&(yield f._saveSession(ne),yield f._notifyAllSubscribers("recovery"==h.type?"PASSWORD_RECOVERY":"SIGNED_IN",ne)),{data:{user:_e,session:ne},error:null}}catch(P){if(Dt(P))return{data:{user:null,session:null},error:P};throw P}})()}signInWithSSO(h){var f=this;return(0,E.A)(function*(){var k,R,P;try{let H=null,G=null;return"pkce"===f.flowType&&([H,G]=yield jr(f.storage,f.storageKey)),yield ft(f.fetch,"POST",`${f.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in h?{provider_id:h.providerId}:null),"domain"in h?{domain:h.domain}:null),{redirect_to:null!==(R=null===(k=h.options)||void 0===k?void 0:k.redirectTo)&&void 0!==R?R:void 0}),null!==(P=h?.options)&&void 0!==P&&P.captchaToken?{gotrue_meta_security:{captcha_token:h.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:H,code_challenge_method:G}),headers:f.headers,xform:Pn})}catch(H){if(Dt(H))return{data:null,error:H};throw H}})()}reauthenticate(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._reauthenticate()}))})()}_reauthenticate(){var h=this;return(0,E.A)(function*(){try{return yield h._useSession(function(){var f=(0,E.A)(function*(k){const{data:{session:R},error:P}=k;if(P)throw P;if(!R)throw new wn;const{error:H}=yield ft(h.fetch,"GET",`${h.url}/reauthenticate`,{headers:h.headers,jwt:R.access_token});return{data:{user:null,session:null},error:H}});return function(k){return f.apply(this,arguments)}}())}catch(f){if(Dt(f))return{data:{user:null,session:null},error:f};throw f}})()}resend(h){var f=this;return(0,E.A)(function*(){try{const k=`${f.url}/resend`;if("email"in h){const{email:R,type:P,options:H}=h,{error:G}=yield ft(f.fetch,"POST",k,{headers:f.headers,body:{email:R,type:P,gotrue_meta_security:{captcha_token:H?.captchaToken}},redirectTo:H?.emailRedirectTo});return{data:{user:null,session:null},error:G}}if("phone"in h){const{phone:R,type:P,options:H}=h,{data:G,error:J}=yield ft(f.fetch,"POST",k,{headers:f.headers,body:{phone:R,type:P,gotrue_meta_security:{captcha_token:H?.captchaToken}}});return{data:{user:null,session:null,messageId:G?.message_id},error:J}}throw new yr("You must provide either an email or phone number and a type")}catch(k){if(Dt(k))return{data:{user:null,session:null},error:k};throw k}})()}getSession(){var h=this;return(0,E.A)(function*(){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return h._useSession(function(){var k=(0,E.A)(function*(R){return R});return function(R){return k.apply(this,arguments)}}())}))})()}_acquireLock(h,f){var k=this;return(0,E.A)(function*(){k._debug("#_acquireLock","begin",h);try{if(k.lockAcquired){const R=k.pendingInLock.length?k.pendingInLock[k.pendingInLock.length-1]:Promise.resolve(),P=(0,E.A)(function*(){return yield R,yield f()})();return k.pendingInLock.push((0,E.A)(function*(){try{yield P}catch{}})()),P}return yield k.lock(`lock:${k.storageKey}`,h,(0,E.A)(function*(){k._debug("#_acquireLock","lock acquired for storage key",k.storageKey);try{k.lockAcquired=!0;const R=f();for(k.pendingInLock.push((0,E.A)(function*(){try{yield R}catch{}})()),yield R;k.pendingInLock.length;){const P=[...k.pendingInLock];yield Promise.all(P),k.pendingInLock.splice(0,P.length)}return yield R}finally{k._debug("#_acquireLock","lock released for storage key",k.storageKey),k.lockAcquired=!1}}))}finally{k._debug("#_acquireLock","end")}})()}_useSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_useSession","begin");try{const k=yield f.__loadSession();return yield h(k)}finally{f._debug("#_useSession","end")}})()}__loadSession(){var h=this;return(0,E.A)(function*(){h._debug("#__loadSession()","begin"),h.lockAcquired||h._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let f=null;const k=yield Eo(h.storage,h.storageKey);if(h._debug("#getSession()","session from storage",k),null!==k&&(h._isValidSession(k)?f=k:(h._debug("#getSession()","session from storage is not valid"),yield h._removeSession())),!f)return{data:{session:null},error:null};const R=!!f.expires_at&&1e3*f.expires_at-Date.now()<9e4;if(h._debug("#__loadSession()",`session has${R?"":" not"} expired`,"expires_at",f.expires_at),!R){if(h.userStorage){const G=yield Eo(h.userStorage,h.storageKey+"-user");f.user=G?.user?G.user:Le()}if(h.storage.isServer&&f.user){let G=h.suppressGetSessionWarning;f=new Proxy(f,{get:(ne,_e,ut)=>(!G&&"user"===_e&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),G=!0,h.suppressGetSessionWarning=!0),Reflect.get(ne,_e,ut))})}return{data:{session:f},error:null}}const{session:P,error:H}=yield h._callRefreshToken(f.refresh_token);return H?{data:{session:null},error:H}:{data:{session:P},error:null}}finally{h._debug("#__loadSession()","end")}})()}getUser(h){var f=this;return(0,E.A)(function*(){return h?yield f._getUser(h):(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._getUser()})))})()}_getUser(h){var f=this;return(0,E.A)(function*(){try{return h?yield ft(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:h,xform:nn}):yield f._useSession(function(){var k=(0,E.A)(function*(R){var P,H,G;const{data:J,error:ne}=R;if(ne)throw ne;return null!==(P=J.session)&&void 0!==P&&P.access_token||f.hasCustomAuthorizationHeader?yield ft(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:null!==(G=null===(H=J.session)||void 0===H?void 0:H.access_token)&&void 0!==G?G:void 0,xform:nn}):{data:{user:null},error:new wn}});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return function Pr(C){return Dt(C)&&"AuthSessionMissingError"===C.name}(k)&&(yield f._removeSession(),yield Qr(f.storage,`${f.storageKey}-code-verifier`)),{data:{user:null},error:k};throw k}})()}updateUser(h){var f=this;return(0,E.A)(function*(k,R={}){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._updateUser(k,R)}))}).apply(this,arguments)}_updateUser(h){var f=this;return(0,E.A)(function*(k,R={}){try{return yield f._useSession(function(){var P=(0,E.A)(function*(H){const{data:G,error:J}=H;if(J)throw J;if(!G.session)throw new wn;const ne=G.session;let _e=null,ut=null;"pkce"===f.flowType&&null!=k.email&&([_e,ut]=yield jr(f.storage,f.storageKey));const{data:nt,error:at}=yield ft(f.fetch,"PUT",`${f.url}/user`,{headers:f.headers,redirectTo:R?.emailRedirectTo,body:Object.assign(Object.assign({},k),{code_challenge:_e,code_challenge_method:ut}),jwt:ne.access_token,xform:nn});if(at)throw at;return ne.user=nt.user,yield f._saveSession(ne),yield f._notifyAllSubscribers("USER_UPDATED",ne),{data:{user:ne.user},error:null}});return function(H){return P.apply(this,arguments)}}())}catch(P){if(Dt(P))return{data:{user:null},error:P};throw P}}).apply(this,arguments)}setSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._setSession(h)}))})()}_setSession(h){var f=this;return(0,E.A)(function*(){try{if(!h.access_token||!h.refresh_token)throw new wn;const k=Date.now()/1e3;let R=k,P=!0,H=null;const{payload:G}=Xr(h.access_token);if(G.exp&&(R=G.exp,P=R<=k),P){const{session:J,error:ne}=yield f._callRefreshToken(h.refresh_token);if(ne)return{data:{user:null,session:null},error:ne};if(!J)return{data:{user:null,session:null},error:null};H=J}else{const{data:J,error:ne}=yield f._getUser(h.access_token);if(ne)throw ne;H={access_token:h.access_token,refresh_token:h.refresh_token,user:J.user,token_type:"bearer",expires_in:R-k,expires_at:R},yield f._saveSession(H),yield f._notifyAllSubscribers("SIGNED_IN",H)}return{data:{user:H.user,session:H},error:null}}catch(k){if(Dt(k))return{data:{session:null,user:null},error:k};throw k}})()}refreshSession(h){var f=this;return(0,E.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){return yield f._refreshSession(h)}))})()}_refreshSession(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P;if(!h){const{data:J,error:ne}=R;if(ne)throw ne;h=null!==(P=J.session)&&void 0!==P?P:void 0}if(!h?.refresh_token)throw new wn;const{session:H,error:G}=yield f._callRefreshToken(h.refresh_token);return G?{data:{user:null,session:null},error:G}:H?{data:{user:H.user,session:H},error:null}:{data:{user:null,session:null},error:null}});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:{user:null,session:null},error:k};throw k}})()}_getSessionFromURL(h,f){var k=this;return(0,E.A)(function*(){try{if(!_n())throw new gr("No browser detected.");if(h.error||h.error_description||h.error_code)throw new gr(h.error_description||"Error in URL with unspecified error_description",{error:h.error||"unspecified_error",code:h.error_code||"unspecified_code"});switch(f){case"implicit":if("pkce"===k.flowType)throw new Nr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===k.flowType)throw new gr("Not a valid implicit grant flow url.")}if("pkce"===f){if(k._debug("#_initialize()","begin","is PKCE flow",!0),!h.code)throw new Nr("No code detected.");const{data:ur,error:St}=yield k._exchangeCodeForSession(h.code);if(St)throw St;const Mn=new URL(window.location.href);return Mn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Mn.toString()),{data:{session:ur.session,redirectType:null},error:null}}const{provider_token:R,provider_refresh_token:P,access_token:H,refresh_token:G,expires_in:J,expires_at:ne,token_type:_e}=h;if(!(H&&J&&G&&_e))throw new gr("No session defined in URL");const ut=Math.round(Date.now()/1e3),nt=parseInt(J);let at=ut+nt;ne&&(at=parseInt(ne));const It=at-ut;1e3*It<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${It}s, should have been closer to ${nt}s`);const Mt=at-nt;ut-Mt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Mt,at,ut):ut-Mt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Mt,at,ut);const{data:kn,error:vn}=yield k._getUser(H);if(vn)throw vn;const Qt={provider_token:R,provider_refresh_token:P,access_token:H,expires_in:nt,expires_at:at,refresh_token:G,token_type:_e,user:kn.user};return window.location.hash="",k._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Qt,redirectType:h.type},error:null}}catch(R){if(Dt(R))return{data:{session:null,redirectType:null},error:R};throw R}})()}_isImplicitGrantCallback(h){return!(!h.access_token&&!h.error_description)}_isPKCECallback(h){var f=this;return(0,E.A)(function*(){const k=yield Eo(f.storage,`${f.storageKey}-code-verifier`);return!(!h.code||!k)})()}signOut(){var h=this;return(0,E.A)(function*(f={scope:"global"}){return yield h.initializePromise,yield h._acquireLock(-1,(0,E.A)(function*(){return yield h._signOut(f)}))}).apply(this,arguments)}_signOut(){var h=this;return(0,E.A)(function*({scope:f}={scope:"global"}){return yield h._useSession(function(){var k=(0,E.A)(function*(R){var P;const{data:H,error:G}=R;if(G)return{error:G};const J=null===(P=H.session)||void 0===P?void 0:P.access_token;if(J){const{error:ne}=yield h.admin.signOut(J,f);if(ne&&(!function Lo(C){return Dt(C)&&"AuthApiError"===C.name}(ne)||404!==ne.status&&401!==ne.status&&403!==ne.status))return{error:ne}}return"others"!==f&&(yield h._removeSession(),yield Qr(h.storage,`${h.storageKey}-code-verifier`)),{error:null}});return function(R){return k.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(h){var f=this;const k=function On(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){const g=16*Math.random()|0;return("x"==C?g:3&g|8).toString(16)})}(),R={id:k,callback:h,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",k),this.stateChangeEmitters.delete(k)}};return this._debug("#onAuthStateChange()","registered callback with id",k),this.stateChangeEmitters.set(k,R),(0,E.A)(function*(){yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){f._emitInitialSession(k)}))})(),{data:{subscription:R}}}_emitInitialSession(h){var f=this;return(0,E.A)(function*(){return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P,H;try{const{data:{session:G},error:J}=R;if(J)throw J;yield null===(P=f.stateChangeEmitters.get(h))||void 0===P?void 0:P.callback("INITIAL_SESSION",G),f._debug("INITIAL_SESSION","callback id",h,"session",G)}catch(G){yield null===(H=f.stateChangeEmitters.get(h))||void 0===H?void 0:H.callback("INITIAL_SESSION",null),f._debug("INITIAL_SESSION","callback id",h,"error",G),console.error(G)}});return function(R){return k.apply(this,arguments)}}())})()}resetPasswordForEmail(h){var f=this;return(0,E.A)(function*(k,R={}){let P=null,H=null;"pkce"===f.flowType&&([P,H]=yield jr(f.storage,f.storageKey,!0));try{return yield ft(f.fetch,"POST",`${f.url}/recover`,{body:{email:k,code_challenge:P,code_challenge_method:H,gotrue_meta_security:{captcha_token:R.captchaToken}},headers:f.headers,redirectTo:R.redirectTo})}catch(G){if(Dt(G))return{data:null,error:G};throw G}}).apply(this,arguments)}getUserIdentities(){var h=this;return(0,E.A)(function*(){var f;try{const{data:k,error:R}=yield h.getUser();if(R)throw R;return{data:{identities:null!==(f=k.user.identities)&&void 0!==f?f:[]},error:null}}catch(k){if(Dt(k))return{data:null,error:k};throw k}})()}linkIdentity(h){var f=this;return(0,E.A)(function*(){var k;try{const{data:R,error:P}=yield f._useSession(function(){var H=(0,E.A)(function*(G){var J,ne,_e,ut,nt;const{data:at,error:It}=G;if(It)throw It;const Mt=yield f._getUrlForProvider(`${f.url}/user/identities/authorize`,h.provider,{redirectTo:null===(J=h.options)||void 0===J?void 0:J.redirectTo,scopes:null===(ne=h.options)||void 0===ne?void 0:ne.scopes,queryParams:null===(_e=h.options)||void 0===_e?void 0:_e.queryParams,skipBrowserRedirect:!0});return yield ft(f.fetch,"GET",Mt,{headers:f.headers,jwt:null!==(nt=null===(ut=at.session)||void 0===ut?void 0:ut.access_token)&&void 0!==nt?nt:void 0})});return function(G){return H.apply(this,arguments)}}());if(P)throw P;return _n()&&!(null!==(k=h.options)&&void 0!==k&&k.skipBrowserRedirect)&&window.location.assign(R?.url),{data:{provider:h.provider,url:R?.url},error:null}}catch(R){if(Dt(R))return{data:{provider:h.provider,url:null},error:R};throw R}})()}unlinkIdentity(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P,H;const{data:G,error:J}=R;if(J)throw J;return yield ft(f.fetch,"DELETE",`${f.url}/user/identities/${h.identity_id}`,{headers:f.headers,jwt:null!==(H=null===(P=G.session)||void 0===P?void 0:P.access_token)&&void 0!==H?H:void 0})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:null,error:k};throw k}})()}_refreshAccessToken(h){var f=this;return(0,E.A)(function*(){const k=`#_refreshAccessToken(${h.substring(0,5)}...)`;f._debug(k,"begin");try{const R=Date.now();return yield function ka(C,g){return new Promise((f,k)=>{(0,E.A)(function*(){for(let R=0;R<1/0;R++)try{const P=yield C(R);if(!g(R,null,P))return void f(P)}catch(P){if(!g(R,P))return void k(P)}})()})}(function(){var P=(0,E.A)(function*(H){return H>0&&(yield function Qn(C){return _r.apply(this,arguments)}(200*Math.pow(2,H-1))),f._debug(k,"refreshing attempt",H),yield ft(f.fetch,"POST",`${f.url}/token?grant_type=refresh_token`,{body:{refresh_token:h},headers:f.headers,xform:$t})});return function(H){return P.apply(this,arguments)}}(),(P,H)=>{const G=200*Math.pow(2,P);return H&&Gr(H)&&Date.now()+G-R<hr})}catch(R){if(f._debug(k,"error",R),Dt(R))return{data:{session:null,user:null},error:R};throw R}finally{f._debug(k,"end")}})()}_isValidSession(h){return"object"==typeof h&&null!==h&&"access_token"in h&&"refresh_token"in h&&"expires_at"in h}_handleProviderSignIn(h,f){var k=this;return(0,E.A)(function*(){const R=yield k._getUrlForProvider(`${k.url}/authorize`,h,{redirectTo:f.redirectTo,scopes:f.scopes,queryParams:f.queryParams});return k._debug("#_handleProviderSignIn()","provider",h,"options",f,"url",R),_n()&&!f.skipBrowserRedirect&&window.location.assign(R),{data:{provider:h,url:R},error:null}})()}_recoverAndRefresh(){var h=this;return(0,E.A)(function*(){var f,k;const R="#_recoverAndRefresh()";h._debug(R,"begin");try{const P=yield Eo(h.storage,h.storageKey);if(P&&h.userStorage){let G=yield Eo(h.userStorage,h.storageKey+"-user");!h.storage.isServer&&Object.is(h.storage,h.userStorage)&&!G&&(G={user:P.user},yield rr(h.userStorage,h.storageKey+"-user",G)),P.user=null!==(f=G?.user)&&void 0!==f?f:Le()}else if(P&&!P.user&&!P.user){const G=yield Eo(h.storage,h.storageKey+"-user");G&&G?.user?(P.user=G.user,yield Qr(h.storage,h.storageKey+"-user"),yield rr(h.storage,h.storageKey,P)):P.user=Le()}if(h._debug(R,"session from storage",P),!h._isValidSession(P))return h._debug(R,"session is not valid"),void(null!==P&&(yield h._removeSession()));const H=1e3*(null!==(k=P.expires_at)&&void 0!==k?k:1/0)-Date.now()<9e4;if(h._debug(R,`session has${H?"":" not"} expired with margin of 90000s`),H){if(h.autoRefreshToken&&P.refresh_token){const{error:G}=yield h._callRefreshToken(P.refresh_token);G&&(console.error(G),Gr(G)||(h._debug(R,"refresh failed with a non-retryable error, removing the session",G),yield h._removeSession()))}}else if(P.user&&!0===P.user.__isUserNotAvailableProxy)try{const{data:G,error:J}=yield h._getUser(P.access_token);!J&&G?.user?(P.user=G.user,yield h._saveSession(P),yield h._notifyAllSubscribers("SIGNED_IN",P)):h._debug(R,"could not get user data, skipping SIGNED_IN notification")}catch(G){console.error("Error getting user data:",G),h._debug(R,"error getting user data, skipping SIGNED_IN notification",G)}else yield h._notifyAllSubscribers("SIGNED_IN",P)}catch(P){return h._debug(R,"error",P),void console.error(P)}finally{h._debug(R,"end")}})()}_callRefreshToken(h){var f=this;return(0,E.A)(function*(){var k,R;if(!h)throw new wn;if(f.refreshingDeferred)return f.refreshingDeferred.promise;const P=`#_callRefreshToken(${h.substring(0,5)}...)`;f._debug(P,"begin");try{f.refreshingDeferred=new jo;const{data:H,error:G}=yield f._refreshAccessToken(h);if(G)throw G;if(!H.session)throw new wn;yield f._saveSession(H.session),yield f._notifyAllSubscribers("TOKEN_REFRESHED",H.session);const J={session:H.session,error:null};return f.refreshingDeferred.resolve(J),J}catch(H){if(f._debug(P,"error",H),Dt(H)){const G={session:null,error:H};return Gr(H)||(yield f._removeSession()),null===(k=f.refreshingDeferred)||void 0===k||k.resolve(G),G}throw null===(R=f.refreshingDeferred)||void 0===R||R.reject(H),H}finally{f.refreshingDeferred=null,f._debug(P,"end")}})()}_notifyAllSubscribers(h,f){var k=this;return(0,E.A)(function*(R,P,H=!0){const G=`#_notifyAllSubscribers(${R})`;k._debug(G,"begin",P,`broadcast = ${H}`);try{k.broadcastChannel&&H&&k.broadcastChannel.postMessage({event:R,session:P});const J=[],ne=Array.from(k.stateChangeEmitters.values()).map(function(){var _e=(0,E.A)(function*(ut){try{yield ut.callback(R,P)}catch(nt){J.push(nt)}});return function(ut){return _e.apply(this,arguments)}}());if(yield Promise.all(ne),J.length>0){for(let _e=0;_e<J.length;_e+=1)console.error(J[_e]);throw J[0]}}finally{k._debug(G,"end")}}).apply(this,arguments)}_saveSession(h){var f=this;return(0,E.A)(function*(){f._debug("#_saveSession()",h),f.suppressGetSessionWarning=!0;const k=Object.assign({},h);if(f.userStorage){(!k.user||!0!==k.user.__isUserNotAvailableProxy)&&k.user&&(yield rr(f.userStorage,f.storageKey+"-user",{user:k.user}));const P=Object.assign({},k);delete P.user;const H=Qe(P);yield rr(f.storage,f.storageKey,H)}else{const P=Qe(k);yield rr(f.storage,f.storageKey,P)}})()}_removeSession(){var h=this;return(0,E.A)(function*(){h._debug("#_removeSession()"),yield Qr(h.storage,h.storageKey),yield Qr(h.storage,h.storageKey+"-code-verifier"),yield Qr(h.storage,h.storageKey+"-user"),h.userStorage&&(yield Qr(h.userStorage,h.storageKey+"-user")),yield h._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const h=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{h&&_n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",h)}catch(f){console.error("removing visibilitychange callback failed",f)}}_startAutoRefresh(){var h=this;return(0,E.A)(function*(){yield h._stopAutoRefresh(),h._debug("#_startAutoRefresh()");const f=setInterval(()=>h._autoRefreshTokenTick(),hr);h.autoRefreshTicker=f,f&&"object"==typeof f&&"function"==typeof f.unref?f.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(f),setTimeout((0,E.A)(function*(){yield h.initializePromise,yield h._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._debug("#_stopAutoRefresh()");const f=h.autoRefreshTicker;h.autoRefreshTicker=null,f&&clearInterval(f)})()}startAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._startAutoRefresh()})()}stopAutoRefresh(){var h=this;return(0,E.A)(function*(){h._removeVisibilityChangedCallback(),yield h._stopAutoRefresh()})()}_autoRefreshTokenTick(){var h=this;return(0,E.A)(function*(){h._debug("#_autoRefreshTokenTick()","begin");try{yield h._acquireLock(0,(0,E.A)(function*(){try{const f=Date.now();try{return yield h._useSession(function(){var k=(0,E.A)(function*(R){const{data:{session:P}}=R;if(!P||!P.refresh_token||!P.expires_at)return void h._debug("#_autoRefreshTokenTick()","no session");const H=Math.floor((1e3*P.expires_at-f)/hr);h._debug("#_autoRefreshTokenTick()",`access token expires in ${H} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),H<=3&&(yield h._callRefreshToken(P.refresh_token))});return function(R){return k.apply(this,arguments)}}())}catch(k){console.error("Auto refresh tick failed with error. This is likely a transient error.",k)}}finally{h._debug("#_autoRefreshTokenTick()","end")}}))}catch(f){if(!(f.isAcquireTimeout||f instanceof An))throw f;h._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var h=this;return(0,E.A)(function*(){if(h._debug("#_handleVisibilityChange()"),!_n()||!window?.addEventListener)return h.autoRefreshToken&&h.startAutoRefresh(),!1;try{h.visibilityChangedCallback=(0,E.A)(function*(){return yield h._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",h.visibilityChangedCallback),yield h._onVisibilityChanged(!0)}catch(f){console.error("_handleVisibilityChange",f)}})()}_onVisibilityChanged(h){var f=this;return(0,E.A)(function*(){const k=`#_onVisibilityChanged(${h})`;f._debug(k,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(f.autoRefreshToken&&f._startAutoRefresh(),h||(yield f.initializePromise,yield f._acquireLock(-1,(0,E.A)(function*(){"visible"===document.visibilityState?yield f._recoverAndRefresh():f._debug(k,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&f.autoRefreshToken&&f._stopAutoRefresh()})()}_getUrlForProvider(h,f,k){var R=this;return(0,E.A)(function*(){const P=[`provider=${encodeURIComponent(f)}`];if(k?.redirectTo&&P.push(`redirect_to=${encodeURIComponent(k.redirectTo)}`),k?.scopes&&P.push(`scopes=${encodeURIComponent(k.scopes)}`),"pkce"===R.flowType){const[H,G]=yield jr(R.storage,R.storageKey),J=new URLSearchParams({code_challenge:`${encodeURIComponent(H)}`,code_challenge_method:`${encodeURIComponent(G)}`});P.push(J.toString())}if(k?.queryParams){const H=new URLSearchParams(k.queryParams);P.push(H.toString())}return k?.skipBrowserRedirect&&P.push(`skip_http_redirect=${k.skipBrowserRedirect}`),`${h}?${P.join("&")}`})()}_unenroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P;const{data:H,error:G}=R;return G?{data:null,error:G}:yield ft(f.fetch,"DELETE",`${f.url}/factors/${h.factorId}`,{headers:f.headers,jwt:null===(P=H?.session)||void 0===P?void 0:P.access_token})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:null,error:k};throw k}})()}_enroll(h){var f=this;return(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P,H;const{data:G,error:J}=R;if(J)return{data:null,error:J};const ne=Object.assign({friendly_name:h.friendlyName,factor_type:h.factorType},"phone"===h.factorType?{phone:h.phone}:{issuer:h.issuer}),{data:_e,error:ut}=yield ft(f.fetch,"POST",`${f.url}/factors`,{body:ne,headers:f.headers,jwt:null===(P=G?.session)||void 0===P?void 0:P.access_token});return ut?{data:null,error:ut}:("totp"===h.factorType&&!(null===(H=_e?.totp)||void 0===H)&&H.qr_code&&(_e.totp.qr_code=`data:image/svg+xml;utf-8,${_e.totp.qr_code}`),{data:_e,error:null})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:null,error:k};throw k}})()}_verify(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P;const{data:H,error:G}=R;if(G)return{data:null,error:G};const{data:J,error:ne}=yield ft(f.fetch,"POST",`${f.url}/factors/${h.factorId}/verify`,{body:{code:h.code,challenge_id:h.challengeId},headers:f.headers,jwt:null===(P=H?.session)||void 0===P?void 0:P.access_token});return ne?{data:null,error:ne}:(yield f._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+J.expires_in},J)),yield f._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",J),{data:J,error:ne})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:null,error:k};throw k}}))})()}_challenge(h){var f=this;return(0,E.A)(function*(){return f._acquireLock(-1,(0,E.A)(function*(){try{return yield f._useSession(function(){var k=(0,E.A)(function*(R){var P;const{data:H,error:G}=R;return G?{data:null,error:G}:yield ft(f.fetch,"POST",`${f.url}/factors/${h.factorId}/challenge`,{body:{channel:h.channel},headers:f.headers,jwt:null===(P=H?.session)||void 0===P?void 0:P.access_token})});return function(R){return k.apply(this,arguments)}}())}catch(k){if(Dt(k))return{data:null,error:k};throw k}}))})()}_challengeAndVerify(h){var f=this;return(0,E.A)(function*(){const{data:k,error:R}=yield f._challenge({factorId:h.factorId});return R?{data:null,error:R}:yield f._verify({factorId:h.factorId,challengeId:k.id,code:h.code})})()}_listFactors(){var h=this;return(0,E.A)(function*(){const{data:{user:f},error:k}=yield h.getUser();if(k)return{data:null,error:k};const R=f?.factors||[],P=R.filter(G=>"totp"===G.factor_type&&"verified"===G.status),H=R.filter(G=>"phone"===G.factor_type&&"verified"===G.status);return{data:{all:R,totp:P,phone:H},error:null}})()}_getAuthenticatorAssuranceLevel(){var h=this;return(0,E.A)(function*(){return h._acquireLock(-1,(0,E.A)(function*(){return yield h._useSession(function(){var f=(0,E.A)(function*(k){var R,P;const{data:{session:H},error:G}=k;if(G)return{data:null,error:G};if(!H)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:J}=Xr(H.access_token);let ne=null;J.aal&&(ne=J.aal);let _e=ne;return(null!==(P=null===(R=H.user.factors)||void 0===R?void 0:R.filter(at=>"verified"===at.status))&&void 0!==P?P:[]).length>0&&(_e="aal2"),{data:{currentLevel:ne,nextLevel:_e,currentAuthenticationMethods:J.amr||[]},error:null}});return function(k){return f.apply(this,arguments)}}())}))})()}fetchJwk(h){var f=this;return(0,E.A)(function*(k,R={keys:[]}){let P=R.keys.find(ne=>ne.kid===k);if(P)return P;const H=Date.now();if(P=f.jwks.keys.find(ne=>ne.kid===k),P&&f.jwks_cached_at+6e5>H)return P;const{data:G,error:J}=yield ft(f.fetch,"GET",`${f.url}/.well-known/jwks.json`,{headers:f.headers});if(J)throw J;return G.keys&&0!==G.keys.length&&(f.jwks=G,f.jwks_cached_at=H,P=G.keys.find(ne=>ne.kid===k),P)?P:null}).apply(this,arguments)}getClaims(h){var f=this;return(0,E.A)(function*(k,R={}){try{let P=k;if(!P){const{data:Mt,error:kn}=yield f.getSession();if(kn||!Mt.session)return{data:null,error:kn};P=Mt.session.access_token}const{header:H,payload:G,signature:J,raw:{header:ne,payload:_e}}=Xr(P);R?.allowExpired||function N(C){if(!C)throw new Error("Missing exp claim");if(C<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(G.exp);const ut=H.alg&&!H.alg.startsWith("HS")&&H.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield f.fetchJwk(H.kid,R?.keys?{keys:R.keys}:R?.jwks):null;if(!ut){const{error:Mt}=yield f.getUser(P);if(Mt)throw Mt;return{data:{claims:G,header:H,signature:J},error:null}}const nt=function q(C){switch(C){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(H.alg),at=yield crypto.subtle.importKey("jwk",ut,nt,!0,["verify"]);if(!(yield crypto.subtle.verify(nt,at,J,function Ft(C){const g=[];return function Zt(C,g){for(let h=0;h<C.length;h+=1){let f=C.charCodeAt(h);if(f>55295&&f<=56319){const k=1024*(f-55296)&65535;f=65536+(C.charCodeAt(h+1)-56320&65535|k),h+=1}ot(f,g)}}(C,h=>g.push(h)),new Uint8Array(g)}(`${ne}.${_e}`))))throw new ca("Invalid JWT signature");return{data:{claims:G,header:H,signature:J},error:null}}catch(P){if(Dt(P))return{data:null,error:P};throw P}}).apply(this,arguments)}}return C.nextInstanceID=0,C})();class po extends or{constructor(g){super(g)}}(function mi(){if(typeof window<"u"||typeof process>"u")return!1;const C=process.version;if(null==C)return!1;const g=C.match(/^v(\d+)\./);return!!g&&parseInt(g[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hi=globalThis,ha=hi.__supabaseClient??new class ma{constructor(g,h,f){var k,R,P;if(this.supabaseUrl=g,this.supabaseKey=h,!g)throw new Error("supabaseUrl is required.");if(!h)throw new Error("supabaseKey is required.");const H=function xr(C){return C.endsWith("/")?C:C+"/"}(g),G=new URL(H);this.realtimeUrl=new URL("realtime/v1",G),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",G),this.storageUrl=new URL("storage/v1",G),this.functionsUrl=new URL("functions/v1",G);const J=`sb-${G.hostname.split(".")[0]}-auth-token`,_e=function Sn(C,g){var h,f;const{db:k,auth:R,realtime:P,global:H}=C,{db:G,auth:J,realtime:ne,global:_e}=g,ut={db:Object.assign(Object.assign({},G),k),auth:Object.assign(Object.assign({},J),R),realtime:Object.assign(Object.assign({},ne),P),storage:{},global:Object.assign(Object.assign(Object.assign({},_e),H),{headers:Object.assign(Object.assign({},null!==(h=_e?.headers)&&void 0!==h?h:{}),null!==(f=H?.headers)&&void 0!==f?f:{})}),accessToken:()=>function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){return""})};return C.accessToken?ut.accessToken=C.accessToken:delete ut.accessToken,ut}(f??{},{db:Ar,realtime:Wn,auth:Object.assign(Object.assign({},Yt),{storageKey:J}),global:mr});this.storageKey=null!==(k=_e.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==(R=_e.global.headers)&&void 0!==R?R:{},_e.accessToken?(this.accessToken=_e.accessToken,this.auth=new Proxy({},{get:(ut,nt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(nt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(P=_e.auth)&&void 0!==P?P:{},this.headers,_e.global.fetch),this.fetch=Oo(h,this._getAccessToken.bind(this),_e.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_e.realtime)),this.rest=new Je(new URL("rest/v1",G).href,{headers:this.headers,schema:_e.db.schema,fetch:this.fetch}),this.storage=new zr(this.storageUrl.href,this.headers,this.fetch,f?.storage),_e.accessToken||this._listenForAuthEvents()}get functions(){return new et(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,h={},f={}){return this.rest.rpc(g,h,f)}channel(g,h={config:{}}){return this.realtime.channel(g,h)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var g,h;return function(C,g,h,f){return new(h||(h=Promise))(function(R,P){function H(ne){try{J(f.next(ne))}catch(_e){P(_e)}}function G(ne){try{J(f.throw(ne))}catch(_e){P(_e)}}function J(ne){ne.done?R(ne.value):function k(R){return R instanceof h?R:new h(function(P){P(R)})}(ne.value).then(H,G)}J((f=f.apply(C,g||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:f}=yield this.auth.getSession();return null!==(h=null===(g=f.session)||void 0===g?void 0:g.access_token)&&void 0!==h?h:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,storageKey:R,flowType:P,lock:H,debug:G},J,ne){return new po({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),J),storageKey:R,autoRefreshToken:g,persistSession:h,detectSessionInUrl:f,storage:k,flowType:P,lock:H,debug:G,fetch:ne,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(g){return new xo(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,f)=>{this._handleTokenChanged(h,"CLIENT",f?.access_token)})}_handleTokenChanged(g,h,f){"TOKEN_REFRESHED"!==g&&"SIGNED_IN"!==g||this.changedAccessToken===f?"SIGNED_OUT"===g&&(this.realtime.setAuth(),"STORAGE"==h&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=f}}("https://ymlekirbwjanuxrclsgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltbGVraXJid2phbnV4cmNsc2dmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNjk4OTUsImV4cCI6MjA3MTY0NTg5NX0._a0-aMgphg5_bFCzy7oHhPRkP9Q54dRWGrZN4rzVnHM",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});hi.__supabaseClient=ha;let Ju=(()=>{class C{list(){return(0,E.A)(function*(){const{data:h,error:f}=yield ha.from("character").select("id,name,type,level").order("id",{ascending:!0});if(f)throw f;return h??[]})()}updateById(h,f){return(0,E.A)(function*(){null!=f.level&&(f.level=Math.max(1,Math.min(8,Math.floor(+f.level))));const{error:k}=yield ha.from("character").update(f).eq("id",h);if(k)throw k})()}insert(h){return(0,E.A)(function*(){const f={...h,level:Math.max(1,Math.min(8,Math.floor(+h.level)))},{error:k}=yield ha.from("character").insert(f);if(k)throw k})()}remove(h){return(0,E.A)(function*(){const{error:f}=yield ha.from("character").delete().eq("id",h);if(f)throw f})()}static \u0275fac=function(f){return new(f||C)};static \u0275prov=T.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),pa=(()=>{class C{dataLoader;creatureFactory;logService;notificationService;db;injector;defaultLevel=1;isGroupSelected=!1;selectedCreature=null;addMonsterToggled=!1;creaturesSubject=new z.t([]);creatures$=this.creaturesSubject.asObservable();graveyardSubject=new z.t([]);graveyard$=this.graveyardSubject.asObservable();roundNumberSubject=new z.t(1);roundNumber$=this.roundNumberSubject.asObservable();defaultLevelSubject=new z.t(1);defaultLevel$=this.defaultLevelSubject.asObservable();elementsSubject=new z.t([{type:i.RJ.Fire,state:i.e_.None},{type:i.RJ.Ice,state:i.e_.None},{type:i.RJ.Earth,state:i.e_.None},{type:i.RJ.Air,state:i.e_.None},{type:i.RJ.Light,state:i.e_.None},{type:i.RJ.Dark,state:i.e_.None}]);elements$=this.elementsSubject.asObservable();constructor(h,f,k,R,P,H){this.dataLoader=h,this.creatureFactory=f,this.logService=k,this.notificationService=R,this.db=P,this.injector=H,this.addDefaultCharacters(),this.logService.init(this.creatures$)}getRoundNumber(){return this.roundNumberSubject.getValue()}setRoundNumber(h){this.roundNumberSubject.next(h)}getElements(){return this.elementsSubject.getValue()}setElements(h){this.elementsSubject.next([...h])}setElementState(h,f){const k=this.getElements().map(R=>R.type===h?{...R,state:f}:R);this.setElements(k)}getCreatures(){return this.creaturesSubject.value}setCreatures(h){this.creaturesSubject.next(h)}addCreature(h){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(h)])}addCreatures(h){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(h)])}removeCreature(h){this.creaturesSubject.next(this.creaturesSubject.value.filter(f=>f.id!==h))}getGraveyard(){return this.graveyardSubject.value}setGraveyard(h){this.graveyardSubject.next(h)}addGraveyard(h){this.graveyardSubject.next([...this.graveyardSubject.value,JSON.parse(JSON.stringify(h))])}removeGraveyard(h){this.graveyardSubject.next(this.graveyardSubject.value.filter(f=>f.id!==h))}updateCreatureBaseStat(h,f,k,R){const P=this.getCreatures(),H=this.findCreature(h);"name"===f&&(k=this.creatureFactory.createCreatureName(H)),R?P.filter(J=>J.type===H.type).forEach(J=>{this.updateCreatureBaseStat(J.id,f,k,!1)}):H[f]=k,this.creaturesSubject.next([...P])}toggleCreatureConditions(h,f){const k=this.findCreature(h);if(!k)return;const R=k.conditions||[];k.conditions=R.indexOf(f)>-1?R.filter(H=>H!==f):[...R,f],this.creaturesSubject.next([...this.getCreatures()])}killCreature(h){const f=this.findCreature(h);if(!f)return;if(!f.aggressive)return void this.notificationService.emitErrorMessage("haha, can't kill me");const k=this.creaturesSubject.value.filter(P=>P.id!==h);this.creaturesSubject.next(k);const R=JSON.parse(JSON.stringify(f));this.addGraveyard(R),this.notificationService.emitInfoMessage(`${f.name} has been killed!`)}reviveCreature(h,f){const k=this.getGraveyard?this.getGraveyard():this.graveyardSubject?.value??[],R=k.findIndex(ne=>ne.id===h);if(-1===R)return;const P={...k[R]},H=[...k];H.splice(R,1);const G=Number.isFinite(f)?Number(f):void 0;P.hp=Math.max(1,Number(G??P.hp??1)),P.aggressive=!0;const J=[...this.creaturesSubject.value,P];this.creaturesSubject.next(J),this.graveyardSubject&&this.graveyardSubject.next(H),this.notificationService?.emitInfoMessage?.(`${P.name} has been revived!`)}findCreature(h){const k=this.getCreatures().find(R=>R.id===h);if(!k)throw Error("Creature not found");return k}addDefaultCharacters(){var h=this;return(0,E.A)(function*(){try{const f=yield h.db.list(),k=f.map(G=>Number(G.level)||1),R=k.reduce((G,J)=>G+J,0)/k.length,P=Math.max(1,Math.round(R/2));h.defaultLevelSubject.next(P);const H=f.map(({name:G,type:J,level:ne})=>{const _e=h.dataLoader.getData().characters.find(It=>It.name===J),ut=_e?.stats?.find(It=>It.level===Number(ne)),nt=Number(ut?.health)||10;return h.creatureFactory.createCreature({name:G,type:J,hp:nt,traits:_e?.traits??[],level:Number(ne)||1,aggressive:!1})});h.addCreatures(H)}catch(f){console.error("addDefaultCharacters failed",f)}})()}static \u0275fac=function(f){return new(f||C)(T.KVO(X.X),T.KVO(ee.Z),T.KVO(Z.K),T.KVO(ue.J),T.KVO(Ju),T.KVO(T.zZn))};static \u0275prov=T.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},4572:(it,Ee,V)=>{"use strict";V.d(Ee,{z:()=>pe});var E=V(1985),i=V(3073),z=V(6648),T=V(3669),X=V(6450),ee=V(3794),Z=V(8496),ue=V(4360),ye=V(5225);function pe(...ke){const Ce=(0,ee.lI)(ke),He=(0,ee.ms)(ke),{args:et,keys:Ye}=(0,i.D)(ke);if(0===et.length)return(0,z.H)([],Ce);const Je=new E.c(function ae(ke,Ce,He=T.D){return et=>{ce(Ce,()=>{const{length:Ye}=ke,Je=new Array(Ye);let ze=Ye,Tt=Ye;for(let ve=0;ve<Ye;ve++)ce(Ce,()=>{const xe=(0,z.H)(ke[ve],Ce);let Se=!1;xe.subscribe((0,ue._)(et,Ue=>{Je[ve]=Ue,Se||(Se=!0,Tt--),Tt||et.next(He(Je.slice()))},()=>{--ze||et.complete()}))},et)},et)}}(et,Ce,Ye?ze=>(0,Z.e)(Ye,ze):T.D));return He?Je.pipe((0,X.I)(He)):Je}function ce(ke,Ce,He){ke?(0,ye.N)(He,ke,Ce):Ce()}},4659:(it,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});class V extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}Ee.default=V},4761:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>i});const i=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>z});var E=V(3494),i=V(8071);function z(T){return(0,i.T)(T[E.s])}},5196:(it,Ee,V)=>{"use strict";V.d(Ee,{C:()=>z,U:()=>T});var E=V(1635),i=V(8071);function z(X){return(0,E.AQ)(this,arguments,function*(){const Z=X.getReader();try{for(;;){const{value:ue,done:ye}=yield(0,E.N3)(Z.read());if(ye)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(ue)}}finally{Z.releaseLock()}})}function T(X){return(0,i.T)(X?.getReader)}},5225:(it,Ee,V)=>{"use strict";function E(i,z,T,X=0,ee=!1){const Z=z.schedule(function(){T(),ee?i.add(this.schedule(null,X)):this.unsubscribe()},X);if(i.add(Z),!ee)return Z}V.d(Ee,{N:()=>E})},5231:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>T});var E=V(2615),i=V(130);let z=(()=>{class X{parseInt(Z){return parseInt(void 0!==Z?String(Z):"0")||0}static \u0275fac=function(ue){return new(ue||X)};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),T=(()=>{class X{dataLoader;stringUtils;creatureIdCounter=0;dataFile;constructor(Z,ue){this.dataLoader=Z,this.stringUtils=ue,this.dataFile=this.dataLoader.getData()}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter}createCreature(Z){const ue=this.findMonsterStats(Z);return{id:this.generateCreatureId(),name:Z.aggressive?this.createCreatureName(Z):Z.name,type:Z.type,standee:Z.standee??"#",level:Z.level??1,hp:Math.max(this.stringUtils.parseInt(ue?.baseStat?.health??0),this.stringUtils.parseInt(ue?.stats[0]?.health??0),this.stringUtils.parseInt(Z.hp??0)),attack:Math.max(this.stringUtils.parseInt(ue?.baseStat?.attack??0),this.stringUtils.parseInt(ue?.stats[0]?.attack??0)),movement:Math.max(this.stringUtils.parseInt(ue?.baseStat?.movement??0),this.stringUtils.parseInt(ue?.stats[0]?.movement??0)),initiative:Z.initiative??0,armor:this.stringUtils.parseInt(ue?.stats?.[0]?.actions?.find(pe=>"shield"===pe.type)?.value??ue?.stats?.[0]?.baseStat?.actions?.find(pe=>"shield"===pe.type)?.value??0),retaliate:this.getRetaliateStat(ue,"value"),retaliateRange:this.getRetaliateStat(ue,"range"),aggressive:Z.aggressive,boss:ue?.boss??!1,flying:ue?.flying??!1,isElite:Z.isElite??!1,conditions:Z.conditions??[],roundArmor:Z.roundArmor??0,roundRetaliate:Z.roundRetaliate??0,actions:ue?.actions?.filter(pe=>"condition"===pe.type)??ue?.baseStat?.actions?.filter(pe=>"condition"===pe.type)??ue?.stats?.flatMap(pe=>pe.actions??[]).filter(pe=>"condition"===pe.type)??[],log:Z.log??[],traits:Z.traits??[]}}createCreatureName(Z){let ue=`${Z.type} ${Z.standee??""}`;return Z.isElite?`\u2605 ${ue}`:ue}getRetaliateStat(Z,ue){const ye=Z?.stats?.[0]?.actions?.find(pe=>"retaliate"===pe.type)??Z?.baseStat?.actions?.find(pe=>"retaliate"===pe.type);return ye?"value"===ue?this.stringUtils.parseInt(ye.value??0):"range"===ue?this.stringUtils.parseInt(ye.range??ye.subActions?.find(pe=>"range"===pe.type)?.value??0):0:0}createCreatureList(Z){const ue=[];return Z.forEach(ye=>{ue.push(this.createCreature(ye))}),ue}findMonsterStats(Z){const ue=this.dataFile.monsters.find(ae=>ae.name===Z.name||ae.name===Z.type);if(!ue)return;const ye=this.isCreatureElite(Z),pe=ue.stats.find(ae=>(ye?"elite"===ae.type:"normal"===ae.type||!ae.type)&&ae.level===Z.level);return pe?{...ue,stats:[pe]}:void 0}isCreatureElite(Z){return"elite"===Z.type||"elite"===Z.player4||!0===Z.isElite}static \u0275fac=function(ue){return new(ue||X)(E.KVO(i.X),E.KVO(z))};static \u0275prov=E.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},5286:(it,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{Headers:()=>X,Request:()=>ee,Response:()=>Z,default:()=>T,fetch:()=>z});var i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const z=i.fetch,T=i.fetch.bind(i),X=i.Headers,ee=i.Request,Z=i.Response},5334:(it,Ee,V)=>{"use strict";V.d(Ee,{m:()=>z});var E=V(1026),i=V(9270);function z(T){i.f.setTimeout(()=>{const{onUnhandledError:X}=E.$;if(!X)throw T;X(T)})}},5343:(it,Ee,V)=>{"use strict";function E(){}V.d(Ee,{l:()=>E})},5397:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>z});var E=V(4761),i=V(8071);function z(T){return(0,i.T)(T?.[E.l])}},5958:function(it,Ee,V){"use strict";var E=V(9293).default,i=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(Ee,"__esModule",{value:!0});const z=i(V(5286)),T=i(V(4659));Ee.default=class X{constructor(Z){var ue,ye;this.shouldThrowOnError=!1,this.method=Z.method,this.url=Z.url,this.headers=new Headers(Z.headers),this.schema=Z.schema,this.body=Z.body,this.shouldThrowOnError=null!==(ue=Z.shouldThrowOnError)&&void 0!==ue&&ue,this.signal=Z.signal,this.isMaybeSingle=null!==(ye=Z.isMaybeSingle)&&void 0!==ye&&ye,this.fetch=Z.fetch?Z.fetch:typeof fetch>"u"?z.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Z,ue){return this.headers=new Headers(this.headers),this.headers.set(Z,ue),this}then(Z,ue){var ye=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let ae=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ce=E(function*(ke){var Ce,He,et,Ye;let Je=null,ze=null,Tt=null,ve=ke.status,xe=ke.statusText;if(ke.ok){if("HEAD"!==ye.method){const Ke=yield ke.text();""===Ke||(ze="text/csv"===ye.headers.get("Accept")||ye.headers.get("Accept")&&null!==(Ce=ye.headers.get("Accept"))&&void 0!==Ce&&Ce.includes("application/vnd.pgrst.plan+text")?Ke:JSON.parse(Ke))}const Ue=null===(He=ye.headers.get("Prefer"))||void 0===He?void 0:He.match(/count=(exact|planned|estimated)/),Ne=null===(et=ke.headers.get("content-range"))||void 0===et?void 0:et.split("/");Ue&&Ne&&Ne.length>1&&(Tt=parseInt(Ne[1])),ye.isMaybeSingle&&"GET"===ye.method&&Array.isArray(ze)&&(ze.length>1?(Je={code:"PGRST116",details:`Results contain ${ze.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},ze=null,Tt=null,ve=406,xe="Not Acceptable"):ze=1===ze.length?ze[0]:null)}else{const Ue=yield ke.text();try{Je=JSON.parse(Ue),Array.isArray(Je)&&404===ke.status&&(ze=[],Je=null,ve=200,xe="OK")}catch{404===ke.status&&""===Ue?(ve=204,xe="No Content"):Je={message:Ue}}if(Je&&ye.isMaybeSingle&&!(null===(Ye=Je?.details)||void 0===Ye)&&Ye.includes("0 rows")&&(Je=null,ve=200,xe="OK"),Je&&ye.shouldThrowOnError)throw new T.default(Je)}return{error:Je,data:ze,count:Tt,status:ve,statusText:xe}});return function(ke){return ce.apply(this,arguments)}}());return this.shouldThrowOnError||(ae=ae.catch(ce=>{var ke,Ce,He;return{error:{message:`${null!==(ke=ce?.name)&&void 0!==ke?ke:"FetchError"}: ${ce?.message}`,details:`${null!==(Ce=ce?.stack)&&void 0!==Ce?Ce:""}`,hint:"",code:`${null!==(He=ce?.code)&&void 0!==He?He:""}`},data:null,count:null,status:0,statusText:""}})),ae.then(Z,ue)}returns(){return this}overrideTypes(){return this}}},5964:(it,Ee,V)=>{"use strict";V.d(Ee,{p:()=>z});var E=V(9974),i=V(4360);function z(T,X){return(0,E.N)((ee,Z)=>{let ue=0;ee.subscribe((0,i._)(Z,ye=>T.call(X,ye,ue++)&&Z.next(ye)))})}},6354:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>z});var E=V(9974),i=V(4360);function z(T,X){return(0,E.N)((ee,Z)=>{let ue=0;ee.subscribe((0,i._)(Z,ye=>{Z.next(T.call(X,ye,ue++))}))})}},6365:(it,Ee,V)=>{"use strict";V.d(Ee,{U:()=>z});var E=V(1397),i=V(3669);function z(T=1/0){return(0,E.Z)(i.D,T)}},6450:(it,Ee,V)=>{"use strict";V.d(Ee,{I:()=>T});var E=V(6354);const{isArray:i}=Array;function T(X){return(0,E.T)(ee=>function z(X,ee){return i(ee)?X(...ee):X(ee)}(X,ee))}},6648:(it,Ee,V)=>{"use strict";V.d(Ee,{H:()=>Ue});var E=V(8750),i=V(5225),z=V(9974),T=V(4360);function X(Ne,Ke=0){return(0,z.N)((Nt,_t)=>{Nt.subscribe((0,T._)(_t,ln=>(0,i.N)(_t,Ne,()=>_t.next(ln),Ke),()=>(0,i.N)(_t,Ne,()=>_t.complete(),Ke),ln=>(0,i.N)(_t,Ne,()=>_t.error(ln),Ke)))})}function ee(Ne,Ke=0){return(0,z.N)((Nt,_t)=>{_t.add(Ne.schedule(()=>Nt.subscribe(_t),Ke))})}var ye=V(1985),ae=V(4761),ce=V(8071);function Ce(Ne,Ke){if(!Ne)throw new Error("Iterable cannot be null");return new ye.c(Nt=>{(0,i.N)(Nt,Ke,()=>{const _t=Ne[Symbol.asyncIterator]();(0,i.N)(Nt,Ke,()=>{_t.next().then(ln=>{ln.done?Nt.complete():Nt.next(ln.value)})},0,!0)})})}var He=V(5055),et=V(9858),Ye=V(7441),Je=V(5397),ze=V(7953),Tt=V(591),ve=V(5196);function Ue(Ne,Ke){return Ke?function Se(Ne,Ke){if(null!=Ne){if((0,He.l)(Ne))return function Z(Ne,Ke){return(0,E.Tg)(Ne).pipe(ee(Ke),X(Ke))}(Ne,Ke);if((0,Ye.X)(Ne))return function pe(Ne,Ke){return new ye.c(Nt=>{let _t=0;return Ke.schedule(function(){_t===Ne.length?Nt.complete():(Nt.next(Ne[_t++]),Nt.closed||this.schedule())})})}(Ne,Ke);if((0,et.y)(Ne))return function ue(Ne,Ke){return(0,E.Tg)(Ne).pipe(ee(Ke),X(Ke))}(Ne,Ke);if((0,ze.T)(Ne))return Ce(Ne,Ke);if((0,Je.x)(Ne))return function ke(Ne,Ke){return new ye.c(Nt=>{let _t;return(0,i.N)(Nt,Ke,()=>{_t=Ne[ae.l](),(0,i.N)(Nt,Ke,()=>{let ln,Vn;try{({value:ln,done:Vn}=_t.next())}catch(Cn){return void Nt.error(Cn)}Vn?Nt.complete():Nt.next(ln)},0,!0)}),()=>(0,ce.T)(_t?.return)&&_t.return()})}(Ne,Ke);if((0,ve.U)(Ne))return function xe(Ne,Ke){return Ce((0,ve.C)(Ne),Ke)}(Ne,Ke)}throw(0,Tt.L)(Ne)}(Ne,Ke):(0,E.Tg)(Ne)}},6977:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>X});var E=V(9974),i=V(4360),z=V(8750),T=V(5343);function X(ee){return(0,E.N)((Z,ue)=>{(0,z.Tg)(ee).subscribe((0,i._)(ue,()=>ue.complete(),T.l)),!ue.closed&&Z.subscribe(ue)})}},7303:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>ce,Vw:()=>Z,aZ:()=>et,hb:()=>ke,ig:()=>X,kB:()=>Ce,om:()=>pe,qj:()=>ee,rb:()=>T});var E=V(2615),i=V(1413);let z=null;function T(){return z}function X(ve){z??=ve}class ee{}let Z=(()=>{class ve{historyGo(Se){throw new Error("")}static \u0275fac=function(Ue){return new(Ue||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>(0,E.WQX)(ye),providedIn:"platform"})}return ve})(),ye=(()=>{class ve extends Z{_location;_history;_doc=(0,E.WQX)(E.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(Se){const Ue=T().getGlobalEventTarget(this._doc,"window");return Ue.addEventListener("popstate",Se,!1),()=>Ue.removeEventListener("popstate",Se)}onHashChange(Se){const Ue=T().getGlobalEventTarget(this._doc,"window");return Ue.addEventListener("hashchange",Se,!1),()=>Ue.removeEventListener("hashchange",Se)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Se){this._location.pathname=Se}pushState(Se,Ue,Ne){this._history.pushState(Se,Ue,Ne)}replaceState(Se,Ue,Ne){this._history.replaceState(Se,Ue,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Se=0){this._history.go(Se)}getState(){return this._history.state}static \u0275fac=function(Ue){return new(Ue||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>new ve,providedIn:"platform"})}return ve})();function pe(ve,xe){return ve?xe?ve.endsWith("/")?xe.startsWith("/")?ve+xe.slice(1):ve+xe:xe.startsWith("/")?ve+xe:`${ve}/${xe}`:ve:xe}function ae(ve){const xe=ve.search(/#|\?|$/);return"/"===ve[xe-1]?ve.slice(0,xe-1)+ve.slice(xe):ve}function ce(ve){return ve&&"?"!==ve[0]?`?${ve}`:ve}let ke=(()=>{class ve{historyGo(Se){throw new Error("")}static \u0275fac=function(Ue){return new(Ue||ve)};static \u0275prov=E.jDH({token:ve,factory:()=>(0,E.WQX)(He),providedIn:"root"})}return ve})();const Ce=new E.nKC("");let He=(()=>{class ve extends ke{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Se,Ue){super(),this._platformLocation=Se,this._baseHref=Ue??this._platformLocation.getBaseHrefFromDOM()??(0,E.WQX)(E.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}prepareExternalUrl(Se){return pe(this._baseHref,Se)}path(Se=!1){const Ue=this._platformLocation.pathname+ce(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&Se?`${Ue}${Ne}`:Ue}pushState(Se,Ue,Ne,Ke){const Nt=this.prepareExternalUrl(Ne+ce(Ke));this._platformLocation.pushState(Se,Ue,Nt)}replaceState(Se,Ue,Ne,Ke){const Nt=this.prepareExternalUrl(Ne+ce(Ke));this._platformLocation.replaceState(Se,Ue,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}static \u0275fac=function(Ue){return new(Ue||ve)(E.KVO(Z),E.KVO(Ce,8))};static \u0275prov=E.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),et=(()=>{class ve{_subject=new i.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Se){this._locationStrategy=Se;const Ue=this._locationStrategy.getBaseHref();this._basePath=function Tt(ve){if(new RegExp("^(https?:)?//").test(ve)){const[,Se]=ve.split(/\/\/[^\/]+/);return Se}return ve}(ae(ze(Ue))),this._locationStrategy.onPopState(Ne=>{this._subject.next({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Se=!1){return this.normalize(this._locationStrategy.path(Se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Se,Ue=""){return this.path()==this.normalize(Se+ce(Ue))}normalize(Se){return ve.stripTrailingSlash(function Je(ve,xe){if(!ve||!xe.startsWith(ve))return xe;const Se=xe.substring(ve.length);return""===Se||["/",";","?","#"].includes(Se[0])?Se:xe}(this._basePath,ze(Se)))}prepareExternalUrl(Se){return Se&&"/"!==Se[0]&&(Se="/"+Se),this._locationStrategy.prepareExternalUrl(Se)}go(Se,Ue="",Ne=null){this._locationStrategy.pushState(Ne,"",Se,Ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+ce(Ue)),Ne)}replaceState(Se,Ue="",Ne=null){this._locationStrategy.replaceState(Ne,"",Se,Ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+ce(Ue)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Se=0){this._locationStrategy.historyGo?.(Se)}onUrlChange(Se){return this._urlChangeListeners.push(Se),this._urlChangeSubscription??=this.subscribe(Ue=>{this._notifyUrlChangeListeners(Ue.url,Ue.state)}),()=>{const Ue=this._urlChangeListeners.indexOf(Se);this._urlChangeListeners.splice(Ue,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Se="",Ue){this._urlChangeListeners.forEach(Ne=>Ne(Se,Ue))}subscribe(Se,Ue,Ne){return this._subject.subscribe({next:Se,error:Ue??void 0,complete:Ne??void 0})}static normalizeQueryParams=ce;static joinWithSlash=pe;static stripTrailingSlash=ae;static \u0275fac=function(Ue){return new(Ue||ve)(E.KVO(ke))};static \u0275prov=E.jDH({token:ve,factory:()=>function Ye(){return new et((0,E.KVO)(ke))}(),providedIn:"root"})}return ve})();function ze(ve){return ve.replace(/\/index.html$/,"")}},7441:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>E});const E=i=>i&&"number"==typeof i.length&&"function"!=typeof i},7473:(it,Ee,V)=>{"use strict";V.d(Ee,{J:()=>z});var E=V(1413),i=V(2615);let z=(()=>{class T{messageSubject=new E.B;message$=this.messageSubject.asObservable();emitErrorMessage(ee){this.messageSubject.next({type:"error",message:ee})}emitInfoMessage(ee){this.messageSubject.next({type:"info",message:ee})}static \u0275fac=function(Z){return new(Z||T)};static \u0275prov=i.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},7705:(it,Ee,V)=>{"use strict";V.d(Ee,{ES_:()=>ae,L39:()=>$,MKu:()=>Zr,RxE:()=>Ve,TL3:()=>Yt,_q3:()=>lo,gRc:()=>Yn,hFB:()=>Ye,naY:()=>Go});var E=V(2615),i=V(8440),z=V(3664);const T=Symbol("InputSignalNode#UNSET"),X={...i.s0,transformFn:void 0,applyValueToInputSignal(j,D){(0,i.j2)(j,D)}};function Z(j,D){const N=Object.create(X);function q(){if((0,i.mK)(N),N.value===T)throw new E.buA(-950,null);return N.value}return N.value=j,N.transformFn=D?.transform,q[i.bh]=N,q}class ae{attributeName;constructor(D){this.attributeName=D}__NG_ELEMENT_ID__=()=>(0,z.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function He(j,D){return Z(j,D)}new E.nKC("").__NG_ELEMENT_ID__=j=>{const D=(0,E.Mx4)();if(null===D)throw new E.buA(204,!1);if(2&D.type)return D.value;if(8&j)return null;throw new E.buA(204,!1)};const Ye=(He.required=function et(j){return Z(T,j)},He);class Ve{full;major;minor;patch;constructor(D){this.full=D;const N=D.split(".");this.major=N[0],this.minor=N[1],this.patch=N.slice(2).join(".")}}const Gt=new E.nKC(""),me=new E.nKC("");function je(j){return!j.moduleRef}let wt,Wt=null;function Go(){return!1}let Yn=(()=>class j{static __NG_ELEMENT_ID__=Io})();function Io(j){return function kr(j,D,N){if((0,E.Qs1)(j)&&!N){const q=(0,E.KdJ)(j.index,D);return new z.NCX(q,q)}return 175&j.type?new z.NCX(D[E.b5C],D):null}((0,E.Mx4)(),(0,E.OAn)(),!(16&~j))}class $n{constructor(){}supports(D){return(0,z.ozJ)(D)}create(D){return new Dr(D)}}const Jn=(j,D)=>D;class Dr{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(D){this._trackByFn=D||Jn}forEachItem(D){let N;for(N=this._itHead;null!==N;N=N._next)D(N)}forEachOperation(D){let N=this._itHead,q=this._removalsHead,he=0,De=null;for(;N||q;){const Le=!q||N&&N.currentIndex<Cr(q,he,De)?N:q,Qe=Cr(Le,he,De),ht=Le.currentIndex;if(Le===q)he--,q=q._nextRemoved;else if(N=N._next,null==Le.previousIndex)he++;else{De||(De=[]);const pt=Qe-he,Lt=ht-he;if(pt!=Lt){for(let cn=0;cn<pt;cn++){const En=cn<De.length?De[cn]:De[cn]=0,ft=En+cn;Lt<=ft&&ft<pt&&(De[cn]=En+1)}De[Le.previousIndex]=Lt-pt}}Qe!==ht&&D(Le,Qe,ht)}}forEachPreviousItem(D){let N;for(N=this._previousItHead;null!==N;N=N._nextPrevious)D(N)}forEachAddedItem(D){let N;for(N=this._additionsHead;null!==N;N=N._nextAdded)D(N)}forEachMovedItem(D){let N;for(N=this._movesHead;null!==N;N=N._nextMoved)D(N)}forEachRemovedItem(D){let N;for(N=this._removalsHead;null!==N;N=N._nextRemoved)D(N)}forEachIdentityChange(D){let N;for(N=this._identityChangesHead;null!==N;N=N._nextIdentityChange)D(N)}diff(D){if(null==D&&(D=[]),!(0,z.ozJ)(D))throw new E.buA(900,!1);return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let he,De,Le,N=this._itHead,q=!1;if(Array.isArray(D)){this.length=D.length;for(let Qe=0;Qe<this.length;Qe++)De=D[Qe],Le=this._trackByFn(Qe,De),null!==N&&Object.is(N.trackById,Le)?(q&&(N=this._verifyReinsertion(N,De,Le,Qe)),Object.is(N.item,De)||this._addIdentityChange(N,De)):(N=this._mismatch(N,De,Le,Qe),q=!0),N=N._next}else he=0,(0,z.utN)(D,Qe=>{Le=this._trackByFn(he,Qe),null!==N&&Object.is(N.trackById,Le)?(q&&(N=this._verifyReinsertion(N,Qe,Le,he)),Object.is(N.item,Qe)||this._addIdentityChange(N,Qe)):(N=this._mismatch(N,Qe,Le,he),q=!0),N=N._next,he++}),this.length=he;return this._truncate(N),this.collection=D,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let D;for(D=this._previousItHead=this._itHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._additionsHead;null!==D;D=D._nextAdded)D.previousIndex=D.currentIndex;for(this._additionsHead=this._additionsTail=null,D=this._movesHead;null!==D;D=D._nextMoved)D.previousIndex=D.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(D,N,q,he){let De;return null===D?De=this._itTail:(De=D._prev,this._remove(D)),null!==(D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null))?(Object.is(D.item,N)||this._addIdentityChange(D,N),this._reinsertAfter(D,De,he)):null!==(D=null===this._linkedRecords?null:this._linkedRecords.get(q,he))?(Object.is(D.item,N)||this._addIdentityChange(D,N),this._moveAfter(D,De,he)):D=this._addAfter(new Zn(N,q),De,he),D}_verifyReinsertion(D,N,q,he){let De=null===this._unlinkedRecords?null:this._unlinkedRecords.get(q,null);return null!==De?D=this._reinsertAfter(De,D._prev,he):D.currentIndex!=he&&(D.currentIndex=he,this._addToMoves(D,he)),D}_truncate(D){for(;null!==D;){const N=D._next;this._addToRemovals(this._unlink(D)),D=N}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(D,N,q){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(D);const he=D._prevRemoved,De=D._nextRemoved;return null===he?this._removalsHead=De:he._nextRemoved=De,null===De?this._removalsTail=he:De._prevRemoved=he,this._insertAfter(D,N,q),this._addToMoves(D,q),D}_moveAfter(D,N,q){return this._unlink(D),this._insertAfter(D,N,q),this._addToMoves(D,q),D}_addAfter(D,N,q){return this._insertAfter(D,N,q),this._additionsTail=null===this._additionsTail?this._additionsHead=D:this._additionsTail._nextAdded=D,D}_insertAfter(D,N,q){const he=null===N?this._itHead:N._next;return D._next=he,D._prev=N,null===he?this._itTail=D:he._prev=D,null===N?this._itHead=D:N._next=D,null===this._linkedRecords&&(this._linkedRecords=new so),this._linkedRecords.put(D),D.currentIndex=q,D}_remove(D){return this._addToRemovals(this._unlink(D))}_unlink(D){null!==this._linkedRecords&&this._linkedRecords.remove(D);const N=D._prev,q=D._next;return null===N?this._itHead=q:N._next=q,null===q?this._itTail=N:q._prev=N,D}_addToMoves(D,N){return D.previousIndex===N||(this._movesTail=null===this._movesTail?this._movesHead=D:this._movesTail._nextMoved=D),D}_addToRemovals(D){return null===this._unlinkedRecords&&(this._unlinkedRecords=new so),this._unlinkedRecords.put(D),D.currentIndex=null,D._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=D,D._prevRemoved=null):(D._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=D),D}_addIdentityChange(D,N){return D.item=N,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=D:this._identityChangesTail._nextIdentityChange=D,D}}class Zn{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(D,N){this.item=D,this.trackById=N}}class io{_head=null;_tail=null;add(D){null===this._head?(this._head=this._tail=D,D._nextDup=null,D._prevDup=null):(this._tail._nextDup=D,D._prevDup=this._tail,D._nextDup=null,this._tail=D)}get(D,N){let q;for(q=this._head;null!==q;q=q._nextDup)if((null===N||N<=q.currentIndex)&&Object.is(q.trackById,D))return q;return null}remove(D){const N=D._prevDup,q=D._nextDup;return null===N?this._head=q:N._nextDup=q,null===q?this._tail=N:q._prevDup=N,null===this._head}}class so{map=new Map;put(D){const N=D.trackById;let q=this.map.get(N);q||(q=new io,this.map.set(N,q)),q.add(D)}get(D,N){const he=this.map.get(D);return he?he.get(D,N):null}remove(D){const N=D.trackById;return this.map.get(N).remove(D)&&this.map.delete(N),D}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cr(j,D,N){const q=j.previousIndex;if(null===q)return q;let he=0;return N&&q<N.length&&(he=N[q]),q+D+he}class hn{constructor(){}supports(D){return D instanceof Map||(0,z.vDg)(D)}create(){return new Wr}}class Wr{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(D){let N;for(N=this._mapHead;null!==N;N=N._next)D(N)}forEachPreviousItem(D){let N;for(N=this._previousMapHead;null!==N;N=N._nextPrevious)D(N)}forEachChangedItem(D){let N;for(N=this._changesHead;null!==N;N=N._nextChanged)D(N)}forEachAddedItem(D){let N;for(N=this._additionsHead;null!==N;N=N._nextAdded)D(N)}forEachRemovedItem(D){let N;for(N=this._removalsHead;null!==N;N=N._nextRemoved)D(N)}diff(D){if(D){if(!(D instanceof Map||(0,z.vDg)(D)))throw new E.buA(900,!1)}else D=new Map;return this.check(D)?this:null}onDestroy(){}check(D){this._reset();let N=this._mapHead;if(this._appendAfter=null,this._forEach(D,(q,he)=>{if(N&&N.key===he)this._maybeAddToChanges(N,q),this._appendAfter=N,N=N._next;else{const De=this._getOrCreateRecordForKey(he,q);N=this._insertBeforeOrAppend(N,De)}}),N){N._prev&&(N._prev._next=null),this._removalsHead=N;for(let q=N;null!==q;q=q._nextRemoved)q===this._mapHead&&(this._mapHead=null),this._records.delete(q.key),q._nextRemoved=q._next,q.previousValue=q.currentValue,q.currentValue=null,q._prev=null,q._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(D,N){if(D){const q=D._prev;return N._next=D,N._prev=q,D._prev=N,q&&(q._next=N),D===this._mapHead&&(this._mapHead=N),this._appendAfter=D,D}return this._appendAfter?(this._appendAfter._next=N,N._prev=this._appendAfter):this._mapHead=N,this._appendAfter=N,null}_getOrCreateRecordForKey(D,N){if(this._records.has(D)){const he=this._records.get(D);this._maybeAddToChanges(he,N);const De=he._prev,Le=he._next;return De&&(De._next=Le),Le&&(Le._prev=De),he._next=null,he._prev=null,he}const q=new Hn(D);return this._records.set(D,q),q.currentValue=N,this._addToAdditions(q),q}_reset(){if(this.isDirty){let D;for(this._previousMapHead=this._mapHead,D=this._previousMapHead;null!==D;D=D._next)D._nextPrevious=D._next;for(D=this._changesHead;null!==D;D=D._nextChanged)D.previousValue=D.currentValue;for(D=this._additionsHead;null!=D;D=D._nextAdded)D.previousValue=D.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(D,N){Object.is(N,D.currentValue)||(D.previousValue=D.currentValue,D.currentValue=N,this._addToChanges(D))}_addToAdditions(D){null===this._additionsHead?this._additionsHead=this._additionsTail=D:(this._additionsTail._nextAdded=D,this._additionsTail=D)}_addToChanges(D){null===this._changesHead?this._changesHead=this._changesTail=D:(this._changesTail._nextChanged=D,this._changesTail=D)}_forEach(D,N){D instanceof Map?D.forEach(N):Object.keys(D).forEach(q=>N(D[q],q))}}class Hn{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(D){this.key=D}}function Gn(){return new lo([new $n])}let lo=(()=>{class j{factories;static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:Gn});constructor(N){this.factories=N}static create(N,q){if(null!=q){const he=q.factories.slice();N=N.concat(he)}return new j(N)}static extend(N){return{provide:j,useFactory:q=>j.create(N,q||Gn()),deps:[[j,new z.kdw,new z.Xx1]]}}find(N){const q=this.factories.find(he=>he.supports(N));if(null!=q)return q;throw new E.buA(901,!1)}}return j})();function Un(){return new Zr([new hn])}let Zr=(()=>{class j{static \u0275prov=(0,E.jDH)({token:j,providedIn:"root",factory:Un});factories;constructor(N){this.factories=N}static create(N,q){if(q){const he=q.factories.slice();N=N.concat(he)}return new j(N)}static extend(N){return{provide:j,useFactory:q=>j.create(N,q||Un()),deps:[[j,new z.kdw,new z.Xx1]]}}find(N){const q=this.factories.find(he=>he.supports(N));if(q)return q;throw new E.buA(901,!1)}}return j})();function Yt(j){(0,z.Ef8)(8);try{const{rootComponent:D,appProviders:N,platformProviders:q}=j,he=function ia(j=[]){if(Wt)return Wt;(0,z.pl0)();const D=function un(j=[],D){return E.zZn.create({name:D,providers:[{provide:E.GBX,useValue:"platform"},{provide:Gt,useValue:new Set([()=>Wt=null])},...j]})}(j);return Wt=D,(0,z.ypd)(),function xo(j){const D=j.get(z.PLl,null);(0,E.N4e)(j,()=>{D?.forEach(N=>N())})}(D),D}(q),De=[(0,z.SdI)({}),{provide:E.hk6,useExisting:z.Ts$},E.gv8,...N||[]];return function Ge(j){const D=je(j)?j.r3Injector:j.moduleRef.injector,N=D.get(z.SKi);return N.run(()=>{je(j)?j.r3Injector.resolveInjectorInitializers():j.moduleRef.resolveInjectorInitializers();const q=D.get(E.ZTf);let he;if(N.runOutsideAngular(()=>{he=N.onError.subscribe({next:q})}),je(j)){const De=()=>D.destroy(),Le=j.platformInjector.get(Gt);Le.add(De),D.onDestroy(()=>{he.unsubscribe(),Le.delete(De)})}else{const De=()=>j.moduleRef.destroy(),Le=j.platformInjector.get(Gt);Le.add(De),j.moduleRef.onDestroy(()=>{(0,z.TFI)(j.allPlatformModules,j.moduleRef),he.unsubscribe(),Le.delete(De)})}return function Et(j,D,N){try{const q=N();return(0,z.yLl)(q)?q.catch(he=>{throw D.runOutsideAngular(()=>j(he)),he}):q}catch(q){throw D.runOutsideAngular(()=>j(q)),q}}(q,N,()=>{const De=D.get(E.rev),Le=De.add(),Qe=D.get(z.H1s);return Qe.runInitializers(),Qe.donePromise.then(()=>{const ht=D.get(z.xe9,z.DkB);if((0,z.e6s)(ht||z.DkB),!D.get(me,!0))return je(j)?D.get(z.o8S):(j.allPlatformModules.push(j.moduleRef),j.moduleRef);if(je(j)){const Lt=D.get(z.o8S);return void 0!==j.rootComponent&&Lt.bootstrap(j.rootComponent),Lt}return wt?.(j.moduleRef,j.allPlatformModules),j.moduleRef}).finally(()=>{De.remove(Le)})})})}({r3Injector:new z.bH1({providers:De,parent:he,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:he,rootComponent:D})}catch(D){return Promise.reject(D)}finally{(0,z.Ef8)(9)}}function $(j){return"boolean"==typeof j?j:null!=j&&"false"!==j}},7707:(it,Ee,V)=>{"use strict";V.d(Ee,{Ms:()=>et,vU:()=>ce});var E=V(8071),i=V(8359),z=V(1026),T=V(5334),X=V(5343);const ee=ye("C",void 0,void 0);function ye(ve,xe,Se){return{kind:ve,value:xe,error:Se}}var pe=V(9270),ae=V(9786);class ce extends i.yU{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,i.Uv)(xe)&&xe.add(this)):this.destination=Tt}static create(xe,Se,Ue){return new et(xe,Se,Ue)}next(xe){this.isStopped?ze(function ue(ve){return ye("N",ve,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?ze(function Z(ve){return ye("E",void 0,ve)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?ze(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ce(ve,xe){return ke.call(ve,xe)}class He{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Se}=this;if(Se.next)try{Se.next(xe)}catch(Ue){Ye(Ue)}}error(xe){const{partialObserver:Se}=this;if(Se.error)try{Se.error(xe)}catch(Ue){Ye(Ue)}else Ye(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Se){Ye(Se)}}}class et extends ce{constructor(xe,Se,Ue){let Ne;if(super(),(0,E.T)(xe)||!xe)Ne={next:xe??void 0,error:Se??void 0,complete:Ue??void 0};else{let Ke;this&&z.$.useDeprecatedNextContext?(Ke=Object.create(xe),Ke.unsubscribe=()=>this.unsubscribe(),Ne={next:xe.next&&Ce(xe.next,Ke),error:xe.error&&Ce(xe.error,Ke),complete:xe.complete&&Ce(xe.complete,Ke)}):Ne=xe}this.destination=new He(Ne)}}function Ye(ve){z.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(ve):(0,T.m)(ve)}function ze(ve,xe){const{onStoppedNotification:Se}=z.$;Se&&pe.f.setTimeout(()=>Se(ve,xe))}const Tt={closed:!0,next:X.l,error:function Je(ve){throw ve},complete:X.l}},7908:(it,Ee,V)=>{"use strict";function E(i,z){if(i){const T=i.indexOf(z);0<=T&&i.splice(T,1)}}V.d(Ee,{o:()=>E})},7953:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>i});var E=V(8071);function i(z){return Symbol.asyncIterator&&(0,E.T)(z?.[Symbol.asyncIterator])}},8071:(it,Ee,V)=>{"use strict";function E(i){return"function"==typeof i}V.d(Ee,{T:()=>E})},8147:(it,Ee,V)=>{"use strict";V.d(Ee,{K:()=>ye});var E=V(4412),i=V(6354),z=V(9974),T=V(4360),ee=V(5964),Z=V(2615);const ue=["name","standee","level","initiative","hp","aggressive","armor","roundArmor","retaliate","roundRetaliate","conditions"];let ye=(()=>{class pe{logsSubject=new E.t([]);logs$=this.logsSubject.asObservable();init(ce){ce.pipe((0,i.T)(Ce=>(Ce??[]).map(He=>{const et={id:He.id,type:He.type};for(const Ye of ue)et[Ye]=He[Ye];return et}))).pipe(function X(){return(0,z.N)((pe,ae)=>{let ce,ke=!1;pe.subscribe((0,T._)(ae,Ce=>{const He=ce;ce=Ce,ke&&ae.next([He,Ce]),ke=!0}))})}(),(0,i.T)(([Ce,He])=>this.diff(Ce,He)),(0,ee.p)(Ce=>Ce.length>0)).subscribe(Ce=>{this.logsSubject.next([...Ce,...this.logsSubject.value])})}characterOptions$=this.logs$.pipe((0,i.T)(ce=>{const ke=new Map;for(const Ce of ce)Ce.creatureId&&!ke.has(Ce.creatureId)&&ke.set(Ce.creatureId,Ce.creature);return Array.from(ke.entries()).map(([Ce,He])=>({value:Ce,text:He}))}));getLastAliveHpBefore(ce,ke){const Ce=this.logsSubject.value,He=Ce.findIndex(et=>et.id===ce);if(-1!==He)for(let et=He+1;et<Ce.length;et++){const Ye=Ce[et];if(Ye.creatureId===ke&&"hp"===Ye.stat){const Je="number"==typeof Ye.value?Ye.value:void 0;if(void 0!==Je&&Je>0)return Je}}}getLastPositiveHp(ce){const ke=this.logsSubject.value;for(const Ce of ke)if(Ce.creatureId===ce&&"hp"===Ce.stat){const He="number"==typeof Ce.value?Ce.value:void 0;if(void 0!==He&&He>0)return He}}diff(ce,ke){const Ce=new Map((ce??[]).map(Ye=>[Ye.id,Ye])),He=new Map((ke??[]).map(Ye=>[Ye.id,Ye])),et=[];for(const[Ye,Je]of He){const ze=Ce.get(Ye);if(ze)for(const Tt of ue){const ve=ze[Tt],xe=Je[Tt];Object.is(ve,xe)||et.push(this.entry(Ye,Je.name??"(unknown)",String(Tt),xe,ve))}else et.push(this.entry(Ye,Je.name??"(unknown)","created",this.pretty(Je),null,{new:this.snap(Je)}))}for(const[Ye,Je]of Ce)He.has(Ye)||et.push(this.entry(Ye,`${Je.name??"(unknown)"} (killed)`,"killed",null,this.pretty(Je),{old:this.snap(Je)}));return et}pretty(ce){return`hp=${ce.hp}, lvl=${ce.level}`}entry(ce,ke,Ce,He,et,Ye){return{id:this.randId(),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),creatureId:ce,creature:ke,stat:Ce,value:He,oldValue:et,data:Ye}}snap(ce){return{name:ce.name,type:ce.type,standee:ce.standee,level:ce.level,hp:ce.hp,aggressive:ce?.aggressive}}randId(){return Math.random().toString(36).slice(2,10)}static \u0275fac=function(ke){return new(ke||pe)};static \u0275prov=Z.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},8359:(it,Ee,V)=>{"use strict";V.d(Ee,{Kn:()=>ee,yU:()=>X,Uv:()=>Z});var E=V(8071);const z=(0,V(1853).L)(ye=>function(ae){ye(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((ce,ke)=>`${ke+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var T=V(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Ce of ae)Ce.remove(this);else ae.remove(this);const{initialTeardown:ce}=this;if((0,E.T)(ce))try{ce()}catch(Ce){pe=Ce instanceof z?Ce.errors:[Ce]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ce of ke)try{ue(Ce)}catch(He){pe=pe??[],He instanceof z?pe=[...pe,...He.errors]:pe.push(He)}}if(pe)throw new z(pe)}}add(pe){var ae;if(pe&&pe!==this)if(this.closed)ue(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(pe)}}_hasParent(pe){const{_parentage:ae}=this;return ae===pe||Array.isArray(ae)&&ae.includes(pe)}_addParent(pe){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(pe),ae):ae?[ae,pe]:pe}_removeParent(pe){const{_parentage:ae}=this;ae===pe?this._parentage=null:Array.isArray(ae)&&(0,T.o)(ae,pe)}remove(pe){const{_finalizers:ae}=this;ae&&(0,T.o)(ae,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const ye=new X;return ye.closed=!0,ye})();const ee=X.EMPTY;function Z(ye){return ye instanceof X||ye&&"closed"in ye&&(0,E.T)(ye.remove)&&(0,E.T)(ye.add)&&(0,E.T)(ye.unsubscribe)}function ue(ye){(0,E.T)(ye)?ye():ye.unsubscribe()}},8440:(it,Ee,V)=>{"use strict";function E(me,je){return Object.is(me,je)}V.d(Ee,{Ag:()=>Vn,Bg:()=>ze,EF:()=>yn,H8:()=>E,Ht:()=>Z,JC:()=>Ce,KE:()=>ye,KO:()=>Ve,KZ:()=>ln,Ny:()=>Cn,TO:()=>Je,Wu:()=>Tt,XR:()=>xe,a7:()=>Ke,bh:()=>ee,j2:()=>we,mC:()=>Pe,mK:()=>ce,n5:()=>le,nR:()=>ue,pL:()=>ae,s0:()=>rt,si:()=>ve});let i=null,z=!1,T=1,X=null;const ee=Symbol("SIGNAL");function Z(me){const je=i;return i=me,je}function ue(){return i}function ye(){return z}const ae={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(me){if(z)throw new Error("");if(null===i)return;i.consumerOnSignalRead(me);const je=i.producersTail;if(void 0!==je&&je.producer===me)return;let Ge;const wt=i.recomputing;if(wt&&(Ge=void 0!==je?je.nextProducer:i.producers,void 0!==Ge&&Ge.producer===me))return i.producersTail=Ge,void(Ge.lastReadVersion=me.version);const Fe=me.consumersTail;if(void 0!==Fe&&Fe.consumer===i&&(!wt||function _t(me,je){const Ge=je.producersTail;if(void 0!==Ge){let wt=je.producers;do{if(wt===me)return!0;if(wt===Ge)break;wt=wt.nextProducer}while(void 0!==wt)}return!1}(Fe,i)))return;const Ht=Ne(i),Et={producer:me,consumer:i,nextProducer:Ge,prevConsumer:Fe,lastReadVersion:me.version,nextConsumer:void 0};i.producersTail=Et,void 0!==je?je.nextProducer=Et:i.producers=Et,Ht&&Se(me,Et)}function Ce(me){if((!Ne(me)||me.dirty)&&(me.dirty||me.lastCleanEpoch!==T)){if(!me.producerMustRecompute(me)&&!ve(me))return void Je(me);me.producerRecomputeValue(me),Je(me)}}function He(me){if(void 0===me.consumers)return;const je=z;z=!0;try{for(let Ge=me.consumers;void 0!==Ge;Ge=Ge.nextConsumer){const wt=Ge.consumer;wt.dirty||Ye(wt)}}finally{z=je}}function et(){return!1!==i?.consumerAllowSignalWrites}function Ye(me){me.dirty=!0,He(me),me.consumerMarkedDirty?.(me)}function Je(me){me.dirty=!1,me.lastCleanEpoch=T}function ze(me){return me&&(me.producersTail=void 0,me.recomputing=!0),Z(me)}function Tt(me,je){if(Z(je),!me)return;me.recomputing=!1;const Ge=me.producersTail;let wt=void 0!==Ge?Ge.nextProducer:me.producers;if(void 0!==wt){if(Ne(me))do{wt=Ue(wt)}while(void 0!==wt);void 0!==Ge?Ge.nextProducer=void 0:me.producers=void 0}}function ve(me){for(let je=me.producers;void 0!==je;je=je.nextProducer){const Ge=je.producer,wt=je.lastReadVersion;if(wt!==Ge.version||(Ce(Ge),wt!==Ge.version))return!0}return!1}function xe(me){if(Ne(me)){let je=me.producers;for(;void 0!==je;)je=Ue(je)}me.producers=void 0,me.producersTail=void 0,me.consumers=void 0,me.consumersTail=void 0}function Se(me,je){const Ge=me.consumersTail,wt=Ne(me);if(void 0!==Ge?(je.nextConsumer=Ge.nextConsumer,Ge.nextConsumer=je):(je.nextConsumer=void 0,me.consumers=je),je.prevConsumer=Ge,me.consumersTail=je,!wt)for(let Fe=me.producers;void 0!==Fe;Fe=Fe.nextProducer)Se(Fe.producer,Fe)}function Ue(me){const je=me.producer,Ge=me.nextProducer,wt=me.nextConsumer,Fe=me.prevConsumer;if(me.nextConsumer=void 0,me.prevConsumer=void 0,void 0!==wt?wt.prevConsumer=Fe:je.consumersTail=Fe,void 0!==Fe)Fe.nextConsumer=wt;else if(je.consumers=wt,!Ne(je)){let Ht=je.producers;for(;void 0!==Ht;)Ht=Ue(Ht)}return Ge}function Ne(me){return me.consumerIsAlwaysLive||void 0!==me.consumers}function Ke(me){X?.(me)}function ln(me,je){const Ge=Object.create(wr);Ge.computation=me,void 0!==je&&(Ge.equal=je);const wt=()=>{if(Ce(Ge),ce(Ge),Ge.value===yn)throw Ge.error;return Ge.value};return wt[ee]=Ge,Ke(Ge),wt}const Vn=Symbol("UNSET"),Cn=Symbol("COMPUTING"),yn=Symbol("ERRORED"),wr={...ae,value:Vn,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:me=>me.value===Vn||me.value===Cn,producerRecomputeValue(me){if(me.value===Cn)throw new Error("");const je=me.value;me.value=Cn;const Ge=ze(me);let wt,Fe=!1;try{wt=me.computation(),Z(null),Fe=je!==Vn&&je!==yn&&wt!==yn&&me.equal(je,wt)}catch(Ht){wt=yn,me.error=Ht}finally{Tt(me,Ge)}Fe?me.value=je:(me.value=wt,me.version++)}};let Xt=function ar(){throw new Error};function Te(me){Xt(me)}function Ve(me){Xt=me}let ie=null;function le(me,je){const Ge=Object.create(rt);Ge.value=me,void 0!==je&&(Ge.equal=je);const wt=()=>function de(me){return ce(me),me.value}(Ge);return wt[ee]=Ge,Ke(Ge),[wt,Et=>we(Ge,Et),Et=>Pe(Ge,Et)]}function we(me,je){et()||Te(me),me.equal(me.value,je)||(me.value=je,function Gt(me){me.version++,function ke(){T++}(),He(me),ie?.(me)}(me))}function Pe(me,je){et()||Te(me),we(me,je(me.value))}const rt={...ae,equal:E,value:void 0,kind:"signal"}},8496:(it,Ee,V)=>{"use strict";function E(i,z){return i.reduce((T,X,ee)=>(T[X]=z[ee],T),{})}V.d(Ee,{e:()=>E})},8666:function(it,Ee,V){"use strict";var E=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(Ee,"__esModule",{value:!0});const i=E(V(3608));Ee.default=class z{constructor(X,{headers:ee={},schema:Z,fetch:ue}){this.url=X,this.headers=new Headers(ee),this.schema=Z,this.fetch=ue}select(X,{head:ee=!1,count:Z}={}){const ue=ee?"HEAD":"GET";let ye=!1;const pe=(X??"*").split("").map(ae=>/\s/.test(ae)&&!ye?"":('"'===ae&&(ye=!ye),ae)).join("");return this.url.searchParams.set("select",pe),Z&&this.headers.append("Prefer",`count=${Z}`),new i.default({method:ue,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(X,{count:ee,defaultToNull:Z=!0}={}){var ue;if(ee&&this.headers.append("Prefer",`count=${ee}`),Z||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const pe=X.reduce((ae,ce)=>ae.concat(Object.keys(ce)),[]);if(pe.length>0){const ae=[...new Set(pe)].map(ce=>`"${ce}"`);this.url.searchParams.set("columns",ae.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(ue=this.fetch)&&void 0!==ue?ue:fetch})}upsert(X,{onConflict:ee,ignoreDuplicates:Z=!1,count:ue,defaultToNull:ye=!0}={}){var pe;if(this.headers.append("Prefer",`resolution=${Z?"ignore":"merge"}-duplicates`),void 0!==ee&&this.url.searchParams.set("on_conflict",ee),ue&&this.headers.append("Prefer",`count=${ue}`),ye||this.headers.append("Prefer","missing=default"),Array.isArray(X)){const ce=X.reduce((ke,Ce)=>ke.concat(Object.keys(Ce)),[]);if(ce.length>0){const ke=[...new Set(ce)].map(Ce=>`"${Ce}"`);this.url.searchParams.set("columns",ke.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(pe=this.fetch)&&void 0!==pe?pe:fetch})}update(X,{count:ee}={}){var Z;return ee&&this.headers.append("Prefer",`count=${ee}`),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:X,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}delete({count:X}={}){var ee;return X&&this.headers.append("Prefer",`count=${X}`),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(ee=this.fetch)&&void 0!==ee?ee:fetch})}}},8750:(it,Ee,V)=>{"use strict";V.d(Ee,{Tg:()=>ke});var E=V(1635),i=V(7441),z=V(9858),T=V(1985),X=V(5055),ee=V(7953),Z=V(591),ue=V(5397),ye=V(5196),pe=V(8071),ae=V(5334),ce=V(3494);function ke(ve){if(ve instanceof T.c)return ve;if(null!=ve){if((0,X.l)(ve))return function Ce(ve){return new T.c(xe=>{const Se=ve[ce.s]();if((0,pe.T)(Se.subscribe))return Se.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,i.X)(ve))return function He(ve){return new T.c(xe=>{for(let Se=0;Se<ve.length&&!xe.closed;Se++)xe.next(ve[Se]);xe.complete()})}(ve);if((0,z.y)(ve))return function et(ve){return new T.c(xe=>{ve.then(Se=>{xe.closed||(xe.next(Se),xe.complete())},Se=>xe.error(Se)).then(null,ae.m)})}(ve);if((0,ee.T)(ve))return Je(ve);if((0,ue.x)(ve))return function Ye(ve){return new T.c(xe=>{for(const Se of ve)if(xe.next(Se),xe.closed)return;xe.complete()})}(ve);if((0,ye.U)(ve))return function ze(ve){return Je((0,ye.C)(ve))}(ve)}throw(0,Z.L)(ve)}function Je(ve){return new T.c(xe=>{(function Tt(ve,xe){var Se,Ue,Ne,Ke;return(0,E.sH)(this,void 0,void 0,function*(){try{for(Se=(0,E.xN)(ve);!(Ue=yield Se.next()).done;)if(xe.next(Ue.value),xe.closed)return}catch(Nt){Ne={error:Nt}}finally{try{Ue&&!Ue.done&&(Ke=Se.return)&&(yield Ke.call(Se))}finally{if(Ne)throw Ne.error}}xe.complete()})})(ve,xe).catch(Se=>xe.error(Se))})}},8793:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>X});var E=V(6365),z=V(3794),T=V(6648);function X(...ee){return function i(){return(0,E.U)(1)}()((0,T.H)(ee,(0,z.lI)(ee)))}},8880:(it,Ee,V)=>{"use strict";V.d(Ee,{Mm:()=>E,RJ:()=>z,e_:()=>i});var E=function(T){return T.poison="poison",T.wound="wound",T.brittle="brittle",T.ward="ward",T.immobilize="immobilize",T.bane="bane",T.muddle="muddle",T.stun="stun",T.impair="impair",T.disarm="disarm",T}(E||{}),i=function(T){return T.None="none",T.Full="full",T.Half="half",T}(i||{}),z=function(T){return T.Fire="fire",T.Ice="ice",T.Earth="earth",T.Air="air",T.Light="light",T.Dark="dark",T}(z||{})},8889:(it,Ee,V)=>{"use strict";var E=V(7303);function i(s,a){a=encodeURIComponent(a);for(const o of s.split(";")){const u=o.indexOf("="),[d,p]=-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)];if(d.trim()===a)return decodeURIComponent(p)}return null}class z{}var T=V(2615),X=V(7705);var fe=V(3664);const pr=new T.nKC("");let Po=(()=>{class s{_zone;_plugins;_eventNameToPlugin=new Map;constructor(o,u){this._zone=u,o.forEach(d=>{d.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,u,d,p){return this._findPluginFor(u).addEventListener(o,u,d,p)}getZone(){return this._zone}_findPluginFor(o){let u=this._eventNameToPlugin.get(o);if(u)return u;if(u=this._plugins.find(p=>p.supports(o)),!u)throw new T.buA(5101,!1);return this._eventNameToPlugin.set(o,u),u}static \u0275fac=function(u){return new(u||s)(T.KVO(pr),T.KVO(fe.SKi))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();class sr{_doc;constructor(a){this._doc=a}manager}const _o="ng-app-id";function No(s){for(const a of s)a.remove()}function bo(s,a){const o=a.createElement("style");return o.textContent=s,o}function er(s,a){const o=a.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",s),o}let Or=(()=>{class s{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(o,u,d,p={}){this.doc=o,this.appId=u,this.nonce=d,function Rr(s,a,o,u){const d=s.head?.querySelectorAll(`style[${_o}="${a}"],link[${_o}="${a}"]`);if(d)for(const p of d)p.removeAttribute(_o),p instanceof HTMLLinkElement?u.set(p.href.slice(p.href.lastIndexOf("/")+1),{usage:0,elements:[p]}):p.textContent&&o.set(p.textContent,{usage:0,elements:[p]})}(o,u,this.inline,this.external),this.hosts.add(o.head)}addStyles(o,u){for(const d of o)this.addUsage(d,this.inline,bo);u?.forEach(d=>this.addUsage(d,this.external,er))}removeStyles(o,u){for(const d of o)this.removeUsage(d,this.inline);u?.forEach(d=>this.removeUsage(d,this.external))}addUsage(o,u,d){const p=u.get(o);p?p.usage++:u.set(o,{usage:1,elements:[...this.hosts].map(b=>this.addElement(b,d(o,this.doc)))})}removeUsage(o,u){const d=u.get(o);d&&(d.usage--,d.usage<=0&&(No(d.elements),u.delete(o)))}ngOnDestroy(){for(const[,{elements:o}]of[...this.inline,...this.external])No(o);this.hosts.clear()}addHost(o){this.hosts.add(o);for(const[u,{elements:d}]of this.inline)d.push(this.addElement(o,bo(u,this.doc)));for(const[u,{elements:d}]of this.external)d.push(this.addElement(o,er(u,this.doc)))}removeHost(o){this.hosts.delete(o)}addElement(o,u){return this.nonce&&u.setAttribute("nonce",this.nonce),o.appendChild(u)}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL),T.KVO(fe.sZ2),T.KVO(fe.BIS,8),T.KVO(fe.Agw))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const wo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},co=/%COMP%/g,Pr=new T.nKC("",{providedIn:"root",factory:()=>!0});function gr(s,a){return a.map(o=>o.replace(co,s))}let Nr=(()=>{class s{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(o,u,d,p,b,I,B,Y=null,Me=null){this.eventManager=o,this.sharedStylesHost=u,this.appId=d,this.removeStylesOnCompDestroy=p,this.doc=b,this.platformId=I,this.ngZone=B,this.nonce=Y,this.tracingService=Me,this.platformIsServer=!1,this.defaultRenderer=new qn(o,b,B,this.platformIsServer,this.tracingService)}createRenderer(o,u){if(!o||!u)return this.defaultRenderer;const d=this.getOrCreateRenderer(o,u);return d instanceof Q?d.applyToHost(o):d instanceof S&&d.applyStyles(),d}getOrCreateRenderer(o,u){const d=this.rendererByCompId;let p=d.get(u.id);if(!p){const b=this.doc,I=this.ngZone,B=this.eventManager,Y=this.sharedStylesHost,Me=this.removeStylesOnCompDestroy,Oe=this.platformIsServer,We=this.tracingService;switch(u.encapsulation){case fe.gXe.Emulated:p=new Q(B,Y,u,this.appId,Me,b,I,Oe,We);break;case fe.gXe.ShadowDom:return new ca(B,Y,o,u,b,I,this.nonce,Oe,We);default:p=new S(B,Y,u,Me,b,I,Oe,We)}d.set(u.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(o){this.rendererByCompId.delete(o)}static \u0275fac=function(u){return new(u||s)(T.KVO(Po),T.KVO(Or),T.KVO(fe.sZ2),T.KVO(Pr),T.KVO(T.qQL),T.KVO(fe.Agw),T.KVO(fe.SKi),T.KVO(fe.BIS),T.KVO(fe.a8H,8))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();class qn{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(a,o,u,d,p){this.eventManager=a,this.doc=o,this.ngZone=u,this.platformIsServer=d,this.tracingService=p}destroy(){}destroyNode=null;createElement(a,o){return o?this.doc.createElementNS(wo[o]||o,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,o){(ua(a)?a.content:a).appendChild(o)}insertBefore(a,o,u){a&&(ua(a)?a.content:a).insertBefore(o,u)}removeChild(a,o){o.remove()}selectRootElement(a,o){let u="string"==typeof a?this.doc.querySelector(a):a;if(!u)throw new T.buA(-5104,!1);return o||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,o,u,d){if(d){o=d+":"+o;const p=wo[d];p?a.setAttributeNS(p,o,u):a.setAttribute(o,u)}else a.setAttribute(o,u)}removeAttribute(a,o,u){if(u){const d=wo[u];d?a.removeAttributeNS(d,o):a.removeAttribute(`${u}:${o}`)}else a.removeAttribute(o)}addClass(a,o){a.classList.add(o)}removeClass(a,o){a.classList.remove(o)}setStyle(a,o,u,d){d&(fe.czy.DashCase|fe.czy.Important)?a.style.setProperty(o,u,d&fe.czy.Important?"important":""):a.style[o]=u}removeStyle(a,o,u){u&fe.czy.DashCase?a.style.removeProperty(o):a.style[o]=""}setProperty(a,o,u){null!=a&&(a[o]=u)}setValue(a,o){a.nodeValue=o}listen(a,o,u,d){if("string"==typeof a&&!(a=(0,E.rb)().getGlobalEventTarget(this.doc,a)))throw new T.buA(5102,!1);let p=this.decoratePreventDefault(u);return this.tracingService?.wrapEventListener&&(p=this.tracingService.wrapEventListener(a,o,p)),this.eventManager.addEventListener(a,o,p,d)}decoratePreventDefault(a){return o=>{if("__ngUnwrap__"===o)return a;!1===a(o)&&o.preventDefault()}}}function ua(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class ca extends qn{sharedStylesHost;hostEl;shadowRoot;constructor(a,o,u,d,p,b,I,B,Y){super(a,p,b,B,Y),this.sharedStylesHost=o,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Me=d.styles;Me=gr(d.id,Me);for(const We of Me){const st=document.createElement("style");I&&st.setAttribute("nonce",I),st.textContent=We,this.shadowRoot.appendChild(st)}const Oe=d.getExternalStyles?.();if(Oe)for(const We of Oe){const st=er(We,p);I&&st.setAttribute("nonce",I),this.shadowRoot.appendChild(st)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,o){return super.appendChild(this.nodeOrShadowRoot(a),o)}insertBefore(a,o,u){return super.insertBefore(this.nodeOrShadowRoot(a),o,u)}removeChild(a,o){return super.removeChild(null,o)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class S extends qn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(a,o,u,d,p,b,I,B,Y){super(a,p,b,I,B),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=d;let Me=u.styles;this.styles=Y?gr(Y,Me):Me,this.styleUrls=u.getExternalStyles?.(Y)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Q extends S{contentAttr;hostAttr;constructor(a,o,u,d,p,b,I,B,Y){const Me=d+"-"+u.id;super(a,o,u,p,b,I,B,Y,Me),this.contentAttr=function fr(s){return"_ngcontent-%COMP%".replace(co,s)}(Me),this.hostAttr=function yr(s){return"_nghost-%COMP%".replace(co,s)}(Me)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,o){const u=super.createElement(a,o);return super.setAttribute(u,this.contentAttr,""),u}}class F extends E.qj{supportsDOMEvents=!0;static makeCurrent(){(0,E.ig)(new F)}onAndCancel(a,o,u,d){return a.addEventListener(o,u,d),()=>{a.removeEventListener(o,u,d)}}dispatchEvent(a,o){a.dispatchEvent(o)}remove(a){a.remove()}createElement(a,o){return(o=o||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,o){return"window"===o?window:"document"===o?a:"body"===o?a.body:null}getBaseHref(a){const o=function se(){return $=$||document.head.querySelector("base"),$?$.getAttribute("href"):null}();return null==o?null:function Ie(s){return new URL(s,document.baseURI).pathname}(o)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return i(document.cookie,a)}}let $=null,ot=(()=>{class s{build(){return new XMLHttpRequest}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})(),Zt=(()=>{class s extends sr{constructor(o){super(o)}supports(o){return!0}addEventListener(o,u,d,p){return o.addEventListener(u,d,p),()=>this.removeEventListener(o,u,d,p)}removeEventListener(o,u,d,p){return o.removeEventListener(u,d,p)}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const Bt=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let gn=(()=>{class s extends sr{constructor(o){super(o)}supports(o){return null!=s.parseEventName(o)}addEventListener(o,u,d,p){const b=s.parseEventName(u),I=s.eventCallback(b.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.rb)().onAndCancel(o,b.domEventName,I,p))}static parseEventName(o){const u=o.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const p=s._normalizeKey(u.pop());let b="",I=u.indexOf("code");if(I>-1&&(u.splice(I,1),b="code."),Bt.forEach(Y=>{const Me=u.indexOf(Y);Me>-1&&(u.splice(Me,1),b+=Y+".")}),b+=p,0!=u.length||0===p.length)return null;const B={};return B.domEventName=d,B.fullKey=b,B}static matchEventFullKeyCode(o,u){let d=Vt[o.key]||o.key,p="";return u.indexOf("code.")>-1&&(d=o.code,p="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),Bt.forEach(b=>{b!==d&&(0,Ft[b])(o)&&(p+=b+".")}),p+=d,p===u)}static eventCallback(o,u,d){return p=>{s.matchEventFullKeyCode(p,o)&&d.runGuarded(()=>u(p))}}static _normalizeKey(o){return"esc"===o?"escape":o}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();function _n(s){return{appProviders:[...jo,...s?.providers??[]],platformProviders:qr}}const qr=[{provide:fe.Agw,useValue:"browser"},{provide:fe.PLl,useValue:function eo(){F.makeCurrent()},multi:!0},{provide:T.qQL,useFactory:function to(){return(0,fe._9u)(document),document}}],jo=[{provide:T.GBX,useValue:"root"},{provide:T.zcH,useFactory:function vr(){return new T.zcH}},{provide:pr,useClass:Zt,multi:!0,deps:[T.qQL]},{provide:pr,useClass:gn,multi:!0,deps:[T.qQL]},Nr,Or,Po,{provide:fe._9s,useExisting:Nr},{provide:z,useClass:ot},[]];var Qn=V(2200),_r=V(8359),ka=V(7473);const Xo=(s,a)=>({"toast-error":s,"toast-info":a});function da(s,a){if(1&s){const o=fe.RV6();fe.j41(0,"div",2)(1,"div",3)(2,"strong",4),fe.EFF(3),fe.k0s(),fe.j41(4,"small"),fe.EFF(5),fe.nI1(6,"date"),fe.k0s(),fe.j41(7,"button",5),fe.bIt("click",function(){const d=T.eBV(o).$implicit,p=fe.XpG();return T.Njj(p.removeMessage(d.id))}),fe.EFF(8,"\xd7"),fe.k0s()(),fe.j41(9,"div",6),fe.EFF(10),fe.k0s()()}if(2&s){const o=a.$implicit;fe.Y8G("ngClass",fe.l_i(7,Xo,"error"===o.type,"info"===o.type)),fe.R7$(3),fe.JRh("error"===o.type?"Error":"Information"),fe.R7$(2),fe.JRh(fe.i5U(6,4,o.timestamp,"HH:mm:ss")),fe.R7$(5),fe.SpI(" ",o.message," ")}}let Ka=(()=>{class s{notificationService;messages=[];subscription=new _r.yU;messageCounter=0;displayDuration=3500;constructor(o){this.notificationService=o}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(o=>{const u=this.messageCounter++;this.messages.push({id:u,type:o.type,message:o.message,timestamp:new Date}),setTimeout(()=>{this.removeMessage(u)},this.displayDuration)}))}ngOnDestroy(){this.subscription.unsubscribe()}removeMessage(o){const u=this.messages.findIndex(d=>d.id===o);-1!==u&&this.messages.splice(u,1)}static \u0275fac=function(u){return new(u||s)(fe.rXU(ka.J))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(u,d){1&u&&(fe.j41(0,"div",0),fe.DNE(1,da,11,10,"div",1),fe.k0s()),2&u&&(fe.R7$(),fe.Y8G("ngForOf",d.messages))},dependencies:[Qn.MD,Qn.YU,Qn.Sq,Qn.vh],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:var(--base-color-spots);border-left:4px solid #777;color:var(--font-color)}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:var(--font-color)}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]})}return s})();var Yo=V(4341),Lr=V(1985),Fr=V(8071),tn=V(6648),j=V(3794);function D(...s){const a=(0,j.lI)(s);return(0,tn.H)(s,a)}var N=V(4412);const he=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var De=V(4572),Le=V(8793),Qe=V(8750);function ht(s){return new Lr.c(a=>{(0,Qe.Tg)(s()).subscribe(a)})}var pt=V(1203);function Lt(s,a){const o=(0,Fr.T)(s)?s:()=>s,u=d=>d.error(o());return new Lr.c(a?d=>a.schedule(u,0,d):u)}const lt=new Lr.c(s=>s.complete());var ft=V(9974),dn=V(4360);function pn(){return(0,ft.N)((s,a)=>{let o=null;s._refCount++;const u=(0,dn._)(a,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(o=null);const d=s._connection,p=o;o=null,d&&(!p||d===p)&&d.unsubscribe(),a.unsubscribe()});s.subscribe(u),u.closed||(o=s.connect())})}class lr extends Lr.c{constructor(a,o){super(),this.source=a,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,(0,ft.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new _r.yU;const o=this.getSubject();a.add(this.source.subscribe((0,dn._)(o,void 0,()=>{this._teardown(),o.complete()},u=>{this._teardown(),o.error(u)},()=>this._teardown()))),a.closed&&(this._connection=null,a=_r.yU.EMPTY)}return a}refCount(){return pn()(this)}}var $t=V(1413),xt=V(6354);function nn(s,a){return(0,ft.N)((o,u)=>{let d=null,p=0,b=!1;const I=()=>b&&!d&&u.complete();o.subscribe((0,dn._)(u,B=>{d?.unsubscribe();let Y=0;const Me=p++;(0,Qe.Tg)(s(B,Me)).subscribe(d=(0,dn._)(u,Oe=>u.next(a?a(B,Oe,Me,Y++):Oe),()=>{d=null,I()}))},()=>{b=!0,I()}))})}function Pn(s){return s<=0?()=>lt:(0,ft.N)((a,o)=>{let u=0;a.subscribe((0,dn._)(o,d=>{++u<=s&&(o.next(d),s<=u&&o.complete())}))})}var Ga=V(9172),Xn=V(5964),zn=V(1397);function ko(s){return(0,ft.N)((a,o)=>{let u=!1;a.subscribe((0,dn._)(o,d=>{u=!0,o.next(d)},()=>{u||o.next(s),o.complete()}))})}function Jo(s=Wi){return(0,ft.N)((a,o)=>{let u=!1;a.subscribe((0,dn._)(o,d=>{u=!0,o.next(d)},()=>u?o.complete():o.error(s())))})}function Wi(){return new he}var Da=V(3669);function Do(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,Xn.p)((d,p)=>s(d,p,u)):Da.D,Pn(1),o?ko(a):Jo(()=>new he))}function br(s,a){return(0,Fr.T)(a)?(0,zn.Z)(s,a,1):(0,zn.Z)(s,1)}function An(s,a,o){const u=(0,Fr.T)(s)||a||o?{next:s,error:a,complete:o}:s;return u?(0,ft.N)((d,p)=>{var b;null===(b=u.subscribe)||void 0===b||b.call(u);let I=!0;d.subscribe((0,dn._)(p,B=>{var Y;null===(Y=u.next)||void 0===Y||Y.call(u,B),p.next(B)},()=>{var B;I=!1,null===(B=u.complete)||void 0===B||B.call(u),p.complete()},B=>{var Y;I=!1,null===(Y=u.error)||void 0===Y||Y.call(u,B),p.error(B)},()=>{var B,Y;I&&(null===(B=u.unsubscribe)||void 0===B||B.call(u)),null===(Y=u.finalize)||void 0===Y||Y.call(u)}))}):Da.D}function Zo(s){return(0,ft.N)((a,o)=>{let p,u=null,d=!1;u=a.subscribe((0,dn._)(o,void 0,void 0,b=>{p=(0,Qe.Tg)(s(b,Zo(s)(a))),u?(u.unsubscribe(),u=null,p.subscribe(o)):d=!0})),d&&(u.unsubscribe(),u=null,p.subscribe(o))})}function Fa(s){return s<=0?()=>lt:(0,ft.N)((a,o)=>{let u=[];a.subscribe((0,dn._)(o,d=>{u.push(d),s<u.length&&u.shift()},()=>{for(const d of u)o.next(d);o.complete()},void 0,()=>{u=null}))})}function di(s){return(0,ft.N)((a,o)=>{try{a.subscribe(o)}finally{o.add(s)}})}var ja=V(6977);let M=(()=>{class s{_doc;constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const J="primary",ne=Symbol("RouteTitle");class _e{params;constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o[0]:o}return null}getAll(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function ut(s){return new _e(s)}function nt(s,a,o){const u=o.path.split("/");if(u.length>s.length||"full"===o.pathMatch&&(a.hasChildren()||u.length<s.length))return null;const d={};for(let p=0;p<u.length;p++){const b=u[p],I=s[p];if(":"===b[0])d[b.substring(1)]=I;else if(b!==I.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function It(s,a){const o=s?Mt(s):void 0,u=a?Mt(a):void 0;if(!o||!u||o.length!=u.length)return!1;let d;for(let p=0;p<o.length;p++)if(d=o[p],!kn(s[d],a[d]))return!1;return!0}function Mt(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function kn(s,a){if(Array.isArray(s)&&Array.isArray(a)){if(s.length!==a.length)return!1;const o=[...s].sort(),u=[...a].sort();return o.every((d,p)=>u[p]===d)}return s===a}function vn(s){return s.length>0?s[s.length-1]:null}function Qt(s){return function jr(s){return!!s&&(s instanceof Lr.c||(0,Fr.T)(s.lift)&&(0,Fr.T)(s.subscribe))}(s)?s:(0,fe.yLl)(s)?(0,tn.H)(Promise.resolve(s)):D(s)}const ur={exact:function mn(s,a,o){if(!Qa(s.segments,a.segments)||!Ct(s.segments,a.segments,o)||s.numberOfChildren!==a.numberOfChildren)return!1;for(const u in a.children)if(!s.children[u]||!mn(s.children[u],a.children[u],o))return!1;return!0},subset:Ns},St={exact:function Sa(s,a){return It(s,a)},subset:function Nn(s,a){return Object.keys(a).length<=Object.keys(s).length&&Object.keys(a).every(o=>kn(s[o],a[o]))},ignored:()=>!0};function Mn(s,a,o){return ur[o.paths](s.root,a.root,o.matrixParams)&&St[o.queryParams](s.queryParams,a.queryParams)&&!("exact"===o.fragment&&s.fragment!==a.fragment)}function Ns(s,a,o){return Il(s,a,a.segments,o)}function Il(s,a,o,u){if(s.segments.length>o.length){const d=s.segments.slice(0,o.length);return!(!Qa(d,o)||a.hasChildren()||!Ct(d,o,u))}if(s.segments.length===o.length){if(!Qa(s.segments,o)||!Ct(s.segments,o,u))return!1;for(const d in a.children)if(!s.children[d]||!Ns(s.children[d],a.children[d],u))return!1;return!0}{const d=o.slice(0,s.segments.length),p=o.slice(s.segments.length);return!!(Qa(s.segments,d)&&Ct(s.segments,d,u)&&s.children[J])&&Il(s.children[J],a,p,u)}}function Ct(s,a,o){return a.every((u,d)=>St[o](s[d].parameters,u.parameters))}class Bo{root;queryParams;fragment;_queryParamMap;constructor(a=new Jt([],{}),o={},u=null){this.root=a,this.queryParams=o,this.fragment=u}get queryParamMap(){return this._queryParamMap??=ut(this.queryParams),this._queryParamMap}toString(){return qi.serialize(this)}}class Jt{segments;children;parent=null;constructor(a,o){this.segments=a,this.children=o,Object.values(o).forEach(u=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xa(this)}}class Ba{path;parameters;_parameterMap;constructor(a,o){this.path=a,this.parameters=o}get parameterMap(){return this._parameterMap??=ut(this.parameters),this._parameterMap}toString(){return Yi(this)}}function Qa(s,a){return s.length===a.length&&s.every((o,u)=>o.path===a[u].path)}let Aa=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:()=>new Gi,providedIn:"root"})}return s})();class Gi{parse(a){const o=new oc(a);return new Bo(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(a){const o=`/${pi(a.root,!0)}`,u=function Ji(s){const a=Object.entries(s).map(([o,u])=>Array.isArray(u)?u.map(d=>`${Ls(o)}=${Ls(d)}`).join("&"):`${Ls(o)}=${Ls(u)}`).filter(o=>o);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${o}${u}${"string"==typeof a.fragment?`#${function Qi(s){return encodeURI(s)}(a.fragment)}`:""}`}}const qi=new Gi;function Xa(s){return s.segments.map(a=>Yi(a)).join("/")}function pi(s,a){if(!s.hasChildren())return Xa(s);if(a){const o=s.children[J]?pi(s.children[J],!1):"",u=[];return Object.entries(s.children).forEach(([d,p])=>{d!==J&&u.push(`${d}:${pi(p,!1)}`)}),u.length>0?`${o}(${u.join("//")})`:o}{const o=function Fd(s,a){let o=[];return Object.entries(s.children).forEach(([u,d])=>{u===J&&(o=o.concat(a(d,u)))}),Object.entries(s.children).forEach(([u,d])=>{u!==J&&(o=o.concat(a(d,u)))}),o}(s,(u,d)=>d===J?[pi(s.children[J],!1)]:[`${d}:${pi(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[J]?`${Xa(s)}/${o[0]}`:`${Xa(s)}/(${o.join("//")})`}}function Zu(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ls(s){return Zu(s).replace(/%3B/gi,";")}function Fs(s){return Zu(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fi(s){return decodeURIComponent(s)}function Xi(s){return fi(s.replace(/\+/g,"%20"))}function Yi(s){return`${Fs(s.path)}${function yi(s){return Object.entries(s).map(([a,o])=>`;${Fs(a)}=${Fs(o)}`).join("")}(s.parameters)}`}const ec=/^[^\/()?;#]+/;function Rl(s){const a=s.match(ec);return a?a[0]:""}const tc=/^[^\/()?;=#]+/,jd=/^[^=?&#]+/,rc=/^[^&#]+/;class oc{url;remaining;constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(a.length>0||Object.keys(o).length>0)&&(u[J]=new Jt(a,o)),u}parseSegment(){const a=Rl(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new T.buA(4009,!1);return this.capture(a),new Ba(fi(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const o=function nc(s){const a=s.match(tc);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const d=Rl(this.remaining);d&&(u=d,this.capture(u))}a[fi(o)]=fi(u)}parseQueryParam(a){const o=function Ol(s){const a=s.match(jd);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const b=function Bd(s){const a=s.match(rc);return a?a[0]:""}(this.remaining);b&&(u=b,this.capture(u))}const d=Xi(o),p=Xi(u);if(a.hasOwnProperty(d)){let b=a[d];Array.isArray(b)||(b=[b],a[d]=b),b.push(p)}else a[d]=p}parseParens(a){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=Rl(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new T.buA(4010,!1);let p;u.indexOf(":")>-1?(p=u.slice(0,u.indexOf(":")),this.capture(p),this.capture(":")):a&&(p=J);const b=this.parseChildren();o[p]=1===Object.keys(b).length?b[J]:new Jt([],b),this.consumeOptional("//")}return o}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new T.buA(4011,!1)}}function Pl(s){return s.segments.length>0?new Jt([],{[J]:s}):s}function Nl(s){const a={};for(const[u,d]of Object.entries(s.children)){const p=Nl(d);if(u===J&&0===p.segments.length&&p.hasChildren())for(const[b,I]of Object.entries(p.children))a[b]=I;else(p.segments.length>0||p.hasChildren())&&(a[u]=p)}return function js(s){if(1===s.numberOfChildren&&s.children[J]){const a=s.children[J];return new Jt(s.segments.concat(a.segments),a.children)}return s}(new Jt(s.segments,a))}function Ua(s){return s instanceof Bo}function Zi(s){let a;const d=Pl(function o(p){const b={};for(const B of p.children){const Y=o(B);b[B.outlet]=Y}const I=new Jt(p.url,b);return p===s&&(a=I),I}(s.root));return a??d}function Bs(s,a,o,u){let d=s;for(;d.parent;)d=d.parent;if(0===a.length)return Ja(d,d,d,o,u);const p=function ts(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new fa(!0,0,s);let a=0,o=!1;const u=s.reduce((d,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const I={};return Object.entries(p.outlets).forEach(([B,Y])=>{I[B]="string"==typeof Y?Y.split("/"):Y}),[...d,{outlets:I}]}if(p.segmentPath)return[...d,p.segmentPath]}return"string"!=typeof p?[...d,p]:0===b?(p.split("/").forEach((I,B)=>{0==B&&"."===I||(0==B&&""===I?o=!0:".."===I?a++:""!=I&&d.push(I))}),d):[...d,p]},[]);return new fa(o,a,u)}(a);if(p.toRoot())return Ja(d,d,new Jt([],{}),o,u);const b=function Za(s,a,o){if(s.isAbsolute)return new gi(a,!0,0);if(!o)return new gi(a,!1,NaN);if(null===o.parent)return new gi(o,!0,0);const u=Us(s.commands[0])?0:1;return function ac(s,a,o){let u=s,d=a,p=o;for(;p>d;){if(p-=d,u=u.parent,!u)throw new T.buA(4005,!1);d=u.segments.length}return new gi(u,!1,d-p)}(o,o.segments.length-1+u,s.numberOfDoubleDots)}(p,d,s),I=b.processChildren?Va(b.segmentGroup,b.index,p.commands):_i(b.segmentGroup,b.index,p.commands);return Ja(d,b.segmentGroup,I,o,u)}function Us(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Ya(s){return"object"==typeof s&&null!=s&&s.outlets}function Ja(s,a,o,u,d){let b,p={};u&&Object.entries(u).forEach(([B,Y])=>{p[B]=Array.isArray(Y)?Y.map(Me=>`${Me}`):`${Y}`}),b=s===a?o:es(s,a,o);const I=Pl(Nl(b));return new Bo(I,p,d)}function es(s,a,o){const u={};return Object.entries(s.children).forEach(([d,p])=>{u[d]=p===a?o:es(p,a,o)}),new Jt(s.segments,u)}class fa{isAbsolute;numberOfDoubleDots;commands;constructor(a,o,u){if(this.isAbsolute=a,this.numberOfDoubleDots=o,this.commands=u,a&&u.length>0&&Us(u[0]))throw new T.buA(4003,!1);const d=u.find(Ya);if(d&&d!==vn(u))throw new T.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{segmentGroup;processChildren;index;constructor(a,o,u){this.segmentGroup=a,this.processChildren=o,this.index=u}}function _i(s,a,o){if(s??=new Jt([],{}),0===s.segments.length&&s.hasChildren())return Va(s,a,o);const u=function Ll(s,a,o){let u=0,d=a;const p={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=o.length)return p;const b=s.segments[d],I=o[u];if(Ya(I))break;const B=`${I}`,Y=u<o.length-1?o[u+1]:null;if(d>0&&void 0===B)break;if(B&&Y&&"object"==typeof Y&&void 0===Y.outlets){if(!Bl(B,Y,b))return p;u+=2}else{if(!Bl(B,{},b))return p;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,a,o),d=o.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const p=new Jt(s.segments.slice(0,u.pathIndex),{});return p.children[J]=new Jt(s.segments.slice(u.pathIndex),s.children),Va(p,0,d)}return u.match&&0===d.length?new Jt(s.segments,{}):u.match&&!s.hasChildren()?ns(s,a,o):u.match?Va(s,0,d):ns(s,a,o)}function Va(s,a,o){if(0===o.length)return new Jt(s.segments,{});{const u=function vi(s){return Ya(s[0])?s[0].outlets:{[J]:s}}(o),d={};if(Object.keys(u).some(p=>p!==J)&&s.children[J]&&1===s.numberOfChildren&&0===s.children[J].segments.length){const p=Va(s.children[J],a,o);return new Jt(s.segments,p.children)}return Object.entries(u).forEach(([p,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(d[p]=_i(s.children[p],a,b))}),Object.entries(s.children).forEach(([p,b])=>{void 0===u[p]&&(d[p]=b)}),new Jt(s.segments,d)}}function ns(s,a,o){const u=s.segments.slice(0,a);let d=0;for(;d<o.length;){const p=o[d];if(Ya(p)){const B=Fl(p.outlets);return new Jt(u,B)}if(0===d&&Us(o[0])){u.push(new Ba(s.segments[a].path,jl(o[0]))),d++;continue}const b=Ya(p)?p.outlets[J]:`${p}`,I=d<o.length-1?o[d+1]:null;b&&I&&Us(I)?(u.push(new Ba(b,jl(I))),d+=2):(u.push(new Ba(b,{})),d++)}return new Jt(u,{})}function Fl(s){const a={};return Object.entries(s).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(a[o]=ns(new Jt([],{}),0,u))}),a}function jl(s){const a={};return Object.entries(s).forEach(([o,u])=>a[o]=`${u}`),a}function Bl(s,a,o){return s==o.path&&It(a,o.parameters)}const rs="imperative";var zt=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(zt||{});class ea{id;url;constructor(a,o){this.id=a,this.url=o}}class ta extends ea{type=zt.NavigationStart;navigationTrigger;restoredState;constructor(a,o,u="imperative",d=null){super(a,o),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uo extends ea{urlAfterRedirects;type=zt.NavigationEnd;constructor(a,o,u){super(a,o),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ro=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s[s.Aborted=4]="Aborted",s}(ro||{}),Vs=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(Vs||{});class ei extends ea{reason;code;type=zt.NavigationCancel;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class os extends ea{reason;code;type=zt.NavigationSkipped;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}}class $s extends ea{error;target;type=zt.NavigationError;constructor(a,o,u,d){super(a,o),this.error=u,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ul extends ea{urlAfterRedirects;state;type=zt.RoutesRecognized;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends ea{urlAfterRedirects;state;type=zt.GuardsCheckStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends ea{urlAfterRedirects;state;shouldActivate;type=zt.GuardsCheckEnd;constructor(a,o,u,d,p){super(a,o),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hs extends ea{urlAfterRedirects;state;type=zt.ResolveStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l extends ea{urlAfterRedirects;state;type=zt.ResolveEnd;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic{route;type=zt.RouteConfigLoadStart;constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bi{route;type=zt.RouteConfigLoadEnd;constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{snapshot;type=zt.ChildActivationStart;constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{snapshot;type=zt.ChildActivationEnd;constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{snapshot;type=zt.ActivationStart;constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sc{snapshot;type=zt.ActivationEnd;constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lc{}class Ws{url;navigationBehaviorOptions;constructor(a,o){this.url=a,this.navigationBehaviorOptions=o}}function $o(s){return s.outlet||J}function ti(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let a=s.parent;a;a=a.parent){const o=a.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class ql{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ti(this.route?.snapshot)??this.rootInjector}constructor(a){this.rootInjector=a,this.children=new ni(this.rootInjector)}}let ni=(()=>{class s{rootInjector;contexts=new Map;constructor(o){this.rootInjector=o}onChildOutletCreated(o,u){const d=this.getOrCreateContext(o);d.outlet=u,this.contexts.set(o,d)}onChildOutletDestroyed(o){const u=this.getContext(o);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let u=this.getContext(o);return u||(u=new ql(this.rootInjector),this.contexts.set(o,u)),u}getContext(o){return this.contexts.get(o)||null}static \u0275fac=function(u){return new(u||s)(T.KVO(T.uvJ))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class zs{_root;constructor(a){this._root=a}get root(){return this._root.value}parent(a){const o=this.pathFromRoot(a);return o.length>1?o[o.length-2]:null}children(a){const o=Ks(a,this._root);return o?o.children.map(u=>u.value):[]}firstChild(a){const o=Ks(a,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(a){const o=Gs(a,this._root);return o.length<2?[]:o[o.length-2].children.map(d=>d.value).filter(d=>d!==a)}pathFromRoot(a){return Gs(a,this._root).map(o=>o.value)}}function Ks(s,a){if(s===a.value)return a;for(const o of a.children){const u=Ks(s,o);if(u)return u}return null}function Gs(s,a){if(s===a.value)return[a];for(const o of a.children){const u=Gs(s,o);if(u.length)return u.unshift(a),u}return[]}class _{value;children;constructor(a,o){this.value=a,this.children=o}toString(){return`TreeNode(${this.value})`}}function O(s){const a={};return s&&s.children.forEach(o=>a[o.value.outlet]=o),a}class K extends zs{snapshot;constructor(a,o){super(a),this.snapshot=o,Dn(this,a)}toString(){return this.snapshot.toString()}}function be(s){const a=function Re(s){const p=new Br([],{},{},"",{},J,s,null,{});return new Tn("",new _(p,[]))}(s),o=new N.t([new Ba("",{})]),u=new N.t({}),d=new N.t({}),p=new N.t({}),b=new N.t(""),I=new tt(o,u,p,b,d,J,s,a.root);return I.snapshot=a.root,new K(new _(I,[]),a)}class tt{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(a,o,u,d,p,b,I,B){this.urlSubject=a,this.paramsSubject=o,this.queryParamsSubject=u,this.fragmentSubject=d,this.dataSubject=p,this.outlet=b,this.component=I,this._futureSnapshot=B,this.title=this.dataSubject?.pipe((0,xt.T)(Y=>Y[ne]))??D(void 0),this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xt.T)(a=>ut(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xt.T)(a=>ut(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sn(s,a,o="emptyOnly"){let u;const{routeConfig:d}=s;return u=null===a||"always"!==o&&""!==d?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...a.params,...s.params},data:{...a.data,...s.data},resolve:{...s.data,...a.data,...d?.data,...s._resolvedData}},d&&$d(d)&&(u.resolve[ne]=d.title),u}class Br{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ne]}constructor(a,o,u,d,p,b,I,B,Y){this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=p,this.outlet=b,this.component=I,this.routeConfig=B,this._resolve=Y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ut(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ut(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends zs{url;constructor(a,o){super(o),this.url=a,Dn(this,o)}toString(){return Ma(this._root)}}function Dn(s,a){a.value._routerState=s,a.children.forEach(o=>Dn(s,o))}function Ma(s){const a=s.children.length>0?` { ${s.children.map(Ma).join(", ")} } `:"";return`${s.value}${a}`}function dc(s){if(s.snapshot){const a=s.snapshot,o=s._futureSnapshot;s.snapshot=o,It(a.queryParams,o.queryParams)||s.queryParamsSubject.next(o.queryParams),a.fragment!==o.fragment&&s.fragmentSubject.next(o.fragment),It(a.params,o.params)||s.paramsSubject.next(o.params),function at(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(!It(s[o],a[o]))return!1;return!0}(a.url,o.url)||s.urlSubject.next(o.url),It(a.data,o.data)||s.dataSubject.next(o.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function mc(s,a){const o=It(s.params,a.params)&&function Ld(s,a){return Qa(s,a)&&s.every((o,u)=>It(o.parameters,a[u].parameters))}(s.url,a.url);return o&&!(!s.parent!=!a.parent)&&(!s.parent||mc(s.parent,a.parent))}function $d(s){return"string"==typeof s.title||null===s.title}const Hd=new T.nKC("");let Wd=(()=>{class s{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new fe.bkB;deactivateEvents=new fe.bkB;attachEvents=new fe.bkB;detachEvents=new fe.bkB;routerOutletData=(0,X.hFB)(void 0);parentContexts=(0,T.WQX)(ni);location=(0,T.WQX)(fe.c1b);changeDetector=(0,T.WQX)(X.gRc);inputBinder=(0,T.WQX)(Ei,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(o){if(o.name){const{firstChange:u,previousValue:d}=o.name;if(u)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T.buA(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,u){this.activated=o,this._activatedRoute=u,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,u){if(this.isActivated)throw new T.buA(4013,!1);this._activatedRoute=o;const d=this.location,b=o.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,B=new mg(o,I,d.injector,this.routerOutletData);this.activated=d.createComponent(b,{index:d.length,injector:B,environmentInjector:u}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(u){return new(u||s)};static \u0275dir=fe.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fe.OA$]})}return s})();class mg{route;childContexts;parent;outletData;constructor(a,o,u,d){this.route=a,this.childContexts=o,this.parent=u,this.outletData=d}get(a,o){return a===tt?this.route:a===ni?this.childContexts:a===Hd?this.outletData:this.parent.get(a,o)}}const Ei=new T.nKC("");let zd=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275cmp=fe.VBU({type:s,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(u,d){1&u&&fe.nrm(0,"router-outlet")},dependencies:[Wd],encapsulation:2})}return s})();function hc(s){const a=s.children&&s.children.map(hc),o=a?{...s,children:a}:{...s};return!o.component&&!o.loadComponent&&(a||o.loadChildren)&&o.outlet&&o.outlet!==J&&(o.component=zd),o}function qs(s,a,o){if(o&&s.shouldReuseRoute(a.value,o.value.snapshot)){const u=o.value;u._futureSnapshot=a.value;const d=function pg(s,a,o){return a.children.map(u=>{for(const d of o.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return qs(s,u,d);return qs(s,u)})}(s,a,o);return new _(u,d)}{if(s.shouldAttach(a.value)){const p=s.retrieve(a.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=a.value,b.children=a.children.map(I=>qs(s,I)),b}}const u=function fg(s){return new tt(new N.t(s.url),new N.t(s.params),new N.t(s.queryParams),new N.t(s.fragment),new N.t(s.data),s.outlet,s.component,s)}(a.value),d=a.children.map(p=>qs(s,p));return new _(u,d)}}class pc{redirectTo;navigationBehaviorOptions;constructor(a,o){this.redirectTo=a,this.navigationBehaviorOptions=o}}const Gd="ngNavigationCancelingError";function Ql(s,a){const{redirectTo:o,navigationBehaviorOptions:u}=Ua(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,d=qd(!1,ro.Redirect);return d.url=o,d.navigationBehaviorOptions=u,d}function qd(s,a){const o=new Error(`NavigationCancelingError: ${s||""}`);return o[Gd]=!0,o.cancellationCode=a,o}function Qd(s){return!!s&&s[Gd]}class gg{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(a,o,u,d,p){this.routeReuseStrategy=a,this.futureState=o,this.currState=u,this.forwardEvent=d,this.inputBindingEnabled=p}activate(a){const o=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,u,a),dc(this.futureState.root),this.activateChildRoutes(o,u,a)}deactivateChildRoutes(a,o,u){const d=O(o);a.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,d[b],u),delete d[b]}),Object.values(d).forEach(p=>{this.deactivateRouteAndItsChildren(p,u)})}deactivateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(d===p)if(d.component){const b=u.getContext(d.outlet);b&&this.deactivateChildRoutes(a,o,b.children)}else this.deactivateChildRoutes(a,o,u);else p&&this.deactivateRouteAndItsChildren(o,u)}deactivateRouteAndItsChildren(a,o){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,o):this.deactivateRouteAndOutlet(a,o)}detachAndStoreRouteSubtree(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=O(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);if(u&&u.outlet){const b=u.outlet.detach(),I=u.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:b,route:a,contexts:I})}}deactivateRouteAndOutlet(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,p=O(a);for(const b of Object.values(p))this.deactivateRouteAndItsChildren(b,d);u&&(u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated()),u.attachRef=null,u.route=null)}activateChildRoutes(a,o,u){const d=O(o);a.children.forEach(p=>{this.activateRoutes(p,d[p.value.outlet],u),this.forwardEvent(new sc(p.value.snapshot))}),a.children.length&&this.forwardEvent(new wi(a.value.snapshot))}activateRoutes(a,o,u){const d=a.value,p=o?o.value:null;if(dc(d),d===p)if(d.component){const b=u.getOrCreateContext(d.outlet);this.activateChildRoutes(a,o,b.children)}else this.activateChildRoutes(a,o,u);else if(d.component){const b=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const I=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),b.children.onOutletReAttached(I.contexts),b.attachRef=I.componentRef,b.route=I.route.value,b.outlet&&b.outlet.attach(I.componentRef,I.route.value),dc(I.route.value),this.activateChildRoutes(a,null,b.children)}else b.attachRef=null,b.route=d,b.outlet&&b.outlet.activateWith(d,b.injector),this.activateChildRoutes(a,null,b.children)}else this.activateChildRoutes(a,null,u)}}class Xl{path;route;constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class fc{component;route;constructor(a,o){this.component=a,this.route=o}}function vg(s,a,o){const u=s._root;return Yl(u,a?a._root:null,o,[u.value])}function Qs(s,a){const o=Symbol(),u=a.get(s,o);return u===o?"function"!=typeof s||(0,T.muV)(s)?a.get(s):s:u}function Yl(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=O(a);return s.children.forEach(b=>{(function pp(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const p=s.value,b=a?a.value:null,I=o?o.getContext(s.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const B=function Jl(s,a,o){if("function"==typeof o)return o(s,a);switch(o){case"pathParamsChange":return!Qa(s.url,a.url);case"pathParamsOrQueryParamsChange":return!Qa(s.url,a.url)||!It(s.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mc(s,a)||!It(s.queryParams,a.queryParams);default:return!mc(s,a)}}(b,p,p.routeConfig.runGuardsAndResolvers);B?d.canActivateChecks.push(new Xl(u)):(p.data=b.data,p._resolvedData=b._resolvedData),Yl(s,a,p.component?I?I.children:null:o,u,d),B&&I&&I.outlet&&I.outlet.isActivated&&d.canDeactivateChecks.push(new fc(I.outlet.component,b))}else b&&ri(a,I,d),d.canActivateChecks.push(new Xl(u)),Yl(s,null,p.component?I?I.children:null:o,u,d)})(b,p[b.value.outlet],o,u.concat([b.value]),d),delete p[b.value.outlet]}),Object.entries(p).forEach(([b,I])=>ri(I,o.getContext(b),d)),d}function ri(s,a,o){const u=O(s),d=s.value;Object.entries(u).forEach(([p,b])=>{ri(b,d.component?a?a.children.getContext(p):null:a,o)}),o.canDeactivateChecks.push(new fc(d.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,d))}function ss(s){return"function"==typeof s}function ya(s){return s instanceof he||"EmptyError"===s?.name}const Xs=Symbol("INITIAL_VALUE");function us(){return nn(s=>(0,De.z)(s.map(a=>a.pipe(Pn(1),(0,Ga.Z)(Xs)))).pipe((0,xt.T)(a=>{for(const o of a)if(!0!==o){if(o===Xs)return Xs;if(!1===o||gp(o))return o}return!0}),(0,Xn.p)(a=>a!==Xs),Pn(1)))}function gp(s){return Ua(s)||s instanceof pc}function rm(s){return(0,pt.F)(An(a=>{if("boolean"!=typeof a)throw Ql(0,a)}),(0,xt.T)(a=>!0===a))}class Ho{segmentGroup;constructor(a){this.segmentGroup=a||null}}class gc extends Error{urlTree;constructor(a){super(),this.urlTree=a}}function ki(s){return Lt(new Ho(s))}function wp(s){return Lt(new T.buA(4e3,!1))}class kp{urlSerializer;urlTree;constructor(a,o){this.urlSerializer=a,this.urlTree=o}lineralizeSegments(a,o){let u=[],d=o.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return D(u);if(d.numberOfChildren>1||!d.children[J])return wp();d=d.children[J]}}applyRedirectCommands(a,o,u,d,p){return function Dp(s,a,o){if("string"==typeof s)return D(s);const u=s,{queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,params:Y,data:Me,title:Oe}=a;return Qt((0,T.N4e)(o,()=>u({params:Y,data:Me,queryParams:d,fragment:p,routeConfig:b,url:I,outlet:B,title:Oe})))}(o,d,p).pipe((0,xt.T)(b=>{if(b instanceof Bo)throw new gc(b);const I=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),a,u);if("/"===b[0])throw new gc(I);return I}))}applyRedirectCreateUrlTree(a,o,u,d){const p=this.createSegmentGroup(a,o.root,u,d);return new Bo(p,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(a,o){const u={};return Object.entries(a).forEach(([d,p])=>{if("string"==typeof p&&":"===p[0]){const I=p.substring(1);u[d]=o[I]}else u[d]=p}),u}createSegmentGroup(a,o,u,d){const p=this.createSegments(a,o.segments,u,d);let b={};return Object.entries(o.children).forEach(([I,B])=>{b[I]=this.createSegmentGroup(a,B,u,d)}),new Jt(p,b)}createSegments(a,o,u,d){return o.map(p=>":"===p.path[0]?this.findPosParam(a,p,d):this.findOrReturn(p,u))}findPosParam(a,o,u){const d=u[o.path.substring(1)];if(!d)throw new T.buA(4001,!1);return d}findOrReturn(a,o){let u=0;for(const d of o){if(d.path===a.path)return o.splice(u),d;u++}return a}}const Zl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cp(s,a,o,u,d){const p=om(s,a,o);return p.matched?(u=function is(s,a){return s.providers&&!s._injector&&(s._injector=(0,fe.Ol2)(s.providers,a,`Route: ${s.path}`)),s._injector??a}(a,u),function bp(s,a,o,u){const d=a.canMatch;return d&&0!==d.length?D(d.map(b=>{const I=Qs(b,s);return Qt(function ls(s){return s&&ss(s.canMatch)}(I)?I.canMatch(a,o):(0,T.N4e)(s,()=>I(a,o)))})).pipe(us(),rm()):D(!0)}(u,a,o).pipe((0,xt.T)(b=>!0===b?p:{...Zl}))):D(p)}function om(s,a,o){if("**"===a.path)return function Sp(s){return{matched:!0,parameters:s.length>0?vn(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===a.path)return"full"===a.pathMatch&&(s.hasChildren()||o.length>0)?{...Zl}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const d=(a.matcher||nt)(o,s,a);if(!d)return{...Zl};const p={};Object.entries(d.posParams??{}).forEach(([I,B])=>{p[I]=B.path});const b=d.consumed.length>0?{...p,...d.consumed[d.consumed.length-1].parameters}:p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:o.slice(d.consumed.length),parameters:b,positionalParamSegments:d.posParams??{}}}function fn(s,a,o,u){return o.length>0&&function _c(s,a,o){return o.some(u=>Ta(s,a,u)&&$o(u)!==J)}(s,o,u)?{segmentGroup:new Jt(a,am(u,new Jt(o,s.children))),slicedSegments:[]}:0===o.length&&function eu(s,a,o){return o.some(u=>Ta(s,a,u))}(s,o,u)?{segmentGroup:new Jt(s.segments,vc(s,o,u,s.children)),slicedSegments:o}:{segmentGroup:new Jt(s.segments,s.children),slicedSegments:o}}function vc(s,a,o,u){const d={};for(const p of o)if(Ta(s,a,p)&&!u[$o(p)]){const b=new Jt([],{});d[$o(p)]=b}return{...u,...d}}function am(s,a){const o={};o[J]=a;for(const u of s)if(""===u.path&&$o(u)!==J){const d=new Jt([],{});o[$o(u)]=d}return o}function Ta(s,a,o){return(!(s.hasChildren()||a.length>0)||"full"!==o.pathMatch)&&""===o.path}class sm{}class Ap{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(a,o,u,d,p,b,I){this.injector=a,this.configLoader=o,this.rootComponentType=u,this.config=d,this.urlTree=p,this.paramsInheritanceStrategy=b,this.urlSerializer=I,this.applyRedirects=new kp(this.urlSerializer,this.urlTree)}noMatchError(a){return new T.buA(4002,`'${a.segmentGroup}'`)}recognize(){const a=fn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,xt.T)(({children:o,rootSnapshot:u})=>{const d=new _(u,o),p=new Tn("",d),b=function Ud(s,a,o=null,u=null){return Bs(Zi(s),a,o,u)}(u,[],this.urlTree.queryParams,this.urlTree.fragment);return b.queryParams=this.urlTree.queryParams,p.url=this.urlSerializer.serialize(b),{state:p,tree:b}}))}match(a){const o=new Br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,J,o).pipe((0,xt.T)(u=>({children:u,rootSnapshot:o})),Zo(u=>{if(u instanceof gc)return this.urlTree=u.urlTree,this.match(u.urlTree.root);throw u instanceof Ho?this.noMatchError(u):u}))}processSegmentGroup(a,o,u,d,p){return 0===u.segments.length&&u.hasChildren()?this.processChildren(a,o,u,p):this.processSegment(a,o,u,u.segments,d,!0,p).pipe((0,xt.T)(b=>b instanceof _?[b]:[]))}processChildren(a,o,u,d){const p=[];for(const b of Object.keys(u.children))"primary"===b?p.unshift(b):p.push(b);return(0,tn.H)(p).pipe(br(b=>{const I=u.children[b],B=function Gl(s,a){const o=s.filter(u=>$o(u)===a);return o.push(...s.filter(u=>$o(u)!==a)),o}(o,b);return this.processSegmentGroup(a,B,I,b,d)}),function ci(s,a){return(0,ft.N)(function zi(s,a,o,u,d){return(p,b)=>{let I=o,B=a,Y=0;p.subscribe((0,dn._)(b,Me=>{const Oe=Y++;B=I?s(B,Me,Oe):(I=!0,Me),u&&b.next(B)},d&&(()=>{I&&b.next(B),b.complete()})))}}(s,a,arguments.length>=2,!0))}((b,I)=>(b.push(...I),b)),ko(null),function qa(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,Xn.p)((d,p)=>s(d,p,u)):Da.D,Fa(1),o?ko(a):Jo(()=>new he))}(),(0,zn.Z)(b=>{if(null===b)return ki(u);const I=tu(b);return function Mp(s){s.sort((a,o)=>a.value.outlet===J?-1:o.value.outlet===J?1:a.value.outlet.localeCompare(o.value.outlet))}(I),D(I)}))}processSegment(a,o,u,d,p,b,I){return(0,tn.H)(o).pipe(br(B=>this.processSegmentAgainstRoute(B._injector??a,o,B,u,d,p,b,I).pipe(Zo(Y=>{if(Y instanceof Ho)return D(null);throw Y}))),Do(B=>!!B),Zo(B=>{if(ya(B))return function im(s,a,o){return 0===a.length&&!s.children[o]}(u,d,p)?D(new sm):ki(u);throw B}))}processSegmentAgainstRoute(a,o,u,d,p,b,I,B){return $o(u)===b||b!==J&&Ta(d,p,u)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(a,d,u,p,b,B):this.allowRedirects&&I?this.expandSegmentAgainstRouteUsingRedirect(a,d,o,u,p,b,B):ki(d):ki(d)}expandSegmentAgainstRouteUsingRedirect(a,o,u,d,p,b,I){const{matched:B,parameters:Y,consumedSegments:Me,positionalParamSegments:Oe,remainingSegments:We}=om(o,d,p);if(!B)return ki(o);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const st=new Br(p,Y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bc(d),$o(d),d.component??d._loadedComponent??null,d,Js(d)),Xe=sn(st,I,this.paramsInheritanceStrategy);return st.params=Object.freeze(Xe.params),st.data=Object.freeze(Xe.data),this.applyRedirects.applyRedirectCommands(Me,d.redirectTo,Oe,st,a).pipe(nn(dt=>this.applyRedirects.lineralizeSegments(d,dt)),(0,zn.Z)(dt=>this.processSegment(a,u,o,dt.concat(We),b,!1,I)))}matchSegmentAgainstRoute(a,o,u,d,p,b){const I=Cp(o,u,d,a);return"**"===u.path&&(o.children={}),I.pipe(nn(B=>B.matched?this.getChildConfig(a=u._injector??a,u,d).pipe(nn(({routes:Y})=>{const Me=u._loadedInjector??a,{parameters:Oe,consumedSegments:We,remainingSegments:st}=B,Xe=new Br(We,Oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bc(u),$o(u),u.component??u._loadedComponent??null,u,Js(u)),Ze=sn(Xe,b,this.paramsInheritanceStrategy);Xe.params=Object.freeze(Ze.params),Xe.data=Object.freeze(Ze.data);const{segmentGroup:dt,slicedSegments:bt}=fn(o,We,st,Y);if(0===bt.length&&dt.hasChildren())return this.processChildren(Me,Y,dt,Xe).pipe((0,xt.T)(Kt=>new _(Xe,Kt)));if(0===Y.length&&0===bt.length)return D(new _(Xe,[]));const jt=$o(u)===p;return this.processSegment(Me,Y,dt,bt,jt?J:p,!0,Xe).pipe((0,xt.T)(Kt=>new _(Xe,Kt instanceof _?[Kt]:[])))})):ki(o)))}getChildConfig(a,o,u){return o.children?D({routes:o.children,injector:a}):o.loadChildren?void 0!==o._loadedRoutes?D({routes:o._loadedRoutes,injector:o._loadedInjector}):function yc(s,a,o,u){const d=a.canLoad;return void 0===d||0===d.length?D(!0):D(d.map(b=>{const I=Qs(b,s);return Qt(function Jd(s){return s&&ss(s.canLoad)}(I)?I.canLoad(a,o):(0,T.N4e)(s,()=>I(a,o)))})).pipe(us(),rm())}(a,o,u).pipe((0,zn.Z)(d=>d?this.configLoader.loadChildren(a,o).pipe(An(p=>{o._loadedRoutes=p.routes,o._loadedInjector=p.injector})):function Ep(){return Lt(qd(!1,ro.GuardRejected))}())):D({routes:[],injector:a})}}function um(s){const a=s.value.routeConfig;return a&&""===a.path}function tu(s){const a=[],o=new Set;for(const u of s){if(!um(u)){a.push(u);continue}const d=a.find(p=>u.value.routeConfig===p.value.routeConfig);void 0!==d?(d.children.push(...u.children),o.add(d)):a.push(u)}for(const u of o){const d=tu(u.children);a.push(new _(u.value,d))}return a.filter(u=>!o.has(u))}function bc(s){return s.data||{}}function Js(s){return s.resolve||{}}function cs(s){const a=s.children.map(o=>cs(o)).flat();return[s,...a]}function ds(s){return nn(a=>{const o=s(a);return o?(0,tn.H)(o).pipe((0,xt.T)(()=>a)):D(a)})}let ms=(()=>{class s{buildTitle(o){let u,d=o.root;for(;void 0!==d;)u=this.getResolvedTitleForRoute(d)??u,d=d.children.find(p=>p.outlet===J);return u}getResolvedTitleForRoute(o){return o.data[ne]}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:()=>(0,T.WQX)(nu),providedIn:"root"})}return s})(),nu=(()=>{class s extends ms{title;constructor(o){super(),this.title=o}updateTitle(o){const u=this.buildTitle(o);void 0!==u&&this.title.setTitle(u)}static \u0275fac=function(u){return new(u||s)(T.KVO(M))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const hs=new T.nKC("",{providedIn:"root",factory:()=>({})}),Zs=new T.nKC("");let mm=(()=>{class s{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,T.WQX)(fe.Ql9);loadComponent(o,u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return D(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const d=Qt((0,T.N4e)(o,()=>u.loadComponent())).pipe((0,xt.T)(pm),An(b=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=b}),di(()=>{this.componentLoaders.delete(u)})),p=new lr(d,()=>new $t.B).pipe(pn());return this.componentLoaders.set(u,p),p}loadChildren(o,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return D({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const p=function ps(s,a,o,u){return Qt((0,T.N4e)(o,()=>s.loadChildren())).pipe((0,xt.T)(pm),(0,zn.Z)(d=>d instanceof fe.PYt||Array.isArray(d)?D(d):(0,tn.H)(a.compileModuleAsync(d))),(0,xt.T)(d=>{u&&u(s);let p,b,I=!1;return Array.isArray(d)?(b=d,!0):(p=d.create(o).injector,b=p.get(Zs,[],{optional:!0,self:!0}).flat()),{routes:b.map(hc),injector:p}}))}(u,this.compiler,o,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(u)})),b=new lr(p,()=>new $t.B).pipe(pn());return this.childrenLoaders.set(u,b),b}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function pm(s){return function hm(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}let ru=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:()=>(0,T.WQX)(xp),providedIn:"root"})}return s})(),xp=(()=>{class s{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,u){return o}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const kc=new T.nKC(""),Rp=new T.nKC("");let Dc=(()=>{class s{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new $t.B;transitionAbortWithErrorSubject=new $t.B;configLoader=(0,T.WQX)(mm);environmentInjector=(0,T.WQX)(T.uvJ);destroyRef=(0,T.WQX)(T.abz);urlSerializer=(0,T.WQX)(Aa);rootContexts=(0,T.WQX)(ni);location=(0,T.WQX)(E.aZ);inputBindingEnabled=null!==(0,T.WQX)(Ei,{optional:!0});titleStrategy=(0,T.WQX)(ms);options=(0,T.WQX)(hs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,T.WQX)(ru);createViewTransition=(0,T.WQX)(kc,{optional:!0});navigationErrorHandler=(0,T.WQX)(Rp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new bi(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new ic(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(o){const u=++this.navigationId;this.transitions?.next({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u})}setupNavigations(o){return this.transitions=new N.t(null),this.transitions.pipe((0,Xn.p)(u=>null!==u),nn(u=>{let d=!1;return D(u).pipe(nn(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",ro.SupersededByNewNavigation),lt;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>p.abortController.abort()};const b=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!b&&"reload"!==(p.extras.onSameUrlNavigation??o.onSameUrlNavigation)){const B="";return this.events.next(new os(p.id,this.urlSerializer.serialize(p.rawUrl),B,Vs.IgnoredSameUrlNavigation)),p.resolve(!1),lt}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return D(p).pipe(nn(B=>(this.events.next(new ta(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),B.id!==this.navigationId?lt:Promise.resolve(B))),function Tp(s,a,o,u,d,p){return(0,zn.Z)(b=>function Ys(s,a,o,u,d,p,b="emptyOnly"){return new Ap(s,a,o,u,d,b,p).recognize()}(s,a,o,u,b.extractedUrl,d,p).pipe((0,xt.T)(({state:I,tree:B})=>({...b,targetSnapshot:I,urlAfterRedirects:B}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),An(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const Y=new Ul(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(Y)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:B,extractedUrl:Y,source:Me,restoredState:Oe,extras:We}=p,st=new ta(B,this.urlSerializer.serialize(Y),Me,Oe);this.events.next(st);const Xe=be(this.rootComponentType).snapshot;return this.currentTransition=u={...p,targetSnapshot:Xe,urlAfterRedirects:Y,extras:{...We,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Y,D(u)}{const B="";return this.events.next(new os(p.id,this.urlSerializer.serialize(p.extractedUrl),B,Vs.IgnoredByUrlHandlingStrategy)),p.resolve(!1),lt}}),An(p=>{const b=new as(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),(0,xt.T)(p=>(this.currentTransition=u={...p,guards:vg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},u)),function bg(s,a){return(0,zn.Z)(o=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:p,canDeactivateChecks:b}}=o;return 0===b.length&&0===p.length?D({...o,guardsResult:!0}):function wg(s,a,o,u){return(0,tn.H)(s).pipe((0,zn.Z)(d=>function _p(s,a,o,u,d){const p=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return p&&0!==p.length?D(p.map(I=>{const B=ti(a)??d,Y=Qs(I,B);return Qt(function Zd(s){return s&&ss(s.canDeactivate)}(Y)?Y.canDeactivate(s,a,o,u):(0,T.N4e)(B,()=>Y(s,a,o,u))).pipe(Do())})).pipe(us()):D(!0)}(d.component,d.route,o,a,u)),Do(d=>!0!==d,!0))}(b,u,d,s).pipe((0,zn.Z)(I=>I&&function Yd(s){return"boolean"==typeof s}(I)?function em(s,a,o,u){return(0,tn.H)(a).pipe(br(d=>(0,Le.x)(function Eg(s,a){return null!==s&&a&&a(new Vo(s)),D(!0)}(d.route.parent,u),function tm(s,a){return null!==s&&a&&a(new Hl(s)),D(!0)}(d.route,u),function nm(s,a,o){const u=a[a.length-1],p=a.slice(0,a.length-1).reverse().map(b=>function _g(s){const a=s.routeConfig?s.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:s,guards:a}:null}(b)).filter(b=>null!==b).map(b=>ht(()=>D(b.guards.map(B=>{const Y=ti(b.node)??o,Me=Qs(B,Y);return Qt(function yp(s){return s&&ss(s.canActivateChild)}(Me)?Me.canActivateChild(u,s):(0,T.N4e)(Y,()=>Me(u,s))).pipe(Do())})).pipe(us())));return D(p).pipe(us())}(s,d.path,o),function vp(s,a,o){const u=a.routeConfig?a.routeConfig.canActivate:null;if(!u||0===u.length)return D(!0);const d=u.map(p=>ht(()=>{const b=ti(a)??o,I=Qs(p,b);return Qt(function fp(s){return s&&ss(s.canActivate)}(I)?I.canActivate(a,s):(0,T.N4e)(b,()=>I(a,s))).pipe(Do())}));return D(d).pipe(us())}(s,d.route,o))),Do(d=>!0!==d,!0))}(u,p,s,a):D(I)),(0,xt.T)(I=>({...o,guardsResult:I})))})}(this.environmentInjector,p=>this.events.next(p)),An(p=>{if(u.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw Ql(0,p.guardsResult);const b=new Vl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(b)}),(0,Xn.p)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",ro.GuardRejected),!1)),ds(p=>{if(0!==p.guards.canActivateChecks.length)return D(p).pipe(An(b=>{const I=new Hs(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}),nn(b=>{let I=!1;return D(b).pipe(function wc(s,a){return(0,zn.Z)(o=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=o;if(!d.length)return D(o);const p=new Set(d.map(B=>B.route)),b=new Set;for(const B of p)if(!b.has(B))for(const Y of cs(B))b.add(Y);let I=0;return(0,tn.H)(b).pipe(br(B=>p.has(B)?function Ec(s,a,o,u){const d=s.routeConfig,p=s._resolve;return void 0!==d?.title&&!$d(d)&&(p[ne]=d.title),ht(()=>(s.data=sn(s,s.parent,o).resolve,function cm(s,a,o,u){const d=Mt(s);if(0===d.length)return D({});const p={};return(0,tn.H)(d).pipe((0,zn.Z)(b=>function dm(s,a,o,u){const d=ti(a)??u,p=Qs(s,d);return Qt(p.resolve?p.resolve(a,o):(0,T.N4e)(d,()=>p(a,o)))}(s[b],a,o,u).pipe(Do(),An(I=>{if(I instanceof pc)throw Ql(new Gi,I);p[b]=I}))),Fa(1),(0,xt.T)(()=>p),Zo(b=>ya(b)?lt:Lt(b)))}(p,s,a,u).pipe((0,xt.T)(b=>(s._resolvedData=b,s.data={...s.data,...b},null)))))}(B,u,s,a):(B.data=sn(B,B.parent,s).resolve,D(void 0))),An(()=>I++),Fa(1),(0,zn.Z)(B=>I===b.size?D(o):lt))})}(this.paramsInheritanceStrategy,this.environmentInjector),An({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(b,"",ro.NoDataFromResolver)}}))}),An(b=>{const I=new $l(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}))}),ds(p=>{const b=I=>{const B=[];if(I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent){const Y=ti(I)??this.environmentInjector;B.push(this.configLoader.loadComponent(Y,I.routeConfig).pipe(An(Me=>{I.component=Me}),(0,xt.T)(()=>{})))}for(const Y of I.children)B.push(...b(Y));return B};return(0,De.z)(b(p.targetSnapshot.root)).pipe(ko(null),Pn(1))}),ds(()=>this.afterPreactivation()),nn(()=>{const{currentSnapshot:p,targetSnapshot:b}=u,I=this.createViewTransition?.(this.environmentInjector,p.root,b.root);return I?(0,tn.H)(I).pipe((0,xt.T)(()=>u)):D(u)}),(0,xt.T)(p=>{const b=function Kd(s,a,o){const u=qs(s,a._root,o?o._root:void 0);return new K(u,a)}(o.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u={...p,targetRouterState:b},this.currentNavigation.targetRouterState=b,u}),An(()=>{this.events.next(new lc)}),((s,a,o,u)=>(0,xt.T)(d=>(new gg(a,d.targetRouterState,d.currentRouterState,o,u).activate(s),d)))(this.rootContexts,o.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Pn(1),(0,ja.Q)(new Lr.c(p=>{const b=u.abortController.signal,I=()=>p.next();return b.addEventListener("abort",I),()=>b.removeEventListener("abort",I)}).pipe((0,Xn.p)(()=>!d&&!u.targetRouterState),An(()=>{this.cancelNavigationTransition(u,u.abortController.signal.reason+"",ro.Aborted)}))),An({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Uo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),(0,ja.Q)(this.transitionAbortWithErrorSubject.pipe(An(p=>{throw p}))),di(()=>{d||this.cancelNavigationTransition(u,"",ro.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zo(p=>{if(this.destroyed)return u.resolve(!1),lt;if(d=!0,Qd(p))this.events.next(new ei(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),function hp(s){return Qd(s)&&Ua(s.url)}(p)?this.events.next(new Ws(p.url,p.navigationBehaviorOptions)):u.resolve(!1);else{const b=new $s(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0);try{const I=(0,T.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(!(I instanceof pc))throw this.events.next(b),p;{const{message:B,cancellationCode:Y}=Ql(0,I);this.events.next(new ei(u.id,this.urlSerializer.serialize(u.extractedUrl),B,Y)),this.events.next(new Ws(I.redirectTo,I.navigationBehaviorOptions))}}catch(I){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(I)}}return lt}))}))}cancelNavigationTransition(o,u,d){const p=new ei(o.id,this.urlSerializer.serialize(o.extractedUrl),u,d);this.events.next(p),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const o=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return o.toString()!==u?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ym(s){return s!==rs}let gm=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:()=>(0,T.WQX)(_m),providedIn:"root"})}return s})();class vm{shouldDetach(a){return!1}store(a,o){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,o){return a.routeConfig===o.routeConfig}}let _m=(()=>{class s extends vm{static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ou=(()=>{class s{urlSerializer=(0,T.WQX)(Aa);options=(0,T.WQX)(hs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,T.WQX)(E.aZ);urlHandlingStrategy=(0,T.WQX)(ru);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Bo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:o,initialUrl:u,targetBrowserUrl:d}){const p=void 0!==o?this.urlHandlingStrategy.merge(o,u):u,b=d??p;return b instanceof Bo?this.urlSerializer.serialize(b):b}commitTransition({targetRouterState:o,finalUrl:u,initialUrl:d}){u&&o?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,d),this.routerState=o):this.rawUrlTree=d}routerState=be(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:o}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o??this.rawUrlTree)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:()=>(0,T.WQX)(bm),providedIn:"root"})}return s})(),bm=(()=>{class s extends ou{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(u=>{"popstate"===u.type&&setTimeout(()=>{o(u.url,u.state,"popstate")})})}handleRouterEvent(o,u){o instanceof ta?this.updateStateMemento():o instanceof os?this.commitTransition(u):o instanceof Ul?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof lc?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof ei&&o.code!==ro.SupersededByNewNavigation&&o.code!==ro.Redirect?this.restoreHistory(u):o instanceof $s?this.restoreHistory(u,!0):o instanceof Uo&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,{extras:u,id:d}){const{replaceUrl:p,state:b}=u;if(this.location.isCurrentPathEqualTo(o)||p){const I=this.browserPageId,B={...b,...this.generateNgRouterState(d,I)};this.location.replaceState(o,"",B)}else{const I={...b,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(o,"",I)}}restoreHistory(o,u=!1){if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-this.browserPageId;0!==p?this.location.historyGo(p):this.getCurrentUrlTree()===o.finalUrl&&0===p&&(this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,u){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:u}:{navigationId:o}}static \u0275fac=(()=>{let o;return function(d){return(o||(o=fe.xGo(s)))(d||s)}})();static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Di={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,T.WQX)(fe.C7A);stateManager=(0,T.WQX)(ou);options=(0,T.WQX)(hs,{optional:!0})||{};pendingTasks=(0,T.WQX)(T.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,T.WQX)(Dc);urlSerializer=(0,T.WQX)(Aa);location=(0,T.WQX)(E.aZ);urlHandlingStrategy=(0,T.WQX)(ru);injector=(0,T.WQX)(T.uvJ);_events=new $t.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,T.WQX)(gm);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,T.WQX)(Zs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,T.WQX)(Ei,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _r.yU;subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(u=>{try{const d=this.navigationTransitions.currentTransition,p=this.navigationTransitions.currentNavigation;if(null!==d&&null!==p)if(this.stateManager.handleRouterEvent(u,p),u instanceof ei&&u.code!==ro.Redirect&&u.code!==ro.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof Uo)this.navigated=!0;else if(u instanceof Ws){const b=u.navigationBehaviorOptions,I=this.urlHandlingStrategy.merge(u.url,d.currentRawUrl),B={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ym(d.source),...b};this.scheduleNavigation(I,rs,null,B,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function uc(s){return!(s instanceof lc||s instanceof Ws)})(u)&&this._events.next(u)}catch(d){this.navigationTransitions.transitionAbortWithErrorSubject.next(d)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,u,d)=>{this.navigateToSyncWithBrowser(o,d,u)})}navigateToSyncWithBrowser(o,u,d){const p={replaceUrl:!0},b=d?.navigationId?d:null;if(d){const B={...d};delete B.navigationId,delete B.\u0275routerPageId,0!==Object.keys(B).length&&(p.state=B)}const I=this.parseUrl(o);this.scheduleNavigation(I,u,b,p).catch(B=>{this.disposed||this.injector.get(T.ZTf)(B)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(hc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,u={}){const{relativeTo:d,queryParams:p,fragment:b,queryParamsHandling:I,preserveFragment:B}=u,Y=B?this.currentUrlTree.fragment:b;let Oe,Me=null;switch(I??this.options.defaultQueryParamsHandling){case"merge":Me={...this.currentUrlTree.queryParams,...p};break;case"preserve":Me=this.currentUrlTree.queryParams;break;default:Me=p||null}null!==Me&&(Me=this.removeEmptyProps(Me));try{Oe=Zi(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||"/"!==o[0][0])&&(o=[]),Oe=this.currentUrlTree.root}return Bs(Oe,o,Me,Y??null)}navigateByUrl(o,u={skipLocationChange:!1}){const d=Ua(o)?o:this.parseUrl(o),p=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(p,rs,null,u)}navigate(o,u={skipLocationChange:!1}){return function Sc(s){for(let a=0;a<s.length;a++)if(null==s[a])throw new T.buA(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,u),u)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,u){let d;if(d=!0===u?{...Di}:!1===u?{...wm}:u,Ua(o))return Mn(this.currentUrlTree,o,d);const p=this.parseUrl(o);return Mn(this.currentUrlTree,p,d)}removeEmptyProps(o){return Object.entries(o).reduce((u,[d,p])=>(null!=p&&(u[d]=p),u),{})}scheduleNavigation(o,u,d,p,b){if(this.disposed)return Promise.resolve(!1);let I,B,Y;b?(I=b.resolve,B=b.reject,Y=b.promise):Y=new Promise((Oe,We)=>{I=Oe,B=We});const Me=this.pendingTasks.add();return function Cc(s,a){s.events.pipe((0,Xn.p)(o=>o instanceof Uo||o instanceof ei||o instanceof $s||o instanceof os),(0,xt.T)(o=>o instanceof Uo||o instanceof os?0:o instanceof ei&&(o.code===ro.Redirect||o.code===ro.SupersededByNewNavigation)?2:1),(0,Xn.p)(o=>2!==o),Pn(1)).subscribe(()=>{a()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Me))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:p,resolve:I,reject:B,promise:Y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Y.catch(Oe=>Promise.reject(Oe))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var au=V(3597);V(6365);let tl=(()=>{class s{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,T.vPA)(null);get href(){return(0,au.O8)(this.reactiveHref)}set href(o){this.reactiveHref.set(o)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $t.B;applicationErrorHandler=(0,T.WQX)(T.ZTf);options=(0,T.WQX)(hs,{optional:!0});constructor(o,u,d,p,b,I){this.router=o,this.route=u,this.tabIndexAttribute=d,this.renderer=p,this.el=b,this.locationStrategy=I,this.reactiveHref.set((0,T.WQX)(new X.ES_("href"),{optional:!0}));const B=b.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===B||"area"===B||!("object"!=typeof customElements||!customElements.get(B)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let o=this.preserveFragment;const u=d=>"merge"===d||"preserve"===d;o||=u(this.queryParamsHandling),o||=!this.queryParamsHandling&&!u(this.options?.defaultQueryParamsHandling),o&&(this.subscription=this.router.events.subscribe(d=>{d instanceof Uo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(o){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(o){null==o?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ua(o)||Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0"))}onClick(o,u,d,p,b){const I=this.urlTree;if(null===I||this.isAnchorElement&&(0!==o||u||d||p||b||"string"==typeof this.target&&"_self"!=this.target))return!0;const B={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(I,B)?.catch(Y=>{this.applicationErrorHandler(Y)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const o=this.urlTree;this.reactiveHref.set(null!==o&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o))??"":null)}applyAttributeValue(o,u){const d=this.renderer,p=this.el.nativeElement;null!==u?d.setAttribute(p,o,u):d.removeAttribute(p,o)}get urlTree(){return null===this.routerLinkInput?null:Ua(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(u){return new(u||s)(fe.rXU(oi),fe.rXU(tt),fe.kS0("tabindex"),fe.rXU(fe.sFG),fe.rXU(fe.aKT),fe.rXU(E.hb))};static \u0275dir=fe.FsC({type:s,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(u,d){1&u&&fe.bIt("click",function(b){return d.onClick(b.button,b.ctrlKey,b.shiftKey,b.altKey,b.metaKey)}),2&u&&fe.BMQ("href",d.reactiveHref(),fe.n$t)("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",X.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",X.L39],replaceUrl:[2,"replaceUrl","replaceUrl",X.L39],routerLink:"routerLink"},features:[fe.OA$]})}return s})();const Mc=new T.nKC("");function Fp(s){return s.routerState.root}function Bp(){const s=(0,T.WQX)(T.zZn);return a=>{const o=s.get(fe.o8S);if(a!==o.components[0])return;const u=s.get(oi),d=s.get(Cm);1===s.get(Ic)&&u.initialNavigation(),s.get(iu,null,{optional:!0})?.setUpPreloading(),s.get(Mc,null,{optional:!0})?.init(),u.resetRootComponentType(o.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const Cm=new T.nKC("",{factory:()=>new $t.B}),Ic=new T.nKC("",{providedIn:"root",factory:()=>1}),iu=new T.nKC("");var Hp=V(4458),Nc=V(4242);function Tm(s,a){if(1&s&&(fe.j41(0,"span"),fe.EFF(1),fe.k0s()),2&s){const o=fe.XpG();fe.R7$(),fe.Lme("client ",o.clientId," connected to session: ",o.sessionId)}}let Wp=(()=>{class s{appContext;webSocketService;title=(0,T.vPA)("frosthaven-assistant-angular");clientId=null;sessionId=1;constructor(o,u){this.appContext=o,this.webSocketService=u,this.webSocketService.clientId$.subscribe(d=>{this.clientId=d}),this.webSocketService.sessionId$.subscribe(d=>{null!=d&&(this.sessionId=d)})}static \u0275fac=function(u){return new(u||s)(fe.rXU(Hp.B),fe.rXU(Nc.Vh))};static \u0275cmp=fe.VBU({type:s,selectors:[["app-root"]],decls:20,vars:1,consts:[["id","master-container",1,"app-viewport"],[1,"navigaiton"],["routerLink","/"],["routerLink","/potions"],[1,"technical-info"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://supabase.com/dashboard/project/ymlekirbwjanuxrclsgf/editor/17421?schema=public","target","_blank","title","Postman",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/e/2PACX-1vQ3mIO6M9EcAcvLxGvf368ZtNINTWFTPUY3w8immfofr0ViH4KllF0lqUv_vTZzIdb74hHYOvI_Hwkq/pubhtml","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://www.gloomhavencards.com/fh/items?fbclid=IwY2xjawL8IHRleHRuA2FlbQIxMQABHkKcdLIcbofW8IUeOP6v5TWQoy0Zy87jam0ER3Wlj5h5ix4GIPpDYmtn_MYa_aem_uNM6fXKf3vBZx724Hs_wlw","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/1LXfBFjL74gE959ogz9Kj6Wbo_ieL4kZBT3jss13WZto/edit?gid=800894000#gid=800894000","target","_blank","title","Unlocked craftables",1,"button-link"],[4,"ngIf"]],template:function(u,d){1&u&&(fe.j41(0,"div",0)(1,"div",1)(2,"a",2),fe.EFF(3,"Game"),fe.k0s(),fe.j41(4,"a",3),fe.EFF(5,"Potions"),fe.k0s()(),fe.nrm(6,"router-outlet"),fe.k0s(),fe.j41(7,"div",4)(8,"a",5),fe.EFF(9,"Run Postman "),fe.k0s(),fe.j41(10,"a",6),fe.EFF(11,"Open DB "),fe.k0s(),fe.j41(12,"a",7),fe.EFF(13," View Unlocked Craftables "),fe.k0s(),fe.j41(14,"a",8),fe.EFF(15," View All Items "),fe.k0s(),fe.j41(16,"a",9),fe.EFF(17," View Crafting Calculator "),fe.k0s(),fe.DNE(18,Tm,2,2,"span",10),fe.k0s(),fe.nrm(19,"app-toast-notification")),2&u&&(fe.R7$(18),fe.Y8G("ngIf",d.clientId))},dependencies:[Qn.MD,Qn.bT,Yo.YN,Wd,tl,Ka],styles:["[_ngcontent-%COMP%]:root{--vh: 1vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], app-root[_ngcontent-%COMP%], #master-container[_ngcontent-%COMP%], *[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{-webkit-user-select:none!important;user-select:none!important;-webkit-touch-callout:none!important}body[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom)}.navigaiton[_ngcontent-%COMP%]{display:flex;gap:1rem}.navigaiton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--font-color)}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-10em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]})}return s})();var Pt=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(Pt||{});const $a="*";function zp(s){return{type:Pt.Style,styles:s,offset:null}}class ol{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(a=0,o=0){this.totalTime=a+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Fc{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(a){this.players=a;let o=0,u=0,d=0;const p=this.players.length;0==p?queueMicrotask(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++o==p&&this._onFinish()}),b.onDestroy(()=>{++u==p&&this._onDestroy()}),b.onStart(()=>{++d==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,I)=>Math.max(b,I.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const o=a*this.totalTime;this.players.forEach(u=>{const d=u.totalTime?Math.min(1,o/u.totalTime):1;u.setPosition(d)})}getPosition(){const a=this.players.reduce((o,u)=>null===o||u.totalTime>o.totalTime?u:o,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}function Im(s){return new T.buA(3e3,!1)}function jg(s){return new T.buA(3002,!1)}function na(s){switch(s.length){case 0:return new ol;case 1:return s[0];default:return new Fc(s)}}function $c(s,a,o=new Map,u=new Map){const d=[],p=[];let b=-1,I=null;if(a.forEach(B=>{const Y=B.get("offset"),Me=Y==b,Oe=Me&&I||new Map;B.forEach((We,st)=>{let Xe=st,Ze=We;if("offset"!==st)switch(Xe=s.normalizePropertyName(Xe,d),Ze){case"!":Ze=o.get(st);break;case $a:Ze=u.get(st);break;default:Ze=s.normalizeStyleValue(st,Xe,Ze,d)}Oe.set(Xe,Ze)}),Me||p.push(Oe),I=Oe,b=Y}),d.length)throw function Wg(){return new T.buA(3502,!1)}();return p}function mu(s,a,o,u){switch(a){case"start":s.onStart(()=>u(o&&Ha(o,"start",s)));break;case"done":s.onDone(()=>u(o&&Ha(o,"done",s)));break;case"destroy":s.onDestroy(()=>u(o&&Ha(o,"destroy",s)))}}function Ha(s,a,o){const p=cl(s.element,s.triggerName,s.fromState,s.toState,a||s.phaseName,o.totalTime??s.totalTime,!!o.disabled),b=s._data;return null!=b&&(p._data=b),p}function cl(s,a,o,u,d="",p=0,b){return{element:s,triggerName:a,fromState:o,toState:u,phaseName:d,totalTime:p,disabled:!!b}}function Wo(s,a,o){let u=s.get(a);return u||s.set(a,u=o),u}function Fm(s){const a=s.indexOf(":");return[s.substring(1,a),s.slice(a+1)]}const jm=typeof document>"u"?null:document.documentElement;function hu(s){const a=s.parentNode||s.host||null;return a===jm?null:a}let Ci=null,Bm=!1;function Um(s,a){for(;a;){if(a===s)return!0;a=hu(a)}return!1}function ml(s,a,o){if(o)return Array.from(s.querySelectorAll(a));const u=s.querySelector(a);return u?[u]:[]}const Hm="ng-enter",pu="ng-leave",vs="ng-trigger",Si=".ng-trigger",Wm="ng-animating",Wc=".ng-animating";function Wa(s){if("number"==typeof s)return s;const a=s.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:zc(parseFloat(a[1]),a[2])}function zc(s,a){return"s"===a?1e3*s:s}function fu(s,a,o){return s.hasOwnProperty("duration")?s:function Kc(s,a,o){let u,d=0,p="";if("string"==typeof s){const b=s.match(lf);if(null===b)return a.push(Im()),{duration:0,delay:0,easing:""};u=zc(parseFloat(b[1]),b[2]);const I=b[3];null!=I&&(d=zc(parseFloat(I),b[4]));const B=b[5];B&&(p=B)}else u=s;if(!o){let b=!1,I=a.length;u<0&&(a.push(function ys(){return new T.buA(3100,!1)}()),b=!0),d<0&&(a.push(function Rm(){return new T.buA(3101,!1)}()),b=!0),b&&a.splice(I,0,Im())}return{duration:u,delay:d,easing:p}}(s,a,o)}const lf=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function ga(s,a,o){a.forEach((u,d)=>{const p=qc(d);o&&!o.has(d)&&o.set(d,s.style[p]),s.style[p]=u})}function Ai(s,a){a.forEach((o,u)=>{const d=qc(u);s.style[d]=""})}function za(s){return Array.isArray(s)?1==s.length?s[0]:function xm(s,a=null){return{type:Pt.Sequence,steps:s,options:a}}(s):s}const zm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Km(s){let a=[];if("string"==typeof s){let o;for(;o=zm.exec(s);)a.push(o[1]);zm.lastIndex=0}return a}function _s(s,a,o){const u=`${s}`,d=u.replace(zm,(p,b)=>{let I=a[b];return null==I&&(o.push(function gs(){return new T.buA(3003,!1)}()),I=""),I.toString()});return d==u?s:d}const Gc=/-+([a-z0-9])/g;function qc(s){return s.replace(Gc,(...a)=>a[1].toUpperCase())}function zo(s,a,o){switch(a.type){case Pt.Trigger:return s.visitTrigger(a,o);case Pt.State:return s.visitState(a,o);case Pt.Transition:return s.visitTransition(a,o);case Pt.Sequence:return s.visitSequence(a,o);case Pt.Group:return s.visitGroup(a,o);case Pt.Animate:return s.visitAnimate(a,o);case Pt.Keyframes:return s.visitKeyframes(a,o);case Pt.Style:return s.visitStyle(a,o);case Pt.Reference:return s.visitReference(a,o);case Pt.AnimateChild:return s.visitAnimateChild(a,o);case Pt.AnimateRef:return s.visitAnimateRef(a,o);case Pt.Query:return s.visitQuery(a,o);case Pt.Stagger:return s.visitStagger(a,o);default:throw function jc(){return new T.buA(3004,!1)}()}}function gu(s,a){return window.getComputedStyle(s)[a]}let vu=(()=>{class s{validateStyleProperty(o){return function dl(s){Ci||(Ci=function sf(){return typeof document<"u"?document.body:null}()||{},Bm=!!Ci.style&&"WebkitAppearance"in Ci.style);let a=!0;return Ci.style&&!function af(s){return"ebkit"==s.substring(1,6)}(s)&&(a=s in Ci.style,!a&&Bm&&(a="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in Ci.style)),a}(o)}containsElement(o,u){return Um(o,u)}getParentElement(o){return hu(o)}query(o,u,d){return ml(o,u,d)}computeStyle(o,u,d){return d||""}animate(o,u,d,p,b,I=[],B){return new ol(d,p)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();class Gm{static NOOP=new vu}class _u{}const qg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hf extends _u{normalizePropertyName(a,o){return qc(a)}normalizeStyleValue(a,o,u,d){let p="";const b=u.toString().trim();if(qg.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)p="px";else{const I=u.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&d.push(function il(){return new T.buA(3005,!1)}())}return b+p}}const bs=new Set(["true","1"]),ws=new Set(["false","0"]);function Xm(s,a){const o=bs.has(s)||ws.has(s),u=bs.has(a)||ws.has(a);return(d,p)=>{let b="*"==s||s==d,I="*"==a||a==p;return!b&&o&&"boolean"==typeof d&&(b=d?bs.has(s):ws.has(s)),!I&&u&&"boolean"==typeof p&&(I=p?bs.has(a):ws.has(a)),b&&I}}const Ym=new RegExp("s*:selfs*,?","g");function Qc(s,a,o,u){return new yf(s).build(a,o,u)}class yf{_driver;constructor(a){this._driver=a}build(a,o,u){const d=new wu(o);return this._resetContextStyleTimingState(d),zo(this,za(a),d)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,o){let u=o.queryCount=0,d=o.depCount=0;const p=[],b=[];return"@"==a.name.charAt(0)&&o.errors.push(function Xp(){return new T.buA(3006,!1)}()),a.definitions.forEach(I=>{if(this._resetContextStyleTimingState(o),I.type==Pt.State){const B=I,Y=B.name;Y.toString().split(/\s*,\s*/).forEach(Me=>{B.name=Me,p.push(this.visitState(B,o))}),B.name=Y}else if(I.type==Pt.Transition){const B=this.visitTransition(I,o);u+=B.queryCount,d+=B.depCount,b.push(B)}else o.errors.push(function Pm(){return new T.buA(3007,!1)}())}),{type:Pt.Trigger,name:a.name,states:p,transitions:b,queryCount:u,depCount:d,options:null}}visitState(a,o){const u=this.visitStyle(a.styles,o),d=a.options&&a.options.params||null;if(u.containsDynamicStyles){const p=new Set,b=d||{};u.styles.forEach(I=>{I instanceof Map&&I.forEach(B=>{Km(B).forEach(Y=>{b.hasOwnProperty(Y)||p.add(Y)})})}),p.size&&o.errors.push(function uu(){return new T.buA(3008,!1)}(0,p.values()))}return{type:Pt.State,name:a.name,style:u,options:d?{params:d}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const u=zo(this,za(a.animation),o),d=function pf(s,a){const o=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(u=>function Mi(s,a,o){if(":"==s[0]){const B=function hl(s,a){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return a.push(function Zp(){return new T.buA(3016,!1)}()),"* => *"}}(s,o);if("function"==typeof B)return void a.push(B);s=B}const u=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Vg(){return new T.buA(3015,!1)}()),a;const d=u[1],p=u[2],b=u[3];a.push(Xm(d,b)),"<"==p[0]&&("*"!=d||"*"!=b)&&a.push(Xm(b,d))}(u,o,a)):o.push(s),o}(a.expr,o.errors);return{type:Pt.Transition,matchers:d,animation:u,queryCount:o.queryCount,depCount:o.depCount,options:Ia(a.options)}}visitSequence(a,o){return{type:Pt.Sequence,steps:a.steps.map(u=>zo(this,u,o)),options:Ia(a.options)}}visitGroup(a,o){const u=o.currentTime;let d=0;const p=a.steps.map(b=>{o.currentTime=u;const I=zo(this,b,o);return d=Math.max(d,o.currentTime),I});return o.currentTime=d,{type:Pt.Group,steps:p,options:Ia(a.options)}}visitAnimate(a,o){const u=function Jm(s,a){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return Es(fu(s,a).duration,0,"");const o=s;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=Es(0,0,"");return p.dynamic=!0,p.strValue=o,p}const d=fu(o,a);return Es(d.duration,d.delay,d.easing)}(a.timings,o.errors);o.currentAnimateTimings=u;let d,p=a.styles?a.styles:zp({});if(p.type==Pt.Keyframes)d=this.visitKeyframes(p,o);else{let b=a.styles,I=!1;if(!b){I=!0;const Y={};u.easing&&(Y.easing=u.easing),b=zp(Y)}o.currentTime+=u.duration+u.delay;const B=this.visitStyle(b,o);B.isEmptyStep=I,d=B}return o.currentAnimateTimings=null,{type:Pt.Animate,timings:u,style:d,options:null}}visitStyle(a,o){const u=this._makeStyleAst(a,o);return this._validateStyleAst(u,o),u}_makeStyleAst(a,o){const u=[],d=Array.isArray(a.styles)?a.styles:[a.styles];for(let I of d)"string"==typeof I?I===$a?u.push(I):o.errors.push(jg()):u.push(new Map(Object.entries(I)));let p=!1,b=null;return u.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(b=I.get("easing"),I.delete("easing")),!p))for(let B of I.values())if(B.toString().indexOf("{{")>=0){p=!0;break}}),{type:Pt.Style,styles:u,easing:b,offset:a.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(a,o){const u=o.currentAnimateTimings;let d=o.currentTime,p=o.currentTime;u&&p>0&&(p-=u.duration+u.delay),a.styles.forEach(b=>{"string"!=typeof b&&b.forEach((I,B)=>{const Y=o.collectedStyles.get(o.currentQuerySelector),Me=Y.get(B);let Oe=!0;Me&&(p!=d&&p>=Me.startTime&&d<=Me.endTime&&(o.errors.push(function Bg(){return new T.buA(3010,!1)}()),Oe=!1),p=Me.startTime),Oe&&Y.set(B,{startTime:p,endTime:d}),o.options&&function yu(s,a,o){const u=a.params||{},d=Km(s);d.length&&d.forEach(p=>{u.hasOwnProperty(p)||o.push(function Om(){return new T.buA(3001,!1)}())})}(I,o.options,o.errors)})})}visitKeyframes(a,o){const u={type:Pt.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function sl(){return new T.buA(3011,!1)}()),u;let p=0;const b=[];let I=!1,B=!1,Y=0;const Me=a.steps.map(bt=>{const jt=this._makeStyleAst(bt,o);let Kt=null!=jt.offset?jt.offset:function _f(s){if("string"==typeof s)return null;let a=null;if(Array.isArray(s))s.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;a=parseFloat(u.get("offset")),u.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const o=s;a=parseFloat(o.get("offset")),o.delete("offset")}return a}(jt.styles),Ot=0;return null!=Kt&&(p++,Ot=jt.offset=Kt),B=B||Ot<0||Ot>1,I=I||Ot<Y,Y=Ot,b.push(Ot),jt});B&&o.errors.push(function Yp(){return new T.buA(3012,!1)}()),I&&o.errors.push(function cu(){return new T.buA(3200,!1)}());const Oe=a.steps.length;let We=0;p>0&&p<Oe?o.errors.push(function Bc(){return new T.buA(3202,!1)}()):0==p&&(We=1/(Oe-1));const st=Oe-1,Xe=o.currentTime,Ze=o.currentAnimateTimings,dt=Ze.duration;return Me.forEach((bt,jt)=>{const Kt=We>0?jt==st?1:We*jt:b[jt],Ot=Kt*dt;o.currentTime=Xe+Ze.delay+Ot,Ze.duration=Ot,this._validateStyleAst(bt,o),bt.offset=Kt,u.styles.push(bt)}),u}visitReference(a,o){return{type:Pt.Reference,animation:zo(this,za(a.animation),o),options:Ia(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:Pt.AnimateChild,options:Ia(a.options)}}visitAnimateRef(a,o){return{type:Pt.AnimateRef,animation:this.visitReference(a.animation,o),options:Ia(a.options)}}visitQuery(a,o){const u=o.currentQuerySelector,d=a.options||{};o.queryCount++,o.currentQuery=a;const[p,b]=function gf(s){const a=!!s.split(/\s*,\s*/).find(o=>":self"==o);return a&&(s=s.replace(Ym,"")),s=s.replace(/@\*/g,Si).replace(/@\w+/g,o=>Si+"-"+o.slice(1)).replace(/:animating/g,Wc),[s,a]}(a.selector);o.currentQuerySelector=u.length?u+" "+p:p,Wo(o.collectedStyles,o.currentQuerySelector,new Map);const I=zo(this,za(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:Pt.Query,selector:p,limit:d.limit||0,optional:!!d.optional,includeSelf:b,animation:I,originalSelector:a.selector,options:Ia(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push(function Jp(){return new T.buA(3013,!1)}());const u="full"===a.timings?{duration:0,delay:0,easing:"full"}:fu(a.timings,o.errors,!0);return{type:Pt.Stagger,animation:zo(this,za(a.animation),o),timings:u,options:null}}}class wu{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(a){this.errors=a}}function Ia(s){return s?(s={...s}).params&&(s.params=function vf(s){return s?{...s}:null}(s.params)):s={},s}function Es(s,a,o){return{duration:s,delay:a,easing:o}}function Xc(s,a,o,u,d,p,b=null,I=!1){return{type:1,element:s,keyframes:a,preStyleProps:o,postStyleProps:u,duration:d,delay:p,totalTime:d+p,easing:b,subTimeline:I}}class Eu{_map=new Map;get(a){return this._map.get(a)||[]}append(a,o){let u=this._map.get(a);u||this._map.set(a,u=[]),u.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const eh=new RegExp(":enter","g"),wf=new RegExp(":leave","g");function xi(s,a,o,u,d,p=new Map,b=new Map,I,B,Y=[]){return(new Ef).buildKeyframes(s,a,o,u,d,p,b,I,B,Y)}class Ef{buildKeyframes(a,o,u,d,p,b,I,B,Y,Me=[]){Y=Y||new Eu;const Oe=new Yc(a,o,Y,d,p,Me,[]);Oe.options=B;const We=B.delay?Wa(B.delay):0;Oe.currentTimeline.delayNextStep(We),Oe.currentTimeline.setStyles([b],null,Oe.errors,B),zo(this,u,Oe);const st=Oe.timelines.filter(Xe=>Xe.containsAnimation());if(st.length&&I.size){let Xe;for(let Ze=st.length-1;Ze>=0;Ze--){const dt=st[Ze];if(dt.element===o){Xe=dt;break}}Xe&&!Xe.allowOnlyTimelineStyles()&&Xe.setStyles([I],null,Oe.errors,B)}return st.length?st.map(Xe=>Xe.buildKeyframes()):[Xc(o,[],[],[],0,We,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const u=o.subInstructions.get(o.element);if(u){const d=o.createSubContext(a.options),p=o.currentTimeline.currentTime,b=this._visitSubInstructions(u,d,d.options);p!=b&&o.transformIntoNewTimeline(b)}o.previousNode=a}visitAnimateRef(a,o){const u=o.createSubContext(a.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],o,u),this.visitReference(a.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=a}_applyAnimationRefDelays(a,o,u){for(const d of a){const p=d?.delay;if(p){const b="number"==typeof p?p:Wa(_s(p,d?.params??{},o.errors));u.delayNextStep(b)}}}_visitSubInstructions(a,o,u){let p=o.currentTimeline.currentTime;const b=null!=u.duration?Wa(u.duration):null,I=null!=u.delay?Wa(u.delay):null;return 0!==b&&a.forEach(B=>{const Y=o.appendInstructionToTimeline(B,b,I);p=Math.max(p,Y.duration+Y.delay)}),p}visitReference(a,o){o.updateOptions(a.options,!0),zo(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const u=o.subContextCount;let d=o;const p=a.options;if(p&&(p.params||p.delay)&&(d=o.createSubContext(p),d.transformIntoNewTimeline(),null!=p.delay)){d.previousNode.type==Pt.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=pl);const b=Wa(p.delay);d.delayNextStep(b)}a.steps.length&&(a.steps.forEach(b=>zo(this,b,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>u&&d.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const u=[];let d=o.currentTimeline.currentTime;const p=a.options&&a.options.delay?Wa(a.options.delay):0;a.steps.forEach(b=>{const I=o.createSubContext(a.options);p&&I.delayNextStep(p),zo(this,b,I),d=Math.max(d,I.currentTimeline.currentTime),u.push(I.currentTimeline)}),u.forEach(b=>o.currentTimeline.mergeTimelineCollectedStyles(b)),o.transformIntoNewTimeline(d),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const u=a.strValue;return fu(o.params?_s(u,o.params,o.errors):u,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const u=o.currentAnimateTimings=this._visitTiming(a.timings,o),d=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),d.snapshotCurrentStyles());const p=a.style;p.type==Pt.Keyframes?this.visitKeyframes(p,o):(o.incrementTime(u.duration),this.visitStyle(p,o),d.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const u=o.currentTimeline,d=o.currentAnimateTimings;!d&&u.hasCurrentStyleProperties()&&u.forwardFrame();const p=d&&d.easing||a.easing;a.isEmptyStep?u.applyEmptyStep(p):u.setStyles(a.styles,p,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const u=o.currentAnimateTimings,d=o.currentTimeline.duration,p=u.duration,I=o.createSubContext().currentTimeline;I.easing=u.easing,a.styles.forEach(B=>{I.forwardTime((B.offset||0)*p),I.setStyles(B.styles,B.easing,o.errors,o.options),I.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(I),o.transformIntoNewTimeline(d+p),o.previousNode=a}visitQuery(a,o){const u=o.currentTimeline.currentTime,d=a.options||{},p=d.delay?Wa(d.delay):0;p&&(o.previousNode.type===Pt.Style||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=pl);let b=u;const I=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!d.optional,o.errors);o.currentQueryTotal=I.length;let B=null;I.forEach((Y,Me)=>{o.currentQueryIndex=Me;const Oe=o.createSubContext(a.options,Y);p&&Oe.delayNextStep(p),Y===o.element&&(B=Oe.currentTimeline),zo(this,a.animation,Oe),Oe.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Oe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(b),B&&(o.currentTimeline.mergeTimelineCollectedStyles(B),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const u=o.parentContext,d=o.currentTimeline,p=a.timings,b=Math.abs(p.duration),I=b*(o.currentQueryTotal-1);let B=b*o.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":B=I-B;break;case"full":B=u.currentStaggerTime}const Me=o.currentTimeline;B&&Me.delayNextStep(B);const Oe=Me.currentTime;zo(this,a.animation,o),o.previousNode=a,u.currentStaggerTime=d.currentTime-Oe+(d.startTime-u.currentTimeline.startTime)}}const pl={};class Yc{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=pl;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(a,o,u,d,p,b,I,B){this._driver=a,this.element=o,this.subInstructions=u,this._enterClassName=d,this._leaveClassName=p,this.errors=b,this.timelines=I,this.currentTimeline=B||new fl(this._driver,o,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const u=a;let d=this.options;null!=u.duration&&(d.duration=Wa(u.duration)),null!=u.delay&&(d.delay=Wa(u.delay));const p=u.params;if(p){let b=d.params;b||(b=this.options.params={}),Object.keys(p).forEach(I=>{(!o||!b.hasOwnProperty(I))&&(b[I]=_s(p[I],b,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const u=a.params={};Object.keys(o).forEach(d=>{u[d]=o[d]})}}return a}createSubContext(a=null,o,u){const d=o||this.element,p=new Yc(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,u||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(a),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(a){return this.previousNode=pl,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,u){const d={duration:o??a.duration,delay:this.currentTimeline.currentTime+(u??0)+a.delay,easing:""},p=new th(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,d,a.stretchStartingKeyframe);return this.timelines.push(p),d}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,u,d,p,b){let I=[];if(d&&I.push(this.element),a.length>0){a=(a=a.replace(eh,"."+this._enterClassName)).replace(wf,"."+this._leaveClassName);let Y=this._driver.query(this.element,a,1!=u);0!==u&&(Y=u<0?Y.slice(Y.length+u,Y.length):Y.slice(0,u)),I.push(...Y)}return!p&&0==I.length&&b.push(function Ug(){return new T.buA(3014,!1)}()),I}}class fl{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(a,o,u,d){this._driver=a,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=d,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new fl(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles.set(a,o),this._globalTimelineStyles.set(a,o),this._styleSummary.set(a,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||$a),this._currentKeyframe.set(o,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,u,d){o&&this._previousKeyframe.set("easing",o);const p=d&&d.params||{},b=function rh(s,a){const o=new Map;let u;return s.forEach(d=>{if("*"===d){u??=a.keys();for(let p of u)o.set(p,$a)}else for(let[p,b]of d)o.set(p,b)}),o}(a,this._globalTimelineStyles);for(let[I,B]of b){const Y=_s(B,p,u);this._pendingStyles.set(I,Y),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??$a),this._updateStyle(I,Y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,o)=>{this._currentKeyframe.set(o,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,a)}))}snapshotCurrentStyles(){for(let[a,o]of this._localTimelineStyles)this._pendingStyles.set(a,o),this._updateStyle(a,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((o,u)=>{const d=this._styleSummary.get(u);(!d||o.time>d.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((I,B)=>{const Y=new Map([...this._backFill,...I]);Y.forEach((Me,Oe)=>{"!"===Me?a.add(Oe):Me===$a&&o.add(Oe)}),u||Y.set("offset",B/this.duration),d.push(Y)});const p=[...a.values()],b=[...o.values()];if(u){const I=d[0],B=new Map(I);I.set("offset",0),B.set("offset",1),d=[I,B]}return Xc(this.element,d,p,b,this.duration,this.startTime,this.easing,!1)}}class th extends fl{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(a,o,u,d,p,b,I=!1){super(a,o,b.delay),this.keyframes=u,this.preStyleProps=d,this.postStyleProps=p,this._stretchStartingKeyframe=I,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:u,easing:d}=this.timings;if(this._stretchStartingKeyframe&&o){const p=[],b=u+o,I=o/b,B=new Map(a[0]);B.set("offset",0),p.push(B);const Y=new Map(a[0]);Y.set("offset",nh(I)),p.push(Y);const Me=a.length-1;for(let Oe=1;Oe<=Me;Oe++){let We=new Map(a[Oe]);const st=We.get("offset");We.set("offset",nh((o+st*u)/b)),p.push(We)}u=b,o=0,d="",a=p}return Xc(this.element,a,this.preStyleProps,this.postStyleProps,u,o,d,!0)}}function nh(s,a=3){const o=Math.pow(10,a-1);return Math.round(s*o)/o}function oh(s,a,o,u,d,p,b,I,B,Y,Me,Oe,We){return{type:0,element:s,triggerName:a,isRemovalTransition:d,fromState:o,fromStyles:p,toState:u,toStyles:b,timelines:I,queriedElements:B,preStyleProps:Y,postStyleProps:Me,totalTime:Oe,errors:We}}const ks={};class ku{_triggerName;ast;_stateStyles;constructor(a,o,u){this._triggerName=a,this.ast=o,this._stateStyles=u}match(a,o,u,d){return function kf(s,a,o,u,d){return s.some(p=>p(a,o,u,d))}(this.ast.matchers,a,o,u,d)}buildStyles(a,o,u){let d=this._stateStyles.get("*");return void 0!==a&&(d=this._stateStyles.get(a?.toString())||d),d?d.buildStyles(o,u):new Map}build(a,o,u,d,p,b,I,B,Y,Me){const Oe=[],We=this.ast.options&&this.ast.options.params||ks,Xe=this.buildStyles(u,I&&I.params||ks,Oe),Ze=B&&B.params||ks,dt=this.buildStyles(d,Ze,Oe),bt=new Set,jt=new Map,Kt=new Map,Ot="void"===d,Ur={params:ah(Ze,We),delay:this.ast.options?.delay},Vr=Me?[]:xi(a,o,this.ast.animation,p,b,Xe,dt,Ur,Y,Oe);let rn=0;return Vr.forEach($r=>{rn=Math.max($r.duration+$r.delay,rn)}),Oe.length?oh(o,this._triggerName,u,d,Ot,Xe,dt,[],[],jt,Kt,rn,Oe):(Vr.forEach($r=>{const yo=$r.element,Ts=Wo(jt,yo,new Set);$r.preStyleProps.forEach(ba=>Ts.add(ba));const _d=Wo(Kt,yo,new Set);$r.postStyleProps.forEach(ba=>_d.add(ba)),yo!==o&&bt.add(yo)}),oh(o,this._triggerName,u,d,Ot,Xe,dt,Vr,[...bt.values()],jt,Kt,rn))}}function ah(s,a){const o={...a};return Object.entries(s).forEach(([u,d])=>{null!=d&&(o[u]=d)}),o}class Jc{styles;defaultParams;normalizer;constructor(a,o,u){this.styles=a,this.defaultParams=o,this.normalizer=u}buildStyles(a,o){const u=new Map,d=ah(a,this.defaultParams);return this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((b,I)=>{b&&(b=_s(b,d,o));const B=this.normalizer.normalizePropertyName(I,o);b=this.normalizer.normalizeStyleValue(I,B,b,o),u.set(I,b)})}),u}}class Du{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(a,o,u){this.name=a,this.ast=o,this._normalizer=u,o.states.forEach(d=>{this.states.set(d.name,new Jc(d.style,d.options&&d.options.params||{},u))}),Ds(this.states,"true","1"),Ds(this.states,"false","0"),o.transitions.forEach(d=>{this.transitionFactories.push(new ku(a,d,this.states))}),this.fallbackTransition=function ih(s,a){return new ku(s,{type:Pt.Transition,animation:{type:Pt.Sequence,steps:[],options:null},matchers:[(b,I)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,u,d){return this.transitionFactories.find(b=>b.match(a,o,u,d))||null}matchStyles(a,o,u){return this.fallbackTransition.buildStyles(a,o,u)}}function Ds(s,a,o){s.has(a)?s.has(o)||s.set(o,s.get(a)):s.has(o)&&s.set(a,s.get(o))}const Df=new Eu;class Cf{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u}register(a,o){const u=[],p=Qc(this._driver,o,u,[]);if(u.length)throw function ef(){return new T.buA(3503,!1)}();this._animations.set(a,p)}_buildPlayer(a,o,u){const d=a.element,p=$c(this._normalizer,a.keyframes,o,u);return this._driver.animate(d,p,a.duration,a.delay,a.easing,[],!0)}create(a,o,u={}){const d=[],p=this._animations.get(a);let b;const I=new Map;if(p?(b=xi(this._driver,o,p,Hm,pu,new Map,new Map,u,Df,d),b.forEach(Me=>{const Oe=Wo(I,Me.element,new Map);Me.postStyleProps.forEach(We=>Oe.set(We,null))})):(d.push(function tf(){return new T.buA(3300,!1)}()),b=[]),d.length)throw function nf(){return new T.buA(3504,!1)}();I.forEach((Me,Oe)=>{Me.forEach((We,st)=>{Me.set(st,this._driver.computeStyle(Oe,st,$a))})});const Y=na(b.map(Me=>{const Oe=I.get(Me.element);return this._buildPlayer(Me,new Map,Oe)}));return this._playersById.set(a,Y),Y.onDestroy(()=>this.destroy(a)),this.players.push(Y),Y}destroy(a){const o=this._getPlayer(a);o.destroy(),this._playersById.delete(a);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(a){const o=this._playersById.get(a);if(!o)throw function Uc(){return new T.buA(3301,!1)}();return o}listen(a,o,u,d){const p=cl(o,"","","");return mu(this._getPlayer(a),u,p,d),()=>{}}command(a,o,u,d){if("register"==u)return void this.register(a,d[0]);if("create"==u)return void this.create(a,o,d[0]||{});const p=this._getPlayer(a);switch(u){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(a)}}}const sh="ng-animate-queued",Ri="ng-animate-disabled",Ss=[],lh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},va="__ng_removed";class ed{namespaceId;value;options;get params(){return this.options.params}constructor(a,o=""){this.namespaceId=o;const u=a&&a.hasOwnProperty("value");if(this.value=function Sf(s){return s??null}(u?a.value:a),u){const{value:p,...b}=a;this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const o=a.params;if(o){const u=this.options.params;Object.keys(o).forEach(d=>{null==u[d]&&(u[d]=o[d])})}}}const yl="void",td=new ed(yl);class ch{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(a,o,u){this.id=a,this.hostElement=o,this._engine=u,this._hostClassName="ng-tns-"+a,Co(o,this._hostClassName)}listen(a,o,u,d){if(!this._triggers.has(o))throw function ll(){return new T.buA(3302,!1)}();if(null==u||0==u.length)throw function Vc(){return new T.buA(3303,!1)}();if(!function Af(s){return"start"==s||"done"==s}(u))throw function du(){return new T.buA(3400,!1)}();const p=Wo(this._elementListeners,a,[]),b={name:o,phase:u,callback:d};p.push(b);const I=Wo(this._engine.statesByElement,a,new Map);return I.has(o)||(Co(a,vs),Co(a,vs+"-"+o),I.set(o,td)),()=>{this._engine.afterFlush(()=>{const B=p.indexOf(b);B>=0&&p.splice(B,1),this._triggers.has(o)||I.delete(o)})}}register(a,o){return!this._triggers.has(a)&&(this._triggers.set(a,o),!0)}_getTrigger(a){const o=this._triggers.get(a);if(!o)throw function Nm(){return new T.buA(3401,!1)}();return o}trigger(a,o,u,d=!0){const p=this._getTrigger(o),b=new Su(this.id,o,a);let I=this._engine.statesByElement.get(a);I||(Co(a,vs),Co(a,vs+"-"+o),this._engine.statesByElement.set(a,I=new Map));let B=I.get(o);const Y=new ed(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&B&&Y.absorbOptions(B.options),I.set(o,Y),B||(B=td),Y.value!==yl&&B.value===Y.value){if(!function Tf(s,a){const o=Object.keys(s),u=Object.keys(a);if(o.length!=u.length)return!1;for(let d=0;d<o.length;d++){const p=o[d];if(!a.hasOwnProperty(p)||s[p]!==a[p])return!1}return!0}(B.params,Y.params)){const Ze=[],dt=p.matchStyles(B.value,B.params,Ze),bt=p.matchStyles(Y.value,Y.params,Ze);Ze.length?this._engine.reportError(Ze):this._engine.afterFlush(()=>{Ai(a,dt),ga(a,bt)})}return}const We=Wo(this._engine.playersByElement,a,[]);We.forEach(Ze=>{Ze.namespaceId==this.id&&Ze.triggerName==o&&Ze.queued&&Ze.destroy()});let st=p.matchTransition(B.value,Y.value,a,Y.params),Xe=!1;if(!st){if(!d)return;st=p.fallbackTransition,Xe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:st,fromState:B,toState:Y,player:b,isFallbackTransition:Xe}),Xe||(Co(a,sh),b.onStart(()=>{ii(a,sh)})),b.onDone(()=>{let Ze=this.players.indexOf(b);Ze>=0&&this.players.splice(Ze,1);const dt=this._engine.playersByElement.get(a);if(dt){let bt=dt.indexOf(b);bt>=0&&dt.splice(bt,1)}}),this.players.push(b),We.push(b),b}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(o=>o.delete(a)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(d=>d.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const u=this._engine.driver.query(a,Si,!0);u.forEach(d=>{if(d[va])return;const p=this._engine.fetchNamespacesByElement(d);p.size?p.forEach(b=>b.triggerLeaveAnimation(d,o,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(a,o,u,d){const p=this._engine.statesByElement.get(a),b=new Map;if(p){const I=[];if(p.forEach((B,Y)=>{if(b.set(Y,B.value),this._triggers.has(Y)){const Me=this.trigger(a,Y,yl,d);Me&&I.push(Me)}}),I.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,b),u&&na(I).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),u=this._engine.statesByElement.get(a);if(o&&u){const d=new Set;o.forEach(p=>{const b=p.name;if(d.has(b))return;d.add(b);const B=this._triggers.get(b).fallbackTransition,Y=u.get(b)||td,Me=new ed(yl),Oe=new Su(this.id,b,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:b,transition:B,fromState:Y,toState:Me,player:Oe,isFallbackTransition:!0})})}}removeNode(a,o){const u=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let d=!1;if(u.totalAnimations){const p=u.players.length?u.playersByQueriedElement.get(a):[];if(p&&p.length)d=!0;else{let b=a;for(;b=b.parentNode;)if(u.statesByElement.get(b)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(a),d)u.markElementAsRemoved(this.id,a,!1,o);else{const p=a[va];(!p||p===lh)&&(u.afterFlush(()=>this.clearElementCache(a)),u.destroyInnerAnimations(a),u._onRemovalComplete(a,o))}}insertNode(a,o){Co(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(u=>{const d=u.player;if(d.destroyed)return;const p=u.element,b=this._elementListeners.get(p);b&&b.forEach(I=>{if(I.name==u.triggerName){const B=cl(p,u.triggerName,u.fromState.value,u.toState.value);B._data=a,mu(u.player,I.phase,B,I.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):o.push(u)}),this._queue=[],o.sort((u,d)=>{const p=u.transition.ast.depCount,b=d.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(u.element,d.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}}class dh{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(a,o)=>{};_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}constructor(a,o,u){this.bodyNode=a,this.driver=o,this._normalizer=u}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&a.push(u)})}),a}createNamespace(a,o){const u=new ch(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[a]=u}_balanceNamespaceList(a,o){const u=this._namespaceList,d=this.namespacesByHostElement;if(u.length-1>=0){let b=!1,I=this.driver.getParentElement(o);for(;I;){const B=d.get(I);if(B){const Y=u.indexOf(B);u.splice(Y+1,0,a),b=!0;break}I=this.driver.getParentElement(I)}b||u.unshift(a)}else u.push(a);return d.set(o,a),a}register(a,o){let u=this._namespaceLookup[a];return u||(u=this.createNamespace(a,o)),u}registerTrigger(a,o,u){let d=this._namespaceLookup[a];d&&d.register(o,u)&&this.totalAnimations++}destroy(a,o){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(a);this.namespacesByHostElement.delete(u.hostElement);const d=this._namespaceList.indexOf(u);d>=0&&this._namespaceList.splice(d,1),u.destroy(o),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,u=this.statesByElement.get(a);if(u)for(let d of u.values())if(d.namespaceId){const p=this._fetchNamespace(d.namespaceId);p&&o.add(p)}return o}trigger(a,o,u,d){if(Au(o)){const p=this._fetchNamespace(a);if(p)return p.trigger(o,u,d),!0}return!1}insertNode(a,o,u,d){if(!Au(o))return;const p=o[va];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(o);b>=0&&this.collectedLeaveElements.splice(b,1)}if(a){const b=this._fetchNamespace(a);b&&b.insertNode(o,u)}d&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Co(a,Ri)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),ii(a,Ri))}removeNode(a,o,u){if(Au(o)){const d=a?this._fetchNamespace(a):null;d?d.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u);const p=this.namespacesByHostElement.get(o);p&&p.id!==a&&p.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,u,d,p){this.collectedLeaveElements.push(o),o[va]={namespaceId:a,setForRemoval:d,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:p}}listen(a,o,u,d,p){return Au(o)?this._fetchNamespace(a).listen(o,u,d,p):()=>{}}_buildInstruction(a,o,u,d,p){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,u,d,a.fromState.options,a.toState.options,o,p)}destroyInnerAnimations(a){let o=this.driver.query(a,Si,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,Wc,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return na(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[va];if(o&&o.setForRemoval){if(a[va]=lh,o.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(Ri)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,d)=>this._balanceNamespaceList(u,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Co(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,a)}finally{for(let d=0;d<u.length;d++)u[d]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?na(o).onDone(()=>{u.forEach(d=>d())}):u.forEach(d=>d())}}reportError(a){throw function ul(){return new T.buA(3402,!1)}()}_flushAnimations(a,o){const u=new Eu,d=[],p=new Map,b=[],I=new Map,B=new Map,Y=new Map,Me=new Set;this.disabledNodes.forEach(vt=>{Me.add(vt);const kt=this.driver.query(vt,".ng-animate-queued",!0);for(let Rt=0;Rt<kt.length;Rt++)Me.add(kt[Rt])});const Oe=this.bodyNode,We=Array.from(this.statesByElement.keys()),st=Mf(We,this.collectedEnterElements),Xe=new Map;let Ze=0;st.forEach((vt,kt)=>{const Rt=Hm+Ze++;Xe.set(kt,Rt),vt.forEach(on=>Co(on,Rt))});const dt=[],bt=new Set,jt=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const kt=this.collectedLeaveElements[vt],Rt=kt[va];Rt&&Rt.setForRemoval&&(dt.push(kt),bt.add(kt),Rt.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(on=>bt.add(on)):jt.add(kt))}const Kt=new Map,Ot=Mf(We,Array.from(bt));Ot.forEach((vt,kt)=>{const Rt=pu+Ze++;Kt.set(kt,Rt),vt.forEach(on=>Co(on,Rt))}),a.push(()=>{st.forEach((vt,kt)=>{const Rt=Xe.get(kt);vt.forEach(on=>ii(on,Rt))}),Ot.forEach((vt,kt)=>{const Rt=Kt.get(kt);vt.forEach(on=>ii(on,Rt))}),dt.forEach(vt=>{this.processLeaveNode(vt)})});const Ur=[],Vr=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(o).forEach(Rt=>{const on=Rt.player,In=Rt.element;if(Ur.push(on),this.collectedEnterElements.length){const Ut=In[va];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(Rt.triggerName)){const $i=Ut.previousTriggersValues.get(Rt.triggerName),Ao=this.statesByElement.get(Rt.element);if(Ao&&Ao.has(Rt.triggerName)){const Hu=Ao.get(Rt.triggerName);Hu.value=$i,Ao.set(Rt.triggerName,Hu)}}return void on.destroy()}}const wa=!Oe||!this.driver.containsElement(Oe,In),So=Kt.get(In),Vi=Xe.get(In),Ln=this._buildInstruction(Rt,u,Vi,So,wa);if(Ln.errors&&Ln.errors.length)return void Vr.push(Ln);if(wa)return on.onStart(()=>Ai(In,Ln.fromStyles)),on.onDestroy(()=>ga(In,Ln.toStyles)),void d.push(on);if(Rt.isFallbackTransition)return on.onStart(()=>Ai(In,Ln.fromStyles)),on.onDestroy(()=>ga(In,Ln.toStyles)),void d.push(on);const kl=[];Ln.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||kl.push(Ut)}),Ln.timelines=kl,u.append(In,Ln.timelines),b.push({instruction:Ln,player:on,element:In}),Ln.queriedElements.forEach(Ut=>Wo(I,Ut,[]).push(on)),Ln.preStyleProps.forEach((Ut,$i)=>{if(Ut.size){let Ao=B.get($i);Ao||B.set($i,Ao=new Set),Ut.forEach((Hu,Ed)=>Ao.add(Ed))}}),Ln.postStyleProps.forEach((Ut,$i)=>{let Ao=Y.get($i);Ao||Y.set($i,Ao=new Set),Ut.forEach((Hu,Ed)=>Ao.add(Ed))})});if(Vr.length){const vt=[];Vr.forEach(kt=>{vt.push(function Lm(){return new T.buA(3505,!1)}())}),Ur.forEach(kt=>kt.destroy()),this.reportError(vt)}const rn=new Map,$r=new Map;b.forEach(vt=>{const kt=vt.element;u.has(kt)&&($r.set(kt,kt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,rn))}),d.forEach(vt=>{const kt=vt.element;this._getPreviousPlayers(kt,!1,vt.namespaceId,vt.triggerName,null).forEach(on=>{Wo(rn,kt,[]).push(on),on.destroy()})});const yo=dt.filter(vt=>rd(vt,B,Y)),Ts=new Map;ph(Ts,this.driver,jt,Y,$a).forEach(vt=>{rd(vt,B,Y)&&yo.push(vt)});const ba=new Map;st.forEach((vt,kt)=>{ph(ba,this.driver,new Set(vt),B,"!")}),yo.forEach(vt=>{const kt=Ts.get(vt),Rt=ba.get(vt);Ts.set(vt,new Map([...kt?.entries()??[],...Rt?.entries()??[]]))});const xs=[],bd=[],wd={};b.forEach(vt=>{const{element:kt,player:Rt,instruction:on}=vt;if(u.has(kt)){if(Me.has(kt))return Rt.onDestroy(()=>ga(kt,on.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(on.totalTime),void d.push(Rt);let In=wd;if($r.size>1){let So=kt;const Vi=[];for(;So=So.parentNode;){const Ln=$r.get(So);if(Ln){In=Ln;break}Vi.push(So)}Vi.forEach(Ln=>$r.set(Ln,In))}const wa=this._buildAnimation(Rt.namespaceId,on,rn,p,ba,Ts);if(Rt.setRealPlayer(wa),In===wd)xs.push(Rt);else{const So=this.playersByElement.get(In);So&&So.length&&(Rt.parentPlayer=na(So)),d.push(Rt)}}else Ai(kt,on.fromStyles),Rt.onDestroy(()=>ga(kt,on.toStyles)),bd.push(Rt),Me.has(kt)&&d.push(Rt)}),bd.forEach(vt=>{const kt=p.get(vt.element);if(kt&&kt.length){const Rt=na(kt);vt.setRealPlayer(Rt)}}),d.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<dt.length;vt++){const kt=dt[vt],Rt=kt[va];if(ii(kt,pu),Rt&&Rt.hasAnimation)continue;let on=[];if(I.size){let wa=I.get(kt);wa&&wa.length&&on.push(...wa);let So=this.driver.query(kt,Wc,!0);for(let Vi=0;Vi<So.length;Vi++){let Ln=I.get(So[Vi]);Ln&&Ln.length&&on.push(...Ln)}}const In=on.filter(wa=>!wa.destroyed);In.length?fh(this,kt,In):this.processLeaveNode(kt)}return dt.length=0,xs.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const kt=this.players.indexOf(vt);this.players.splice(kt,1)}),vt.play()}),xs}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,u,d,p){let b=[];if(o){const I=this.playersByQueriedElement.get(a);I&&(b=I)}else{const I=this.playersByElement.get(a);if(I){const B=!p||p==yl;I.forEach(Y=>{Y.queued||!B&&Y.triggerName!=d||b.push(Y)})}}return(u||d)&&(b=b.filter(I=>!(u&&u!=I.namespaceId||d&&d!=I.triggerName))),b}_beforeAnimationBuild(a,o,u){const p=o.element,b=o.isRemovalTransition?void 0:a,I=o.isRemovalTransition?void 0:o.triggerName;for(const B of o.timelines){const Y=B.element,Me=Y!==p,Oe=Wo(u,Y,[]);this._getPreviousPlayers(Y,Me,b,I,o.toState).forEach(st=>{const Xe=st.getRealPlayer();Xe.beforeDestroy&&Xe.beforeDestroy(),st.destroy(),Oe.push(st)})}Ai(p,o.fromStyles)}_buildAnimation(a,o,u,d,p,b){const I=o.triggerName,B=o.element,Y=[],Me=new Set,Oe=new Set,We=o.timelines.map(Xe=>{const Ze=Xe.element;Me.add(Ze);const dt=Ze[va];if(dt&&dt.removedBeforeQueried)return new ol(Xe.duration,Xe.delay);const bt=Ze!==B,jt=function nd(s){const a=[];return yh(s,a),a}((u.get(Ze)||Ss).map(rn=>rn.getRealPlayer())).filter(rn=>!!rn.element&&rn.element===Ze),Kt=p.get(Ze),Ot=b.get(Ze),Ur=$c(this._normalizer,Xe.keyframes,Kt,Ot),Vr=this._buildPlayer(Xe,Ur,jt);if(Xe.subTimeline&&d&&Oe.add(Ze),bt){const rn=new Su(a,I,Ze);rn.setRealPlayer(Vr),Y.push(rn)}return Vr});Y.forEach(Xe=>{Wo(this.playersByQueriedElement,Xe.element,[]).push(Xe),Xe.onDone(()=>function mh(s,a,o){let u=s.get(a);if(u){if(u.length){const d=u.indexOf(o);u.splice(d,1)}0==u.length&&s.delete(a)}return u}(this.playersByQueriedElement,Xe.element,Xe))}),Me.forEach(Xe=>Co(Xe,Wm));const st=na(We);return st.onDestroy(()=>{Me.forEach(Xe=>ii(Xe,Wm)),ga(B,o.toStyles)}),Oe.forEach(Xe=>{Wo(d,Xe,[]).push(st)}),st}_buildPlayer(a,o,u){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,u):new ol(a.duration,a.delay)}}class Su{namespaceId;triggerName;element;_player=new ol;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(a,o,u){this.namespaceId=a,this.triggerName=o,this.element=u}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((o,u)=>{o.forEach(d=>mu(a,u,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){Wo(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function Au(s){return s&&1===s.nodeType}function hh(s,a){const o=s.style.display;return s.style.display=a??"none",o}function ph(s,a,o,u,d){const p=[];o.forEach(B=>p.push(hh(B)));const b=[];u.forEach((B,Y)=>{const Me=new Map;B.forEach(Oe=>{const We=a.computeStyle(Y,Oe,d);Me.set(Oe,We),(!We||0==We.length)&&(Y[va]=uh,b.push(Y))}),s.set(Y,Me)});let I=0;return o.forEach(B=>hh(B,p[I++])),b}function Mf(s,a){const o=new Map;if(s.forEach(I=>o.set(I,[])),0==a.length)return o;const d=new Set(a),p=new Map;function b(I){if(!I)return 1;let B=p.get(I);if(B)return B;const Y=I.parentNode;return B=o.has(Y)?Y:d.has(Y)?1:b(Y),p.set(I,B),B}return a.forEach(I=>{const B=b(I);1!==B&&o.get(B).push(I)}),o}function Co(s,a){s.classList?.add(a)}function ii(s,a){s.classList?.remove(a)}function fh(s,a,o){na(o).onDone(()=>s.processLeaveNode(a))}function yh(s,a){for(let o=0;o<s.length;o++){const u=s[o];u instanceof Fc?yh(u.players,a):a.push(u)}}function rd(s,a,o){const u=o.get(s);if(!u)return!1;let d=a.get(s);return d?u.forEach(p=>d.add(p)):a.set(s,u),o.delete(s),!0}class gl{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(a,o)=>{};constructor(a,o,u){this._driver=o,this._normalizer=u,this._transitionEngine=new dh(a.body,o,u),this._timelineEngine=new Cf(a.body,o,u),this._transitionEngine.onRemovalComplete=(d,p)=>this.onRemovalComplete(d,p)}registerTrigger(a,o,u,d,p){const b=a+"-"+d;let I=this._triggerCache[b];if(!I){const B=[],Me=Qc(this._driver,p,B,[]);if(B.length)throw function Hg(){return new T.buA(3404,!1)}();I=function Ii(s,a,o){return new Du(s,a,o)}(d,Me,this._normalizer),this._triggerCache[b]=I}this._transitionEngine.registerTrigger(o,d,I)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,u,d){this._transitionEngine.insertNode(a,o,u,d)}onRemove(a,o,u){this._transitionEngine.removeNode(a,o,u)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,u,d){if("@"==u.charAt(0)){const[p,b]=Fm(u);this._timelineEngine.command(p,o,b,d)}else this._transitionEngine.trigger(a,o,u,d)}listen(a,o,u,d,p){if("@"==u.charAt(0)){const[b,I]=Fm(u);return this._timelineEngine.listen(b,o,I,p)}return this._transitionEngine.listen(a,o,u,d,p)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}}let vl=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(o,u,d){this._element=o,this._startStyles=u,this._endStyles=d;let p=s.initialStylesByElement.get(o);p||s.initialStylesByElement.set(o,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&ga(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ga(this._element,this._initialStyles),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(Ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ai(this._element,this._endStyles),this._endStyles=null),ga(this._element,this._initialStyles),this._state=3)}}return s})();function xn(s){let a=null;return s.forEach((o,u)=>{(function Oi(s){return"display"===s||"position"===s})(u)&&(a=a||new Map,a.set(u,o))}),a}class _l{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(a,o,u,d){this.element=a,this.keyframes=o,this.options=u,this._specialStyles=d,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const o=[];return a.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(a,o,u){return a.animate(this._convertKeyframesToObject(o),u)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,d)=>{"offset"!==d&&a.set(d,this._finished?u:gu(this.element,d))}),this.currentSnapshot=a}triggerCallback(a){const o="start"===a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Ko{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}containsElement(a,o){return Um(a,o)}getParentElement(a){return hu(a)}query(a,o,u){return ml(a,o,u)}computeStyle(a,o,u){return gu(a,o)}animate(a,o,u,d,p,b=[]){const B={duration:u,delay:d,fill:0==d?"both":"forwards"};p&&(B.easing=p);const Y=new Map,Me=b.filter(st=>st instanceof _l);(function Kg(s,a){return 0===s||0===a})(u,d)&&Me.forEach(st=>{st.currentSnapshot.forEach((Xe,Ze)=>Y.set(Ze,Xe))});let Oe=function uf(s){return s.length?s[0]instanceof Map?s:s.map(a=>new Map(Object.entries(a))):[]}(o).map(st=>new Map(st));Oe=function Gg(s,a,o){if(o.size&&a.length){let u=a[0],d=[];if(o.forEach((p,b)=>{u.has(b)||d.push(b),u.set(b,p)}),d.length)for(let p=1;p<a.length;p++){let b=a[p];d.forEach(I=>b.set(I,gu(s,I)))}}return a}(a,Oe,Y);const We=function Ra(s,a){let o=null,u=null;return Array.isArray(a)&&a.length?(o=xn(a[0]),a.length>1&&(u=xn(a[a.length-1]))):a instanceof Map&&(o=xn(a)),o||u?new vl(s,o,u):null}(a,Oe);return new _l(a,Oe,B,We)}}const gh="@.disabled";class od{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(a,o,u,d){this.namespaceId=a,this.delegate=o,this.engine=u,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,u,d=!0){this.delegate.insertBefore(a,o,u),this.engine.onInsert(this.namespaceId,o,a,d)}removeChild(a,o,u){this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,u,d){this.delegate.setAttribute(a,o,u,d)}removeAttribute(a,o,u){this.delegate.removeAttribute(a,o,u)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,u,d){this.delegate.setStyle(a,o,u,d)}removeStyle(a,o,u){this.delegate.removeStyle(a,o,u)}setProperty(a,o,u){"@"==o.charAt(0)&&o==gh?this.disableAnimations(a,!!u):this.delegate.setProperty(a,o,u)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,u,d){return this.delegate.listen(a,o,u,d)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class If extends od{factory;constructor(a,o,u,d,p){super(o,u,d,p),this.factory=a,this.namespaceId=o}setProperty(a,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==gh?this.disableAnimations(a,u=void 0===u||!!u):this.engine.process(this.namespaceId,a,o.slice(1),u):this.delegate.setProperty(a,o,u)}listen(a,o,u,d){if("@"==o.charAt(0)){const p=function Rf(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(a);let b=o.slice(1),I="";return"@"!=b.charAt(0)&&([b,I]=function Tu(s){const a=s.indexOf(".");return[s.substring(0,a),s.slice(a+1)]}(b)),this.engine.listen(this.namespaceId,p,b,I,B=>{this.factory.scheduleListenerCallback(B._data||-1,u,B)})}return this.delegate.listen(a,o,u,d)}}class Zg{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(a,o,u){this.delegate=a,this.engine=o,this._zone=u,o.onRemovalComplete=(d,p)=>{p?.removeChild(null,d)}}createRenderer(a,o){const d=this.delegate.createRenderer(a,o);if(!a||!o?.data?.animation){const Y=this._rendererCache;let Me=Y.get(d);return Me||(Me=new od("",d,this.engine,()=>Y.delete(d)),Y.set(d,Me)),Me}const p=o.id,b=o.id+"-"+this._currentId;this._currentId++,this.engine.register(b,a);const I=Y=>{Array.isArray(Y)?Y.forEach(I):this.engine.registerTrigger(p,b,a,Y.name,Y)};return o.data.animation.forEach(I),new If(this,b,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,o,u){if(a>=0&&a<this._microtaskId)return void this._zone.run(()=>o(u));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(p=>{const[b,I]=p;b(I)}),this._animationCallbacksBuffer=[]})}),d.push([o,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(a){this.engine.flush(),this.delegate.componentReplaced?.(a)}}const Lf=[{provide:Gm,useFactory:()=>new Ko},{provide:fe.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:_u,useFactory:function Of(){return new hf}},{provide:gl,useClass:(()=>{class s extends gl{constructor(o,u,d){super(o,u,d)}ngOnDestroy(){this.flush()}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL),T.KVO(Gm),T.KVO(_u))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:fe._9s,useFactory:function Pf(s,a,o){return new Zg(s,a,o)},deps:[Nr,gl,fe.SKi]}]];V(467);class xu{}class Iu{}class _a{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(a){a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(o=>{const u=o.indexOf(":");if(u>0){const d=o.slice(0,u),p=o.slice(u+1).trim();this.addHeaderEntry(d,p)}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((o,u)=>{this.addHeaderEntry(u,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([o,u])=>{this.setHeaderEntries(o,u)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const o=this.headers.get(a.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,o){return this.clone({name:a,value:o,op:"a"})}set(a,o){return this.clone({name:a,value:o,op:"s"})}delete(a,o){return this.clone({name:a,value:o,op:"d"})}maybeSetNormalizedName(a,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,a)}init(){this.lazyInit&&(this.lazyInit instanceof _a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(o=>{this.headers.set(o,a.headers.get(o)),this.normalizedNames.set(o,a.normalizedNames.get(o))})}clone(a){const o=new _a;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof _a?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([a]),o}applyUpdate(a){const o=a.name.toLowerCase();switch(a.op){case"a":case"s":let u=a.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(a.name,o);const d=("a"===a.op?this.headers.get(o):void 0)||[];d.push(...u),this.headers.set(o,d);break;case"d":const p=a.value;if(p){let b=this.headers.get(o);if(!b)return;b=b.filter(I=>-1===p.indexOf(I)),0===b.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,b)}else this.headers.delete(o),this.normalizedNames.delete(o)}}addHeaderEntry(a,o){const u=a.toLowerCase();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(o):this.headers.set(u,[o])}setHeaderEntries(a,o){const u=(Array.isArray(o)?o:[o]).map(p=>p.toString()),d=a.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(a,d)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>a(this.normalizedNames.get(o),this.headers.get(o)))}}class jf{encodeKey(a){return Eh(a)}encodeValue(a){return Eh(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const wh=/%(\d[a-f0-9])/gi,Uf={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Eh(s){return encodeURIComponent(s).replace(wh,(a,o)=>Uf[o]??a)}function Pi(s){return`${s}`}class li{map;encoder;updates=null;cloneFrom=null;constructor(a={}){if(this.encoder=a.encoder||new jf,a.fromString){if(a.fromObject)throw new T.buA(2805,!1);this.map=function Bf(s,a){const o=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(d=>{const p=d.indexOf("="),[b,I]=-1==p?[a.decodeKey(d),""]:[a.decodeKey(d.slice(0,p)),a.decodeValue(d.slice(p+1))],B=o.get(b)||[];B.push(I),o.set(b,B)}),o}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(o=>{const u=a.fromObject[o],d=Array.isArray(u)?u.map(Pi):[Pi(u)];this.map.set(o,d)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const o=this.map.get(a);return o?o[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,o){return this.clone({param:a,value:o,op:"a"})}appendAll(a){const o=[];return Object.keys(a).forEach(u=>{const d=a[u];Array.isArray(d)?d.forEach(p=>{o.push({param:u,value:p,op:"a"})}):o.push({param:u,value:d,op:"a"})}),this.clone(o)}set(a,o){return this.clone({param:a,value:o,op:"s"})}delete(a,o){return this.clone({param:a,value:o,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const o=this.encoder.encodeKey(a);return this.map.get(a).map(u=>o+"="+this.encoder.encodeValue(u)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const o=new li({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(a),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const o=("a"===a.op?this.map.get(a.param):void 0)||[];o.push(Pi(a.value)),this.map.set(a.param,o);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let u=this.map.get(a.param)||[];const d=u.indexOf(Pi(a.value));-1!==d&&u.splice(d,1),u.length>0?this.map.set(a.param,u):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class kh{map=new Map;set(a,o){return this.map.set(a,o),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function Ru(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function ad(s){return typeof Blob<"u"&&s instanceof Blob}function Ch(s){return typeof FormData<"u"&&s instanceof FormData}const Ni="Content-Type",Ou="X-Request-URL",Ah="text/plain",Mh="application/json",Vf=`${Mh}, ${Ah}, */*`;class Li{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(a,o,u,d){let p;if(this.url=o,this.method=a.toUpperCase(),function Dh(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==u?u:null,p=d):p=u,p){if(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,this.keepalive=!!p.keepalive,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params),p.priority&&(this.priority=p.priority),p.cache&&(this.cache=p.cache),p.credentials&&(this.credentials=p.credentials),"number"==typeof p.timeout){if(p.timeout<1||!Number.isInteger(p.timeout))throw new Error("");this.timeout=p.timeout}p.mode&&(this.mode=p.mode),p.redirect&&(this.redirect=p.redirect),this.transferCache=p.transferCache}if(this.headers??=new _a,this.context??=new kh,this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=o;else{const I=o.indexOf("?");this.urlWithParams=o+(-1===I?"?":I<o.length-1?"&":"")+b}}else this.params=new li,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ru(this.body)||ad(this.body)||Ch(this.body)||function Sh(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)?this.body:this.body instanceof li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ch(this.body)?null:ad(this.body)?this.body.type||null:Ru(this.body)?null:"string"==typeof this.body?Ah:this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Mh:null}clone(a={}){const o=a.method||this.method,u=a.url||this.url,d=a.responseType||this.responseType,p=a.keepalive??this.keepalive,b=a.priority||this.priority,I=a.cache||this.cache,B=a.mode||this.mode,Y=a.redirect||this.redirect,Me=a.credentials||this.credentials,Oe=a.transferCache??this.transferCache,We=a.timeout??this.timeout,st=void 0!==a.body?a.body:this.body,Xe=a.withCredentials??this.withCredentials,Ze=a.reportProgress??this.reportProgress;let dt=a.headers||this.headers,bt=a.params||this.params;const jt=a.context??this.context;return void 0!==a.setHeaders&&(dt=Object.keys(a.setHeaders).reduce((Kt,Ot)=>Kt.set(Ot,a.setHeaders[Ot]),dt)),a.setParams&&(bt=Object.keys(a.setParams).reduce((Kt,Ot)=>Kt.set(Ot,a.setParams[Ot]),bt)),new Li(o,u,st,{params:bt,headers:dt,context:jt,reportProgress:Ze,responseType:d,withCredentials:Xe,transferCache:Oe,keepalive:p,cache:I,priority:b,timeout:We,mode:B,redirect:Y,credentials:Me})}}var Oa=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Oa||{});class Pu{headers;status;statusText;url;ok;type;constructor(a,o=200,u="OK"){this.headers=a.headers||new _a,this.status=void 0!==a.status?a.status:o,this.statusText=a.statusText||u,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class As extends Pu{constructor(a={}){super(a)}type=Oa.ResponseHeader;clone(a={}){return new As({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Fi extends Pu{body;constructor(a={}){super(a),this.body=void 0!==a.body?a.body:null}type=Oa.Response;clone(a={}){return new Fi({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class ji extends Pu{name="HttpErrorResponse";message;error;ok=!1;constructor(a){super(a,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Nu(s,a){return{body:a,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect}}let id=(()=>{class s{handler;constructor(o){this.handler=o}request(o,u,d={}){let p;if(o instanceof Li)p=o;else{let B,Y;B=d.headers instanceof _a?d.headers:new _a(d.headers),d.params&&(Y=d.params instanceof li?d.params:new li({fromObject:d.params})),p=new Li(o,u,void 0!==d.body?d.body:null,{headers:B,context:d.context,params:Y,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache,keepalive:d.keepalive,priority:d.priority,cache:d.cache,mode:d.mode,redirect:d.redirect,credentials:d.credentials})}const b=D(p).pipe(br(B=>this.handler.handle(B)));if(o instanceof Li||"events"===d.observe)return b;const I=b.pipe((0,Xn.p)(B=>B instanceof Fi));switch(d.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return I.pipe((0,xt.T)(B=>{if(null!==B.body&&!(B.body instanceof ArrayBuffer))throw new T.buA(2806,!1);return B.body}));case"blob":return I.pipe((0,xt.T)(B=>{if(null!==B.body&&!(B.body instanceof Blob))throw new T.buA(2807,!1);return B.body}));case"text":return I.pipe((0,xt.T)(B=>{if(null!==B.body&&"string"!=typeof B.body)throw new T.buA(2808,!1);return B.body}));default:return I.pipe((0,xt.T)(B=>B.body))}case"response":return I;default:throw new T.buA(2809,!1)}}delete(o,u={}){return this.request("DELETE",o,u)}get(o,u={}){return this.request("GET",o,u)}head(o,u={}){return this.request("HEAD",o,u)}jsonp(o,u){return this.request("JSONP",o,{params:(new li).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,u={}){return this.request("OPTIONS",o,u)}patch(o,u,d={}){return this.request("PATCH",o,Nu(d,u))}post(o,u,d={}){return this.request("POST",o,Nu(d,u))}put(o,u,d={}){return this.request("PUT",o,Nu(d,u))}static \u0275fac=function(u){return new(u||s)(T.KVO(xu))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const ud=new T.nKC("");function dd(s,a){return a(s)}const ju=new T.nKC(""),xh=new T.nKC(""),Ih=new T.nKC("",{providedIn:"root",factory:()=>!0});let Ms=(()=>{class s extends xu{backend;injector;chain=null;pendingTasks=(0,T.WQX)(T.u5s);contributeToStability=(0,T.WQX)(Ih);constructor(o,u){super(),this.backend=o,this.injector=u}handle(o){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(ju),...this.injector.get(xh,[])]));this.chain=u.reduceRight((d,p)=>function ov(s,a,o){return(u,d)=>(0,T.N4e)(o,()=>a(u,p=>s(p,d)))}(d,p,this.injector),dd)}if(this.contributeToStability){const u=this.pendingTasks.add();return this.chain(o,d=>this.backend.handle(d)).pipe(di(u))}return this.chain(o,u=>this.backend.handle(u))}static \u0275fac=function(u){return new(u||s)(T.KVO(Iu),T.KVO(T.uvJ))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const Oh=/^\)\]\}',?\n/,cv=RegExp(`^${Ou}:`,"m");let hd=(()=>{class s{xhrFactory;constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new T.buA(-2800,!1);const u=this.xhrFactory;return D(null).pipe(nn(()=>new Lr.c(p=>{const b=u.build();if(b.open(o.method,o.urlWithParams),o.withCredentials&&(b.withCredentials=!0),o.headers.forEach((dt,bt)=>b.setRequestHeader(dt,bt.join(","))),o.headers.has("Accept")||b.setRequestHeader("Accept",Vf),!o.headers.has(Ni)){const dt=o.detectContentTypeHeader();null!==dt&&b.setRequestHeader(Ni,dt)}if(o.timeout&&(b.timeout=o.timeout),o.responseType){const dt=o.responseType.toLowerCase();b.responseType="json"!==dt?dt:"text"}const I=o.serializeBody();let B=null;const Y=()=>{if(null!==B)return B;const dt=b.statusText||"OK",bt=new _a(b.getAllResponseHeaders()),jt=function dv(s){return"responseURL"in s&&s.responseURL?s.responseURL:cv.test(s.getAllResponseHeaders())?s.getResponseHeader(Ou):null}(b)||o.url;return B=new As({headers:bt,status:b.status,statusText:dt,url:jt}),B},Me=()=>{let{headers:dt,status:bt,statusText:jt,url:Kt}=Y(),Ot=null;204!==bt&&(Ot=typeof b.response>"u"?b.responseText:b.response),0===bt&&(bt=Ot?200:0);let Ur=bt>=200&&bt<300;if("json"===o.responseType&&"string"==typeof Ot){const Vr=Ot;Ot=Ot.replace(Oh,"");try{Ot=""!==Ot?JSON.parse(Ot):null}catch(rn){Ot=Vr,Ur&&(Ur=!1,Ot={error:rn,text:Ot})}}Ur?(p.next(new Fi({body:Ot,headers:dt,status:bt,statusText:jt,url:Kt||void 0})),p.complete()):p.error(new ji({error:Ot,headers:dt,status:bt,statusText:jt,url:Kt||void 0}))},Oe=dt=>{const{url:bt}=Y(),jt=new ji({error:dt,status:b.status||0,statusText:b.statusText||"Unknown Error",url:bt||void 0});p.error(jt)};let We=Oe;o.timeout&&(We=dt=>{const{url:bt}=Y(),jt=new ji({error:new DOMException("Request timed out","TimeoutError"),status:b.status||0,statusText:b.statusText||"Request timeout",url:bt||void 0});p.error(jt)});let st=!1;const Xe=dt=>{st||(p.next(Y()),st=!0);let bt={type:Oa.DownloadProgress,loaded:dt.loaded};dt.lengthComputable&&(bt.total=dt.total),"text"===o.responseType&&b.responseText&&(bt.partialText=b.responseText),p.next(bt)},Ze=dt=>{let bt={type:Oa.UploadProgress,loaded:dt.loaded};dt.lengthComputable&&(bt.total=dt.total),p.next(bt)};return b.addEventListener("load",Me),b.addEventListener("error",Oe),b.addEventListener("timeout",We),b.addEventListener("abort",Oe),o.reportProgress&&(b.addEventListener("progress",Xe),null!==I&&b.upload&&b.upload.addEventListener("progress",Ze)),b.send(I),p.next({type:Oa.Sent}),()=>{b.removeEventListener("error",Oe),b.removeEventListener("abort",Oe),b.removeEventListener("load",Me),b.removeEventListener("timeout",We),o.reportProgress&&(b.removeEventListener("progress",Xe),null!==I&&b.upload&&b.upload.removeEventListener("progress",Ze)),b.readyState!==b.DONE&&b.abort()}})))}static \u0275fac=function(u){return new(u||s)(T.KVO(z))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const fo=new T.nKC(""),pd=new T.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Xf=new T.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Uu{}let Ph=(()=>{class s{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(o,u){this.doc=o,this.cookieName=u}getToken(){const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i(o,this.cookieName),this.lastCookieString=o),this.lastToken}static \u0275fac=function(u){return new(u||s)(T.KVO(T.qQL),T.KVO(pd))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();function Yf(s,a){const o=s.url.toLowerCase();if(!(0,T.WQX)(fo)||"GET"===s.method||"HEAD"===s.method||o.startsWith("http://")||o.startsWith("https://"))return a(s);const u=(0,T.WQX)(Uu).getToken(),d=(0,T.WQX)(Xf);return null!=u&&!s.headers.has(d)&&(s=s.clone({headers:s.headers.set(d,u)})),a(s)}var Lh=V(3077),gd=V(130),oy=V(5343);const ui=new Lr.c(oy.l),vd="Service workers are disabled or not supported by this browser";class Vu{serviceWorker;worker;registration;events;constructor(a,o){if(this.serviceWorker=a,a){let u=null;const d=new $t.B;this.worker=new Lr.c(Y=>(null!==u&&Y.next(u),d.subscribe(Me=>Y.next(Me))));const p=()=>{const{controller:Y}=a;null!==Y&&(u=Y,d.next(u))};a.addEventListener("controllerchange",p),p(),this.registration=this.worker.pipe(nn(()=>a.getRegistration().then(Y=>{if(!Y)throw new T.buA(5601,!1);return Y})));const b=new $t.B;this.events=b.asObservable();const I=Y=>{const{data:Me}=Y;Me?.type&&b.next(Me)};a.addEventListener("message",I),o?.get(fe.o8S,null,{optional:!0})?.onDestroy(()=>{a.removeEventListener("controllerchange",p),a.removeEventListener("message",I)})}else this.worker=this.events=this.registration=new Lr.c(u=>u.error(new T.buA(5601,!1)))}postMessage(a,o){return new Promise(u=>{this.worker.pipe(Pn(1)).subscribe(d=>{d.postMessage({action:a,...o}),u()})})}postMessageWithOperation(a,o,u){const d=this.waitForOperationCompleted(u),p=this.postMessage(a,o);return Promise.all([p,d]).then(([,b])=>b)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(a){let o;return o="string"==typeof a?u=>u.type===a:u=>a.includes(u.type),this.events.pipe((0,Xn.p)(o))}nextEventOfType(a){return this.eventsOfType(a).pipe(Pn(1))}waitForOperationCompleted(a){return new Promise((o,u)=>{this.eventsOfType("OPERATION_COMPLETED").pipe((0,Xn.p)(d=>d.nonce===a),Pn(1),(0,xt.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).subscribe({next:o,error:u})})}get isEnabled(){return!!this.serviceWorker}}let ay=(()=>{class s{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new $t.B;constructor(o){if(this.sw=o,!o.isEnabled)return this.messages=ui,this.notificationClicks=ui,this.notificationCloses=ui,this.pushSubscriptionChanges=ui,void(this.subscription=ui);this.messages=this.sw.eventsOfType("PUSH").pipe((0,xt.T)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,xt.T)(d=>d.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe((0,xt.T)(d=>d.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe((0,xt.T)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,xt.T)(d=>d.pushManager));const u=this.pushManager.pipe(nn(d=>d.getSubscription()));this.subscription=new Lr.c(d=>{const p=u.subscribe(d),b=this.subscriptionChanges.subscribe(d);return()=>{p.unsubscribe(),b.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(vd));const u={userVisibleOnly:!0};let d=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(d.length));for(let b=0;b<d.length;b++)p[b]=d.charCodeAt(b);return u.applicationServerKey=p,new Promise((b,I)=>{this.pushManager.pipe(nn(B=>B.subscribe(u)),Pn(1)).subscribe({next:B=>{this.subscriptionChanges.next(B),b(B)},error:I})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(vd));const o=u=>{if(null===u)throw new T.buA(5602,!1);return u.unsubscribe().then(d=>{if(!d)throw new T.buA(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((u,d)=>{this.subscription.pipe(Pn(1),nn(o)).subscribe({next:u,error:d})})}decodeBase64(o){return atob(o)}static \u0275fac=function(u){return new(u||s)(T.KVO(Vu))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})(),iy=(()=>{class s{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled)return this.versionUpdates=ui,void(this.unrecoverable=ui);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(vd));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;const o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new T.buA(5601,!1));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(u){return new(u||s)(T.KVO(Vu))};static \u0275prov=T.jDH({token:s,factory:s.\u0275fac})}return s})();const jh=new T.nKC("");function sy(){const s=(0,T.WQX)($u);if(!("serviceWorker"in navigator)||!1===s.enabled)return;const a=(0,T.WQX)(jh),o=(0,T.WQX)(fe.SKi),u=(0,T.WQX)(fe.o8S);o.runOutsideAngular(()=>{const d=navigator.serviceWorker,p=()=>d.controller?.postMessage({action:"INITIALIZE"});d.addEventListener("controllerchange",p),u.onDestroy(()=>{d.removeEventListener("controllerchange",p)})}),o.runOutsideAngular(()=>{let d;const{registrationStrategy:p}=s;if("function"==typeof p)d=new Promise(b=>p().subscribe(()=>b()));else{const[b,...I]=(p||"registerWhenStable:30000").split(":");switch(b){case"registerImmediately":d=Promise.resolve();break;case"registerWithDelay":d=Bh(+I[0]||0);break;case"registerWhenStable":d=Promise.race([u.whenStable(),Bh(+I[0])]);break;default:throw new T.buA(5600,!1)}}d.then(()=>{u.destroyed||navigator.serviceWorker.register(a,{scope:s.scope}).catch(b=>console.error((0,T.OsK)(5604,!1)))})})}function Bh(s){return new Promise(a=>setTimeout(a,s))}function ly(s,a){return new Vu(!1!==s.enabled?navigator.serviceWorker:void 0,a)}class $u{enabled;scope;registrationStrategy}const $h=[{path:"",loadComponent:()=>V.e(762).then(V.bind(V,762)).then(s=>s.ScenarioComponent)},{path:"potions",loadComponent:()=>V.e(878).then(V.bind(V,8878)).then(s=>s.PotionsComponent)},{path:"**",redirectTo:""}];(function en(s,a){const o={rootComponent:s,..._n(a)};return(0,X.TL3)(o)})(Wp,{providers:[function _h(){return(0,fe._jY)("NgEagerAnimations"),[...Lf]}(),function Nh(...s){const a=[id,hd,Ms,{provide:xu,useExisting:Ms},{provide:Iu,useFactory:()=>(0,T.WQX)(ud,{optional:!0})??(0,T.WQX)(hd)},{provide:ju,useValue:Yf,multi:!0},{provide:fo,useValue:!0},{provide:Uu,useClass:Ph}];for(const o of s)a.push(...o.\u0275providers);return(0,T.EmA)(a)}(),function Lp(s,...a){return(0,T.EmA)([{provide:Zs,multi:!0,useValue:s},[],{provide:tt,useFactory:Fp,deps:[oi]},{provide:fe.iLQ,multi:!0,useFactory:Bp},a.map(o=>o.\u0275providers)])}($h,function su(){return function xa(s,a){return{\u0275kind:s,\u0275providers:a}}(6,[{provide:E.hb,useClass:Qn.fw}])}()),Nc.Vh,Lh.s,ka.J,gd.X,function Uh(s,a={}){return(0,T.EmA)([ay,iy,{provide:jh,useValue:s},{provide:$u,useValue:a},{provide:Vu,useFactory:ly,deps:[$u,T.zZn]},(0,fe.phd)(sy)])}("ngsw-worker.js",{enabled:!(0,X.naY)(),registrationStrategy:"registerWhenStable:30000"})]}).catch(s=>console.error(s))},9172:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>T});var E=V(8793),i=V(3794),z=V(9974);function T(...X){const ee=(0,i.lI)(X);return(0,z.N)((Z,ue)=>{(ee?(0,E.x)(X,Z,ee):(0,E.x)(X,Z)).subscribe(ue)})}},9270:(it,Ee,V)=>{"use strict";V.d(Ee,{f:()=>E});const E={setTimeout(i,z,...T){const{delegate:X}=E;return X?.setTimeout?X.setTimeout(i,z,...T):setTimeout(i,z,...T)},clearTimeout(i){const{delegate:z}=E;return(z?.clearTimeout||clearTimeout)(i)},delegate:void 0}},9293:it=>{function Ee(E,i,z,T,X,ee,Z){try{var ue=E[ee](Z),ye=ue.value}catch(pe){return void z(pe)}ue.done?i(ye):Promise.resolve(ye).then(T,X)}it.exports=function V(E){return function(){var i=this,z=arguments;return new Promise(function(T,X){var ee=E.apply(i,z);function Z(ye){Ee(ee,T,X,Z,ue,"next",ye)}function ue(ye){Ee(ee,T,X,Z,ue,"throw",ye)}Z(void 0)})}},it.exports.__esModule=!0,it.exports.default=it.exports},9786:(it,Ee,V)=>{"use strict";V.d(Ee,{Y:()=>z,l:()=>T});var E=V(1026);let i=null;function z(X){if(E.$.useDeprecatedSynchronousErrorHandling){const ee=!i;if(ee&&(i={errorThrown:!1,error:null}),X(),ee){const{errorThrown:Z,error:ue}=i;if(i=null,Z)throw ue}}else X()}function T(X){E.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=X)}},9858:(it,Ee,V)=>{"use strict";V.d(Ee,{y:()=>i});var E=V(8071);function i(z){return(0,E.T)(z?.then)}},9974:(it,Ee,V)=>{"use strict";V.d(Ee,{N:()=>z,S:()=>i});var E=V(8071);function i(T){return(0,E.T)(T?.lift)}function z(T){return X=>{if(i(X))return X.lift(function(ee){try{return T(ee,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}}},it=>{it(it.s=8889)}]);