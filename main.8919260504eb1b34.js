"use strict";(self.webpackChunkfrosthaven_assistant_angular=self.webpackChunkfrosthaven_assistant_angular||[]).push([[792],{425:()=>{function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;})(t);}function u(t,e,n){return(e=function Jf(t){var e=function dc(t,e){if("object"!=qn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===e?String:Number)(t);}(t,"string");return"symbol"==qn(e)?e:e+"";}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;}let mc;function pc(){return mc;}function Wn(t){const e=mc;return mc=t,e;}const zC=Symbol("NotFound");function hc(t){return t===zC||"\u0275NotFound"===(null==t?void 0:t.name);}function fc(t,e){return Object.is(t,e);}Error;let et=null,Na=!1,yc=1;const tt=Symbol("SIGNAL");function U(t){const e=et;return et=t,e;}const ko={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hl(t){if(Na)throw new Error("");if(null===et)return;et.consumerOnSignalRead(t);const e=et.producersTail;if(void 0!==e&&e.producer===t)return;let n;const r=et.recomputing;if(r&&(n=void 0!==e?e.nextProducer:et.producers,void 0!==n&&n.producer===t))return et.producersTail=n,void(n.lastReadVersion=t.version);const o=t.consumersTail;if(void 0!==o&&o.consumer===et&&(!r||function qC(t,e){const n=e.producersTail;if(void 0!==n){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer;}while(void 0!==r);}return!1;}(o,et)))return;const a=Do(et),i={producer:t,consumer:et,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};et.producersTail=i,void 0!==e?e.nextProducer=i:et.producers=i,a&&ny(t,i);}function Aa(t){if((!Do(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==yc)){if(!t.producerMustRecompute(t)&&!yl(t))return void fl(t);t.producerRecomputeValue(t),fl(t);}}function ey(t){if(void 0===t.consumers)return;const e=Na;Na=!0;try{for(let n=t.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||GC(r);}}finally{Na=e;}}function ty(){var t;return!1!==(null===(t=et)||void 0===t?void 0:t.consumerAllowSignalWrites);}function GC(t){var e;t.dirty=!0,ey(t),null===(e=t.consumerMarkedDirty)||void 0===e||e.call(t,t);}function fl(t){t.dirty=!1,t.lastCleanEpoch=yc;}function Co(t){return t&&(t.producersTail=void 0,t.recomputing=!0),U(t);}function Ra(t,e){if(U(e),!t)return;t.recomputing=!1;const n=t.producersTail;let r=void 0!==n?n.nextProducer:t.producers;if(void 0!==r){if(Do(t))do{r=_c(r);}while(void 0!==r);void 0!==n?n.nextProducer=void 0:t.producers=void 0;}}function yl(t){for(let e=t.producers;void 0!==e;e=e.nextProducer){const n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Aa(n),r!==n.version))return!0;}return!1;}function vl(t){if(Do(t)){let e=t.producers;for(;void 0!==e;)e=_c(e);}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0;}function ny(t,e){const n=t.consumersTail,r=Do(t);if(void 0!==n?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;void 0!==o;o=o.nextProducer)ny(o.producer,o);}function _c(t){const e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:e.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(e.consumers=r,!Do(e)){let a=e.producers;for(;void 0!==a;)a=_c(a);}return n;}function Do(t){return t.consumerIsAlwaysLive||void 0!==t.consumers;}function bc(t){var e;null===(e=null)||void 0===e||e(t);}const Mr=Symbol("UNSET"),Eo=Symbol("COMPUTING"),Kn=Symbol("ERRORED"),KC={...ko,value:Mr,dirty:!0,error:null,equal:fc,kind:"computed",producerMustRecompute:t=>t.value===Mr||t.value===Eo,producerRecomputeValue(t){if(t.value===Eo)throw new Error("");const e=t.value;t.value=Eo;const n=Co(t);let r,o=!1;try{r=t.computation(),U(null),o=e!==Mr&&e!==Kn&&r!==Kn&&t.equal(e,r);}catch(a){r=Kn,t.error=a;}finally{Ra(t,n);}o?t.value=e:(t.value=r,t.version++);}};let ry=function QC(){throw new Error();};function oy(t){ry(t);}function ZC(t,e){const n=Object.create(iy);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function XC(t){return hl(t),t.value;}(n);return r[tt]=n,bc(n),[r,i=>wc(n,i),i=>function ay(t,e){ty()||oy(t),wc(t,e(t.value));}(n,i)];}function wc(t,e){ty()||oy(t),t.equal(t.value,e)||(t.value=e,function JC(t){var e;t.version++,function UC(){yc++;}(),ey(t),null===(e=null)||void 0===e||e(t);}(t));}const iy={...ko,equal:fc,value:void 0,kind:"signal"};function Fe(t){return"function"==typeof t;}function ly(t){const n=t(r=>{Error.call(r),r.stack=new Error().stack;});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n;}const kc=ly(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n;});function Cc(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1);}}class Mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null;}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r();}catch(a){e=a instanceof kc?a.errors:[a];}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const a of o)try{cy(a);}catch(i){e=null!=e?e:[],i instanceof kc?e=[...e,...i.errors]:e.push(i);}}if(e)throw new kc(e);}}add(e){var n;if(e&&e!==this)if(this.closed)cy(e);else{if(e instanceof Mt){if(e.closed||e._hasParent(this))return;e._addParent(this);}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e);}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e);}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e;}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Cc(n,e);}remove(e){const{_finalizers:n}=this;n&&Cc(n,e),e instanceof Mt&&e._removeParent(this);}}Mt.EMPTY=(()=>{const t=new Mt();return t.closed=!0,t;})();const sy=Mt.EMPTY;function uy(t){return t instanceof Mt||t&&"closed"in t&&Fe(t.remove)&&Fe(t.add)&&Fe(t.unsubscribe);}function cy(t){Fe(t)?t():t.unsubscribe();}const Ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_l={setTimeout(t,e,...n){const{delegate:r}=_l;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n);},clearTimeout(t){const{delegate:e}=_l;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t);},delegate:void 0};function dy(t){_l.setTimeout(()=>{const{onUnhandledError:e}=Ir;if(!e)throw t;e(t);});}function Dc(){}const e4=Ec("C",void 0,void 0);function Ec(t,e,n){return{kind:t,value:e,error:n};}let Tr=null;function bl(t){if(Ir.useDeprecatedSynchronousErrorHandling){const e=!Tr;if(e&&(Tr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Tr;if(Tr=null,n)throw r;}}else t();}class xc extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uy(e)&&e.add(this)):this.destination=l4;}static create(e,n,r){return new Mc(e,n,r);}next(e){this.isStopped?Ic(function n4(t){return Ec("N",t,void 0);}(e),this):this._next(e);}error(e){this.isStopped?Ic(function t4(t){return Ec("E",void 0,t);}(e),this):(this.isStopped=!0,this._error(e));}complete(){this.isStopped?Ic(e4,this):(this.isStopped=!0,this._complete());}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null);}_next(e){this.destination.next(e);}_error(e){try{this.destination.error(e);}finally{this.unsubscribe();}}_complete(){try{this.destination.complete();}finally{this.unsubscribe();}}}const o4=Function.prototype.bind;function Sc(t,e){return o4.call(t,e);}class a4{constructor(e){this.partialObserver=e;}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e);}catch(r){wl(r);}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e);}catch(r){wl(r);}else wl(e);}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete();}catch(n){wl(n);}}}class Mc extends xc{constructor(e,n,r){let o;if(super(),Fe(e)||!e)o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let a;this&&Ir.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Sc(e.next,a),error:e.error&&Sc(e.error,a),complete:e.complete&&Sc(e.complete,a)}):o=e;}this.destination=new a4(o);}}function wl(t){Ir.useDeprecatedSynchronousErrorHandling?function r4(t){Ir.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=t);}(t):dy(t);}function Ic(t,e){const{onStoppedNotification:n}=Ir;n&&_l.setTimeout(()=>n(t,e));}const l4={closed:!0,next:Dc,error:function i4(t){throw t;},complete:Dc},Tc="function"==typeof Symbol&&Symbol.observable||"@@observable";function s4(t){return t;}let st=(()=>{class t{constructor(n){n&&(this._subscribe=n);}lift(n){const r=new t();return r.source=this,r.operator=n,r;}subscribe(n,r,o){const a=function c4(t){return t&&t instanceof xc||function u4(t){return t&&Fe(t.next)&&Fe(t.error)&&Fe(t.complete);}(t)&&uy(t);}(n)?n:new Mc(n,r,o);return bl(()=>{const{operator:i,source:l}=this;a.add(i?i.call(a,l):l?this._subscribe(a):this._trySubscribe(a));}),a;}_trySubscribe(n){try{return this._subscribe(n);}catch(r){n.error(r);}}forEach(n,r){return new(r=py(r))((o,a)=>{const i=new Mc({next:l=>{try{n(l);}catch(s){a(s),i.unsubscribe();}},error:a,complete:o});this.subscribe(i);});}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n);}[Tc](){return this;}pipe(...n){return function my(t){return 0===t.length?s4:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n);};}(n)(this);}toPromise(n){return new(n=py(n))((r,o)=>{let a;this.subscribe(i=>a=i,i=>o(i),()=>r(a));});}}return t.create=e=>new t(e),t;})();function py(t){var e;return null!==(e=null!=t?t:Ir.Promise)&&void 0!==e?e:Promise;}const d4=ly(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed";});let Qn=(()=>{class t extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null;}lift(n){const r=new hy(this,this);return r.operator=n,r;}_throwIfClosed(){if(this.closed)throw new d4();}next(n){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n);}});}error(n){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n);}});}complete(){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete();}});}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null;}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0;}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n);}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n);}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:a}=this;return r||o?sy:(this.currentObservers=null,a.push(n),new Mt(()=>{this.currentObservers=null,Cc(a,n);}));}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:a}=this;r?n.error(o):a&&n.complete();}asObservable(){const n=new st();return n.source=this,n;}}return t.create=(e,n)=>new hy(e,n),t;})();class hy extends Qn{constructor(e,n){super(),this.destination=e,this.source=n;}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e);}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e);}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e);}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:sy;}}class xo extends Qn{constructor(e){super(),this._value=e;}get value(){return this.getValue();}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n;}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r;}next(e){super.next(this._value=e);}}var fy;const yy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class b extends Error{constructor(e,n){super(function nn(t,e){return`${function m4(t){return`NG0${Math.abs(t)}`;}(t)}${e?": "+e:""}`;}(e,n)),u(this,"code",void 0),this.code=e;}}const Te=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("");}function p4(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);}function Ht(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(Ht).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n;}function Nc(t,e){return t?e?`${t} ${e}`:t:e||"";}const h4=ae({__forward_ref__:ae});function ge(t){return t.__forward_ref__=ge,t.toString=function(){return Ht(this());},t;}function Y(t){return kl(t)?t():t;}function kl(t){return"function"==typeof t&&t.hasOwnProperty(h4)&&t.__forward_ref__===ge;}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0};}function So(t){return{providers:t.providers||[],imports:t.imports||[]};}function Cl(t){return function b4(t,e){return t.hasOwnProperty(e)&&t[e]||null;}(t,El);}function Dl(t){return t&&t.hasOwnProperty(Ac)?t[Ac]:null;}const El=ae({ɵprov:ae}),Ac=ae({ɵinj:ae});class S{constructor(e,n){u(this,"_desc",void 0),u(this,"ngMetadataName","InjectionToken"),u(this,"\u0275prov",void 0),this._desc=e,this.ɵprov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ɵprov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}));}get multi(){return this;}toString(){return`InjectionToken ${this._desc}`;}}function Pc(t){return t&&!!t.ɵproviders;}const Oc=ae({ɵcmp:ae}),E4=ae({ɵdir:ae}),x4=ae({ɵpipe:ae}),Ar=ae({ɵfac:ae}),Fa=ae({__NG_ELEMENT_ID__:ae}),_y=ae({__NG_ENV_ID__:ae});function W(t){return"string"==typeof t?t:null==t?"":String(t);}const Fc=ae({ngErrorCode:ae}),by=ae({ngErrorMessage:ae}),Mo=ae({ngTokenPath:ae});function Lc(t,e){return ky("",-200,e);}function jc(t,e){throw new b(-201,!1);}function ky(t,e,n){const r=new b(e,t);return r[Fc]=e,r[by]=t,n&&(r[Mo]=n),r;}let Vc;function Cy(){return Vc;}function bt(t){const e=Vc;return Vc=t,e;}function Dy(t,e,n){const r=Cl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void jc();}const Rr={},Bc="__NG_DI_FLAG__";class A4{constructor(e){u(this,"injector",void 0),this.injector=e;}retrieve(e,n){const r=La(n)||0;try{return this.injector.get(e,8&r?null:Rr,r);}catch(o){if(hc(o))return o;throw o;}}}function R4(t,e=0){const n=pc();if(void 0===n)throw new b(-203,!1);if(null===n)return Dy(t,void 0,e);{const r=function P4(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)};}(e),o=n.retrieve(t,r);if(hc(o)){if(r.optional)return null;throw o;}return o;}}function V(t,e=0){return(Cy()||R4)(Y(t),e);}function A(t,e){return V(t,La(e));}function La(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4);}function $c(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let o,a=0;for(let i=0;i<r.length;i++){const l=r[i],s=O4(l);"number"==typeof s?-1===s?o=l.token:a|=s:o=l;}e.push(V(o,a));}else e.push(V(r));}return e;}function ja(t,e){return t[Bc]=e,t.prototype[Bc]=e,t;}function O4(t){return t[Bc];}function Pr(t,e){return t.hasOwnProperty(Ar)?t[Ar]:null;}function Io(t,e){t.forEach(n=>Array.isArray(n)?Io(n,e):e(n));}function xy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n);}function xl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0];}function Ml(t,e,n){let r=Va(t,e);return r>=0?t[1|r]=n:(r=~r,function My(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r;}}(t,r,e,n)),r;}function Hc(t,e){const n=Va(t,e);if(n>=0)return t[1|n];}function Va(t,e){return function L4(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){const a=r+(o-r>>1),i=t[a<<n];if(e===i)return a<<n;i>e?o=a:r=a+1;}return~(o<<n);}(t,e,1);}const mn={},_e=[],Or=new S(""),Iy=new S("",-1),zc=new S("");class Il{get(e,n=Rr){if(n===Rr){const o=ky("",-201);throw o.name="\u0275NotFound",o;}return n;}}function ie(t){return t[Oc]||null;}function ut(t){return t[E4]||null;}function rn(t){return t[x4]||null;}function V4(...t){return{ɵproviders:qc(0,t),ɵfromNgModule:!0};}function qc(t,...e){const n=[],r=new Set();let o;const a=i=>{n.push(i);};return Io(e,i=>{const l=i;Tl(l,a,[],r)&&(o||(o=[]),o.push(l));}),void 0!==o&&Ty(o,a),n;}function Ty(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:o}=t[n];Wc(o,a=>{e(a,r);});}}function Tl(t,e,n,r){if(!(t=Y(t)))return!1;let o=null,a=Dl(t);const i=!a&&ie(t);if(a||i){if(i&&!i.standalone)return!1;o=t;}else{const s=t.ngModule;if(a=Dl(s),!a)return!1;o=s;}const l=r.has(o);if(i){if(l)return!1;if(r.add(o),i.dependencies){const s="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const c of s)Tl(c,e,n,r);}}else{if(!a)return!1;{if(null!=a.imports&&!l){let c;r.add(o);try{Io(a.imports,d=>{Tl(d,e,n,r)&&(c||(c=[]),c.push(d));});}finally{}void 0!==c&&Ty(c,e);}if(!l){const c=Pr(o)||(()=>new o());e({provide:o,useFactory:c,deps:_e},o),e({provide:zc,useValue:o,multi:!0},o),e({provide:Or,useValue:()=>V(o),multi:!0},o);}const s=a.providers;if(null!=s&&!l){const c=t;Wc(s,d=>{e(d,c);});}}}return o!==t&&void 0!==t.providers;}function Wc(t,e){for(let n of t)Pc(n)&&(n=n.ɵproviders),Array.isArray(n)?Wc(n,e):e(n);}const B4=ae({provide:String,useValue:ae});function Kc(t){return null!==t&&"object"==typeof t&&B4 in t;}function Dn(t){return"function"==typeof t;}const Qc=new S(""),Nl={},Py={};let Yc;function Zc(){return void 0===Yc&&(Yc=new Il()),Yc;}class Tt{}class Fr extends Tt{get destroyed(){return this._destroyed;}constructor(e,n,r,o){super(),u(this,"parent",void 0),u(this,"source",void 0),u(this,"scopes",void 0),u(this,"records",new Map()),u(this,"_ngOnDestroyHooks",new Set()),u(this,"_onDestroyHooks",[]),u(this,"_destroyed",!1),u(this,"injectorDefTypes",void 0),this.parent=n,this.source=r,this.scopes=o,Jc(e,i=>this.processProvider(i)),this.records.set(Iy,To(void 0,this)),o.has("environment")&&this.records.set(Tt,To(void 0,this));const a=this.records.get(Qc);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(zc,_e,{self:!0}));}retrieve(e,n){const r=La(n)||0;try{return this.get(e,Rr,r);}catch(o){if(hc(o))return o;throw o;}}destroy(){$a(this),this._destroyed=!0;const e=U(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r();}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(e);}}onDestroy(e){return $a(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e);}runInContext(e){$a(this);const n=Wn(this),r=bt(void 0);try{return e();}finally{Wn(n),bt(r);}}get(e,n=Rr,r){if($a(this),e.hasOwnProperty(_y))return e[_y](this);const o=La(r),i=Wn(this),l=bt(void 0);try{if(!(4&o)){let c=this.records.get(e);if(void 0===c){const d=function G4(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName;}(e)&&Cl(e);c=d&&this.injectableDefInScope(d)?To(Xc(e),Nl):null,this.records.set(e,c);}if(null!=c)return this.hydrate(e,c,o);}return(2&o?Zc():this.parent).get(e,n=8&o&&n===Rr?null:n);}catch(s){const c=function T4(t){return t[Fc];}(s);throw-200===c||-201===c?new b(c,null):s;}finally{bt(l),Wn(i);}}resolveInjectorInitializers(){const e=U(null),n=Wn(this),r=bt(void 0);try{const a=this.get(Or,_e,{self:!0});for(const i of a)i();}finally{Wn(n),bt(r),U(e);}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`;}processProvider(e){let n=Dn(e=Y(e))?e:Y(e&&e.provide);const r=function H4(t){return Kc(t)?To(void 0,t.useValue):To(Oy(t),Nl);}(e);if(!Dn(e)&&!0===e.multi){let o=this.records.get(n);o||(o=To(void 0,Nl,!0),o.factory=()=>$c(o.multi),this.records.set(n,o)),n=e,o.multi.push(e);}this.records.set(n,r);}hydrate(e,n,r){const o=U(null);try{if(n.value===Py)throw Lc(Ht(e));return n.value===Nl&&(n.value=Py,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function U4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy;}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value;}finally{U(o);}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n);}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1);}}function Xc(t){const e=Cl(t),n=null!==e?e.factory:Pr(t);if(null!==n)return n;if(t instanceof S)throw new b(204,!1);if(t instanceof Function)return function $4(t){if(t.length>0)throw new b(204,!1);const n=function w4(t){var e;return(null!==(e=null==t?void 0:t[El])&&void 0!==e?e:null)||null;}(t);return null!==n?()=>n.factory(t):()=>new t();}(t);throw new b(204,!1);}function Oy(t,e,n){let r;if(Dn(t)){const o=Y(t);return Pr(o)||Xc(o);}if(Kc(t))r=()=>Y(t.useValue);else if(function Ay(t){return!(!t||!t.useFactory);}(t))r=()=>t.useFactory(...$c(t.deps||[]));else if(function Ny(t){return!(!t||!t.useExisting);}(t))r=(o,a)=>V(Y(t.useExisting),void 0!==a&&8&a?8:void 0);else{const o=Y(t&&(t.useClass||t.provide));if(!function z4(t){return!!t.deps;}(t))return Pr(o)||Xc(o);r=()=>new o(...$c(t.deps));}return r;}function $a(t){if(t.destroyed)throw new b(205,!1);}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0};}function Jc(t,e){for(const n of t)Array.isArray(n)?Jc(n,e):n&&Pc(n)?Jc(n.ɵproviders,e):e(n);}function ed(t,e){let n;t instanceof Fr?($a(t),n=t):n=new A4(t);const o=Wn(n),a=bt(void 0);try{return e();}finally{Wn(o),bt(a);}}const L=26;function xe(t){return Array.isArray(t)&&"object"==typeof t[1];}function ct(t){return Array.isArray(t)&&!0===t[1];}function Ly(t){return!!(4&t.flags);}function er(t){return t.componentOffset>-1;}function Oo(t){return!(1&~t.flags);}function At(t){return!!t.template;}function tr(t){return!!(512&t[2]);}function xn(t){return!(256&~t[2]);}function Qe(t){for(;Array.isArray(t);)t=t[0];return t;}function Fo(t,e){return Qe(e[t]);}function dt(t,e){return Qe(e[t.index]);}function Lo(t,e){return t.data[e];}function $r(t,e){return t[e];}function mt(t,e){const n=e[t];return xe(n)?n:n[0];}function ad(t){return!(128&~t[2]);}function ot(t,e){return null==e?null:t[e];}function zy(t){t[17]=0;}function Uy(t){1024&t[2]||(t[2]|=1024,ad(t)&&jo(t));}function Ol(t){var e;return!!(9216&t[2]||null!==(e=t[24])&&void 0!==e&&e.dirty);}function id(t){var e;null===(e=t[10].changeDetectionScheduler)||void 0===e||e.notify(8),64&t[2]&&(t[2]|=1024),Ol(t)&&jo(t);}function jo(t){var e;null===(e=t[10].changeDetectionScheduler)||void 0===e||e.notify(0);let n=Sn(t);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,ad(n));)n=Sn(n);}function Fl(t,e){if(xn(t))throw new b(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e);}function Sn(t){const e=t[3];return ct(e)?e[3]:e;}function qy(t){var e;return null!==(e=t[7])&&void 0!==e?e:t[7]=[];}function Wy(t){var e;return null!==(e=t.cleanup)&&void 0!==e?e:t.cleanup=[];}const G={lFrame:sv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ud=!1;function Ky(){G.lFrame.elementDepthCount--;}function cd(){return G.bindingsEnabled;}function Yy(t){return G.skipHydrationRootTNode===t;}function Zy(){G.skipHydrationRootTNode=null;}function w(){return G.lFrame.lView;}function Z(){return G.lFrame.tView;}function Rt(t){return G.lFrame.contextLView=t,t[8];}function Pt(t){return G.lFrame.contextLView=null,t;}function X(){let t=Xy();for(;null!==t&&64===t.type;)t=t.parent;return t;}function Xy(){return G.lFrame.currentTNode;}function Mn(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e;}function Jy(){return G.lFrame.isParent;}function rv(){return ud;}function Ll(t){const e=ud;return ud=t,e;}function pt(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e;}function Ot(){return G.lFrame.bindingIndex++;}function Tn(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n;}function oD(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,dd(e);}function dd(t){G.lFrame.currentDirectiveIndex=t;}function pd(){return G.lFrame.currentQueryIndex;}function jl(t){G.lFrame.currentQueryIndex=t;}function iD(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null;}function iv(t,e,n){if(4&n){let o=e,a=t;for(;!(o=o.parent,null!==o||1&n||(o=iD(a),null===o||(a=a[14],10&o.type))););if(null===o)return!1;e=o,t=a;}const r=G.lFrame=lv();return r.currentTNode=e,r.lView=t,!0;}function hd(t){const e=lv(),n=t[1];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1;}function lv(){const t=G.lFrame,e=null===t?null:t.child;return null===e?sv(t):e;}function sv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e;}function uv(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t;}const cv=uv;function fd(){const t=uv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0;}function Ye(){return G.lFrame.selectedIndex;}function Hr(t){G.lFrame.selectedIndex=t;}function fn(){const t=G.lFrame;return Lo(t.tView,t.selectedIndex);}function yd(){G.lFrame.currentNamespace="svg";}let dv=!0;function Vl(){return dv;}function Ua(t){dv=t;}function mv(t,e=null,n=null,r){const o=function pv(t,e=null,n=null,r,o=new Set()){const a=[n||_e,V4(t)];return r=r||("object"==typeof t?void 0:Ht(t)),new Fr(a,e||Zc(),r||null,o);}(t,e,n,r);return o.resolveInjectorInitializers(),o;}class ht{static create(e,n){if(Array.isArray(e))return mv({name:""},n,e,"");{var r;const o=null!==(r=e.name)&&void 0!==r?r:"";return mv({name:o},e.parent,e.providers,o);}}}fy=ht,u(ht,"THROW_IF_NOT_FOUND",Rr),u(ht,"NULL",new Il()),u(ht,"\u0275prov",j({token:fy,providedIn:"any",factory:()=>V(Iy)})),u(ht,"__NG_ELEMENT_ID__",-1);const yn=new S("");let Nn=(()=>{class t{}return u(t,"__NG_ELEMENT_ID__",mD),u(t,"__NG_ENV_ID__",e=>e),t;})();class hv extends Nn{constructor(e){super(),u(this,"_lView",void 0),this._lView=e;}get destroyed(){return xn(this._lView);}onDestroy(e){const n=this._lView;return Fl(n,e),()=>function ld(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1);}(n,e);}}function mD(){return new hv(w());}class Bo{constructor(){u(this,"_console",console);}handleError(e){this._console.error("ERROR",e);}}const An=new S("",{providedIn:"root",factory:()=>{const t=A(Tt);let e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n;}):(null!=e||(e=t.get(Bo)),e.handleError(n));};}}),fv={provide:Or,useValue:()=>{A(Bo);},multi:!0};function nr(t,e){const[n,r,o]=ZC(t,null==e?void 0:e.equal),a=n;return a.set=r,a.update=o,a.asReadonly=vd.bind(a),a;}function vd(){const t=this[tt];if(void 0===t.readonlyFn){const e=()=>this();e[tt]=t,t.readonlyFn=e;}return t.readonlyFn;}function vv(t){return function yv(t){return"function"==typeof t&&void 0!==t[tt];}(t)&&"function"==typeof t.set;}class zr{}const gv=new S("",{providedIn:"root",factory:()=>!1}),_v=new S(""),bv=new S("");let Ur=(()=>{var t;class e{constructor(){u(this,"taskId",0),u(this,"pendingTasks",new Set()),u(this,"destroyed",!1),u(this,"pendingTask",new xo(!1));}get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value;}get hasPendingTasksObservable(){return this.destroyed?new st(r=>{r.next(!1),r.complete();}):this.pendingTask;}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r;}has(r){return this.pendingTasks.has(r);}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1);}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe();}}return u(e,"\u0275prov",j({token:t=e,providedIn:"root",factory:()=>new t()})),e;})(),_d=(()=>{var t;class e{constructor(){u(this,"internalPendingTasks",A(Ur)),u(this,"scheduler",A(zr)),u(this,"errorHandler",A(An));}add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r));};}run(r){const o=this.add();r().catch(this.errorHandler).finally(o);}}return u(e,"\u0275prov",j({token:t=e,providedIn:"root",factory:()=>new t()})),e;})();function Ga(...t){}let wv=(()=>{class e{}return u(e,"\u0275prov",j({token:e,providedIn:"root",factory:()=>new fD()})),e;})();class fD{constructor(){u(this,"dirtyEffectCount",0),u(this,"queues",new Map());}add(e){this.enqueue(e),this.schedule(e);}schedule(e){e.dirty&&this.dirtyEffectCount++;}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--);}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set());const r=this.queues.get(n);r.has(e)||r.add(e);}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)null===n?e||(e=this.flushQueue(r)):e||(e=n.run(()=>this.flushQueue(r)));e||(this.dirtyEffectCount=0);}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n;}}let qa=null;function Wa(){return qa;}class vD{}function kv(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(a);}return null;}class Cv{}function Dv(t,e,n,r,o,a,i){try{var l=t[a](i),s=l.value;}catch(c){return void n(c);}l.done?e(s):Promise.resolve(s).then(r,o);}function Rn(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(s){Dv(a,r,o,i,l,"next",s);}function l(s){Dv(a,r,o,i,l,"throw",s);}i(void 0);});};}function rr(t){return e=>{if(function bD(t){return Fe(null==t?void 0:t.lift);}(e))return e.lift(function(n){try{return t(n,this);}catch(r){this.error(r);}});throw new TypeError("Unable to lift unknown Observable type");};}function Pn(t,e,n,r,o){return new wD(t,e,n,r,o);}class wD extends xc{constructor(e,n,r,o,a,i){super(e),this.onFinalize=a,this.shouldUnsubscribe=i,this._next=n?function(l){try{n(l);}catch(s){e.error(s);}}:super._next,this._error=o?function(l){try{o(l);}catch(s){e.error(s);}finally{this.unsubscribe();}}:super._error,this._complete=r?function(){try{r();}catch(l){e.error(l);}finally{this.unsubscribe();}}:super._complete;}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this));}}}function or(t,e){return rr((n,r)=>{let o=0;n.subscribe(Pn(r,a=>{r.next(t.call(e,a,o++));}));});}var bd;function On(t){return{toString:t}.toString();}const Ho="__parameters__";function Uo(t,e,n){return On(()=>{const r=function wd(t){return function(...n){if(t){const r=t(...n);for(const o in r)this[o]=r[o];}};}(e);function o(...a){if(this instanceof o)return r.apply(this,a),this;const i=new o(...a);return l.annotation=i,l;function l(s,c,d){const m=s.hasOwnProperty(Ho)?s[Ho]:Object.defineProperty(s,Ho,{value:[]})[Ho];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(i),s;}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o;});}const kd=ja(Uo("Optional"),8),Cd=ja(Uo("SkipSelf"),4);class AD{constructor(e,n,r){u(this,"previousValue",void 0),u(this,"currentValue",void 0),u(this,"firstChange",void 0),this.previousValue=e,this.currentValue=n,this.firstChange=r;}isFirstChange(){return this.firstChange;}}function Sv(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r;}const ar=(()=>{const t=()=>Mv;return t.ngInherit=!0,t;})();function Mv(t){return t.type.prototype.ngOnChanges&&(t.setInput=PD),RD;}function RD(){const t=Tv(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===mn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e);}}function PD(t,e,n,r,o){const a=this.declaredInputs[r],i=Tv(t)||function OD(t,e){return t[Iv]=e;}(t,{previous:mn,current:null}),l=i.current||(i.current={}),s=i.previous,c=s[a];l[a]=new AD(c&&c.currentValue,n,s===mn),Sv(t,e,o,n);}const Iv="__ngSimpleChanges__";function Tv(t){return t[Iv]||null;}const Gr=[],se=function(t,e=null,n){for(let r=0;r<Gr.length;r++)(0,Gr[r])(t,e,n);};function Nv(t,e){for(let c=e.directiveStart,d=e.directiveEnd;c<d;c++){const p=t.data[c].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:f,ngAfterViewInit:y,ngAfterViewChecked:_,ngOnDestroy:g}=p;var n,r,o,a,i,l,s;h&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-c,h),f&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(c,f),(null!==(o=t.contentCheckHooks)&&void 0!==o?o:t.contentCheckHooks=[]).push(c,f)),y&&(null!==(a=t.viewHooks)&&void 0!==a?a:t.viewHooks=[]).push(-c,y),_&&((null!==(i=t.viewHooks)&&void 0!==i?i:t.viewHooks=[]).push(c,_),(null!==(l=t.viewCheckHooks)&&void 0!==l?l:t.viewCheckHooks=[]).push(c,_)),null!=g&&(null!==(s=t.destroyHooks)&&void 0!==s?s:t.destroyHooks=[]).push(c,g);}}function $l(t,e,n){Av(t,e,3,n);}function Hl(t,e,n,r){(3&t[2])===n&&Av(t,e,n,r);}function Ed(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n);}function Av(t,e,n,r){const a=null!=r?r:-1,i=e.length-1;let l=0;for(let s=void 0!==r?65535&t[17]:0;s<i;s++)if("number"==typeof e[s+1]){if(l=e[s],null!=r&&l>=r)break;}else e[s]<0&&(t[17]+=65536),(l<a||-1==a)&&(BD(t,n,e,s),t[17]=(4294901760&t[17])+s+2),s++;}function Rv(t,e){se(4,t,e);const n=U(null);try{e.call(t);}finally{U(n),se(5,t,e);}}function BD(t,e,n,r){const o=n[r]<0,a=n[r+1],l=t[o?-n[r]:n[r]];o?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,Rv(l,a)):Rv(l,a);}class Qa{constructor(e,n,r,o){u(this,"factory",void 0),u(this,"name",void 0),u(this,"injectImpl",void 0),u(this,"resolving",!1),u(this,"canSeeViewProviders",void 0),u(this,"multi",void 0),u(this,"componentProviders",void 0),u(this,"index",void 0),u(this,"providerFactory",void 0),this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r;}}function Ov(t){return 3===t||4===t||6===t;}function Fv(t){return 64===t.charCodeAt(0);}function qo(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||Lv(t,n,o,0,-1===n||2===n?e[++r]:null);}}return t;}function Lv(t,e,n,r,o){let a=0,i=t.length;if(-1===e)i=-1;else for(;a<t.length;){const l=t[a++];if("number"==typeof l){if(l===e){i=-1;break;}if(l>e){i=a-1;break;}}}for(;a<t.length;){const l=t[a];if("number"==typeof l)break;if(l===n)return void(null!==o&&(t[a+1]=o));a++,null!==o&&a++;}-1!==i&&(t.splice(i,0,e),a=i+1),t.splice(a++,0,n),null!==o&&t.splice(a++,0,o);}function Sd(t){return-1!==t;}function Ya(t){return 32767&t;}function Za(t,e){let n=function UD(t){return t>>16;}(t),r=e;for(;n>0;)r=r[14],n--;return r;}let Md=!0;function zl(t){const e=Md;return Md=t,e;}let GD=0;const vn={};function Ul(t,e){const n=Bv(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Id(r.data,t),Id(e,null),Id(r.blueprint,null));const o=Gl(t,e),a=t.injectorIndex;if(Sd(o)){const i=Ya(o),l=Za(o,e),s=l[1].data;for(let c=0;c<8;c++)e[a+c]=l[i+c]|s[i+c];}return e[a+8]=o,a;}function Id(t,e){t.push(0,0,0,0,0,0,0,0,e);}function Bv(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex;}function Gl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){if(r=Wv(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16;}return-1;}function Td(t,e,n){!function qD(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fa)&&(r=n[Fa]),null==r&&(r=n[Fa]=GD++);const o=255&r;e.data[t+(o>>5)]|=1<<o;}(t,e,n);}function $v(t,e,n){if(8&n||void 0!==t)return t;jc();}function Hv(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=t[9],a=bt(void 0);try{return o?o.get(e,r,8&n):Dy(e,r,8&n);}finally{bt(a);}}return $v(r,0,n);}function zv(t,e,n,r=0,o){if(null!==t){if(2048&e[2]&&!(2&r)){const i=function ZD(t,e,n,r,o){let a=t,i=e;for(;null!==a&&null!==i&&2048&i[2]&&!tr(i);){const l=Uv(a,i,n,2|r,vn);if(l!==vn)return l;let s=a.parent;if(!s){const c=i[20];if(c){const d=c.get(n,vn,r);if(d!==vn)return d;}s=Wv(i),i=i[14];}a=s;}return o;}(t,e,n,r,vn);if(i!==vn)return i;}const a=Uv(t,e,n,r,vn);if(a!==vn)return a;}return Hv(e,n,r,o);}function Uv(t,e,n,r,o){const a=function QD(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fa)?t[Fa]:void 0;return"number"==typeof e?e>=0?255&e:YD:e;}(n);if("function"==typeof a){if(!iv(e,t,r))return 1&r?$v(o,0,r):Hv(e,n,r,o);try{let i;if(i=a(r),null!=i||8&r)return i;jc();}finally{cv();}}else if("number"==typeof a){let i=null,l=Bv(t,e),s=-1,c=1&r?e[15][5]:null;for((-1===l||4&r)&&(s=-1===l?Gl(t,e):e[l+8],-1!==s&&qv(r,!1)?(i=e[1],l=Ya(s),e=Za(s,e)):l=-1);-1!==l;){const d=e[1];if(Gv(a,l,d.data)){const m=KD(l,e,n,i,r,c);if(m!==vn)return m;}s=e[l+8],-1!==s&&qv(r,e[1].data[l+8]===c)&&Gv(a,l,e)?(i=d,l=Ya(s),e=Za(s,e)):l=-1;}}return o;}function KD(t,e,n,r,o,a){const i=e[1],l=i.data[t+8],d=ql(l,i,n,null==r?er(l)&&Md:r!=i&&!!(3&l.type),1&o&&a===l);return null!==d?Xa(e,i,d,l,o):vn;}function ql(t,e,n,r,o){const a=t.providerIndexes,i=e.data,l=1048575&a,s=t.directiveStart,d=a>>20,p=o?l+d:t.directiveEnd;for(let h=r?l:l+d;h<p;h++){const f=i[h];if(h<s&&n===f||h>=s&&f.type===n)return h;}if(o){const h=i[s];if(h&&At(h)&&h.type===n)return s;}return null;}function Xa(t,e,n,r,o){let a=t[n];const i=e.data;if(a instanceof Qa){const s=a;if(s.resolving)throw function ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t);}(i[n]),Lc();const c=zl(s.canSeeViewProviders);s.resolving=!0;const p=s.injectImpl?bt(s.injectImpl):null;iv(t,r,0);try{a=t[n]=s.factory(void 0,o,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VD(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=e.type.prototype;if(r){var i,l;const m=Mv(e);(null!==(i=n.preOrderHooks)&&void 0!==i?i:n.preOrderHooks=[]).push(t,m),(null!==(l=n.preOrderCheckHooks)&&void 0!==l?l:n.preOrderCheckHooks=[]).push(t,m);}var s,c,d;o&&(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(0-t,o),a&&((null!==(c=n.preOrderHooks)&&void 0!==c?c:n.preOrderHooks=[]).push(t,a),(null!==(d=n.preOrderCheckHooks)&&void 0!==d?d:n.preOrderCheckHooks=[]).push(t,a));}(n,i[n],e);}finally{null!==p&&bt(p),zl(c),s.resolving=!1,cv();}}return a;}function Gv(t,e,n){return!!(n[e+(t>>5)]&1<<t);}function qv(t,e){return!(2&t||1&t&&e);}class Re{constructor(e,n){u(this,"_tNode",void 0),u(this,"_lView",void 0),this._tNode=e,this._lView=n;}get(e,n,r){return zv(this._tNode,this._lView,e,La(r),n);}}function YD(){return new Re(X(),w());}function at(t){return On(()=>{const e=t.prototype.constructor,n=e[Ar]||Nd(e),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const a=o[Ar]||Nd(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o);}return a=>new a();});}function Nd(t){return kl(t)?()=>{const e=Nd(Y(t));return e&&e();}:Pr(t);}function Wv(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null;}function aE(){return Wo(X(),w());}function Wo(t,e){return new qt(dt(t,e));}let qt=(()=>{class t{constructor(n){u(this,"nativeElement",void 0),this.nativeElement=n;}}return u(t,"__NG_ELEMENT_ID__",aE),t;})();function Xv(t){return t instanceof qt?t.nativeElement:t;}function iE(){return this._results[Symbol.iterator]();}class lE{get changes(){var e;return null!==(e=this._changes)&&void 0!==e?e:this._changes=new Qn();}constructor(e=!1){u(this,"_emitDistinctChangesOnly",void 0),u(this,"dirty",!0),u(this,"_onDirty",void 0),u(this,"_results",[]),u(this,"_changesDetected",!1),u(this,"_changes",void 0),u(this,"length",0),u(this,"first",void 0),u(this,"last",void 0),u(this,Symbol.iterator,iE),this._emitDistinctChangesOnly=e;}get(e){return this._results[e];}map(e){return this._results.map(e);}filter(e){return this._results.filter(e);}find(e){return this._results.find(e);}reduce(e,n){return this._results.reduce(e,n);}forEach(e){this._results.forEach(e);}some(e){return this._results.some(e);}toArray(){return this._results.slice();}toString(){return this._results.toString();}reset(e,n){this.dirty=!1;const r=function zt(t){return t.flat(Number.POSITIVE_INFINITY);}(e);(this._changesDetected=!function F4(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],a=e[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1;}return!0;}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0]);}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this);}onDirty(e){this._onDirty=e;}setDirty(){var e;this.dirty=!0,null===(e=this._onDirty)||void 0===e||e.call(this);}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe());}}function Ja(t){return!(128&~t.flags);}var Kl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t;}(Kl||{});const Ql=new Map();let cE=0;function Od(t){Ql.delete(t[19]);}const Ld="__ngContext__";function kt(t,e){xe(e)?(t[Ld]=e[19],function mE(t){Ql.set(t[19],t);}(e)):t[Ld]=e;}function ug(t){return dg(t[12]);}function cg(t){return dg(t[4]);}function dg(t){for(;null!==t&&!ct(t);)t=t[4];return t;}let jd;const Zl=new S("",{providedIn:"root",factory:()=>PE}),PE="ng",gg=new S(""),Vd=new S("",{providedIn:"platform",factory:()=>"unknown"}),_g=new S(""),bg=new S("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Wr(){if(void 0!==jd)return jd;if(typeof document<"u")return document;throw new b(210,!1);}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null;}}),zE=new S("",{providedIn:"root",factory:()=>!1});function ts(t){return!(32&~t.flags);}function Ug(t,e){const n=t.contentQueries;if(null!==n){const r=U(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const l=t.data[i];jl(n[o]),l.contentQueries(2,e[i],i);}}}finally{U(r);}}}function nm(t,e,n){jl(0);const r=U(null);try{e(t,n);}finally{U(r);}}function rm(t,e,n){if(Ly(e)){const r=U(null);try{const a=e.directiveEnd;for(let i=e.directiveStart;i<a;i++){const l=t.data[i];l.contentQueries&&l.contentQueries(1,n[i],i);}}finally{U(r);}}}var Fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t;}(Fn||{});class Qg{constructor(e){u(this,"changingThisBreaksApplicationSecurity",void 0),this.changingThisBreaksApplicationSecurity=e;}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yy})`;}}function sr(t){return t instanceof Qg?t.changingThisBreaksApplicationSecurity:t;}const xx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t;}(Jo||{});function um(t){const e=function ai(){const t=w();return t&&t[10].sanitizer;}();return e?e.sanitize(Jo.URL,t)||"":function ri(t,e){const n=function kx(t){return t instanceof Qg&&t.getTypeName()||null;}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yy})`);}return n===e;}(t,"URL")?sr(t):function am(t){return(t=String(t)).match(xx)?t:"unsafe:"+t;}(W(t));}function rS(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const a=e.length;if(o+a===r||t.charCodeAt(o+a)<=32)return o;}n=o+1;}}const p1="ng-template";function oS(t,e,n,r){let o=0;if(r){for(;o<e.length&&"string"==typeof e[o];o+=2)if("class"===e[o]&&-1!==rS(e[o+1].toLowerCase(),n,0))return!0;}else if(mm(t))return!1;if(o=e.indexOf(1,o),o>-1){let a;for(;++o<e.length&&"string"==typeof(a=e[o]);)if(a.toLowerCase()===n)return!0;}return!1;}function mm(t){return 4===t.type&&t.value!==p1;}function aS(t,e,n){return e===(4!==t.type||n?t.value:p1);}function iS(t,e,n){let r=4;const o=t.attrs,a=null!==o?function uS(t){for(let e=0;e<t.length;e++)if(Ov(t[e]))return e;return t.length;}(o):0;let i=!1;for(let l=0;l<e.length;l++){const s=e[l];if("number"!=typeof s){if(!i)if(4&r){if(r=2|1&r,""!==s&&!aS(t,s,n)||""===s&&1===e.length){if(on(r))return!1;i=!0;}}else if(8&r){if(null===o||!oS(t,o,s,n)){if(on(r))return!1;i=!0;}}else{const c=e[++l],d=lS(s,o,mm(t),n);if(-1===d){if(on(r))return!1;i=!0;continue;}if(""!==c){let m;if(m=d>a?"":o[d+1].toLowerCase(),2&r&&c!==m){if(on(r))return!1;i=!0;}}}}else{if(!i&&!on(r)&&!on(s))return!1;if(i&&on(s))continue;i=!1,r=s|1&r;}}return on(r)||i;}function on(t){return!(1&t);}function lS(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let a=!1;for(;o<e.length;){const i=e[o];if(i===t)return o;if(3===i||6===i)a=!0;else{if(1===i||2===i){let l=e[++o];for(;"string"==typeof l;)l=e[++o];continue;}if(4===i)break;if(0===i){o+=4;continue;}}o+=a?1:2;}return-1;}return function cS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++;}return-1;}(e,t);}function h1(t,e,n=!1){for(let r=0;r<e.length;r++)if(iS(t,e[r],n))return!0;return!1;}function f1(t,e){return t?":not("+e.trim()+")":e;}function mS(t){let e=t[0],n=1,r=2,o="",a=!1;for(;n<t.length;){let i=t[n];if("string"==typeof i){if(2&r){const l=t[++n];o+="["+i+(l.length>0?'="'+l+'"':"")+"]";}else 8&r?o+="."+i:4&r&&(o+=" "+i);}else""!==o&&!on(i)&&(e+=f1(a,o),o=""),r=i,a=a||!on(r);n++;}return""!==o&&(e+=f1(a,o)),e;}const de={};function ds(t,e,n){return t.createElement(e,n);}function Kr(t,e,n,r,o){t.insertBefore(e,n,r,o);}function v1(t,e,n){t.appendChild(e,n);}function g1(t,e,n,r,o){null!==r?Kr(t,e,n,r,o):v1(t,e,n);}function b1(t,e,n){const{mergedAttrs:r,classes:o,styles:a}=n;null!==r&&function zD(t,e,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],i=n[r++],l=n[r++];t.setAttribute(e,i,l,a);}else{const a=o,i=n[++r];Fv(a)?t.setProperty(e,a,i):t.setAttribute(e,a,i),r++;}}}(t,e,r),null!==o&&function yS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n);}(t,e,o),null!==a&&function fS(t,e,n){t.setAttribute(e,"style",n);}(t,e,a);}function fm(t,e,n,r,o,a,i,l,s,c,d){const m=L+r,p=m+o,h=function vS(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:de);return n;}(m,p),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:l,declTNode:e,data:h.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:s,consts:f,incompleteFirstPass:!1,ssrId:d};}function ms(t,e,n,r,o,a,i,l,s,c,d){const m=e.blueprint.slice();return m[0]=o,m[2]=1228|r,(null!==c||t&&2048&t[2])&&(m[2]|=2048),zy(m),m[3]=m[14]=t,m[8]=n,m[10]=i||t&&t[10],m[11]=l||t&&t[11],m[9]=s||t&&t[9]||null,m[5]=a,m[19]=function dE(){return cE++;}(),m[6]=d,m[20]=c,m[15]=2==e.type?t[15]:m,m;}function ym(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e;}function li(t,e,n,r){if(0===n)return-1;const o=e.length;for(let a=0;a<n;a++)e.push(r),t.blueprint.push(r),t.data.push(null);return o;}function vm(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e;}function M(t=1){k1(Z(),w(),Ye()+t,!1);}function k1(t,e,n,r){if(!r)if(3&~e[2]){const a=t.preOrderHooks;null!==a&&Hl(e,a,0,n);}else{const a=t.preOrderCheckHooks;null!==a&&$l(e,a,n);}Hr(n);}var ps=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t;}(ps||{});function si(t,e,n,r){const o=U(null);try{const[a,i,l]=t.inputs[n];let s=null;0!==(i&ps.SignalBased)&&(s=e[a][tt]),null!==s&&void 0!==s.transformFn?r=s.transformFn(r):null!==l&&(r=l.call(e,r)),null!==t.setInput?t.setInput(e,s,r,n,a):Sv(e,s,a,r);}finally{U(o);}}var ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t;}(ur||{});function _m(t,e){return undefined(t,e);}function ta(t,e,n,r,o){if(null!=r){let a,i=!1;ct(r)?a=r:xe(r)&&(i=!0,r=r[0]);const l=Qe(r);0===t&&null!==n?null==o?v1(e,n,l):Kr(e,n,l,o||null,!0):1===t&&null!==n?Kr(e,n,l,o||null,!0):2===t?function ii(t,e,n){t.removeChild(null,e,n);}(e,l,i):3===t&&e.destroyNode(l),null!=a&&function ES(t,e,n,r,o){const a=n[7];a!==Qe(n)&&ta(e,t,r,a,o);for(let l=10;l<n.length;l++){const s=n[l];hs(s[1],s,t,e,r,a);}}(e,t,a,n,o);}}function D1(t,e){var n;null===(n=e[10].changeDetectionScheduler)||void 0===n||n.notify(9),hs(t,e,e[11],2,null,null);}function bm(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1);}function ui(t,e){if(xn(e))return;const n=e[11];n.destroyNode&&hs(t,e,n,3,null,null),function wS(t){let e=t[12];if(!e)return wm(t[1],t);for(;e;){let n=null;if(xe(e))n=e[12];else{const r=e[10];r&&(n=r);}if(!n){for(;e&&!e[4]&&e!==t;)xe(e)&&wm(e[1],e),e=e[3];null===e&&(e=t),xe(e)&&wm(e[1],e),n=e&&e[4];}e=n;}}(e);}function wm(t,e){if(xn(e))return;const n=U(null);try{e[2]&=-129,e[2]|=256,e[24]&&vl(e[24]),function CS(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const o=e[n[r]];if(!(o instanceof Qa)){const a=n[r+1];if(Array.isArray(a))for(let i=0;i<a.length;i+=2){const l=o[a[i]],s=a[i+1];se(4,l,s);try{s.call(l);}finally{se(5,l,s);}}else{se(4,o,a);try{a.call(o);}finally{se(5,o,a);}}}}}(t,e),function kS(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const l=n[i+3];l>=0?r[l]():r[-l].unsubscribe(),i+=2;}else n[i].call(r[n[i+1]]);null!==r&&(e[7]=null);const o=e[21];if(null!==o){e[21]=null;for(let i=0;i<o.length;i++)(0,o[i])();}const a=e[23];if(null!==a){e[23]=null;for(const i of a)i.destroy();}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&ct(e[3])){r!==e[3]&&bm(r,e);const o=e[18];null!==o&&o.detachView(t);}Od(e);}finally{U(n);}}function km(t,e,n){return function E1(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(er(r)){const{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Fn.None||o===Fn.Emulated)return null;}return dt(r,n);}(t,e.parent,n);}let M1=function S1(t,e,n){return 40&t.type?dt(t,n):null;};function Dm(t,e,n,r){const o=km(t,r,e),a=e[11],l=function x1(t,e,n){return M1(t,e,n);}(r.parent||e[5],r,e);if(null!=o)if(Array.isArray(n))for(let s=0;s<n.length;s++)g1(a,o,n[s],l,!1);else g1(a,o,n,l,!1);}function Qr(t,e){if(null!==e){const n=e.type;if(3&n)return dt(e,t);if(4&n)return Em(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qr(t,r);{const o=t[e.index];return ct(o)?Em(-1,o):Qe(o);}}if(128&n)return Qr(t,e.next);if(32&n)return _m(e,t)()||Qe(t[e.index]);{const r=T1(t,e);return null!==r?Array.isArray(r)?r[0]:Qr(Sn(t[15]),r):Qr(t,e.next);}}return null;}function T1(t,e){return null!==e?t[15][5].projection[e.projection]:null;}function Em(t,e){const n=10+t+1;if(n<e.length){const r=e[n],o=r[1].firstChild;if(null!==o)return Qr(r,o);}return e[7];}function xm(t,e,n,r,o,a,i){for(;null!=n;){if(128===n.type){n=n.next;continue;}const l=r[n.index],s=n.type;if(i&&0===e&&(l&&kt(Qe(l),r),n.flags|=2),!ts(n))if(8&s)xm(t,e,n.child,r,o,a,!1),ta(e,t,o,l,a);else if(32&s){const c=_m(n,r);let d;for(;d=c();)ta(e,t,o,d,a);ta(e,t,o,l,a);}else 16&s?N1(t,e,r,n,o,a):ta(e,t,o,l,a);n=i?n.projectionNext:n.next;}}function hs(t,e,n,r,o,a){xm(n,r,t.firstChild,e,o,a,!1);}function N1(t,e,n,r,o,a){const i=n[15],s=i[5].projection[r.projection];if(Array.isArray(s))for(let c=0;c<s.length;c++)ta(e,t,o,s[c],a);else{let c=s;const d=i[3];Ja(r)&&(c.flags|=128),xm(t,e,c,d,o,a,!0);}}function A1(t,e,n,r,o){const a=Ye(),i=2&r;try{Hr(-1),i&&e.length>L&&k1(t,e,L,!1),se(i?2:0,o,n),n(r,o);}finally{Hr(a),se(i?3:1,o,n);}}function fs(t,e,n){(function AS(t,e,n){const r=n.directiveStart,o=n.directiveEnd;er(n)&&function gS(t,e,n){const r=dt(e,t),o=function w1(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e;}(n),a=t[10].rendererFactory,i=vm(t,ms(t,o,null,ym(n),r,e,null,a.createRenderer(r,n),null,null,null));t[e.index]=i;}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ul(n,e);const a=n.initialInputs;for(let i=r;i<o;i++){const l=t.data[i],s=Xa(e,t,i,n);kt(s,e),null!==a&&FS(0,i-r,s,l,0,a),At(l)&&(mt(n.index,e)[8]=Xa(e,t,i,n));}})(t,e,n),!(64&~n.flags)&&function RS(t,e,n){const r=n.directiveStart,o=n.directiveEnd,a=n.index,i=function aD(){return G.lFrame.currentDirectiveIndex;}();try{Hr(a);for(let l=r;l<o;l++){const s=t.data[l],c=e[l];dd(l),(null!==s.hostBindings||0!==s.hostVars||null!==s.hostAttrs)&&PS(s,c);}}finally{Hr(-1),dd(i);}}(t,e,n);}function na(t,e,n=dt){const r=e.localNames;if(null!==r){let o=e.index+1;for(let a=0;a<r.length;a+=2){const i=r[a+1],l=-1===i?n(e,t):t[i];t[o++]=l;}}}let R1=()=>null;function Sm(t,e,n,r,o,a){Am(t,e[1],e,n,r)?er(t)&&function NS(t,e){const n=mt(e,t);16&n[2]||(n[2]|=64);}(e,t.index):(3&t.type&&(n=function TS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t;}(n)),function Mm(t,e,n,r,o,a){if(3&t.type){const i=dt(t,e);r=null!=a?a(r,t.value||"",n):r,o.setProperty(i,n,r);}}(t,e,n,r,o,a));}function PS(t,e){null!==t.hostBindings&&t.hostBindings(1,e);}function Im(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];h1(e,a.selectors,!1)&&(null!=r||(r=[]),At(a)?r.unshift(a):r.push(a));}return r;}function FS(t,e,n,r,o,a){const i=a[e];if(null!==i)for(let l=0;l<i.length;l+=2)si(r,n,i[l],i[l+1]);}function ys(t,e,n,r,o){const a=L+n,i=e[1],l=o(i,e,t,r,n);e[a]=l,Mn(t,!0);const s=2===t.type;return s?(b1(e[11],l,t),(0===function J4(){return G.lFrame.elementDepthCount;}()||Oo(t))&&kt(l,e),function eD(){G.lFrame.elementDepthCount++;}()):kt(l,e),Vl()&&(!s||!ts(t))&&Dm(i,e,l,t),t;}function vs(t){let e=t;return Jy()?function ev(){G.lFrame.isParent=!1;}():(e=e.parent,Mn(e,!1)),e;}function Am(t,e,n,r,o){var a,i;const l=null===(a=t.inputs)||void 0===a?void 0:a[r],s=null===(i=t.hostDirectiveInputs)||void 0===i?void 0:i[r];let c=!1;if(s)for(let d=0;d<s.length;d+=2){const m=s[d];si(e.data[m],n[m],s[d+1],o),c=!0;}if(l)for(const d of l)si(e.data[d],n[d],r,o),c=!0;return c;}function jS(t,e){const n=mt(e,t),r=n[1];!function VS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n]);}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),se(18),gs(r,n,n[8]),se(19,n[8]);}function gs(t,e,n){hd(e);try{var r;const o=t.viewQuery;null!==o&&nm(1,o,n);const a=t.template;null!==a&&A1(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[18])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&Ug(t,e),t.staticViewQueries&&nm(2,t.viewQuery,n);const i=t.components;null!==i&&function BS(t,e){for(let n=0;n<e.length;n++)jS(t,e[n]);}(e,i);}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o;}finally{e[2]&=-5,fd();}}function Yr(t,e){return!e||null===e.firstChild||Ja(t);}function ci(t,e,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue;}const a=e[n.index];null!==a&&r.push(Qe(a)),ct(a)&&HS(a,r);const i=n.type;if(8&i)ci(t,e,n.child,r);else if(32&i){const l=_m(n,e);let s;for(;s=l();)r.push(s);}else if(16&i){const l=T1(e,n);if(Array.isArray(l))r.push(...l);else{const s=Sn(e[15]);ci(s[1],s,l,r,!0);}}n=o?n.projectionNext:n.next;}return r;}function HS(t,e){for(let n=10;n<t.length;n++){const r=t[n],o=r[1].firstChild;null!==o&&ci(r[1],r,o,e);}t[7]!==t[0]&&e.push(t[7]);}function L1(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0;}}let j1=[];const qS={...ko,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{jo(t.lView);},consumerOnSignalRead(){this.lView[24]=this;}},KS={...ko,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Sn(t.lView);for(;e&&!V1(e[1]);)e=Sn(e);e&&Uy(e);},consumerOnSignalRead(){this.lView[24]=this;}};function V1(t){return 2!==t.type;}function B1(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2]);}}function _s(t,e=0){const r=t[10].rendererFactory;var a;null===(a=r.begin)||void 0===a||a.call(r);try{!function YS(t,e){const n=rv();try{Ll(!0),Rm(t,e);let r=0;for(;Ol(t);){if(100===r)throw new b(103,!1);r++,Rm(t,1);}}finally{Ll(n);}}(t,e);}finally{var i;null===(i=r.end)||void 0===i||i.call(r);}}function $1(t,e,n,r){if(xn(e))return;const o=e[2];hd(e);let l=!0,s=null,c=null;V1(t)?(c=function zS(t){var e;return null!==(e=t[24])&&void 0!==e?e:function US(t){var e;const n=null!==(e=j1.pop())&&void 0!==e?e:Object.create(qS);return n.lView=t,n;}(t);}(e),s=Co(c)):null===function gc(){return et;}()?(l=!1,c=function WS(t){var e;const n=null!==(e=t[24])&&void 0!==e?e:Object.create(KS);return n.lView=t,n;}(e),s=Co(c)):e[24]&&(vl(e[24]),e[24]=null);try{zy(e),function ov(t){return G.lFrame.bindingIndex=t;}(t.bindingStartIndex),null!==n&&A1(t,e,n,2,r);const d=!(3&~o);if(d){const h=t.preOrderCheckHooks;null!==h&&$l(e,h,null);}else{const h=t.preOrderHooks;null!==h&&Hl(e,h,0,null),Ed(e,0);}if(function XS(t){for(let e=ug(t);null!==e;e=cg(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)Uy(n[r]);}}(e),B1(e),H1(e,0),null!==t.contentQueries&&Ug(t,e),d){const h=t.contentCheckHooks;null!==h&&$l(e,h);}else{const h=t.contentHooks;null!==h&&Hl(e,h,1),Ed(e,1);}!function eM(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Hr(~o);else{const a=o,i=n[++r],l=n[++r];oD(i,a);const s=e[a];se(24,s),l(2,s),se(25,s);}}}finally{Hr(-1);}}(t,e);const m=t.components;null!==m&&U1(e,m,0);const p=t.viewQuery;if(null!==p&&nm(2,p,r),d){const h=t.viewCheckHooks;null!==h&&$l(e,h);}else{const h=t.viewHooks;null!==h&&Hl(e,h,2),Ed(e,2);}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const h of e[22])h();e[22]=null;}L1(e),e[2]&=-73;}catch(d){throw jo(e),d;}finally{null!==c&&(Ra(c,s),l&&function GS(t){t.lView[24]!==t&&(t.lView=null,j1.push(t));}(c)),fd();}}function H1(t,e){for(let n=ug(t);null!==n;n=cg(n))for(let r=10;r<n.length;r++)z1(n[r],e);}function JS(t,e,n){se(18);const r=mt(e,t);z1(r,n),se(19,r[8]);}function z1(t,e){ad(t)&&Rm(t,e);}function Rm(t,e){const r=t[1],o=t[2],a=t[24];let i=!!(0===e&&16&o);if(i||(i=!!(64&o&&0===e)),i||(i=!!(1024&o)),i||(i=!(null==a||!a.dirty||!yl(a))),i||(i=!1),a&&(a.dirty=!1),t[2]&=-9217,i)$1(r,t,r.template,t[8]);else if(8192&o){const l=U(null);try{B1(t),H1(t,1);const s=r.components;null!==s&&U1(t,s,1),L1(t);}finally{U(l);}}}function U1(t,e,n){for(let r=0;r<e.length;r++)JS(t,e[r],n);}function oa(t,e){var n;const r=rv()?64:1088;for(null===(n=t[10].changeDetectionScheduler)||void 0===n||n.notify(e);t;){t[2]|=r;const o=Sn(t);if(tr(t)&&!o)return t;t=o;}return null;}function G1(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null];}function di(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[16];null!==o&&o!==t&&bm(o,r),e>0&&(t[n-1][4]=r[4]);const a=xl(t,10+e);!function C1(t,e){D1(t,e),e[0]=null,e[5]=null;}(r[1],r);const i=a[18];null!==i&&i.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129;}return r;}function W1(t,e){const n=t[9],r=e[3];(xe(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e);}class mi{get rootNodes(){const e=this._lView,n=e[1];return ci(n,e,n.firstChild,[]);}constructor(e,n){u(this,"_lView",void 0),u(this,"_cdRefInjectingView",void 0),u(this,"_appRef",null),u(this,"_attachedToViewContainer",!1),u(this,"exhaustive",void 0),this._lView=e,this._cdRefInjectingView=n;}get context(){return this._lView[8];}set context(e){this._lView[8]=e;}get destroyed(){return xn(this._lView);}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ct(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(di(e,r),xl(n,r));}this._attachedToViewContainer=!1;}ui(this._lView[1],this._lView);}onDestroy(e){Fl(this._lView,e);}markForCheck(){oa(this._cdRefInjectingView||this._lView,4);}detach(){this._lView[2]&=-129;}reattach(){id(this._lView),this._lView[2]|=128;}detectChanges(){this._lView[2]|=1024,_s(this._lView);}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0;}detachFromAppRef(){this._appRef=null;const e=tr(this._lView),n=this._lView[16];null!==n&&!e&&bm(n,this._lView),D1(this._lView[1],this._lView);}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e;const n=tr(this._lView),r=this._lView[16];null!==r&&!n&&W1(r,this._lView),id(this._lView);}}let jn=(()=>{class t{constructor(n,r,o){u(this,"_declarationLView",void 0),u(this,"_declarationTContainer",void 0),u(this,"elementRef",void 0),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o;}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null;}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r);}createEmbeddedViewImpl(n,r,o){const a=function ra(t,e,n,r){const o=U(null);try{var a,i,l;const s=e.tView,m=ms(t,s,n,4096&t[2]?4096:16,null,e,null,null,null!==(a=null==r?void 0:r.injector)&&void 0!==a?a:null,null!==(i=null==r?void 0:r.embeddedViewInjector)&&void 0!==i?i:null,null!==(l=null==r?void 0:r.dehydratedView)&&void 0!==l?l:null);m[16]=t[e.index];const h=t[18];return null!==h&&(m[18]=h.createEmbeddedView(s)),gs(s,m,n),m;}finally{U(o);}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new mi(a);}}return u(t,"__NG_ELEMENT_ID__",nM),t;})();function nM(){return bs(X(),w());}function bs(t,e){return 4&t.type?new jn(e,t,Wo(t,e)):null;}function Zr(t,e,n,r,o){let a=t.data[e];if(null===a)a=function jm(t,e,n,r,o){const a=Xy(),i=Jy(),s=t.data[e]=function dM(t,e,n,r,o,a){let i=e?e.injectorIndex:-1,l=0;return function Qy(){return null!==G.skipHydrationRootTNode;}()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};}(0,i?a:a&&a.parent,n,e,r,o);return function cM(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n));}(t,s,a,i),s;}(t,e,n,r,o),function rD(){return G.lFrame.inI18n;}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const i=function za(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent;}();a.injectorIndex=null===i?-1:i.injectorIndex;}return Mn(a,!0),a;}let WM=class{},g_=class{};class KM{resolveComponentFactory(e){throw new b(917,!1);}}let Ms=(u(bd=class{},"NULL",new KM()),bd);class Is{}let Jr=(()=>{class t{constructor(){u(this,"destroyNode",null);}}return u(t,"__NG_ELEMENT_ID__",()=>function QM(){const t=w(),n=mt(X().index,t);return(xe(n)?n:t)[11];}()),t;})(),YM=(()=>{class e{}return u(e,"\u0275prov",j({token:e,providedIn:"root",factory:()=>null})),e;})();const qm={};class sa{constructor(e,n){u(this,"injector",void 0),u(this,"parentInjector",void 0),this.injector=e,this.parentInjector=n;}get(e,n,r){const o=this.injector.get(e,qm,r);return o!==qm||n===qm?o:this.parentInjector.get(e,n,r);}}function Ns(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,a=0;if(null!==e)for(let i=0;i<e.length;i++){const l=e[i];"number"==typeof l?a=l:1==a?o=Nc(o,l):2==a&&(r=Nc(r,l+": "+e[++i]+";"));}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o;}function k(t,e=0){const n=w();return null===n?V(t,e):zv(X(),n,Y(t),e);}function b_(t,e,n,r,o){const a=null===r?null:{"":-1},i=o(t,n);if(null!==i){let l=i,s=null,c=null;for(const d of i)if(null!==d.resolveHostDirectives){[l,s,c]=d.resolveHostDirectives(i);break;}!function rI(t,e,n,r,o,a,i){const l=r.length;let s=!1;for(let f=0;f<l;f++){const y=r[f];!s&&At(y)&&(s=!0,nI(t,n,f)),Td(Ul(n,e),t,y.type);}!function uI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e;}(n,t.data.length,l);for(let f=0;f<l;f++){const y=r[f];y.providersResolver&&y.providersResolver(y);}let c=!1,d=!1,m=li(t,e,l,null);l>0&&(n.directiveToIndex=new Map());for(let f=0;f<l;f++){const y=r[f];if(n.mergedAttrs=qo(n.mergedAttrs,y.hostAttrs),aI(t,n,e,m,y),sI(m,y,o),null!==i&&i.has(y)){const[g,v]=i.get(y);n.directiveToIndex.set(y.type,[m,g+n.directiveStart,v+n.directiveStart]);}else(null===a||!a.has(y))&&n.directiveToIndex.set(y.type,m);null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const _=y.type.prototype;var p,h;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((null!==(p=t.preOrderHooks)&&void 0!==p?p:t.preOrderHooks=[]).push(n.index),c=!0),d||!_.ngOnChanges&&!_.ngDoCheck||((null!==(h=t.preOrderCheckHooks)&&void 0!==h?h:t.preOrderCheckHooks=[]).push(n.index),d=!0),m++;}!function oI(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const o=t.data[r];if(null!==n&&n.has(o)){const a=n.get(o);k_(0,e,a,r),k_(1,e,a,r),D_(e,r,!0);}else w_(0,e,o,r),w_(1,e,o,r),D_(e,r,!1);}}(t,n,a);}(t,e,n,l,a,s,c);}null!==a&&null!==r&&function tI(t,e,n){const r=t.localNames=[];for(let o=0;o<e.length;o+=2){const a=n[e[o+1]];if(null==a)throw new b(-301,!1);r.push(e[o],a);}}(n,r,a);}function nI(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index);}function w_(t,e,n,r){const o=0===t?n.inputs:n.outputs;for(const c in o)if(o.hasOwnProperty(c)){var a,i;let d;var l,s;d=0===t?null!==(l=e.inputs)&&void 0!==l?l:e.inputs={}:null!==(s=e.outputs)&&void 0!==s?s:e.outputs={},null!==(i=(a=d)[c])&&void 0!==i||(a[c]=[]),d[c].push(r),C_(e,c);}}function k_(t,e,n,r){const o=0===t?n.inputs:n.outputs;for(const c in o)if(o.hasOwnProperty(c)){var a,i;const d=o[c];let m;var l,s;m=0===t?null!==(l=e.hostDirectiveInputs)&&void 0!==l?l:e.hostDirectiveInputs={}:null!==(s=e.hostDirectiveOutputs)&&void 0!==s?s:e.hostDirectiveOutputs={},null!==(i=(a=m)[d])&&void 0!==i||(a[d]=[]),m[d].push(r,c),C_(e,d);}}function C_(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16);}function D_(t,e,n){var r;const{attrs:o,inputs:a,hostDirectiveInputs:i}=t;var l;if(null===o||!n&&null===a||n&&null===i||mm(t))return null!==(l=t.initialInputs)&&void 0!==l||(t.initialInputs=[]),void t.initialInputs.push(null);let s=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d){if(5!==d){if("number"==typeof d)break;if(!n&&a.hasOwnProperty(d)){const m=a[d];for(const p of m)if(p===e){null!=s||(s=[]),s.push(d,o[c+1]);break;}}else if(n&&i.hasOwnProperty(d)){const m=i[d];for(let p=0;p<m.length;p+=2)if(m[p]===e){null!=s||(s=[]),s.push(m[p+1],o[c+1]);break;}}c+=2;}else c+=2;}else c+=4;}null!==(r=t.initialInputs)&&void 0!==r||(t.initialInputs=[]),t.initialInputs.push(s);}function aI(t,e,n,r,o){t.data[r]=o;const a=o.factory||(o.factory=Pr(o.type)),i=new Qa(a,At(o),k,null);t.blueprint[r]=i,n[r]=i,function iI(t,e,n,r,o){const a=o.hostBindings;if(a){let i=t.hostBindingOpCodes;null===i&&(i=t.hostBindingOpCodes=[]);const l=~e.index;(function lI(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n;}return 0;})(i)!=l&&i.push(l),i.push(n,r,a);}}(t,e,r,li(t,n,o.hostVars,de),o);}function sI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;At(e)&&(n[""]=t);}}function Wm(t,e,n,r,o,a,i,l){const s=e[1],c=s.consts,m=Zr(s,t,n,r,ot(c,i));return a&&b_(s,e,m,ot(c,l),o),m.mergedAttrs=qo(m.mergedAttrs,m.attrs),null!==m.attrs&&Ns(m,m.attrs,!1),null!==m.mergedAttrs&&Ns(m,m.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,m),m;}function Km(t,e){Nv(t,e),Ly(e)&&t.queries.elementEnd(e);}function As(t){return!!function Qm(t){return null!==t&&("function"==typeof t||"object"==typeof t);}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t);}function _n(t,e,n){return t[e]=n;}function Ce(t,e,n){return n!==de&&!Object.is(t[e],n)&&(t[e]=n,!0);}function eo(t,e,n,r){const o=Ce(t,e,n);return Ce(t,e+1,r)||o;}function Ci(t,e,n){return function r(o){oa(er(t)?mt(t.index,e):e,5);const i=e[8];let l=x_(e,i,n,o),s=r.__ngNextListenerFn__;for(;s;)l=x_(e,i,s,o)&&l,s=s.__ngNextListenerFn__;return l;};}function x_(t,e,n,r){const o=U(null);try{return se(6,e,n),!1!==n(r);}catch(a){return function Nm(t,e){const n=t[9];if(!n)return;const r=n.get(An,null);null==r||r(e);}(t,a),!1;}finally{se(7,e,n),U(o);}}function S_(t,e,n,r,o,a,i,l){const s=Oo(t);let c=!1,d=null;if(!r&&s&&(d=function pI(t,e,n,r){const o=t.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const i=o[a];if(i===n&&o[a+1]===r){const l=e[7],s=o[a+2];return l&&l.length>s?l[s]:null;}"string"==typeof i&&(a+=2);}return null;}(e,n,a,t.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=i,d.__ngLastListenerFn__=i,c=!0;else{const m=dt(t,n),p=r?r(m):m,h=o.listen(p,a,l);M_(r?y=>r(Qe(y[t.index])):t.index,e,n,a,l,h,!1);}return c;}function M_(t,e,n,r,o,a,i){const l=e.firstCreatePass?Wy(e):null,s=qy(n),c=s.length;s.push(o,a),l&&l.push(r,t,c,(c+1)*(i?-1:1));}function Ps(t,e,n,r,o,a){const l=e[1],m=e[n][l.data[n].outputs[r]].subscribe(a);M_(t.index,l,e,o,a,m,!0);}const dr=Symbol("BINDING");class I_ extends Ms{constructor(e){super(),u(this,"ngModule",void 0),this.ngModule=e;}resolveComponentFactory(e){const n=ie(e);return new Ym(n,this.ngModule);}}class Ym extends g_{get inputs(){var e;return null!==(e=this.cachedInputs)&&void 0!==e||(this.cachedInputs=function wI(t){return Object.keys(t).map(e=>{const[n,r,o]=t[e],a={propName:n,templateName:e,isSignal:0!==(r&ps.SignalBased)};return o&&(a.transform=o),a;});}(this.componentDef.inputs)),this.cachedInputs;}get outputs(){var e;return null!==(e=this.cachedOutputs)&&void 0!==e||(this.cachedOutputs=function kI(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}));}(this.componentDef.outputs)),this.cachedOutputs;}constructor(e,n){var r;super(),u(this,"componentDef",void 0),u(this,"ngModule",void 0),u(this,"selector",void 0),u(this,"componentType",void 0),u(this,"ngContentSelectors",void 0),u(this,"isBoundToModule",void 0),u(this,"cachedInputs",null),u(this,"cachedOutputs",null),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function pS(t){return t.map(mS).join(",");}(e.selectors),this.ngContentSelectors=null!==(r=e.ngContentSelectors)&&void 0!==r?r:[],this.isBoundToModule=!!n;}create(e,n,r,o,a,i){se(22);const l=U(null);try{const s=this.componentDef,c=function xI(t,e,n,r){const o=t?["ng-version","20.1.6"]:function hS(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let a=t[r];if("string"==typeof a)2===o?""!==a&&e.push(a,t[++r]):8===o&&n.push(a);else{if(!on(o))break;o=a;}r++;}return n.length&&e.push(1,...n),e;}(e.selectors[0]);let a=null,i=null,l=0;if(n)for(const d of n)l+=d[dr].requiredVars,d.create&&(d.targetIdx=0,(null!=a?a:a=[]).push(d)),d.update&&(d.targetIdx=0,(null!=i?i:i=[]).push(d));if(r)for(let d=0;d<r.length;d++){const m=r[d];if("function"!=typeof m)for(const p of m.bindings){l+=p[dr].requiredVars;const h=d+1;p.create&&(p.targetIdx=h,(null!=a?a:a=[]).push(p)),p.update&&(p.targetIdx=h,(null!=i?i:i=[]).push(p));}}const s=[e];if(r)for(const d of r){const p=ut("function"==typeof d?d:d.type);s.push(p);}return fm(0,null,function SI(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update();}:null;}(a,i),1,l,s,null,null,null,[o],null);}(r,s,i,a),d=function CI(t,e,n){let r=e instanceof Tt?e:null==e?void 0:e.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new sa(n,r):n;}(s,o||this.ngModule,e),m=function DI(t){const e=t.get(Is,null);if(null===e)throw new b(407,!1);return{rendererFactory:e,sanitizer:t.get(YM,null),changeDetectionScheduler:t.get(zr,null),ngReflect:!1};}(d),p=m.rendererFactory.createRenderer(null,s),h=r?function SS(t,e,n,r){const a=r.get(zE,!1)||n===Fn.ShadowDom,i=t.selectRootElement(e,a);return function MS(t){R1(t);}(i),i;}(p,r,s.encapsulation,d):function EI(t,e){const n=(t.selectors[0][0]||"div").toLowerCase();return ds(e,n,"svg"===n?"svg":"math"===n?"math":null);}(s,p),f=(null==i?void 0:i.some(T_))||(null==a?void 0:a.some(g=>"function"!=typeof g&&g.bindings.some(T_))),y=ms(null,c,null,512|ym(s),null,null,m,p,d,null,null);y[L]=h,hd(y);let _=null;try{const g=Wm(L,y,2,"#host",()=>c.directiveRegistry,!0,0);h&&(b1(p,h,g),kt(h,y)),fs(c,y,g),rm(c,g,y),Km(c,g),void 0!==n&&function II(t,e,n){const r=t.projection=[];for(let o=0;o<e.length;o++){const a=n[o];r.push(null!=a&&a.length?Array.from(a):null);}}(g,this.ngContentSelectors,n),_=mt(g.index,y),y[8]=_[8],gs(c,y,null);}catch(g){throw null!==_&&Od(_),Od(y),g;}finally{se(23),fd();}return new MI(this.componentType,y,!!f);}finally{U(l);}}}function T_(t){const e=t[dr].kind;return"input"===e||"twoWay"===e;}class MI extends WM{constructor(e,n,r){super(),u(this,"_rootLView",void 0),u(this,"_hasInputBindings",void 0),u(this,"instance",void 0),u(this,"hostView",void 0),u(this,"changeDetectorRef",void 0),u(this,"componentType",void 0),u(this,"location",void 0),u(this,"previousInputValues",null),u(this,"_tNode",void 0),this._rootLView=n,this._hasInputBindings=r,this._tNode=Lo(n[1],L),this.location=Wo(this._tNode,n),this.instance=mt(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new mi(n,void 0),this.componentType=e;}setInput(e,n){var r;const o=this._tNode;if(null!==(r=this.previousInputValues)&&void 0!==r||(this.previousInputValues=new Map()),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const a=this._rootLView;Am(o,a[1],a,e,n),this.previousInputValues.set(e,n),oa(mt(o.index,a),1);}get injector(){return new Re(this._tNode,this._rootLView);}destroy(){this.hostView.destroy();}onDestroy(e){this.hostView.onDestroy(e);}}let bn=(()=>{class t{}return u(t,"__NG_ELEMENT_ID__",TI),t;})();function TI(){return R_(X(),w());}const NI=bn,N_=class extends NI{constructor(e,n,r){super(),u(this,"_lContainer",void 0),u(this,"_hostTNode",void 0),u(this,"_hostLView",void 0),this._lContainer=e,this._hostTNode=n,this._hostLView=r;}get element(){return Wo(this._hostTNode,this._hostLView);}get injector(){return new Re(this._hostTNode,this._hostLView);}get parentInjector(){const e=Gl(this._hostTNode,this._hostLView);if(Sd(e)){const n=Za(e,this._hostLView),r=Ya(e);return new Re(n[1].data[r+8],n);}return new Re(null,this._hostLView);}clear(){for(;this.length>0;)this.remove(this.length-1);}get(e){const n=A_(this._lContainer);return null!==n&&n[e]||null;}get length(){return this._lContainer.length-10;}createEmbeddedView(e,n,r){let o,a;"number"==typeof r?o=r:null!=r&&(o=r.index,a=r.injector);const l=e.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(l,o,Yr(this._hostTNode,null)),l;}createComponent(e,n,r,o,a,i,l){var s,d;const m=e&&!function Ka(t){return"function"==typeof t;}(e);let p;if(m)p=n;else{const D=n||{};p=D.index,r=D.injector,o=D.projectableNodes,a=D.environmentInjector||D.ngModuleRef,i=D.directives,l=D.bindings;}const h=m?e:new Ym(ie(e)),f=r||this.parentInjector;if(!a&&null==h.ngModule){const I=(m?f:this.parentInjector).get(Tt,null);I&&(a=I);}const y=ie(null!==(s=h.componentType)&&void 0!==s?s:{}),_=null,g=null!==(d=null==_?void 0:_.firstChild)&&void 0!==d?d:null,v=h.create(f,o,g,a,i,l);return this.insertImpl(v.hostView,p,Yr(this._hostTNode,_)),v;}insert(e,n){return this.insertImpl(e,n,!0);}insertImpl(e,n,r){const o=e._lView;if(function Z4(t){return ct(t[3]);}(o)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const s=o[3],c=new N_(s,s[5],s[3]);c.detach(c.indexOf(e));}}const a=this._adjustIndex(n),i=this._lContainer;return function aa(t,e,n,r=!0){const o=e[1];if(function tM(t,e,n,r){const o=10+r,a=n.length;r>0&&(n[o-1][4]=e),r<a-10?(e[4]=n[o],xy(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const i=e[16];null!==i&&n!==i&&W1(i,e);const l=e[18];null!==l&&l.insertView(t),id(e),e[2]|=128;}(o,e,t,n),r){const i=Em(n,t),l=e[11],s=l.parentNode(t[7]);null!==s&&function bS(t,e,n,r,o,a){r[0]=o,r[5]=e,hs(t,r,n,1,o,a);}(o,t[5],l,e,s,i);}const a=e[6];null!==a&&null!==a.firstChild&&(a.firstChild=null);}(i,o,a,r),e.attachToViewContainerRef(),xy(Zm(i),a,e),e;}move(e,n){return this.insert(e,n);}indexOf(e){const n=A_(this._lContainer);return null!==n?n.indexOf(e):-1;}remove(e){const n=this._adjustIndex(e,-1),r=di(this._lContainer,n);r&&(xl(Zm(this._lContainer),n),ui(r[1],r));}detach(e){const n=this._adjustIndex(e,-1),r=di(this._lContainer,n);return r&&null!=xl(Zm(this._lContainer),n)?new mi(r):null;}_adjustIndex(e,n=0){return null==e?this.length+n:e;}};function A_(t){return t[8];}function Zm(t){return t[8]||(t[8]=[]);}function R_(t,e){let n;const r=e[t.index];return ct(r)?n=r:(n=G1(r,e,null,t),e[t.index]=n,vm(e,n)),P_(n,e,t,r),new N_(n,t,e);}let P_=function F_(t,e,n,r){if(t[7])return;let o;o=8&n.type?Qe(r):function AI(t,e){const n=t[11],r=n.createComment(""),o=dt(e,t),a=n.parentNode(o);return Kr(n,a,r,n.nextSibling(o),!1),r;}(e,n),t[7]=o;};class Jm{constructor(e){u(this,"queryList",void 0),u(this,"matches",null),this.queryList=e;}clone(){return new Jm(this.queryList);}setDirty(){this.queryList.setDirty();}}class ep{constructor(e=[]){u(this,"queries",void 0),this.queries=e;}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const i=n.getByIndex(a);o.push(this.queries[i.indexInDeclarationView].clone());}return new ep(o);}return null;}insertView(e){this.dirtyQueriesWithMatches(e);}detachView(e){this.dirtyQueriesWithMatches(e);}finishViewCreation(e){this.dirtyQueriesWithMatches(e);}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==ap(e,n).matches&&this.queries[n].setDirty();}}class L_{constructor(e,n,r=null){u(this,"flags",void 0),u(this,"read",void 0),u(this,"predicate",void 0),this.flags=n,this.read=r,this.predicate="string"==typeof e?function VI(t){return t.split(",").map(e=>e.trim());}(e):e;}}class tp{constructor(e=[]){u(this,"queries",void 0),this.queries=e;}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n);}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e);}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(e,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a]);}return null!==n?new tp(n):null;}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n);}getByIndex(e){return this.queries[e];}get length(){return this.queries.length;}track(e){this.queries.push(e);}}class np{constructor(e,n=-1){u(this,"metadata",void 0),u(this,"matches",null),u(this,"indexInDeclarationView",-1),u(this,"crossesNgTemplate",!1),u(this,"_declarationNodeIndex",void 0),u(this,"_appliesToNextNode",!0),this.metadata=e,this._declarationNodeIndex=n;}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n);}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1);}template(e,n){this.elementStart(e,n);}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new np(this.metadata)):null;}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1);}return this._appliesToNextNode;}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(e,n,OI(n,a)),this.matchTNodeWithReadOption(e,n,ql(n,e,a,!1,!1));}else r===jn?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ql(n,e,r,!1,!1));}matchTNodeWithReadOption(e,n,r){if(null!==r){const o=this.metadata.read;if(null!==o){if(o===qt||o===bn||o===jn&&4&n.type)this.addMatch(n.index,-2);else{const a=ql(n,e,o,!1,!1);null!==a&&this.addMatch(n.index,a);}}else this.addMatch(n.index,r);}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n);}}function OI(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null;}function LI(t,e,n,r){return-1===n?function FI(t,e){return 11&t.type?Wo(t,e):4&t.type?bs(t,e):null;}(e,t):-2===n?function jI(t,e,n){return n===qt?Wo(e,t):n===jn?bs(e,t):n===bn?R_(e,t):void 0;}(t,e,r):Xa(t,t[1],n,e);}function j_(t,e,n,r){const o=e[18].queries[r];if(null===o.matches){const a=t.data,i=n.matches,l=[];for(let s=0;null!==i&&s<i.length;s+=2){const c=i[s];l.push(c<0?null:LI(e,a[c],i[s+1],n.metadata.read));}o.matches=l;}return o.matches;}function rp(t,e,n,r){const o=t.queries.getByIndex(n),a=o.matches;if(null!==a){const i=j_(t,e,o,n);for(let l=0;l<a.length;l+=2){const s=a[l];if(s>0)r.push(i[l/2]);else{const c=a[l+1],d=e[-s];for(let m=10;m<d.length;m++){const p=d[m];p[16]===p[3]&&rp(p[1],p,c,r);}if(null!==d[9]){const m=d[9];for(let p=0;p<m.length;p++){const h=m[p];rp(h[1],h,c,r);}}}}}return r;}function B_(t,e,n){const r=Z();return r.firstCreatePass&&(function H_(t,e,n){null===t.queries&&(t.queries=new tp()),t.queries.track(new np(e,n));}(r,new L_(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),function V_(t,e,n){var r;const o=new lE(!(4&~n));return function X4(t,e,n,r){const o=qy(e);o.push(n),t.firstCreatePass&&Wy(t).push(r,o.length-1);}(t,e,o,o.destroy),(null!==(r=e[18])&&void 0!==r?r:e[18]=new ep()).queries.push(new Jm(o))-1;}(r,w(),e);}function ap(t,e){return t.queries.getByIndex(e);}function z_(t,e){const n=t[1],r=ap(n,e);return r.crossesNgTemplate?rp(n,t,e,[]):j_(n,t,r,e);}const K_=new Set();function Ft(t){var e,n;K_.has(t)||(K_.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}));}let to=class{};class Y_ extends to{constructor(e){super(),u(this,"injector",void 0),u(this,"componentFactoryResolver",new I_(this)),u(this,"instance",null);const n=new Fr([...e.providers,{provide:to,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver}],e.parent||Zc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers();}destroy(){this.injector.destroy();}onDestroy(e){this.injector.onDestroy(e);}}let JI=(()=>{var t;class e{constructor(r){u(this,"_injector",void 0),u(this,"cachedInjectors",new Map()),this._injector=r;}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=qc(0,r.type),a=o.length>0?function Z_(t,e,n=null){return new Y_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector;}([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a);}return this.cachedInjectors.get(r);}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy();}finally{this.cachedInjectors.clear();}}}return u(e,"\u0275prov",j({token:t=e,providedIn:"environment",factory:()=>new t(V(Tt))})),e;})();function Lt(t){return On(()=>{var e;const n=J_(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?a=>a.get(JI).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||Fn.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""};n.standalone&&Ft("NgStandalone"),eb(r);const o=t.dependencies;return r.directiveDefs=Os(o,X_),r.pipeDefs=Os(o,rn),r.id=function rT(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const a of r.join("|"))e=Math.imul(31,e)+a.charCodeAt(0)|0;return e+=2147483648,"c"+e;}(r),r;});}function X_(t){return ie(t)||ut(t);}function Ei(t){return On(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}));}function eT(t,e){if(null==t)return mn;const n={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];let i,l,s,c;var r;Array.isArray(a)?(s=a[0],i=a[1],l=null!==(r=a[2])&&void 0!==r?r:i,c=a[3]||null):(i=a,l=a,s=ps.None,c=null),n[i]=[o,s,c],e[i]=l;}return n;}function tT(t){if(null==t)return mn;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e;}function K(t){return On(()=>{const e=J_(t);return eb(e),e;});}function Ct(t){var e;return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:null===(e=t.standalone)||void 0===e||e,onDestroy:t.type.prototype.ngOnDestroy||null};}function J_(t){var e;const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||mn,exportAs:t.exportAs||null,standalone:null===(e=t.standalone)||void 0===e||e,signals:!0===t.signals,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:eT(t.inputs,n),outputs:tT(t.outputs),debugInfo:null};}function eb(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t));}function Os(t,e){return t?()=>{const n="function"==typeof t?t():t,r=[];for(const o of n){const a=e(o);null!==a&&r.push(a);}return r;}:null;}function me(t){let e=function tb(t){return Object.getPrototypeOf(t.prototype).constructor;}(t.type),n=!0;const r=[t];for(;e;){let o;if(At(t))o=e.ɵcmp||e.ɵdir;else{if(e.ɵcmp)throw new b(903,!1);o=e.ɵdir;}if(o){if(n){r.push(o);const i=t;i.inputs=up(t.inputs),i.declaredInputs=up(t.declaredInputs),i.outputs=up(t.outputs);const l=o.hostBindings;l&&sT(t,l);const s=o.viewQuery,c=o.contentQueries;if(s&&iT(t,s),c&&lT(t,c),oT(t,o),p4(t.outputs,o.outputs),At(o)&&o.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(o.data.animation);}}const a=o.features;if(a)for(let i=0;i<a.length;i++){const l=a[i];l&&l.ngInherit&&l(t),l===me&&(n=!1);}}e=Object.getPrototypeOf(e);}!function aT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=qo(o.hostAttrs,n=qo(n,o.hostAttrs));}}(r);}function oT(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n]);}}function up(t){return t===mn?{}:t===_e?[]:t;}function iT(t,e){const n=t.viewQuery;t.viewQuery=n?(r,o)=>{e(r,o),n(r,o);}:e;}function lT(t,e){const n=t.contentQueries;t.contentQueries=n?(r,o,a)=>{e(r,o,a),n(r,o,a);}:e;}function sT(t,e){const n=t.hostBindings;t.hostBindings=n?(r,o)=>{e(r,o),n(r,o);}:e;}function Se(t,e,n,r,o,a,i,l){const s=w(),c=Z();return function fT(t,e,n,r,o,a,i,l,s,c,d){const m=n+L;let p;e.firstCreatePass?(p=Zr(e,m,4,i||null,l||null),cd()&&b_(e,t,p,ot(e.consts,c),Im),Nv(e,p)):p=e.data[m],function ib(t,e,n,r,o,a,i,l){if(n.firstCreatePass){t.mergedAttrs=qo(t.mergedAttrs,t.attrs);const d=t.tView=fm(2,t,o,a,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t));}l&&(t.flags|=l),Mn(t,!1);const s=sb(n,e,t,r);Vl()&&Dm(n,e,s,t),kt(s,e);const c=G1(s,e,s,t);e[r+L]=c,vm(e,c);}(p,t,e,n,r,o,a,s),Oo(p)&&fs(e,t,p),null!=c&&na(t,p,d);}(s,c,t,e,n,r,o,ot(c.consts,a),void 0,i,l),Se;}let sb=function ub(t,e,n,r){return Ua(!0),e[11].createComment("");};var dp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t;}(dp||{});const Mi=new S(""),hb=!1,qe=class wT extends Qn{constructor(e=!1){var n,r;super(),u(this,"__isAsync",void 0),u(this,"destroyRef",void 0),u(this,"pendingTasks",void 0),this.__isAsync=e,function td(){return void 0!==Cy()||null!=pc();}()&&(this.destroyRef=null!==(n=A(Nn,{optional:!0}))&&void 0!==n?n:void 0,this.pendingTasks=null!==(r=A(Ur,{optional:!0}))&&void 0!==r?r:void 0);}emit(e){const n=U(null);try{super.next(e);}finally{U(n);}}subscribe(e,n,r){let o=e,a=n||(()=>null),i=r;if(e&&"object"==typeof e){var l,s,c;const m=e;o=null===(l=m.next)||void 0===l?void 0:l.bind(m),a=null===(s=m.error)||void 0===s?void 0:s.bind(m),i=null===(c=m.complete)||void 0===c?void 0:c.bind(m);}this.__isAsync&&(a=this.wrapInTimeout(a),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));const d=super.subscribe({next:o,error:a,complete:i});return e instanceof Mt&&e.add(d),d;}wrapInTimeout(e){return n=>{var r;const o=null===(r=this.pendingTasks)||void 0===r?void 0:r.add();setTimeout(()=>{try{e(n);}finally{var a;void 0!==o&&(null===(a=this.pendingTasks)||void 0===a||a.remove(o));}});};}};function fb(t){let e,n;function r(){t=Ga;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e);}catch(o){}}return e=setTimeout(()=>{t(),r();}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r();})),()=>r();}function yb(t){return queueMicrotask(()=>t()),()=>{t=Ga;};}const mp="isAngularZone",Vs=mp+"_ID";let kT=0;class ue{constructor(e){u(this,"hasPendingMacrotasks",!1),u(this,"hasPendingMicrotasks",!1),u(this,"isStable",!0),u(this,"onUnstable",new qe(!1)),u(this,"onMicrotaskEmpty",new qe(!1)),u(this,"onStable",new qe(!1)),u(this,"onError",new qe(!1));const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:a=hb}=e;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec())),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.callbackScheduled=!1,i.scheduleInRootZone=a,function ET(t){const e=()=>{!function DT(t){function e(){fb(()=>{t.callbackScheduled=!1,hp(t),t.isCheckStableRunning=!0,pp(t),t.isCheckStableRunning=!1;});}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e();}):t._outer.run(()=>{e();}),hp(t));}(t);},n=kT++;t._inner=t._inner.fork({name:"angular",properties:{[mp]:!0,[Vs]:n,[Vs+n]:!0},onInvokeTask:(r,o,a,i,l,s)=>{if(function xT(t){return _b(t,"__ignore_ng_zone__");}(s))return r.invokeTask(a,i,l,s);try{return vb(t),r.invokeTask(a,i,l,s);}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),gb(t);}},onInvoke:(r,o,a,i,l,s,c)=>{try{return vb(t),r.invoke(a,i,l,s,c);}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function ST(t){return _b(t,"__scheduler_tick__");}(s)&&e(),gb(t);}},onHasTask:(r,o,a,i)=>{r.hasTask(a,i),o===a&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hp(t),pp(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask));},onHandleError:(r,o,a,i)=>(r.handleError(a,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)});}(i);}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(mp);}static assertInAngularZone(){if(!ue.isInAngularZone())throw new b(909,!1);}static assertNotInAngularZone(){if(ue.isInAngularZone())throw new b(909,!1);}run(e,n,r){return this._inner.run(e,n,r);}runTask(e,n,r,o){const a=this._inner,i=a.scheduleEventTask("NgZoneEvent: "+o,e,CT,Ga,Ga);try{return a.runTask(i,n,r);}finally{a.cancelTask(i);}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r);}runOutsideAngular(e){return this._outer.run(e);}}const CT={};function pp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null);}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null));}finally{t.isStable=!0;}}}function hp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled);}function vb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null));}function gb(t){t._nesting--,pp(t);}class fp{constructor(){u(this,"hasPendingMicrotasks",!1),u(this,"hasPendingMacrotasks",!1),u(this,"isStable",!0),u(this,"onUnstable",new qe()),u(this,"onMicrotaskEmpty",new qe()),u(this,"onStable",new qe()),u(this,"onError",new qe());}run(e,n,r){return e.apply(n,r);}runGuarded(e,n,r){return e.apply(n,r);}runOutsideAngular(e){return e();}runTask(e,n,r,o){return e.apply(n,r);}}function _b(t,e){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n[e]);}let bb=(()=>{var t;class e{constructor(){u(this,"impl",null);}execute(){var r;null===(r=this.impl)||void 0===r||r.execute();}}return u(e,"\u0275prov",j({token:t=e,providedIn:"root",factory:()=>new t()})),e;})();const qb=new S("");function Gs(t){return!!t&&"function"==typeof t.then;}function Wb(t){return!!t&&"function"==typeof t.subscribe;}const Kb=new S("");let Qb=(()=>{var t;class e{constructor(){var r;u(this,"resolve",void 0),u(this,"reject",void 0),u(this,"initialized",!1),u(this,"done",!1),u(this,"donePromise",new Promise((o,a)=>{this.resolve=o,this.reject=a;})),u(this,"appInits",null!==(r=A(Kb,{optional:!0}))&&void 0!==r?r:[]),u(this,"injector",A(ht));}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const i=ed(this.injector,a);if(Gs(i))r.push(i);else if(Wb(i)){const l=new Promise((s,c)=>{i.subscribe({complete:s,error:c});});r.push(l);}}const o=()=>{this.done=!0,this.resolve();};Promise.all(r).then(()=>{o();}).catch(a=>{this.reject(a);}),0===r.length&&o(),this.initialized=!0;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac,providedIn:"root"})),e;})();const ON=new S("");let pr=(()=>{var t;class e{get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views];}get destroyed(){return this._destroyed;}get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(or(r=>!r));}constructor(){u(this,"_runningTick",!1),u(this,"_destroyed",!1),u(this,"_destroyListeners",[]),u(this,"_views",[]),u(this,"internalErrorHandler",A(An)),u(this,"afterRenderManager",A(bb)),u(this,"zonelessEnabled",A(gv)),u(this,"rootEffectScheduler",A(wv)),u(this,"dirtyFlags",0),u(this,"tracingSnapshot",null),u(this,"allTestViews",new Set()),u(this,"autoDetectTestViews",new Set()),u(this,"includeAllTestViews",!1),u(this,"afterTick",new Qn()),u(this,"componentTypes",[]),u(this,"components",[]),u(this,"internalPendingTask",A(Ur)),u(this,"_injector",A(Tt)),u(this,"_rendererFactory",null),u(this,"tickImpl",()=>{if(this._runningTick)throw new b(101,!1);const r=U(null);try{this._runningTick=!0,this.synchronize();}finally{var o;this._runningTick=!1,null===(o=this.tracingSnapshot)||void 0===o||o.dispose(),this.tracingSnapshot=null,U(r),this.afterTick.next(),se(13);}}),A(Mi,{optional:!0});}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o();}});}).finally(()=>{r.unsubscribe();});}get injector(){return this._injector;}bootstrap(r,o){return this.bootstrapImpl(r,o);}bootstrapImpl(r,o,a=ht.NULL){return this._injector.get(ue).run(()=>{se(10);const l=r instanceof g_;if(!this._injector.get(Qb).done)throw new b(405,"");let c;c=l?r:this._injector.get(Ms).resolveComponentFactory(r),this.componentTypes.push(c.componentType);const d=function LN(t){return t.isBoundToModule;}(c)?void 0:this._injector.get(to),p=c.create(a,[],o||c.selector,d),h=p.location.nativeElement,f=p.injector.get(qb,null);return null==f||f.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),qs(this.components,p),null==f||f.unregisterApplication(h);}),this._loadComponent(p),se(11,p),p;});}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick();}_tick(){se(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(dp.CHANGE_DETECTION,this.tickImpl):this.tickImpl();}synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Is,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)se(14),this.synchronizeOnce(),se(15);}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let r=!1;if(7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:c}of this.allViews)(s||Ol(c))&&(_s(c,s&&!this.zonelessEnabled?0:1),r=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return;}var o,a,i,l;r||(null===(o=this._rendererFactory)||void 0===o||null===(a=o.begin)||void 0===a||a.call(o),null===(i=this._rendererFactory)||void 0===i||null===(l=i.end)||void 0===l||l.call(i)),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews();}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Ol(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8;}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this);}detachView(r){const o=r;qs(this._views,o),o.detachFromAppRef();}_loadComponent(r){this.attachView(r.hostView);try{this.tick();}catch(a){this.internalErrorHandler(a);}this.components.push(r),this._injector.get(ON,[]).forEach(a=>a(r));}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy());}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[];}}onDestroy(r){return this._destroyListeners.push(r),()=>qs(this._destroyListeners,r);}destroy(){if(this._destroyed)throw new b(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy();}get viewCount(){return this._views.length;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac,providedIn:"root"})),e;})();function qs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1);}function ft(t,e,n,r){const o=w();return Ce(o,Ot(),e)&&(Z(),function OS(t,e,n,r,o,a){const i=dt(t,e);!function Tm(t,e,n,r,o,a,i){if(null==a)t.removeAttribute(e,o,n);else{const l=null==i?W(a):i(a,r||"",o);t.setAttribute(e,o,l,n);}}(e[11],i,a,t.value,n,r,o);}(fn(),o,t,e,n,r)),ft;}function B(t,e,n){const r=w();return Ce(r,Ot(),e)&&(Z(),Sm(fn(),r,t,e,r[11],n)),B;}function Pp(t,e,n,r,o){Am(e,t,n,o?"class":"style",r);}function E(t,e,n,r){const o=w(),a=o[1],i=t+L,l=a.firstCreatePass?Wm(i,o,2,e,Im,cd(),n,r):a.data[i];if(ys(l,o,t,e,Op),Oo(l)){const s=o[1];fs(s,o,l),rm(s,l,o);}return null!=r&&na(o,l),E;}function x(){const t=Z(),n=vs(X());return t.firstCreatePass&&Km(t,n),Yy(n)&&Zy(),Ky(),null!=n.classesWithoutHost&&function $D(t){return!!(8&t.flags);}(n)&&Pp(t,n,w(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function HD(t){return!!(16&t.flags);}(n)&&Pp(t,n,w(),n.stylesWithoutHost,!1),x;}function re(t,e,n,r){return E(t,e,n,r),x(),re;}function Ai(t,e,n,r){const o=w(),a=o[1],i=t+L,l=a.firstCreatePass?function E_(t,e,n,r,o,a){const i=e.consts,s=Zr(e,t,n,r,ot(i,o));if(s.mergedAttrs=qo(s.mergedAttrs,s.attrs),null!=a){const c=ot(i,a);s.localNames=[];for(let d=0;d<c.length;d+=2)s.localNames.push(c[d],-1);}return null!==s.attrs&&Ns(s,s.attrs,!1),null!==s.mergedAttrs&&Ns(s,s.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,s),s;}(i,a,2,e,n,r):a.data[i];return ys(l,o,t,e,Op),null!=r&&na(o,l),Ai;}function Ri(){return Yy(vs(X()))&&Zy(),Ky(),Ri;}let Op=(t,e,n,r,o)=>(Ua(!0),ds(e[11],r,function dD(){return G.lFrame.currentNamespace;}()));function wn(){return w();}const lo=void 0;var FA=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OA(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5;}];let ya={};function yt(t){const e=function LA(t){return t.toLowerCase().replace(/_/g,"-");}(t);let n=f2(e);if(n)return n;const r=e.split("-")[0];if(n=f2(r),n)return n;if("en"===r)return FA;throw new b(701,!1);}function f2(t){return t in ya||(ya[t]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[t]),ya[t];}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t;}(ke||{});const Qs="en-US";let y2=Qs;function J(t,e,n){const r=w(),o=Z(),a=X();return Hp(o,r,r[11],a,t,e,n),J;}function $p(t,e,n){const r=w(),o=Z(),a=X();return(3&a.type||n)&&S_(a,o,r,n,r[11],t,e,Ci(a,r,e)),$p;}function Hp(t,e,n,r,o,a,i){let l=!0,s=null;if((3&r.type||i)&&(null!=s||(s=Ci(r,e,a)),S_(r,t,e,i,n,o,a,s)&&(l=!1)),l){var c,d;const m=null===(c=r.outputs)||void 0===c?void 0:c[o],p=null===(d=r.hostDirectiveOutputs)||void 0===d?void 0:d[o];if(p&&p.length)for(let h=0;h<p.length;h+=2){const f=p[h],y=p[h+1];null!=s||(s=Ci(r,e,a)),Ps(r,e,f,y,o,s);}if(m&&m.length)for(const h of m)null!=s||(s=Ci(r,e,a)),Ps(r,e,h,o,o,s);}}function pe(t=1){return function lD(t){return(G.lFrame.contextLView=function Gy(t,e){for(;t>0;)e=e[14],t--;return e;}(t,G.lFrame.contextLView))[8];}(t);}function j2(t){return $r(function tv(){return G.lFrame.contextLView;}(),L+t);}function Js(t,e){return t<<17|e<<2;}function so(t){return t>>17&32767;}function zp(t){return 2|t;}function va(t){return(131068&t)>>2;}function Up(t,e){return-131069&t|e<<2;}function Gp(t){return 1|t;}function V2(t,e,n,r){const o=t[n+1],a=null===e;let i=r?so(o):va(o),l=!1;for(;0!==i&&(!1===l||a);){const c=t[i+1];L5(t[i],e)&&(l=!0,t[i+1]=r?Gp(c):zp(c)),i=r?so(c):va(c);}l&&(t[n+1]=r?zp(o):Gp(o));}function L5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Va(t,e)>=0;}const We={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function B2(t){return t.substring(We.key,We.keyEnd);}function $2(t,e){const n=We.textEnd;return n===e?-1:(e=We.keyEnd=function $5(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e;}(t,We.key=e,n),ga(t,e,n));}function ga(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e;}function uo(t,e,n){return q2(t,e,n,!1),uo;}function eu(t,e){return q2(t,e,null,!0),eu;}function tu(t){!function W2(t,e,n,r){const o=Z(),a=Tn(2);o.firstUpdatePass&&Q2(o,null,a,r);const i=w();if(n!==de&&Ce(i,a,n)){const l=o.data[Ye()];if(J2(l,r)&&!K2(o,a)){let s=r?l.classesWithoutHost:l.stylesWithoutHost;null!==s&&(n=Nc(s,n||"")),Pp(o,l,i,n,r);}else!function J5(t,e,n,r,o,a,i,l){o===de&&(o=_e);let s=0,c=0,d=0<o.length?o[0]:null,m=0<a.length?a[0]:null;for(;null!==d||null!==m;){const p=s<o.length?o[s+1]:void 0,h=c<a.length?a[c+1]:void 0;let y,f=null;d===m?(s+=2,c+=2,p!==h&&(f=m,y=h)):null===m||null!==d&&d<m?(s+=2,f=d):(c+=2,f=m,y=h),null!==f&&Z2(t,e,n,r,f,y,i,l),d=s<o.length?o[s]:null,m=c<a.length?a[c]:null;}}(o,l,i,i[11],i[a+1],i[a+1]=function Z5(t,e,n){if(null==n||""===n)return _e;const r=[],o=sr(n);if(Array.isArray(o))for(let a=0;a<o.length;a++)t(r,o[a],!0);else if("object"==typeof o)for(const a in o)o.hasOwnProperty(a)&&t(r,a,o[a]);else"string"==typeof o&&e(r,o);return r;}(t,e,n),r,a);}}(X5,q5,t,!0);}function q5(t,e){for(let n=function V5(t){return function z2(t){We.key=0,We.keyEnd=0,We.value=0,We.valueEnd=0,We.textEnd=t.length;}(t),$2(t,ga(t,0,We.textEnd));}(e);n>=0;n=$2(e,n))Ml(t,B2(e),!0);}function q2(t,e,n,r){const o=w(),a=Z(),i=Tn(2);a.firstUpdatePass&&Q2(a,t,i,r),e!==de&&Ce(o,i,e)&&Z2(a,a.data[Ye()],o,o[11],t,o[i+1]=function eR(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ht(sr(t)))),t;}(e,n),r,i);}function K2(t,e){return e>=t.expandoStartIndex;}function Q2(t,e,n,r){const o=t.data;if(null===o[n+1]){const a=o[Ye()],i=K2(t,n);J2(a,r)&&null===e&&!i&&(e=!1),e=function W5(t,e,n,r){const o=function md(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e];}(t);let a=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=Vi(n=qp(null,t,e,n,r),e.attrs,r),a=null);else{const i=e.directiveStylingLast;if(-1===i||t[i]!==o)if(n=qp(o,t,e,n,r),null===a){let s=function K5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==va(r))return t[so(r)];}(t,e,r);void 0!==s&&Array.isArray(s)&&(s=qp(null,t,e,s[1],r),s=Vi(s,e.attrs,r),function Q5(t,e,n,r){t[so(n?e.classBindings:e.styleBindings)]=r;}(t,e,r,s));}else a=function Y5(t,e,n){let r;const o=e.directiveEnd;for(let a=1+e.directiveStylingLast;a<o;a++)r=Vi(r,t[a].hostAttrs,n);return Vi(r,e.attrs,n);}(t,e,r);}return void 0!==a&&(r?e.residualClasses=a:e.residualStyles=a),n;}(o,a,e,r),function O5(t,e,n,r,o,a){let i=a?e.classBindings:e.styleBindings,l=so(i),s=va(i);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Va(n,d)>0)&&(c=!0)):d=n,o){if(0!==s){const p=so(t[l+1]);t[r+1]=Js(p,l),0!==p&&(t[p+1]=Up(t[p+1],r)),t[l+1]=function R5(t,e){return 131071&t|e<<17;}(t[l+1],r);}else t[r+1]=Js(l,0),0!==l&&(t[l+1]=Up(t[l+1],r)),l=r;}else t[r+1]=Js(s,0),0===l?l=r:t[s+1]=Up(t[s+1],r),s=r;c&&(t[r+1]=zp(t[r+1])),V2(t,d,r,!0),V2(t,d,r,!1),function F5(t,e,n,r,o){const a=o?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof e&&Va(a,e)>=0&&(n[r+1]=Gp(n[r+1]));}(e,d,t,r,a),i=Js(l,s),a?e.classBindings=i:e.styleBindings=i;}(o,a,e,n,i,r);}}function qp(t,e,n,r,o){let a=null;const i=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<i&&(a=e[l],r=Vi(r,a.hostAttrs,o),a!==t);)l++;return null!==t&&(n.directiveStylingLast=l),r;}function Vi(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let a=0;a<e.length;a++){const i=e[a];"number"==typeof i?o=i:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ml(t,i,!!n||e[++a]));}return void 0===t?null:t;}function X5(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Ml(t,r,n);}function Z2(t,e,n,r,o,a,i,l){if(!(3&e.type))return;const s=t.data,c=s[l+1],d=function P5(t){return!(1&~t);}(c)?X2(s,e,n,o,va(c),i):void 0;nu(d)||(nu(a)||function A5(t){return!(2&~t);}(c)&&(a=X2(s,null,n,o,l,i)),function xS(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:ur.DashCase;null==o?t.removeStyle(n,r,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=ur.Important),t.setStyle(n,r,o,a));}}(r,i,Fo(Ye(),n),o,a));}function X2(t,e,n,r,o,a){const i=null===e;let l;for(;o>0;){const s=t[o],c=Array.isArray(s),d=c?s[1]:s,m=null===d;let p=n[o+1];p===de&&(p=m?_e:void 0);let h=m?Hc(p,r):d===r?p:void 0;if(c&&!nu(h)&&(h=Hc(s,r)),nu(h)&&(l=h,i))return l;const f=t[o+1];o=i?so(f):va(f);}if(null!==e){let s=a?e.residualClasses:e.residualStyles;null!=s&&(l=Hc(s,r));}return l;}function nu(t){return void 0!==t;}function J2(t,e){return!!(t.flags&(e?8:16));}function Q(t,e=""){const n=w(),r=Z(),o=t+L,a=r.firstCreatePass?Zr(r,o,1,e,null):r.data[o],i=e0(r,n,a,e,t);n[o]=i,Vl()&&Dm(r,n,i,a),Mn(a,!1);}let e0=(t,e,n,r,o)=>(Ua(!0),function pm(t,e){return t.createText(e);}(e[11],r));function ru(t){return Xe("",t),ru;}function Xe(t,e,n){const r=w(),o=function n0(t,e,n,r=""){return Ce(t,Ot(),n)?e+W(n)+r:de;}(r,t,e,n);return o!==de&&function Vn(t,e,n){const r=Fo(e,t);!function y1(t,e,n){t.setValue(e,n);}(t[11],r,n);}(r,Ye(),o),Xe;}function Kt(t,e,n){vv(e)&&(e=e());const r=w();return Ce(r,Ot(),e)&&(Z(),Sm(fn(),r,t,e,r[11],n)),Kt;}function an(t,e){const n=vv(t);return n&&t.set(e),n;}function Qt(t,e){const n=w(),r=Z(),o=X();return Hp(r,n,n[11],o,t,e),Qt;}function Wp(t,e,n,r,o){if(t=Y(t),Array.isArray(t))for(let a=0;a<t.length;a++)Wp(t[a],e,n,r,o);else{const a=Z(),i=w(),l=X();let s=Dn(t)?t:Y(t.provide);const c=Oy(t),d=1048575&l.providerIndexes,m=l.directiveStart,p=l.providerIndexes>>20;if(Dn(t)||!t.multi){const h=new Qa(c,o,k,null),f=Qp(s,e,o?d:d+p,m);-1===f?(Td(Ul(l,i),a,s),Kp(a,t,e.length),e.push(s),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push(h),i.push(h)):(n[f]=h,i[f]=h);}else{const h=Qp(s,e,d+p,m),f=Qp(s,e,d,d+p),_=f>=0&&n[f];if(o&&!_||!o&&!(h>=0&&n[h])){Td(Ul(l,i),a,s);const g=function gR(t,e,n,r,o){const i=new Qa(t,n,k,null);return i.multi=[],i.index=e,i.componentProviders=0,w0(i,o,r&&!n),i;}(o?vR:yR,n.length,o,r,c);!o&&_&&(n[f].providerFactory=g),Kp(a,t,e.length,0),e.push(s),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push(g),i.push(g);}else Kp(a,t,h>-1?h:f,w0(n[o?f:h],c,!o&&r));!o&&r&&_&&n[f].componentProviders++;}}}function Kp(t,e,n,r){const o=Dn(e),a=function Ry(t){return!!t.useClass;}(e);if(o||a){const s=(a?Y(e.useClass):e).prototype.ngOnDestroy;if(s){const c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,s]):c[d+1].push(r,s);}else c.push(n,s);}}}function w0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1;}function Qp(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1;}function yR(t,e,n,r,o){return Yp(this.multi,[]);}function vR(t,e,n,r,o){const a=this.multi;let i;if(this.providerFactory){const l=this.providerFactory.componentProviders,s=Xa(r,r[1],this.providerFactory.index,o);i=s.slice(0,l),Yp(a,i);for(let c=l;c<s.length;c++)i.push(s[c]);}else i=[],Yp(a,i);return i;}function Yp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e;}function De(t,e=[]){return n=>{n.providersResolver=(r,o)=>function fR(t,e,n){const r=Z();if(r.firstCreatePass){const o=At(t);Wp(n,r.data,r.blueprint,o,!0),Wp(e,r.data,r.blueprint,o,!1);}}(r,o?o(t):t,e);};}function Zp(t,e,n,r,o){return E0(w(),pt(),t,e,n,r,o);}function C0(t,e,n,r,o,a){return function x0(t,e,n,r,o,a,i,l){const s=e+n;return function Rs(t,e,n,r,o){const a=eo(t,e,n,r);return Ce(t,e+2,o)||a;}(t,s,o,a,i)?_n(t,s+3,l?r.call(l,o,a,i):r(o,a,i)):Bi(t,s+3);}(w(),pt(),t,e,n,r,o,a);}function Bi(t,e){const n=t[e];return n===de?void 0:n;}function E0(t,e,n,r,o,a,i){const l=e+n;return eo(t,l,o,a)?_n(t,l+2,i?r.call(i,o,a):r(o,a)):Bi(t,l+2);}function N0(t,e){return bs(t,e);}let cP=(()=>{var t;class e{constructor(){u(this,"zone",A(ue)),u(this,"changeDetectionScheduler",A(zr)),u(this,"applicationRef",A(pr)),u(this,"applicationErrorHandler",A(An)),u(this,"_onMicrotaskEmptySubscription",void 0);}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick();}catch(r){this.applicationErrorHandler(r);}});}}));}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe();}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac,providedIn:"root"})),e;})();function nh({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return null!=t||(t=()=>new ue({...rh(),scheduleInRootZone:n})),[{provide:ue,useFactory:t},{provide:Or,multi:!0,useFactory:()=>{const r=A(cP,{optional:!0});return()=>r.initialize();}},{provide:Or,multi:!0,useFactory:()=>{const r=A(mP);return()=>{r.initialize();};}},!0===e?{provide:_v,useValue:!0}:[],{provide:bv,useValue:null!=n?n:hb},{provide:An,useFactory:()=>{const r=A(ue),o=A(Tt);let a;return i=>{r.runOutsideAngular(()=>{o.destroyed&&!a?setTimeout(()=>{throw i;}):(null!=a||(a=o.get(Bo)),a.handleError(i));});};}}];}function rh(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n};}let mP=(()=>{var t;class e{constructor(){u(this,"subscription",new Mt()),u(this,"initialized",!1),u(this,"zone",A(ue)),u(this,"pendingTasks",A(Ur));}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null);});}));}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),null!=r||(r=this.pendingTasks.add());}));}ngOnDestroy(){this.subscription.unsubscribe();}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac,providedIn:"root"})),e;})(),ah=(()=>{var t;class e{constructor(){var r,o,a;u(this,"applicationErrorHandler",A(An)),u(this,"appRef",A(pr)),u(this,"taskService",A(Ur)),u(this,"ngZone",A(ue)),u(this,"zonelessEnabled",A(gv)),u(this,"tracing",A(Mi,{optional:!0})),u(this,"disableScheduling",null!==(r=A(_v,{optional:!0}))&&void 0!==r&&r),u(this,"zoneIsDefined",typeof Zone<"u"&&!!Zone.root.run),u(this,"schedulerTickApplyArgs",[{data:{__scheduler_tick__:!0}}]),u(this,"subscriptions",new Mt()),u(this,"angularZoneId",this.zoneIsDefined?null===(o=this.ngZone._inner)||void 0===o?void 0:o.get(Vs):null),u(this,"scheduleInRootZone",!this.zonelessEnabled&&this.zoneIsDefined&&null!==(a=A(bv,{optional:!0}))&&void 0!==a&&a),u(this,"cancelScheduledCallback",null),u(this,"useMicrotaskScheduler",!1),u(this,"runningTick",!1),u(this,"pendingRenderTaskId",null),this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup();})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup();})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof fp||!this.zoneIsDefined));}notify(r){var o,a;if(!this.zonelessEnabled&&5===r)return;let i=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,i=!0;break;case 12:this.appRef.dirtyFlags|=16,i=!0;break;case 11:i=!0;break;default:this.appRef.dirtyFlags|=8;}if(this.appRef.tracingSnapshot=null!==(o=null===(a=this.tracing)||void 0===a?void 0:a.snapshot(this.appRef.tracingSnapshot))&&void 0!==o?o:null,!this.shouldScheduleTick(i))return;const l=this.useMicrotaskScheduler?yb:fb;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()));}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vs+this.angularZoneId));}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick();},void 0,this.schedulerTickApplyArgs);}catch(o){this.taskService.remove(r),this.applicationErrorHandler(o);}finally{this.cleanup();}this.useMicrotaskScheduler=!0,yb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r);});}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup();}cleanup(){var r;if(this.runningTick=!1,null===(r=this.cancelScheduledCallback)||void 0===r||r.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o);}}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac,providedIn:"root"})),e;})();const yr=new S("",{providedIn:"root",factory:()=>A(yr,{optional:!0,skipSelf:!0})||function pP(){return typeof $localize<"u"&&$localize.locale||Qs;}()});new S("").__NG_ELEMENT_ID__=t=>{const e=X();if(null===e)throw new b(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new b(204,!1);};const cu=new S(""),xP=new S("");function zi(t){return!t.moduleRef;}let lw,vr=null;let dh=(()=>{class t{}return u(t,"__NG_ELEMENT_ID__",AP),t;})();function AP(t){return function RP(t,e,n){if(er(t)&&!n){const r=mt(t.index,e);return new mi(r,r);}return 175&t.type?new mi(e[15],e):null;}(X(),w(),!(16&~t));}class hw{constructor(){}supports(e){return As(e);}create(e){return new OP(e);}}const PP=(t,e)=>e;class OP{constructor(e){u(this,"length",0),u(this,"collection",void 0),u(this,"_linkedRecords",null),u(this,"_unlinkedRecords",null),u(this,"_previousItHead",null),u(this,"_itHead",null),u(this,"_itTail",null),u(this,"_additionsHead",null),u(this,"_additionsTail",null),u(this,"_movesHead",null),u(this,"_movesTail",null),u(this,"_removalsHead",null),u(this,"_removalsTail",null),u(this,"_identityChangesHead",null),u(this,"_identityChangesTail",null),u(this,"_trackByFn",void 0),this._trackByFn=e||PP;}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n);}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const i=!r||n&&n.currentIndex<yw(r,o,a)?n:r,l=yw(i,o,a),s=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{a||(a=[]);const c=l-o,d=s-o;if(c!=d){for(let p=0;p<c;p++){const h=p<a.length?a[p]:a[p]=0,f=h+p;d<=f&&f<c&&(a[p]=h+1);}a[i.previousIndex]=d-c;}}l!==s&&e(i,l,s);}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n);}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n);}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n);}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n);}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n);}diff(e){if(null==e&&(e=[]),!As(e))throw new b(900,!1);return this.check(e)?this:null;}onDestroy(){}check(e){this._reset();let o,a,i,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)a=e[l],i=this._trackByFn(l,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,l)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,l),r=!0),n=n._next;}else o=0,function dI(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value);}}(e,l=>{i=this._trackByFn(o,l),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,l,i,o)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,i,o),r=!0),n=n._next,o++;}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty;}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead;}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null;}}_mismatch(e,n,r,o){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,a,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,a,o)):e=this._addAfter(new FP(n,r),a,o),e;}_verifyReinsertion(e,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?e=this._reinsertAfter(a,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e;}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n;}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null);}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,a=e._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e;}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e;}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e;}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fw()),this._linkedRecords.put(e),e.currentIndex=r,e;}_remove(e){return this._addToRemovals(this._unlink(e));}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e;}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e;}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw()),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e;}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e;}}class FP{constructor(e,n){u(this,"item",void 0),u(this,"trackById",void 0),u(this,"currentIndex",null),u(this,"previousIndex",null),u(this,"_nextPrevious",null),u(this,"_prev",null),u(this,"_next",null),u(this,"_prevDup",null),u(this,"_nextDup",null),u(this,"_prevRemoved",null),u(this,"_nextRemoved",null),u(this,"_nextAdded",null),u(this,"_nextMoved",null),u(this,"_nextIdentityChange",null),this.item=e,this.trackById=n;}}class LP{constructor(){u(this,"_head",null),u(this,"_tail",null);}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e);}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null;}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head;}}class fw{constructor(){u(this,"map",new Map());}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new LP(),this.map.set(n,r)),r.add(e);}get(e,n){const o=this.map.get(e);return o?o.get(e,n):null;}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e;}get isEmpty(){return 0===this.map.size;}clear(){this.map.clear();}}function yw(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o;}function gw(){return new mh([new hw()]);}let mh=(()=>{class e{constructor(r){u(this,"factories",void 0),this.factories=r;}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a);}return new e(r);}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||gw()),deps:[[e,new Cd(),new kd()]]};}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new b(901,!1);}}return u(e,"\u0275prov",j({token:e,providedIn:"root",factory:gw})),e;})();function HP(t){se(8);try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,o=function NP(t=[]){if(vr)return vr;const e=function dw(t=[],e){return ht.create({name:e,providers:[{provide:Qc,useValue:"platform"},{provide:cu,useValue:new Set([()=>vr=null])},...t]});}(t);return vr=e,function FN(){!function YC(t){ry=t;}(()=>{throw new b(600,"");});}(),function mw(t){const e=t.get(gg,null);ed(t,()=>{null==e||e.forEach(n=>n());});}(e),e;}(r),a=[nh({}),{provide:zr,useExisting:ah},fv,...(n||[])];return function iw(t){const e=zi(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ue);return n.run(()=>{zi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(An);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r});}),zi(t)){const a=()=>e.destroy(),i=t.platformInjector.get(cu);i.add(a),e.onDestroy(()=>{o.unsubscribe(),i.delete(a);});}else{const a=()=>t.moduleRef.destroy(),i=t.platformInjector.get(cu);i.add(a),t.moduleRef.onDestroy(()=>{qs(t.allPlatformModules,t.moduleRef),o.unsubscribe(),i.delete(a);});}return function MP(t,e,n){try{const r=n();return Gs(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o;}):r;}catch(r){throw e.runOutsideAngular(()=>t(r)),r;}}(r,n,()=>{const a=e.get(Ur),i=a.add(),l=e.get(Qb);return l.runInitializers(),l.donePromise.then(()=>{if(function $A(t){"string"==typeof t&&(y2=t.toLowerCase().replace(/_/g,"-"));}(e.get(yr,Qs)||Qs),!e.get(xP,!0))return zi(t)?e.get(pr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(zi(t)){const m=e.get(pr);return void 0!==t.rootComponent&&m.bootstrap(t.rootComponent),m;}var d;return null===(d=lw)||void 0===d||d(t.moduleRef,t.allPlatformModules),t.moduleRef;}).finally(()=>{a.remove(i);});});});}({r3Injector:new Y_({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:e});}catch(e){return Promise.reject(e);}finally{se(9);}}const _h=new S("");let Gw=(()=>{var t;class e{constructor(r,o){u(this,"_zone",void 0),u(this,"_plugins",void 0),u(this,"_eventNameToPlugin",new Map()),this._zone=o,r.forEach(a=>{a.manager=this;}),this._plugins=r.slice().reverse();}addEventListener(r,o,a,i){return this._findPluginFor(o).addEventListener(r,o,a,i);}getZone(){return this._zone;}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(i=>i.supports(r)),!o)throw new b(5101,!1);return this._eventNameToPlugin.set(r,o),o;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(_h),V(ue));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();class qw{constructor(e){u(this,"_doc",void 0),u(this,"manager",void 0),this._doc=e;}}const bh="ng-app-id";function Ww(t){for(const e of t)e.remove();}function Kw(t,e){const n=e.createElement("style");return n.textContent=t,n;}function wh(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n;}let Qw=(()=>{var t;class e{constructor(r,o,a,i={}){u(this,"doc",void 0),u(this,"appId",void 0),u(this,"nonce",void 0),u(this,"inline",new Map()),u(this,"external",new Map()),u(this,"hosts",new Set()),this.doc=r,this.appId=o,this.nonce=a,function zO(t,e,n,r){var o;const a=null===(o=t.head)||void 0===o?void 0:o.querySelectorAll(`style[${bh}="${e}"],link[${bh}="${e}"]`);if(a)for(const i of a)i.removeAttribute(bh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]});}(r,o,this.inline,this.external),this.hosts.add(r.head);}addStyles(r,o){for(const a of r)this.addUsage(a,this.inline,Kw);null==o||o.forEach(a=>this.addUsage(a,this.external,wh));}removeStyles(r,o){for(const a of r)this.removeUsage(a,this.inline);null==o||o.forEach(a=>this.removeUsage(a,this.external));}addUsage(r,o,a){const i=o.get(r);i?i.usage++:o.set(r,{usage:1,elements:[...this.hosts].map(l=>this.addElement(l,a(r,this.doc)))});}removeUsage(r,o){const a=o.get(r);a&&(a.usage--,a.usage<=0&&(Ww(a.elements),o.delete(r)));}ngOnDestroy(){for(const[,{elements:r}]of[...this.inline,...this.external])Ww(r);this.hosts.clear();}addHost(r){this.hosts.add(r);for(const[o,{elements:a}]of this.inline)a.push(this.addElement(r,Kw(o,this.doc)));for(const[o,{elements:a}]of this.external)a.push(this.addElement(r,wh(o,this.doc)));}removeHost(r){this.hosts.delete(r);}addElement(r,o){return this.nonce&&o.setAttribute("nonce",this.nonce),r.appendChild(o);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(yn),V(Zl),V(bg,8),V(Vd));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();const kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ch=/%COMP%/g,QO=new S("",{providedIn:"root",factory:()=>!0});function Zw(t,e){return e.map(n=>n.replace(Ch,t));}let Dh=(()=>{var t;class e{constructor(r,o,a,i,l,s,c,d=null,m=null){u(this,"eventManager",void 0),u(this,"sharedStylesHost",void 0),u(this,"appId",void 0),u(this,"removeStylesOnCompDestroy",void 0),u(this,"doc",void 0),u(this,"platformId",void 0),u(this,"ngZone",void 0),u(this,"nonce",void 0),u(this,"tracingService",void 0),u(this,"rendererByCompId",new Map()),u(this,"defaultRenderer",void 0),u(this,"platformIsServer",void 0),this.eventManager=r,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=i,this.doc=l,this.platformId=s,this.ngZone=c,this.nonce=d,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new Eh(r,l,c,this.platformIsServer,this.tracingService);}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;const a=this.getOrCreateRenderer(r,o);return a instanceof Jw?a.applyToHost(r):a instanceof xh&&a.applyStyles(),a;}getOrCreateRenderer(r,o){const a=this.rendererByCompId;let i=a.get(o.id);if(!i){const l=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,p=this.platformIsServer,h=this.tracingService;switch(o.encapsulation){case Fn.Emulated:i=new Jw(c,d,o,this.appId,m,l,s,p,h);break;case Fn.ShadowDom:return new JO(c,d,r,o,l,s,this.nonce,p,h);default:i=new xh(c,d,o,m,l,s,p,h);}a.set(o.id,i);}return i;}ngOnDestroy(){this.rendererByCompId.clear();}componentReplaced(r){this.rendererByCompId.delete(r);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(Gw),V(Qw),V(Zl),V(QO),V(yn),V(Vd),V(ue),V(bg),V(Mi,8));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();class Eh{constructor(e,n,r,o,a){u(this,"eventManager",void 0),u(this,"doc",void 0),u(this,"ngZone",void 0),u(this,"platformIsServer",void 0),u(this,"tracingService",void 0),u(this,"data",Object.create(null)),u(this,"throwOnSyntheticProps",!0),u(this,"destroyNode",null),this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=a;}destroy(){}createElement(e,n){return n?this.doc.createElementNS(kh[n]||n,e):this.doc.createElement(e);}createComment(e){return this.doc.createComment(e);}createText(e){return this.doc.createTextNode(e);}appendChild(e,n){(Xw(e)?e.content:e).appendChild(n);}insertBefore(e,n,r){e&&(Xw(e)?e.content:e).insertBefore(n,r);}removeChild(e,n){n.remove();}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r;}parentNode(e){return e.parentNode;}nextSibling(e){return e.nextSibling;}setAttribute(e,n,r,o){if(o){n=o+":"+n;const a=kh[o];a?e.setAttributeNS(a,n,r):e.setAttribute(n,r);}else e.setAttribute(n,r);}removeAttribute(e,n,r){if(r){const o=kh[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`);}else e.removeAttribute(n);}addClass(e,n){e.classList.add(n);}removeClass(e,n){e.classList.remove(n);}setStyle(e,n,r,o){o&(ur.DashCase|ur.Important)?e.style.setProperty(n,r,o&ur.Important?"important":""):e.style[n]=r;}removeStyle(e,n,r){r&ur.DashCase?e.style.removeProperty(n):e.style[n]="";}setProperty(e,n,r){null!=e&&(e[n]=r);}setValue(e,n){e.nodeValue=n;}listen(e,n,r,o){var a;if("string"==typeof e&&!(e=Wa().getGlobalEventTarget(this.doc,e)))throw new b(5102,!1);let i=this.decoratePreventDefault(r);return null!==(a=this.tracingService)&&void 0!==a&&a.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o);}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault();};}}function Xw(t){return"TEMPLATE"===t.tagName&&void 0!==t.content;}class JO extends Eh{constructor(e,n,r,o,a,i,l,s,c){var d;super(e,a,i,s,c),u(this,"sharedStylesHost",void 0),u(this,"hostEl",void 0),u(this,"shadowRoot",void 0),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=o.styles;m=Zw(o.id,m);for(const f of m){const y=document.createElement("style");l&&y.setAttribute("nonce",l),y.textContent=f,this.shadowRoot.appendChild(y);}const h=null===(d=o.getExternalStyles)||void 0===d?void 0:d.call(o);if(h)for(const f of h){const y=wh(f,a);l&&y.setAttribute("nonce",l),this.shadowRoot.appendChild(y);}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e;}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n);}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r);}removeChild(e,n){return super.removeChild(null,n);}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)));}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot);}}class xh extends Eh{constructor(e,n,r,o,a,i,l,s,c){var d;super(e,a,i,l,s),u(this,"sharedStylesHost",void 0),u(this,"removeStylesOnCompDestroy",void 0),u(this,"styles",void 0),u(this,"styleUrls",void 0),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let m=r.styles;this.styles=c?Zw(c,m):m,this.styleUrls=null===(d=r.getExternalStyles)||void 0===d?void 0:d.call(r,c);}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls);}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls);}}class Jw extends xh{constructor(e,n,r,o,a,i,l,s,c){const d=o+"-"+r.id;super(e,n,r,a,i,l,s,c,d),u(this,"contentAttr",void 0),u(this,"hostAttr",void 0),this.contentAttr=function YO(t){return"_ngcontent-%COMP%".replace(Ch,t);}(d),this.hostAttr=function ZO(t){return"_nghost-%COMP%".replace(Ch,t);}(d);}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"");}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r;}}class Sh extends vD{constructor(...e){super(...e),u(this,"supportsDOMEvents",!0);}static makeCurrent(){!function yD(t){null!=qa||(qa=t);}(new Sh());}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o);};}dispatchEvent(e,n){e.dispatchEvent(n);}remove(e){e.remove();}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e);}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle");}getDefaultDocument(){return document;}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE;}isShadowRoot(e){return e instanceof DocumentFragment;}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null;}getBaseHref(e){const n=function eF(){return Ki=Ki||document.head.querySelector("base"),Ki?Ki.getAttribute("href"):null;}();return null==n?null:function tF(t){return new URL(t,document.baseURI).pathname;}(n);}resetBaseElement(){Ki=null;}getUserAgent(){return window.navigator.userAgent;}getCookie(e){return kv(document.cookie,e);}}let Ki=null,rF=(()=>{var t;class e{build(){return new XMLHttpRequest();}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();const ek=["alt","control","meta","shift"],aF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function tk(t){var e;return{appProviders:[...hF,...(null!==(e=null==t?void 0:t.providers)&&void 0!==e?e:[])],platformProviders:mF};}const mF=[{provide:Vd,useValue:"browser"},{provide:gg,useValue:function uF(){Sh.makeCurrent();},multi:!0},{provide:yn,useFactory:function dF(){return function RE(t){jd=t;}(document),document;}}],hF=[{provide:Qc,useValue:"root"},{provide:Bo,useFactory:function cF(){return new Bo();}},{provide:_h,useClass:(()=>{var t;class e extends qw{constructor(r){super(r);}supports(r){return!0;}addEventListener(r,o,a,i){return r.addEventListener(o,a,i),()=>this.removeEventListener(r,o,a,i);}removeEventListener(r,o,a,i){return r.removeEventListener(o,a,i);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(yn));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})(),multi:!0,deps:[yn]},{provide:_h,useClass:(()=>{var t;class e extends qw{constructor(r){super(r);}supports(r){return null!=e.parseEventName(r);}addEventListener(r,o,a,i){const l=e.parseEventName(o),s=e.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wa().onAndCancel(r,l.domEventName,s,i));}static parseEventName(r){const o=r.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const i=e._normalizeKey(o.pop());let l="",s=o.indexOf("code");if(s>-1&&(o.splice(s,1),l="code."),ek.forEach(d=>{const m=o.indexOf(d);m>-1&&(o.splice(m,1),l+=d+".");}),l+=i,0!=o.length||0===i.length)return null;const c={};return c.domEventName=a,c.fullKey=l,c;}static matchEventFullKeyCode(r,o){let a=aF[r.key]||r.key,i="";return o.indexOf("code.")>-1&&(a=r.code,i="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ek.forEach(l=>{l!==a&&(0,iF[l])(r)&&(i+=l+".");}),i+=a,i===o);}static eventCallback(r,o,a){return i=>{e.matchEventFullKeyCode(i,r)&&a.runGuarded(()=>o(i));};}static _normalizeKey(r){return"esc"===r?"escape":r;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(yn));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})(),multi:!0,deps:[yn]},Dh,Qw,Gw,{provide:Is,useExisting:Dh},{provide:Cv,useClass:rF},[]];function $e(t){return function gF(t){const e=U(null);try{return t();}finally{U(e);}}(t);}function ln(t,e){return function WC(t,e){const n=Object.create(KC);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(Aa(n),hl(n),n.value===Kn)throw n.error;return n.value;};return r[tt]=n,bc(n),r;}(t,null==e?void 0:e.equal);}Error,Error;var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t;}(vt||{}),ye=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t;}(ye||{}),jt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t;}(jt||{});function bu(t,e){return Zt(yt(t)[ke.DateFormat],e);}function wu(t,e){return Zt(yt(t)[ke.TimeFormat],e);}function ku(t,e){return Zt(yt(t)[ke.DateTimeFormat],e);}function Yt(t,e){const n=yt(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(12===e)return n[ke.NumberSymbols][0];if(13===e)return n[ke.NumberSymbols][1];}return r;}function uk(t){if(!t[ke.ExtraData])throw new b(2303,!1);}function Zt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new b(2304,!1);}function Nh(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n};}const qF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qi={},WF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function KF(t,e,n,r){let o=function r7(t){if(mk(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,a=1,i=1]=t.split("-").map(l=>+l);return Cu(o,a-1,i);}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(qF))return function o7(t){const e=new Date(0);let n=0,r=0;const o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const i=Number(t[4]||0)-n,l=Number(t[5]||0)-r,s=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(e,i,l,s,c),e;}(r);}const e=new Date(t);if(!mk(e))throw new b(2302,!1);return e;}(t);e=Bn(n,e)||e;let l,i=[];for(;e;){if(l=WF.exec(e),!l){i.push(e);break;}{i=i.concat(l.slice(1));const d=i.pop();if(!d)break;e=d;}}let s=o.getTimezoneOffset();r&&(s=dk(r,s),o=function n7(t,e){const o=t.getTimezoneOffset();return function t7(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t;}(t,-1*(dk(e,o)-o));}(o,r));let c="";return i.forEach(d=>{const m=function e7(t){if(Rh[t])return Rh[t];let e;switch(t){case"G":case"GG":case"GGG":e=be(3,ye.Abbreviated);break;case"GGGG":e=be(3,ye.Wide);break;case"GGGGG":e=be(3,ye.Narrow);break;case"y":e=ze(0,1,0,!1,!0);break;case"yy":e=ze(0,2,0,!0,!0);break;case"yyy":e=ze(0,3,0,!1,!0);break;case"yyyy":e=ze(0,4,0,!1,!0);break;case"Y":e=Su(1);break;case"YY":e=Su(2,!0);break;case"YYY":e=Su(3);break;case"YYYY":e=Su(4);break;case"M":case"L":e=ze(1,1,1);break;case"MM":case"LL":e=ze(1,2,1);break;case"MMM":e=be(2,ye.Abbreviated);break;case"MMMM":e=be(2,ye.Wide);break;case"MMMMM":e=be(2,ye.Narrow);break;case"LLL":e=be(2,ye.Abbreviated,vt.Standalone);break;case"LLLL":e=be(2,ye.Wide,vt.Standalone);break;case"LLLLL":e=be(2,ye.Narrow,vt.Standalone);break;case"w":e=Ah(1);break;case"ww":e=Ah(2);break;case"W":e=Ah(1,!0);break;case"d":e=ze(2,1);break;case"dd":e=ze(2,2);break;case"c":case"cc":e=ze(7,1);break;case"ccc":e=be(1,ye.Abbreviated,vt.Standalone);break;case"cccc":e=be(1,ye.Wide,vt.Standalone);break;case"ccccc":e=be(1,ye.Narrow,vt.Standalone);break;case"cccccc":e=be(1,ye.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=be(1,ye.Abbreviated);break;case"EEEE":e=be(1,ye.Wide);break;case"EEEEE":e=be(1,ye.Narrow);break;case"EEEEEE":e=be(1,ye.Short);break;case"a":case"aa":case"aaa":e=be(0,ye.Abbreviated);break;case"aaaa":e=be(0,ye.Wide);break;case"aaaaa":e=be(0,ye.Narrow);break;case"b":case"bb":case"bbb":e=be(0,ye.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=be(0,ye.Wide,vt.Standalone,!0);break;case"bbbbb":e=be(0,ye.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=be(0,ye.Abbreviated,vt.Format,!0);break;case"BBBB":e=be(0,ye.Wide,vt.Format,!0);break;case"BBBBB":e=be(0,ye.Narrow,vt.Format,!0);break;case"h":e=ze(3,1,-12);break;case"hh":e=ze(3,2,-12);break;case"H":e=ze(3,1);break;case"HH":e=ze(3,2);break;case"m":e=ze(4,1);break;case"mm":e=ze(4,2);break;case"s":e=ze(5,1);break;case"ss":e=ze(5,2);break;case"S":e=ze(6,1);break;case"SS":e=ze(6,2);break;case"SSS":e=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Eu(0);break;case"ZZZZZ":e=Eu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Eu(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Eu(2);break;default:return null;}return Rh[t]=e,e;}(d);c+=m?m(o,n,s):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'");}),c;}function Cu(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r;}function Bn(t,e){var n;const r=function PF(t){return yt(t)[ke.LocaleId];}(t);if(null!==(n=Qi[r])&&void 0!==n||(Qi[r]={}),Qi[r][e])return Qi[r][e];let o="";switch(e){case"shortDate":o=bu(t,jt.Short);break;case"mediumDate":o=bu(t,jt.Medium);break;case"longDate":o=bu(t,jt.Long);break;case"fullDate":o=bu(t,jt.Full);break;case"shortTime":o=wu(t,jt.Short);break;case"mediumTime":o=wu(t,jt.Medium);break;case"longTime":o=wu(t,jt.Long);break;case"fullTime":o=wu(t,jt.Full);break;case"short":const a=Bn(t,"shortTime"),i=Bn(t,"shortDate");o=Du(ku(t,jt.Short),[a,i]);break;case"medium":const l=Bn(t,"mediumTime"),s=Bn(t,"mediumDate");o=Du(ku(t,jt.Medium),[l,s]);break;case"long":const c=Bn(t,"longTime"),d=Bn(t,"longDate");o=Du(ku(t,jt.Long),[c,d]);break;case"full":const m=Bn(t,"fullTime"),p=Bn(t,"fullDate");o=Du(ku(t,jt.Full),[m,p]);}return o&&(Qi[r][e]=o),o;}function Du(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n;})),t;}function sn(t,e,n="-",r,o){let a="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,a=n));let i=String(t);for(;i.length<e;)i="0"+i;return r&&(i=i.slice(i.length-e)),a+i;}function ze(t,e,n=0,r=!1,o=!1){return function(a,i){let l=function YF(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new b(2301,!1);}}(t,a);if((n>0||l>-n)&&(l+=n),3===t)0===l&&-12===n&&(l=12);else if(6===t)return function QF(t,e){return sn(t,3).substring(0,e);}(l,e);const s=Yt(i,5);return sn(l,e,s,r,o);};}function be(t,e,n=vt.Format,r=!1){return function(o,a){return function ZF(t,e,n,r,o,a){switch(n){case 2:return function LF(t,e,n){const r=yt(t),a=Zt([r[ke.MonthsFormat],r[ke.MonthsStandalone]],e);return Zt(a,n);}(e,o,r)[t.getMonth()];case 1:return function FF(t,e,n){const r=yt(t),a=Zt([r[ke.DaysFormat],r[ke.DaysStandalone]],e);return Zt(a,n);}(e,o,r)[t.getDay()];case 0:const i=t.getHours(),l=t.getMinutes();if(a){const c=function $F(t){const e=yt(t);return uk(e),(e[ke.ExtraData][2]||[]).map(r=>"string"==typeof r?Nh(r):[Nh(r[0]),Nh(r[1])]);}(e),d=function HF(t,e,n){const r=yt(t);uk(r);const a=Zt([r[ke.ExtraData][0],r[ke.ExtraData][1]],e)||[];return Zt(a,n)||[];}(e,o,r),m=c.findIndex(p=>{if(Array.isArray(p)){const[h,f]=p,y=i>=h.hours&&l>=h.minutes,_=i<f.hours||i===f.hours&&l<f.minutes;if(h.hours<f.hours){if(y&&_)return!0;}else if(y||_)return!0;}else if(p.hours===i&&p.minutes===l)return!0;return!1;});if(-1!==m)return d[m];}return function OF(t,e,n){const r=yt(t),a=Zt([r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],e);return Zt(a,n);}(e,o,r)[i<12?0:1];case 3:return function jF(t,e){return Zt(yt(t)[ke.Eras],e);}(e,r)[t.getFullYear()<=0?0:1];default:throw new b(2302,!1);}}(o,a,t,e,n,r);};}function Eu(t){return function(e,n,r){const o=-1*r,a=Yt(n,5),i=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+sn(i,2,a)+sn(Math.abs(o%60),2,a);case 1:return"GMT"+(o>=0?"+":"")+sn(i,1,a);case 2:return"GMT"+(o>=0?"+":"")+sn(i,2,a)+":"+sn(Math.abs(o%60),2,a);case 3:return 0===r?"Z":(o>=0?"+":"")+sn(i,2,a)+":"+sn(Math.abs(o%60),2,a);default:throw new b(2302,!1);}};}const XF=0,xu=4;function ck(t){const e=t.getDay(),n=0===e?-3:xu-e;return Cu(t.getFullYear(),t.getMonth(),t.getDate()+n);}function Ah(t,e=!1){return function(n,r){let o;if(e){const a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,i=n.getDate();o=1+Math.floor((i+a)/7);}else{const a=ck(n),i=function JF(t){const e=Cu(t,XF,1).getDay();return Cu(t,0,1+(e<=xu?xu:xu+7)-e);}(a.getFullYear()),l=a.getTime()-i.getTime();o=1+Math.round(l/6048e5);}return sn(o,t,Yt(r,5));};}function Su(t,e=!1){return function(n,r){return sn(ck(n).getFullYear(),t,Yt(r,5),e);};}const Rh={};function dk(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n;}function mk(t){return t instanceof Date&&!isNaN(t.valueOf());}const Vh=/\s+/,yk=[];let ka=(()=>{var t;class e{constructor(r,o){u(this,"_ngEl",void 0),u(this,"_renderer",void 0),u(this,"initialClasses",yk),u(this,"rawClass",void 0),u(this,"stateMap",new Map()),this._ngEl=r,this._renderer=o;}set klass(r){this.initialClasses=null!=r?r.trim().split(Vh):yk;}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Vh):r;}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const o of r)this._updateState(o,!0);else if(null!=r)for(const o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff();}_updateState(r,o){const a=this.stateMap.get(r);void 0!==a?(a.enabled!==o&&(a.changed=!0,a.enabled=o),a.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0});}_applyStateDiff(){for(const r of this.stateMap){const o=r[0],a=r[1];a.changed?(this._toggleClass(o,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),a.touched=!1;}}_toggleClass(r,o){(r=r.trim()).length>0&&r.split(Vh).forEach(a=>{o?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a);});}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(qt),k(Jr));}),u(e,"\u0275dir",K({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})),e;})();class v7{constructor(e,n,r,o){u(this,"$implicit",void 0),u(this,"ngForOf",void 0),u(this,"index",void 0),u(this,"count",void 0),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o;}get first(){return 0===this.index;}get last(){return this.index===this.count-1;}get even(){return this.index%2==0;}get odd(){return!this.even;}}let $n=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0;}set ngForTrackBy(r){this._trackByFn=r;}get ngForTrackBy(){return this._trackByFn;}constructor(r,o,a){u(this,"_viewContainer",void 0),u(this,"_template",void 0),u(this,"_differs",void 0),u(this,"_ngForOf",null),u(this,"_ngForOfDirty",!0),u(this,"_differ",null),u(this,"_trackByFn",void 0),this._viewContainer=r,this._template=o,this._differs=a;}set ngForTemplate(r){r&&(this._template=r);}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy));}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r);}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((a,i,l)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new v7(a.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)o.remove(null===i?void 0:i);else if(null!==i){const s=o.get(i);o.move(s,l),gk(s,a);}});for(let a=0,i=o.length;a<i;a++){const s=o.get(a).context;s.index=a,s.count=i,s.ngForOf=this._ngForOf;}r.forEachIdentityChange(a=>{gk(o.get(a.currentIndex),a);});}static ngTemplateContextGuard(r,o){return!0;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(bn),k(jn),k(mh));}),u(e,"\u0275dir",K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})),e;})();function gk(t,e){t.context.$implicit=e.item;}let gr=(()=>{var t;class e{constructor(r,o){u(this,"_viewContainer",void 0),u(this,"_context",new g7()),u(this,"_thenTemplateRef",null),u(this,"_elseTemplateRef",null),u(this,"_thenViewRef",null),u(this,"_elseViewRef",null),this._viewContainer=r,this._thenTemplateRef=o;}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView();}set ngIfThen(r){_k(r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView();}set ngIfElse(r){_k(r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView();}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)));}static ngTemplateContextGuard(r,o){return!0;}}return t=e,u(e,"ngIfUseIfTypeGuard",void 0),u(e,"ngTemplateGuard_ngIf",void 0),u(e,"\u0275fac",function(r){return new(r||t)(k(bn),k(jn));}),u(e,"\u0275dir",K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})),e;})();class g7{constructor(){u(this,"$implicit",null),u(this,"ngIf",null);}}function _k(t,e){if(t&&!t.createEmbeddedView)throw new b(2020,!1);}const N7=new S(""),A7=new S("");let wk=(()=>{var t;class e{constructor(r,o,a){u(this,"locale",void 0),u(this,"defaultTimezone",void 0),u(this,"defaultOptions",void 0),this.locale=r,this.defaultTimezone=o,this.defaultOptions=a;}transform(r,o,a,i){if(null==r||""===r||r!=r)return null;try{var l,s,c,d,m;const p=null!==(l=null!=o?o:null===(s=this.defaultOptions)||void 0===s?void 0:s.dateFormat)&&void 0!==l?l:"mediumDate",h=null!==(c=null!==(d=null!=a?a:null===(m=this.defaultOptions)||void 0===m?void 0:m.timezone)&&void 0!==d?d:this.defaultTimezone)&&void 0!==c?c:void 0;return KF(r,p,i||this.locale,h);}catch(p){throw function un(t,e){return new b(2100,!1);}();}}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(yr,16),k(N7,24),k(A7,24));}),u(e,"\u0275pipe",Ct({name:"date",type:t,pure:!0})),e;})(),Xt=(()=>{var t;class e{}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275mod",Ei({type:t})),u(e,"\u0275inj",So({})),e;})(),mo=(()=>{var t;class e{constructor(){this.messageSubject=new Qn(),this.message$=this.messageSubject.asObservable();}emitErrorMessage(r){this.messageSubject.next({type:"error",message:r});}emitInfoMessage(r){this.messageSubject.next({type:"info",message:r});}}return(t=e).ɵfac=function(r){return new(r||t)();},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})();const H7=(t,e)=>({"toast-error":t,"toast-info":e});function z7(t,e){if(1&t){const n=wn();E(0,"div",2)(1,"div",3)(2,"strong",4),Q(3),x(),E(4,"small"),Q(5),function I0(t,e){const n=Z();let r;const o=t+L;var a;n.firstCreatePass?(r=function TR(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r;}}(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(null!==(a=n.destroyHooks)&&void 0!==a?a:n.destroyHooks=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=Pr(r.type)),s=bt(k);try{const c=zl(!1),d=i();return zl(c),function od(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r;}(n,w(),o,d),d;}finally{bt(s);}}(6,"date"),x(),E(7,"button",5),J("click",function(){const o=Rt(n).$implicit;return Pt(pe().removeMessage(o.id));}),Q(8,"\xd7"),x()(),E(9,"div",6),Q(10),x()();}if(2&t){const n=e.$implicit;B("ngClass",Zp(7,H7,"error"===n.type,"info"===n.type)),M(3),ru("error"===n.type?"Error":"Information"),M(2),ru(function T0(t,e,n,r){const o=t+L,a=w(),i=$r(a,o);return function $i(t,e){return t[1].data[e].pure;}(a,o)?E0(a,pt(),e,i.transform,n,r,i):i.transform(n,r);}(6,4,n.timestamp,"HH:mm:ss")),M(5),Xe(" ",n.message," ");}}let U7=(()=>{var t;class e{constructor(r){this.notificationService=r,this.messages=[],this.subscription=new Mt(),this.messageCounter=0,this.displayDuration=3500;}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(r=>{const o=this.messageCounter++;this.messages.push({id:o,type:r.type,message:r.message,timestamp:new Date()}),setTimeout(()=>{this.removeMessage(o);},this.displayDuration);}));}ngOnDestroy(){this.subscription.unsubscribe();}removeMessage(r){const o=this.messages.findIndex(a=>a.id===r);-1!==o&&this.messages.splice(o,1);}}return(t=e).ɵfac=function(r){return new(r||t)(k(mo));},t.ɵcmp=Lt({type:t,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(r,o){1&r&&(E(0,"div",0),Se(1,z7,11,10,"div",1),x()),2&r&&(M(),B("ngForOf",o.messages));},dependencies:[Xt,ka,$n,wk],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px rgba(0,0,0,.15);overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:#fff;border-left:4px solid #777;color:#212529}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:#5bc0de}.toast.toast-info[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#5bc0de}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]}),e;})();function _r(t){return this instanceof _r?(this.v=t,this):new _r(t);}function xk(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Wh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t};}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.");}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this;},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(l,s){!function o(a,i,l,s){Promise.resolve(s).then(function(c){a({value:c,done:l});},i);}(l,s,(i=t[a](i)).done,i.value);});};}}"function"==typeof SuppressedError&&SuppressedError;const Sk=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Mk(t){return Fe(null==t?void 0:t.then);}function Ik(t){return Fe(t[Tc]);}function Tk(t){return Symbol.asyncIterator&&Fe(null==t?void 0:t[Symbol.asyncIterator]);}function Nk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);}const Ak=function vL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";}();function Rk(t){return Fe(null==t?void 0:t[Ak]);}function Pk(t){return function Ek(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),a=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function i(h){return function(f){return Promise.resolve(f).then(h,m);};}),o[Symbol.asyncIterator]=function(){return this;},o;function l(h,f){r[h]&&(o[h]=function(y){return new Promise(function(_,g){a.push([h,y,_,g])>1||s(h,y);});},f&&(o[h]=f(o[h])));}function s(h,f){try{!function c(h){h.value instanceof _r?Promise.resolve(h.value.v).then(d,m):p(a[0][2],h);}(r[h](f));}catch(y){p(a[0][3],y);}}function d(h){s("next",h);}function m(h){s("throw",h);}function p(h,f){h(f),a.shift(),a.length&&s(a[0][0],a[0][1]);}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:o}=yield _r(n.read());if(o)return yield _r(void 0);yield yield _r(r);}}finally{n.releaseLock();}});}function Ok(t){return Fe(null==t?void 0:t.getReader);}function br(t){if(t instanceof st)return t;if(null!=t){if(Ik(t))return function gL(t){return new st(e=>{const n=t[Tc]();if(Fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable");});}(t);if(Sk(t))return function _L(t){return new st(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete();});}(t);if(Mk(t))return function bL(t){return new st(e=>{t.then(n=>{e.closed||(e.next(n),e.complete());},n=>e.error(n)).then(null,dy);});}(t);if(Tk(t))return Fk(t);if(Rk(t))return function wL(t){return new st(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete();});}(t);if(Ok(t))return function kL(t){return Fk(Pk(t));}(t);}throw Nk(t);}function Fk(t){return new st(e=>{(function CL(t,e){var n,r,o,a;return function Ck(t,e,n,r){return new(n||(n=Promise))(function(a,i){function l(d){try{c(r.next(d));}catch(m){i(m);}}function s(d){try{c(r.throw(d));}catch(m){i(m);}}function c(d){d.done?a(d.value):function o(a){return a instanceof n?a:new n(function(i){i(a);});}(d.value).then(l,s);}c((r=r.apply(t,e||[])).next());});}(this,void 0,void 0,function*(){try{for(n=xk(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return;}catch(i){o={error:i};}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n));}finally{if(o)throw o.error;}}e.complete();});})(t,e).catch(n=>e.error(n));});}function wr(t,e,n,r=0,o=!1){const a=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe();},r);if(t.add(a),!o)return a;}function Lk(t,e=0){return rr((n,r)=>{n.subscribe(Pn(r,o=>wr(r,t,()=>r.next(o),e),()=>wr(r,t,()=>r.complete(),e),o=>wr(r,t,()=>r.error(o),e)));});}function jk(t,e=0){return rr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e));});}function Vk(t,e){if(!t)throw new Error("Iterable cannot be null");return new st(n=>{wr(n,e,()=>{const r=t[Symbol.asyncIterator]();wr(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value);});},0,!0);});});}function Bk(t,e){return e?function IL(t,e){if(null!=t){if(Ik(t))return function DL(t,e){return br(t).pipe(jk(e),Lk(e));}(t,e);if(Sk(t))return function xL(t,e){return new st(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule());});});}(t,e);if(Mk(t))return function EL(t,e){return br(t).pipe(jk(e),Lk(e));}(t,e);if(Tk(t))return Vk(t,e);if(Rk(t))return function SL(t,e){return new st(n=>{let r;return wr(n,e,()=>{r=t[Ak](),wr(n,e,()=>{let o,a;try{({value:o,done:a}=r.next());}catch(i){return void n.error(i);}a?n.complete():n.next(o);},0,!0);}),()=>Fe(null==r?void 0:r.return)&&r.return();});}(t,e);if(Ok(t))return function ML(t,e){return Vk(Pk(t),e);}(t,e);}throw Nk(t);}(t,e):br(t);}const{isArray:TL}=Array,{getPrototypeOf:NL,prototype:AL,keys:RL}=Object;function Qh(t){return t[t.length-1];}const{isArray:VL}=Array;function HL(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{});}function zL(...t){const e=function LL(t){return Fe(Qh(t))?t.pop():void 0;}(t),{args:n,keys:r}=function PL(t){if(1===t.length){const e=t[0];if(TL(e))return{args:e,keys:null};if(function OL(t){return t&&"object"==typeof t&&NL(t)===AL;}(e)){const n=RL(e);return{args:n.map(r=>e[r]),keys:n};}}return{args:t,keys:null};}(t),o=new st(a=>{const{length:i}=n;if(!i)return void a.complete();const l=new Array(i);let s=i,c=i;for(let d=0;d<i;d++){let m=!1;br(n[d]).subscribe(Pn(a,p=>{m||(m=!0,c--),l[d]=p;},()=>s--,void 0,()=>{(!s||!m)&&(c||a.next(r?HL(r,l):l),a.complete());}));}});return e?o.pipe(function $L(t){return or(e=>function BL(t,e){return VL(e)?t(...e):t(e);}(t,e));}(e)):o;}let $k=(()=>{var t;class e{constructor(r,o){u(this,"_renderer",void 0),u(this,"_elementRef",void 0),u(this,"onChange",a=>{}),u(this,"onTouched",()=>{}),this._renderer=r,this._elementRef=o;}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o);}registerOnTouched(r){this.onTouched=r;}registerOnChange(r){this.onChange=r;}setDisabledState(r){this.setProperty("disabled",r);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(Jr),k(qt));}),u(e,"\u0275dir",K({type:t})),e;})(),po=(()=>{var t;class e extends $k{}return t=e,u(e,"\u0275fac",(()=>{let n;return function(o){return(n||(n=at(t)))(o||t);};})()),u(e,"\u0275dir",K({type:t,features:[me]})),e;})();const kn=new S(""),UL={provide:kn,useExisting:ge(()=>Yh),multi:!0};let Yh=(()=>{var t;class e extends po{writeValue(r){this.setProperty("checked",r);}}return t=e,u(e,"\u0275fac",(()=>{let n;return function(o){return(n||(n=at(t)))(o||t);};})()),u(e,"\u0275dir",K({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){1&r&&J("change",function(i){return o.onChange(i.target.checked);})("blur",function(){return o.onTouched();});},standalone:!1,features:[De([UL]),me]})),e;})();const GL={provide:kn,useExisting:ge(()=>Ca),multi:!0},WL=new S("");let Ca=(()=>{var t;class e extends $k{constructor(r,o,a){super(r,o),u(this,"_compositionMode",void 0),u(this,"_composing",!1),this._compositionMode=a,null==this._compositionMode&&(this._compositionMode=!function qL(){const t=Wa()?Wa().getUserAgent():"";return /android (\d+)/.test(t.toLowerCase());}());}writeValue(r){this.setProperty("value",null==r?"":r);}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r);}_compositionStart(){this._composing=!0;}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(Jr),k(qt),k(WL,8));}),u(e,"\u0275dir",K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&J("input",function(i){return o._handleInput(i.target.value);})("blur",function(){return o.onTouched();})("compositionstart",function(){return o._compositionStart();})("compositionend",function(i){return o._compositionEnd(i.target.value);});},standalone:!1,features:[De([GL]),me]})),e;})();const it=new S(""),kr=new S("");function Kk(t){return e=>{var n,r;const o=null!==(n=null===(r=e.value)||void 0===r?void 0:r.length)&&void 0!==n?n:function Xh(t){return null==t?null:Array.isArray(t)||"string"==typeof t?t.length:t instanceof Set?t.size:null;}(e.value);return null!==o&&o>t?{maxlength:{requiredLength:t,actualLength:o}}:null;};}function Iu(t){return null;}function Yk(t){return null!=t;}function Zk(t){return Gs(t)?Bk(t):t;}function Xk(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e;}),0===Object.keys(e).length?null:e;}function Jk(t,e){return e.map(n=>n(t));}function e3(t){return t.map(e=>function QL(t){return!t.validate;}(e)?e:n=>e.validate(n));}function Jh(t){return null!=t?function t3(t){if(!t)return null;const e=t.filter(Yk);return 0==e.length?null:function(n){return Xk(Jk(n,e));};}(e3(t)):null;}function ef(t){return null!=t?function n3(t){if(!t)return null;const e=t.filter(Yk);return 0==e.length?null:function(n){return zL(Jk(n,e).map(Zk)).pipe(or(Xk));};}(e3(t)):null;}function r3(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e];}function tf(t){return t?Array.isArray(t)?t:[t]:[];}function Tu(t,e){return Array.isArray(t)?t.includes(e):t===e;}function i3(t,e){const n=tf(e);return tf(t).forEach(o=>{Tu(n,o)||n.push(o);}),n;}function l3(t,e){return tf(e).filter(n=>!Tu(t,n));}class s3{constructor(){u(this,"_composedValidatorFn",void 0),u(this,"_composedAsyncValidatorFn",void 0),u(this,"_rawValidators",[]),u(this,"_rawAsyncValidators",[]),u(this,"_onDestroyCallbacks",[]);}get value(){return this.control?this.control.value:null;}get valid(){return this.control?this.control.valid:null;}get invalid(){return this.control?this.control.invalid:null;}get pending(){return this.control?this.control.pending:null;}get disabled(){return this.control?this.control.disabled:null;}get enabled(){return this.control?this.control.enabled:null;}get errors(){return this.control?this.control.errors:null;}get pristine(){return this.control?this.control.pristine:null;}get dirty(){return this.control?this.control.dirty:null;}get touched(){return this.control?this.control.touched:null;}get status(){return this.control?this.control.status:null;}get untouched(){return this.control?this.control.untouched:null;}get statusChanges(){return this.control?this.control.statusChanges:null;}get valueChanges(){return this.control?this.control.valueChanges:null;}get path(){return null;}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jh(this._rawValidators);}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ef(this._rawAsyncValidators);}get validator(){return this._composedValidatorFn||null;}get asyncValidator(){return this._composedAsyncValidatorFn||null;}_registerOnDestroy(e){this._onDestroyCallbacks.push(e);}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[];}reset(e=void 0){this.control&&this.control.reset(e);}hasError(e,n){return!!this.control&&this.control.hasError(e,n);}getError(e,n){return this.control?this.control.getError(e,n):null;}}class gt extends s3{constructor(...e){super(...e),u(this,"name",void 0);}get formDirective(){return null;}get path(){return null;}}class Cr extends s3{constructor(...e){super(...e),u(this,"_parent",null),u(this,"name",null),u(this,"valueAccessor",null);}}class u3{constructor(e){u(this,"_cd",void 0),this._cd=e;}get isTouched(){var e,n,r;return null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||null===(n=e._touched)||void 0===n||n.call(e),!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.touched);}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched);}get isPristine(){var e,n,r;return null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||null===(n=e._pristine)||void 0===n||n.call(e),!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.pristine);}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty);}get isValid(){var e,n,r;return null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||null===(n=e._status)||void 0===n||n.call(e),!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.valid);}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid);}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending);}get isSubmitted(){var e,n,r;return null===(e=this._cd)||void 0===e||null===(n=e._submitted)||void 0===n||n.call(e),!(null===(r=this._cd)||void 0===r||!r.submitted);}}let Nu=(()=>{var t;class e extends u3{constructor(r){super(r);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(k(Cr,2));}),u(e,"\u0275dir",K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&eu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending);},standalone:!1,features:[me]})),e;})();const Zi="VALID",Ru="INVALID",Da="PENDING",Xi="DISABLED";class Ea{}class d3 extends Ea{constructor(e,n){super(),u(this,"value",void 0),u(this,"source",void 0),this.value=e,this.source=n;}}class of extends Ea{constructor(e,n){super(),u(this,"pristine",void 0),u(this,"source",void 0),this.pristine=e,this.source=n;}}class af extends Ea{constructor(e,n){super(),u(this,"touched",void 0),u(this,"source",void 0),this.touched=e,this.source=n;}}class Pu extends Ea{constructor(e,n){super(),u(this,"status",void 0),u(this,"source",void 0),this.status=e,this.source=n;}}function Ou(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t;}class uf{constructor(e,n){u(this,"_pendingDirty",!1),u(this,"_hasOwnPendingAsyncValidator",null),u(this,"_pendingTouched",!1),u(this,"_onCollectionChange",()=>{}),u(this,"_updateOn",void 0),u(this,"_parent",null),u(this,"_asyncValidationSubscription",void 0),u(this,"_composedValidatorFn",void 0),u(this,"_composedAsyncValidatorFn",void 0),u(this,"_rawValidators",void 0),u(this,"_rawAsyncValidators",void 0),u(this,"value",void 0),u(this,"_status",ln(()=>this.statusReactive())),u(this,"statusReactive",nr(void 0)),u(this,"errors",void 0),u(this,"_pristine",ln(()=>this.pristineReactive())),u(this,"pristineReactive",nr(!0)),u(this,"_touched",ln(()=>this.touchedReactive())),u(this,"touchedReactive",nr(!1)),u(this,"_events",new Qn()),u(this,"events",this._events.asObservable()),u(this,"valueChanges",void 0),u(this,"statusChanges",void 0),u(this,"_onDisabledChange",[]),this._assignValidators(e),this._assignAsyncValidators(n);}get validator(){return this._composedValidatorFn;}set validator(e){this._rawValidators=this._composedValidatorFn=e;}get asyncValidator(){return this._composedAsyncValidatorFn;}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e;}get parent(){return this._parent;}get status(){return $e(this.statusReactive);}set status(e){$e(()=>this.statusReactive.set(e));}get valid(){return this.status===Zi;}get invalid(){return this.status===Ru;}get pending(){return this.status==Da;}get disabled(){return this.status===Xi;}get enabled(){return this.status!==Xi;}get pristine(){return $e(this.pristineReactive);}set pristine(e){$e(()=>this.pristineReactive.set(e));}get dirty(){return!this.pristine;}get touched(){return $e(this.touchedReactive);}set touched(e){$e(()=>this.touchedReactive.set(e));}get untouched(){return!this.touched;}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change";}setValidators(e){this._assignValidators(e);}setAsyncValidators(e){this._assignAsyncValidators(e);}addValidators(e){this.setValidators(i3(e,this._rawValidators));}addAsyncValidators(e){this.setAsyncValidators(i3(e,this._rawAsyncValidators));}removeValidators(e){this.setValidators(l3(e,this._rawValidators));}removeAsyncValidators(e){this.setAsyncValidators(l3(e,this._rawAsyncValidators));}hasValidator(e){return Tu(this._rawValidators,e);}hasAsyncValidator(e){return Tu(this._rawAsyncValidators,e);}clearValidators(){this.validator=null;}clearAsyncValidators(){this.asyncValidator=null;}markAsTouched(e={}){var n;const r=!1===this.touched;this.touched=!0;const o=null!==(n=e.sourceControl)&&void 0!==n?n:this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:o}),r&&!1!==e.emitEvent&&this._events.next(new af(!0,o));}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e));}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e));}markAsUntouched(e={}){var n;const r=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const o=null!==(n=e.sourceControl)&&void 0!==n?n:this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:o});}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,o),r&&!1!==e.emitEvent&&this._events.next(new af(!1,o));}markAsDirty(e={}){var n;const r=!0===this.pristine;this.pristine=!1;const o=null!==(n=e.sourceControl)&&void 0!==n?n:this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:o}),r&&!1!==e.emitEvent&&this._events.next(new of(!1,o));}markAsPristine(e={}){var n;const r=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const o=null!==(n=e.sourceControl)&&void 0!==n?n:this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent});}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,o),r&&!1!==e.emitEvent&&this._events.next(new of(!0,o));}markAsPending(e={}){var n;this.status=Da;const r=null!==(n=e.sourceControl)&&void 0!==n?n:this;!1!==e.emitEvent&&(this._events.next(new Pu(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:r});}disable(e={}){var n;const r=this._parentMarkedDirty(e.onlySelf);this.status=Xi,this.errors=null,this._forEachChild(a=>{a.disable({...e,onlySelf:!0});}),this._updateValue();const o=null!==(n=e.sourceControl)&&void 0!==n?n:this;!1!==e.emitEvent&&(this._events.next(new d3(this.value,o)),this._events.next(new Pu(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r},this),this._onDisabledChange.forEach(a=>a(!0));}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zi,this._forEachChild(r=>{r.enable({...e,onlySelf:!0});}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1));}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n));}setParent(e){this._parent=e;}getRawValue(){return this.value;}updateValueAndValidity(e={}){var n;if(this._setInitialStatus(),this._updateValue(),this.enabled){const o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zi||this.status===Da)&&this._runAsyncValidator(o,e.emitEvent);}const r=null!==(n=e.sourceControl)&&void 0!==n?n:this;!1!==e.emitEvent&&(this._events.next(new d3(this.value,r)),this._events.next(new Pu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:r});}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent});}_setInitialStatus(){this.status=this._allControlsDisabled()?Xi:Zi;}_runValidator(){return this.validator?this.validator(this):null;}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==e};const r=Zk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e});});}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var e,n,r;this._asyncValidationSubscription.unsubscribe();const o=null!==(e=(null===(n=this._hasOwnPendingAsyncValidator)||void 0===n?void 0:n.emitEvent)||(null===(r=this._hasOwnPendingAsyncValidator)||void 0===r?void 0:r.shouldHaveEmitted))&&void 0!==e&&e;return this._hasOwnPendingAsyncValidator=null,o;}return!1;}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted);}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this);}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null;}hasError(e,n){return!!this.getError(e,n);}get root(){let e=this;for(;e._parent;)e=e._parent;return e;}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r);}_initObservables(){this.valueChanges=new qe(),this.statusChanges=new qe();}_calculateStatus(){return this._allControlsDisabled()?Xi:this.errors?Ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(Ru)?Ru:Zi;}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e);}_anyControlsDirty(){return this._anyControls(e=>e.dirty);}_anyControlsTouched(){return this._anyControls(e=>e.touched);}_updatePristine(e,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new of(this.pristine,n));}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new af(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n);}_registerOnCollectionChange(e){this._onCollectionChange=e;}_setUpdateStrategy(e){Ou(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn);}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty();}_find(e){return null;}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function r6(t){return Array.isArray(t)?Jh(t):t||null;}(this._rawValidators);}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function o6(t){return Array.isArray(t)?ef(t):t||null;}(this._rawAsyncValidators);}}const xa=new S("",{providedIn:"root",factory:()=>Fu}),Fu="always";function Ji(t,e,n=Fu){var r,o;(function df(t,e){const n=function o3(t){return t._rawValidators;}(t);null!==e.validator?t.setValidators(r3(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function a3(t){return t._rawAsyncValidators;}(t);null!==e.asyncValidator?t.setAsyncValidators(r3(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Vu(e._rawValidators,o),Vu(e._rawAsyncValidators,o);})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(o=e.valueAccessor).setDisabledState)||void 0===r||r.call(o,t.disabled)),function l6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&y3(t,e);});}(t,e),function u6(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r);};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n);});}(t,e),function s6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&y3(t,e),"submit"!==t.updateOn&&t.markAsTouched();});}(t,e),function i6(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r);};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n);});}}(t,e);}function Vu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e);});}function y3(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1;}function _3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1);}function b3(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t;}Promise.resolve();const w3=class extends uf{constructor(e=null,n,r){super(function lf(t){return(Ou(t)?t.validators:t)||null;}(n),function sf(t,e){return(Ou(e)?e.asyncValidators:t)||null;}(r,n)),u(this,"defaultValue",null),u(this,"_onChange",[]),u(this,"_pendingValue",void 0),u(this,"_pendingChange",!1),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ou(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=b3(e)?e.value:e);}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n);}patchValue(e,n={}){this.setValue(e,n);}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1;}_updateValue(){}_anyControls(e){return!1;}_allControlsDisabled(){return this.disabled;}registerOnChange(e){this._onChange.push(e);}_unregisterOnChange(e){_3(this._onChange,e);}registerOnDisabledChange(e){this._onDisabledChange.push(e);}_unregisterOnDisabledChange(e){_3(this._onDisabledChange,e);}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0));}_applyFormState(e){b3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e;}},_6={provide:Cr,useExisting:ge(()=>tl)},k3=Promise.resolve();let tl=(()=>{var t;class e extends Cr{constructor(r,o,a,i,l,s){super(),u(this,"_changeDetectorRef",void 0),u(this,"callSetDisabledState",void 0),u(this,"control",new w3()),u(this,"_registered",!1),u(this,"viewModel",void 0),u(this,"name",""),u(this,"isDisabled",void 0),u(this,"model",void 0),u(this,"options",void 0),u(this,"update",new qe()),this._changeDetectorRef=l,this.callSetDisabledState=s,this._parent=r,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function hf(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(a=>{a.constructor===Ca?n=a:function m6(t){return Object.getPrototypeOf(t.constructor)===po;}(a)?r=a:o=a;}),o||r||n||null;}(0,i);}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const o=r.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)});}this._setUpControl();}"isDisabled"in r&&this._updateDisabled(r),function pf(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue);}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}get path(){return this._getPath(this.name);}get formDirective(){return this._parent?this._parent.formDirective:null;}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r);}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0;}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn);}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone);}_setUpStandalone(){Ji(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1});}_checkForErrors(){this._checkName();}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone();}_updateValue(r){k3.then(()=>{var o;this.control.setValue(r,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck();});}_updateDisabled(r){const o=r.isDisabled.currentValue,a=0!==o&&function hh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t;}(o);k3.then(()=>{var i;a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck();});}_getPath(r){return this._parent?function Lu(t,e){return[...e.path,t];}(r,this._parent):[r];}}return t=e,u(e,"ngAcceptInputType_isDisabled",void 0),u(e,"\u0275fac",function(r){return new(r||t)(k(gt,9),k(it,10),k(kr,10),k(kn,10),k(dh,8),k(xa,8));}),u(e,"\u0275dir",K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[De([_6]),me,ar]})),e;})();let ho=(()=>{var t;class e{constructor(){u(this,"_validator",Iu),u(this,"_onChange",void 0),u(this,"_enabled",void 0);}ngOnChanges(r){if(this.inputName in r){const o=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Iu,this._onChange&&this._onChange();}}validate(r){return this._validator(r);}registerOnValidatorChange(r){this._onChange=r;}enabled(r){return null!=r;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275dir",K({type:t,features:[ar]})),e;})();const H6={provide:it,useExisting:ge(()=>gf),multi:!0};let gf=(()=>{var t;class e extends ho{constructor(...r){super(...r),u(this,"maxlength",void 0),u(this,"inputName","maxlength"),u(this,"normalizeInput",o=>function A3(t){return"number"==typeof t?t:parseInt(t,10);}(o)),u(this,"createValidator",o=>Kk(o));}}return t=e,u(e,"\u0275fac",(()=>{let n;return function(o){return(n||(n=at(t)))(o||t);};})()),u(e,"\u0275dir",K({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ft("maxlength",o._enabled?o.maxlength:null);},inputs:{maxlength:"maxlength"},standalone:!1,features:[De([H6]),me]})),e;})(),U6=(()=>{var t;class e{}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275mod",Ei({type:t})),u(e,"\u0275inj",So({})),e;})(),fo=(()=>{var t;class e{static withConfig(r){var o;return{ngModule:e,providers:[{provide:xa,useValue:null!==(o=r.callSetDisabledState)&&void 0!==o?o:Fu}]};}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275mod",Ei({type:t})),u(e,"\u0275inj",So({imports:[U6]})),e;})(),Sa=(()=>{var t;class e{constructor(r){this.el=r,this.previousValue="";}onFocus(){this.previousValue=this.el.nativeElement.value,this.el.nativeElement.value="";}onBlur(){""===this.el.nativeElement.value&&(this.el.nativeElement.value=this.previousValue,this.el.nativeElement.dispatchEvent(new Event("input",{bubbles:!0})));}}return(t=e).ɵfac=function(r){return new(r||t)(k(qt));},t.ɵdir=K({type:t,selectors:[["input","type","tel"]],hostBindings:function(r,o){1&r&&J("focus",function(){return o.onFocus();})("blur",function(){return o.onBlur();});}}),e;})();var rl=function(t){return t.poison="poison",t.wound="wound",t.brittle="brittle",t.ward="ward",t.immobilize="immobilize",t.bane="bane",t.muddle="muddle",t.stun="stun",t.impair="impair",t.disarm="disarm",t;}(rl||{}),Oe=function(t){return t.None="none",t.Full="full",t.Half="half",t;}(Oe||{}),Vt=function(t){return t.Fire="fire",t.Ice="ice",t.Earth="earth",t.Air="air",t.Light="light",t.Dark="dark",t;}(Vt||{});let ol=(()=>{var t;class e{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}]};}}return(t=e).ɵfac=function(r){return new(r||t)();},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})(),q6=(()=>{var t;class e{parseInt(r){return parseInt(void 0!==r?String(r):"0")||0;}}return(t=e).ɵfac=function(r){return new(r||t)();},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})(),_f=(()=>{var t;class e{constructor(r,o){this.dataLoader=r,this.stringUtils=o,this.creatureIdCounter=0,this.dataFile=this.dataLoader.getData();}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter;}createCreature(r){var o,a,i,l,s,c,d,m,p,h,f,y,_,g,v,D,I,T,$,R,ce,Me,oe,Ve,Ue,_t,Gn,Ia,N,P,F,ee,we,St,Ge,tn,ve,Ta;const q=this.findMonsterStats(r);return{id:this.generateCreatureId(),name:r.aggressive?this.createCreatureName(r):r.name,type:r.type,standee:null!==(o=r.standee)&&void 0!==o?o:"#",level:null!==(a=r.level)&&void 0!==a?a:1,hp:Math.max(this.stringUtils.parseInt(null!==(i=null==q||null===(l=q.baseStat)||void 0===l?void 0:l.health)&&void 0!==i?i:0),this.stringUtils.parseInt(null!==(s=null==q||null===(c=q.stats[0])||void 0===c?void 0:c.health)&&void 0!==s?s:0),this.stringUtils.parseInt(null!==(d=r.hp)&&void 0!==d?d:0)),attack:Math.max(this.stringUtils.parseInt(null!==(m=null==q||null===(p=q.baseStat)||void 0===p?void 0:p.attack)&&void 0!==m?m:0),this.stringUtils.parseInt(null!==(h=null==q||null===(f=q.stats[0])||void 0===f?void 0:f.attack)&&void 0!==h?h:0)),movement:Math.max(this.stringUtils.parseInt(null!==(y=null==q||null===(_=q.baseStat)||void 0===_?void 0:_.movement)&&void 0!==y?y:0),this.stringUtils.parseInt(null!==(g=null==q||null===(v=q.stats[0])||void 0===v?void 0:v.movement)&&void 0!==g?g:0)),initiative:null!==(D=r.initiative)&&void 0!==D?D:0,armor:this.stringUtils.parseInt(null!==(I=null!==(T=null==q||null===($=q.stats)||void 0===$||null===($=$[0])||void 0===$||null===($=$.actions)||void 0===$||null===($=$.find(Ie=>"shield"===Ie.type))||void 0===$?void 0:$.value)&&void 0!==T?T:null==q||null===(R=q.stats)||void 0===R||null===(R=R[0])||void 0===R||null===(R=R.baseStat)||void 0===R||null===(R=R.actions)||void 0===R||null===(R=R.find(Ie=>"shield"===Ie.type))||void 0===R?void 0:R.value)&&void 0!==I?I:0),retaliate:this.stringUtils.parseInt(null!==(ce=null!==(Me=null==q||null===(oe=q.stats)||void 0===oe||null===(oe=oe[0])||void 0===oe||null===(oe=oe.actions)||void 0===oe||null===(oe=oe.find(Ie=>"retaliate"===Ie.type))||void 0===oe?void 0:oe.value)&&void 0!==Me?Me:null==q||null===(Ve=q.stats)||void 0===Ve||null===(Ve=Ve[0])||void 0===Ve||null===(Ve=Ve.baseStat)||void 0===Ve||null===(Ve=Ve.actions)||void 0===Ve||null===(Ve=Ve.find(Ie=>"retaliate"===Ie.type))||void 0===Ve?void 0:Ve.value)&&void 0!==ce?ce:0),aggressive:r.aggressive,boss:null!==(Ue=null==q?void 0:q.boss)&&void 0!==Ue&&Ue,flying:null!==(_t=null==q?void 0:q.flying)&&void 0!==_t&&_t,isElite:null!==(Gn=r.isElite)&&void 0!==Gn&&Gn,conditions:null!==(Ia=r.conditions)&&void 0!==Ia?Ia:[],roundArmor:null!==(N=r.roundArmor)&&void 0!==N?N:0,roundRetaliate:null!==(P=r.roundRetaliate)&&void 0!==P?P:0,actions:null!==(F=null!==(ee=null!==(we=null==q||null===(St=q.actions)||void 0===St?void 0:St.filter(Ie=>"condition"===Ie.type))&&void 0!==we?we:null==q||null===(Ge=q.baseStat)||void 0===Ge||null===(Ge=Ge.actions)||void 0===Ge?void 0:Ge.filter(Ie=>"condition"===Ie.type))&&void 0!==ee?ee:null==q||null===(tn=q.stats)||void 0===tn?void 0:tn.flatMap(Ie=>{var lt;return null!==(lt=Ie.actions)&&void 0!==lt?lt:[];}).filter(Ie=>"condition"===Ie.type))&&void 0!==F?F:[],log:null!==(ve=r.log)&&void 0!==ve?ve:[],traits:null!==(Ta=r.traits)&&void 0!==Ta?Ta:[]};}createCreatureName(r){var o;let a=`${r.type} ${null!==(o=r.standee)&&void 0!==o?o:""}`;return r.isElite?`\u2605 ${a}`:a;}createCreatureList(r){const o=[];return r.forEach(a=>{o.push(this.createCreature(a));}),o;}findMonsterStats(r){const o=this.dataFile.monsters.find(l=>l.name===r.name||l.name===r.type);if(!o)return;const a=this.isCreatureElite(r),i=o.stats.find(l=>(a?"elite"===l.type:"normal"===l.type||!l.type)&&l.level===r.level);return i?{...o,stats:[i]}:void 0;}isCreatureElite(r){return"elite"===r.type||"elite"===r.player4||!0===r.isElite;}}return(t=e).ɵfac=function(r){return new(r||t)(V(ol),V(q6));},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})(),Jt=(()=>{var t;class e{constructor(r,o){this.dataLoader=r,this.creatureFactory=o,this.defaultLevel=1,this.isGroupSelected=!1,this.selectedCreature=null,this.addMonsterToggled=!1,this.creaturesSubject=new xo([]),this.creatures$=this.creaturesSubject.asObservable(),this.graveyardSubject=new xo([]),this.graveyard$=this.graveyardSubject.asObservable(),this.roundNumberSubject=new xo(1),this.roundNumber$=this.roundNumberSubject.asObservable(),this.elementsSubject=new xo([{type:Vt.Fire,state:Oe.None},{type:Vt.Ice,state:Oe.None},{type:Vt.Earth,state:Oe.None},{type:Vt.Air,state:Oe.None},{type:Vt.Light,state:Oe.None},{type:Vt.Dark,state:Oe.None}]),this.elements$=this.elementsSubject.asObservable(),this.addDefaultCharacters();}getRoundNumber(){return this.roundNumberSubject.getValue();}setRoundNumber(r){this.roundNumberSubject.next(r);}getElements(){return this.elementsSubject.getValue();}setElements(r){this.elementsSubject.next([...r]);}setElementState(r,o){const a=this.getElements().map(i=>i.type===r?{...i,state:o}:i);this.setElements(a);}getCreatures(){return this.creaturesSubject.value;}setCreatures(r){this.creaturesSubject.next(r);}addCreature(r){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(r)]);}addCreatures(r){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(r)]);}removeCreature(r){this.creaturesSubject.next(this.creaturesSubject.value.filter(o=>o.id!==r));}getGraveyard(){return this.graveyardSubject.value;}setGraveyard(r){this.graveyardSubject.next(r);}addGraveyard(r){this.graveyardSubject.next([...this.graveyardSubject.value,this.creatureFactory.createCreature(r)]);}removeGraveyard(r){this.graveyardSubject.next(this.graveyardSubject.value.filter(o=>o.id!==r));}updateCreatureBaseStat(r,o,a,i){const l=this.getCreatures(),s=this.findCreature(r);"name"===o&&(a=this.creatureFactory.createCreatureName(s)),i?l.filter(c=>c.type===s.type).forEach(c=>{this.updateCreatureBaseStat(c.id,o,a,!1);}):s[o]=a,this.creaturesSubject.next([...l]);}toggleCreatureConditions(r,o){const a=this.findCreature(r);if(!a)return;const i=a.conditions||[];a.conditions=i.indexOf(o)>-1?i.filter(s=>s!==o):[...i,o],this.creaturesSubject.next([...this.getCreatures()]);}findCreature(r){const a=this.getCreatures().find(i=>i.id===r);if(!a)throw Error("Creature not found");return a;}addDefaultCharacters(){const r=[{name:"\u0410\u043d\u044c\u0435\u043c\u043e\u043d\u044c\u0435",type:"coral",level:3},{name:"Arrabbiatus",type:"blinkblade",level:7},{name:"\u041a\u0430\u043b\u0438\u043d",type:"meteor",level:3},{name:"Stef4o",type:"fist",level:5}];this.defaultLevel=Math.round(r.reduce((a,i)=>a+i.level,0)/r.length/2);const o=r.map(({name:a,type:i,level:l})=>{var s,c;const d=this.dataLoader.getData().characters.find(f=>f.name===i),m=null==d?void 0:d.stats.find(f=>f.level===l),p=null!==(s=null==m?void 0:m.health)&&void 0!==s?s:10,h=null!==(c=null==d?void 0:d.traits)&&void 0!==c?c:[];return this.creatureFactory.createCreature({name:a,type:i,hp:p,traits:h,level:l,aggressive:!1});});this.addCreatures(o);}}return(t=e).ɵfac=function(r){return new(r||t)(V(ol),V(_f));},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})(),qu=(()=>{var t;class e{constructor(r){this.appContext=r,this.CHARACTERS="characters",this.GRAVEYARD="graveyard",this.SESSION_ID="sessionId",this.loadingEventSubject=new qe(),this.loadingEvent$=this.loadingEventSubject.asObservable();}load(r){const o=localStorage.getItem(r);return null!==o?JSON.parse(o):null;}loadCreatures(){return this.load(this.CHARACTERS)||this.appContext.getCreatures();}loadGraveyard(){return this.load(this.GRAVEYARD)||this.appContext.getGraveyard();}loadSessionId(){const r=this.load(this.SESSION_ID);return null!==r?r:0;}set(r,o){localStorage.setItem(r,o);}setSessionId(r){this.set(this.SESSION_ID,r.toString());}clear(r){localStorage.removeItem(r);}saveGame(){this.loadingEventSubject.emit(!0);const r=JSON.stringify(this.appContext.getCreatures()),o=JSON.stringify(this.appContext.getGraveyard);this.set(this.CHARACTERS,r),this.set(this.GRAVEYARD,o),this.loadingEventSubject.emit(!1);}resetGame(){localStorage.clear(),location.reload();}loadFile(r,o){var a=this;return Rn(function*(){var i;if(!r)throw new Error("Enter a valid scenario number");const l=String(r).padStart(3,"0"),c=`${((null===(i=document.querySelector("base"))||void 0===i?void 0:i.getAttribute("href"))||"/").replace(/\/$/,"")}/scenarios/${l}.json`;try{const d=yield fetch(c);if(!d.ok)throw new Error(`Failed to load file: ${d.status} ${d.statusText}`);const m=yield d.json();return a.processScenarioData(m,o);}catch(d){throw console.error("Error loading file:",d),new Error(`Error loading scenario ${r}. Check the file path and make sure it exists.`);}})();}processScenarioData(r,o=1){return r.rooms&&r.rooms[0]&&r.rooms[0].monster?r.rooms[0].monster.map(a=>({type:a.name,level:o,isElite:"elite"===(null==a?void 0:a.type)||"elite"===(null==a?void 0:a.player4),aggressive:!0})):[];}}return(t=e).ɵfac=function(r){return new(r||t)(V(Jt));},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})();var yo=function(t){return t.Host="host",t.Client="client",t;}(yo||{}),Hn=function(t){return t.JoinSession="join-session",t.ElementsUpdate="elements-update",t.RoundUpdate="round-update",t.GraveyardUpdate="graveyard-update",t.CharactersUpdate="characters-update",t;}(Hn||{});let B3=(()=>{var t;class e{constructor(r,o,a){this.appContext=r,this.notificationService=o,this.localStorageService=a,this.ws=null,this.isConnected=!1,this.sessionId=0,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnecting=!1,this.updatingFromServer=!1,this.clientId=null,this.clientIdSubject=new xo(null),this.clientId$=this.clientIdSubject.asObservable(),this.subscribeAndBroadcast(this.appContext.roundNumber$,Hn.RoundUpdate,i=>({roundNumber:i})),this.subscribeAndBroadcast(this.appContext.creatures$,Hn.CharactersUpdate,i=>({characters:i})),this.subscribeAndBroadcast(this.appContext.elements$,Hn.ElementsUpdate,i=>({elements:i}));}subscribeAndBroadcast(r,o,a){r.subscribe(i=>{this.updatingFromServer||this.sendUpdateMessage(o,{...a(i),originatingClientId:this.clientId});});}connect(r,o=1){this.role=r,this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const a={type:Hn.JoinSession,...(this.role!==yo.Host&&{sessionId:o}),characters:this.role===yo.Host?this.appContext.getCreatures():[],roundNumber:this.role===yo.Host?this.appContext.getRoundNumber():1,elementStates:this.role===yo.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(a)),this.isConnected=!0,this.reconnectAttempts=0,this.notificationService.emitInfoMessage("Connected to server successfully");},this.ws.onerror=a=>{this.isConnected=!1,this.notificationService.emitErrorMessage("Unable to connect to the server. Retrying..."),this.tryReconnect();},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect();},this.ws.onmessage=a=>{const i=JSON.parse(a.data);if("session-joined"===i.type)return this.handleSessionJoined(i);if(i.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,i.type){case Hn.CharactersUpdate:this.appContext.setCreatures(i.characters);break;case Hn.GraveyardUpdate:this.appContext.setGraveyard(i.graveyard);break;case Hn.RoundUpdate:this.appContext.setRoundNumber(i.roundNumber);break;case Hn.ElementsUpdate:this.appContext.setElements(i.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${i.type}`);}this.updatingFromServer=!1;}};}tryReconnect(){if(!this.reconnecting)if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const r=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role),this.reconnecting=!1;},r);}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts. Please refresh the page or check your connection.");}sendUpdateMessage(r,o){var a;(null===(a=this.ws)||void 0===a?void 0:a.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:r,...o,originatingClientId:this.clientId}));}handleSessionJoined(r){this.clientId=r.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=r.sessionId,this.localStorageService.setSessionId(r.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${r.sessionId}.`);}requestServerState(r){this.sendUpdateMessage("request-latest-state",{sessionId:r});}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId();}}return(t=e).ɵfac=function(r){return new(r||t)(V(Jt),V(mo),V(qu));},t.ɵprov=j({token:t,factory:t.ɵfac,providedIn:"root"}),e;})();function W6(t,e){if(1&t&&(E(0,"span"),Q(1),x()),2&t){const n=pe();M(),Xe("client id: ",n.clientId);}}let K6=(()=>{var t;class e{constructor(r,o,a,i,l,s){this.notificationService=r,this.storageService=o,this.appContext=a,this.dataLoader=i,this.creatureFactory=l,this.webSocketService=s,this.scenarioLevel=1,this.scenarioId=0,this.sectionId=0,this.sessionId=1,this.clientId=null,this.scenarioLevel=a.defaultLevel,this.webSocketService.clientId$.subscribe(c=>{this.clientId=c;});}startNewGame(){this.storageService.resetGame(),this.notificationService.emitInfoMessage("Started a new game");}loadScenario(){var r=this;return Rn(function*(){const o=yield r.storageService.loadFile(r.scenarioId,r.scenarioLevel).catch(a=>r.notificationService.emitErrorMessage(`Failed to load scenario: ${a.message}`));o&&(o.forEach(a=>{const i={level:r.scenarioLevel,aggressive:!0,...a};r.appContext.addCreature(r.creatureFactory.createCreature(i));}),r.notificationService.emitInfoMessage(`Loaded scenario ${r.scenarioId} at level ${r.scenarioLevel}.`));})();}loadSection(){const r=this.sectionId.toString().replace("#","."),o=this.dataLoader.getData().sections.find(i=>i.index===r);o&&o.rooms&&0!==o.rooms.length&&o.rooms[0].monster?(o.rooms[0].monster.forEach(i=>{this.appContext.addCreature(this.creatureFactory.createCreature({type:i.name,level:this.scenarioLevel,aggressive:!0}));}),this.notificationService.emitInfoMessage(`Loaded section ${this.sectionId} at level ${this.scenarioLevel}.`)):this.notificationService.emitErrorMessage(`Section ${this.sectionId} does not exist or has no monsters.`);}startSession(){this.webSocketService.connect(yo.Host);}joinSession(){this.webSocketService.connect(yo.Client,this.sessionId);}}return(t=e).ɵfac=function(r){return new(r||t)(k(mo),k(qu),k(Jt),k(ol),k(_f),k(B3));},t.ɵcmp=Lt({type:t,selectors:[["app-setup"]],decls:45,vars:5,consts:[[1,"setup-container","row","content"],[1,"section"],[1,"label-group"],["for","scenario-level"],["type","tel","placeholder","#",3,"ngModelChange","ngModel"],[1,"action-button",3,"click"],["for","scenario-id"],["type","tel","placeholder","1",3,"ngModelChange","ngModel"],[1,"technical-info"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/e/2PACX-1vQ3mIO6M9EcAcvLxGvf368ZtNINTWFTPUY3w8immfofr0ViH4KllF0lqUv_vTZzIdb74hHYOvI_Hwkq/pubhtml","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://www.gloomhavencards.com/fh/items?fbclid=IwY2xjawL8IHRleHRuA2FlbQIxMQABHkKcdLIcbofW8IUeOP6v5TWQoy0Zy87jam0ER3Wlj5h5ix4GIPpDYmtn_MYa_aem_uNM6fXKf3vBZx724Hs_wlw","target","_blank","title","Unlocked craftables",1,"button-link"],["href","https://docs.google.com/spreadsheets/d/1LXfBFjL74gE959ogz9Kj6Wbo_ieL4kZBT3jss13WZto/edit?gid=800894000#gid=800894000","target","_blank","title","Unlocked craftables",1,"button-link"],[4,"ngIf"]],template:function(r,o){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),Q(4,"Level"),x(),E(5,"input",4),Qt("ngModelChange",function(i){return an(o.scenarioLevel,i)||(o.scenarioLevel=i),i;}),x()(),E(6,"button",5),J("click",function(){return o.startNewGame();}),Q(7,"New"),x()(),E(8,"div",1)(9,"div",2)(10,"label",6),Q(11,"Mission"),x(),E(12,"input",4),Qt("ngModelChange",function(i){return an(o.scenarioId,i)||(o.scenarioId=i),i;}),x()(),E(13,"button",5),J("click",function(){return o.loadScenario();}),Q(14,"Load"),x()(),E(15,"div",1)(16,"div",2)(17,"label",6),Q(18,"Room"),x(),E(19,"input",4),Qt("ngModelChange",function(i){return an(o.sectionId,i)||(o.sectionId=i),i;}),x()(),E(20,"button",5),J("click",function(){return o.loadSection();}),Q(21,"Load"),x()(),E(22,"div",1)(23,"button",5),J("click",function(){return o.appContext.addMonsterToggled=!o.appContext.addMonsterToggled;}),Q(24,"Add Monster"),x()(),E(25,"div",1)(26,"button",5),J("click",function(){return o.startSession();}),Q(27,"Start Server"),x()(),E(28,"div",1)(29,"div",2)(30,"label",6),Q(31,"ID"),x(),E(32,"input",7),Qt("ngModelChange",function(i){return an(o.sessionId,i)||(o.sessionId=i),i;}),x()(),E(33,"button",5),J("click",function(){return o.joinSession();}),Q(34,"Join"),x()(),E(35,"div",8)(36,"a",9),Q(37,"Run Postman "),x(),E(38,"a",10),Q(39," View Unlocked Craftables "),x(),E(40,"a",11),Q(41," View All Items "),x(),E(42,"a",12),Q(43," View Crafting Calculator "),x(),Se(44,W6,2,1,"span",13),x()()),2&r&&(M(5),Kt("ngModel",o.scenarioLevel),M(7),Kt("ngModel",o.scenarioId),M(7),Kt("ngModel",o.sectionId),M(13),Kt("ngModel",o.sessionId),M(12),B("ngIf",o.clientId));},dependencies:[Xt,gr,fo,Ca,Nu,tl,Sa],styles:[".setup-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:center;background-color:var(--content-background-left);padding:10px 0 10px 5px}.setup-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:1rem;border-left:5px solid;gap:.5rem;flex:1 1 0px}.setup-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label-group[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.setup-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;font-size:20px}.setup-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-10em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]}),e;})();function $3(t){return rr((e,n)=>{br(t).subscribe(Pn(n,()=>n.complete(),Dc)),!n.closed&&e.subscribe(n);});}const Q6=(t,e,n)=>[t,e,n];function Y6(t,e){if(1&t&&(E(0,"div",8),Q(1),x()),2&t){const n=pe();M(),Xe(" ",n.creature.type," ");}}function Z6(t,e){if(1&t&&(E(0,"div",16),re(1,"div",17),Q(2),x()),2&t){const n=pe(2);M(2),Xe(" ",n.creature.armor+n.creature.roundArmor," ");}}function X6(t,e){if(1&t&&(E(0,"div",16),re(1,"div",18),Q(2),x()),2&t){const n=pe(2);M(2),Xe(" ",n.creature.retaliate+n.creature.roundRetaliate," ");}}function J6(t,e){1&t&&re(0,"div",21),2&t&&tu(e.$implicit.value);}function e8(t,e){if(1&t&&(E(0,"div",19),Se(1,J6,1,2,"div",20),x()),2&t){const n=pe(2);M(),B("ngForOf",n.creature.actions);}}function t8(t,e){1&t&&(E(0,"div",16),re(1,"div",22),x());}function n8(t,e){if(1&t&&(E(0,"div",9)(1,"div",10),Se(2,Z6,3,1,"div",11)(3,X6,3,1,"div",11)(4,e8,2,1,"div",12),E(5,"div",13),re(6,"div",14),Q(7),x()(),E(8,"div",10),Se(9,t8,2,0,"div",11),E(10,"div",13),re(11,"div",15),Q(12),x()()()),2&t){const n=pe();M(2),B("ngIf",(n.creature.armor||n.creature.roundArmor)&&n.creature.armor+n.creature.roundArmor>0),M(),B("ngIf",(n.creature.retaliate||n.creature.roundRetaliate)&&n.creature.retaliate+n.creature.roundRetaliate>0),M(),B("ngIf",n.creature.aggressive),M(3),Xe(" ",n.creature.attack," "),M(2),B("ngIf",n.creature.flying),M(3),Xe(" ",n.creature.movement," ");}}let r8=(()=>{var t;class e{constructor(r){this.appContext=r;}getCreaturePic(r){return r.aggressive?r.boss?"./images/bb/monster.svg":`./images/monster/thumbnail/fh-${null==r?void 0:r.type}.png`:`./images/character/thumbnail/fh-${null==r?void 0:r.type}.png`;}openConditionModal(){this.appContext.selectedCreature=this.creature,this.appContext.isGroupSelected=!0;}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-creature-group-header"]],inputs:{creature:"creature"},decls:8,vars:9,consts:[[1,"creature-details",3,"ngClass"],[1,"base-stat","row"],[1,"creature-initiative"],["type","tel","maxlength","2",1,"stat-input",3,"blur","value"],["class","name",4,"ngIf"],[1,"info","row"],[1,"profile",3,"click","src"],["class","group-stats",4,"ngIf"],[1,"name"],[1,"group-stats"],[1,"stats"],["class","base-stat",4,"ngIf"],["class","traits",4,"ngIf"],[1,"base-stat","bordered"],[1,"icon","attack"],[1,"icon","move"],[1,"base-stat"],[1,"icon","shield"],[1,"icon","retaliate"],[1,"traits"],["class","icon",3,"class",4,"ngFor","ngForOf"],[1,"icon"],[1,"icon","flying"]],template:function(r,o){1&r&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),J("blur",function(i){return o.appContext.updateCreatureBaseStat(o.creature.id,"initiative",+i.target.value,!0);}),x()(),Se(4,Y6,2,1,"div",4),x(),E(5,"div",5)(6,"img",6),J("click",function(){return o.openConditionModal();}),x(),Se(7,n8,13,6,"div",7),x()()),2&r&&(B("ngClass",C0(5,Q6,o.creature.type,!0===o.creature.isElite?"elite":!1===o.creature.isElite?"non-elite":"",o.creature.aggressive?"":"character")),M(3),B("value",o.creature.initiative),M(),B("ngIf",o.creature.aggressive),M(2),B("src",o.getCreaturePic(o.creature),um),M(),B("ngIf",o.creature.aggressive));},dependencies:[Xt,ka,$n,gr,Sa,fo],styles:[".creature-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;align-items:center;padding:0 10px 10px;display:flex;width:calc(100% - 20px)}.creature-details.elite[_ngcontent-%COMP%]{background:var(--elite-color)}.creature-details.non-elite[_ngcontent-%COMP%]{background:var(--nonelite-color)}.creature-details.character.coral[_ngcontent-%COMP%]{background-color:var(--coral-color)}.creature-details.character.fist[_ngcontent-%COMP%]{background-color:var(--fist-color)}.creature-details.character.blinkblade[_ngcontent-%COMP%]{background-color:var(--blinkblade-color)}.creature-details.character.meteor[_ngcontent-%COMP%]{background-color:var(--meteor-color)}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:center}.right-info[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:10px}.base-stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.base-stat[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;color:var(--font-color);border:none}img.profile[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;box-shadow:0 0 5px 2px}.base-info[_ngcontent-%COMP%], .group-stats[_ngcontent-%COMP%]{display:flex;width:calc(100% - 20px)}.base-info[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .group-stats[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:30px;height:40px}.bordered[_ngcontent-%COMP%]{border-left:1px solid var(--secondary-color);padding-left:10px}.group-stats[_ngcontent-%COMP%]{flex-direction:column;flex-shrink:2}.group-stats[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{justify-content:end;display:flex;margin-top:5px;gap:.5rem;flex-wrap:nowrap}.group-stats[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .base-stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5rem}.group-stats[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .base-stat[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:30px;height:30px}.group-stats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}"]}),e;})();function o8(t,e){if(1&t&&(E(0,"div",4)(1,"div",5),Q(2),re(3,"div",6),x(),E(4,"div",7),Q(5),re(6,"div",8),x()()),2&t){const n=pe();M(2),Xe(" ",n.creature.armor+n.creature.roundArmor," "),M(3),Xe(" ",n.creature.retaliate+n.creature.roundRetaliate," ");}}function a8(t,e){if(1&t){const n=wn();E(0,"div",9),J("click",function(){const o=Rt(n).$implicit;return Pt(pe().toggleCondition(o));}),re(1,"div",10),x();}if(2&t){const n=e.$implicit,r=pe();B("ngClass",n),M(),tu(n),B("ngClass",r.isActive(n)?"active":"");}}let H3=(()=>{var t;class e{constructor(){this.activeConditions=[],this.conditionToggled=new qe();}ngOnInit(){var r;null===(r=this.creature)||void 0===r||null===(r=r.conditions)||void 0===r||r.forEach(o=>{this.activeConditions.push(o);});}toggleCondition(r){this.creature&&(this.activeConditions.includes(r)?this.removeCondition(r):this.activeConditions.push(r),this.conditionToggled.emit(r));}isActive(r){return this.activeConditions.includes(r);}removeCondition(r){const o=this.activeConditions.findIndex(a=>a===r);-1!==o&&this.activeConditions.splice(o,1);}}return(t=e).ɵfac=function(r){return new(r||t)();},t.ɵcmp=Lt({type:t,selectors:[["app-conditions"]],inputs:{creature:"creature",conditions:"conditions",shouldShowBuffs:"shouldShowBuffs"},outputs:{conditionToggled:"conditionToggled"},decls:4,vars:2,consts:[[1,"container"],["class","buffs",4,"ngIf"],[1,"conditions"],["class","condition-element",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"buffs"],[1,"armor","stat"],[1,"icon","shield"],[1,"retaliate","stat"],[1,"icon","retaliate"],[1,"condition-element",3,"click","ngClass"],[1,"icon",3,"ngClass"]],template:function(r,o){1&r&&(E(0,"div",0),Se(1,o8,7,2,"div",1),E(2,"div",2),Se(3,a8,2,4,"div",3),x()()),2&r&&(M(),B("ngIf",o.shouldShowBuffs),M(2),B("ngForOf",o.conditions));},dependencies:[Xt,ka,$n,gr],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;height:100%}.container[_ngcontent-%COMP%]   .conditions[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .buffs[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.container[_ngcontent-%COMP%]   .conditions[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .buffs[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.container[_ngcontent-%COMP%]   .conditions[_ngcontent-%COMP%]   .condition-element[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .buffs[_ngcontent-%COMP%]   .condition-element[_ngcontent-%COMP%]{cursor:pointer;margin:5px}.container[_ngcontent-%COMP%]   .conditions[_ngcontent-%COMP%]   .condition-element[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:not(.active), .container[_ngcontent-%COMP%]   .buffs[_ngcontent-%COMP%]   .condition-element[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:not(.active){opacity:.5;filter:brightness(50%)}"]}),e;})();const i8=(t,e)=>[t,e];function l8(t,e){if(1&t){const n=wn();E(0,"div",5)(1,"input",6),J("blur",function(o){Rt(n);const a=pe();return Pt(a.updateStandee(a.creature.id,a.creature.type,+o.target.value));}),x(),E(2,"div",7)(3,"div",8)(4,"input",9),J("blur",function(o){Rt(n);const a=pe();return Pt(a.updateCreatureHp(a.creature.id,+o.target.value));}),x()()()();}if(2&t){const n=pe();M(),B("value",n.creature.standee),M(3),B("value",n.creature.hp);}}function s8(t,e){if(1&t&&(E(0,"div",12),Q(1),x()),2&t){const n=e.$implicit;uo("background","var(--"+pe(2).creature.type+"-color)"),M(),Xe(" ",n," ");}}function u8(t,e){if(1&t&&(E(0,"div",10),Se(1,s8,2,3,"div",11),x()),2&t){const n=pe();M(),B("ngForOf",n.creature.traits);}}function c8(t,e){if(1&t){const n=wn();E(0,"button",13),J("click",function(){return Rt(n),Pt(pe().openConditionModal());}),re(1,"div",14),Q(2,"Attack\n"),x();}}let d8=(()=>{var t;class e{constructor(r,o){this.appContext=r,this.notificationService=o;}openConditionModal(){this.appContext.selectedCreature=this.creature,this.appContext.isGroupSelected=!1;}toggleCondition(r){this.creature&&this.appContext.toggleCreatureConditions(this.creature.id,r);}updateCreatureHp(r,o){o<=0?(this.appContext.removeCreature(r),this.notificationService.emitInfoMessage(`${this.creature.name} has been killed!`)):this.appContext.updateCreatureBaseStat(r,"hp",o);}updateStandee(r,o,a){this.appContext.updateCreatureBaseStat(r,"standee",a),this.appContext.updateCreatureBaseStat(r,"name",`${o} - ${a}`);}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt),k(mo));},t.ɵcmp=Lt({type:t,selectors:[["app-creature"]],inputs:{creature:"creature"},decls:6,vars:11,consts:[["traitsBlock",""],[1,"container",3,"ngClass"],["class","creature-standee stat",4,"ngIf","ngIfElse"],[3,"conditionToggled","creature","conditions"],["class","open-modal button cancel",3,"click",4,"ngIf"],[1,"creature-standee","stat"],["type","tel","maxlength","2",1,"stat-input","initiative",3,"blur","value"],[1,"header","stat"],[1,"icon","heart"],["type","tel","maxlength","3",1,"stat-input",3,"blur","value"],[1,"creature-traits"],["class","trait",3,"background",4,"ngFor","ngForOf"],[1,"trait"],[1,"open-modal","button","cancel",3,"click"],[1,"icon","attack"]],template:function(r,o){if(1&r){const a=wn();E(0,"div",1),Se(1,l8,5,2,"div",2)(2,u8,2,1,"ng-template",null,0,N0),E(4,"app-conditions",3),J("conditionToggled",function(l){return Rt(a),Pt(o.toggleCondition(l));}),x()(),Se(5,c8,3,0,"button",4);}if(2&r){const a=j2(3);tu(o.creature.type),B("ngClass",Zp(8,i8,o.creature.isElite?"elite":"",o.creature.aggressive?"":"friendly")),M(),B("ngIf",o.creature.aggressive)("ngIfElse",a),M(3),B("creature",o.creature)("conditions",o.creature.conditions),M(),B("ngIf",o.creature.aggressive);}},dependencies:[Xt,ka,$n,gr,Sa,fo,H3],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;background:var(--nonelite-color)}.container.elite[_ngcontent-%COMP%]{background:var(--elite-color)}.container.friendly[_ngcontent-%COMP%]{background-color:var(--background-color)}.container[_ngcontent-%COMP%]   .initiative[_ngcontent-%COMP%]{border:none;background-color:var(--base-color-spots);border-radius:0 30px 30px 0;line-height:20px;font-size:20px;height:25px}.creature-traits[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;font-size:1rem;width:100%}.creature-traits[_ngcontent-%COMP%]   .trait[_ngcontent-%COMP%]{border-radius:6px;padding:2px 6px;text-align:center}input[_ngcontent-%COMP%]{background:none;color:var(--font-color)}.creature-standee[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:60px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.header[_ngcontent-%COMP%]   .icon.heart[_ngcontent-%COMP%]{width:60px;height:60px;justify-content:center}.header[_ngcontent-%COMP%]   .icon.heart[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff;width:100%;height:100%;font-size:20px;box-sizing:border-box;border:none}button.open-modal[_ngcontent-%COMP%]{display:flex;width:100%;border-radius:0;border:1px solid;justify-content:center;font-size:20px}button.open-modal[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px;width:24px;height:24px}"]}),e;})();function m8(t,e){if(1&t&&(E(0,"div",7),re(1,"app-creature",4),x()),2&t){const n=e.$implicit;B("ngClass",n.type),M(),B("creature",n);}}function p8(t,e){if(1&t&&(E(0,"div",2)(1,"div",3),re(2,"app-creature-group-header",4),E(3,"div",5),Se(4,m8,2,2,"div",6),x()()()),2&t){const n=e.$implicit;B("ngClass",n.creatureType.aggressive?"wide":"narrow"),M(2),B("creature",n.creatureType),M(2),B("ngForOf",n.creatures);}}let h8=(()=>{var t;class e{constructor(r){this.appContext=r,this.groupedCreatures=[],this.groupedGraveyard=[],this.unsubscribe$=new Qn(),this.creatureHpInputs={},this.sortCreatures(),this.sortGraveyard(),this.appContext.creatures$.pipe($3(this.unsubscribe$)).subscribe(o=>{this.sortCreatures();}),this.appContext.graveyard$.pipe($3(this.unsubscribe$)).subscribe(o=>{this.sortGraveyard();});}sortCreatures(){const r={};for(const o of this.appContext.getCreatures()){const a=`${o.type}-${o.isElite}`;r[a]||(r[a]=[]),r[a].push(o);}this.groupedCreatures=Object.keys(r).map(o=>({type:o,creatureType:r[o][0],creatures:r[o]}));}get sortedCreatureGroups(){return[...this.groupedCreatures].sort((r,o)=>{var a,i,l,s;const c=r.creatureType,d=o.creatureType;var m,p;if((null!==(a=c.initiative)&&void 0!==a?a:0)!==(null!==(i=d.initiative)&&void 0!==i?i:0))return(null!==(m=c.initiative)&&void 0!==m?m:0)-(null!==(p=d.initiative)&&void 0!==p?p:0);if(c.aggressive!==d.aggressive)return c.aggressive?1:-1;const h=(c.type||"").toLowerCase(),f=(d.type||"").toLowerCase();if(h<f)return-1;if(h>f)return 1;if(c.isElite!==d.isElite)return c.isElite?-1:1;const y=null!==(l=c.standee)&&void 0!==l?l:0,_=null!==(s=d.standee)&&void 0!==s?s:0;return y<_?-1:y>_?1:0;});}sortGraveyard(){const r={};for(const o of this.appContext.getCreatures()){const a=`${o.type}-${o.isElite}`;r[a]||(r[a]=[]),r[a].push(o);}this.groupedGraveyard=Object.keys(r).map(o=>({type:o,creatureType:r[o][0],creatures:r[o]}));}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete();}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-game"]],decls:2,vars:1,consts:[[1,"game-container"],["class","creature-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"creature-group",3,"ngClass"],[1,"creature-container"],[3,"creature"],[1,"creature-list"],["class","creature",3,"ngClass",4,"ngFor","ngForOf"],[1,"creature",3,"ngClass"]],template:function(r,o){1&r&&(E(0,"div",0),Se(1,p8,5,3,"div",1),x()),2&r&&(M(),B("ngForOf",o.sortedCreatureGroups));},dependencies:[Xt,ka,$n,fo,r8,d8],styles:[".game-container[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;padding:10px;display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem}.game-container[_ngcontent-%COMP%]   .creature-group[_ngcontent-%COMP%]{width:300px;border:1px solid;border-color:var(--font-color)}.game-container[_ngcontent-%COMP%]   .creature-group.narrow[_ngcontent-%COMP%]{width:100px}.game-container[_ngcontent-%COMP%]   .creature-group.wide[_ngcontent-%COMP%]{width:300px}.game-container[_ngcontent-%COMP%]   .creature-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:.5rem;justify-content:space-between}.game-container[_ngcontent-%COMP%]   .creature-container[_ngcontent-%COMP%]   .creature-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;flex-wrap:wrap;width:100%}.game-container[_ngcontent-%COMP%]   .creature-container[_ngcontent-%COMP%]   .creature-list[_ngcontent-%COMP%]   .creature[_ngcontent-%COMP%]{width:100%;border:1px solid}.game-container[_ngcontent-%COMP%]   .creature-container[_ngcontent-%COMP%]   .creature-list.blinkblade[_ngcontent-%COMP%]{background-color:var(--blinkblade-color)}"]}),e;})();function f8(t,e){if(1&t){const n=wn();E(0,"div",17),J("click",function(){const o=Rt(n).$implicit;return Pt(pe(2).selectMonster(o));}),Q(1),x();}if(2&t){const n=e.$implicit;M(),Xe(" ",n.name," ");}}function y8(t,e){if(1&t&&(E(0,"div"),Se(1,f8,2,1,"div",16),x()),2&t){const n=pe();M(),B("ngForOf",n.filteredMonsters);}}let v8=(()=>{var t;class e{constructor(r,o,a,i){this.appContext=r,this.dataLoader=o,this.creatureFactory=a,this.notificationService=i,this.monsterEvent=new qe(),this.level=1,this.standee=1,this.isElite=!1,this.type="",this.monsters=[],this.filteredMonsters=[],this.monsters=this.dataLoader.getData().monsters,this.level=r.defaultLevel;}onTypeInput(){const r=this.type.toLowerCase();this.filteredMonsters=this.monsters.filter(o=>o.name.toLowerCase().includes(r));}selectMonster(r){this.type=r.name,this.filteredMonsters=[];}onFocus(){this.filteredMonsters=this.monsters.slice();}onBlur(){setTimeout(()=>{this.filteredMonsters=[];},150);}addMonster(){this.type?(this.appContext.addCreature(this.creatureFactory.createCreature({type:this.type,standee:this.standee,level:this.level,isElite:this.isElite,aggressive:!0})),this.monsterEvent.emit("monster-added"),this.notificationService.emitInfoMessage(`${this.type} added successfully!`)):this.notificationService.emitErrorMessage("Please select a monster type.");}close(){this.appContext.addMonsterToggled=!1;}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt),k(ol),k(_f),k(mo));},t.ɵcmp=Lt({type:t,selectors:[["app-add-monster"]],outputs:{monsterEvent:"monsterEvent"},decls:27,vars:5,consts:[[1,"layout",3,"click"],[1,"modal"],[1,"content"],[1,"title"],[1,"form-row"],["for","type"],["type","text","autocomplete","off",3,"ngModelChange","input","focus","blur","ngModel"],[4,"ngIf"],["for","Level"],["type","tel","placeholder","#",3,"ngModelChange","ngModel"],["for","Standee"],["for","Elite"],["type","checkbox","id","elite-monster",3,"ngModelChange","ngModel"],[1,"buttons"],["type","button",1,"cancel",3,"click"],["type","button",1,"confirm",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){1&r&&(E(0,"div",0),J("click",function(){return o.close();}),x(),E(1,"div",1)(2,"div",2)(3,"div",3),Q(4,"Add Monster"),x(),E(5,"div",4)(6,"label",5),Q(7,"Type"),x(),E(8,"input",6),Qt("ngModelChange",function(i){return an(o.type,i)||(o.type=i),i;}),J("input",function(){return o.onTypeInput();})("focus",function(){return o.onFocus();})("blur",function(){return o.onBlur();}),x()(),Se(9,y8,2,1,"div",7),E(10,"div",4)(11,"label",8),Q(12,"Level"),x(),E(13,"input",9),Qt("ngModelChange",function(i){return an(o.level,i)||(o.level=i),i;}),x()(),E(14,"div",4)(15,"label",10),Q(16,"Standee"),x(),E(17,"input",9),Qt("ngModelChange",function(i){return an(o.standee,i)||(o.standee=i),i;}),x()(),E(18,"div",4)(19,"label",11),Q(20,"Elite"),x(),E(21,"input",12),Qt("ngModelChange",function(i){return an(o.isElite,i)||(o.isElite=i),i;}),x()(),E(22,"div",13)(23,"button",14),J("click",function(){return o.close();}),Q(24,"Close"),x(),E(25,"button",15),J("click",function(){return o.addMonster();}),Q(26,"Confirm"),x()()()()),2&r&&(M(8),Kt("ngModel",o.type),M(),B("ngIf",o.filteredMonsters.length>0),M(4),Kt("ngModel",o.level),M(4),Kt("ngModel",o.standee),M(4),Kt("ngModel",o.isElite));},dependencies:[Xt,$n,gr,fo,Ca,Yh,Nu,tl,Sa],styles:[".modal[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;text-align:left}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center;width:100%;margin-bottom:1rem;justify-content:center}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px;font-weight:600;text-align:right}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.form-row[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.form-row[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{flex:1;margin-bottom:0}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.form-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;vertical-align:middle}.modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin-top:1rem}"]}),e;})();function g8(t,e){1&t&&(yd(),re(0,"path",11)),2&t&&ft("d",e.$implicit);}let _8=(()=>{var t;class e{constructor(r){this.appContext=r,this.symbols={fire:{transform:"matrix(0.35277777,0,0,-0.35277777,129.1384,74.102455)",d:["m 0,0 c -42.5,34.5 -58.5,99.5 -47,143.5 -25.5,-2.5 -66.272,-25.288 -83.5,-89.5 -22,-82 43.996,-140.5 0,-170.5 -51.444,-35.079 -86.5,26 -82,82.5 -30,-23.5 -48.447,-119.579 -9.5,-178 28,-42 63.811,-66.136 109.516,-71.391 -14.745,10.442 -15.741,29.913 -10.516,44.891 7.5,21.5 32.239,31.107 55.5,49 26,20 37,40 38.5,49.5 13,-19.5 28.581,-48.317 15.5,-91 -6.013,-19.62 -16.979,-38.34 -34.339,-49.45 C 7.137,-266.249 71.825,-218.559 72,-134.5 72.156,-59.5 34.135,-27.709 0,0"]},ice:{transform:"matrix(0.35277777,0,0,-0.35277777,98.77778,114.17392)",d:["M 0,0 -37.729,21.782 V 65.349 L 0,87.132 37.729,65.349 V 21.782 Z m 182.664,-2.602 -38.139,-27.986 -30.576,18.524 49.5,34.673 c 3.166,2.218 3.935,6.583 1.717,9.75 -2.219,3.165 -6.582,3.936 -9.75,1.717 L 100.863,-4.137 51.729,25.63 v 35.871 l 49.135,29.768 54.552,-38.214 c 1.223,-0.856 2.623,-1.267 4.011,-1.267 2.206,0 4.377,1.04 5.739,2.984 2.218,3.166 1.449,7.532 -1.717,9.749 l -49.499,34.675 30.575,18.524 38.139,-27.987 c 1.248,-0.916 2.698,-1.357 4.136,-1.357 2.153,0 4.278,0.99 5.649,2.859 2.287,3.118 1.614,7.498 -1.502,9.786 l -33.459,24.552 29.336,17.773 c 3.348,1.932 4.495,6.214 2.563,9.562 -1.933,3.348 -6.213,4.496 -9.563,2.562 l -30.065,-16.465 -4.529,41.199 c -0.421,3.844 -3.881,6.621 -7.722,6.193 -3.843,-0.422 -6.616,-3.879 -6.194,-7.722 l 5.161,-46.945 -31.334,-17.159 -5.268,60.069 c -0.338,3.85 -3.711,6.71 -7.585,6.361 -3.851,-0.337 -6.699,-3.733 -6.362,-7.584 L 91.729,107.227 41.16,79.534 10.482,97.246 9.212,154.965 69.49,183.06 c 3.504,1.632 5.021,5.797 3.388,9.301 -1.633,3.503 -5.796,5.022 -9.302,3.388 L 8.875,170.254 8.088,205.979 51.35,224.996 c 3.54,1.556 5.147,5.686 3.591,9.225 -1.556,3.538 -5.686,5.148 -9.224,3.591 L 7.755,221.125 7,255.404 c 0,3.867 -3.134,7 -7,7 -3.866,0 -7,-3.133 -7,-7 l -0.746,-34.282 -37.972,16.69 c -3.538,1.557 -7.67,-0.053 -9.224,-3.591 -1.556,-3.539 0.051,-7.669 3.591,-9.225 l 43.276,-19.022 -0.778,-35.73 -54.724,25.505 c -3.506,1.633 -7.668,0.116 -9.302,-3.388 -1.633,-3.504 -0.116,-7.669 3.388,-9.301 L -9.186,154.953 -10.439,97.27 -41.15,79.54 l -50.579,27.694 5.802,66.183 c 0.337,3.851 -2.51,7.247 -6.362,7.584 -3.858,0.347 -7.248,-2.511 -7.585,-6.361 l -5.266,-60.063 -31.334,17.157 5.159,46.941 c 0.422,3.843 -2.351,7.301 -6.194,7.722 -3.83,0.425 -7.3,-2.349 -7.722,-6.193 l -4.528,-41.196 -30.065,16.463 c -3.348,1.932 -7.629,0.785 -9.563,-2.563 -1.932,-3.347 -0.785,-7.629 2.563,-9.561 l 29.336,-17.773 -33.46,-24.553 c -3.116,-2.288 -3.789,-6.668 -1.502,-9.785 1.371,-1.869 3.496,-2.859 5.649,-2.859 1.438,0 2.888,0.441 4.136,1.356 l 38.14,27.987 30.575,-18.524 -49.5,-34.675 c -3.166,-2.217 -3.935,-6.583 -1.717,-9.749 1.362,-1.944 3.533,-2.984 5.739,-2.984 1.387,0 2.788,0.411 4.011,1.267 L -100.864,91.269 -51.729,61.5 V 26.002 l -49.316,-30.013 -54.373,38.087 c -3.164,2.219 -7.529,1.449 -9.749,-1.718 -2.218,-3.166 -1.449,-7.531 1.718,-9.749 l 49.346,-34.566 -30.509,-18.567 -38.053,27.922 c -3.118,2.289 -7.499,1.614 -9.785,-1.502 -2.287,-3.117 -1.614,-7.498 1.502,-9.785 l 33.399,-24.508 -29.275,-17.817 c -3.348,-1.933 -4.495,-6.215 -2.563,-9.562 1.297,-2.246 3.65,-3.501 6.07,-3.501 1.187,0 2.39,0.302 3.493,0.938 l 30.057,16.537 4.536,-41.27 c 0.393,-3.583 3.425,-6.237 6.949,-6.237 0.256,0 0.513,0.015 0.773,0.043 3.843,0.422 6.616,3.88 6.194,7.723 l -5.17,47.048 31.329,17.236 5.282,-60.249 c 0.319,-3.643 3.376,-6.388 6.966,-6.388 0.204,0 0.411,0.008 0.619,0.026 3.852,0.338 6.699,3.733 6.362,7.585 l -5.821,66.402 50.276,27.66 30.91,-17.845 1.299,-57.635 -60.228,-28.071 c -3.504,-1.633 -5.021,-5.798 -3.388,-9.302 1.188,-2.548 3.712,-4.045 6.35,-4.045 0.989,0 1.996,0.212 2.952,0.657 l 54.659,25.476 0.805,-35.717 -43.238,-19.006 c -3.54,-1.556 -5.147,-5.685 -3.591,-9.225 1.153,-2.623 3.719,-4.185 6.412,-4.185 0.94,0 1.896,0.191 2.812,0.594 l 37.946,16.679 0.772,-34.271 c 0,-3.866 3.134,-7 7,-7 3.866,0 7,3.134 7,7 l 0.729,34.291 37.988,-16.699 c 0.916,-0.404 1.872,-0.594 2.812,-0.594 2.693,0 5.26,1.562 6.412,4.185 1.556,3.54 -0.051,7.669 -3.59,9.225 l -43.301,19.034 0.759,35.739 54.767,-25.526 c 0.957,-0.446 1.962,-0.657 2.952,-0.657 2.637,0 5.162,1.497 6.35,4.045 1.633,3.504 0.116,7.669 -3.388,9.302 l -60.356,28.13 1.22,57.456 30.797,17.781 50.578,-27.695 -5.803,-66.183 c -0.337,-3.852 2.511,-7.247 6.362,-7.585 0.208,-0.018 0.414,-0.026 0.619,-0.026 3.59,0 6.646,2.745 6.966,6.388 l 5.267,60.064 31.333,-17.158 -5.159,-46.941 c -0.422,-3.843 2.351,-7.301 6.194,-7.723 0.26,-0.028 0.517,-0.043 0.773,-0.043 3.523,0 6.556,2.654 6.949,6.237 l 4.528,41.197 30.066,-16.464 c 1.103,-0.636 2.306,-0.938 3.493,-0.938 2.419,0 4.773,1.256 6.07,3.501 1.932,3.347 0.785,7.629 -2.563,9.562 l -29.336,17.773 33.459,24.552 c 3.116,2.287 3.789,6.668 1.502,9.785 -2.286,3.117 -6.667,3.791 -9.785,1.502"]},earth:{transform:"matrix(0.35277777,0,0,-0.35277777,60.624366,132.24034)",d:["m 0,0 c -0.423,-4 -4.892,-6.179 -8.264,-3.987 -24.283,15.779 -85.571,80.677 -11.571,162.809 73.487,81.563 169.567,37.861 265.702,95.873 2.907,1.755 6.665,0.165 7.401,-3.15 13.134,-59.172 20.961,-187.976 -39.103,-247.223 -73.5,-72.5 -133.5,-40.5 -166,-29 -1.5,-18 4.501,-41.921 9.501,-58.421 5,-16.5 -27.001,-21.079 -31.001,-18.079 -4,3 -18.611,83.753 18.5,133 47.5,63.032 163,118 166.5,162.5 -22.5,-20 -51.809,-46.518 -129,-89.5 C 14.221,66.711 2.036,19.224 0,0"]},air:{transform:"",d:["m 20.688488,108.37995 c -0.487826,-0.10197 -0.465777,-0.80891 0.02756,-0.87368 4.4111,-0.5898 15.013728,-0.97289 28.807886,5.52594 18.344445,8.64305 47.966756,27.9535 65.510566,26.90481 14.83458,-0.88745 22.05963,-6.46575 21.27277,-13.32287 -0.61736,-5.37986 -6.61458,-8.90764 -11.20069,-7.14375 -4.58611,1.76389 -6.61458,5.90903 -6.26181,9.78958 -3.88055,-2.99861 -2.46944,-8.81944 -1.23472,-10.40694 1.23472,-1.5875 8.00503,-10.8176 19.57917,-2.82222 9.70139,6.70278 5.60035,19.76106 0,24.69444 -3.70417,3.2632 -14.81667,11.46528 -35.80695,6.17361 -20.990276,-5.29166 -43.620421,-24.4588 -55.562499,-30.1625 -10.991233,-5.24895 -15.72617,-6.37893 -25.131284,-8.35642","m 52.230405,106.05382 c -0.343133,-0.18741 -0.126781,-0.70969 0.246669,-0.59531 7.845171,2.39503 27.789516,6.9081 42.202418,3.16397 21.048158,-5.46805 24.870838,-17.991663 45.861108,-28.162962 13.38765,-6.487806 30.86806,-1.823145 35.63056,11.229631 4.7625,13.052781 -7.64398,22.048611 -17.4625,21.519451 -8.10424,-0.43547 -13.57919,-5.06429 -14.64028,-8.82634 -1.17684,-4.16719 0.46991,-9.575991 5.29167,-11.105611 -1.41111,6.35 2.04087,13.292561 9.17222,12.876391 7.05556,-0.41065 13.28704,-9.250771 6.70278,-15.875001 -6.59529,-6.633877 -14.81667,-5.349543 -19.75556,-2.293055 -5.26686,3.260439 -17.63889,15.522226 -28.22222,20.637496 -10.15752,4.90858 -25.033443,10.26501 -40.41648,6.17362 -13.106524,-3.48368 -17.129016,-4.64675 -24.610385,-8.74228","m 32.342558,94.131028 c -0.445107,-0.170869 -0.305926,-0.83646 0.170875,-0.81717 6.042699,0.24529 22.947094,-0.0317 31.82717,-9.914986 10.936111,-12.170834 8.445997,-20.473515 18.168056,-29.280556 6.790972,-6.150183 22.320081,-8.109755 33.249301,1.234722 12.17084,10.406945 5.70233,30.721985 -6.38031,36.98379 -10.23056,5.30131 -23.07663,3.58565 -25.987047,-4.704623 -3.241146,-9.231477 3.439583,-17.374306 10.230556,-17.286111 7.161661,0.0937 6.173611,7.231944 6.173611,7.231944 0,0 -2.11667,-3.701411 -5.027083,-3.263194 -3.689008,0.556725 -6.943934,5.177289 -5.027084,9.789583 2.38125,5.732639 12.621457,8.270981 19.989817,-0.46991 7.58473,-8.995834 5.93935,-21.225923 -6.58426,-25.635646 -11.575522,-4.074858 -18.36236,4.462089 -24.518057,15.877756 -4.850694,8.993078 -10.31875,20.458351 -26.9875,21.418851 -12.219065,0.7028 -16.949868,-0.26321 -19.298045,-1.16445"]},light:{transform:"matrix(0.35277777,0,0,-0.35277777,141.35502,111.71516)",d:["m 0,0 -9.044,27.255 23.505,9.418 -23.504,9.418 9.042,27.252 61.997,-36.673 z m 8.504,-92.473 -69.776,17.889 12.869,25.65 23.279,-9.961 -9.961,23.28 25.675,12.882 z m -129.142,-53.492 -36.693,61.957 27.222,9.032 9.418,-23.503 9.417,23.503 27.262,-9.045 z m -129.142,53.492 17.848,69.718 25.633,-12.86 -9.96,-23.28 23.279,9.961 12.875,-25.661 z m -53.492,129.143 61.897,36.648 9.034,-27.228 -23.504,-9.417 23.504,-9.417 -9.035,-27.232 z m 53.492,129.142 69.674,-17.875 -12.874,-25.658 -23.279,9.961 9.96,-23.279 -25.634,-12.86 z m 129.142,53.493 36.625,-61.939 -27.26,-9.046 -9.418,23.505 -9.418,-23.505 -27.221,9.033 z m 66.4,-155.106 14.078,32.9 26.922,-15.926 -7.78,-30.284 z m 0,-55.053 33.22,13.311 7.78,-30.287 -26.922,-15.924 z m -38.928,-38.927 32.902,-14.078 -15.909,-26.906 -30.302,7.769 z m -55.052,0 13.31,-33.217 -30.267,-7.766 -15.936,26.909 z m -38.927,38.927 -14.076,-32.895 -26.889,15.92 7.753,30.283 z m 0,55.053 -33.212,-13.307 -7.753,30.281 26.889,15.921 z m 38.927,38.928 -32.893,14.074 15.935,26.906 30.267,-7.764 z m 55.052,0 -13.308,33.213 30.302,7.767 15.908,-26.902 z m 101.67,62.685 -17.913,-69.733 -25.676,12.882 9.961,23.279 -23.279,-9.961 -12.868,25.648 z M 98.306,42.036 5.124,88.788 37.955,187.735 c 0.715,2.155 0.153,4.528 -1.452,6.132 -1.605,1.605 -3.98,2.171 -6.132,1.452 l -98.947,-32.831 -46.752,93.183 c -1.019,2.029 -3.094,3.309 -5.363,3.309 -2.27,0 -4.345,-1.28 -5.364,-3.309 l -46.752,-93.183 -98.947,32.831 c -2.153,0.718 -4.528,0.153 -6.132,-1.452 -1.605,-1.604 -2.167,-3.977 -1.452,-6.132 l 32.83,-98.948 -93.181,-46.751 c -2.03,-1.018 -3.31,-3.094 -3.31,-5.363 0,-2.27 1.28,-4.345 3.31,-5.363 l 93.181,-46.751 -32.83,-98.949 c -0.715,-2.154 -0.153,-4.527 1.452,-6.131 1.605,-1.605 3.978,-2.169 6.132,-1.453 l 98.947,32.831 46.752,-93.182 c 1.019,-2.029 3.094,-3.31 5.364,-3.31 2.269,0 4.344,1.281 5.363,3.31 l 46.751,93.182 98.948,-32.831 c 0.619,-0.206 1.257,-0.305 1.889,-0.305 1.566,0 3.1,0.614 4.243,1.758 1.605,1.604 2.167,3.977 1.452,6.131 L 5.123,-15.442 98.306,31.31 c 2.029,1.018 3.309,3.093 3.309,5.363 0,2.269 -1.28,4.345 -3.309,5.363"]},dark:{transform:"matrix(0.35277777,0,0,-0.35277777,114.94562,150.20756)",d:["m 0,0 c -8.87,0 -17.561,0.8 -26,2.32 6.06,2.781 11.92,5.941 17.54,9.441 1.786,1.112 3.539,2.271 5.276,3.453 73.09,1.203 131.963,59.194 131.963,130.566 0,71.385 -58.877,129.378 -131.971,130.577 -1.739,1.181 -3.492,2.34 -5.279,3.454 -5.619,3.5 -11.469,6.659 -17.529,9.439 8.439,1.521 17.13,2.32 26,2.32 80.38,0 145.779,-65.4 145.779,-145.79 C 145.779,65.4 80.38,0 0,0 M -45.83,7.38 C -52.25,5.24 -58.88,3.55 -65.66,2.32 -74.1,0.8 -82.78,0 -91.65,0 c -80.39,0 -145.79,65.4 -145.79,145.78 0,80.39 65.4,145.79 145.79,145.79 8.87,0 17.55,-0.799 25.99,-2.32 6.78,-1.229 13.41,-2.92 19.83,-5.06 6.019,-1.99 11.87,-4.379 17.51,-7.11 48.75,-23.61 82.45,-73.59 82.45,-131.3 0,-57.7 -33.7,-107.679 -82.45,-131.29 -5.64,-2.729 -11.491,-5.12 -17.51,-7.11 M 0,303.57 c -15.93,0 -31.311,-2.37 -45.82,-6.79 -14.51,4.42 -29.901,6.79 -45.83,6.79 -87.01,0 -157.79,-70.78 -157.79,-157.79 0,-87 70.78,-157.78 157.79,-157.78 15.929,0 31.32,2.37 45.83,6.79 C -31.311,-9.63 -15.93,-12 0,-12 87,-12 157.779,58.78 157.779,145.78 157.779,232.79 87,303.57 0,303.57"]}};}ngOnInit(){this.appContext.elements$.subscribe(r=>{const o=r.find(a=>a.type===this.element.type);o&&(this.element={...o});});}get fillUrl(){return`url(#${this.element.type}-${this.element.state})`;}toggleColor(){const r=this.element.state===Oe.None?Oe.Full:this.element.state===Oe.Full?Oe.Half:Oe.None;this.appContext.setElementState(this.element.type,r),this.element={...this.element,state:r};}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-element"]],inputs:{element:"element"},decls:15,vars:14,consts:[[1,"element-container"],["viewBox","0 0 197.55556 197.55556","xmlns","http://www.w3.org/2000/svg",1,"element-icon",3,"click"],["x1","0%","y1","100%","x2","0%","y2","0%"],["offset","50%",2,"stop-opacity","1"],["x1","0%","y1","100%"],["offset","190%",2,"stop-opacity","1"],["d","m 98.77778,194.73333 c -25.630363,0 -49.727202,-9.98114 -67.850807,-28.10475 C 12.803368,148.50498 2.8222266,124.40814 2.8222266,98.777777 2.8222266,73.14706 12.803368,49.050575 30.926973,30.92697 49.050578,12.803365 73.147417,2.8222231 98.77778,2.8222231 c 25.63036,0 49.7272,9.9811419 67.85081,28.1047469 18.1236,18.123605 28.10474,42.22009 28.10474,67.850807 0,25.630363 -9.98114,49.727203 -28.10474,67.850803 -18.12361,18.12361 -42.22045,28.10475 -67.85081,28.10475"],["transform","matrix(0.35277777,0,0,-0.35277777,98.77778,1.9e-6)",1,"outline"],["d","m 0,0 c -37.793,0 -74.464,-7.405 -108.993,-22.01 -33.345,-14.104 -63.287,-34.291 -88.997,-60 -25.709,-25.71 -45.897,-55.652 -59.999,-88.996 C -272.595,-205.537 -280,-242.207 -280,-280 c 0,-37.793 7.405,-74.464 22.011,-108.993 14.102,-33.345 34.29,-63.287 59.999,-88.997 25.71,-25.709 55.652,-45.897 88.997,-59.999 C -74.464,-552.595 -37.793,-560 0,-560 c 37.793,0 74.464,7.405 108.993,22.011 33.345,14.102 63.287,34.29 88.997,59.999 25.709,25.71 45.897,55.652 59.999,88.997 14.606,34.529 22.011,71.2 22.011,108.993 0,37.793 -7.405,74.463 -22.011,108.994 -14.102,33.344 -34.29,63.286 -59.999,88.996 -25.71,25.709 -55.652,45.896 -88.997,60 C 74.464,-7.405 37.793,0 0,0 m 0,-16 c 145.803,0 264,-118.197 264,-264 0,-145.803 -118.197,-264 -264,-264 -145.803,0 -264,118.197 -264,264 0,145.803 118.197,264 264,264",2,"fill-opacity","1","fill-rule","nonzero","stroke","none"],[1,"symbol"],["style","fill-opacity:1;fill-rule:nonzero;stroke:none",4,"ngFor","ngForOf"],[2,"fill-opacity","1","fill-rule","nonzero","stroke","none"]],template:function(r,o){1&r&&(E(0,"div",0),yd(),E(1,"svg",1),J("click",function(){return o.toggleColor();}),E(2,"defs")(3,"linearGradient",2),re(4,"stop",3)(5,"stop",3),x(),E(6,"linearGradient",4),re(7,"stop",5),x(),E(8,"linearGradient",4),re(9,"stop",5),x()(),re(10,"path",6),E(11,"g",7),re(12,"path",8),x(),E(13,"g",9),Se(14,g8,1,1,"path",10),x()()()),2&r&&(M(3),ft("id",o.element.type+"-half"),M(),uo("stop-color","var(--element-"+o.element.type+"-color)"),M(),uo("stop-color","var(--font-color)"),M(),ft("id",o.element.type+"-full"),M(),uo("stop-color","var(--element-"+o.element.type+"-color)"),M(),ft("id",o.element.type+"-none"),M(),uo("stop-color","var(--font-color)"),M(),ft("fill",o.fillUrl),M(3),ft("transform",o.symbols[o.element.type].transform),M(),B("ngForOf",o.symbols[o.element.type].d));},dependencies:[Xt,$n],styles:[".element-container[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;gap:8px}svg[_ngcontent-%COMP%]{background-color:var(--content-background-right);border-radius:50%}svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--font-color-dark)}.element[_ngcontent-%COMP%]{width:100%;height:100%;transform-origin:center;display:block}"]}),e;})(),z3=(()=>{var t;class e{constructor(r){this.appContext=r,this.buffs=[];}storeBuff(r,o){this.buffs.push({type:r,value:o});}publishBuffs(){this.buffs.forEach(r=>{this.appContext.updateCreatureBaseStat(this.creature.id,r.type,r.value,!0);});}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-buffs"]],inputs:{creature:"creature"},decls:19,vars:4,consts:[[1,"buffs"],[1,"stats","base-stats"],[1,"armor","stat"],[1,"icon","shield"],["type","tel","maxlength","3",1,"stat-input",3,"blur","value"],[1,"retaliate","stat"],[1,"icon","retaliate"],[1,"stats","round-stats"]],template:function(r,o){1&r&&(E(0,"div",0)(1,"div",1)(2,"div"),Q(3,"Base"),x(),E(4,"div",2),re(5,"div",3),E(6,"input",4),J("blur",function(i){return o.storeBuff("armor",+i.target.value);}),x()(),E(7,"div",5),re(8,"div",6),E(9,"input",4),J("blur",function(i){return o.storeBuff("retaliate",+i.target.value);}),x()()(),E(10,"div",7)(11,"div"),Q(12,"Round"),x(),E(13,"div",2),re(14,"div",3),E(15,"input",4),J("blur",function(i){return o.storeBuff("roundArmor",+i.target.value);}),x()(),E(16,"div",5),re(17,"div",6),E(18,"input",4),J("blur",function(i){return o.storeBuff("roundRetaliate",+i.target.value);}),x()()()()),2&r&&(M(6),B("value",o.creature.armor),M(3),B("value",o.creature.retaliate),M(6),B("value",o.creature.roundArmor),M(3),B("value",o.creature.roundRetaliate));},dependencies:[Xt,Sa],styles:[".buffs[_ngcontent-%COMP%]{font-size:30px;display:flex;flex-direction:column}.buffs[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin:5px 0}.buffs[_ngcontent-%COMP%]   .stats.round-stats[_ngcontent-%COMP%]{border-top:5px solid}.buffs[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.buffs[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-input[_ngcontent-%COMP%]{height:40px;line-height:40px}"]}),e;})();function w8(t,e){1&t&&re(0,"app-buffs",10),2&t&&B("creature",pe().creature);}function k8(t,e){if(1&t){const n=wn();E(0,"div",12),re(1,"div",17),E(2,"input",14),Qt("ngModelChange",function(o){Rt(n);const a=pe(2);return an(a.armorPen,o)||(a.armorPen=o),Pt(o);}),J("ngModelChange",function(){return Rt(n),Pt(pe(2).calculateDamage());}),x()();}if(2&t){const n=pe(2);M(2),Kt("ngModel",n.armorPen);}}function C8(t,e){if(1&t&&(E(0,"div",18),Q(1),x()),2&t){const n=pe(2);M(),Xe(" total: ",n.damage," ");}}function D8(t,e){if(1&t){const n=wn();E(0,"div",11)(1,"div",12),re(2,"div",13),E(3,"input",14),Qt("ngModelChange",function(o){Rt(n);const a=pe();return an(a.attack,o)||(a.attack=o),Pt(o);}),J("ngModelChange",function(){return Rt(n),Pt(pe().calculateDamage());}),x()(),Se(4,k8,3,1,"div",15)(5,C8,2,1,"div",16),x();}if(2&t){const n=pe();M(3),Kt("ngModel",n.attack),M(),B("ngIf",n.creature.armor+n.creature.roundArmor>0),M(),B("ngIf",n.damage>0);}}function E8(t,e){if(1&t){const n=wn();E(0,"app-conditions",19),J("conditionToggled",function(o){return Rt(n),Pt(pe().toggleCondition(o));}),x();}if(2&t){const n=pe();B("creature",n.creature)("conditions",n.conditions)("shouldShowBuffs",!0);}}let x8=(()=>{var t;class e{constructor(r,o){this.appContext=r,this.notificationService=o,this.conditions=Object.values(rl),this.attack=0,this.armorPen=0,this.damage=0,this.tempConditions=[],this.creature=r.selectedCreature;}toggleCondition(r){this.tempConditions.push(r);}attackCreature(){if(this.attack<=0)return;const r=this.calculateDamage(),o=this.creature.hp-r;this.appContext.updateCreatureBaseStat(this.creature.id,"hp",this.creature.hp-r),o<=0&&(this.appContext.removeCreature(this.creature.id),this.notificationService.emitInfoMessage(`${this.creature.name} has been killed!`));}calculateDamage(){let r=this.attack;const o=Math.max(this.creature.armor+this.creature.roundArmor-this.armorPen,0);r-=o;const a={[rl.poison]:l=>l+1,[rl.brittle]:l=>2*l,[rl.ward]:l=>Math.floor(l/2)};return r=this.creature.conditions.filter(l=>a[l]&&r>0).map(l=>a[l]).reduce((l,s)=>s(l),r),this.damage=Math.max(r,0),this.damage;}confirm(){var r;this.attackCreature(),this.tempConditions.forEach(o=>{this.creature&&this.appContext.toggleCreatureConditions(this.creature.id,o);}),null===(r=this.buffsComponent)||void 0===r||r.publishBuffs(),this.close();}close(){this.appContext.selectedCreature=null;}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt),k(mo));},t.ɵcmp=Lt({type:t,selectors:[["app-attack-modal"]],viewQuery:function(r,o){if(1&r&&function O2(t,e,n){B_(t,e,n);}(z3,5),2&r){let a;(function F2(t){const e=w(),n=Z(),r=pd();jl(r+1);const o=ap(n,r);if(t.dirty&&function Y4(t){return!(4&~t[2]);}(e)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const a=z_(e,r);t.reset(a,Xv),t.notifyOnChanges();}return!0;}return!1;})(a=function L2(){return function op(t,e){return t[18].queries[e].queryList;}(w(),pd());}())&&(o.buffsComponent=a.first);}},decls:13,vars:4,consts:[[1,"layout",3,"click"],[1,"modal"],[1,"content"],[1,"name"],[3,"creature",4,"ngIf"],["class","attack",4,"ngIf"],[3,"creature","conditions","shouldShowBuffs","conditionToggled",4,"ngIf"],[1,"buttons"],["type","button",1,"cancel",3,"click"],["type","button",1,"confirm",3,"click"],[3,"creature"],[1,"attack"],[1,"stat"],[1,"icon","damage"],["type","tel","maxlength","3",1,"stat-input",3,"ngModelChange","ngModel"],["class","stat",4,"ngIf"],["class","damage-preview",4,"ngIf"],[1,"icon","pierce"],[1,"damage-preview"],[3,"conditionToggled","creature","conditions","shouldShowBuffs"]],template:function(r,o){1&r&&(E(0,"div",0),J("click",function(){return o.close();}),x(),E(1,"div",1)(2,"div",2)(3,"div",3),Q(4),x(),Se(5,w8,1,1,"app-buffs",4)(6,D8,6,3,"div",5)(7,E8,1,3,"app-conditions",6),E(8,"div",7)(9,"button",8),J("click",function(){return o.close();}),Q(10,"Cancel"),x(),E(11,"button",9),J("click",function(){return o.confirm();}),Q(12,"Confirm"),x()()()()),2&r&&(M(4),Xe("",o.appContext.isGroupSelected&&o.creature.aggressive?o.creature.type:o.creature.name," "),M(),B("ngIf",o.appContext.isGroupSelected),M(),B("ngIf",!o.appContext.isGroupSelected),M(),B("ngIf",!o.appContext.isGroupSelected));},dependencies:[Xt,gr,H3,Sa,z3,fo,Ca,Nu,gf,tl],styles:["[_nghost-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{box-shadow:0 0 0 3px var(--content-box-shadow-1),0 0 4px 3px var(--content-box-shadow-2),inset 0 0 7px 0 var(--content-box-shadow-3),3px 3px 1px 1px var(--content-box-shadow-4),-3px 3px 1px 1px var(--content-box-shadow-4);padding:15px;gap:.5rem;display:flex;flex-direction:column}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:35px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .icon.damage[_ngcontent-%COMP%]{height:55px}"]}),e;})(),S8=(()=>{var t;class e{constructor(r){this.appContext=r,this.roundNumber=1,this.roundAdvanced=new qe(),this.elements=[];}ngOnInit(){this.sub=this.appContext.roundNumber$.subscribe(r=>{this.roundNumber=r;});}ngOnDestroy(){var r;null===(r=this.sub)||void 0===r||r.unsubscribe();}nextRound(){this.resetAllCreatures(),this.resetElements();const r=this.roundNumber+1;this.roundNumber=r,this.appContext.setRoundNumber(r),this.roundAdvanced.emit(r);}resetAllCreatures(){const r=this.appContext.getCreatures().map(o=>({...o,initiative:0,roundArmor:0,roundRetaliate:0}));this.appContext.setCreatures(r);}resetElements(){const r=this.appContext.getElements().map(o=>{let a;return a=o.state===Oe.Half?Oe.None:o.state===Oe.Full?Oe.Half:o.state,{...o,state:a};});this.appContext.setElements(r);}}return(t=e).ɵfac=function(r){return new(r||t)(k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-round"]],inputs:{elements:"elements"},outputs:{roundAdvanced:"roundAdvanced"},decls:5,vars:1,consts:[[1,"section"],[1,"cancel",3,"click"]],template:function(r,o){1&r&&(Ai(0,"div",0)(1,"div"),Q(2),Ri(),Ai(3,"button",1),$p("click",function(){return o.nextRound();}),Q(4," Next "),Ri()()),2&r&&(M(2),Xe(" Round ",o.roundNumber," "));},dependencies:[Xt],styles:[".section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:1rem;align-items:center;border-left:5px solid;padding-left:1rem}"]}),e;})();function M8(t,e){1&t&&re(0,"app-element",7),2&t&&B("element",e.$implicit);}function I8(t,e){1&t&&re(0,"app-attack-modal");}function T8(t,e){1&t&&re(0,"app-add-monster");}let N8=(()=>{var t;class e{constructor(r,o){this.storageService=r,this.appContext=o,this.title=nr("frosthaven-assistant-angular"),this.elements=[{type:Vt.Fire,state:Oe.None},{type:Vt.Ice,state:Oe.None},{type:Vt.Earth,state:Oe.None},{type:Vt.Air,state:Oe.None},{type:Vt.Light,state:Oe.None},{type:Vt.Dark,state:Oe.None}];const a=this.storageService.loadGraveyard(),i=this.storageService.loadCreatures();a&&this.appContext.setCreatures(i),i&&this.appContext.setGraveyard(a);}ngOnInit(){this.storageService.loadingEvent$.subscribe(r=>{});}}return(t=e).ɵfac=function(r){return new(r||t)(k(qu),k(Jt));},t.ɵcmp=Lt({type:t,selectors:[["app-root"]],decls:11,vars:4,consts:[["id","master-container"],[1,"title"],[1,"content"],[1,"elements-row"],[3,"element",4,"ngFor","ngForOf"],[3,"elements"],[4,"ngIf"],[3,"element"]],template:function(r,o){1&r&&(E(0,"div",0),re(1,"div",1)(2,"app-setup"),E(3,"div",2)(4,"div",3),Se(5,M8,1,1,"app-element",4),x(),re(6,"app-round",5),x(),re(7,"app-game"),Se(8,I8,1,0,"app-attack-modal",6)(9,T8,1,0,"app-add-monster",6),x(),re(10,"app-toast-notification")),2&r&&(M(5),B("ngForOf",o.elements),M(),B("elements",o.elements),M(2),B("ngIf",o.appContext.selectedCreature),M(),B("ngIf",o.appContext.addMonsterToggled));},dependencies:[Xt,$n,gr,fo,U7,K6,h8,_8,x8,S8,v8],styles:["#master-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;justify-content:flex-start}.content[_ngcontent-%COMP%]   .elements-row[_ngcontent-%COMP%]{display:flex;gap:10px}"]}),e;})();var z=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t;}(z||{});const zn="*";function U3(t){return{type:z.Style,styles:t,offset:null};}class al{constructor(e=0,n=0){u(this,"_onDoneFns",[]),u(this,"_onStartFns",[]),u(this,"_onDestroyFns",[]),u(this,"_originalOnDoneFns",[]),u(this,"_originalOnStartFns",[]),u(this,"_started",!1),u(this,"_destroyed",!1),u(this,"_finished",!1),u(this,"_position",0),u(this,"parentPlayer",null),u(this,"totalTime",void 0),this.totalTime=e+n;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]);}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e);}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e);}onDestroy(e){this._onDestroyFns.push(e);}hasStarted(){return this._started;}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0;}triggerMicrotask(){queueMicrotask(()=>this._onFinish());}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[];}pause(){}restart(){}finish(){this._onFinish();}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[]);}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}setPosition(e){this._position=this.totalTime?e*this.totalTime:1;}getPosition(){return this.totalTime?this._position/this.totalTime:1;}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0;}}class G3{constructor(e){u(this,"_onDoneFns",[]),u(this,"_onStartFns",[]),u(this,"_finished",!1),u(this,"_started",!1),u(this,"_destroyed",!1),u(this,"_onDestroyFns",[]),u(this,"parentPlayer",null),u(this,"totalTime",0),u(this,"players",void 0),this.players=e;let n=0,r=0,o=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(i=>{i.onDone(()=>{++n==a&&this._onFinish();}),i.onDestroy(()=>{++r==a&&this._onDestroy();}),i.onStart(()=>{++o==a&&this._onStart();});}),this.totalTime=this.players.reduce((i,l)=>Math.max(i,l.totalTime),0);}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]);}init(){this.players.forEach(e=>e.init());}onStart(e){this._onStartFns.push(e);}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[]);}onDone(e){this._onDoneFns.push(e);}onDestroy(e){this._onDestroyFns.push(e);}hasStarted(){return this._started;}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play());}pause(){this.players.forEach(e=>e.pause());}restart(){this.players.forEach(e=>e.restart());}finish(){this._onFinish(),this.players.forEach(e=>e.finish());}destroy(){this._onDestroy();}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[]);}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1;}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(o);});}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0;}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy();});}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0;}}function q3(t){return new b(3e3,!1);}function H8(t){return new b(3002,!1);}function Dr(t){switch(t.length){case 0:return new al();case 1:return t[0];default:return new G3(t);}}function W3(t,e,n=new Map(),r=new Map()){const o=[],a=[];let i=-1,l=null;if(e.forEach(s=>{const c=s.get("offset"),d=c==i,m=d&&l||new Map();s.forEach((p,h)=>{let f=h,y=p;if("offset"!==h)switch(f=t.normalizePropertyName(f,o),y){case"!":y=n.get(h);break;case zn:y=r.get(h);break;default:y=t.normalizeStyleValue(h,f,y,o);}m.set(f,y);}),d||a.push(m),l=m,i=c;}),o.length)throw function J8(){return new b(3502,!1);}();return a;}function wf(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&kf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&kf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&kf(n,"destroy",t)));}}function kf(t,e,n){const r=n.totalTime,a=Cf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),i=t._data;return null!=i&&(a._data=i),a;}function Cf(t,e,n,r,o="",a=0,i){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:o,totalTime:a,disabled:!!i};}function Bt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r;}function K3(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)];}const d9=typeof document>"u"?null:document.documentElement;function Df(t){const e=t.parentNode||t.host||null;return e===d9?null:e;}let vo=null,Q3=!1;function Y3(t,e){for(;e;){if(e===t)return!0;e=Df(e);}return!1;}function Z3(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[];}const J3="ng-enter",Ef="ng-leave",Wu="ng-trigger",Ku=".ng-trigger",eC="ng-animating",xf=".ng-animating";function Un(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sf(parseFloat(e[1]),e[2]);}function Sf(t,e){return"s"===e?1e3*t:t;}function Qu(t,e,n){return t.hasOwnProperty("duration")?t:function g9(t,e,n){let r,o=0,a="";if("string"==typeof t){const i=t.match(v9);if(null===i)return e.push(q3()),{duration:0,delay:0,easing:""};r=Sf(parseFloat(i[1]),i[2]);const l=i[3];null!=l&&(o=Sf(parseFloat(l),i[4]));const s=i[5];s&&(a=s);}else r=t;if(!n){let i=!1,l=e.length;r<0&&(e.push(function R8(){return new b(3100,!1);}()),i=!0),o<0&&(e.push(function P8(){return new b(3101,!1);}()),i=!0),i&&e.splice(l,0,q3());}return{duration:r,delay:o,easing:a};}(t,e,n);}const v9=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Cn(t,e,n){e.forEach((r,o)=>{const a=If(o);n&&!n.has(o)&&n.set(o,t.style[a]),t.style[a]=r;});}function go(t,e){e.forEach((n,r)=>{const o=If(r);t.style[o]="";});}function il(t){return Array.isArray(t)?1==t.length?t[0]:function A8(t,e=null){return{type:z.Sequence,steps:t,options:e};}(t):t;}const Mf=new RegExp("{{\\s*(.+?)\\s*}}","g");function tC(t){let e=[];if("string"==typeof t){let n;for(;n=Mf.exec(t);)e.push(n[1]);Mf.lastIndex=0;}return e;}function ll(t,e,n){const r=`${t}`,o=r.replace(Mf,(a,i)=>{let l=e[i];return null==l&&(n.push(function F8(){return new b(3003,!1);}()),l=""),l.toString();});return o==r?t:o;}const w9=/-+([a-z0-9])/g;function If(t){return t.replace(w9,(...e)=>e[1].toUpperCase());}function $t(t,e,n){switch(e.type){case z.Trigger:return t.visitTrigger(e,n);case z.State:return t.visitState(e,n);case z.Transition:return t.visitTransition(e,n);case z.Sequence:return t.visitSequence(e,n);case z.Group:return t.visitGroup(e,n);case z.Animate:return t.visitAnimate(e,n);case z.Keyframes:return t.visitKeyframes(e,n);case z.Style:return t.visitStyle(e,n);case z.Reference:return t.visitReference(e,n);case z.AnimateChild:return t.visitAnimateChild(e,n);case z.AnimateRef:return t.visitAnimateRef(e,n);case z.Query:return t.visitQuery(e,n);case z.Stagger:return t.visitStagger(e,n);default:throw function L8(){return new b(3004,!1);}();}}function Tf(t,e){return window.getComputedStyle(t)[e];}let Nf=(()=>{var t;class e{validateStyleProperty(r){return function p9(t){vo||(vo=function h9(){return typeof document<"u"?document.body:null;}()||{},Q3=!!vo.style&&"WebkitAppearance"in vo.style);let e=!0;return vo.style&&!function m9(t){return"ebkit"==t.substring(1,6);}(t)&&(e=t in vo.style,!e&&Q3&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in vo.style)),e;}(r);}containsElement(r,o){return Y3(r,o);}getParentElement(r){return Df(r);}query(r,o,a){return Z3(r,o,a);}computeStyle(r,o,a){return a||"";}animate(r,o,a,i,l,s=[],c){return new al(a,i);}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)();}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();class Yu{}u(Yu,"NOOP",new Nf());class Af{}const E9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class nC extends Af{normalizePropertyName(e,n){return If(e);}normalizeStyleValue(e,n,r,o){let a="";const i=r.toString().trim();if(E9.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&o.push(function j8(){return new b(3005,!1);}());}return i+a;}}const Xu=new Set(["true","1"]),Ju=new Set(["false","0"]);function rC(t,e){const n=Xu.has(t)||Ju.has(t),r=Xu.has(e)||Ju.has(e);return(o,a)=>{let i="*"==t||t==o,l="*"==e||e==a;return!i&&n&&"boolean"==typeof o&&(i=o?Xu.has(t):Ju.has(t)),!l&&r&&"boolean"==typeof a&&(l=a?Xu.has(e):Ju.has(e)),i&&l;};}const I9=new RegExp("s*:selfs*,?","g");function Pf(t,e,n,r){return new T9(t).build(e,n,r);}class T9{constructor(e){u(this,"_driver",void 0),this._driver=e;}build(e,n,r){const o=new R9(n);return this._resetContextStyleTimingState(o),$t(this,il(e),o);}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map(),e.collectedStyles.set("",new Map()),e.currentTime=0;}visitTrigger(e,n){let r=n.queryCount=0,o=n.depCount=0;const a=[],i=[];return"@"==e.name.charAt(0)&&n.errors.push(function V8(){return new b(3006,!1);}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==z.State){const s=l,c=s.name;c.toString().split(/\s*,\s*/).forEach(d=>{s.name=d,a.push(this.visitState(s,n));}),s.name=c;}else if(l.type==z.Transition){const s=this.visitTransition(l,n);r+=s.queryCount,o+=s.depCount,i.push(s);}else n.errors.push(function B8(){return new b(3007,!1);}());}),{type:z.Trigger,name:e.name,states:a,transitions:i,queryCount:r,depCount:o,options:null};}visitState(e,n){const r=this.visitStyle(e.styles,n),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set(),i=o||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(s=>{tC(s).forEach(c=>{i.hasOwnProperty(c)||a.add(c);});});}),a.size&&n.errors.push(function $8(){return new b(3008,!1);}(0,a.values()));}return{type:z.State,name:e.name,style:r,options:o?{params:o}:null};}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=$t(this,il(e.animation),n),o=function x9(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function S9(t,e,n){if(":"==t[0]){const s=function M9(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Z8(){return new b(3016,!1);}()),"* => *";}}(t,n);if("function"==typeof s)return void e.push(s);t=s;}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Y8(){return new b(3015,!1);}()),e;const o=r[1],a=r[2],i=r[3];e.push(rC(o,i)),"<"==a[0]&&("*"!=o||"*"!=i)&&e.push(rC(i,o));}(r,n,e)):n.push(t),n;}(e.expr,n.errors);return{type:z.Transition,matchers:o,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:_o(e.options)};}visitSequence(e,n){return{type:z.Sequence,steps:e.steps.map(r=>$t(this,r,n)),options:_o(e.options)};}visitGroup(e,n){const r=n.currentTime;let o=0;const a=e.steps.map(i=>{n.currentTime=r;const l=$t(this,i,n);return o=Math.max(o,n.currentTime),l;});return n.currentTime=o,{type:z.Group,steps:a,options:_o(e.options)};}visitAnimate(e,n){const r=function O9(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Of(Qu(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Of(0,0,"");return a.dynamic=!0,a.strValue=n,a;}const o=Qu(n,e);return Of(o.duration,o.delay,o.easing);}(e.timings,n.errors);n.currentAnimateTimings=r;let o,a=e.styles?e.styles:U3({});if(a.type==z.Keyframes)o=this.visitKeyframes(a,n);else{let i=e.styles,l=!1;if(!i){l=!0;const c={};r.easing&&(c.easing=r.easing),i=U3(c);}n.currentTime+=r.duration+r.delay;const s=this.visitStyle(i,n);s.isEmptyStep=l,o=s;}return n.currentAnimateTimings=null,{type:z.Animate,timings:r,style:o,options:null};}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r;}_makeStyleAst(e,n){const r=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of o)"string"==typeof l?l===zn?r.push(l):n.errors.push(H8()):r.push(new Map(Object.entries(l)));let a=!1,i=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(i=l.get("easing"),l.delete("easing")),!a))for(let s of l.values())if(s.toString().indexOf("{{")>=0){a=!0;break;}}),{type:z.Style,styles:r,easing:i,offset:e.offset,containsDynamicStyles:a,options:null};}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let o=n.currentTime,a=n.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(i=>{"string"!=typeof i&&i.forEach((l,s)=>{const c=n.collectedStyles.get(n.currentQuerySelector),d=c.get(s);let m=!0;d&&(a!=o&&a>=d.startTime&&o<=d.endTime&&(n.errors.push(function z8(){return new b(3010,!1);}()),m=!1),a=d.startTime),m&&c.set(s,{startTime:a,endTime:o}),n.options&&function b9(t,e,n){const r=e.params||{},o=tC(t);o.length&&o.forEach(a=>{r.hasOwnProperty(a)||n.push(function O8(){return new b(3001,!1);}());});}(l,n.options,n.errors);});});}visitKeyframes(e,n){const r={type:z.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function U8(){return new b(3011,!1);}()),r;let a=0;const i=[];let l=!1,s=!1,c=0;const d=e.steps.map(g=>{const v=this._makeStyleAst(g,n);let D=null!=v.offset?v.offset:function P9(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset");}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset");}return e;}(v.styles),I=0;return null!=D&&(a++,I=v.offset=D),s=s||I<0||I>1,l=l||I<c,c=I,i.push(I),v;});s&&n.errors.push(function G8(){return new b(3012,!1);}()),l&&n.errors.push(function q8(){return new b(3200,!1);}());const m=e.steps.length;let p=0;a>0&&a<m?n.errors.push(function W8(){return new b(3202,!1);}()):0==a&&(p=1/(m-1));const h=m-1,f=n.currentTime,y=n.currentAnimateTimings,_=y.duration;return d.forEach((g,v)=>{const D=p>0?v==h?1:p*v:i[v],I=D*_;n.currentTime=f+y.delay+I,y.duration=I,this._validateStyleAst(g,n),g.offset=D,r.styles.push(g);}),r;}visitReference(e,n){return{type:z.Reference,animation:$t(this,il(e.animation),n),options:_o(e.options)};}visitAnimateChild(e,n){return n.depCount++,{type:z.AnimateChild,options:_o(e.options)};}visitAnimateRef(e,n){return{type:z.AnimateRef,animation:this.visitReference(e.animation,n),options:_o(e.options)};}visitQuery(e,n){const r=n.currentQuerySelector,o=e.options||{};n.queryCount++,n.currentQuery=e;const[a,i]=function N9(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(I9,"")),t=t.replace(/@\*/g,Ku).replace(/@\w+/g,n=>Ku+"-"+n.slice(1)).replace(/:animating/g,xf),[t,e];}(e.selector);n.currentQuerySelector=r.length?r+" "+a:a,Bt(n.collectedStyles,n.currentQuerySelector,new Map());const l=$t(this,il(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:z.Query,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:i,animation:l,originalSelector:e.selector,options:_o(e.options)};}visitStagger(e,n){n.currentQuery||n.errors.push(function K8(){return new b(3013,!1);}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qu(e.timings,n.errors,!0);return{type:z.Stagger,animation:$t(this,il(e.animation),n),timings:r,options:null};}}class R9{constructor(e){u(this,"errors",void 0),u(this,"queryCount",0),u(this,"depCount",0),u(this,"currentTransition",null),u(this,"currentQuery",null),u(this,"currentQuerySelector",null),u(this,"currentAnimateTimings",null),u(this,"currentTime",0),u(this,"collectedStyles",new Map()),u(this,"options",null),u(this,"unsupportedCSSPropertiesFound",new Set()),this.errors=e;}}function _o(t){return t?(t={...t}).params&&(t.params=function A9(t){return t?{...t}:null;}(t.params)):t={},t;}function Of(t,e,n){return{duration:t,delay:e,easing:n};}function Ff(t,e,n,r,o,a,i=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:o,delay:a,totalTime:o+a,easing:i,subTimeline:l};}class ec{constructor(){u(this,"_map",new Map());}get(e){return this._map.get(e)||[];}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n);}has(e){return this._map.has(e);}clear(){this._map.clear();}}const j9=new RegExp(":enter","g"),B9=new RegExp(":leave","g");function Lf(t,e,n,r,o,a=new Map(),i=new Map(),l,s,c=[]){return new $9().buildKeyframes(t,e,n,r,o,a,i,l,s,c);}class $9{buildKeyframes(e,n,r,o,a,i,l,s,c,d=[]){c=c||new ec();const m=new jf(e,n,c,o,a,d,[]);m.options=s;const p=s.delay?Un(s.delay):0;m.currentTimeline.delayNextStep(p),m.currentTimeline.setStyles([i],null,m.errors,s),$t(this,r,m);const h=m.timelines.filter(f=>f.containsAnimation());if(h.length&&l.size){let f;for(let y=h.length-1;y>=0;y--){const _=h[y];if(_.element===n){f=_;break;}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([l],null,m.errors,s);}return h.length?h.map(f=>f.buildKeyframes()):[Ff(n,[],[],[],0,p,"",!1)];}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const o=n.createSubContext(e.options),a=n.currentTimeline.currentTime,i=this._visitSubInstructions(r,o,o.options);a!=i&&n.transformIntoNewTimeline(i);}n.previousNode=e;}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e;}_applyAnimationRefDelays(e,n,r){for(const a of e){const i=null==a?void 0:a.delay;if(i){var o;const l="number"==typeof i?i:Un(ll(i,null!==(o=null==a?void 0:a.params)&&void 0!==o?o:{},n.errors));r.delayNextStep(l);}}}_visitSubInstructions(e,n,r){let a=n.currentTimeline.currentTime;const i=null!=r.duration?Un(r.duration):null,l=null!=r.delay?Un(r.delay):null;return 0!==i&&e.forEach(s=>{const c=n.appendInstructionToTimeline(s,i,l);a=Math.max(a,c.duration+c.delay);}),a;}visitReference(e,n){n.updateOptions(e.options,!0),$t(this,e.animation,n),n.previousNode=e;}visitSequence(e,n){const r=n.subContextCount;let o=n;const a=e.options;if(a&&(a.params||a.delay)&&(o=n.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){o.previousNode.type==z.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=tc);const i=Un(a.delay);o.delayNextStep(i);}e.steps.length&&(e.steps.forEach(i=>$t(this,i,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),n.previousNode=e;}visitGroup(e,n){const r=[];let o=n.currentTimeline.currentTime;const a=e.options&&e.options.delay?Un(e.options.delay):0;e.steps.forEach(i=>{const l=n.createSubContext(e.options);a&&l.delayNextStep(a),$t(this,i,l),o=Math.max(o,l.currentTimeline.currentTime),r.push(l.currentTimeline);}),r.forEach(i=>n.currentTimeline.mergeTimelineCollectedStyles(i)),n.transformIntoNewTimeline(o),n.previousNode=e;}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Qu(n.params?ll(r,n.params,n.errors):r,n.errors);}return{duration:e.duration,delay:e.delay,easing:e.easing};}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),o=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),o.snapshotCurrentStyles());const a=e.style;a.type==z.Keyframes?this.visitKeyframes(a,n):(n.incrementTime(r.duration),this.visitStyle(a,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e;}visitStyle(e,n){const r=n.currentTimeline,o=n.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,n.errors,n.options),n.previousNode=e;}visitKeyframes(e,n){const r=n.currentAnimateTimings,o=n.currentTimeline.duration,a=r.duration,l=n.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(s=>{l.forwardTime((s.offset||0)*a),l.setStyles(s.styles,s.easing,n.errors,n.options),l.applyStylesToKeyframe();}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(o+a),n.previousNode=e;}visitQuery(e,n){const r=n.currentTimeline.currentTime,o=e.options||{},a=o.delay?Un(o.delay):0;a&&(n.previousNode.type===z.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tc);let i=r;const l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=l.length;let s=null;l.forEach((c,d)=>{n.currentQueryIndex=d;const m=n.createSubContext(e.options,c);a&&m.delayNextStep(a),c===n.element&&(s=m.currentTimeline),$t(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,m.currentTimeline.currentTime);}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(i),s&&(n.currentTimeline.mergeTimelineCollectedStyles(s),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e;}visitStagger(e,n){const r=n.parentContext,o=n.currentTimeline,a=e.timings,i=Math.abs(a.duration),l=i*(n.currentQueryTotal-1);let s=i*n.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":s=l-s;break;case"full":s=r.currentStaggerTime;}const d=n.currentTimeline;s&&d.delayNextStep(s);const m=d.currentTime;$t(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=o.currentTime-m+(o.startTime-r.currentTimeline.startTime);}}const tc={};class jf{constructor(e,n,r,o,a,i,l,s){u(this,"_driver",void 0),u(this,"element",void 0),u(this,"subInstructions",void 0),u(this,"_enterClassName",void 0),u(this,"_leaveClassName",void 0),u(this,"errors",void 0),u(this,"timelines",void 0),u(this,"parentContext",null),u(this,"currentTimeline",void 0),u(this,"currentAnimateTimings",null),u(this,"previousNode",tc),u(this,"subContextCount",0),u(this,"options",{}),u(this,"currentQueryIndex",0),u(this,"currentQueryTotal",0),u(this,"currentStaggerTime",0),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=a,this.errors=i,this.timelines=l,this.currentTimeline=s||new nc(this._driver,n,0),l.push(this.currentTimeline);}get params(){return this.options.params;}updateOptions(e,n){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Un(r.duration)),null!=r.delay&&(o.delay=Un(r.delay));const a=r.params;if(a){let i=o.params;i||(i=this.options.params={}),Object.keys(a).forEach(l=>{(!n||!i.hasOwnProperty(l))&&(i[l]=ll(a[l],i,this.errors));});}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(o=>{r[o]=n[o];});}}return e;}createSubContext(e=null,n,r){const o=n||this.element,a=new jf(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a;}transformIntoNewTimeline(e){return this.previousNode=tc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline;}appendInstructionToTimeline(e,n,r){const o={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new H9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(a),o;}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e);}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e);}invokeQuery(e,n,r,o,a,i){let l=[];if(o&&l.push(this.element),e.length>0){e=(e=e.replace(j9,"."+this._enterClassName)).replace(B9,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),l.push(...c);}return!a&&0==l.length&&i.push(function Q8(){return new b(3014,!1);}()),l;}}class nc{constructor(e,n,r,o){u(this,"_driver",void 0),u(this,"element",void 0),u(this,"startTime",void 0),u(this,"_elementTimelineStylesLookup",void 0),u(this,"duration",0),u(this,"easing",null),u(this,"_previousKeyframe",new Map()),u(this,"_currentKeyframe",new Map()),u(this,"_keyframes",new Map()),u(this,"_styleSummary",new Map()),u(this,"_localTimelineStyles",new Map()),u(this,"_globalTimelineStyles",void 0),u(this,"_pendingStyles",new Map()),u(this,"_backFill",new Map()),u(this,"_currentEmptyStepKeyframe",null),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map()),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0;}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0;}get currentTime(){return this.startTime+this.duration;}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e;}fork(e,n){return this.applyStylesToKeyframe(),new nc(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup);}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map(),this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=1,this._loadKeyframe();}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe();}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe;}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||zn),this._currentKeyframe.set(n,zn);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(e,n,r,o){n&&this._previousKeyframe.set("easing",n);const a=o&&o.params||{},i=function z9(t,e){const n=new Map();let r;return t.forEach(o=>{if("*"===o){null!=r||(r=e.keys());for(let a of r)n.set(a,zn);}else for(let[a,i]of o)n.set(a,i);}),n;}(e,this._globalTimelineStyles);for(let[s,c]of i){const d=ll(c,a,r);var l;this._pendingStyles.set(s,d),this._localTimelineStyles.has(s)||this._backFill.set(s,null!==(l=this._globalTimelineStyles.get(s))&&void 0!==l?l:zn),this._updateStyle(s,d);}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e);}));}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n);}getFinalKeyframe(){return this._keyframes.get(this.duration);}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e;}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const o=this._styleSummary.get(r);(!o||n.time>o.time)&&this._updateStyle(r,n.value);});}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set(),n=new Set(),r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((l,s)=>{const c=new Map([...this._backFill,...l]);c.forEach((d,m)=>{"!"===d?e.add(m):d===zn&&n.add(m);}),r||c.set("offset",s/this.duration),o.push(c);});const a=[...e.values()],i=[...n.values()];if(r){const l=o[0],s=new Map(l);l.set("offset",0),s.set("offset",1),o=[l,s];}return Ff(this.element,o,a,i,this.duration,this.startTime,this.easing,!1);}}class H9 extends nc{constructor(e,n,r,o,a,i,l=!1){super(e,n,i.delay),u(this,"keyframes",void 0),u(this,"preStyleProps",void 0),u(this,"postStyleProps",void 0),u(this,"_stretchStartingKeyframe",void 0),u(this,"timings",void 0),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=l,this.timings={duration:i.duration,delay:i.delay,easing:i.easing};}containsAnimation(){return this.keyframes.length>1;}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const a=[],i=r+n,l=n/i,s=new Map(e[0]);s.set("offset",0),a.push(s);const c=new Map(e[0]);c.set("offset",iC(l)),a.push(c);const d=e.length-1;for(let m=1;m<=d;m++){let p=new Map(e[m]);const h=p.get("offset");p.set("offset",iC((n+h*r)/i)),a.push(p);}r=i,n=0,o="",e=a;}return Ff(this.element,e,this.preStyleProps,this.postStyleProps,r,n,o,!0);}}function iC(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n;}function lC(t,e,n,r,o,a,i,l,s,c,d,m,p){return{type:0,element:t,triggerName:e,isRemovalTransition:o,fromState:n,fromStyles:a,toState:r,toStyles:i,timelines:l,queriedElements:s,preStyleProps:c,postStyleProps:d,totalTime:m,errors:p};}const Vf={};class sC{constructor(e,n,r){u(this,"_triggerName",void 0),u(this,"ast",void 0),u(this,"_stateStyles",void 0),this._triggerName=e,this.ast=n,this._stateStyles=r;}match(e,n,r,o){return function U9(t,e,n,r,o){return t.some(a=>a(e,n,r,o));}(this.ast.matchers,e,n,r,o);}buildStyles(e,n,r){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(null==e?void 0:e.toString())||o),o?o.buildStyles(n,r):new Map();}build(e,n,r,o,a,i,l,s,c,d){var m;const p=[],h=this.ast.options&&this.ast.options.params||Vf,y=this.buildStyles(r,l&&l.params||Vf,p),_=s&&s.params||Vf,g=this.buildStyles(o,_,p),v=new Set(),D=new Map(),I=new Map(),T="void"===o,$={params:uC(_,h),delay:null===(m=this.ast.options)||void 0===m?void 0:m.delay},R=d?[]:Lf(e,n,this.ast.animation,a,i,y,g,$,c,p);let ce=0;return R.forEach(Me=>{ce=Math.max(Me.duration+Me.delay,ce);}),p.length?lC(n,this._triggerName,r,o,T,y,g,[],[],D,I,ce,p):(R.forEach(Me=>{const oe=Me.element,Ve=Bt(D,oe,new Set());Me.preStyleProps.forEach(_t=>Ve.add(_t));const Ue=Bt(I,oe,new Set());Me.postStyleProps.forEach(_t=>Ue.add(_t)),oe!==n&&v.add(oe);}),lC(n,this._triggerName,r,o,T,y,g,R,[...v.values()],D,I,ce));}}function uC(t,e){const n={...e};return Object.entries(t).forEach(([r,o])=>{null!=o&&(n[r]=o);}),n;}class G9{constructor(e,n,r){u(this,"styles",void 0),u(this,"defaultParams",void 0),u(this,"normalizer",void 0),this.styles=e,this.defaultParams=n,this.normalizer=r;}buildStyles(e,n){const r=new Map(),o=uC(e,this.defaultParams);return this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((i,l)=>{i&&(i=ll(i,o,n));const s=this.normalizer.normalizePropertyName(l,n);i=this.normalizer.normalizeStyleValue(l,s,i,n),r.set(l,i);});}),r;}}class W9{constructor(e,n,r){u(this,"name",void 0),u(this,"ast",void 0),u(this,"_normalizer",void 0),u(this,"transitionFactories",[]),u(this,"fallbackTransition",void 0),u(this,"states",new Map()),this.name=e,this.ast=n,this._normalizer=r,n.states.forEach(o=>{this.states.set(o.name,new G9(o.style,o.options&&o.options.params||{},r));}),cC(this.states,"true","1"),cC(this.states,"false","0"),n.transitions.forEach(o=>{this.transitionFactories.push(new sC(e,o,this.states));}),this.fallbackTransition=function K9(t,e){return new sC(t,{type:z.Transition,animation:{type:z.Sequence,steps:[],options:null},matchers:[(i,l)=>!0],options:null,queryCount:0,depCount:0},e);}(e,this.states);}get containsQueries(){return this.ast.queryCount>0;}matchTransition(e,n,r,o){return this.transitionFactories.find(i=>i.match(e,n,r,o))||null;}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r);}}function cC(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n));}const Q9=new ec();class Y9{constructor(e,n,r){u(this,"bodyNode",void 0),u(this,"_driver",void 0),u(this,"_normalizer",void 0),u(this,"_animations",new Map()),u(this,"_playersById",new Map()),u(this,"players",[]),this.bodyNode=e,this._driver=n,this._normalizer=r;}register(e,n){const r=[],a=Pf(this._driver,n,r,[]);if(r.length)throw function e9(){return new b(3503,!1);}();this._animations.set(e,a);}_buildPlayer(e,n,r){const o=e.element,a=W3(this._normalizer,e.keyframes,n,r);return this._driver.animate(o,a,e.duration,e.delay,e.easing,[],!0);}create(e,n,r={}){const o=[],a=this._animations.get(e);let i;const l=new Map();if(a?(i=Lf(this._driver,n,a,J3,Ef,new Map(),new Map(),r,Q9,o),i.forEach(d=>{const m=Bt(l,d.element,new Map());d.postStyleProps.forEach(p=>m.set(p,null));})):(o.push(function t9(){return new b(3300,!1);}()),i=[]),o.length)throw function n9(){return new b(3504,!1);}();l.forEach((d,m)=>{d.forEach((p,h)=>{d.set(h,this._driver.computeStyle(m,h,zn));});});const c=Dr(i.map(d=>{const m=l.get(d.element);return this._buildPlayer(d,new Map(),m);}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c;}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1);}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function r9(){return new b(3301,!1);}();return n;}listen(e,n,r,o){const a=Cf(n,"","","");return wf(this._getPlayer(e),r,a,o),()=>{};}command(e,n,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,n,o[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e);}}}const dC="ng-animate-queued",Bf="ng-animate-disabled",tj=[],mC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cn="__ng_removed";class $f{get params(){return this.options.params;}constructor(e,n=""){u(this,"namespaceId",void 0),u(this,"value",void 0),u(this,"options",void 0),this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function ij(t){return null!=t?t:null;}(r?e.value:e),r){const{value:a,...i}=e;this.options=i;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(o=>{null==r[o]&&(r[o]=n[o]);});}}}const sl="void",Hf=new $f(sl);class rj{constructor(e,n,r){u(this,"id",void 0),u(this,"hostElement",void 0),u(this,"_engine",void 0),u(this,"players",[]),u(this,"_triggers",new Map()),u(this,"_queue",[]),u(this,"_elementListeners",new Map()),u(this,"_hostClassName",void 0),this.id=e,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+e,en(n,this._hostClassName);}listen(e,n,r,o){if(!this._triggers.has(n))throw function o9(){return new b(3302,!1);}();if(null==r||0==r.length)throw function a9(){return new b(3303,!1);}();if(!function lj(t){return"start"==t||"done"==t;}(r))throw function i9(){return new b(3400,!1);}();const a=Bt(this._elementListeners,e,[]),i={name:n,phase:r,callback:o};a.push(i);const l=Bt(this._engine.statesByElement,e,new Map());return l.has(n)||(en(e,Wu),en(e,Wu+"-"+n),l.set(n,Hf)),()=>{this._engine.afterFlush(()=>{const s=a.indexOf(i);s>=0&&a.splice(s,1),this._triggers.has(n)||l.delete(n);});};}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0);}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function l9(){return new b(3401,!1);}();return n;}trigger(e,n,r,o=!0){const a=this._getTrigger(n),i=new zf(this.id,n,e);let l=this._engine.statesByElement.get(e);l||(en(e,Wu),en(e,Wu+"-"+n),this._engine.statesByElement.set(e,l=new Map()));let s=l.get(n);const c=new $f(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&s&&c.absorbOptions(s.options),l.set(n,c),s||(s=Hf),c.value!==sl&&s.value===c.value){if(!function cj(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let o=0;o<n.length;o++){const a=n[o];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1;}return!0;}(s.params,c.params)){const y=[],_=a.matchStyles(s.value,s.params,y),g=a.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{go(e,_),Cn(e,g);});}return;}const p=Bt(this._engine.playersByElement,e,[]);p.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy();});let h=a.matchTransition(s.value,c.value,e,c.params),f=!1;if(!h){if(!o)return;h=a.fallbackTransition,f=!0;}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:s,toState:c,player:i,isFallbackTransition:f}),f||(en(e,dC),i.onStart(()=>{Ma(e,dC);})),i.onDone(()=>{let y=this.players.indexOf(i);y>=0&&this.players.splice(y,1);const _=this._engine.playersByElement.get(e);if(_){let g=_.indexOf(i);g>=0&&_.splice(g,1);}}),this.players.push(i),p.push(i),i;}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(o=>o.name!=e));});}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e));}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Ku,!0);r.forEach(o=>{if(o[cn])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(i=>i.triggerLeaveAnimation(o,n,!1,!0)):this.clearElementCache(o);}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)));}triggerLeaveAnimation(e,n,r,o){const a=this._engine.statesByElement.get(e),i=new Map();if(a){const l=[];if(a.forEach((s,c)=>{if(i.set(c,s.value),this._triggers.has(c)){const d=this.trigger(e,c,sl,o);d&&l.push(d);}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,i),r&&Dr(l).onDone(()=>this._engine.processLeaveNode(e)),!0;}return!1;}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const o=new Set();n.forEach(a=>{const i=a.name;if(o.has(i))return;o.add(i);const s=this._triggers.get(i).fallbackTransition,c=r.get(i)||Hf,d=new $f(sl),m=new zf(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:c,toState:d,player:m,isFallbackTransition:!0});});}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let o=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)o=!0;else{let i=e;for(;i=i.parentNode;)if(r.statesByElement.get(i)){o=!0;break;}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,n);else{const a=e[cn];(!a||a===mC)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n));}}insertNode(e,n){en(e,this._hostClassName);}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const a=r.element,i=this._elementListeners.get(a);i&&i.forEach(l=>{if(l.name==r.triggerName){const s=Cf(a,r.triggerName,r.fromState.value,r.toState.value);s._data=e,wf(r.player,l.phase,s,l.callback);}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy();}):n.push(r);}),this._queue=[],n.sort((r,o)=>{const a=r.transition.ast.depCount,i=o.transition.ast.depCount;return 0==a||0==i?a-i:this._engine.driver.containsElement(r.element,o.element)?1:-1;});}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e);}}class oj{_onRemovalComplete(e,n){this.onRemovalComplete(e,n);}constructor(e,n,r){u(this,"bodyNode",void 0),u(this,"driver",void 0),u(this,"_normalizer",void 0),u(this,"players",[]),u(this,"newHostElements",new Map()),u(this,"playersByElement",new Map()),u(this,"playersByQueriedElement",new Map()),u(this,"statesByElement",new Map()),u(this,"disabledNodes",new Set()),u(this,"totalAnimations",0),u(this,"totalQueuedPlayers",0),u(this,"_namespaceLookup",{}),u(this,"_namespaceList",[]),u(this,"_flushFns",[]),u(this,"_whenQuietFns",[]),u(this,"namespacesByHostElement",new Map()),u(this,"collectedEnterElements",[]),u(this,"collectedLeaveElements",[]),u(this,"onRemovalComplete",(o,a)=>{}),this.bodyNode=e,this.driver=n,this._normalizer=r;}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r);});}),e;}createNamespace(e,n){const r=new rj(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r;}_balanceNamespaceList(e,n){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let i=!1,l=this.driver.getParentElement(n);for(;l;){const s=o.get(l);if(s){const c=r.indexOf(s);r.splice(c+1,0,e),i=!0;break;}l=this.driver.getParentElement(l);}i||r.unshift(e);}else r.push(e);return o.set(n,e),e;}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r;}registerTrigger(e,n,r){let o=this._namespaceLookup[e];o&&o.register(n,r)&&this.totalAnimations++;}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1),r.destroy(n),delete this._namespaceLookup[e];}));}_fetchNamespace(e){return this._namespaceLookup[e];}fetchNamespacesByElement(e){const n=new Set(),r=this.statesByElement.get(e);if(r)for(let o of r.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&n.add(a);}return n;}trigger(e,n,r,o){if(rc(n)){const a=this._fetchNamespace(e);if(a)return a.trigger(n,r,o),!0;}return!1;}insertNode(e,n,r,o){if(!rc(n))return;const a=n[cn];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const i=this.collectedLeaveElements.indexOf(n);i>=0&&this.collectedLeaveElements.splice(i,1);}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(n,r);}o&&this.collectEnterElement(n);}collectEnterElement(e){this.collectedEnterElements.push(e);}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),en(e,Bf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ma(e,Bf));}removeNode(e,n,r){if(rc(n)){const o=e?this._fetchNamespace(e):null;o?o.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const a=this.namespacesByHostElement.get(n);a&&a.id!==e&&a.removeNode(n,r);}else this._onRemovalComplete(n,r);}markElementAsRemoved(e,n,r,o,a){this.collectedLeaveElements.push(n),n[cn]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a};}listen(e,n,r,o,a){return rc(n)?this._fetchNamespace(e).listen(n,r,o,a):()=>{};}_buildInstruction(e,n,r,o,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,n,a);}destroyInnerAnimations(e){let n=this.driver.query(e,Ku,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,xf,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)));}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy();});}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish());}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Dr(this.players).onDone(()=>e());e();});}processLeaveNode(e){var n;const r=e[cn];if(r&&r.setForRemoval){if(e[cn]=mC,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e);}this._onRemovalComplete(e,r.setForRemoval);}null!==(n=e.classList)&&void 0!==n&&n.contains(Bf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1);});}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)en(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e);}finally{for(let o=0;o<r.length;o++)r[o]();}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Dr(n).onDone(()=>{r.forEach(o=>o());}):r.forEach(o=>o());}}reportError(e){throw function s9(){return new b(3402,!1);}();}_flushAnimations(e,n){const r=new ec(),o=[],a=new Map(),i=[],l=new Map(),s=new Map(),c=new Map(),d=new Set();this.disabledNodes.forEach(N=>{d.add(N);const P=this.driver.query(N,".ng-animate-queued",!0);for(let F=0;F<P.length;F++)d.add(P[F]);});const m=this.bodyNode,p=Array.from(this.statesByElement.keys()),h=fC(p,this.collectedEnterElements),f=new Map();let y=0;h.forEach((N,P)=>{const F=J3+y++;f.set(P,F),N.forEach(ee=>en(ee,F));});const _=[],g=new Set(),v=new Set();for(let N=0;N<this.collectedLeaveElements.length;N++){const P=this.collectedLeaveElements[N],F=P[cn];F&&F.setForRemoval&&(_.push(P),g.add(P),F.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(ee=>g.add(ee)):v.add(P));}const D=new Map(),I=fC(p,Array.from(g));I.forEach((N,P)=>{const F=Ef+y++;D.set(P,F),N.forEach(ee=>en(ee,F));}),e.push(()=>{h.forEach((N,P)=>{const F=f.get(P);N.forEach(ee=>Ma(ee,F));}),I.forEach((N,P)=>{const F=D.get(P);N.forEach(ee=>Ma(ee,F));}),_.forEach(N=>{this.processLeaveNode(N);});});const T=[],$=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(n).forEach(F=>{const ee=F.player,we=F.element;if(T.push(ee),this.collectedEnterElements.length){const Je=we[cn];if(Je&&Je.setForMove){if(Je.previousTriggersValues&&Je.previousTriggersValues.has(F.triggerName)){const Ie=Je.previousTriggersValues.get(F.triggerName),lt=this.statesByElement.get(F.element);if(lt&&lt.has(F.triggerName)){const cc=lt.get(F.triggerName);cc.value=Ie,lt.set(F.triggerName,cc);}}return void ee.destroy();}}const St=!m||!this.driver.containsElement(m,we),Ge=D.get(we),tn=f.get(we),ve=this._buildInstruction(F,r,tn,Ge,St);if(ve.errors&&ve.errors.length)return void $.push(ve);if(St)return ee.onStart(()=>go(we,ve.fromStyles)),ee.onDestroy(()=>Cn(we,ve.toStyles)),void o.push(ee);if(F.isFallbackTransition)return ee.onStart(()=>go(we,ve.fromStyles)),ee.onDestroy(()=>Cn(we,ve.toStyles)),void o.push(ee);const Ta=[];ve.timelines.forEach(Je=>{Je.stretchStartingKeyframe=!0,this.disabledNodes.has(Je.element)||Ta.push(Je);}),ve.timelines=Ta,r.append(we,ve.timelines),i.push({instruction:ve,player:ee,element:we}),ve.queriedElements.forEach(Je=>Bt(l,Je,[]).push(ee)),ve.preStyleProps.forEach((Je,Ie)=>{if(Je.size){let lt=s.get(Ie);lt||s.set(Ie,lt=new Set()),Je.forEach((cc,Xf)=>lt.add(Xf));}}),ve.postStyleProps.forEach((Je,Ie)=>{let lt=c.get(Ie);lt||c.set(Ie,lt=new Set()),Je.forEach((cc,Xf)=>lt.add(Xf));});});if($.length){const N=[];$.forEach(P=>{N.push(function u9(){return new b(3505,!1);}());}),T.forEach(P=>P.destroy()),this.reportError(N);}const R=new Map(),ce=new Map();i.forEach(N=>{const P=N.element;r.has(P)&&(ce.set(P,P),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,R));}),o.forEach(N=>{const P=N.element;this._getPreviousPlayers(P,!1,N.namespaceId,N.triggerName,null).forEach(ee=>{Bt(R,P,[]).push(ee),ee.destroy();});});const Me=_.filter(N=>vC(N,s,c)),oe=new Map();hC(oe,this.driver,v,c,zn).forEach(N=>{vC(N,s,c)&&Me.push(N);});const Ue=new Map();h.forEach((N,P)=>{hC(Ue,this.driver,new Set(N),s,"!");}),Me.forEach(N=>{var P,F;const ee=oe.get(N),we=Ue.get(N);oe.set(N,new Map([...(null!==(P=null==ee?void 0:ee.entries())&&void 0!==P?P:[]),...(null!==(F=null==we?void 0:we.entries())&&void 0!==F?F:[])]));});const _t=[],Gn=[],Ia={};i.forEach(N=>{const{element:P,player:F,instruction:ee}=N;if(r.has(P)){if(d.has(P))return F.onDestroy(()=>Cn(P,ee.toStyles)),F.disabled=!0,F.overrideTotalTime(ee.totalTime),void o.push(F);let we=Ia;if(ce.size>1){let Ge=P;const tn=[];for(;Ge=Ge.parentNode;){const ve=ce.get(Ge);if(ve){we=ve;break;}tn.push(Ge);}tn.forEach(ve=>ce.set(ve,we));}const St=this._buildAnimation(F.namespaceId,ee,R,a,Ue,oe);if(F.setRealPlayer(St),we===Ia)_t.push(F);else{const Ge=this.playersByElement.get(we);Ge&&Ge.length&&(F.parentPlayer=Dr(Ge)),o.push(F);}}else go(P,ee.fromStyles),F.onDestroy(()=>Cn(P,ee.toStyles)),Gn.push(F),d.has(P)&&o.push(F);}),Gn.forEach(N=>{const P=a.get(N.element);if(P&&P.length){const F=Dr(P);N.setRealPlayer(F);}}),o.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy();});for(let N=0;N<_.length;N++){const P=_[N],F=P[cn];if(Ma(P,Ef),F&&F.hasAnimation)continue;let ee=[];if(l.size){let St=l.get(P);St&&St.length&&ee.push(...St);let Ge=this.driver.query(P,xf,!0);for(let tn=0;tn<Ge.length;tn++){let ve=l.get(Ge[tn]);ve&&ve.length&&ee.push(...ve);}}const we=ee.filter(St=>!St.destroyed);we.length?sj(this,P,we):this.processLeaveNode(P);}return _.length=0,_t.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();const P=this.players.indexOf(N);this.players.splice(P,1);}),N.play();}),_t;}afterFlush(e){this._flushFns.push(e);}afterFlushAnimationsDone(e){this._whenQuietFns.push(e);}_getPreviousPlayers(e,n,r,o,a){let i=[];if(n){const l=this.playersByQueriedElement.get(e);l&&(i=l);}else{const l=this.playersByElement.get(e);if(l){const s=!a||a==sl;l.forEach(c=>{c.queued||!s&&c.triggerName!=o||i.push(c);});}}return(r||o)&&(i=i.filter(l=>!(r&&r!=l.namespaceId||o&&o!=l.triggerName))),i;}_beforeAnimationBuild(e,n,r){const a=n.element,i=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName;for(const s of n.timelines){const c=s.element,d=c!==a,m=Bt(r,c,[]);this._getPreviousPlayers(c,d,i,l,n.toState).forEach(h=>{const f=h.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),h.destroy(),m.push(h);});}go(a,n.fromStyles);}_buildAnimation(e,n,r,o,a,i){const l=n.triggerName,s=n.element,c=[],d=new Set(),m=new Set(),p=n.timelines.map(f=>{const y=f.element;d.add(y);const _=y[cn];if(_&&_.removedBeforeQueried)return new al(f.duration,f.delay);const g=y!==s,v=function uj(t){const e=[];return yC(t,e),e;}((r.get(y)||tj).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===y),D=a.get(y),I=i.get(y),T=W3(this._normalizer,f.keyframes,D,I),$=this._buildPlayer(f,T,v);if(f.subTimeline&&o&&m.add(y),g){const R=new zf(e,l,y);R.setRealPlayer($),c.push(R);}return $;});c.forEach(f=>{Bt(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function aj(t,e,n){let r=t.get(e);if(r){if(r.length){const o=r.indexOf(n);r.splice(o,1);}0==r.length&&t.delete(e);}return r;}(this.playersByQueriedElement,f.element,f));}),d.forEach(f=>en(f,eC));const h=Dr(p);return h.onDestroy(()=>{d.forEach(f=>Ma(f,eC)),Cn(s,n.toStyles);}),m.forEach(f=>{Bt(o,f,[]).push(h);}),h;}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new al(e.duration,e.delay);}}class zf{constructor(e,n,r){u(this,"namespaceId",void 0),u(this,"triggerName",void 0),u(this,"element",void 0),u(this,"_player",new al()),u(this,"_containsRealPlayer",!1),u(this,"_queuedCallbacks",new Map()),u(this,"destroyed",!1),u(this,"parentPlayer",null),u(this,"markedForDestroy",!1),u(this,"disabled",!1),u(this,"queued",!0),u(this,"totalTime",0),this.namespaceId=e,this.triggerName=n,this.element=r;}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(o=>wf(e,r,void 0,o));}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1);}getRealPlayer(){return this._player;}overrideTotalTime(e){this.totalTime=e;}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy());}_queueEvent(e,n){Bt(this._queuedCallbacks,e,[]).push(n);}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e);}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e);}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e);}init(){this._player.init();}hasStarted(){return!this.queued&&this._player.hasStarted();}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=!0,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(e){this.queued||this._player.setPosition(e);}getPosition(){return this.queued?0:this._player.getPosition();}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e);}}function rc(t){return t&&1===t.nodeType;}function pC(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n;}function hC(t,e,n,r,o){const a=[];n.forEach(s=>a.push(pC(s)));const i=[];r.forEach((s,c)=>{const d=new Map();s.forEach(m=>{const p=e.computeStyle(c,m,o);d.set(m,p),(!p||0==p.length)&&(c[cn]=nj,i.push(c));}),t.set(c,d);});let l=0;return n.forEach(s=>pC(s,a[l++])),i;}function fC(t,e){const n=new Map();if(t.forEach(l=>n.set(l,[])),0==e.length)return n;const o=new Set(e),a=new Map();function i(l){if(!l)return 1;let s=a.get(l);if(s)return s;const c=l.parentNode;return s=n.has(c)?c:o.has(c)?1:i(c),a.set(l,s),s;}return e.forEach(l=>{const s=i(l);1!==s&&n.get(s).push(l);}),n;}function en(t,e){var n;null===(n=t.classList)||void 0===n||n.add(e);}function Ma(t,e){var n;null===(n=t.classList)||void 0===n||n.remove(e);}function sj(t,e,n){Dr(n).onDone(()=>t.processLeaveNode(e));}function yC(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof G3?yC(r.players,e):e.push(r);}}function vC(t,e,n){const r=n.get(t);if(!r)return!1;let o=e.get(t);return o?r.forEach(a=>o.add(a)):e.set(t,r),n.delete(t),!0;}class ul{constructor(e,n,r){u(this,"_driver",void 0),u(this,"_normalizer",void 0),u(this,"_transitionEngine",void 0),u(this,"_timelineEngine",void 0),u(this,"_triggerCache",{}),u(this,"onRemovalComplete",(o,a)=>{}),this._driver=n,this._normalizer=r,this._transitionEngine=new oj(e.body,n,r),this._timelineEngine=new Y9(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a);}registerTrigger(e,n,r,o,a){const i=e+"-"+o;let l=this._triggerCache[i];if(!l){const s=[],d=Pf(this._driver,a,s,[]);if(s.length)throw function X8(){return new b(3404,!1);}();l=function q9(t,e,n){return new W9(t,e,n);}(o,d,this._normalizer),this._triggerCache[i]=l;}this._transitionEngine.registerTrigger(n,o,l);}register(e,n){this._transitionEngine.register(e,n);}destroy(e,n){this._transitionEngine.destroy(e,n);}onInsert(e,n,r,o){this._transitionEngine.insertNode(e,n,r,o);}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r);}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n);}process(e,n,r,o){if("@"==r.charAt(0)){const[a,i]=K3(r);this._timelineEngine.command(a,n,i,o);}else this._transitionEngine.trigger(e,n,r,o);}listen(e,n,r,o,a){if("@"==r.charAt(0)){const[i,l]=K3(r);return this._timelineEngine.listen(i,n,l,a);}return this._transitionEngine.listen(e,n,r,o,a);}flush(e=-1){this._transitionEngine.flush(e);}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players];}whenRenderingDone(){return this._transitionEngine.whenRenderingDone();}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e);}}let mj=(()=>{class t{constructor(n,r,o){u(this,"_element",void 0),u(this,"_startStyles",void 0),u(this,"_endStyles",void 0),u(this,"_state",0),u(this,"_initialStyles",void 0),this._element=n,this._startStyles=r,this._endStyles=o;let a=t.initialStylesByElement.get(n);a||t.initialStylesByElement.set(n,a=new Map()),this._initialStyles=a;}start(){this._state<1&&(this._startStyles&&Cn(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(Cn(this._element,this._initialStyles),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),Cn(this._element,this._initialStyles),this._state=3);}}return u(t,"initialStylesByElement",new WeakMap()),t;})();function Uf(t){let e=null;return t.forEach((n,r)=>{(function pj(t){return"display"===t||"position"===t;})(r)&&(e=e||new Map(),e.set(r,n));}),e;}class gC{constructor(e,n,r,o){u(this,"element",void 0),u(this,"keyframes",void 0),u(this,"options",void 0),u(this,"_specialStyles",void 0),u(this,"_onDoneFns",[]),u(this,"_onStartFns",[]),u(this,"_onDestroyFns",[]),u(this,"_duration",void 0),u(this,"_delay",void 0),u(this,"_initialized",!1),u(this,"_finished",!1),u(this,"_started",!1),u(this,"_destroyed",!1),u(this,"_finalKeyframe",void 0),u(this,"_originalOnDoneFns",[]),u(this,"_originalOnStartFns",[]),u(this,"domPlayer",void 0),u(this,"time",0),u(this,"parentPlayer",null),u(this,"currentSnapshot",new Map()),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=o,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map();const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r));}),n;}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r);}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e);}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e);}onDestroy(e){this._onDestroyFns.push(e);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started;}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[]);}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time;}getPosition(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time;}get totalTime(){return this._delay+this._duration;}beforeDestroy(){const e=new Map();this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&e.set(o,this._finished?r:Tf(this.element,o));}),this.currentSnapshot=e;}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0;}}class _C{validateStyleProperty(e){return!0;}validateAnimatableStyleProperty(e){return!0;}containsElement(e,n){return Y3(e,n);}getParentElement(e){return Df(e);}query(e,n,r){return Z3(e,n,r);}computeStyle(e,n,r){return Tf(e,n);}animate(e,n,r,o,a,i=[]){const s={duration:r,delay:o,fill:0==o?"both":"forwards"};a&&(s.easing=a);const c=new Map(),d=i.filter(h=>h instanceof gC);(function k9(t,e){return 0===t||0===e;})(r,o)&&d.forEach(h=>{h.currentSnapshot.forEach((f,y)=>c.set(y,f));});let m=function _9(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[];}(n).map(h=>new Map(h));m=function C9(t,e,n){if(n.size&&e.length){let r=e[0],o=[];if(n.forEach((a,i)=>{r.has(i)||o.push(i),r.set(i,a);}),o.length)for(let a=1;a<e.length;a++){let i=e[a];o.forEach(l=>i.set(l,Tf(t,l)));}}return e;}(e,m,c);const p=function dj(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Uf(e[0]),e.length>1&&(r=Uf(e[e.length-1]))):e instanceof Map&&(n=Uf(e)),n||r?new mj(t,n,r):null;}(e,m);return new gC(e,m,s,p);}}const bC="@.disabled";class wC{constructor(e,n,r,o){u(this,"namespaceId",void 0),u(this,"delegate",void 0),u(this,"engine",void 0),u(this,"_onDestroy",void 0),u(this,"\u0275type",0),this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=o;}get data(){return this.delegate.data;}destroyNode(e){var n,r;null===(n=(r=this.delegate).destroyNode)||void 0===n||n.call(r,e);}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),null===(e=this._onDestroy)||void 0===e||e.call(this);}createElement(e,n){return this.delegate.createElement(e,n);}createComment(e){return this.delegate.createComment(e);}createText(e){return this.delegate.createText(e);}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1);}insertBefore(e,n,r,o=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,o);}removeChild(e,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate);}selectRootElement(e,n){return this.delegate.selectRootElement(e,n);}parentNode(e){return this.delegate.parentNode(e);}nextSibling(e){return this.delegate.nextSibling(e);}setAttribute(e,n,r,o){this.delegate.setAttribute(e,n,r,o);}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r);}addClass(e,n){this.delegate.addClass(e,n);}removeClass(e,n){this.delegate.removeClass(e,n);}setStyle(e,n,r,o){this.delegate.setStyle(e,n,r,o);}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r);}setProperty(e,n,r){"@"==n.charAt(0)&&n==bC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r);}setValue(e,n){this.delegate.setValue(e,n);}listen(e,n,r,o){return this.delegate.listen(e,n,r,o);}disableAnimations(e,n){this.engine.disableAnimations(e,n);}}class hj extends wC{constructor(e,n,r,o,a){super(n,r,o,a),u(this,"factory",void 0),this.factory=e,this.namespaceId=n;}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==bC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r);}listen(e,n,r,o){if("@"==n.charAt(0)){const a=function fj(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t;}}(e);let i=n.slice(1),l="";return"@"!=i.charAt(0)&&([i,l]=function yj(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)];}(i)),this.engine.listen(this.namespaceId,a,i,l,s=>{this.factory.scheduleListenerCallback(s._data||-1,r,s);});}return this.delegate.listen(e,n,r,o);}}class vj{constructor(e,n,r){u(this,"delegate",void 0),u(this,"engine",void 0),u(this,"_zone",void 0),u(this,"_currentId",0),u(this,"_microtaskId",1),u(this,"_animationCallbacksBuffer",[]),u(this,"_rendererCache",new Map()),u(this,"_cdRecurDepth",0),this.delegate=e,this.engine=n,this._zone=r,n.onRemovalComplete=(o,a)=>{null==a||a.removeChild(null,o);};}createRenderer(e,n){var r;const a=this.delegate.createRenderer(e,n);if(!e||null==n||null===(r=n.data)||void 0===r||!r.animation){const d=this._rendererCache;let m=d.get(a);return m||(m=new wC("",a,this.engine,()=>d.delete(a)),d.set(a,m)),m;}const i=n.id,l=n.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const s=d=>{Array.isArray(d)?d.forEach(s):this.engine.registerTrigger(i,l,e,d.name,d);};return n.data.animation.forEach(s),new hj(this,l,a,this.engine);}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(a=>{const[i,l]=a;i(l);}),this._animationCallbacksBuffer=[];});}),o.push([n,r]);}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone();}componentReplaced(e){var n,r;this.engine.flush(),null===(n=(r=this.delegate).componentReplaced)||void 0===n||n.call(r,e);}}const kj=[{provide:Yu,useFactory:()=>new _C()},{provide:_g,useFactory:()=>"BrowserAnimations"},...[{provide:Af,useFactory:function _j(){return new nC();}},{provide:ul,useClass:(()=>{var t;class e extends ul{constructor(r,o,a){super(r,o,a);}ngOnDestroy(){this.flush();}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(yn),V(Yu),V(Af));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})()},{provide:Is,useFactory:function bj(t,e,n){return new vj(t,e,n);},deps:[Dh,ul,ue]}]];function Gf(t,e,n=1/0){return Fe(e)?Gf((r,o)=>or((a,i)=>e(r,a,o,i))(br(t(r,o))),n):("number"==typeof e&&(n=e),rr((r,o)=>function Dj(t,e,n,r,o,a,i,l){const s=[];let c=0,d=0,m=!1;const p=()=>{m&&!s.length&&!c&&e.complete();},h=y=>c<r?f(y):s.push(y),f=y=>{a&&e.next(y),c++;let _=!1;br(n(y,d++)).subscribe(Pn(e,g=>{null==o||o(g),a?h(g):e.next(g);},()=>{_=!0;},void 0,()=>{if(_)try{for(c--;s.length&&c<r;){const g=s.shift();i?wr(e,i,()=>f(g)):f(g);}p();}catch(g){e.error(g);}}));};return t.subscribe(Pn(e,h,()=>{m=!0,p();})),()=>{null==l||l();};}(r,o,t,n)));}function CC(...t){return Bk(t,function jL(t){return function FL(t){return t&&Fe(t.schedule);}(Qh(t))?t.pop():void 0;}(t));}class ac{}class ic{}class dn{constructor(e){u(this,"headers",void 0),u(this,"normalizedNames",new Map()),u(this,"lazyInit",void 0),u(this,"lazyUpdate",null),e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map(),e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),a=n.slice(r+1).trim();this.addHeaderEntry(o,a);}});}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map(),e.forEach((n,r)=>{this.addHeaderEntry(r,n);})):this.lazyInit=()=>{this.headers=new Map(),Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r);});}:this.headers=new Map();}has(e){return this.init(),this.headers.has(e.toLowerCase());}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null;}keys(){return this.init(),Array.from(this.normalizedNames.values());}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null;}append(e,n){return this.clone({name:e,value:n,op:"a"});}set(e,n){return this.clone({name:e,value:n,op:"s"});}delete(e,n){return this.clone({name:e,value:n,op:"d"});}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e);}init(){this.lazyInit&&(this.lazyInit instanceof dn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null));}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n));});}clone(e){const n=new dn();return n.lazyInit=this.lazyInit&&this.lazyInit instanceof dn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n;}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const a=e.value;if(a){let i=this.headers.get(n);if(!i)return;i=i.filter(l=>-1===a.indexOf(l)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i);}else this.headers.delete(n),this.normalizedNames.delete(n);}}addHeaderEntry(e,n){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n]);}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(a=>a.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o);}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)));}}class Ij{encodeKey(e){return DC(e);}encodeValue(e){return DC(e);}decodeKey(e){return decodeURIComponent(e);}decodeValue(e){return decodeURIComponent(e);}}const Nj=/%(\d[a-f0-9])/gi,Aj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DC(t){return encodeURIComponent(t).replace(Nj,(e,n)=>{var r;return null!==(r=Aj[n])&&void 0!==r?r:e;});}function lc(t){return`${t}`;}class Er{constructor(e={}){if(u(this,"map",void 0),u(this,"encoder",void 0),u(this,"updates",null),u(this,"cloneFrom",null),this.encoder=e.encoder||new Ij(),e.fromString){if(e.fromObject)throw new b(2805,!1);this.map=function Tj(t,e){const n=new Map();return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[i,l]=-1==a?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,a)),e.decodeValue(o.slice(a+1))],s=n.get(i)||[];s.push(l),n.set(i,s);}),n;}(e.fromString,this.encoder);}else e.fromObject?(this.map=new Map(),Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],o=Array.isArray(r)?r.map(lc):[lc(r)];this.map.set(n,o);})):this.map=null;}has(e){return this.init(),this.map.has(e);}get(e){this.init();const n=this.map.get(e);return n?n[0]:null;}getAll(e){return this.init(),this.map.get(e)||null;}keys(){return this.init(),Array.from(this.map.keys());}append(e,n){return this.clone({param:e,value:n,op:"a"});}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(a=>{n.push({param:r,value:a,op:"a"});}):n.push({param:r,value:o,op:"a"});}),this.clone(n);}set(e,n){return this.clone({param:e,value:n,op:"s"});}delete(e,n){return this.clone({param:e,value:n,op:"d"});}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&");}).filter(e=>""!==e).join("&");}clone(e){const n=new Er({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n;}init(){null===this.map&&(this.map=new Map()),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(lc(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break;}{let r=this.map.get(e.param)||[];const o=r.indexOf(lc(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param);}}}),this.cloneFrom=this.updates=null);}}class Rj{constructor(){u(this,"map",new Map());}set(e,n){return this.map.set(e,n),this;}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e);}delete(e){return this.map.delete(e),this;}has(e){return this.map.has(e);}keys(){return this.map.keys();}}function EC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer;}function xC(t){return typeof Blob<"u"&&t instanceof Blob;}function SC(t){return typeof FormData<"u"&&t instanceof FormData;}const cl="Content-Type",qf="X-Request-URL",MC="text/plain",IC="application/json",TC=`${IC}, ${MC}, */*`;class dl{constructor(e,n,r,o){var a,i;let l;if(u(this,"url",void 0),u(this,"body",null),u(this,"headers",void 0),u(this,"context",void 0),u(this,"reportProgress",!1),u(this,"withCredentials",!1),u(this,"credentials",void 0),u(this,"keepalive",!1),u(this,"cache",void 0),u(this,"priority",void 0),u(this,"mode",void 0),u(this,"redirect",void 0),u(this,"responseType","json"),u(this,"method",void 0),u(this,"params",void 0),u(this,"urlWithParams",void 0),u(this,"transferCache",void 0),u(this,"timeout",void 0),this.url=n,this.method=e.toUpperCase(),function Pj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0;}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l){if(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,this.keepalive=!!l.keepalive,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),l.priority&&(this.priority=l.priority),l.cache&&(this.cache=l.cache),l.credentials&&(this.credentials=l.credentials),"number"==typeof l.timeout){if(l.timeout<1||!Number.isInteger(l.timeout))throw new Error("");this.timeout=l.timeout;}l.mode&&(this.mode=l.mode),l.redirect&&(this.redirect=l.redirect),this.transferCache=l.transferCache;}if(null!==(a=this.headers)&&void 0!==a||(this.headers=new dn()),null!==(i=this.context)&&void 0!==i||(this.context=new Rj()),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+s;}}else this.params=new Er(),this.urlWithParams=n;}serializeBody(){return null===this.body?null:"string"==typeof this.body||EC(this.body)||xC(this.body)||SC(this.body)||function Oj(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams;}(this.body)?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();}detectContentTypeHeader(){return null===this.body||SC(this.body)?null:xC(this.body)?this.body.type||null:EC(this.body)?null:"string"==typeof this.body?MC:this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?IC:null;}clone(e={}){var n,r,o,a,i,l;const s=e.method||this.method,c=e.url||this.url,d=e.responseType||this.responseType,m=null!==(n=e.keepalive)&&void 0!==n?n:this.keepalive,p=e.priority||this.priority,h=e.cache||this.cache,f=e.mode||this.mode,y=e.redirect||this.redirect,_=e.credentials||this.credentials,g=null!==(r=e.transferCache)&&void 0!==r?r:this.transferCache,v=null!==(o=e.timeout)&&void 0!==o?o:this.timeout,D=void 0!==e.body?e.body:this.body,I=null!==(a=e.withCredentials)&&void 0!==a?a:this.withCredentials,T=null!==(i=e.reportProgress)&&void 0!==i?i:this.reportProgress;let $=e.headers||this.headers,R=e.params||this.params;const ce=null!==(l=e.context)&&void 0!==l?l:this.context;return void 0!==e.setHeaders&&($=Object.keys(e.setHeaders).reduce((Me,oe)=>Me.set(oe,e.setHeaders[oe]),$)),e.setParams&&(R=Object.keys(e.setParams).reduce((Me,oe)=>Me.set(oe,e.setParams[oe]),R)),new dl(s,c,D,{params:R,headers:$,context:ce,reportProgress:T,responseType:d,withCredentials:I,transferCache:g,keepalive:m,cache:h,priority:p,timeout:v,mode:f,redirect:y,credentials:_});}}var xr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t;}(xr||{});class Wf{constructor(e,n=200,r="OK"){u(this,"headers",void 0),u(this,"status",void 0),u(this,"statusText",void 0),u(this,"url",void 0),u(this,"ok",void 0),u(this,"type",void 0),this.headers=e.headers||new dn(),this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300;}}class uc extends Wf{constructor(e={}){super(e),u(this,"type",xr.ResponseHeader);}clone(e={}){return new uc({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0});}}class ml extends Wf{constructor(e={}){super(e),u(this,"body",void 0),u(this,"type",xr.Response),this.body=void 0!==e.body?e.body:null;}clone(e={}){return new ml({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0});}}class bo extends Wf{constructor(e){super(e,0,"Unknown Error"),u(this,"name","HttpErrorResponse"),u(this,"message",void 0),u(this,"error",void 0),u(this,"ok",!1),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null;}}function Kf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect};}let jj=(()=>{var t;class e{constructor(r){u(this,"handler",void 0),this.handler=r;}request(r,o,a={}){let i;if(r instanceof dl)i=r;else{let c,d;c=a.headers instanceof dn?a.headers:new dn(a.headers),a.params&&(d=a.params instanceof Er?a.params:new Er({fromObject:a.params})),i=new dl(r,o,void 0!==a.body?a.body:null,{headers:c,context:a.context,params:d,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache,keepalive:a.keepalive,priority:a.priority,cache:a.cache,mode:a.mode,redirect:a.redirect,credentials:a.credentials});}const l=CC(i).pipe(function Ej(t,e){return Fe(e)?Gf(t,e,1):Gf(t,1);}(c=>this.handler.handle(c)));if(r instanceof dl||"events"===a.observe)return l;const s=l.pipe(function xj(t,e){return rr((n,r)=>{let o=0;n.subscribe(Pn(r,a=>t.call(e,a,o++)&&r.next(a)));});}(c=>c instanceof ml));switch(a.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(or(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new b(2806,!1);return c.body;}));case"blob":return s.pipe(or(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new b(2807,!1);return c.body;}));case"text":return s.pipe(or(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new b(2808,!1);return c.body;}));default:return s.pipe(or(c=>c.body));}case"response":return s;default:throw new b(2809,!1);}}delete(r,o={}){return this.request("DELETE",r,o);}get(r,o={}){return this.request("GET",r,o);}head(r,o={}){return this.request("HEAD",r,o);}jsonp(r,o){return this.request("JSONP",r,{params:new Er().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"});}options(r,o={}){return this.request("OPTIONS",r,o);}patch(r,o,a={}){return this.request("PATCH",r,Kf(a,o));}post(r,o,a={}){return this.request("POST",r,Kf(a,o));}put(r,o,a={}){return this.request("PUT",r,Kf(a,o));}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(ac));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();const RC=new S("");function PC(t,e){return e(t);}const pl=new S(""),Gj=new S(""),OC=new S("",{providedIn:"root",factory:()=>!0});let FC=(()=>{var t;class e extends ac{constructor(r,o){super(),u(this,"backend",void 0),u(this,"injector",void 0),u(this,"chain",null),u(this,"pendingTasks",A(_d)),u(this,"contributeToStability",A(OC)),this.backend=r,this.injector=o;}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(pl),...this.injector.get(Gj,[])]));this.chain=o.reduceRight((a,i)=>function zj(t,e,n){return(r,o)=>ed(n,()=>e(r,a=>t(a,o)));}(a,i,this.injector),PC);}if(this.contributeToStability){const o=this.pendingTasks.add();return this.chain(r,a=>this.backend.handle(a)).pipe(function Sj(t){return rr((e,n)=>{try{e.subscribe(n);}finally{n.add(t);}});}(o));}return this.chain(r,o=>this.backend.handle(o));}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(ic),V(Tt));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();const Yj=/^\)\]\}',?\n/,Zj=RegExp(`^${qf}:`,"m");let jC=(()=>{var t;class e{constructor(r){u(this,"xhrFactory",void 0),this.xhrFactory=r;}handle(r){if("JSONP"===r.method)throw new b(-2800,!1);const o=this.xhrFactory;return CC(null).pipe(function Mj(t,e){return rr((n,r)=>{let o=null,a=0,i=!1;const l=()=>i&&!o&&r.complete();n.subscribe(Pn(r,s=>{null==o||o.unsubscribe();let c=0;const d=a++;br(t(s,d)).subscribe(o=Pn(r,m=>r.next(e?e(s,m,d,c++):m),()=>{o=null,l();}));},()=>{i=!0,l();}));});}(()=>new st(i=>{const l=o.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach((g,v)=>l.setRequestHeader(g,v.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept",TC),!r.headers.has(cl)){const g=r.detectContentTypeHeader();null!==g&&l.setRequestHeader(cl,g);}if(r.timeout&&(l.timeout=r.timeout),r.responseType){const g=r.responseType.toLowerCase();l.responseType="json"!==g?g:"text";}const s=r.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const g=l.statusText||"OK",v=new dn(l.getAllResponseHeaders()),D=function Xj(t){return"responseURL"in t&&t.responseURL?t.responseURL:Zj.test(t.getAllResponseHeaders())?t.getResponseHeader(qf):null;}(l)||r.url;return c=new uc({headers:v,status:l.status,statusText:g,url:D}),c;},m=()=>{let{headers:g,status:v,statusText:D,url:I}=d(),T=null;204!==v&&(T=typeof l.response>"u"?l.responseText:l.response),0===v&&(v=T?200:0);let $=v>=200&&v<300;if("json"===r.responseType&&"string"==typeof T){const R=T;T=T.replace(Yj,"");try{T=""!==T?JSON.parse(T):null;}catch(ce){T=R,$&&($=!1,T={error:ce,text:T});}}$?(i.next(new ml({body:T,headers:g,status:v,statusText:D,url:I||void 0})),i.complete()):i.error(new bo({error:T,headers:g,status:v,statusText:D,url:I||void 0}));},p=g=>{const{url:v}=d(),D=new bo({error:g,status:l.status||0,statusText:l.statusText||"Unknown Error",url:v||void 0});i.error(D);};let h=p;r.timeout&&(h=g=>{const{url:v}=d(),D=new bo({error:new DOMException("Request timed out","TimeoutError"),status:l.status||0,statusText:l.statusText||"Request timeout",url:v||void 0});i.error(D);});let f=!1;const y=g=>{f||(i.next(d()),f=!0);let v={type:xr.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),"text"===r.responseType&&l.responseText&&(v.partialText=l.responseText),i.next(v);},_=g=>{let v={type:xr.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),i.next(v);};return l.addEventListener("load",m),l.addEventListener("error",p),l.addEventListener("timeout",h),l.addEventListener("abort",p),r.reportProgress&&(l.addEventListener("progress",y),null!==s&&l.upload&&l.upload.addEventListener("progress",_)),l.send(s),i.next({type:xr.Sent}),()=>{l.removeEventListener("error",p),l.removeEventListener("abort",p),l.removeEventListener("load",m),l.removeEventListener("timeout",h),r.reportProgress&&(l.removeEventListener("progress",y),null!==s&&l.upload&&l.upload.removeEventListener("progress",_)),l.readyState!==l.DONE&&l.abort();};})));}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(Cv));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();const Zf=new S(""),VC=new S("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),BC=new S("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $C{}let tV=(()=>{var t;class e{constructor(r,o){u(this,"doc",void 0),u(this,"cookieName",void 0),u(this,"lastCookieString",""),u(this,"lastToken",null),u(this,"parseCount",0),this.doc=r,this.cookieName=o;}getToken(){const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=kv(r,this.cookieName),this.lastCookieString=r),this.lastToken;}}return t=e,u(e,"\u0275fac",function(r){return new(r||t)(V(yn),V(VC));}),u(e,"\u0275prov",j({token:t,factory:t.ɵfac})),e;})();function nV(t,e){const n=t.url.toLowerCase();if(!A(Zf)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=A($C).getToken(),o=A(BC);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t);}(function sF(t,e){return HP({rootComponent:t,...tk(e)});})(N8,{providers:[function Cj(){return Ft("NgEagerAnimations"),[...kj];}(),function rV(...t){const e=[jj,jC,FC,{provide:ac,useExisting:FC},{provide:ic,useFactory:()=>{var n;return null!==(n=A(RC,{optional:!0}))&&void 0!==n?n:A(jC);}},{provide:pl,useValue:nV,multi:!0},{provide:Zf,useValue:!0},{provide:$C,useClass:tV}];for(const n of t)e.push(...n.ɵproviders);return function Gc(t){return{ɵproviders:t};}(e);}(),B3,qu,mo,ol]}).catch(t=>console.error(t));}},qn=>{qn(qn.s=425);}]);