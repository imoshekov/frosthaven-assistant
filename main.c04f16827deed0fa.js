(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{130:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>o});var E=V(2615);let o=(()=>{class G{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"token",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0}]},{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}],decks:[{name:"abael-herder",edition:"fh",abilities:[{name:"Briny Bristles",cardId:778,initiative:18,actions:[{type:"move",value:1,valueType:"minus"},{type:"grant",value:"%data.custom.fh.abael-herder.1%",small:!0,subActions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus"}]}]},{name:"Desperate Herd",cardId:779,initiative:72,actions:[{type:"move",value:1,valueType:"minus"},{type:"grant",value:"%data.custom.fh.abael-herder.2%",small:!0,subActions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"minus"},{type:"custom",value:"%data.custom.fh.abael-herder.3%",small:!0}]}]},{name:"Pig Parade",cardId:780,initiative:68,shuffle:!0,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",type:"normal"}}]}]},{name:"Fish Net",cardId:781,initiative:20,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"pull",value:2,small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{name:"Advancing Horde",cardId:782,initiative:88,actions:[{type:"grant",value:"%data.custom.fh.abael-herder.4%",small:!0,subActions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"condition",value:"muddle",small:!0}]}]},{type:"custom",value:"%data.custom.fh.abael-herder.5%",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",type:"normal"}}]}]}]},{name:"Guide the School",cardId:783,initiative:12,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"strengthen",subActions:[{type:"target",value:"all Piranha Pigs",small:!0},{type:"range",value:3,small:!0}]}]},{name:"Heed the Pigs",cardId:784,initiative:65,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:"X",subActions:[{type:"range",value:"X+1",small:!0}]},{type:"custom",value:"%data.custom.fh.abael-herder.6%",small:!0}]}]},{name:"Nothing Special",cardId:785,initiative:56,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"algox-icespeaker",edition:"fh",abilities:[{name:"Warding Swipe",cardId:730,initiative:17,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,0,target)|(1,0,target)|(1,1,target)|(0,1,active)|(1,2,target)"}]},{type:"shield",value:1},{type:"element",value:"earth"}]},{name:"Knockout Punch",cardId:731,initiative:76,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"stun",small:!0}]},{type:"element",value:"ice"}]},{name:"Two-Fisted Strike",cardId:732,initiative:41,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0}]}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0}]}]}]},{name:"Frozen Debris",cardId:733,initiative:39,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"Ice Wall",cardId:734,initiative:8,actions:[{type:"custom",value:"%data.custom.fh.algox-icespeaker.1%",small:!0},{type:"custom",value:"%data.custom.fh.algox-icespeaker.2%",small:!0},{type:"concatenation",value:"",subActions:[{type:"element",value:"ice"},{type:"element",value:"earth"}]}]},{name:"Nothing Special",cardId:735,initiative:56,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"earth"}]},{name:"Terrifying Growl",cardId:736,initiative:80,actions:[{type:"attack",value:0,valueType:"plus"},{type:"condition",value:"disarm",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]}]},{name:"One with the Earth",cardId:737,initiative:12,actions:[{type:"shield",value:3},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"heal",value:3,subActions:[{type:"specialTarget",value:"self"}]}]}]},{name:"algox-snowspeaker",edition:"fh",abilities:[{name:"Blinding Vortex",cardId:738,initiative:22,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]},{type:"element",value:"air"}]},{name:"Cold Winds",cardId:739,initiative:18,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:5,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"Sleet",cardId:740,initiative:43,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"element",value:"ice"}]},{name:"Blistering Assault",cardId:741,initiative:30,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0},{type:"push",value:1,small:!0},{type:"element",value:"air",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]}]},{name:"Snowstorm",cardId:742,initiative:6,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.algox-snowspeaker.1%",small:!0},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"ice"},{type:"element",value:"air"}]}]},{name:"Hail",cardId:743,initiative:59,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0}]}]}]},{name:"Nothing Special",cardId:744,initiative:27,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]},{type:"element",value:"air"}]},{name:"Snow Drifts",cardId:745,initiative:66,actions:[{type:"condition",value:"immobilize",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:6,small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"condition",value:"muddle",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:6,small:!0}]}]}]}]},{name:"ancient-artillery",edition:"fh",abilities:[{name:"Long Shot",cardId:626,initiative:46,actions:[{type:"custom",value:"%data.custom.fh.ancient-artillery.1%",small:!0},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:7,small:!0}]}]},{name:"Exploding Ammunition",cardId:627,initiative:71,shuffle:!0,actions:[{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]},{type:"custom",value:"%data.custom.fh.ancient-artillery.2%",small:!0}]}]},{name:"Exploding Ammunition",cardId:628,initiative:71,shuffle:!0,actions:[{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]},{type:"custom",value:"%data.custom.fh.ancient-artillery.2%",small:!0}]}]},{name:"Grenade",cardId:629,initiative:37,actions:[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)"},{type:"range",value:4,small:!0}]}]},{name:"Massive Blast",cardId:630,initiative:57,actions:[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(0,1,target)|(1,1,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0}]}]},{name:"Heavy Shot",cardId:631,initiative:95,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]}]},{name:"Defensive Ordinance",cardId:632,initiative:17,actions:[{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"range",value:5,small:!0}]},{type:"shield",value:2}]},{name:"Concussive Burst",cardId:633,initiative:46,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)"},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"archer",edition:"fh",abilities:[{name:"Shoot Foot",cardId:754,initiative:29,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{name:"Set Trap",cardId:755,initiative:14,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:5,small:!0}]},{type:"custom",value:"%data.custom.fh.archer.1%",small:!0}]},{name:"Close In",cardId:756,initiative:32,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Hasty Assault",cardId:757,initiative:16,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Power Shot",cardId:758,initiative:64,shuffle:!0,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]}]},{name:"Nothing Special",cardId:759,initiative:31,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Calculated Strike",cardId:760,initiative:44,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Twin Bolts",cardId:761,initiative:56,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0}]}]}]},{name:"belara",edition:"fh",abilities:[{name:"Call to the Flame",cardId:786,initiative:97,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}}]},{type:"element",value:"fire"}]},{name:"Call to the Earth",cardId:787,initiative:97,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"}}]},{type:"element",value:"earth"}]},{name:"Circle of Fire",cardId:788,initiative:22,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"retaliate",value:3}]}]},{name:"Rock Bomb",cardId:789,initiative:68,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"grid",value:1,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.belara.1%",small:!0}]},{type:"element",value:"earth"}]},{name:"Stone Spikes",cardId:790,initiative:41,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,2,target)|(1,1,target)|(2,0,target)|(0,3,active)"},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0},{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"Flowing Magma",cardId:791,initiative:51,actions:[{type:"custom",value:"%data.custom.fh.belara.2%",small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:4,small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"condition",value:"disarm",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:4,small:!0}]}]}]},{name:"Strength of the Mountain",cardId:792,initiative:31,actions:[{type:"heal",value:4,subActions:[{type:"range",value:3,small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"target",value:2,small:!0,valueType:"add"}]}]}]},{name:"Fire Bolts",cardId:793,initiative:68,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0}]},{type:"element",value:"fire"}]}]},{name:"boss",edition:"fh",abilities:[{name:"Accelerated Power",cardId:874,initiative:11,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:875,initiative:14,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:876,initiative:17,shuffle:!0,actions:[{type:"special",value:2}]},{name:"Lingering Strength",cardId:877,initiative:85,shuffle:!0,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:878,initiative:79,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:879,initiative:73,actions:[{type:"special",value:1}]},{name:"Nothing Special",cardId:880,initiative:36,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Twin Shots",cardId:881,initiative:52,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0}]}]}]},{name:"burrowing-blade",edition:"fh",abilities:[{name:"Tunneling Slices",cardId:818,initiative:68,shuffle:!0,actions:[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesMovedThroughAdjacent",small:!0}]}]},{name:"Tunneling Slices",cardId:819,initiative:68,shuffle:!0,actions:[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesMovedThroughAdjacent",small:!0}]}]},{name:"Descend",cardId:820,initiative:75,actions:[{type:"custom",value:"%data.custom.fh.burrowing-blade.1%",small:!0},{type:"condition",value:"invisible",subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"earth"}]},{name:"Soaring Strikes",cardId:821,initiative:53,actions:[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0}]},{type:"element",value:"earth"}]},{name:"Explosive Ascent",cardId:822,initiative:63,actions:[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"custom",value:"%data.custom.fh.burrowing-blade.2%",small:!0},{type:"element",value:"earth"}]},{name:"Aura of Fear",cardId:823,initiative:37,actions:[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"move",value:2,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"concatenation",value:"and:2",subActions:[{type:"condition",value:"curse"},{type:"condition",value:"muddle"},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]}]},{name:"Rocky Thrust",cardId:824,initiative:65,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0}]}]}]},{name:"Crashing Blow",cardId:825,initiative:85,actions:[{type:"attack",value:2,valueType:"plus",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0}]}]}]}]},{name:"chaos-demon",edition:"fh",abilities:[{name:"Chilling Breath",cardId:538,initiative:14,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,0,target)|(0,1,active)|(1,1,target)"}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]}]},{name:"Heat Blast",cardId:539,initiative:1,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:2,small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]}]}]},{name:"Seismic Punch",cardId:540,initiative:67,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"push",value:2,small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]}]}]},{name:"Whirlwind",cardId:541,initiative:20,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(0,1,target)|(1,1,target)"},{type:"range",value:2,small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"shield",value:2,small:!0}]}]},{name:"White Claws",cardId:542,initiative:42,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"custom",value:"%data.custom.fh.chaos-demon.1%",small:!0}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"heal",value:4,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"Black Tendrils",cardId:543,initiative:51,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"invisible",subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"Arcane Explosion",cardId:544,initiative:77,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"concatenation",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"},{type:"element",value:"dark"}]}]},{name:"Hungry Maw",cardId:545,initiative:98,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"wild",valueType:"minus",subActions:[{type:"condition",value:"bane",small:!0}]}]}]}]},{name:"chaos-spark",edition:"fh",abilities:[{initiative:90,shuffle:!0,actions:[{type:"move",value:2},{type:"attack",value:"(C-2)",subActions:[{type:"custom",value:"%data.custom.fh.chaos-spark.1%"}]},{type:"custom",value:"%data.custom.fh.chaos-spark.2%",small:!0}]}]},{name:"city-guard-scenario-1",edition:"fh",abilities:[{name:"Nothing",cardId:752,initiative:50,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.city-guard-scenario-1.1%"}]}]},{name:"deep-terror",edition:"fh",abilities:[{name:"Horrible Glare",cardId:722,initiative:65,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"target",value:3,small:!0},{type:"condition",value:"curse",small:!0}]}]},{name:"Beam of Annihilation",cardId:723,initiative:60,shuffle:!0,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(3,0,target)|(2,1,target)|(2,2,target)|(1,3,target)|(1,4,target)|(0,5,active)"},{type:"pierce",value:3,small:!0}]}]},{name:"Beam of Annihilation",cardId:724,initiative:60,shuffle:!0,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(3,0,target)|(2,1,target)|(2,2,target)|(1,3,target)|(1,4,target)|(0,5,active)"},{type:"pierce",value:3,small:!0}]}]},{name:"Burning Gaze",cardId:725,initiative:84,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"condition",value:"wound",small:!0}]}]},{name:"Rooted Fear",cardId:726,initiative:75,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"poison",small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{name:"Disruptive Frenzy",cardId:727,initiative:75,actions:[{type:"attack",value:2,valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"condition",value:"impair",small:!0}]}]},{name:"Terrible Growth",cardId:728,initiative:96,actions:[{type:"attack",value:2,valueType:"minus",subActions:[{type:"range",value:6,small:!0}]},{type:"custom",value:"%data.custom.fh.deep-terror.1%",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"deep-terror",type:"normal"}}],subActions:[{type:"custom",value:"%data.custom.fh.deep-terror.2%",small:!0}]}]}]},{name:"Ray of Hate",cardId:739,initiative:54,actions:[{type:"concatenation",value:"and:2",subActions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]}]}]},{name:"earth-demon",edition:"fh",abilities:[{name:"Strong Growth",cardId:570,initiative:40,shuffle:!0,actions:[{type:"heal",value:4,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"condition",value:"immobilize",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]}]}]},{name:"Hasty Assault",cardId:571,initiative:42,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:572,initiative:62,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"earth"}]},{name:"Boulder Throw",cardId:573,initiative:71,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"target",value:1,small:!0,valueType:"add"}]}]}]},{name:"Calculated Strike",cardId:574,initiative:83,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"earth"}]},{name:"Ground Slam",cardId:575,initiative:93,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"push",value:1,small:!0}]}]}]},{name:"Reckless Charge",cardId:576,initiative:79,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"subtract",small:!0}]}]}]},{name:"Earthen Eruption",cardId:577,initiative:87,actions:[{type:"move",value:0,valueType:"plus"},{type:"concatenation",value:":2",subActions:[{type:"attack",value:1,valueType:"minus"},{type:"area",value:"(0,1,active)|(1,1,target)|(1,0,target)|(2,0,target)"}]},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"earth"}]}]}]},{name:"fish-king-scenario-76",edition:"fh",abilities:[{name:"Nothing",cardId:752,initiative:1,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.fish-king-scenario-76.1%"}]}]},{name:"flame-demon",edition:"fh",abilities:[{name:"Hasty Assault",cardId:546,initiative:3,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0}]},{type:"element",value:"fire"}]},{name:"Nothing Special",cardId:547,initiative:24,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"element",value:"fire"}]},{name:"Explosive Blast",cardId:548,initiative:46,shuffle:!0,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(2,1,target)|(0,1,target)|(1,1,target)|(1,2,target)|(2,2,target)",small:!0},{type:"range",value:1,valueType:"subtract",small:!0}]}]}]},{name:"Fire Spout",cardId:549,initiative:8,actions:[{type:"move",value:1,valueType:"minus"},{type:"custom",value:"%data.custom.fh.flame-demon.1%",small:!0},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"fire"}]}]},{name:"Intense Torch",cardId:550,initiative:49,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(2,0,target)|(1,1,target)|(1,2,active)"},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0},{type:"condition",value:"wound",valueType:"plus",small:!0}]}]}]},{name:"Calculated Strike",cardId:551,initiative:67,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"fire"}]},{name:"Heat Aura",cardId:552,initiative:77,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.flame-demon.2%",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"Raging Blaze",cardId:553,initiative:30,shuffle:!0,actions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.flame-demon.3%",small:!0}]},{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"condition",value:"wound",small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",abilities:[{name:"Calculated Strike",cardId:610,initiative:78,shuffle:!0,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"fire"}]},{name:"Hasty Assualt",cardId:611,initiative:38,shuffle:!0,actions:[{type:"move",value:2,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"element",value:"fire"}]},{name:"Increase Momentum",cardId:612,initiative:33,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"condition",value:"strengthen",subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"fire"}]},{name:"Defensive Blades",cardId:613,initiative:12,actions:[{type:"shield",value:2},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.flaming-bladespinner.1%",small:!0}]}]},{name:"Heated Sweep",cardId:614,initiative:58,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0},{type:"condition",value:"wound",small:!0}]}]}]},{name:"Flame Jets",cardId:615,initiative:43,actions:[{type:"move",value:2,valueType:"plus"},{type:"custom",value:"%data.custom.fh.flaming-bladespinner.2%",small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]}]}]},{name:"Firestorm",cardId:616,initiative:17,actions:[{type:"shield",value:1},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{name:"Spinning Charge",cardId:617,initiative:68,actions:[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesMovedThroughAdjacent",small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]}]}]}]},{name:"frost-demon",edition:"fh",abilities:[{name:"Gather the Frost",cardId:554,initiative:18,actions:[{type:"condition",value:"immobilize",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"heal",value:3,subActions:[{type:"specialTarget",value:"self",small:!0}],small:!0}]}]},{name:"Hasty Assault",cardId:555,initiative:38,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Frozen Shards",cardId:556,initiative:58,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0},{type:"range",value:1,valueType:"add",small:!0}]}]}]},{name:"Nothing Special",cardId:557,initiative:58,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Cold Claws",cardId:558,initiative:78,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]},{type:"element",value:"ice"}]},{name:"Cold Claws",cardId:559,initiative:78,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]},{type:"element",value:"ice"}]},{name:"Chilled to the Bone",cardId:560,initiative:58,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"pierce",value:3,small:!0}]},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"ice"}]}]},{name:"Ice Barrier",cardId:627,initiative:18,actions:[{type:"move",value:1,valueType:"plus"},{type:"shield",value:2},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.frost-demon.1%",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]},{name:"frozen-corpse",edition:"fh",abilities:[{name:"Freezing Embrace",cardId:634,initiative:23,actions:[{type:"move",value:1,valueType:"plus"},{type:"concatenation",value:"and:2",subActions:[{type:"condition",value:"brittle"},{type:"condition",value:"immobilize"},{type:"range",value:1,small:!0}]}]},{name:"Nothing Special",cardId:635,initiative:71,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice"}]},{name:"Cold Snap",cardId:636,initiative:42,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"brittle",small:!0}]}]}]},{name:"Cold Snap",cardId:637,initiative:42,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"brittle",small:!0}]}]}]},{name:"Thawed Strike",cardId:638,initiative:68,actions:[{type:"move",value:1,valueType:"minus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"move",value:2,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.frozen-corpse.1%",small:!0},{type:"attack",value:1,valueType:"plus"}]},{name:"Thawed Strike",cardId:639,initiative:68,actions:[{type:"move",value:1,valueType:"minus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"move",value:2,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.frozen-corpse.1%",small:!0},{type:"attack",value:1,valueType:"plus"}]},{name:"Frost Breath",cardId:640,initiative:39,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(0,2,active)|(1,2,target)|(2,2,target)"}]},{type:"element",value:"ice"}]},{name:"Icy Swipe",cardId:641,initiative:84,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]},{type:"element",value:"ice"}]}]},{name:"giant-piranha-pig-boss",edition:"fh",abilities:[{name:"Accelerated Power",cardId:874,initiative:11,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:875,initiative:14,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:876,initiative:17,shuffle:!0,actions:[{type:"special",value:2}]},{name:"Lingering Strength",cardId:877,initiative:85,shuffle:!0,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:878,initiative:79,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:879,initiative:73,actions:[{type:"special",value:1}]},{name:"Nothing Special",cardId:880,initiative:36,actions:[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.1%"}]},{name:"Twin Shots",cardId:881,initiative:52,actions:[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.1%"}]}]},{name:"guard",edition:"fh",abilities:[{name:"Parry and Thrust",cardId:746,initiative:15,shuffle:!0,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{name:"Calculated Strike",cardId:747,initiative:70,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Throwing Axe",cardId:748,initiative:35,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:2,small:!0}]}]},{name:"Venom Shiv",cardId:749,initiative:15,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"condition",value:"poison",small:!0}]},{type:"shield",value:1}]},{name:"Hasty Assault",cardId:750,initiative:30,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:751,initiative:50,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Nothing Special",cardId:752,initiative:50,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Psych Up",cardId:753,initiative:55,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus"},{type:"condition",value:"strengthen",subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"harrower-infester",edition:"fh",abilities:[{name:"Biting Gnats",cardId:802,initiative:38,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}]},{name:"Centipede Strike",cardId:803,initiative:7,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"poison",small:!0}]},{type:"element",value:"dark"}]},{name:"Restore the Swarm",cardId:804,initiative:16,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus"},{type:"heal",value:5,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{name:"Drain the Essence",cardId:805,initiative:7,shuffle:!0,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]},{type:"heal",value:4,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{name:"Spiked Mandibles",cardId:806,initiative:16,actions:[{type:"attack",value:2,valueType:"plus",subActions:[{type:"condition",value:"immobilize",small:!0}]},{type:"retaliate",value:2}]},{name:"Angry Bulwark",cardId:807,initiative:2,shuffle:!0,actions:[{type:"shield",value:2},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{name:"Piercing Paracite",cardId:808,initiative:30,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,1,target)|(2,0,target)|(1,2,target)|(0,3,active)"}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.harrower-infester.1%",small:!0}]}],revealed:!0},{name:"Clouds of Hate",cardId:809,initiative:38,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"condition",value:"impair",small:!0},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0}]}]}]}]},{name:"hound-scenario-0",edition:"fh",abilities:[{name:"Nothing Special",cardId:846,initiative:26,shuffle:!0,actions:[{type:"move",value:2},{type:"attack",value:2}]}]},{name:"hound",edition:"fh",abilities:[{name:"Gripping Teeth",cardId:842,initiative:6,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{name:"Horrowing Howl",cardId:843,initiative:7,actions:[{type:"move",value:0,valueType:"plus"},{type:"condition",value:"muddle",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{name:"Pack Hunting",cardId:844,initiative:19,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus"},{type:"custom",value:"%data.custom.fh.hound.1%",small:!0}]}]},{name:"Pack Hunting",cardId:845,initiative:19,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus"},{type:"custom",value:"%data.custom.fh.hound.1%",small:!0}]}]},{name:"Nothing Special",cardId:846,initiative:26,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Nothing Special",cardId:847,initiative:26,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Calculated Strike",cardId:848,initiative:83,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Sharp Fangs",cardId:849,initiative:72,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"pierce",value:2,small:!0}]},{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"pierce",value:2,small:!0}]}]}]},{name:"ice-wraith",edition:"fh",abilities:[{name:"Shift Form",cardId:642,initiative:95,shuffle:!0,actions:[{type:"switchType",value:"All elite Ice Wraiths<br> become normal, and all<br> normal Ice Wraiths become elite.",small:!0},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"range",value:4,small:!0}],small:!0}]}]},{name:"Renewed Aggression",cardId:643,initiative:44,shuffle:!0,actions:[{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"range",value:4,small:!0}],small:!0}]},{type:"element",value:"ice"}]},{name:"Unholy Strength",cardId:644,initiative:59,actions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"concatenation",value:"and:2",small:!0,subActions:[{type:"condition",value:"strengthen",subActions:[{type:"specialTarget",value:"self",hidden:!0}]},{type:"condition",value:"bless",subActions:[{type:"specialTarget",value:"self",hidden:!0}]},{type:"specialTarget",value:"self",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Fade Out",cardId:645,initiative:59,actions:[{type:"condition",value:"invisible",subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"concatenation",value:"and:2",small:!0,subActions:[{type:"condition",value:"bless",subActions:[{type:"specialTarget",value:"self",hidden:!0}]},{type:"condition",value:"strengthen",subActions:[{type:"specialTarget",value:"self",hidden:!0}]},{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"ice"}]},{name:"Hasty Assault",cardId:646,initiative:41,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"range",value:4,small:!0}],small:!0}]},{type:"element",value:"ice"}]},{name:"Calculated Strike",cardId:647,initiative:71,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"range",value:4,small:!0}],small:!0}]},{type:"element",value:"ice"}]},{name:"Restore Essence",cardId:648,initiative:13,actions:[{type:"heal",value:3,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"shield",value:2}]}]},{name:"Shard Strike",cardId:649,initiative:16,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"range",value:4,small:!0}],small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"retaliate",value:2}]}]}]},{name:"imp",edition:"fh",abilities:[{name:"Phase Out",cardId:826,initiative:5,actions:[{type:"shield",value:5},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"wild"}]},{name:"Nothing Special",cardId:827,initiative:37,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Nothing Special",cardId:828,initiative:37,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Restoration",cardId:829,initiative:42,actions:[{type:"move",value:1,valueType:"plus"},{type:"heal",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{name:"Rotten Sting",cardId:830,initiative:43,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"poison",small:!0},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]}]},{name:"Calculated Strike",cardId:831,initiative:76,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Dark Charm",cardId:832,initiative:43,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"curse",small:!0},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]}]},{name:"Tip the Scales",cardId:833,initiative:24,actions:[{type:"condition",value:"strengthen",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]},{type:"condition",value:"muddle",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]}]}]},{name:"laser-spires",edition:"fh",abilities:[{name:"Accelerated Power",cardId:874,initiative:11,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:875,initiative:14,actions:[{type:"special",value:2}]},{name:"Accelerated Power",cardId:876,initiative:17,shuffle:!0,actions:[{type:"special",value:2}]},{name:"Lingering Strength",cardId:877,initiative:85,shuffle:!0,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:878,initiative:79,actions:[{type:"special",value:1}]},{name:"Lingering Strength",cardId:879,initiative:73,actions:[{type:"special",value:1}]},{name:"Nothing Special",cardId:880,initiative:36,actions:[{type:"custom",value:"%data.custom.fh.laser-spires.1%"}]},{name:"Twin Shots",cardId:881,initiative:52,actions:[{type:"custom",value:"%data.custom.fh.laser-spires.2%"}]}]},{name:"lightning-eel",edition:"fh",abilities:[{name:"Nothing Special",cardId:706,initiative:20,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"light"}]},{name:"Shocking Voltage",cardId:707,initiative:82,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"element",value:"light",valueType:"minus",subActions:[{type:"condition",value:"stun",small:!0}]}]}]},{name:"Thrashing in the Water",cardId:708,initiative:9,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]},{name:"Calculated Strike",cardId:709,initiative:35,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"light"}]},{name:"Paralyzing Bite",cardId:710,initiative:67,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"light",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0},{type:"condition",value:"stun",small:!0}]}]}]},{name:"Leaping Dive",cardId:711,initiative:12,actions:[{type:"move",value:2,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:1,valueType:"minus"},{type:"element",value:"light"}]},{name:"Electric Pulse",cardId:712,initiative:16,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:2,small:!0}]},{type:"element",value:"light"}]},{name:"Hasty Assault",cardId:713,initiative:5,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]}]},{name:"living-bones",edition:"fh",abilities:[{name:"Calculated Strike",cardId:666,initiative:64,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Drain Life",cardId:667,initiative:20,shuffle:!0,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:0,valueType:"plus"},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{name:"Hasty Assault",cardId:668,initiative:25,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:669,initiative:45,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Nothing Special",cardId:670,initiative:45,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Power Slash",cardId:671,initiative:81,actions:[{type:"attack",value:2,valueType:"plus"}]},{name:"Focused Stabs",cardId:672,initiative:74,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"specialTarget",value:"enemyOneAll",small:!0}]}]},{name:"Eternal Life",cardId:673,initiative:12,shuffle:!0,actions:[{type:"shield",value:1},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"living-doom",edition:"fh",abilities:[{name:"Chilling Aura",cardId:650,initiative:70,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)|(1,2,target)"}]},{type:"element",value:"ice"}]},{name:"Face of Darkness",cardId:651,initiative:82,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]}]}]},{name:"Arresting Advance",cardId:652,initiative:32,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"Nothing Special",cardId:653,initiative:57,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"dark"}]},{name:"Sunless Abyss",cardId:654,initiative:11,actions:[{type:"condition",value:"curse",subActions:[{type:"range",value:2,small:!0}]},{type:"shield",value:1},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"ice"},{type:"element",value:"dark"}]}]},{name:"Hateful Spikes",cardId:655,initiative:17,actions:[{type:"attack",value:1,valueType:"plus"},{type:"retaliate",value:2},{type:"element",value:"dark"}]},{name:"Pull of the Grave",cardId:656,initiative:98,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:3,valueType:"minus",subActions:[{type:"condition",value:"bane",small:!0}]}]},{name:"Call For Souls",cardId:657,initiative:78,shuffle:!0,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"living-spirit",type:"normal"},count:"[HP/5{$math.maxFloor:3}]"}],subActions:[{type:"nonCalc",value:"%data.custom.fh.living-doom.1%",subActions:[{type:"custom",value:"%data.custom.fh.living-doom.2%",small:!0}]}]}]}]},{name:"living-spirit",edition:"fh",abilities:[{name:"Sap Strength",cardId:658,initiative:22,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}]},{name:"Booming Scream",cardId:659,initiative:33,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:3,small:!0},{type:"range",value:3,small:!0}]}]},{name:"Nothing Special",cardId:660,initiative:48,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Nothing Special",cardId:661,initiative:48,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Coupled Chain",cardId:662,initiative:61,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0}]}]},{name:"Leech Warmth",cardId:663,initiative:75,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:2,small:!0}]},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"ice"}]},{name:"Angry Howl",cardId:664,initiative:55,actions:[{type:"move",value:0,valueType:"plus"},{type:"condition",value:"curse",subActions:[{type:"target",value:3,small:!0},{type:"range",value:2,small:!0}]},{type:"element",value:"ice"}]},{name:"Icy Glare",cardId:665,initiative:67,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"stun",small:!0}]}]}]}]},{name:"lurker-clawcrusher",edition:"fh",abilities:[{name:"Nothing Special",cardId:690,initiative:47,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"earth"}]},{name:"Smash Armor",cardId:691,initiative:58,actions:[{type:"move",value:1,valueType:"minus"},{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus"},{type:"custom",value:"%data.custom.fh.lurker-clawcrusher.1%",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.lurker-clawcrusher.2%",small:!0}]}],small:!0}]}]},{name:"Crippling Claw",cardId:692,initiative:44,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"poison",small:!0}]}]},{name:"Take Hostage",cardId:693,initiative:13,shuffle:!0,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"immobilize",small:!0}]},{type:"shield",value:2},{type:"element",value:"earth"}]},{name:"Earthen Blow",cardId:694,initiative:60,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"condition",value:"poison",small:!0},{type:"condition",value:"wound",small:!0}]}]}]},{name:"Crush Armor",cardId:695,initiative:36,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:1,valueType:"minus"},{type:"custom",value:"%data.custom.fh.lurker-clawcrusher.1%",subActions:[{type:"element",value:"earth",valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.lurker-clawcrusher.2%",small:!0}]}],small:!0}]}]},{name:"Claw Guard",cardId:696,initiative:11,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"element",value:"earth"}]},{name:"Frantic Swipes",cardId:697,initiative:31,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"condition",value:"poison",small:!0}]},{type:"element",value:"earth"}]}]},{name:"lurker-mindsnipper",edition:"fh",abilities:[{name:"Psychic Shock",cardId:682,initiative:6,shuffle:!0,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"retaliate",value:2,small:!0,valueType:"add"}]}]},{type:"condition",value:"muddle",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]}]},{name:"Hasty Assault",cardId:683,initiative:10,actions:[{type:"move",value:2,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"dark"}]},{name:"Consume All Hope",cardId:684,initiative:22,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"curse",small:!0}]},{type:"element",value:"dark"}]},{name:"Calculated Strike",cardId:685,initiative:34,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"dark"}]},{name:"Instill Fear",cardId:686,initiative:37,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0,valueType:"add"},{type:"range",value:3,small:!0},{type:"push",value:2,small:!0}]}]},{name:"Beguiling Thoughts",cardId:687,initiative:18,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"range",value:2,small:!0},{type:"condition",value:"disarm",small:!0}]}]},{name:"Turn the Weak",cardId:688,initiative:51,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]},{type:"grant",value:"%data.custom.fh.lurker-mindsnipper.1%",small:!0,subActions:[{type:"attack",value:3}]}]},{name:"Paralyze",cardId:689,initiative:46,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"stun",small:!0}]}]}]}]},{name:"lurker-soldier",edition:"fh",abilities:[{name:"Defensive Claws",cardId:674,initiative:11,shuffle:!0,actions:[{type:"condition",value:"wound",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"shield",value:1,subActions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"shield",value:1,valueType:"add",small:!0}]}]}]},{name:"Hasty Assault",cardId:675,initiative:28,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:676,initiative:38,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Focused Strikes",cardId:677,initiative:38,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"specialTarget",value:"enemyOneAll",small:!0}]}]},{name:"Calculated Strike",cardId:678,initiative:61,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Berserk Rage",cardId:679,initiative:64,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"custom",value:"%data.custom.fh.lurker-soldier.1%",small:!0},{type:"condition",value:"impair",small:!0}]}]},{name:"Strength of the Deep",cardId:680,initiative:41,actions:[{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"strengthen",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]}]},{name:"Hardened by Frost",cardId:681,initiative:23,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"shield",value:1},{type:"element",value:"ice"}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",abilities:[{name:"Powerful Claw",cardId:698,initiative:60,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"plus"}]},{name:"Distant Wave",cardId:699,initiative:51,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-128.1%",small:!0},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:6,small:!0}]}]},{name:"Tsunami",cardId:700,initiative:29,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(2,1,target)|(0,1,target)|(1,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:2,small:!0}]}]},{name:"Aid from Below",cardId:701,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-128.2%",small:!0},{type:"concatenation",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"vermling-scout",type:"normal",health:1}}]}]},{type:"monsterType",value:"elite",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"vermling-scout",type:"elite",health:1}}]}]}]}]},{name:"Aid from Below",cardId:702,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-128.2%",small:!0},{type:"concatenation",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"vermling-scout",type:"normal",health:1}}]}]},{type:"monsterType",value:"elite",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"vermling-scout",type:"elite",health:1}}]}]}]}]},{name:"Crushing Crest",cardId:703,initiative:36,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)|(1,2,target)"}]}]},{name:"Twin Claws",cardId:704,initiative:48,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]}]},{name:"Massive Swell",cardId:705,initiative:40,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,0,target)|(0,1,target)|(1,1,target)"},{type:"range",value:3,small:!0}]}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",abilities:[{name:"Powerful Claw",cardId:698,initiative:60,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"plus"}]},{name:"Distant Wave",cardId:699,initiative:51,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-131.1%",small:!0},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:6,small:!0}]}]},{name:"Tsunami",cardId:700,initiative:29,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(2,1,target)|(0,1,target)|(1,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:2,small:!0}]}]},{name:"Aid from Below",cardId:701,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-131.2%",small:!0},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"teleport",value:"",subActions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-131.3%",small:!0}]}]},{name:"Aid from Below",cardId:702,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-131.2%",small:!0},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"teleport",value:"",subActions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower-scenario-131.3%",small:!0}]}]},{name:"Crushing Crest",cardId:703,initiative:36,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)|(1,2,target)"}]}]},{name:"Twin Claws",cardId:704,initiative:48,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]}]},{name:"Massive Swell",cardId:705,initiative:40,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,0,target)|(0,1,target)|(1,1,target)"},{type:"range",value:3,small:!0}]}]}]},{name:"lurker-wavethrower",edition:"fh",abilities:[{name:"Powerful Claw",cardId:698,initiative:60,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"plus"}]},{name:"Distant Wave",cardId:699,initiative:51,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower.1%",small:!0},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:6,small:!0}]}]},{name:"Tsunami",cardId:700,initiative:29,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(2,1,target)|(0,1,target)|(1,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:2,small:!0}]}]},{name:"Aid from Below",cardId:701,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower.2%",small:!0},{type:"concatenation",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"lightning-eel",type:"normal"}}]}]},{type:"monsterType",value:"elite",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"lightning-eel",type:"elite"}}]}]},{type:"custom",value:"%data.custom.fh.lurker-wavethrower.3%",small:!0}]}]},{name:"Aid from Below",cardId:702,initiative:98,shuffle:!0,actions:[{type:"custom",value:"%data.custom.fh.lurker-wavethrower.2%",small:!0},{type:"concatenation",subActions:[{type:"monsterType",value:"normal",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"lightning-eel",type:"normal"}}]}]},{type:"monsterType",value:"elite",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"lightning-eel",type:"elite"}}]}]},{type:"custom",value:"%data.custom.fh.lurker-wavethrower.3%",small:!0}]}]},{name:"Crushing Crest",cardId:703,initiative:36,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)|(1,2,target)"}]}]},{name:"Twin Claws",cardId:704,initiative:48,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,active)|(1,0,target)|(1,1,target)"}]}]},{name:"Massive Swell",cardId:705,initiative:40,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,0,target)|(0,1,target)|(1,1,target)"},{type:"range",value:3,small:!0}]}]}]},{name:"night-demon",edition:"fh",abilities:[{name:"Hasty Assault",cardId:578,initiative:4,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"element",value:"dark"}]},{name:"Into Darkness",cardId:579,initiative:37,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:2,valueType:"minus"},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"invisible",subActions:[{type:"specialTarget",value:"self"}],small:!0}]}]},{name:"Nothing Special",cardId:580,initiative:22,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"dark"}]},{name:"Black Thorns",cardId:581,initiative:26,actions:[{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:3,small:!0},{type:"range",value:3,small:!0},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"muddle",small:!0}]}]}]},{name:"Death's Embrace",cardId:582,initiative:46,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"dark",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0}]}]}]},{name:"Calculated Strike",cardId:583,initiative:41,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"dark"}]},{name:"Impale",cardId:584,initiative:35,actions:[{type:"attack",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"pierce",value:2,small:!0}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"specialTarget",value:"self"}],small:!0}]}]},{name:"The Night Feeds",cardId:585,initiative:15,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"custom",value:"%data.custom.fh.night-demon.1%"},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"dark"}]}]}]},{name:"ooze",edition:"fh",abilities:[{name:"Hasty Assault",cardId:866,initiative:36,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"earth"}]},{name:"Nothing Special",cardId:867,initiative:57,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Toxic Explosion",cardId:868,initiative:59,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"condition",value:"poison",small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]}]},{name:"Plasma Ward",cardId:869,initiative:85,actions:[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"poison",small:!0}]},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:2,small:!0}]}]},{name:"Calculated Strike",cardId:870,initiative:66,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"element",value:"dark"}]},{name:"Split",cardId:871,initiative:94,shuffle:!0,actions:[{type:"sufferDamage",value:2},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ooze",type:"normal",health:"H"}}],small:!0,subActions:[{type:"custom",value:"%data.custom.fh.ooze.1%",small:!0}]}]},{name:"Split",cardId:872,initiative:94,shuffle:!0,actions:[{type:"sufferDamage",value:2},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ooze",type:"normal",health:"H"}}],small:!0,subActions:[{type:"custom",value:"%data.custom.fh.ooze.1%",small:!0}]}]},{name:"Feed",cardId:873,initiative:66,actions:[{type:"move",value:1,valueType:"minus"},{type:"loot",value:1},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"heal",value:1,valueType:"add",small:!0}]}]}]}]},{name:"piranha-pig",edition:"fh",abilities:[{name:"Schooling",cardId:714,initiative:40,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:0,valueType:"plus"},{type:"custom",value:"%data.custom.fh.piranha-pig.1%",small:!0}]}]},{name:"Bloodthirst",cardId:715,initiative:38,actions:[{type:"move",value:1,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"attack",value:1,valueType:"minus"},{type:"custom",value:"%data.custom.fh.piranha-pig.2%",small:!0}]}]},{name:"Easy Prey",cardId:716,initiative:54,actions:[{type:"move",value:1,valueType:"minus"},{type:"grid",value:1,subActions:[{type:"attack",value:1,valueType:"plus"},{type:"custom",value:"%data.custom.fh.piranha-pig.3%",small:!0}]}]},{name:"Feast",cardId:717,initiative:26,shuffle:!0,actions:[{type:"attack",value:0,valueType:"plus"},{type:"grid",value:1,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"custom",value:"%data.custom.fh.piranha-pig.4%",small:!0}]}]},{name:"Hasty Assault",cardId:718,initiative:18,actions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:1,valueType:"minus"}]},{name:"No Escape",cardId:719,initiative:23,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{name:"Bared Teeth",cardId:720,initiative:13,actions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"condition",value:"wound",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"retaliate",value:2}]},{name:"Nothing Special",cardId:721,initiative:31,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]}]},{name:"polar-bear",edition:"fh",abilities:[{name:"Hasty Assault",cardId:834,initiative:13,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Low Slash",cardId:835,initiative:14,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{name:"Full Force",cardId:836,initiative:29,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"impair",small:!0}]}]},{name:"Nothing Special",cardId:837,initiative:41,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Calculated Strike",cardId:838,initiative:60,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Rampage",cardId:839,initiative:80,shuffle:!0,actions:[{type:"attack",value:1,valueType:"minus"},{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"condition",value:"impair",small:!0}]}]},{name:"Claw Swipes",cardId:840,initiative:61,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0}]}]},{name:"Hibernate",cardId:841,initiative:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"priest",edition:"fh",abilities:[{name:"Drain Speed",cardId:762,initiative:8,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{name:"Drain Strength",cardId:763,initiative:8,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"disarm",small:!0}]}]},{name:"Nothing Special",cardId:764,initiative:62,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Tend to the Clan",cardId:765,initiative:23,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"heal",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{name:"Tend to the Clan",cardId:766,initiative:23,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"heal",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{name:"Calculated Strike",cardId:767,initiative:74,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]}]},{name:"Divine Energy",cardId:768,initiative:89,actions:[{type:"move",value:1,valueType:"minus"},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:1,small:!0}]},{type:"condition",value:"bless",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{name:"Angry Hex",cardId:769,initiative:9,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"condition",value:"curse",small:!0}]}]}]},{name:"rending-drake",edition:"fh",abilities:[{name:"Hasty Assault",cardId:850,initiative:12,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Swift Claws",cardId:851,initiative:13,shuffle:!0,actions:[{type:"attack",value:1,valueType:"minus"},{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:852,initiative:25,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Calculated Strike",cardId:853,initiative:39,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Venom Glands",cardId:854,initiative:54,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"condition",value:"poison",small:!0}]}]},{name:"Dangerous Fury",cardId:855,initiative:59,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}]},{name:"Unending Frenzy",cardId:856,initiative:72,shuffle:!0,actions:[{type:"attack",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"minus"}]},{name:"Empowering Rest",cardId:857,initiative:6,actions:[{type:"shield",value:2},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0},{type:"condition",value:"strengthen",small:!0}]}]}]},{name:"robotic-boltshooter",edition:"fh",abilities:[{name:"Calculated Shot",cardId:602,initiative:83,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]}]},{name:"Safety Valve",cardId:603,initiative:22,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0}]},{type:"shield",value:2}]},{name:"Sharpshooter",cardId:604,initiative:44,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:5,small:!0},{type:"pierce",value:2,small:!0}]}]},{name:"Retracted Assault",cardId:605,initiative:48,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]},{type:"shield",value:1}]},{name:"Nothing Special",cardId:606,initiative:57,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]}]},{name:"Ballista Bolt",cardId:607,initiative:91,actions:[{type:"attack",value:2,valueType:"plus",subActions:[{type:"target",value:1,valueType:"subtract",small:!0},{type:"range",value:4,small:!0}]}]},{name:"Focus Fire",cardId:608,initiative:78,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemyOneAll",small:!0},{type:"range",value:5,small:!0}]}]},{name:"Repair Drones",cardId:609,initiative:16,shuffle:!0,actions:[{type:"shield",value:1},{type:"heal",value:3,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"ruined-machine",edition:"fh",abilities:[{name:"Latch On",cardId:594,initiative:31,actions:[{type:"move",value:1,valueType:"plus"},{type:"concatenation",value:",:2",subActions:[{type:"condition",value:"poison"},{type:"condition",value:"immobilize"},{type:"range",value:1,small:!0}]}]},{name:"Hasty Assault",cardId:595,initiative:41,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:596,initiative:63,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Calculated Strike",cardId:597,initiative:85,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Fuel Leak",cardId:598,initiative:29,actions:[{type:"move",value:1,valueType:"plus"},{type:"custom",value:"%data.custom.fh.ruined-machine.1%",small:!0,subActions:[{type:"sufferDamage",value:1,small:!0}]},{type:"attack",value:0,valueType:"plus"}]},{name:"Devastating Tackle",cardId:599,initiative:42,actions:[{type:"attack",value:2,valueType:"plus",subActions:[{type:"condition",value:"immobilize",small:!0}]},{type:"custom",value:"%data.custom.fh.ruined-machine.2%",small:!0,subActions:[{type:"sufferDamage",value:1,small:!0}]}]},{name:"Signal Jam",cardId:600,initiative:56,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"condition",value:"muddle",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:2,small:!0}]},{type:"sufferDamage",value:1,small:!0}]},{name:"Self-Destruct",cardId:601,initiative:93,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"custom",value:"%data.custom.fh.ruined-machine.3%",small:!0}]}]},{name:"savvas-icestorm",edition:"fh",abilities:[{name:"Repulsive Torrent",cardId:794,initiative:70,actions:[{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"air",valueType:"minus",subActions:[{type:"push",value:2,small:!0,valueType:"add"}]}]},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:5,small:!0}]}]},{name:"Call to the Wind",cardId:795,initiative:98,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",type:"normal"}}]},{type:"element",value:"air"}]},{name:"Call to the Frost",cardId:796,initiative:98,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",type:"normal"}}]},{type:"element",value:"ice"}]},{name:"Hardened Frost",cardId:797,initiative:19,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.savvas-icestorm.1%",small:!0,subActions:[{type:"shield",value:1}]},{type:"element",value:"ice"}]},{name:"Freezing Winds",cardId:798,initiative:14,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"plus",small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{type:"retaliate",value:2},{type:"element",value:"air"}]},{name:"Frozen Shell",cardId:799,initiative:14,actions:[{type:"shield",value:4},{type:"heal",value:2,subActions:[{type:"range",value:3,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"heal",value:3,valueType:"add",small:!0}]}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"Forceful Gust",cardId:800,initiative:47,shuffle:!0,actions:[{type:"condition",value:"disarm",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0}]},{type:"element",value:"air"}]},{name:"Cone of Cold",cardId:801,initiative:35,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(2,0,target)|(1,1,target)|(2,1,target)|(1,2,active)|(2,2,target)|(3,2,target)"}]},{type:"element",value:"ice"}]}]},{name:"savvas-lavaflow",edition:"fh",abilities:[{name:"Call to the Flame",cardId:786,initiative:97,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"flame-demon",type:"normal"}}]},{type:"element",value:"fire"}]},{name:"Call to the Earth",cardId:787,initiative:97,actions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"earth-demon",type:"normal"}}]},{type:"element",value:"earth"}]},{name:"Circle of Fire",cardId:788,initiative:22,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"retaliate",value:3}]}]},{name:"Rock Bomb",cardId:789,initiative:68,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"grid",value:1,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.savvas-lavaflow.1%",small:!0}]},{type:"element",value:"earth"}]},{name:"Stone Spikes",cardId:790,initiative:41,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,2,target)|(1,1,target)|(2,0,target)|(0,3,active)"},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"attack",value:2,valueType:"add",small:!0},{type:"condition",value:"immobilize",small:!0}]}]}]},{name:"Flowing Magma",cardId:791,initiative:51,actions:[{type:"custom",value:"%data.custom.fh.savvas-lavaflow.2%",small:!0},{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:4,small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"condition",value:"disarm",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:4,small:!0}]}]}]},{name:"Strength of the Mountain",cardId:792,initiative:31,actions:[{type:"heal",value:4,subActions:[{type:"range",value:3,small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"target",value:2,small:!0,valueType:"add"}]}]}]},{name:"Fire Bolts",cardId:793,initiative:68,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0}]},{type:"element",value:"fire"}]}]},{name:"scout",edition:"fh",abilities:[{name:"Cruel Bow",cardId:770,initiative:29,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"impair",small:!0}]}]},{name:"Hasty Assault",cardId:771,initiative:40,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus"}]},{name:"Nothing Special",cardId:772,initiative:53,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Rancid Arrow",cardId:773,initiative:54,actions:[{type:"move",value:2,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"condition",value:"poison",small:!0}]}]},{name:"Calculated Strike",cardId:774,initiative:69,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Noxious Blade",cardId:775,initiative:92,actions:[{type:"attack",value:2,valueType:"plus",subActions:[{type:"condition",value:"poison",small:!0}]}]},{name:"Rapid Bolts",cardId:776,initiative:79,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0}]}]},{name:"Greed",cardId:777,initiative:35,shuffle:!0,actions:[{type:"move",value:1,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"loot",value:1}]}]},{name:"shrike-fiend",edition:"fh",abilities:[{name:"Darken the Skies",cardId:810,initiative:27,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:3,small:!0},{type:"range",value:3,small:!0}]}]},{name:"Concentrated Flock",cardId:811,initiative:10,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:5,small:!0}]}]},{name:"Fiendish Charge",cardId:812,initiative:73,actions:[{type:"move",value:2,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"push",value:2,small:!0}]}]},{name:"Angry Cloud",cardId:813,initiative:9,actions:[{type:"custom",value:"%data.custom.fh.shrike-fiend.1%",small:!0},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"dark"}]},{name:"Gather the Flock",cardId:814,initiative:72,actions:[{type:"pull",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:5,small:!0}]},{type:"custom",value:"%data.custom.fh.shrike-fiend.1%",small:!0}]},{name:"Dive Bombs",cardId:815,initiative:49,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"condition",value:"immobilize",small:!0}]}]},{name:"Nothing Special",cardId:816,initiative:90,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"dark"}]},{name:"Birds of Prey",cardId:817,initiative:23,actions:[{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:3,small:!0},{type:"range",value:6,small:!0},{type:"pull",value:2,small:!0}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"shield",value:2}]}]}]},{name:"spitting-drake",edition:"fh",abilities:[{name:"Hasty Assault",cardId:858,initiative:32,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Nothing Special",cardId:859,initiative:52,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Splashing Bile",cardId:860,initiative:57,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(0,1,target)|(1,1,target)"},{type:"range",value:3,small:!0}]}]},{name:"Venom Glands",cardId:861,initiative:27,actions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{name:"Calculated Strike",cardId:862,initiative:87,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:4,small:!0}]}]},{name:"Subduing Spit",cardId:863,initiative:89,actions:[{type:"attack",value:2,valueType:"minus",subActions:[{type:"range",value:4,small:!0},{type:"condition",value:"stun",small:!0}]}]},{name:"Empowring Rest",cardId:864,initiative:6,actions:[{type:"shield",value:2},{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0},{type:"condition",value:"strengthen",small:!0}]}]},{name:"Explosive Vomit",cardId:865,initiative:89,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(0,1,target)|(1,1,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"poison",small:!0}]}]}]},{name:"steel-automaton",edition:"fh",abilities:[{name:"Calculated Strike",cardId:618,initiative:95,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"}]},{name:"Heavy Footfalls",cardId:619,initiative:48,actions:[{type:"custom",value:"%data.custom.fh.steel-automaton.1%",small:!0},{type:"move",value:2,valueType:"plus"},{type:"custom",value:"%data.custom.fh.steel-automaton.2%",small:!0}]},{name:"Clobber",cardId:620,initiative:76,actions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun",small:!0}]}]},{name:"Body Block",cardId:621,initiative:24,actions:[{type:"move",value:1,valueType:"plus"},{type:"shield",value:1},{type:"retaliate",value:2}]},{name:"Nothing Special",cardId:622,initiative:70,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus"}]},{name:"Mortar Shell",cardId:623,initiative:64,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0},{type:"pierce",value:3,small:!0}]}]},{name:"Unstoppable Force",cardId:624,initiative:45,actions:[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"push",value:3,small:!0}]}]},{name:"Immovable Object",cardId:625,initiative:10,shuffle:!0,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",abilities:[{name:"Ray of Warmth",cardId:586,initiative:17,shuffle:!0,actions:[{type:"heal",value:3,subActions:[{type:"range",value:3,small:!0},{type:"element",value:"light",valueType:"minus",subActions:[{type:"target",value:"%game.target.all%",small:!0}]}]}]},{name:"Brilliant Aura",cardId:587,initiative:36,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"light"}]},{name:"Brilliant Aura",cardId:588,initiative:36,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"light"}]},{name:"Star Strike",cardId:589,initiative:68,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"light"}]},{name:"Vicious Opportunity",cardId:590,initiative:73,shuffle:!0,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus"},{type:"element",value:"light",valueType:"minus",subActions:[{type:"heal",value:3,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"Supernova",cardId:591,initiative:95,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"element",value:"light",valueType:"minus",subActions:[{type:"target",value:"%game.target.all%",small:!0}]}]}]},{name:"Glowing Sweep",cardId:592,initiative:88,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"muddle",subActions:[{type:"specialTarget",value:"self"}]}]}]},{name:"Shining Orb",cardId:593,initiative:50,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0}]},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"light"}]}]}]},{name:"vermling-scout-scenario-94",edition:"fh",abilities:[{name:"Flee",cardId:752,initiative:99,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"}]}]},{name:"wind-demon",edition:"fh",abilities:[{name:"Into Thin Air",cardId:562,initiative:9,actions:[{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:2,small:!0}]},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"condition",value:"invisible",subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]},{name:"Tailwind",cardId:563,initiative:21,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"pull",value:1,small:!0}]},{type:"element",value:"air"}]},{name:"Tailwind",cardId:564,initiative:21,shuffle:!0,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"pull",value:1,small:!0}]},{type:"element",value:"air"}]},{name:"Whirlwinds",cardId:565,initiative:29,actions:[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:3,small:!0},{type:"element",value:"air",valueType:"minus",subActions:[{type:"push",value:2,small:!0}]}]}]},{name:"Cyclone",cardId:566,initiative:37,actions:[{type:"move",value:0,valueType:"plus"},{type:"grid",value:"1",subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(1,0,target)|(2,0,target)|(0,1,active)|(1,1,target)"}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"attack",value:1,valueType:"add",small:!0},{type:"area",value:"(1,0,target)|(2,0,target)|(0,1,active)|(1,1,target)|(2,1,target)|(1,2,target)|(2,2,target)",small:!0}]}]}]},{name:"Cutting Blast",cardId:567,initiative:43,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:3,small:!0},{type:"element",value:"air",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]}]}]},{name:"Blast of Air",cardId:568,initiative:43,actions:[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"condition",value:"disarm",small:!0},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"range",value:2,valueType:"subtract",small:!0}]}]}]},{name:"Eye of the Storm",cardId:651,initiative:2,actions:[{type:"move",value:1,valueType:"minus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"range",value:3,small:!0}]},{type:"shield",value:1},{type:"element",value:"wild",valueType:"minus",subActions:[{type:"element",value:"air"}]}]}]}]}}static \u0275fac=function(Z){return new(Z||G)};static \u0275prov=E.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},467:(it,Ee,V)=>{"use strict";function E(G,O,pe,Z,z,ie,ve){try{var he=G[ie](ve),J=he.value}catch(ce){return void pe(ce)}he.done?O(J):Promise.resolve(J).then(Z,z)}function o(G){return function(){var O=this,pe=arguments;return new Promise(function(Z,z){var ie=G.apply(O,pe);function ve(J){E(ie,Z,z,ve,he,"next",J)}function he(J){E(ie,Z,z,ve,he,"throw",J)}ve(void 0)})}}V.d(Ee,{A:()=>o})},591:(it,Ee,V)=>{"use strict";function E(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{L:()=>E})},1026:(it,Ee,V)=>{"use strict";V.d(Ee,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(it,Ee,V)=>{"use strict";V.d(Ee,{F:()=>o,m:()=>G});var E=V(3669);function o(...O){return G(O)}function G(O){return 0===O.length?E.D:1===O.length?O[0]:function(Z){return O.reduce((z,ie)=>ie(z),Z)}}},1397:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ie});var E=V(6354),o=V(8750),G=V(9974),O=V(5225),pe=V(4360),z=V(8071);function ie(ve,he,J=1/0){return(0,z.T)(he)?ie((ce,fe)=>(0,E.T)((me,De)=>he(ce,me,fe,De))((0,o.Tg)(ve(ce,fe))),J):("number"==typeof he&&(J=he),(0,G.N)((ce,fe)=>function Z(ve,he,J,ce,fe,me,De,Ge){const Re=[];let Ke=0,rt=0,ht=!1;const ye=()=>{ht&&!Re.length&&!Ke&&he.complete()},Pe=qe=>Ke<ce?ke(qe):Re.push(qe),ke=qe=>{me&&he.next(qe),Ke++;let $e=!1;(0,o.Tg)(J(qe,rt++)).subscribe((0,pe._)(he,at=>{fe?.(at),me?Pe(at):he.next(at)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ke--;Re.length&&Ke<ce;){const at=Re.shift();De?(0,O.N)(he,De,()=>ke(at)):ke(at)}ye()}catch(at){he.error(at)}}))};return ve.subscribe((0,pe._)(he,Pe,()=>{ht=!0,ye()})),()=>{Ge?.()}}(ce,fe,ve,J)))}},1413:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>z});var E=V(1985),o=V(8359);const O=(0,V(1853).L)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=V(7908),Z=V(9786);let z=(()=>{class ve extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const ce=new ie(this,this);return ce.operator=J,ce}_throwIfClosed(){if(this.closed)throw new O}next(J){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(J)}})}error(J){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:ce}=this;for(;ce.length;)ce.shift().error(J)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:ce,isStopped:fe,observers:me}=this;return ce||fe?o.Kn:(this.currentObservers=null,me.push(J),new o.yU(()=>{this.currentObservers=null,(0,pe.o)(me,J)}))}_checkFinalizedStatuses(J){const{hasError:ce,thrownError:fe,isStopped:me}=this;ce?J.error(fe):me&&J.complete()}asObservable(){const J=new E.c;return J.source=this,J}}return ve.create=(he,J)=>new ie(he,J),ve})();class ie extends z{constructor(he,J){super(),this.destination=he,this.source=J}next(he){var J,ce;null===(ce=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ce||ce.call(J,he)}error(he){var J,ce;null===(ce=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ce||ce.call(J,he)}complete(){var he,J;null===(J=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===J||J.call(he)}_subscribe(he){var J,ce;return null!==(ce=null===(J=this.source)||void 0===J?void 0:J.subscribe(he))&&void 0!==ce?ce:o.Kn}}},1635:(it,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{__addDisposableResource:()=>Ln,__assign:()=>G,__asyncDelegator:()=>ke,__asyncGenerator:()=>Pe,__asyncValues:()=>qe,__await:()=>ye,__awaiter:()=>ce,__classPrivateFieldGet:()=>zt,__classPrivateFieldIn:()=>ln,__classPrivateFieldSet:()=>Gt,__createBinding:()=>me,__decorate:()=>pe,__disposeResources:()=>Ir,__esDecorate:()=>z,__exportStar:()=>De,__extends:()=>o,__generator:()=>fe,__importDefault:()=>tn,__importStar:()=>wt,__makeTemplateObject:()=>$e,__metadata:()=>J,__param:()=>Z,__propKey:()=>ve,__read:()=>Re,__rest:()=>O,__rewriteRelativeImportExtension:()=>pn,__runInitializers:()=>ie,__setFunctionName:()=>he,__spread:()=>Ke,__spreadArray:()=>ht,__spreadArrays:()=>rt,__values:()=>Ge,default:()=>Ae});var E=function(te,de){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,_e){ue.__proto__=_e}||function(ue,_e){for(var Be in _e)Object.prototype.hasOwnProperty.call(_e,Be)&&(ue[Be]=_e[Be])})(te,de)};function o(te,de){if("function"!=typeof de&&null!==de)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function ue(){this.constructor=te}E(te,de),te.prototype=null===de?Object.create(de):(ue.prototype=de.prototype,new ue)}var G=function(){return G=Object.assign||function(de){for(var ue,_e=1,Be=arguments.length;_e<Be;_e++)for(var Me in ue=arguments[_e])Object.prototype.hasOwnProperty.call(ue,Me)&&(de[Me]=ue[Me]);return de},G.apply(this,arguments)};function O(te,de){var ue={};for(var _e in te)Object.prototype.hasOwnProperty.call(te,_e)&&de.indexOf(_e)<0&&(ue[_e]=te[_e]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(_e=Object.getOwnPropertySymbols(te);Be<_e.length;Be++)de.indexOf(_e[Be])<0&&Object.prototype.propertyIsEnumerable.call(te,_e[Be])&&(ue[_e[Be]]=te[_e[Be]])}return ue}function pe(te,de,ue,_e){var Ue,Be=arguments.length,Me=Be<3?de:null===_e?_e=Object.getOwnPropertyDescriptor(de,ue):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(te,de,ue,_e);else for(var ut=te.length-1;ut>=0;ut--)(Ue=te[ut])&&(Me=(Be<3?Ue(Me):Be>3?Ue(de,ue,Me):Ue(de,ue))||Me);return Be>3&&Me&&Object.defineProperty(de,ue,Me),Me}function Z(te,de){return function(ue,_e){de(ue,_e,te)}}function z(te,de,ue,_e,Be,Me){function Ue(Kt){if(void 0!==Kt&&"function"!=typeof Kt)throw new TypeError("Function expected");return Kt}for(var be,ut=_e.kind,Yt="getter"===ut?"get":"setter"===ut?"set":"value",mt=!de&&te?_e.static?te:te.prototype:null,Lt=de||(mt?Object.getOwnPropertyDescriptor(mt,_e.name):{}),Fe=!1,We=ue.length-1;We>=0;We--){var Et={};for(var et in _e)Et[et]="access"===et?{}:_e[et];for(var et in _e.access)Et.access[et]=_e.access[et];Et.addInitializer=function(Kt){if(Fe)throw new TypeError("Cannot add initializers after decoration has completed");Me.push(Ue(Kt||null))};var Zt=(0,ue[We])("accessor"===ut?{get:Lt.get,set:Lt.set}:Lt[Yt],Et);if("accessor"===ut){if(void 0===Zt)continue;if(null===Zt||"object"!=typeof Zt)throw new TypeError("Object expected");(be=Ue(Zt.get))&&(Lt.get=be),(be=Ue(Zt.set))&&(Lt.set=be),(be=Ue(Zt.init))&&Be.unshift(be)}else(be=Ue(Zt))&&("field"===ut?Be.unshift(be):Lt[Yt]=be)}mt&&Object.defineProperty(mt,_e.name,Lt),Fe=!0}function ie(te,de,ue){for(var _e=arguments.length>2,Be=0;Be<de.length;Be++)ue=_e?de[Be].call(te,ue):de[Be].call(te);return _e?ue:void 0}function ve(te){return"symbol"==typeof te?te:"".concat(te)}function he(te,de,ue){return"symbol"==typeof de&&(de=de.description?"[".concat(de.description,"]"):""),Object.defineProperty(te,"name",{configurable:!0,value:ue?"".concat(ue," ",de):de})}function J(te,de){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(te,de)}function ce(te,de,ue,_e){return new(ue||(ue=Promise))(function(Me,Ue){function ut(Lt){try{mt(_e.next(Lt))}catch(be){Ue(be)}}function Yt(Lt){try{mt(_e.throw(Lt))}catch(be){Ue(be)}}function mt(Lt){Lt.done?Me(Lt.value):function Be(Me){return Me instanceof ue?Me:new ue(function(Ue){Ue(Me)})}(Lt.value).then(ut,Yt)}mt((_e=_e.apply(te,de||[])).next())})}function fe(te,de){var _e,Be,Me,ue={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]},Ue=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Ue.next=ut(0),Ue.throw=ut(1),Ue.return=ut(2),"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function ut(mt){return function(Lt){return function Yt(mt){if(_e)throw new TypeError("Generator is already executing.");for(;Ue&&(Ue=0,mt[0]&&(ue=0)),ue;)try{if(_e=1,Be&&(Me=2&mt[0]?Be.return:mt[0]?Be.throw||((Me=Be.return)&&Me.call(Be),0):Be.next)&&!(Me=Me.call(Be,mt[1])).done)return Me;switch(Be=0,Me&&(mt=[2&mt[0],Me.value]),mt[0]){case 0:case 1:Me=mt;break;case 4:return ue.label++,{value:mt[1],done:!1};case 5:ue.label++,Be=mt[1],mt=[0];continue;case 7:mt=ue.ops.pop(),ue.trys.pop();continue;default:if(!(Me=(Me=ue.trys).length>0&&Me[Me.length-1])&&(6===mt[0]||2===mt[0])){ue=0;continue}if(3===mt[0]&&(!Me||mt[1]>Me[0]&&mt[1]<Me[3])){ue.label=mt[1];break}if(6===mt[0]&&ue.label<Me[1]){ue.label=Me[1],Me=mt;break}if(Me&&ue.label<Me[2]){ue.label=Me[2],ue.ops.push(mt);break}Me[2]&&ue.ops.pop(),ue.trys.pop();continue}mt=de.call(te,ue)}catch(Lt){mt=[6,Lt],Be=0}finally{_e=Me=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([mt,Lt])}}}var me=Object.create?function(te,de,ue,_e){void 0===_e&&(_e=ue);var Be=Object.getOwnPropertyDescriptor(de,ue);(!Be||("get"in Be?!de.__esModule:Be.writable||Be.configurable))&&(Be={enumerable:!0,get:function(){return de[ue]}}),Object.defineProperty(te,_e,Be)}:function(te,de,ue,_e){void 0===_e&&(_e=ue),te[_e]=de[ue]};function De(te,de){for(var ue in te)"default"!==ue&&!Object.prototype.hasOwnProperty.call(de,ue)&&me(de,te,ue)}function Ge(te){var de="function"==typeof Symbol&&Symbol.iterator,ue=de&&te[de],_e=0;if(ue)return ue.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&_e>=te.length&&(te=void 0),{value:te&&te[_e++],done:!te}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(te,de){var ue="function"==typeof Symbol&&te[Symbol.iterator];if(!ue)return te;var Be,Ue,_e=ue.call(te),Me=[];try{for(;(void 0===de||de-- >0)&&!(Be=_e.next()).done;)Me.push(Be.value)}catch(ut){Ue={error:ut}}finally{try{Be&&!Be.done&&(ue=_e.return)&&ue.call(_e)}finally{if(Ue)throw Ue.error}}return Me}function Ke(){for(var te=[],de=0;de<arguments.length;de++)te=te.concat(Re(arguments[de]));return te}function rt(){for(var te=0,de=0,ue=arguments.length;de<ue;de++)te+=arguments[de].length;var _e=Array(te),Be=0;for(de=0;de<ue;de++)for(var Me=arguments[de],Ue=0,ut=Me.length;Ue<ut;Ue++,Be++)_e[Be]=Me[Ue];return _e}function ht(te,de,ue){if(ue||2===arguments.length)for(var Me,_e=0,Be=de.length;_e<Be;_e++)(Me||!(_e in de))&&(Me||(Me=Array.prototype.slice.call(de,0,_e)),Me[_e]=de[_e]);return te.concat(Me||Array.prototype.slice.call(de))}function ye(te){return this instanceof ye?(this.v=te,this):new ye(te)}function Pe(te,de,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,_e=ue.apply(te,de||[]),Me=[];return Be=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ut("next"),ut("throw"),ut("return",function Ue(We){return function(Et){return Promise.resolve(Et).then(We,be)}}),Be[Symbol.asyncIterator]=function(){return this},Be;function ut(We,Et){_e[We]&&(Be[We]=function(et){return new Promise(function(Zt,Kt){Me.push([We,et,Zt,Kt])>1||Yt(We,et)})},Et&&(Be[We]=Et(Be[We])))}function Yt(We,Et){try{!function mt(We){We.value instanceof ye?Promise.resolve(We.value.v).then(Lt,be):Fe(Me[0][2],We)}(_e[We](Et))}catch(et){Fe(Me[0][3],et)}}function Lt(We){Yt("next",We)}function be(We){Yt("throw",We)}function Fe(We,Et){We(Et),Me.shift(),Me.length&&Yt(Me[0][0],Me[0][1])}}function ke(te){var de,ue;return de={},_e("next"),_e("throw",function(Be){throw Be}),_e("return"),de[Symbol.iterator]=function(){return this},de;function _e(Be,Me){de[Be]=te[Be]?function(Ue){return(ue=!ue)?{value:ye(te[Be](Ue)),done:!1}:Me?Me(Ue):Ue}:Me}}function qe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,de=te[Symbol.asyncIterator];return de?de.call(te):(te=Ge(te),ue={},_e("next"),_e("throw"),_e("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function _e(Me){ue[Me]=te[Me]&&function(Ue){return new Promise(function(ut,Yt){!function Be(Me,Ue,ut,Yt){Promise.resolve(Yt).then(function(mt){Me({value:mt,done:ut})},Ue)}(ut,Yt,(Ue=te[Me](Ue)).done,Ue.value)})}}}function $e(te,de){return Object.defineProperty?Object.defineProperty(te,"raw",{value:de}):te.raw=de,te}var at=Object.create?function(te,de){Object.defineProperty(te,"default",{enumerable:!0,value:de})}:function(te,de){te.default=de},St=function(te){return(St=Object.getOwnPropertyNames||function(de){var ue=[];for(var _e in de)Object.prototype.hasOwnProperty.call(de,_e)&&(ue[ue.length]=_e);return ue})(te)};function wt(te){if(te&&te.__esModule)return te;var de={};if(null!=te)for(var ue=St(te),_e=0;_e<ue.length;_e++)"default"!==ue[_e]&&me(de,te,ue[_e]);return at(de,te),de}function tn(te){return te&&te.__esModule?te:{default:te}}function zt(te,de,ue,_e){if("a"===ue&&!_e)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof de?te!==de||!_e:!de.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ue?_e:"a"===ue?_e.call(te):_e?_e.value:de.get(te)}function Gt(te,de,ue,_e,Be){if("m"===_e)throw new TypeError("Private method is not writable");if("a"===_e&&!Be)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof de?te!==de||!Be:!de.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===_e?Be.call(te,ue):Be?Be.value=ue:de.set(te,ue),ue}function ln(te,de){if(null===de||"object"!=typeof de&&"function"!=typeof de)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof te?de===te:te.has(de)}function Ln(te,de,ue){if(null!=de){if("object"!=typeof de&&"function"!=typeof de)throw new TypeError("Object expected.");var _e,Be;if(ue){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");_e=de[Symbol.asyncDispose]}if(void 0===_e){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");_e=de[Symbol.dispose],ue&&(Be=_e)}if("function"!=typeof _e)throw new TypeError("Object not disposable.");Be&&(_e=function(){try{Be.call(this)}catch(Me){return Promise.reject(Me)}}),te.stack.push({value:de,dispose:_e,async:ue})}else ue&&te.stack.push({async:!0});return de}var rn="function"==typeof SuppressedError?SuppressedError:function(te,de,ue){var _e=new Error(ue);return _e.name="SuppressedError",_e.error=te,_e.suppressed=de,_e};function Ir(te){function de(Me){te.error=te.hasError?new rn(Me,te.error,"An error was suppressed during disposal."):Me,te.hasError=!0}var ue,_e=0;return function Be(){for(;ue=te.stack.pop();)try{if(!ue.async&&1===_e)return _e=0,te.stack.push(ue),Promise.resolve().then(Be);if(ue.dispose){var Me=ue.dispose.call(ue.value);if(ue.async)return _e|=2,Promise.resolve(Me).then(Be,function(Ue){return de(Ue),Be()})}else _e|=1}catch(Ue){de(Ue)}if(1===_e)return te.hasError?Promise.reject(te.error):Promise.resolve();if(te.hasError)throw te.error}()}function pn(te,de){return"string"==typeof te&&/^\.\.?\//.test(te)?te.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(ue,_e,Be,Me,Ue){return _e?de?".jsx":".js":!Be||Me&&Ue?Be+Me+"."+Ue.toLowerCase()+"js":ue}):te}const Ae={__extends:o,__assign:G,__rest:O,__decorate:pe,__param:Z,__esDecorate:z,__runInitializers:ie,__propKey:ve,__setFunctionName:he,__metadata:J,__awaiter:ce,__generator:fe,__createBinding:me,__exportStar:De,__values:Ge,__read:Re,__spread:Ke,__spreadArrays:rt,__spreadArray:ht,__await:ye,__asyncGenerator:Pe,__asyncDelegator:ke,__asyncValues:qe,__makeTemplateObject:$e,__importStar:wt,__importDefault:tn,__classPrivateFieldGet:zt,__classPrivateFieldSet:Gt,__classPrivateFieldIn:ln,__addDisposableResource:Ln,__disposeResources:Ir,__rewriteRelativeImportExtension:pn}},1853:(it,Ee,V)=>{"use strict";function E(o){const O=o(pe=>{Error.call(pe),pe.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}V.d(Ee,{L:()=>E})},1985:(it,Ee,V)=>{"use strict";V.d(Ee,{c:()=>ie});var E=V(7707),o=V(8359),G=V(3494),O=V(1203),pe=V(1026),Z=V(8071),z=V(9786);let ie=(()=>{class ce{constructor(me){me&&(this._subscribe=me)}lift(me){const De=new ce;return De.source=this,De.operator=me,De}subscribe(me,De,Ge){const Re=function J(ce){return ce&&ce instanceof E.vU||function he(ce){return ce&&(0,Z.T)(ce.next)&&(0,Z.T)(ce.error)&&(0,Z.T)(ce.complete)}(ce)&&(0,o.Uv)(ce)}(me)?me:new E.Ms(me,De,Ge);return(0,z.Y)(()=>{const{operator:Ke,source:rt}=this;Re.add(Ke?Ke.call(Re,rt):rt?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(me){try{return this._subscribe(me)}catch(De){me.error(De)}}forEach(me,De){return new(De=ve(De))((Ge,Re)=>{const Ke=new E.Ms({next:rt=>{try{me(rt)}catch(ht){Re(ht),Ke.unsubscribe()}},error:Re,complete:Ge});this.subscribe(Ke)})}_subscribe(me){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(me)}[G.s](){return this}pipe(...me){return(0,O.m)(me)(this)}toPromise(me){return new(me=ve(me))((De,Ge)=>{let Re;this.subscribe(Ke=>Re=Ke,Ke=>Ge(Ke),()=>De(Re))})}}return ce.create=fe=>new ce(fe),ce})();function ve(ce){var fe;return null!==(fe=ce??pe.$.Promise)&&void 0!==fe?fe:Promise}},2200:(it,Ee,V)=>{"use strict";V.d(Ee,{Jj:()=>_r,MD:()=>Ya,Sq:()=>Wn,YU:()=>Rr,bT:()=>Ia,fw:()=>Z,vh:()=>Ra});var E=V(2615),o=V(3664),G=V(7705),O=V(9295),pe=V(7303);let Z=(()=>{class I extends pe.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(j,B){super(),this._platformLocation=j,null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(j){const B=(0,pe.om)(this._baseHref,j);return B.length>0?"#"+B:B}pushState(j,B,le,Le){const ze=this.prepareExternalUrl(le+(0,pe.Q)(Le))||this._platformLocation.pathname;this._platformLocation.pushState(j,B,ze)}replaceState(j,B,le,Le){const ze=this.prepareExternalUrl(le+(0,pe.Q)(Le))||this._platformLocation.pathname;this._platformLocation.replaceState(j,B,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static \u0275fac=function(B){return new(B||I)(E.KVO(pe.Vw),E.KVO(pe.kB,8))};static \u0275prov=E.jDH({token:I,factory:I.\u0275fac})}return I})();var he=function(I){return I[I.Format=0]="Format",I[I.Standalone=1]="Standalone",I}(he||{}),J=function(I){return I[I.Narrow=0]="Narrow",I[I.Abbreviated=1]="Abbreviated",I[I.Wide=2]="Wide",I[I.Short=3]="Short",I}(J||{}),ce=function(I){return I[I.Short=0]="Short",I[I.Medium=1]="Medium",I[I.Long=2]="Long",I[I.Full=3]="Full",I}(ce||{});function Pe(I,X){return pn((0,o.kBR)(I)[o.NSC.DateFormat],X)}function ke(I,X){return pn((0,o.kBR)(I)[o.NSC.TimeFormat],X)}function qe(I,X){return pn((0,o.kBR)(I)[o.NSC.DateTimeFormat],X)}function $e(I,X){const j=(0,o.kBR)(I),B=j[o.NSC.NumberSymbols][X];if(typeof B>"u"){if(12===X)return j[o.NSC.NumberSymbols][0];if(13===X)return j[o.NSC.NumberSymbols][1]}return B}function ln(I){if(!I[o.NSC.ExtraData])throw new E.buA(2303,!1)}function pn(I,X){for(let j=X;j>-1;j--)if(typeof I[j]<"u")return I[j];throw new E.buA(2304,!1)}function Ae(I){const[X,j]=I.split(":");return{hours:+X,minutes:+j}}const _e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Be={},Me=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ue(I,X,j,B){let le=function $a(I){if(sr(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[le,Le=1,ze=1]=I.split("-").map(tt=>+tt);return Yt(le,Le-1,ze)}const j=parseFloat(I);if(!isNaN(I-j))return new Date(j);let B;if(B=I.match(_e))return function Br(I){const X=new Date(0);let j=0,B=0;const le=I[8]?X.setUTCFullYear:X.setFullYear,Le=I[8]?X.setUTCHours:X.setHours;I[9]&&(j=Number(I[9]+I[10]),B=Number(I[9]+I[11])),le.call(X,Number(I[1]),Number(I[2])-1,Number(I[3]));const ze=Number(I[4]||0)-j,tt=Number(I[5]||0)-B,Ut=Number(I[6]||0),qt=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return Le.call(X,ze,tt,Ut,qt),X}(B)}const X=new Date(I);if(!sr(X))throw new E.buA(2311,!1);return X}(I);X=mt(j,X)||X;let tt,ze=[];for(;X;){if(tt=Me.exec(X),!tt){ze.push(X);break}{ze=ze.concat(tt.slice(1));const Wt=ze.pop();if(!Wt)break;X=Wt}}let Ut=le.getTimezoneOffset();B&&(Ut=vr(B,Ut),le=function $n(I,X){const le=I.getTimezoneOffset();return function Zr(I,X){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+X),I}(I,-1*(vr(X,le)-le))}(le,B));let qt="";return ze.forEach(Wt=>{const jt=function on(I){if(yr[I])return yr[I];let X;switch(I){case"G":case"GG":case"GGG":X=et(3,J.Abbreviated);break;case"GGGG":X=et(3,J.Wide);break;case"GGGGG":X=et(3,J.Narrow);break;case"y":X=We(0,1,0,!1,!0);break;case"yy":X=We(0,2,0,!0,!0);break;case"yyy":X=We(0,3,0,!1,!0);break;case"yyyy":X=We(0,4,0,!1,!0);break;case"Y":X=Ta(1);break;case"YY":X=Ta(2,!0);break;case"YYY":X=Ta(3);break;case"YYYY":X=Ta(4);break;case"M":case"L":X=We(1,1,1);break;case"MM":case"LL":X=We(1,2,1);break;case"MMM":X=et(2,J.Abbreviated);break;case"MMMM":X=et(2,J.Wide);break;case"MMMMM":X=et(2,J.Narrow);break;case"LLL":X=et(2,J.Abbreviated,he.Standalone);break;case"LLLL":X=et(2,J.Wide,he.Standalone);break;case"LLLLL":X=et(2,J.Narrow,he.Standalone);break;case"w":X=an(1);break;case"ww":X=an(2);break;case"W":X=an(1,!0);break;case"d":X=We(2,1);break;case"dd":X=We(2,2);break;case"c":case"cc":X=We(7,1);break;case"ccc":X=et(1,J.Abbreviated,he.Standalone);break;case"cccc":X=et(1,J.Wide,he.Standalone);break;case"ccccc":X=et(1,J.Narrow,he.Standalone);break;case"cccccc":X=et(1,J.Short,he.Standalone);break;case"E":case"EE":case"EEE":X=et(1,J.Abbreviated);break;case"EEEE":X=et(1,J.Wide);break;case"EEEEE":X=et(1,J.Narrow);break;case"EEEEEE":X=et(1,J.Short);break;case"a":case"aa":case"aaa":X=et(0,J.Abbreviated);break;case"aaaa":X=et(0,J.Wide);break;case"aaaaa":X=et(0,J.Narrow);break;case"b":case"bb":case"bbb":X=et(0,J.Abbreviated,he.Standalone,!0);break;case"bbbb":X=et(0,J.Wide,he.Standalone,!0);break;case"bbbbb":X=et(0,J.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":X=et(0,J.Abbreviated,he.Format,!0);break;case"BBBB":X=et(0,J.Wide,he.Format,!0);break;case"BBBBB":X=et(0,J.Narrow,he.Format,!0);break;case"h":X=We(3,1,-12);break;case"hh":X=We(3,2,-12);break;case"H":X=We(3,1);break;case"HH":X=We(3,2);break;case"m":X=We(4,1);break;case"mm":X=We(4,2);break;case"s":X=We(5,1);break;case"ss":X=We(5,2);break;case"S":X=We(6,1);break;case"SS":X=We(6,2);break;case"SSS":X=We(6,3);break;case"Z":case"ZZ":case"ZZZ":X=Kt(0);break;case"ZZZZZ":X=Kt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=Kt(1);break;case"OOOO":case"ZZZZ":case"zzzz":X=Kt(2);break;default:return null}return yr[I]=X,X}(Wt);qt+=jt?jt(le,j,Ut):"''"===Wt?"'":Wt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qt}function Yt(I,X,j){const B=new Date(0);return B.setFullYear(I,X,j),B.setHours(0,0,0),B}function mt(I,X){const j=function De(I){return(0,o.kBR)(I)[o.NSC.LocaleId]}(I);if(Be[j]??={},Be[j][X])return Be[j][X];let B="";switch(X){case"shortDate":B=Pe(I,ce.Short);break;case"mediumDate":B=Pe(I,ce.Medium);break;case"longDate":B=Pe(I,ce.Long);break;case"fullDate":B=Pe(I,ce.Full);break;case"shortTime":B=ke(I,ce.Short);break;case"mediumTime":B=ke(I,ce.Medium);break;case"longTime":B=ke(I,ce.Long);break;case"fullTime":B=ke(I,ce.Full);break;case"short":const le=mt(I,"shortTime"),Le=mt(I,"shortDate");B=Lt(qe(I,ce.Short),[le,Le]);break;case"medium":const ze=mt(I,"mediumTime"),tt=mt(I,"mediumDate");B=Lt(qe(I,ce.Medium),[ze,tt]);break;case"long":const Ut=mt(I,"longTime"),qt=mt(I,"longDate");B=Lt(qe(I,ce.Long),[Ut,qt]);break;case"full":const Wt=mt(I,"fullTime"),jt=mt(I,"fullDate");B=Lt(qe(I,ce.Full),[Wt,jt])}return B&&(Be[j][X]=B),B}function Lt(I,X){return X&&(I=I.replace(/\{([^}]+)}/g,function(j,B){return null!=X&&B in X?X[B]:j})),I}function be(I,X,j="-",B,le){let Le="";(I<0||le&&I<=0)&&(le?I=1-I:(I=-I,Le=j));let ze=String(I);for(;ze.length<X;)ze="0"+ze;return B&&(ze=ze.slice(ze.length-X)),Le+ze}function We(I,X,j=0,B=!1,le=!1){return function(Le,ze){let tt=function Et(I,X){switch(I){case 0:return X.getFullYear();case 1:return X.getMonth();case 2:return X.getDate();case 3:return X.getHours();case 4:return X.getMinutes();case 5:return X.getSeconds();case 6:return X.getMilliseconds();case 7:return X.getDay();default:throw new E.buA(2301,!1)}}(I,Le);if((j>0||tt>-j)&&(tt+=j),3===I)0===tt&&-12===j&&(tt=12);else if(6===I)return function Fe(I,X){return be(I,3).substring(0,X)}(tt,X);const Ut=$e(ze,5);return be(tt,X,Ut,B,le)}}function et(I,X,j=he.Format,B=!1){return function(le,Le){return function Zt(I,X,j,B,le,Le){switch(j){case 2:return function Ke(I,X,j){const B=(0,o.kBR)(I),Le=pn([B[o.NSC.MonthsFormat],B[o.NSC.MonthsStandalone]],X);return pn(Le,j)}(X,le,B)[I.getMonth()];case 1:return function Re(I,X,j){const B=(0,o.kBR)(I),Le=pn([B[o.NSC.DaysFormat],B[o.NSC.DaysStandalone]],X);return pn(Le,j)}(X,le,B)[I.getDay()];case 0:const ze=I.getHours(),tt=I.getMinutes();if(Le){const qt=function Ln(I){const X=(0,o.kBR)(I);return ln(X),(X[o.NSC.ExtraData][2]||[]).map(B=>"string"==typeof B?Ae(B):[Ae(B[0]),Ae(B[1])])}(X),Wt=function rn(I,X,j){const B=(0,o.kBR)(I);ln(B);const Le=pn([B[o.NSC.ExtraData][0],B[o.NSC.ExtraData][1]],X)||[];return pn(Le,j)||[]}(X,le,B),jt=qt.findIndex(_n=>{if(Array.isArray(_n)){const[nn,bn]=_n,Hr=ze>=nn.hours&&tt>=nn.minutes,Wr=ze<bn.hours||ze===bn.hours&&tt<bn.minutes;if(nn.hours<bn.hours){if(Hr&&Wr)return!0}else if(Hr||Wr)return!0}else if(_n.hours===ze&&_n.minutes===tt)return!0;return!1});if(-1!==jt)return Wt[jt]}return function Ge(I,X,j){const B=(0,o.kBR)(I),Le=pn([B[o.NSC.DayPeriodsFormat],B[o.NSC.DayPeriodsStandalone]],X);return pn(Le,j)}(X,le,B)[ze<12?0:1];case 3:return function rt(I,X){return pn((0,o.kBR)(I)[o.NSC.Eras],X)}(X,B)[I.getFullYear()<=0?0:1];default:throw new E.buA(2302,!1)}}(le,Le,I,X,j,B)}}function Kt(I){return function(X,j,B){const le=-1*B,Le=$e(j,5),ze=le>0?Math.floor(le/60):Math.ceil(le/60);switch(I){case 0:return(le>=0?"+":"")+be(ze,2,Le)+be(Math.abs(le%60),2,Le);case 1:return"GMT"+(le>=0?"+":"")+be(ze,1,Le);case 2:return"GMT"+(le>=0?"+":"")+be(ze,2,Le)+":"+be(Math.abs(le%60),2,Le);case 3:return 0===B?"Z":(le>=0?"+":"")+be(ze,2,Le)+":"+be(Math.abs(le%60),2,Le);default:throw new E.buA(2310,!1)}}}const Yr=0,or=4;function An(I){const X=I.getDay(),j=0===X?-3:or-X;return Yt(I.getFullYear(),I.getMonth(),I.getDate()+j)}function an(I,X=!1){return function(j,B){let le;if(X){const Le=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,ze=j.getDate();le=1+Math.floor((ze+Le)/7)}else{const Le=An(j),ze=function Jr(I){const X=Yt(I,Yr,1).getDay();return Yt(I,0,1+(X<=or?or:or+7)-X)}(Le.getFullYear()),tt=Le.getTime()-ze.getTime();le=1+Math.round(tt/6048e5)}return be(le,I,$e(B,5))}}function Ta(I,X=!1){return function(j,B){return be(An(j).getFullYear(),I,$e(B,5),X)}}const yr={};function vr(I,X){I=I.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(j)?X:j}function sr(I){return I instanceof Date&&!isNaN(I.valueOf())}const xr=/\s+/,Fn=[];let Rr=(()=>{class I{_ngEl;_renderer;initialClasses=Fn;rawClass;stateMap=new Map;constructor(j,B){this._ngEl=j,this._renderer=B}set klass(j){this.initialClasses=null!=j?j.trim().split(xr):Fn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(xr):j}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const B of j)this._updateState(B,!0);else if(null!=j)for(const B of Object.keys(j))this._updateState(B,!!j[B]);this._applyStateDiff()}_updateState(j,B){const le=this.stateMap.get(j);void 0!==le?(le.enabled!==B&&(le.changed=!0,le.enabled=B),le.touched=!0):this.stateMap.set(j,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const B=j[0],le=j[1];le.changed?(this._toggleClass(B,le.enabled),le.changed=!1):le.touched||(le.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),le.touched=!1}}_toggleClass(j,B){(j=j.trim()).length>0&&j.split(xr).forEach(le=>{B?this._renderer.addClass(this._ngEl.nativeElement,le):this._renderer.removeClass(this._ngEl.nativeElement,le)})}static \u0275fac=function(B){return new(B||I)(o.rXU(o.aKT),o.rXU(o.sFG))};static \u0275dir=o.FsC({type:I,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return I})();class za{$implicit;ngForOf;index;count;constructor(X,j,B,le){this.$implicit=X,this.ngForOf=j,this.index=B,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wn=(()=>{class I{_viewContainer;_template;_differs;set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(j,B,le){this._viewContainer=j,this._template=B,this._differs=le}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const B=this._viewContainer;j.forEachOperation((le,Le,ze)=>{if(null==le.previousIndex)B.createEmbeddedView(this._template,new za(le.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)B.remove(null===Le?void 0:Le);else if(null!==Le){const tt=B.get(Le);B.move(tt,ze),Or(tt,le)}});for(let le=0,Le=B.length;le<Le;le++){const tt=B.get(le).context;tt.index=le,tt.count=Le,tt.ngForOf=this._ngForOf}j.forEachIdentityChange(le=>{Or(B.get(le.currentIndex),le)})}static ngTemplateContextGuard(j,B){return!0}static \u0275fac=function(B){return new(B||I)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(G._q3))};static \u0275dir=o.FsC({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return I})();function Or(I,X){I.context.$implicit=X.item}let Ia=(()=>{class I{_viewContainer;_context=new Ma;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(j,B){this._viewContainer=j,this._thenTemplateRef=B}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){zn(j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){zn(j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(j,B){return!0}static \u0275fac=function(B){return new(B||I)(o.rXU(o.c1b),o.rXU(o.C4Q))};static \u0275dir=o.FsC({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return I})();class Ma{$implicit=null;ngIf=null}function zn(I,X){if(I&&!I.createEmbeddedView)throw new E.buA(2020,!1)}function Qt(I,X){return new E.buA(2100,!1)}class va{createSubscription(X,j,B){return(0,O.O8)(()=>X.subscribe({next:j,error:B}))}dispose(X){(0,O.O8)(()=>X.unsubscribe())}}class ga{createSubscription(X,j,B){return X.then(le=>j?.(le),le=>B?.(le)),{unsubscribe:()=>{j=null,B=null}}}dispose(X){X.unsubscribe()}}const ea=new ga,Kn=new va;let _r=(()=>{class I{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,E.WQX)(E.ZTf);constructor(j){this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){if(!this._obj){if(j)try{this.markForCheckOnValueUpdate=!1,this._subscribe(j)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,B=>this._updateLatestValue(j,B),B=>this.applicationErrorHandler(B))}_selectStrategy(j){if((0,o.yLl)(j))return ea;if((0,o.cdK)(j))return Kn;throw Qt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,B){j===this._obj&&(this._latestValue=B,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(B){return new(B||I)(o.rXU(G.gRc,16))};static \u0275pipe=o.EJ8({name:"async",type:I,pure:!1})}return I})();const gi=new E.nKC(""),Qa=new E.nKC("");let Ra=(()=>{class I{locale;defaultTimezone;defaultOptions;constructor(j,B,le){this.locale=j,this.defaultTimezone=B,this.defaultOptions=le}transform(j,B,le,Le){if(null==j||""===j||j!=j)return null;try{return Ue(j,B??this.defaultOptions?.dateFormat??"mediumDate",Le||this.locale,le??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ze){throw Qt()}}static \u0275fac=function(B){return new(B||I)(o.rXU(o.xe9,16),o.rXU(gi,24),o.rXU(Qa,24))};static \u0275pipe=o.EJ8({name:"date",type:I,pure:!0})}return I})(),Ya=(()=>{class I{static \u0275fac=function(B){return new(B||I)};static \u0275mod=o.$C({type:I});static \u0275inj=E.G2t({})}return I})()},2615:(it,Ee,V)=>{"use strict";let E;function o(){return E}function G(_){const P=E;return E=_,P}V.d(Ee,{JEi:()=>Cr,Isx:()=>Mn,EJG:()=>yn,Yrj:()=>cn,VVG:()=>st,Y20:()=>jn,SKP:()=>Ct,hk6:()=>al,eVN:()=>Jt,b5C:()=>Jn,rQE:()=>Sn,X5O:()=>ir,qFA:()=>wo,qQL:()=>lu,abz:()=>tl,tQN:()=>jr,pcR:()=>Nn,oMQ:()=>In,Mlv:()=>Gn,MZA:()=>Pa,M0L:()=>ft,Z63:()=>rr,VML:()=>ol,uvJ:()=>Lr,zcH:()=>Yo,Wg1:()=>Q,Yw1:()=>Dr,jgP:()=>A,tcA:()=>Qe,ID:()=>Fr,YEL:()=>Bt,B9r:()=>Na,GBX:()=>Wr,ZTf:()=>ri,nKC:()=>an,zZn:()=>Ps,rJ1:()=>eu,nfM:()=>bi,s6P:()=>ba,K29:()=>Te,CQl:()=>Ur,p9y:()=>pi,zSs:()=>Mr,ONQ:()=>An,hmW:()=>Wa,yAH:()=>Jr,KXn:()=>uu,oTH:()=>ta,Czx:()=>Ot,f7T:()=>se,wVl:()=>En,GYQ:()=>Cc,u5s:()=>il,rev:()=>xo,Ds7:()=>kr,e5P:()=>Ja,Iaj:()=>Hi,GpT:()=>fn,buA:()=>De,AQb:()=>Dc,jNX:()=>Xs,eDl:()=>F,qlT:()=>je,bm_:()=>Za,RxE:()=>J,r4V:()=>Zd,ok8:()=>me,Evm:()=>ai,Jy$:()=>Mo,laP:()=>Ke,EYC:()=>nr,ng7:()=>Ga,llW:()=>Ra,gsJ:()=>Qa,GZS:()=>Ba,iYM:()=>Me,PEr:()=>Jl,z7f:()=>ut,LZP:()=>Yt,Xln:()=>rn,yzR:()=>As,TWe:()=>Yl,LIA:()=>Ln,GWr:()=>ue,pbo:()=>_e,bBq:()=>qr,Af3:()=>U,zQk:()=>Ss,oZy:()=>$o,tF7:()=>mt,ZFY:()=>ya,cP4:()=>Wi,MdC:()=>zi,XvL:()=>te,KET:()=>ei,Tkx:()=>Zl,iw4:()=>Ir,tdH:()=>rl,pr_:()=>be,IAh:()=>Ae,U45:()=>zt,WrV:()=>Gt,kNT:()=>Lt,MI:()=>Qs,biv:()=>Co,ZQF:()=>pn,Cv0:()=>ln,W0r:()=>Zn,R2n:()=>Rt,O8q:()=>oe,VKj:()=>$,Rom:()=>yt,z6V:()=>ea,n$e:()=>qe,hjC:()=>Qt,Pz9:()=>Ec,PQT:()=>Vr,VX4:()=>xr,_Z$:()=>Sa,N79:()=>qo,xLP:()=>br,zuh:()=>Hn,BI7:()=>pa,U7d:()=>Aa,uXy:()=>ma,nZS:()=>sr,ihb:()=>Tr,ID8:()=>vn,gv8:()=>Jo,dwj:()=>Pe,Bqz:()=>qa,OsK:()=>Re,Rfq:()=>St,c$7:()=>ae,gxQ:()=>Y,ckz:()=>qi,kLh:()=>ye,xUg:()=>La,KdJ:()=>ni,db4:()=>Ki,VPL:()=>p,MT:()=>$t,Z9v:()=>vt,Ab:()=>Io,w7Z:()=>gt,Mx4:()=>So,veI:()=>Ea,HaV:()=>Ya,Agf:()=>xi,znI:()=>co,wGu:()=>_r,ebl:()=>or,OAn:()=>Qi,_0$:()=>Gi,UaU:()=>el,vaC:()=>Bn,d31:()=>Do,ZRn:()=>wc,phH:()=>Pr,WbQ:()=>na,WB9:()=>wr,d_l:()=>Go,vNG:()=>Ni,oyA:()=>I,_px:()=>iu,CpD:()=>Xt,XRZ:()=>Ft,klJ:()=>To,Fje:()=>mo,b$O:()=>He,SMZ:()=>ht,WQX:()=>ge,MzJ:()=>fa,jXY:()=>Le,MME:()=>Hr,JlV:()=>mr,Qs1:()=>ao,srX:()=>Uo,vOT:()=>Ys,YWB:()=>f,EPY:()=>C,yoD:()=>Eo,P3H:()=>D,Jzi:()=>tn,rFz:()=>b,JjR:()=>Oe,M6u:()=>ar,KtD:()=>Ms,muV:()=>Zt,A0l:()=>Tt,q$2:()=>ja,yP_:()=>L,EFk:()=>Vo,Hps:()=>Zo,UhH:()=>po,QuC:()=>X,Y3W:()=>bn,n$r:()=>nl,K7h:()=>Xa,FRF:()=>$r,ezK:()=>Mi,m7n:()=>ou,niQ:()=>xs,krE:()=>ru,bll:()=>au,Hh6:()=>oa,EmA:()=>j,blu:()=>lo,HAh:()=>oo,WfI:()=>gi,xbp:()=>xe,jvu:()=>Js,lQ1:()=>Ns,Rc9:()=>aa,E6O:()=>xa,DyX:()=>Ko,eFE:()=>ha,dMS:()=>so,HUe:()=>Wo,nl4:()=>wt,N4e:()=>_i,XaM:()=>Ha,Kw3:()=>we,vQI:()=>Ze,RZ9:()=>xt,GA0:()=>_t,iMd:()=>k,Pfq:()=>m,xyx:()=>Je,a2B:()=>zn,kcM:()=>$a,DFp:()=>on,P2g:()=>R,cBl:()=>H,ypq:()=>Rs,vPA:()=>Yd,HO5:()=>Jd,M_e:()=>tu,B22:()=>uo,ik5:()=>zo,AsM:()=>ke,PP7:()=>lr,$8:()=>Ue,$Hz:()=>fi,zAe:()=>bc,IvY:()=>io,_gW:()=>Is,F1c:()=>Ho,ITl:()=>wa,brz:()=>tt,jRZ:()=>Ua,SX7:()=>Os,jDH:()=>Fe,G2t:()=>Et,fuf:()=>Qo,cSN:()=>Fi,KVO:()=>dr,dmw:()=>vi,joV:()=>sa,By9:()=>Zs,qSk:()=>Ei,Njj:()=>Ao,eBV:()=>Xo});const pe=Symbol("NotFound");function z(_){return _===pe||"\u0275NotFound"===_?.name}Error;var ie=V(8440),ve=V(4412),he=V(1985);class J{full;major;minor;patch;constructor(P){this.full=P;const q=P.split(".");this.major=q[0],this.minor=q[1],this.patch=q.slice(2).join(".")}}const me="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class De extends Error{code;constructor(P,q){super(Re(P,q)),this.code=P}}function Re(_,P){return`${function Ge(_){return`NG0${Math.abs(_)}`}(_)}${P?": "+P:""}`}const Ke=globalThis;function ht(){return!1}function ye(_){for(let P in _)if(_[P]===ye)return P;throw Error("")}function Pe(_,P){for(const q in P)P.hasOwnProperty(q)&&!_.hasOwnProperty(q)&&(_[q]=P[q])}function ke(_){if("string"==typeof _)return _;if(Array.isArray(_))return`[${_.map(ke).join(", ")}]`;if(null==_)return""+_;const P=_.overriddenName||_.name;if(P)return`${P}`;const q=_.toString();if(null==q)return""+q;const Ce=q.indexOf("\n");return Ce>=0?q.slice(0,Ce):q}function qe(_,P){return _?P?`${_} ${P}`:_:P||""}const at=ye({__forward_ref__:ye});function St(_){return _.__forward_ref__=St,_.toString=function(){return ke(this())},_}function wt(_){return tn(_)?_():_}function tn(_){return"function"==typeof _&&_.hasOwnProperty(at)&&_.__forward_ref__===St}function zt(_,P){"number"!=typeof _&&Ue(P,typeof _,"number","===")}function Gt(_,P,q){zt(_,"Expected a number"),function de(_,P,q){_<=P||Ue(q,_,P,"<=")}(_,q,"Expected number to be less than or equal to"),_e(_,P,"Expected number to be greater than or equal to")}function ln(_,P){"string"!=typeof _&&Ue(P,null===_?"null":typeof _,"string","===")}function Ln(_,P){"function"!=typeof _&&Ue(P,null===_?"null":typeof _,"function","===")}function rn(_,P,q){_!=P&&Ue(q,_,P,"==")}function Ir(_,P,q){_==P&&Ue(q,_,P,"!=")}function pn(_,P,q){_!==P&&Ue(q,_,P,"===")}function Ae(_,P,q){_===P&&Ue(q,_,P,"!==")}function te(_,P,q){_<P||Ue(q,_,P,"<")}function ue(_,P,q){_>P||Ue(q,_,P,">")}function _e(_,P,q){_>=P||Ue(q,_,P,">=")}function Me(_,P){null==_&&Ue(P,_,null,"!=")}function Ue(_,P,q,Ce){throw new Error(`ASSERTION ERROR: ${_}`+(null==Ce?"":` [Expected=> ${q} ${Ce} ${P} <=Actual]`))}function ut(_){_ instanceof Node||Ue(`The provided value must be an instance of a DOM Node but got ${ke(_)}`)}function Yt(_){_ instanceof Element||Ue(`The provided value must be an element but got ${ke(_)}`)}function mt(_,P){Me(_,"Array must be defined.");const q=_.length;(P<0||P>=q)&&Ue(`Index expected to be less than ${q} but got ${P}`)}function Lt(_,...P){if(-1!==P.indexOf(_))return!0;Ue(`Expected value to be one of ${JSON.stringify(P)} but was ${JSON.stringify(_)}.`)}function be(_){null!==(0,ie.nR)()&&Ue(`${_}() should never be called in a reactive context.`)}function Fe(_){return{token:_.token,providedIn:_.providedIn||null,factory:_.factory,value:void 0}}function Et(_){return{providers:_.providers||[],imports:_.imports||[]}}function et(_){return function Kt(_,P){return _.hasOwnProperty(P)&&_[P]||null}(_,Jr)}function Zt(_){return null!==et(_)}function or(_){return _&&_.hasOwnProperty(An)?_[An]:null}const Jr=ye({\u0275prov:ye}),An=ye({\u0275inj:ye});class an{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(P,q){this._desc=P,this.\u0275prov=void 0,"number"==typeof q?this.__NG_ELEMENT_ID__=q:void 0!==q&&(this.\u0275prov=Fe({token:this,providedIn:q.providedIn||"root",factory:q.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Ta;function yr(){return Ue("getInjectorProfilerContext should never be called in production mode"),Ta}function on(_){Ue("setInjectorProfilerContext should never be called in production mode");const P=Ta;return Ta=_,P}const vr=[],Zr=()=>{};function $a(_){return Ue("setInjectorProfiler should never be called in production mode"),null!==_?(vr.includes(_)||vr.push(_),()=>function $n(_){const P=vr.indexOf(_);-1!==P&&vr.splice(P,1)}(_)):(vr.length=0,Zr)}function Br(_){Ue("Injector profiler should never be called in production mode");for(let P=0;P<vr.length;P++)(0,vr[P])(_)}function sr(_,P=!1){let q;Ue("Injector profiler should never be called in production mode"),q="function"==typeof _||_ instanceof an?_:wt(_.provide);let Ce=_;_ instanceof an&&(Ce=_.\u0275prov||_),Br({type:2,context:yr(),providerRecord:{token:q,provider:Ce,isViewProvider:P}})}function Aa(_){Ue("Injector profiler should never be called in production mode"),Br({type:4,context:yr(),token:_})}function ma(_){Ue("Injector profiler should never be called in production mode"),Br({type:1,context:yr(),instance:{value:_}})}function pa(_,P,q){Ue("Injector profiler should never be called in production mode"),Br({type:0,context:yr(),service:{token:_,value:P,flags:q}})}function Hn(_){Ue("Injector profiler should never be called in production mode"),Br({type:3,context:yr(),effect:_})}function Ha(_,P,q){Ue("runInInjectorProfilerContext should never be called in production mode");const Ce=on({injector:_,token:P});try{q()}finally{on(Ce)}}function On(_){return _&&!!_.\u0275providers}const Ur=ye({\u0275cmp:ye}),mi=ye({\u0275dir:ye}),Pn=ye({\u0275pipe:ye}),Wa=ye({\u0275mod:ye}),Mr=ye({\u0275fac:ye}),pi=ye({__NG_ELEMENT_ID__:ye}),hi=ye({__NG_ENV_ID__:ye});function ha(_){return"string"==typeof _?_:null==_?"":String(_)}function lr(_){return"function"==typeof _?_.name||_.toString():"object"==typeof _&&null!=_&&"function"==typeof _.type?_.type.name||_.type.toString():ha(_)}function Sa(_){let P=_[Ur]||null;return null!==P&&P.debugInfo?function ur(_){return _.filePath&&_.lineNumber?`${_.className} (at ${_.filePath}:${_.lineNumber})`:_.className}(P.debugInfo):lr(_)}const cr=ye({ngErrorCode:ye}),tr=ye({ngErrorMessage:ye}),gr=ye({ngTokenPath:ye});function Vr(_,P){return Wn("",-200,P)}function xr(_,P){return function za(_,P){return _.message=function en(_,P,q=[],Ce=null){let Ne="";q&&q.length>1&&(Ne=` Path: ${q.join(" -> ")}.`);return Re(P,`${_}${Ce?` Source: ${Ce}.`:""}${Ne}`)}(_[tr]||_.message,_[cr],_[gr],P),_}(Vr(0,P),null)}function fi(_,P){throw new De(-201,!1)}function Wn(_,P,q){const Ce=new De(P,_);return Ce[cr]=P,Ce[tr]=_,q&&(Ce[gr]=q),Ce}let Ia;function Ma(){return Ia}function zn(_){const P=Ia;return Ia=_,P}function fa(_,P,q){const Ce=et(_);return Ce&&"root"==Ce.providedIn?void 0===Ce.value?Ce.value=Ce.factory():Ce.value:8&q?null:void 0!==P?P:void fi()}function ya(_){}const hn={},Ii="__NG_DI_FLAG__";class Ka{injector;constructor(P){this.injector=P}retrieve(P,q){const Ce=Qt(q)||0;try{return this.injector.get(P,8&Ce?null:hn,Ce)}catch(Ne){if(z(Ne))return Ne;throw Ne}}}function Yn(_,P=0){const q=o();if(void 0===q)throw new De(-203,!1);if(null===q)return fa(_,void 0,P);{const Ce=function va(_){return{optional:!!(8&_),host:!!(1&_),self:!!(2&_),skipSelf:!!(4&_)}}(P),Ne=q.retrieve(_,Ce);if(z(Ne)){if(Ce.optional)return null;throw Ne}return Ne}}function dr(_,P=0){return(Ma()||Yn)(wt(_),P)}function vi(_){throw new De(202,!1)}function ge(_,P){return dr(_,Qt(P))}function Qt(_){return typeof _>"u"||"number"==typeof _?_:0|(_.optional&&8)|(_.host&&1)|(_.self&&2)|(_.skipSelf&&4)}function ga(_){const P=[];for(let q=0;q<_.length;q++){const Ce=wt(_[q]);if(Array.isArray(Ce)){if(0===Ce.length)throw new De(900,!1);let Ne,ot=0;for(let dn=0;dn<Ce.length;dn++){const la=Ce[dn],Un=Kn(la);"number"==typeof Un?-1===Un?Ne=la.token:ot|=Un:Ne=la}P.push(dr(Ne,ot))}else P.push(dr(Ce))}return P}function ea(_,P){return _[Ii]=P,_.prototype[Ii]=P,_}function Kn(_){return _[Ii]}function _r(_,P){return _.hasOwnProperty(Mr)?_[Mr]:null}function Ga(_,P,q){if(_.length!==P.length)return!1;for(let Ce=0;Ce<_.length;Ce++){let Ne=_[Ce],ot=P[Ce];if(q&&(Ne=q(Ne),ot=q(ot)),ot!==Ne)return!1}return!0}function qa(_){return _.flat(Number.POSITIVE_INFINITY)}function br(_,P){_.forEach(q=>Array.isArray(q)?br(q,P):P(q))}function nr(_,P,q){P>=_.length?_.push(q):_.splice(P,0,q)}function xa(_,P){return P>=_.length-1?_.pop():_.splice(P,1)[0]}function gi(_,P){const q=[];for(let Ce=0;Ce<_;Ce++)q.push(P);return q}function Qa(_,P,q){const Ce=_.length-q;for(;P<Ce;)_[P]=_[P+q],P++;for(;q--;)_.pop()}function Ra(_,P,q,Ce){let Ne=_.length;if(Ne==P)_.push(q,Ce);else if(1===Ne)_.push(Ce,_[0]),_[0]=q;else{for(Ne--,_.push(_[Ne-1],_[Ne]);Ne>P;)_[Ne]=_[Ne-2],Ne--;_[P]=q,_[P+1]=Ce}}function Mi(_,P,q){let Ce=$r(_,P);return Ce>=0?_[1|Ce]=q:(Ce=~Ce,Ra(_,Ce,P,q)),Ce}function Xa(_,P){const q=$r(_,P);if(q>=0)return _[1|q]}function $r(_,P){return function Oa(_,P,q){let Ce=0,Ne=_.length>>q;for(;Ne!==Ce;){const ot=Ce+(Ne-Ce>>1),dn=_[ot<<q];if(P===dn)return ot<<q;dn>P?Ne=ot:Ce=ot+1}return~(Ne<<q)}(_,P,1)}const Pa={},Gn=[],rr=new an(""),_a=new an("",-1),Na=new an("");class ta{get(P,q=hn){if(q===hn){const Ne=Wn("",-201);throw Ne.name="\u0275NotFound",Ne}return q}}function Pr(_){return _[Wa]||null}function na(_){const P=Pr(_);if(!P)throw new De(915,!1);return P}function La(_){return _[Ur]||null}function xi(_){const P=Ya(_);if(!P)throw new De(916,!1);return P}function Ya(_){return _[mi]||null}function I(_){return _[Pn]||null}function X(_){const P=La(_)||Ya(_)||I(_);return null!==P&&P.standalone}function j(_){return{\u0275providers:_}}function le(..._){return{\u0275providers:Le(0,_),\u0275fromNgModule:!0}}function Le(_,...P){const q=[],Ce=new Set;let Ne;const ot=dn=>{q.push(dn)};return br(P,dn=>{const la=dn;tt(la,ot,[],Ce)&&(Ne||=[],Ne.push(la))}),void 0!==Ne&&ze(Ne,ot),q}function ze(_,P){for(let q=0;q<_.length;q++){const{ngModule:Ce,providers:Ne}=_[q];qt(Ne,ot=>{P(ot,Ce)})}}function tt(_,P,q,Ce){if(!(_=wt(_)))return!1;let Ne=null,ot=or(_);const dn=!ot&&La(_);if(ot||dn){if(dn&&!dn.standalone)return!1;Ne=_}else{const Un=_.ngModule;if(ot=or(Un),!ot)return!1;Ne=Un}const la=Ce.has(Ne);if(dn){if(la)return!1;if(Ce.add(Ne),dn.dependencies){const Un="function"==typeof dn.dependencies?dn.dependencies():dn.dependencies;for(const xn of Un)tt(xn,P,q,Ce)}}else{if(!ot)return!1;{if(null!=ot.imports&&!la){let xn;Ce.add(Ne);try{br(ot.imports,ji=>{tt(ji,P,q,Ce)&&(xn||=[],xn.push(ji))})}finally{}void 0!==xn&&ze(xn,P)}if(!la){const xn=_r(Ne)||(()=>new Ne);P({provide:Ne,useFactory:xn,deps:Gn},Ne),P({provide:Na,useValue:Ne,multi:!0},Ne),P({provide:rr,useValue:()=>dr(Ne),multi:!0},Ne)}const Un=ot.providers;if(null!=Un&&!la){const xn=_;qt(Un,ji=>{P(ji,xn)})}}}return Ne!==_&&void 0!==_.providers}function qt(_,P){for(let q of _)On(q)&&(q=q.\u0275providers),Array.isArray(q)?qt(q,P):P(q)}const Wt=ye({provide:String,useValue:ye});function jt(_){return null!==_&&"object"==typeof _&&Wt in _}function bn(_){return"function"==typeof _}function Hr(_){return!!_.useClass}const Wr=new an(""),Nr={},zr={};let ra;function wr(){return void 0===ra&&(ra=new ta),ra}class Lr{}class Ja extends Lr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(P,q,Ce,Ne){super(),this.parent=q,this.source=Ce,this.scopes=Ne,Gr(P,dn=>this.processProvider(dn)),this.records.set(_a,ia(void 0,this)),Ne.has("environment")&&this.records.set(Lr,ia(void 0,this));const ot=this.records.get(Wr);null!=ot&&"string"==typeof ot.value&&this.scopes.add(ot.value),this.injectorDefTypes=new Set(this.get(Na,Gn,{self:!0}))}retrieve(P,q){const Ce=Qt(q)||0;try{return this.get(P,hn,Ce)}catch(Ne){if(z(Ne))return Ne;throw Ne}}destroy(){Er(this),this._destroyed=!0;const P=(0,ie.Ht)(null);try{for(const Ce of this._ngOnDestroyHooks)Ce.ngOnDestroy();const q=this._onDestroyHooks;this._onDestroyHooks=[];for(const Ce of q)Ce()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,ie.Ht)(P)}}onDestroy(P){return Er(this),this._onDestroyHooks.push(P),()=>this.removeOnDestroy(P)}runInContext(P){Er(this);const q=G(this),Ce=zn(void 0);try{return P()}finally{G(q),zn(Ce)}}get(P,q=hn,Ce){if(Er(this),P.hasOwnProperty(hi))return P[hi](this);const Ne=Qt(Ce),dn=G(this),la=zn(void 0);try{if(!(4&Ne)){let xn=this.records.get(P);if(void 0===xn){const ji=function bo(_){return"function"==typeof _||"object"==typeof _&&"InjectionToken"===_.ngMetadataName}(P)&&et(P);xn=ji&&this.injectableDefInScope(ji)?ia(Kr(P),Nr):null,this.records.set(P,xn)}if(null!=xn)return this.hydrate(P,xn,Ne)}return(2&Ne?wr():this.parent).get(P,q=8&Ne&&q===hn?null:q)}catch(Un){const xn=function Or(_){return _[cr]}(Un);throw-200===xn||-201===xn?new De(xn,null):Un}finally{zn(la),G(dn)}}resolveInjectorInitializers(){const P=(0,ie.Ht)(null),q=G(this),Ce=zn(void 0);try{const ot=this.get(rr,Gn,{self:!0});for(const dn of ot)dn()}finally{G(q),zn(Ce),(0,ie.Ht)(P)}}toString(){const P=[],q=this.records;for(const Ce of q.keys())P.push(ke(Ce));return`R3Injector[${P.join(", ")}]`}processProvider(P){let q=bn(P=wt(P))?P:wt(P&&P.provide);const Ce=function Oi(_){return jt(_)?ia(void 0,_.useValue):ia(aa(_),Nr)}(P);if(!bn(P)&&!0===P.multi){let Ne=this.records.get(q);Ne||(Ne=ia(void 0,Nr,!0),Ne.factory=()=>ga(Ne.multi),this.records.set(q,Ne)),q=P,Ne.multi.push(P)}this.records.set(q,Ce)}hydrate(P,q,Ce){const Ne=(0,ie.Ht)(null);try{if(q.value===zr)throw Vr(ke(P));return q.value===Nr&&(q.value=zr,q.value=q.factory(void 0,Ce)),"object"==typeof q.value&&q.value&&function Fa(_){return null!==_&&"object"==typeof _&&"function"==typeof _.ngOnDestroy}(q.value)&&this._ngOnDestroyHooks.add(q.value),q.value}finally{(0,ie.Ht)(Ne)}}injectableDefInScope(P){if(!P.providedIn)return!1;const q=wt(P.providedIn);return"string"==typeof q?"any"===q||this.scopes.has(q):this.injectorDefTypes.has(q)}removeOnDestroy(P){const q=this._onDestroyHooks.indexOf(P);-1!==q&&this._onDestroyHooks.splice(q,1)}}function Kr(_){const P=et(_),q=null!==P?P.factory:_r(_);if(null!==q)return q;if(_ instanceof an)throw new De(204,!1);if(_ instanceof Function)return function Ri(_){if(_.length>0)throw new De(204,!1);const q=function Yr(_){return(_?.[Jr]??null)||null}(_);return null!==q?()=>q.factory(_):()=>new _}(_);throw new De(204,!1)}function aa(_,P,q){let Ce;if(bn(_)){const Ne=wt(_);return _r(Ne)||Kr(Ne)}if(jt(_))Ce=()=>wt(_.useValue);else if(function nn(_){return!(!_||!_.useFactory)}(_))Ce=()=>_.useFactory(...ga(_.deps||[]));else if(function _n(_){return!(!_||!_.useExisting)}(_))Ce=(Ne,ot)=>dr(wt(_.useExisting),void 0!==ot&&8&ot?8:void 0);else{const Ne=wt(_&&(_.useClass||_.provide));if(!function Pi(_){return!!_.deps}(_))return _r(Ne)||Kr(Ne);Ce=()=>new Ne(...ga(_.deps))}return Ce}function Er(_){if(_.destroyed)throw new De(205,!1)}function ia(_,P,q=!1){return{factory:_,value:P,multi:q?[]:void 0}}function Gr(_,P){for(const q of _)Array.isArray(q)?Gr(q,P):q&&On(q)?Gr(q.\u0275providers,P):P(q)}function _i(_,P){let q;_ instanceof Ja?(Er(_),q=_):q=new Ka(_);const Ne=G(q),ot=zn(void 0);try{return P()}finally{G(Ne),zn(ot)}}function ar(){return void 0!==Ma()||null!=o()}function U(_){if(!ar())throw new De(-203,!1)}const A=0,F=1,Q=2,se=3,Te=4,je=5,Qe=6,st=7,Ct=8,Bt=9,ft=10,fn=11,yn=12,cn=13,ir=14,Jn=15,Sn=16,En=17,kr=18,Fr=19,In=20,Ot=21,Nn=22,jr=23,Hi=24,Cr=25,Mn=26,Dr=27,ro=1,wo=6,ba=7,Za=8,bi=9,jn=10;function ja(_){return Array.isArray(_)&&"object"==typeof _[ro]}function Tt(_){return Array.isArray(_)&&!0===_[ro]}function Uo(_){return!!(4&_.flags)}function ao(_){return _.componentOffset>-1}function Eo(_){return!(1&~_.flags)}function mr(_){return!!_.template}function Vo(_){return!!(512&_[Q])}function C(_){return!(256&~_[Q])}function $(_,P){yt(_,P[F])}function oe(_,P){const q=P+Dr;mt(_,q),te(q,_[F].bindingStartIndex,"TNodes should be created before any bindings")}function yt(_,P){Rt(_);const q=P.data;for(let Ce=Dr;Ce<q.length;Ce++)if(q[Ce]===_)return;Ue("This TNode does not belong to this TView.")}function Rt(_){Me(_,"TNode must be defined"),_&&"object"==typeof _&&_.hasOwnProperty("directiveStylingLast")||Ue("Not of type TNode, got: "+_)}function Zn(_){Me(_,"Expected TIcu to be defined"),"number"!=typeof _.currentCaseLViewIndex&&Ue("Object is not of TIcu type.")}function Ba(_,P="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){La(_)||Ue(P)}function ei(_,P="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){Pr(_)||Ue(P)}function qr(_){Me(_,"currentTNode should exist!"),Me(_.parent,"currentTNode should have a parent")}function Wi(_){Me(_,"LContainer must be defined"),rn(Tt(_),!0,"Expecting LContainer")}function zi(_){Me(_,"LView must be defined"),rn(ja(_),!0,"Expecting LView")}function As(_,P){rn(_.firstCreatePass,!0,P||"Should only be called in first create pass.")}function Yl(_,P){rn(_.firstUpdatePass,!0,"Should only be called in first update pass.")}function Jl(_){(void 0===_.type||null==_.selectors||void 0===_.inputs)&&Ue("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Ss(_,P){ti(Dr,_.bindingStartIndex,P)}function $o(_,P){ti(_[1].expandoStartIndex,_.length,P)}function ti(_,P,q){_<=q&&q<P||Ue(`Index out of range (expecting ${_} <= ${q} < ${P})`)}function Co(_,P){Me(_[Jn],"Component views should exist."),Me(_[Jn][je].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function Qs(_,P){Me(_,"Component views should always have a parent view (component's host view)")}function Zl(_,P){$o(_,P),$o(_,P+8),zt(_[P+0],"injectorIndex should point to a bloom filter"),zt(_[P+1],"injectorIndex should point to a bloom filter"),zt(_[P+2],"injectorIndex should point to a bloom filter"),zt(_[P+3],"injectorIndex should point to a bloom filter"),zt(_[P+4],"injectorIndex should point to a bloom filter"),zt(_[P+5],"injectorIndex should point to a bloom filter"),zt(_[P+6],"injectorIndex should point to a bloom filter"),zt(_[P+7],"injectorIndex should point to a bloom filter"),zt(_[P+8],"injectorIndex should point to parent injector")}const Xs="svg",eu="math";function io(_){for(;Array.isArray(_);)_=_[A];return _}function bc(_){for(;Array.isArray(_);){if("object"==typeof _[ro])return _;_=_[A]}return null}function Bn(_,P){return io(P[_])}function Do(_,P){return io(P[_.index])}function wc(_,P){const q=null===_?-1:_.index;return-1!==q?io(P[q]):null}function Ft(_,P){return _.data[P]}function oa(_,P){return _[P]}function tu(_,P,q,Ce){q>=_.data.length&&(_.data[q]=null,_.blueprint[q]=null),P[q]=Ce}function ni(_,P){const q=P[_];return ja(q)?q:q[A]}function Ys(_){return!(4&~_[Q])}function Ho(_){return!(128&~_[Q])}function wa(_){return Tt(_[se])}function Ki(_,P){return null==P?null:_[P]}function Wo(_){_[En]=0}function oo(_){1024&_[Q]||(_[Q]|=1024,Ho(_)&&lo(_))}function Ua(_,P){for(;_>0;)P=P[ir],_--;return P}function so(_){return!!(9216&_[Q]||_[Hi]?.dirty)}function Is(_){_[ft].changeDetectionScheduler?.notify(8),64&_[Q]&&(_[Q]|=1024),so(_)&&lo(_)}function lo(_){_[ft].changeDetectionScheduler?.notify(0);let P=Gi(_);for(;null!==P&&!(8192&P[Q])&&(P[Q]|=8192,Ho(P));)P=Gi(P)}function zo(_,P){if(C(_))throw new De(911,!1);null===_[Ot]&&(_[Ot]=[]),_[Ot].push(P)}function Ko(_,P){if(null===_[Ot])return;const q=_[Ot].indexOf(P);-1!==q&&_[Ot].splice(q,1)}function Gi(_){const P=_[se];return Tt(P)?P[se]:P}function Go(_){return _[st]??=[]}function Ni(_){return _.cleanup??=[]}function uo(_,P,q,Ce){const Ne=Go(P);Ne.push(q),_.firstCreatePass&&Ni(_).push(Ce,Ne.length-1)}const At={lFrame:Ar(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jt=function(_){return _[_.Off=0]="Off",_[_.Exhaustive=1]="Exhaustive",_[_.OnlyDirtyViews=2]="OnlyDirtyViews",_}(Jt||{});let wi=0,Li=!1;function co(){return At.lFrame.elementDepthCount}function mo(){At.lFrame.elementDepthCount++}function qo(){At.lFrame.elementDepthCount--}function qi(){return At.bindingsEnabled}function Ms(){return null!==At.skipHydrationRootTNode}function po(_){return At.skipHydrationRootTNode===_}function Fi(){At.bindingsEnabled=!0}function Qo(){At.bindingsEnabled=!1}function ru(){At.skipHydrationRootTNode=null}function Qi(){return At.lFrame.lView}function To(){return At.lFrame.tView}function Xo(_){return At.lFrame.contextLView=_,_[Ct]}function Ao(_){return At.lFrame.contextLView=null,_}function So(){let _=Ea();for(;null!==_&&64===_.type;)_=_.parent;return _}function Ea(){return At.lFrame.currentTNode}function Io(){const _=At.lFrame,P=_.currentTNode;return _.isParent?P:P.parent}function k(_,P){const q=At.lFrame;q.currentTNode=_,q.isParent=P}function f(){return At.lFrame.isParent}function m(){At.lFrame.isParent=!1}function p(){return At.lFrame.contextLView}function b(){return Ue("Must never be called in production mode"),wi!==Jt.Off}function D(){return Ue("Must never be called in production mode"),wi===Jt.Exhaustive}function R(_){Ue("Must never be called in production mode"),wi=_}function L(){return Li}function H(_){const P=Li;return Li=_,P}function Y(){const _=At.lFrame;let P=_.bindingRootIndex;return-1===P&&(P=_.bindingRootIndex=_.tView.bindingStartIndex),P}function ae(){return At.lFrame.bindingIndex}function we(_){return At.lFrame.bindingIndex=_}function xe(){return At.lFrame.bindingIndex++}function He(_){const P=At.lFrame,q=P.bindingIndex;return P.bindingIndex=P.bindingIndex+_,q}function Oe(){return At.lFrame.inI18n}function Je(_){At.lFrame.inI18n=_}function Ze(_,P){const q=At.lFrame;q.bindingIndex=q.bindingRootIndex=_,xt(P)}function vt(){return At.lFrame.currentDirectiveIndex}function xt(_){At.lFrame.currentDirectiveIndex=_}function $t(_){const P=At.lFrame.currentDirectiveIndex;return-1===P?null:_[P]}function gt(){return At.lFrame.currentQueryIndex}function _t(_){At.lFrame.currentQueryIndex=_}function kn(_){const P=_[F];return 2===P.type?P.declTNode:1===P.type?_[je]:null}function Tr(_,P,q){if(4&q){let Ne=P,ot=_;for(;!(Ne=Ne.parent,null!==Ne||1&q||(Ne=kn(ot),null===Ne||(ot=ot[ir],10&Ne.type))););if(null===Ne)return!1;P=Ne,_=ot}const Ce=At.lFrame=Cn();return Ce.currentTNode=P,Ce.lView=_,!0}function vn(_){const P=Cn(),q=_[F];At.lFrame=P,P.currentTNode=q.firstChild,P.lView=_,P.tView=q,P.contextLView=_,P.bindingIndex=q.bindingStartIndex,P.inI18n=!1}function Cn(){const _=At.lFrame,P=null===_?null:_.child;return null===P?Ar(_):P}function Ar(_){const P={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:_,child:null,inI18n:!1};return null!==_&&(_.child=P),P}function ka(){const _=At.lFrame;return At.lFrame=_.parent,_.currentTNode=null,_.lView=null,_}const xs=ka;function au(){const _=ka();_.isParent=!0,_.tView=null,_.selectedIndex=-1,_.contextLView=null,_.elementDepthCount=0,_.currentDirectiveIndex=-1,_.currentNamespace=null,_.bindingRootIndex=-1,_.bindingIndex=-1,_.currentQueryIndex=0}function Js(_){return(At.lFrame.contextLView=Ua(_,At.lFrame.contextLView))[Ct]}function iu(){return At.lFrame.selectedIndex}function Rs(_){At.lFrame.selectedIndex=_}function Xt(){const _=At.lFrame;return Ft(_.tView,_.selectedIndex)}function Ei(){At.lFrame.currentNamespace=Xs}function Zs(){At.lFrame.currentNamespace=eu}function sa(){!function pr(){At.lFrame.currentNamespace=null}()}function el(){return At.lFrame.currentNamespace}let ho=!0;function Os(){return ho}function ou(_){ho=_}function su(_,P=null,q=null,Ce){const Ne=Ec(_,P,q,Ce);return Ne.resolveInjectorInitializers(),Ne}function Ec(_,P=null,q=null,Ce,Ne=new Set){const ot=[q||Gn,le(_)];return Ce=Ce||("object"==typeof _?void 0:ke(_)),new Ja(ot,P||wr(),Ce||null,Ne)}class Ps{static THROW_IF_NOT_FOUND=hn;static NULL=new ta;static create(P,q){if(Array.isArray(P))return su({name:""},q,P,"");{const Ce=P.name??"";return su({name:Ce},P.parent,P.providers,Ce)}}static \u0275prov=Fe({token:Ps,providedIn:"any",factory:()=>dr(_a)});static __NG_ELEMENT_ID__=-1}const lu=new an("");let tl=(()=>class _{static __NG_ELEMENT_ID__=kc;static __NG_ENV_ID__=q=>q})();class uu extends tl{_lView;constructor(P){super(),this._lView=P}get destroyed(){return C(this._lView)}onDestroy(P){const q=this._lView;return zo(q,P),()=>Ko(q,P)}}function kc(){return new uu(Qi())}class Yo{_console=console;handleError(P){this._console.error("ERROR",P)}}const ri=new an("",{providedIn:"root",factory:()=>{const _=ge(Lr);let P;return q=>{_.destroyed&&!P?setTimeout(()=>{throw q}):(P??=_.get(Yo),P.handleError(q))}}}),Jo={provide:rr,useValue:()=>{ge(Yo)},multi:!0};function Zo(_){return"function"==typeof _&&void 0!==_[ie.bh]}function Yd(_,P){const[q,Ce,Ne]=(0,ie.n5)(_,P?.equal),ot=q;return ot.set=Ce,ot.update=Ne,ot.asReadonly=Jd.bind(ot),ot}function Jd(){const _=this[ie.bh];if(void 0===_.readonlyFn){const P=()=>this();P[ie.bh]=_,_.readonlyFn=P}return _.readonlyFn}function nl(_){return Zo(_)&&"function"==typeof _.set}function rl(_,P){if(null!==(0,ie.nR)())throw new De(-602,!1)}let Zd=(()=>class _{view;node;constructor(q,Ce){this.view=q,this.node=Ce}static __NG_ELEMENT_ID__=em})();function em(){return new Zd(Qi(),So())}class al{}const ai=new an("",{providedIn:"root",factory:()=>!1}),Cc=new an("",{providedIn:"root",factory:()=>!1}),Mo=new an(""),Dc=new an("");let xo=(()=>{class _{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ve.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new he.c(q=>{q.next(!1),q.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const q=this.taskId++;return this.pendingTasks.add(q),q}has(q){return this.pendingTasks.has(q)}remove(q){this.pendingTasks.delete(q),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Fe({token:_,providedIn:"root",factory:()=>new _})}return _})(),il=(()=>{class _{internalPendingTasks=ge(xo);scheduler=ge(al);errorHandler=ge(ri);add(){const q=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(q)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(q))}}run(q){const Ce=this.add();q().catch(this.errorHandler).finally(Ce)}static \u0275prov=Fe({token:_,providedIn:"root",factory:()=>new _})}return _})();function Ns(..._){}let ol=(()=>{class _{static \u0275prov=Fe({token:_,providedIn:"root",factory:()=>new ii})}return _})();class ii{dirtyEffectCount=0;queues=new Map;add(P){this.enqueue(P),this.schedule(P)}schedule(P){P.dirty&&this.dirtyEffectCount++}remove(P){const Ce=this.queues.get(P.zone);Ce.has(P)&&(Ce.delete(P),P.dirty&&this.dirtyEffectCount--)}enqueue(P){const q=P.zone;this.queues.has(q)||this.queues.set(q,new Set);const Ce=this.queues.get(q);Ce.has(P)||Ce.add(P)}flush(){for(;this.dirtyEffectCount>0;){let P=!1;for(const[q,Ce]of this.queues)P||=null===q?this.flushQueue(Ce):q.run(()=>this.flushQueue(Ce));P||(this.dirtyEffectCount=0)}}flushQueue(P){let q=!1;for(const Ce of P)Ce.dirty&&(this.dirtyEffectCount--,q=!0,Ce.run());return q}}},3073:(it,Ee,V)=>{"use strict";V.d(Ee,{D:()=>pe});const{isArray:E}=Array,{getPrototypeOf:o,prototype:G,keys:O}=Object;function pe(z){if(1===z.length){const ie=z[0];if(E(ie))return{args:ie,keys:null};if(function Z(z){return z&&"object"==typeof z&&o(z)===G}(ie)){const ve=O(ie);return{args:ve.map(he=>ie[he]),keys:ve}}}return{args:z,keys:null}}},3077:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>G});var E=V(467),o=V(2615);let G=(()=>{class O{SESSION_ID="sessionId";constructor(){}load(Z){const z=localStorage.getItem(Z);return null!==z?JSON.parse(z):null}loadSessionId(){const Z=this.load(this.SESSION_ID);return null!==Z?Z:0}set(Z,z){localStorage.setItem(Z,z)}setSessionId(Z){this.set(this.SESSION_ID,Z.toString())}clear(Z){localStorage.removeItem(Z)}resetGame(){localStorage.clear(),location.reload()}loadFile(Z,z){var ie=this;return(0,E.A)(function*(){if(!Z)throw new Error("Enter a valid scenario number");const ve=String(Z).padStart(3,"0"),he=new URL(document.baseURI);he.hash="";const J=new URL(`scenarios/${ve}.json`,he);try{const ce=yield fetch(J.href,{cache:"no-store"});if(!ce.ok)throw new Error(`Failed to load file: ${ce.status} ${ce.statusText}`);const fe=yield ce.json();return ie.processScenarioData(fe,z)}catch(ce){throw console.error("Error loading file:",ce),new Error(`Error loading scenario ${Z}. Tried: ${J.pathname}`)}})()}processScenarioData(Z,z=1){return Z.rooms&&Z.rooms[0]&&Z.rooms[0].monster?Z.rooms[0].monster.map(ie=>({type:ie.name,level:z,isElite:"elite"===ie?.type||"elite"===ie?.player4,aggressive:!0})):[]}static \u0275fac=function(z){return new(z||O)};static \u0275prov=o.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},3242:(it,Ee,V)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});const E=V(1635),o=E.__importDefault(V(8666)),G=E.__importDefault(V(3608));class O{constructor(Z,{headers:z={},schema:ie,fetch:ve}={}){this.url=Z,this.headers=new Headers(z),this.schemaName=ie,this.fetch=ve}from(Z){const z=new URL(`${this.url}/${Z}`);return new o.default(z,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Z){return new O(this.url,{headers:this.headers,schema:Z,fetch:this.fetch})}rpc(Z,z={},{head:ie=!1,get:ve=!1,count:he}={}){var J;let ce;const fe=new URL(`${this.url}/rpc/${Z}`);let me;ie||ve?(ce=ie?"HEAD":"GET",Object.entries(z).filter(([Ge,Re])=>void 0!==Re).map(([Ge,Re])=>[Ge,Array.isArray(Re)?`{${Re.join(",")}}`:`${Re}`]).forEach(([Ge,Re])=>{fe.searchParams.append(Ge,Re)})):(ce="POST",me=z);const De=new Headers(this.headers);return he&&De.set("Prefer",`count=${he}`),new G.default({method:ce,url:fe,headers:De,schema:this.schemaName,body:me,fetch:null!==(J=this.fetch)&&void 0!==J?J:fetch})}}Ee.default=O},3342:(it,Ee,V)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});const o=V(1635).__importDefault(V(5958));Ee.default=class G extends o.default{select(pe){let Z=!1;const z=(pe??"*").split("").map(ie=>/\s/.test(ie)&&!Z?"":('"'===ie&&(Z=!Z),ie)).join("");return this.url.searchParams.set("select",z),this.headers.append("Prefer","return=representation"),this}order(pe,{ascending:Z=!0,nullsFirst:z,foreignTable:ie,referencedTable:ve=ie}={}){const he=ve?`${ve}.order`:"order",J=this.url.searchParams.get(he);return this.url.searchParams.set(he,`${J?`${J},`:""}${pe}.${Z?"asc":"desc"}${void 0===z?"":z?".nullsfirst":".nullslast"}`),this}limit(pe,{foreignTable:Z,referencedTable:z=Z}={}){return this.url.searchParams.set(typeof z>"u"?"limit":`${z}.limit`,`${pe}`),this}range(pe,Z,{foreignTable:z,referencedTable:ie=z}={}){const he=typeof ie>"u"?"limit":`${ie}.limit`;return this.url.searchParams.set(typeof ie>"u"?"offset":`${ie}.offset`,`${pe}`),this.url.searchParams.set(he,""+(Z-pe+1)),this}abortSignal(pe){return this.signal=pe,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:pe=!1,verbose:Z=!1,settings:z=!1,buffers:ie=!1,wal:ve=!1,format:he="text"}={}){var J;const ce=[pe?"analyze":null,Z?"verbose":null,z?"settings":null,ie?"buffers":null,ve?"wal":null].filter(Boolean).join("|"),fe=null!==(J=this.headers.get("Accept"))&&void 0!==J?J:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${he}; for="${fe}"; options=${ce};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(pe){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${pe}`),this}}},3494:(it,Ee,V)=>{"use strict";V.d(Ee,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3608:(it,Ee,V)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});const o=V(1635).__importDefault(V(3342)),G=new RegExp("[,()]");Ee.default=class O extends o.default{eq(Z,z){return this.url.searchParams.append(Z,`eq.${z}`),this}neq(Z,z){return this.url.searchParams.append(Z,`neq.${z}`),this}gt(Z,z){return this.url.searchParams.append(Z,`gt.${z}`),this}gte(Z,z){return this.url.searchParams.append(Z,`gte.${z}`),this}lt(Z,z){return this.url.searchParams.append(Z,`lt.${z}`),this}lte(Z,z){return this.url.searchParams.append(Z,`lte.${z}`),this}like(Z,z){return this.url.searchParams.append(Z,`like.${z}`),this}likeAllOf(Z,z){return this.url.searchParams.append(Z,`like(all).{${z.join(",")}}`),this}likeAnyOf(Z,z){return this.url.searchParams.append(Z,`like(any).{${z.join(",")}}`),this}ilike(Z,z){return this.url.searchParams.append(Z,`ilike.${z}`),this}ilikeAllOf(Z,z){return this.url.searchParams.append(Z,`ilike(all).{${z.join(",")}}`),this}ilikeAnyOf(Z,z){return this.url.searchParams.append(Z,`ilike(any).{${z.join(",")}}`),this}is(Z,z){return this.url.searchParams.append(Z,`is.${z}`),this}in(Z,z){const ie=Array.from(new Set(z)).map(ve=>"string"==typeof ve&&G.test(ve)?`"${ve}"`:`${ve}`).join(",");return this.url.searchParams.append(Z,`in.(${ie})`),this}contains(Z,z){return"string"==typeof z?this.url.searchParams.append(Z,`cs.${z}`):Array.isArray(z)?this.url.searchParams.append(Z,`cs.{${z.join(",")}}`):this.url.searchParams.append(Z,`cs.${JSON.stringify(z)}`),this}containedBy(Z,z){return"string"==typeof z?this.url.searchParams.append(Z,`cd.${z}`):Array.isArray(z)?this.url.searchParams.append(Z,`cd.{${z.join(",")}}`):this.url.searchParams.append(Z,`cd.${JSON.stringify(z)}`),this}rangeGt(Z,z){return this.url.searchParams.append(Z,`sr.${z}`),this}rangeGte(Z,z){return this.url.searchParams.append(Z,`nxl.${z}`),this}rangeLt(Z,z){return this.url.searchParams.append(Z,`sl.${z}`),this}rangeLte(Z,z){return this.url.searchParams.append(Z,`nxr.${z}`),this}rangeAdjacent(Z,z){return this.url.searchParams.append(Z,`adj.${z}`),this}overlaps(Z,z){return this.url.searchParams.append(Z,"string"==typeof z?`ov.${z}`:`ov.{${z.join(",")}}`),this}textSearch(Z,z,{config:ie,type:ve}={}){let he="";return"plain"===ve?he="pl":"phrase"===ve?he="ph":"websearch"===ve&&(he="w"),this.url.searchParams.append(Z,`${he}fts${void 0===ie?"":`(${ie})`}.${z}`),this}match(Z){return Object.entries(Z).forEach(([z,ie])=>{this.url.searchParams.append(z,`eq.${ie}`)}),this}not(Z,z,ie){return this.url.searchParams.append(Z,`not.${z}.${ie}`),this}or(Z,{foreignTable:z,referencedTable:ie=z}={}){return this.url.searchParams.append(ie?`${ie}.or`:"or",`(${Z})`),this}filter(Z,z,ie){return this.url.searchParams.append(Z,`${z}.${ie}`),this}}},3664:(it,Ee,V)=>{"use strict";V.d(Ee,{$C:()=>Tn,$Ln:()=>U_,AVh:()=>Uv,Ab1:()=>Se,Agw:()=>Bt,B4B:()=>Un,BIS:()=>yn,BMQ:()=>pv,C4Q:()=>ui,C5r:()=>W1,C7A:()=>C_,Co$:()=>lt,CsU:()=>xw,DH7:()=>T1,DNE:()=>ev,DUP:()=>os,DkB:()=>Mv,Dyx:()=>mb,E5c:()=>Wv,EFF:()=>u1,EJ8:()=>eo,Ef8:()=>ut,FsC:()=>Di,G5x:()=>Ef,GBs:()=>Hb,H1s:()=>z_,HbH:()=>e1,JRh:()=>$v,Jt5:()=>bb,Jv_:()=>M1,KED:()=>JC,Lme:()=>Hv,NCX:()=>ms,NSC:()=>yc,NYb:()=>Rw,OA$:()=>rn,OR8:()=>ws,Ocv:()=>kD,Ol2:()=>Vt,PLl:()=>Ct,PYt:()=>Ve,Ql9:()=>gD,R50:()=>zv,R7$:()=>Dm,RV6:()=>vb,SKi:()=>gn,SdI:()=>c0,SpI:()=>Vh,TFI:()=>bh,Ts$:()=>p0,UQu:()=>yD,V5L:()=>u0,VBU:()=>Ht,VeQ:()=>ir,Vt3:()=>Mt,VwU:()=>Pv,VzW:()=>kt,XpG:()=>Vb,Y8G:()=>kv,YEm:()=>je,Z7z:()=>db,Zhj:()=>oh,_9s:()=>Ip,_9u:()=>Te,_jY:()=>Qr,_qm:()=>Ga,_ys:()=>Cf,a8H:()=>pl,aKT:()=>nr,bH1:()=>It,bIt:()=>Ov,bMT:()=>$1,bVm:()=>Ud,bc$:()=>fn,bkB:()=>fo,c1b:()=>oc,cDI:()=>W0,cZr:()=>tg,cdK:()=>H_,czy:()=>as,d80:()=>_D,dOL:()=>B_,dfE:()=>tf,e6s:()=>ZE,eq3:()=>R1,eux:()=>Oh,gXe:()=>gt,giA:()=>V_,i5U:()=>H1,iLQ:()=>K_,j41:()=>Mh,k0s:()=>xh,kBR:()=>Iv,kS0:()=>no,lJT:()=>G_,l_i:()=>O1,lsd:()=>zb,mGM:()=>Wb,mal:()=>Fm,mxI:()=>Kv,n$t:()=>mu,nI1:()=>V1,nVh:()=>ub,nrm:()=>Dv,o8S:()=>_h,ozJ:()=>Es,phd:()=>Pw,pl0:()=>Nw,qex:()=>Ph,rXU:()=>Ol,rj2:()=>Rh,s1E:()=>N1,sFG:()=>Zu,sMw:()=>P1,sZ2:()=>Qe,sdS:()=>Kb,sgu:()=>s,uiO:()=>ht,utN:()=>Ed,vDg:()=>kd,vxM:()=>cb,w6W:()=>ct,wni:()=>$b,xGo:()=>Ma,xc7:()=>Bv,xe9:()=>h0,yLl:()=>$_,ypd:()=>Lw,zoo:()=>Bi});var E=V(467),o=V(2615),G=V(8440),O=V(1413),pe=V(8359),Z=V(6354);function z(e){return{toString:e}.toString()}const ie="__annotations__",ve="__parameters__",he="__prop__metadata__";function J(e,t,n,r,l){return z(()=>{const c=ce(t);function h(...v){if(this instanceof h)return c.call(this,...v),this;const g=new h(...v);return function(N){return l&&l(N,...v),(N.hasOwnProperty(ie)?N[ie]:Object.defineProperty(N,ie,{value:[]})[ie]).push(g),N}}return n&&(h.prototype=Object.create(n.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}function ce(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}function fe(e,t,n){return z(()=>{const r=ce(t);function l(...c){if(this instanceof l)return r.apply(this,c),this;const h=new l(...c);return v.annotation=h,v;function v(g,T,N){const K=g.hasOwnProperty(ve)?g[ve]:Object.defineProperty(g,ve,{value:[]})[ve];for(;K.length<=N;)K.push(null);return(K[N]=K[N]||[]).push(h),g}}return l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const De=(0,o.z6V)(fe("Inject",e=>({token:e})),-1),Ge=(0,o.z6V)(fe("Optional"),8),Re=(0,o.z6V)(fe("Self"),2),Ke=(0,o.z6V)(fe("SkipSelf"),4),rt=(0,o.z6V)(fe("Host"),1);function ht(e){const t=o.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ye={\u0275\u0275defineInjectable:o.jDH,\u0275\u0275defineInjector:o.G2t,\u0275\u0275inject:o.KVO,\u0275\u0275invalidFactoryDep:o.dmw,resolveForwardRef:o.nl4},Pe=Function;function ke(e){return"function"==typeof e}const qe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,$e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,at=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,St=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class tn{_reflect;constructor(t){this._reflect=t||o.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=(0,o.WfI)(typeof t>"u"?n.length:t.length);for(let l=0;l<r.length;l++)r[l]=typeof t>"u"?[]:t[l]&&t[l]!=Object?[t[l]]:[],n&&null!=n[l]&&(r[l]=r[l].concat(n[l]));return r}_ownParameters(t,n){if(function wt(e){return qe.test(e)||St.test(e)||$e.test(e)&&!at.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const l=t.ctorParameters;if(l&&l!==n.ctorParameters){const v="function"==typeof l?l():l,g=v.map(N=>N&&N.type),T=v.map(N=>N&&zt(N.decorators));return this._zipTypesAndAnnotations(g,T)}const c=t.hasOwnProperty(ve)&&t[ve],h=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return h||c?this._zipTypesAndAnnotations(h,c):(0,o.WfI)(t.length)}parameters(t){if(!ke(t))return[];const n=Gt(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?zt(t.decorators):t.hasOwnProperty(ie)?t[ie]:null}annotations(t){if(!ke(t))return[];const n=Gt(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,l={};return Object.keys(r).forEach(c=>{l[c]=zt(r[c])}),l}return t.hasOwnProperty(he)?t[he]:null}propMetadata(t){if(!ke(t))return{};const n=Gt(t),r={};if(n!==Object){const c=this.propMetadata(n);Object.keys(c).forEach(h=>{r[h]=c[h]})}const l=this._ownPropMetadata(t,n);return l&&Object.keys(l).forEach(c=>{const h=[];r.hasOwnProperty(c)&&h.push(...r[c]),h.push(...l[c]),r[c]=h}),r}ownPropMetadata(t){return ke(t)&&this._ownPropMetadata(t,Gt(t))||{}}hasLifecycleHook(t,n){return t instanceof Pe&&n in t.prototype}}function zt(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Gt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}class ln{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ln(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const rn=(()=>{const e=()=>Ir;return e.ngInherit=!0,e})();function Ir(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ae),pn}function pn(){const e=de(this),t=e?.current;if(t){const n=e.previous;if(n===o.MZA)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ae(e,t,n,r,l){const c=this.declaredInputs[r],h=de(e)||function ue(e,t){return e[te]=t}(e,{previous:o.MZA,current:null}),v=h.current||(h.current={}),g=h.previous,T=g[c];v[c]=new ln(T&&T.currentValue,n,g===o.MZA),Ln(e,t,l,n)}const te="__ngSimpleChanges__";function de(e){return e[te]||null}const _e=[],ut=function(e,t=null,n){for(let r=0;r<_e.length;r++)(0,_e[r])(e,t,n)};function mt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:v,ngAfterViewInit:g,ngAfterViewChecked:T,ngOnDestroy:N}=c;h&&(e.contentHooks??=[]).push(-n,h),v&&((e.contentHooks??=[]).push(n,v),(e.contentCheckHooks??=[]).push(n,v)),g&&(e.viewHooks??=[]).push(-n,g),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=N&&(e.destroyHooks??=[]).push(n,N)}}function Lt(e,t,n){We(e,t,3,n)}function be(e,t,n,r){(3&e[o.Wg1])===n&&We(e,t,n,r)}function Fe(e,t){let n=e[o.Wg1];(3&n)===t&&(n&=16383,n+=1,e[o.Wg1]=n)}function We(e,t,n,r){const c=r??-1,h=t.length-1;let v=0;for(let g=void 0!==r?65535&e[o.wVl]:0;g<h;g++)if("number"==typeof t[g+1]){if(v=t[g],null!=r&&v>=r)break}else t[g]<0&&(e[o.wVl]+=65536),(v<c||-1==c)&&(et(e,n,t,g),e[o.wVl]=(4294901760&e[o.wVl])+g+2),g++}function Et(e,t){ut(4,e,t);const n=(0,G.Ht)(null);try{t.call(e)}finally{(0,G.Ht)(n),ut(5,e,t)}}function et(e,t,n,r){const l=n[r]<0,c=n[r+1],v=e[l?-n[r]:n[r]];l?e[o.Wg1]>>14<e[o.wVl]>>16&&(3&e[o.Wg1])===t&&(e[o.Wg1]+=16384,Et(v,c)):Et(v,c)}const Zt=-1;class Kt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,l){this.factory=t,this.name=l,this.canSeeViewProviders=n,this.injectImpl=r}}function or(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function vr(e){return 3===e||4===e||6===e}function Zr(e){return 64===e.charCodeAt(0)}function $n(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||$a(e,n,l,0,-1===n||2===n?t[++r]:null)}}return e}function $a(e,t,n,r,l){let c=0,h=e.length;if(-1===t)h=-1;else for(;c<e.length;){const v=e[c++];if("number"==typeof v){if(v===t){h=-1;break}if(v>t){h=c-1;break}}}for(;c<e.length;){const v=e[c];if("number"==typeof v)break;if(v===n)return void(null!==l&&(e[c+1]=l));c++,null!==l&&c++}-1!==h&&(e.splice(h,0,t),c=h+1),e.splice(c++,0,n),null!==l&&e.splice(c++,0,l)}function Br(e){return e!==Zt}function sr(e){return 32767&e}function ma(e,t){let n=function Aa(e){return e>>16}(e),r=t;for(;n>0;)r=r[o.X5O],n--;return r}let pa=!0;function Hn(e){const t=pa;return pa=e,t}const On=255,Ur=5;let mi=0;const Pn={};function Mr(e,t){const n=hi(e,t);if(-1!==n)return n;const r=t[o.eDl];r.firstCreatePass&&(e.injectorIndex=t.length,pi(r.data,e),pi(t,null),pi(r.blueprint,null));const l=ha(e,t),c=e.injectorIndex;if(Br(l)){const h=sr(l),v=ma(l,t),g=v[o.eDl].data;for(let T=0;T<8;T++)t[c+T]=v[h+T]|g[h+T]}return t[c+8]=l,c}function pi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ha(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=ya(l),null===r)return Zt;if(n++,l=l[o.X5O],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zt}function lr(e,t,n){!function Wa(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(o.p9y)&&(r=n[o.p9y]),null==r&&(r=n[o.p9y]=mi++);const l=r&On;t.data[e+(l>>Ur)]|=1<<l}(e,t,n)}function ur(e,t,n){if(8&n||void 0!==e)return e;(0,o.$Hz)(t,"NodeInjector")}function cr(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const l=e[o.YEL],c=(0,o.a2B)(void 0);try{return l?l.get(t,r,8&n):(0,o.MzJ)(t,r,8&n)}finally{(0,o.a2B)(c)}}return ur(r,t,n)}function tr(e,t,n,r=0,l){if(null!==e){if(2048&t[o.Wg1]&&!(2&r)){const h=function fa(e,t,n,r,l){let c=e,h=t;for(;null!==c&&null!==h&&2048&h[o.Wg1]&&!(0,o.EFk)(h);){const v=gr(c,h,n,2|r,Pn);if(v!==Pn)return v;let g=c.parent;if(!g){const T=h[o.oMQ];if(T){const N=T.get(n,Pn,r);if(N!==Pn)return N}g=ya(h),h=h[o.X5O]}c=g}return l}(e,t,n,r,Pn);if(h!==Pn)return h}const c=gr(e,t,n,r,Pn);if(c!==Pn)return c}return cr(t,n,r,l)}function gr(e,t,n,r,l){const c=function fi(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(o.p9y)?e[o.p9y]:void 0;return"number"==typeof t?t>=0?t&On:Ia:t}(n);if("function"==typeof c){if(!(0,o.ihb)(t,e,r))return 1&r?ur(l,n,r):cr(t,n,r,l);try{let h;if(h=c(r),null!=h||8&r)return h;(0,o.$Hz)(n)}finally{(0,o.niQ)()}}else if("number"==typeof c){let h=null,v=hi(e,t),g=Zt,T=1&r?t[o.b5C][o.qlT]:null;for((-1===v||4&r)&&(g=-1===v?ha(e,t):t[v+8],g!==Zt&&za(r,!1)?(h=t[o.eDl],v=sr(g),t=ma(g,t)):v=-1);-1!==v;){const N=t[o.eDl];if(yi(c,v,N.data)){const K=Vr(v,t,n,h,r,T);if(K!==Pn)return K}g=t[v+8],g!==Zt&&za(r,t[o.eDl].data[v+8]===T)&&yi(c,v,t)?(h=N,v=sr(g),t=ma(g,t)):v=-1}}return l}function Vr(e,t,n,r,l,c){const h=t[o.eDl],v=h.data[e+8],N=xr(v,h,n,null==r?(0,o.Qs1)(v)&&pa:r!=h&&!!(3&v.type),1&l&&c===v);return null!==N?Rr(t,h,N,v,l):Pn}function xr(e,t,n,r,l){const c=e.providerIndexes,h=t.data,v=1048575&c,g=e.directiveStart,N=c>>20,ne=l?v+N:e.directiveEnd;for(let re=r?v:v+N;re<ne;re++){const Ie=h[re];if(re<g&&n===Ie||re>=g&&Ie.type===n)return re}if(l){const re=h[g];if(re&&(0,o.JlV)(re)&&re.type===n)return g}return null}function Rr(e,t,n,r,l){let c=e[n];const h=t.data;if(c instanceof Kt){const v=c;if(v.resolving){const re=(0,o.PP7)(h[n]);throw(0,o.PQT)(re)}const g=Hn(v.canSeeViewProviders);v.resolving=!0;const K=v.injectImpl?(0,o.a2B)(v.injectImpl):null;(0,o.ihb)(e,r,0);try{c=e[n]=v.factory(void 0,l,h,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Yt(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=t.type.prototype;if(r){const h=Ir(t);(n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h)}l&&(n.preOrderHooks??=[]).push(0-e,l),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}(n,h[n],t)}finally{null!==K&&(0,o.a2B)(K),Hn(g),v.resolving=!1,(0,o.niQ)()}}return c}function yi(e,t,n){return!!(n[t+(e>>Ur)]&1<<e)}function za(e,t){return!(2&e||1&e&&t)}class en{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tr(this._tNode,this._lView,t,(0,o.hjC)(r),n)}}function Ia(){return new en((0,o.Mx4)(),(0,o.OAn)())}function Ma(e){return z(()=>{const t=e.prototype.constructor,n=t[o.zSs]||zn(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const c=l[o.zSs]||zn(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function zn(e){return(0,o.Jzi)(e)?()=>{const t=zn((0,o.nl4)(e));return t&&t()}:(0,o.wGu)(e)}function ya(e){const t=e[o.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[o.qlT]:null}function no(e){return function Sa(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const c=n[l];if(vr(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(c===t)return n[l+1];l+=2}}}return null}((0,o.Mx4)(),e)}const hn=fe("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>no(e)}));let Ii=null;function Yn(e){return dr(function Ka(){return Ii=Ii||new tn}().parameters(e))}function dr(e){return e.map(t=>function vi(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const l=Object.getPrototypeOf(r);if(r instanceof Ge||"Optional"===l.ngMetadataName)t.optional=!0;else if(r instanceof Ke||"SkipSelf"===l.ngMetadataName)t.skipSelf=!0;else if(r instanceof Re||"Self"===l.ngMetadataName)t.self=!0;else if(r instanceof rt||"Host"===l.ngMetadataName)t.host=!0;else if(r instanceof De)t.token=r.token;else if(r instanceof hn){if(void 0===r.attributeName)throw new o.buA(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const Qt=(0,o.kLh)({provide:String,useValue:o.kLh});function va(e){return void 0!==e.useClass}function ea(e){return void 0!==e.useFactory}const Ga=J("Injectable",void 0,void 0,0,(e,t)=>function ge(e,t){let n=null,r=null;e.hasOwnProperty(o.yAH)||Object.defineProperty(e,o.yAH,{get:()=>(null===n&&(n=ht().compileInjectable(ye,`ng:///${e.name}/\u0275prov.js`,function _r(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(va(n)||ea(n))&&void 0!==n.deps&&(r.deps=dr(n.deps)),va(n)?r.useClass=n.useClass:function ga(e){return Qt in e}(n)?r.useValue=n.useValue:ea(n)?r.useFactory=n.useFactory:function Kn(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(o.zSs)||Object.defineProperty(e,o.zSs,{get:()=>{if(null===r){const l=ht();r=l.compileFactory(ye,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Yn(e),target:l.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function qa(){return br((0,o.Mx4)(),(0,o.OAn)())}function br(e,t){return new nr((0,o.d31)(e,t))}let nr=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=qa})();function xa(e){return e instanceof nr?e.nativeElement:e}function gi(){return this._results[Symbol.iterator]()}class Qa{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new O.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=(0,o.Bqz)(t);(this._changesDetected=!(0,o.ng7)(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gi}function Oa(e){return!(128&~e.flags)}var rr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rr||{});const _a=new Map;let Na=0;function La(e){_a.delete(e[o.ID])}const B="__ngContext__";function le(e,t){(0,o.q$2)(t)?(e[B]=t[o.ID],function Pr(e){_a.set(e[o.ID],e)}(t)):e[B]=t}function zr(e){return wr(e[o.EJG])}function ra(e){return wr(e[o.K29])}function wr(e){for(;null!==e&&!(0,o.A0l)(e);)e=e[o.K29];return e}let se;function Te(e){se=e}function je(){if(void 0!==se)return se;if(typeof document<"u")return document;throw new o.buA(210,!1)}const Qe=new o.nKC("",{providedIn:"root",factory:()=>st}),st="ng",Ct=new o.nKC(""),Bt=new o.nKC("",{providedIn:"platform",factory:()=>"unknown"}),fn=new o.nKC(""),yn=new o.nKC("",{providedIn:"root",factory:()=>je().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),cn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},ir=new o.nKC("",{providedIn:"root",factory:()=>cn});function Sn(){const e=new En;return e.store=function kr(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(je(),(0,o.WQX)(Qe)),e}let En=(()=>{class e{static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:Sn});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const Dr="r",bi="di",Eo=new o.nKC("",{providedIn:"root",factory:()=>!1}),M=new o.nKC(""),oe={passive:!0,capture:!0},yt=new WeakMap,Rt=new WeakMap,Zn=new WeakMap,Ba=["click","keydown"],ei=["mouseenter","mouseover","focusin"];let qr=null,Wi=0;class ko{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function zi(e,t){let n=Rt.get(e);if(!n){n=new ko,Rt.set(e,n);for(const r of Ba)e.addEventListener(r,n.listener,oe)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){Rt.delete(e);for(const c of Ba)e.removeEventListener(c,l,oe)}}}function As(e,t){let n=yt.get(e);if(!n){n=new ko,yt.set(e,n);for(const r of ei)e.addEventListener(r,n.listener,oe)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){for(const c of ei)e.removeEventListener(c,l,oe);yt.delete(e)}}}let Do=(e,t,n,r)=>{};const oa=new o.nKC("");function ni(e){return!(32&~e.flags)}let so=()=>null;function zo(e,t,n=!1){return so(e,t,n)}function Ko(e){let t=e._lView;return 2===t[o.eDl].type?null:((0,o.EFk)(t)&&(t=t[o.Yw1]),t)}function po(e){return e.get(M,!1,{optional:!0})}function vt(e,t){const n=e.contentQueries;if(null!==n){const r=(0,G.Ht)(null);try{for(let l=0;l<n.length;l+=2){const h=n[l+1];if(-1!==h){const v=e.data[h];(0,o.GA0)(n[l]),v.contentQueries(2,t[h],h)}}}finally{(0,G.Ht)(r)}}}function xt(e,t,n){(0,o.GA0)(0);const r=(0,G.Ht)(null);try{t(e,n)}finally{(0,G.Ht)(r)}}function $t(e,t,n){if((0,o.srX)(t)){const r=(0,G.Ht)(null);try{const c=t.directiveEnd;for(let h=t.directiveStart;h<c;h++){const v=e.data[h];v.contentQueries&&v.contentQueries(1,n[h],h)}}finally{(0,G.Ht)(r)}}}var gt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gt||{});let _t,Cn;function kn(){if(void 0===_t&&(_t=null,o.laP.trustedTypes))try{_t=o.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _t}function Tr(e){return kn()?.createHTML(e)||e}function Ar(){if(void 0===Cn&&(Cn=null,o.laP.trustedTypes))try{Cn=o.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cn}function ka(e){return Ar()?.createHTML(e)||e}function xs(e){return Ar()?.createScript(e)||e}function au(e){return Ar()?.createScriptURL(e)||e}class Js{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${o.ok8})`}}function sa(e){return e instanceof Js?e.changingThisBreaksApplicationSecurity:e}function pr(e,t){const n=function el(e){return e instanceof Js&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${o.ok8})`)}return n===t}function Ps(e){const t=new tl(e);return function uu(){try{return!!(new window.DOMParser).parseFromString(Tr(""),"text/html")}catch{return!1}}()?new lu(t):t}class lu{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Tr(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class tl{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Tr(t),n}}const kc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yo(e){return(e=String(e)).match(kc)?e:"unsafe:"+e}function ri(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Jo(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const cu=ri("area,br,col,hr,img,wbr"),Xd=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zo=ri("rp,rt"),nl=Jo(cu,Jo(Xd,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jo(Zo,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jo(Zo,Xd)),rl=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),al=Jo(rl,ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=ri("script,style,template");class Cc{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)l.push(n),n=xo(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=Dc(n);if(c){n=c;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=il(t).toLowerCase();if(!nl.hasOwnProperty(n))return this.sanitizedSomething=!0,!ai.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const c=r.item(l),h=c.name,v=h.toLowerCase();if(!al.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let g=c.value;rl[v]&&(g=Yo(g)),this.buf.push(" ",h,'="',_(g),'"')}return this.buf.push(">"),!0}endElement(t){const n=il(t).toLowerCase();nl.hasOwnProperty(n)&&!cu.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_(t))}}function Dc(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Ns(t);return t}function xo(e){const t=e.firstChild;if(t&&function Mo(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Ns(t);return t}function il(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Ns(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const ol=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ii=/([^\#-~ |!])/g;function _(e){return e.replace(/&/g,"&amp;").replace(ol,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ii,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P;function Ce(e){return"content"in e&&function Ne(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ot=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ot||{});function Un(e){const t=pu();return t?t.sanitize(ot.URL,e)||"":pr(e,"URL")?sa(e):Yo((0,o.eFE)(e))}function xn(e){const t=pu();if(t)return au(t.sanitize(ot.RESOURCE_URL,e)||"");if(pr(e,"ResourceURL"))return au(sa(e));throw new o.buA(904,!1)}function mu(e,t,n){return function Gh(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?xn:Un}(t,n)(e)}function pu(){const e=(0,o.OAn)();return e&&e[o.M0L].sanitizer}const rm=/^>|^->|<!--|-->|--!>|<!-$/g,Ac=/(<|>)/g;function oi(e){return e instanceof Function?e():e}function tf(e){if(function nf(e){if(!(0,o.xUg)(e))throw new o.buA(906,`The ${(0,o.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(e),!(0,o.xUg)(e).standalone)throw new o.buA(907,`The ${(0,o.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,o.PP7)(e)} component has the \`standalone: true\` flag in the decorator.`)}function rf(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const c=t.length;if(l+c===r||e.charCodeAt(l+c)<=32)return l}n=l+1}}const hm="ng-template";function af(e,t,n,r){let l=0;if(r){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==rf(t[l+1].toLowerCase(),n,0))return!0}else if(yu(e))return!1;if(l=t.indexOf(1,l),l>-1){let c;for(;++l<t.length&&"string"==typeof(c=t[l]);)if(c.toLowerCase()===n)return!0}return!1}function yu(e){return 4===e.type&&e.value!==hm}function sf(e,t,n){return t===(4!==e.type||n?e.value:hm)}function Ic(e,t,n){let r=4;const l=e.attrs,c=null!==l?function uf(e){for(let t=0;t<e.length;t++)if(vr(e[t]))return t;return e.length}(l):0;let h=!1;for(let v=0;v<t.length;v++){const g=t[v];if("number"!=typeof g){if(!h)if(4&r){if(r=2|1&r,""!==g&&!sf(e,g,n)||""===g&&1===t.length){if(si(r))return!1;h=!0}}else if(8&r){if(null===l||!af(e,l,g,n)){if(si(r))return!1;h=!0}}else{const T=t[++v],N=js(g,l,yu(e),n);if(-1===N){if(si(r))return!1;h=!0;continue}if(""!==T){let K;if(K=N>c?"":l[N+1].toLowerCase(),2&r&&T!==K){if(si(r))return!1;h=!0}}}}else{if(!h&&!si(r)&&!si(g))return!1;if(h&&si(g))continue;h=!1,r=g|1&r}}return si(r)||h}function si(e){return!(1&e)}function js(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let c=!1;for(;l<t.length;){const h=t[l];if(h===e)return l;if(3===h||6===h)c=!0;else{if(1===h||2===h){let v=t[++l];for(;"string"==typeof v;)v=t[++l];continue}if(4===h)break;if(0===h){l+=4;continue}}l+=c?1:2}return-1}return function cf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fm(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ic(e,t[r],n))return!0;return!1}function Mc(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function ym(e,t){return e?":not("+t.trim()+")":t}function vm(e){let t=e[0],n=1,r=2,l="",c=!1;for(;n<e.length;){let h=e[n];if("string"==typeof h)if(2&r){const v=e[++n];l+="["+h+(v.length>0?'="'+v+'"':"")+"]"}else 8&r?l+="."+h:4&r&&(l+=" "+h);else""!==l&&!si(h)&&(t+=ym(c,l),l=""),r=h,c=c||!si(r);n++}return""!==l&&(t+=ym(c,l)),t}const wn={};function xc(e,t){return e.createText(t)}function _m(e,t,n){e.setValue(t,n)}function Rc(e,t){return e.createComment(function Ls(e){return e.replace(rm,t=>t.replace(Ac,"\u200b$1\u200b"))}(t))}function ns(e,t,n){return e.createElement(t,n)}function rs(e,t,n,r,l){e.insertBefore(t,n,r,l)}function bm(e,t,n){e.appendChild(t,n)}function wm(e,t,n,r,l){null!==r?rs(e,t,n,r,l):bm(e,t,n)}function ll(e,t,n,r){e.removeChild(null,t,n,r)}function Oc(e,t,n){const{mergedAttrs:r,classes:l,styles:c}=n;null!==r&&function on(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const c=n[r++],h=n[r++],v=n[r++];e.setAttribute(t,h,v,c)}else{const c=l,h=n[++r];Zr(c)?e.setProperty(t,c,h):e.setAttribute(t,c,h),r++}}}(e,t,r),null!==l&&function pf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,l),null!==c&&function mf(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function km(e,t,n,r,l,c,h,v,g,T,N){const K=o.Yw1+r,ne=K+l,re=function Cm(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:wn);return n}(K,ne),Ie="function"==typeof T?T():T;return re[o.eDl]={type:e,blueprint:re,template:n,queries:null,viewQuery:v,declTNode:t,data:re.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:g,consts:Ie,incompleteFirstPass:!1,ssrId:N}}function Pc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=km(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function vu(e,t,n,r,l,c,h,v,g,T,N){const K=t.blueprint.slice();return K[o.jgP]=l,K[o.Wg1]=1228|r,(null!==T||e&&2048&e[o.Wg1])&&(K[o.Wg1]|=2048),(0,o.HUe)(K),K[o.f7T]=K[o.X5O]=e,K[o.SKP]=n,K[o.M0L]=h||e&&e[o.M0L],K[o.GpT]=v||e&&e[o.GpT],K[o.YEL]=g||e&&e[o.YEL]||null,K[o.qlT]=c,K[o.ID]=function ta(){return Na++}(),K[o.tcA]=N,K[o.oMQ]=T,K[o.b5C]=2==t.type?e[o.b5C]:K,K}function gu(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ul(e,t,n,r){if(0===n)return-1;const l=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function Nc(e,t){return e[o.EJG]?e[o.Yrj][o.K29]=t:e[o.EJG]=t,e[o.Yrj]=t,t}function Dm(e=1){_u((0,o.klJ)(),(0,o.OAn)(),(0,o._px)()+e,!1)}function _u(e,t,n,r){if(!r)if(3&~t[o.Wg1]){const c=e.preOrderHooks;null!==c&&be(t,c,0,n)}else{const c=e.preOrderCheckHooks;null!==c&&Lt(t,c,n)}(0,o.ypq)(n)}var cl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cl||{});function dl(e,t,n,r){const l=(0,G.Ht)(null);try{const[c,h,v]=e.inputs[n];let g=null;0!==(h&cl.SignalBased)&&(g=t[c][G.bh]),null!==g&&void 0!==g.transformFn?r=g.transformFn(r):null!==v&&(r=v.call(t,r)),null!==e.setInput?e.setInput(t,g,r,n,c):Ln(t,g,c,r)}finally{(0,G.Ht)(l)}}var as=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(as||{});let ml;function bu(e,t){return ml(e,t)}function wu(e){if(!e)return 0;const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function is(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function Am(e,t){return void 0!==e&&e.duration>t.duration}function Sm(e){return(null!=e.animationName||null!=e.propertyName)&&e.duration>0}function vf(e,t,n){if(!n)return;const r=e.getAnimations();return 0===r.length?function yf(e,t){const n=getComputedStyle(e),r=function Lc(e){const t=is(e,"animation-name"),n=is(e,"animation-delay"),r=is(e,"animation-duration"),l={animationName:"",propertyName:void 0,duration:0};for(let c=0;c<t.length;c++){const h=wu(n[c])+wu(r[c]);h>l.duration&&(l.animationName=t[c],l.duration=h)}return l}(n),l=function Tm(e){const t=is(e,"transition-property"),n=is(e,"transition-duration"),r=is(e,"transition-delay"),l={propertyName:"",duration:0,animationName:void 0};for(let c=0;c<t.length;c++){const h=wu(r[c])+wu(n[c]);h>l.duration&&(l.propertyName=t[c],l.duration=h)}return l}(n),c=r.duration>l.duration?r:l;Am(t.get(e),c)||Sm(c)&&t.set(e,c)}(e,t):function gf(e,t,n){let r={animationName:void 0,propertyName:void 0,duration:0};for(const l of n){const c=l.effect?.getTiming(),h="number"==typeof c?.duration?c.duration:0;let g,T,v=(c?.delay??0)+h;l.animationName?T=l.animationName:g=l.transitionProperty,v>=r.duration&&(r={animationName:T,propertyName:g,duration:v})}Am(t.get(e),r)||Sm(r)&&t.set(e,r)}(e,t,r)}const os=new Set;var Fc=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Fc||{});const pl=new o.nKC(""),Im=new Set;function Qr(e){Im.has(e)||(Im.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}const Mm=!1,fo=class xm extends O.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,(0,o.M6u)()&&(this.destroyRef=(0,o.WQX)(o.abz,{optional:!0})??void 0,this.pendingTasks=(0,o.WQX)(o.rev,{optional:!0})??void 0)}emit(t){const n=(0,G.Ht)(null);try{super.next(t)}finally{(0,G.Ht)(n)}}subscribe(t,n,r){let l=t,c=n||(()=>null),h=r;if(t&&"object"==typeof t){const g=t;l=g.next?.bind(g),c=g.error?.bind(g),h=g.complete?.bind(g)}this.__isAsync&&(c=this.wrapInTimeout(c),l&&(l=this.wrapInTimeout(l)),h&&(h=this.wrapInTimeout(h)));const v=super.subscribe({next:l,error:c,complete:h});return t instanceof pe.yU&&t.add(v),v}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Rm(e){let t,n;function r(){e=o.lQ1;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Om(e){return queueMicrotask(()=>e()),()=>{e=o.lQ1}}const Xi="isAngularZone",Eu=Xi+"_ID";let Pm=0;class gn{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fo(!1);onMicrotaskEmpty=new fo(!1);onStable=new fo(!1);onError=new fo(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:c=Mm}=t;if(typeof Zone>"u")throw new o.buA(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&r,h.shouldCoalesceRunChangeDetection=l,h.callbackScheduled=!1,h.scheduleInRootZone=c,function vg(e){const t=()=>{!function bf(e){function t(){Rm(()=>{e.callbackScheduled=!1,Nm(e),e.isCheckStableRunning=!0,jc(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Nm(e))}(e)},n=Pm++;e._inner=e._inner.fork({name:"angular",properties:{[Xi]:!0,[Eu]:n,[Eu+n]:!0},onInvokeTask:(r,l,c,h,v,g)=>{if(function gg(e){return wf(e,"__ignore_ng_zone__")}(g))return r.invokeTask(c,h,v,g);try{return Lm(e),r.invokeTask(c,h,v,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),ku(e)}},onInvoke:(r,l,c,h,v,g,T)=>{try{return Lm(e),r.invoke(c,h,v,g,T)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function _g(e){return wf(e,"__scheduler_tick__")}(g)&&t(),ku(e)}},onHasTask:(r,l,c,h)=>{r.hasTask(c,h),l===c&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,Nm(e),jc(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,l,c,h)=>(r.handleError(c,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Xi)}static assertInAngularZone(){if(!gn.isInAngularZone())throw new o.buA(909,!1)}static assertNotInAngularZone(){if(gn.isInAngularZone())throw new o.buA(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+l,t,_f,o.lQ1,o.lQ1);try{return c.runTask(h,n,r)}finally{c.cancelTask(h)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const _f={};function jc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Lm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ku(e){e._nesting--,jc(e)}class Cu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fo;onMicrotaskEmpty=new fo;onStable=new fo;onError=new fo;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}function wf(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}function Ef(e="zone.js",t){return"noop"===e?new Cu:"zone.js"===e?new gn(t):e}let Bc=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const Bi=[0,1,2,3];let kf=(()=>{class e{ngZone=(0,o.WQX)(gn);scheduler=(0,o.WQX)(o.hk6);errorHandler=(0,o.WQX)(o.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,o.WQX)(pl,{optional:!0})}execute(){const n=this.sequences.size>0;n&&ut(16),this.executing=!0;for(const r of Bi)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[r])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[r])(l.pipelinedValue),l.snapshot))}catch(c){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ut(17)}register(n){const{view:r}=n;void 0!==r?((r[o.JEi]??=[]).push(n),(0,o.blu)(r),r[o.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Fc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class Cf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,l,c,h=null){this.impl=t,this.hooks=n,this.view=r,this.once=l,this.snapshot=h,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[o.JEi];t&&(this.view[o.JEi]=t.filter(n=>n!==this))}}function Fm(e,t){const n=t?.injector??(0,o.WQX)(o.zZn);return Qr("NgAfterNextRender"),Uc(e,n,t,!0)}function Uc(e,t,n,r){const l=t.get(Bc);l.impl??=t.get(kf);const c=t.get(pl,null,{optional:!0}),h=!0!==n?.manualCleanup?t.get(o.abz):null,v=t.get(o.r4V,null,{optional:!0}),g=new Cf(l.impl,function jm(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),v?.view,r,h,c?.snapshot(null));return l.impl.register(g),g}const Du=new o.nKC("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Um(e,t,n){const r=e.get(Du);if(Array.isArray(t))for(const l of t)r.queue.add(l),n?.detachedLeaveAnimationFns?.push(l);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function Vm(e){const t=e.get(Du);t.isScheduled||(Fm(()=>{t.isScheduled=!1;for(let n of t.queue)n();t.queue.clear()},{injector:e}),t.isScheduled=!0)}function Vc(e){const t=e.get(Du);t.scheduler=Vm,t.scheduler(e)}function $m(e,t){for(const[n,r]of t)Um(e,r.animateFns)}function Hm(e,t,n,r){const l=e?.[o.Isx]?.enter;null!==t&&l&&l.has(n.index)&&$m(r,l)}function hl(e,t,n,r,l,c,h,v){if(null!=l){let g,T=!1;(0,o.A0l)(l)?g=l:(0,o.q$2)(l)&&(T=!0,l=l[o.jgP]);const N=(0,o.IvY)(l);0===e&&null!==r?(Hm(v,r,c,n),null==h?bm(t,r,N):rs(t,r,N,h||null,!0)):1===e&&null!==r?(Hm(v,r,c,n),rs(t,r,N,h||null,!0)):2===e?Af(v,c,n,K=>{ll(t,N,T,K)}):3===e&&Af(v,c,n,()=>{t.destroyNode(N)}),null!=g&&function Xm(e,t,n,r,l,c,h){const v=r[o.s6P];v!==(0,o.IvY)(r)&&hl(t,e,n,c,v,l,h);for(let T=o.Y20;T<r.length;T++){const N=r[T];zc(N[o.eDl],N,e,t,c,v)}}(t,e,n,g,c,r,h)}}function Df(e,t){Tf(e,t),t[o.jgP]=null,t[o.qlT]=null}function Tf(e,t){t[o.M0L].changeDetectionScheduler?.notify(9),zc(e,t,t[o.GpT],2,null,null)}function Wm(e,t){const n=e[o.nfM],r=n.indexOf(t);n.splice(r,1)}function Tu(e,t){if((0,o.EPY)(t))return;const n=t[o.GpT];n.destroyNode&&zc(e,t,n,3,null,null),function kg(e){let t=e[o.EJG];if(!t)return zm(e[o.eDl],e);for(;t;){let n=null;if((0,o.q$2)(t))n=t[o.EJG];else{const r=t[o.Y20];r&&(n=r)}if(!n){for(;t&&!t[o.K29]&&t!==e;)(0,o.q$2)(t)&&zm(t[o.eDl],t),t=t[o.f7T];null===t&&(t=e),(0,o.q$2)(t)&&zm(t[o.eDl],t),n=t&&t[o.K29]}t=n}}(t)}function zm(e,t){if((0,o.EPY)(t))return;const n=(0,G.Ht)(null);try{t[o.Wg1]&=-129,t[o.Wg1]|=256,t[o.Iaj]&&(0,G.XR)(t[o.Iaj]),function Tg(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof Kt)){const c=n[r+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const v=l[c[h]],g=c[h+1];ut(4,v,g);try{g.call(v)}finally{ut(5,v,g)}}else{ut(4,l,c);try{c.call(l)}finally{ut(5,l,c)}}}}}(e,t),function Dg(e,t){const n=e.cleanup,r=t[o.VVG];if(null!==n)for(let h=0;h<n.length-1;h+=2)if("string"==typeof n[h]){const v=n[h+3];v>=0?r[v]():r[-v].unsubscribe(),h+=2}else n[h].call(r[n[h+1]]);null!==r&&(t[o.VVG]=null);const l=t[o.Czx];if(null!==l){t[o.Czx]=null;for(let h=0;h<l.length;h++)(0,l[h])()}const c=t[o.tQN];if(null!==c){t[o.tQN]=null;for(const h of c)h.destroy()}}(e,t),1===t[o.eDl].type&&t[o.GpT].destroy();const r=t[o.rQE];if(null!==r&&(0,o.A0l)(t[o.f7T])){r!==t[o.f7T]&&Wm(r,t);const l=t[o.Ds7];null!==l&&l.detachView(e)}La(t)}finally{(0,G.Ht)(n)}}function Af(e,t,n,r){const l=e?.[o.Isx];if(null==l||null==l.leave||!l.leave.has(t.index))return r(!1);e&&os.add(e),Um(n,()=>{if(l.leave&&l.leave.has(t.index)){const h=l.leave.get(t.index),v=[];if(h){for(let g=0;g<h.animateFns.length;g++){const T=h.animateFns[g],{promise:N}=T();v.push(N)}l.detachedLeaveAnimationFns=void 0}l.running=Promise.allSettled(v),function Cg(e,t){const n=e[o.Isx]?.running;n?n.then(()=>{e[o.Isx].running=void 0,os.delete(e),t(!0)}):t(!1)}(e,r)}else e&&os.delete(e),r(!1)},l)}function Au(e,t,n){return Sf(e,t.parent,n)}function Sf(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[o.jgP];if((0,o.Qs1)(r)){const{encapsulation:l}=e.data[r.directiveStart+r.componentOffset];if(l===gt.None||l===gt.Emulated)return null}return(0,o.d31)(r,n)}function Km(e,t,n){return If(e,t,n)}function Gm(e,t,n){return 40&e.type?(0,o.d31)(e,n):null}let $c,If=Gm;function Hc(e,t){If=e,$c=t}function Wc(e,t,n,r){const l=Au(e,r,t),c=t[o.GpT],v=Km(r.parent||t[o.qlT],r,t);if(null!=l)if(Array.isArray(n))for(let g=0;g<n.length;g++)wm(c,l,n[g],v,!1);else wm(c,l,n,v,!1);void 0!==$c&&$c(c,r,t,n,l)}function ss(e,t){if(null!==t){const n=t.type;if(3&n)return(0,o.d31)(t,e);if(4&n)return ki(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ss(e,r);{const l=e[t.index];return(0,o.A0l)(l)?ki(-1,l):(0,o.IvY)(l)}}if(128&n)return ss(e,t.next);if(32&n)return bu(t,e)()||(0,o.IvY)(e[t.index]);{const r=Pt(e,t);return null!==r?Array.isArray(r)?r[0]:ss((0,o._0$)(e[o.b5C]),r):ss(e,t.next)}}return null}function Pt(e,t){return null!==t?e[o.b5C][o.qlT].projection[t.projection]:null}function ki(e,t){const n=o.Y20+e+1;if(n<t.length){const r=t[n],l=r[o.eDl].firstChild;if(null!==l)return ss(r,l)}return t[o.s6P]}function qm(e,t,n,r,l,c,h){for(;null!=n;){const v=r[o.YEL];if(128===n.type){n=n.next;continue}const g=r[n.index],T=n.type;if(h&&0===t&&(g&&le((0,o.IvY)(g),r),n.flags|=2),!ni(n))if(8&T)qm(e,t,n.child,r,l,c,!1),hl(t,e,v,l,g,n,c,r);else if(32&T){const N=bu(n,r);let K;for(;K=N();)hl(t,e,v,l,K,n,c,r);hl(t,e,v,l,g,n,c,r)}else 16&T?Qm(e,t,r,n,l,c):hl(t,e,v,l,g,n,c,r);n=h?n.projectionNext:n.next}}function zc(e,t,n,r,l,c){qm(n,r,e.firstChild,t,l,c,!1)}function Qm(e,t,n,r,l,c){const h=n[o.b5C],g=h[o.qlT].projection[r.projection];if(Array.isArray(g))for(let T=0;T<g.length;T++)hl(t,e,n[o.YEL],l,g[T],r,c,n);else{let T=g;const N=h[o.f7T];Oa(r)&&(T.flags|=128),qm(e,t,T,N,l,c,!0)}}function Mf(e,t,n,r,l){const c=(0,o._px)(),h=2&r;try{(0,o.ypq)(-1),h&&t.length>o.Yw1&&_u(e,t,o.Yw1,!1),ut(h?2:0,l,n),n(r,l)}finally{(0,o.ypq)(c),ut(h?3:1,l,n)}}function Kc(e,t,n){(function Rf(e,t,n){const r=n.directiveStart,l=n.directiveEnd;(0,o.Qs1)(n)&&function hf(e,t,n){const r=(0,o.d31)(t,e),l=Pc(n),c=e[o.M0L].rendererFactory,h=Nc(e,vu(e,l,null,gu(n),r,t,null,c.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Mr(n,t);const c=n.initialInputs;for(let h=r;h<l;h++){const v=e.data[h],g=Rr(t,e,h,n);le(g,t),null!==c&&Lf(0,h-r,g,v,0,c),(0,o.JlV)(v)&&((0,o.KdJ)(n.index,t)[o.SKP]=Rr(t,e,h,n))}})(e,t,n),!(64&~n.flags)&&function Of(e,t,n){const r=n.directiveStart,l=n.directiveEnd,c=n.index,h=(0,o.Z9v)();try{(0,o.ypq)(c);for(let v=r;v<l;v++){const g=e.data[v],T=t[v];(0,o.RZ9)(v),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&Pf(g,T)}}finally{(0,o.ypq)(-1),(0,o.RZ9)(h)}}(e,t,n)}function fl(e,t,n=o.d31){const r=t.localNames;if(null!==r){let l=t.index+1;for(let c=0;c<r.length;c+=2){const h=r[c+1],v=-1===h?n(t,e):e[h];e[l++]=v}}}let xf=()=>null;function yl(e,t,n,r,l,c){Ru(e,t[o.eDl],t,n,r)?(0,o.Qs1)(e)&&Gc(t,e.index):(3&e.type&&(n=function Ym(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),Jm(e,t,n,r,l,c))}function Jm(e,t,n,r,l,c){if(3&e.type){const h=(0,o.d31)(e,t);r=null!=c?c(r,e.value||"",n):r,l.setProperty(h,n,r)}}function Gc(e,t){const n=(0,o.KdJ)(t,e);16&n[o.Wg1]||(n[o.Wg1]|=64)}function Pf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qc(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];fm(t,c.selectors,!1)&&(r??=[],(0,o.JlV)(c)?r.unshift(c):r.push(c))}return r}function Iu(e,t,n,r,l,c,h){if(null==c)e.removeAttribute(t,l,n);else{const v=null==h?(0,o.eFE)(c):h(c,r||"",l);e.setAttribute(t,l,v,n)}}function Lf(e,t,n,r,l,c){const h=c[t];if(null!==h)for(let v=0;v<h.length;v+=2)dl(r,n,h[v],h[v+1])}function Mu(e,t,n,r,l){const c=o.Yw1+n,h=t[o.eDl],v=l(h,t,e,r,n);t[c]=v,(0,o.iMd)(e,!0);const g=2===e.type;return g?(Oc(t[o.GpT],v,e),(0===(0,o.znI)()||(0,o.yoD)(e))&&le(v,t),(0,o.Fje)()):le(v,t),(0,o.SX7)()&&(!g||!ni(e))&&Wc(h,t,v,e),e}function xu(e){let t=e;return(0,o.YWB)()?(0,o.Pfq)():(t=t.parent,(0,o.iMd)(t,!1)),t}function ep(e,t,n){return(null===e||(0,o.JlV)(e))&&(n=(0,o.zAe)(n[t.index])),n[o.GpT]}function Qc(e,t){const n=e[o.YEL];if(!n)return;let r;try{r=n.get(o.ZTf,null)}catch{r=null}r?.(t)}function Ru(e,t,n,r,l){const c=e.inputs?.[r],h=e.hostDirectiveInputs?.[r];let v=!1;if(h)for(let g=0;g<h.length;g+=2){const T=h[g];dl(t.data[T],n[T],h[g+1],l),v=!0}if(c)for(const g of c)dl(t.data[g],n[g],r,l),v=!0;return v}function jf(e,t){const n=(0,o.KdJ)(t,e),r=n[o.eDl];!function Bf(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[o.jgP];null!==l&&null===n[o.tcA]&&(n[o.tcA]=zo(l,n[o.YEL])),ut(18),Ou(r,n,n[o.SKP]),ut(19,n[o.SKP])}function Ou(e,t,n){(0,o.ID8)(t);try{const r=e.viewQuery;null!==r&&xt(1,r,n);const l=e.template;null!==l&&Mf(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[o.Ds7]?.finishViewCreation(e),e.staticContentQueries&&vt(e,t),e.staticViewQueries&&xt(2,e.viewQuery,n);const c=e.components;null!==c&&function Pg(e,t){for(let n=0;n<t.length;n++)jf(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[o.Wg1]&=-5,(0,o.bll)()}}function vl(e,t,n,r){const l=(0,G.Ht)(null);try{const c=t.tView,g=vu(e,c,n,4096&e[o.Wg1]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);g[o.rQE]=e[t.index];const N=e[o.Ds7];return null!==N&&(g[o.Ds7]=N.createEmbeddedView(c)),Ou(c,g,n),g}finally{(0,G.Ht)(l)}}function ls(e,t){return!t||null===t.firstChild||Oa(e)}function gl(e,t,n,r,l=!1){for(;null!==n;){if(128===n.type){n=l?n.projectionNext:n.next;continue}const c=t[n.index];null!==c&&r.push((0,o.IvY)(c)),(0,o.A0l)(c)&&Uf(c,r);const h=n.type;if(8&h)gl(e,t,n.child,r);else if(32&h){const v=bu(n,t);let g;for(;g=v();)r.push(g)}else if(16&h){const v=Pt(t,n);if(Array.isArray(v))r.push(...v);else{const g=(0,o._0$)(t[o.b5C]);gl(g[o.eDl],g,v,r,!0)}}n=l?n.projectionNext:n.next}return r}function Uf(e,t){for(let n=o.Y20;n<e.length;n++){const r=e[n],l=r[o.eDl].firstChild;null!==l&&gl(r[o.eDl],r,l,t)}e[o.s6P]!==e[o.jgP]&&t.push(e[o.s6P])}function tp(e){if(null!==e[o.JEi]){for(const t of e[o.JEi])t.impl.addSequence(t);e[o.JEi].length=0}}let np=[];const Wf={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,o.blu)(e.lView)},consumerOnSignalRead(){this.lView[o.Iaj]=this}},Kf={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,o._0$)(e.lView);for(;t&&!yo(t[o.eDl]);)t=(0,o._0$)(t);t&&(0,o.HAh)(t)},consumerOnSignalRead(){this.lView[o.Iaj]=this}};function yo(e){return 2!==e.type}function Pu(e){if(null===e[o.tQN])return;let t=!0;for(;t;){let n=!1;for(const r of e[o.tQN])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[o.Wg1])}}function Bs(e,t=0){const r=e[o.M0L].rendererFactory;r.begin?.();try{!function li(e,t){const n=(0,o.yP_)();try{(0,o.cBl)(!0),Jc(e,t);let r=0;for(;(0,o.dMS)(e);){if(100===r)throw new o.buA(103,!1);r++,Jc(e,1)}}finally{(0,o.cBl)(n)}}(e,t)}finally{r.end?.()}}function rp(e,t,n,r){if((0,o.EPY)(t))return;const l=t[o.Wg1];(0,o.ID8)(t);let v=!0,g=null,T=null;yo(e)?(T=function Vf(e){return e[o.Iaj]??function $f(e){const t=np.pop()??Object.create(Wf);return t.lView=e,t}(e)}(t),g=(0,G.Bg)(T)):null===(0,G.nR)()?(v=!1,T=function zf(e){const t=e[o.Iaj]??Object.create(Kf);return t.lView=e,t}(t),g=(0,G.Bg)(T)):t[o.Iaj]&&((0,G.XR)(t[o.Iaj]),t[o.Iaj]=null);try{(0,o.HUe)(t),(0,o.Kw3)(e.bindingStartIndex),null!==n&&Mf(e,t,n,2,r);const N=!(3&~l);if(N){const re=e.preOrderCheckHooks;null!==re&&Lt(t,re,null)}else{const re=e.preOrderHooks;null!==re&&be(t,re,0,null),Fe(t,0)}if(function Qf(e){for(let t=zr(e);null!==t;t=ra(t)){if(!(2&t[o.Wg1]))continue;const n=t[o.nfM];for(let r=0;r<n.length;r++)(0,o.HAh)(n[r])}}(t),Pu(t),Nu(t,0),null!==e.contentQueries&&vt(e,t),N){const re=e.contentCheckHooks;null!==re&&Lt(t,re)}else{const re=e.contentHooks;null!==re&&be(t,re,1),Fe(t,1)}!function Yf(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)(0,o.ypq)(~l);else{const c=l,h=n[++r],v=n[++r];(0,o.vQI)(h,c);const g=t[c];ut(24,g),v(2,g),ut(25,g)}}}finally{(0,o.ypq)(-1)}}(e,t);const K=e.components;null!==K&&Xf(t,K,0);const ne=e.viewQuery;if(null!==ne&&xt(2,ne,r),N){const re=e.viewCheckHooks;null!==re&&Lt(t,re)}else{const re=e.viewHooks;null!==re&&be(t,re,2),Fe(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[o.pcR]){for(const re of t[o.pcR])re();t[o.pcR]=null}tp(t),t[o.Wg1]&=-73}catch(N){throw(0,o.blu)(t),N}finally{null!==T&&((0,G.Wu)(T,g),v&&function Hf(e){e.lView[o.Iaj]!==e&&(e.lView=null,np.push(e))}(T)),(0,o.bll)()}}function Nu(e,t){for(let n=zr(e);null!==n;n=ra(n))for(let r=o.Y20;r<n.length;r++)Yc(n[r],t)}function us(e,t,n){ut(18);const r=(0,o.KdJ)(t,e);Yc(r,n),ut(19,r[o.SKP])}function Yc(e,t){(0,o.F1c)(e)&&Jc(e,t)}function Jc(e,t){const r=e[o.eDl],l=e[o.Wg1],c=e[o.Iaj];let h=!!(0===t&&16&l);if(h||=!!(64&l&&0===t),h||=!!(1024&l),h||=!(!c?.dirty||!(0,G.si)(c)),h||=!1,c&&(c.dirty=!1),e[o.Wg1]&=-9217,h)rp(r,e,r.template,e[o.SKP]);else if(8192&l){const v=(0,G.Ht)(null);try{Pu(e),Nu(e,1);const g=r.components;null!==g&&Xf(e,g,1),tp(e)}finally{(0,G.Ht)(v)}}}function Xf(e,t,n){for(let r=0;r<t.length;r++)us(e,t[r],n)}function cs(e,t){const n=(0,o.yP_)()?64:1088;for(e[o.M0L].changeDetectionScheduler?.notify(t);e;){e[o.Wg1]|=n;const r=(0,o._0$)(e);if((0,o.EFk)(e)&&!r)return e;e=r}return null}function Zc(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ap(e,t){const n=o.Y20+t;if(n<e.length)return e[n]}function ds(e,t,n,r=!0){const l=t[o.eDl];if(function td(e,t,n,r){const l=o.Y20+r,c=n.length;r>0&&(n[l-1][o.K29]=t),r<c-o.Y20?(t[o.K29]=n[l],(0,o.EYC)(n,o.Y20+r,t)):(n.push(t),t[o.K29]=null),t[o.f7T]=n;const h=t[o.rQE];null!==h&&n!==h&&_l(h,t);const v=t[o.Ds7];null!==v&&v.insertView(e),(0,o._gW)(t),t[o.Wg1]|=128}(l,t,e,n),r){const h=ki(n,e),v=t[o.GpT],g=v.parentNode(e[o.s6P]);null!==g&&function Eg(e,t,n,r,l,c){r[o.jgP]=l,r[o.qlT]=t,zc(e,r,n,1,l,c)}(l,e[o.qlT],v,t,g,h)}const c=t[o.tcA];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function ed(e,t){const n=Us(e,t);return void 0!==n&&Tu(n[o.eDl],n),n}function Us(e,t){if(e.length<=o.Y20)return;const n=o.Y20+t,r=e[n];if(r){const l=r[o.rQE];null!==l&&l!==e&&Wm(l,r),t>0&&(e[n-1][o.K29]=r[o.K29]);const c=(0,o.E6O)(e,o.Y20+t);Df(r[o.eDl],r);const h=c[o.Ds7];null!==h&&h.detachView(c[o.eDl]),r[o.f7T]=null,r[o.K29]=null,r[o.Wg1]&=-129}return r}function _l(e,t){const n=e[o.nfM],r=t[o.f7T];((0,o.q$2)(r)||t[o.b5C]!==r[o.f7T][o.b5C])&&(e[o.Wg1]|=2),null===n?e[o.nfM]=[t]:n.push(t)}class ms{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[o.eDl];return gl(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[o.SKP]}set context(t){this._lView[o.SKP]=t}get destroyed(){return(0,o.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[o.f7T];if((0,o.A0l)(t)){const n=t[o.bm_],r=n?n.indexOf(this):-1;r>-1&&(Us(t,r),(0,o.E6O)(n,r))}this._attachedToViewContainer=!1}Tu(this._lView[o.eDl],this._lView)}onDestroy(t){(0,o.ik5)(this._lView,t)}markForCheck(){cs(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[o.Wg1]&=-129}reattach(){(0,o._gW)(this._lView),this._lView[o.Wg1]|=128}detectChanges(){this._lView[o.Wg1]|=1024,Bs(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new o.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,o.EFk)(this._lView),n=this._lView[o.rQE];null!==n&&!t&&Wm(n,this._lView),Tf(this._lView[o.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new o.buA(902,!1);this._appRef=t;const n=(0,o.EFk)(this._lView),r=this._lView[o.rQE];null!==r&&!n&&_l(r,this._lView),(0,o._gW)(this._lView)}}let ui=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nd;constructor(n,r,l){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const c=vl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:l});return new ms(c)}})();function nd(){return ps((0,o.Mx4)(),(0,o.OAn)())}function ps(e,t){return 4&e.type?new ui(t,e,br(e,t)):null}function lp(e,t,n){const r=t.insertBeforeIndex,l=Array.isArray(r)?r[0]:r;return null===l?Gm(e,0,n):(0,o.IvY)(n[l])}function up(e,t,n,r,l){const c=t.insertBeforeIndex;if(Array.isArray(c)){let h=r,v=null;if(3&t.type||(v=h,h=l),null!==h&&-1===t.componentOffset)for(let g=1;g<c.length;g++)rs(e,h,n[c[g]],v,!1)}}function Po(e,t,n,r,l){let c=e.data[t];if(null===c)c=El(e,t,n,r,l),(0,o.JjR)()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=l;const h=(0,o.Ab)();c.injectorIndex=null===h?-1:h.injectorIndex}return(0,o.iMd)(c,!0),c}function El(e,t,n,r,l){const c=(0,o.veI)(),h=(0,o.YWB)(),g=e.data[t]=function Ug(e,t,n,r,l,c){let h=t?t.injectorIndex:-1,v=0;return(0,o.KtD)()&&(v|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,n,t,r,l);return function Bg(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,g,c,h),g}function ty(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];ny(r)||Uu(r,t)&&null===ry(r)&&ay(r,t.index)}}function ny(e){return!(64&e.type)}function Uu(e,t){return ny(t)||e.index>t.index}function ry(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function ay(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Hc(lp,up),e.insertBeforeIndex=t)}function kl(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function cp(e,t,n){const r=El(e,n,64,null,null);return ty(t,r),r}function Cl(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function dp(e){return e>>>17}function Hu(e){return(131070&e)>>>1}function sd(e,t,n){e.index=0;const r=Cl(t,n);e.removes=null!==r?t.remove[r]:o.Mlv}function Wu(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),sd(e,e.lView[o.eDl].data[~t],e.lView),Wu(e))}return 0===e.stack.length?(e.lView=void 0,null):(e.removes=e.stack.pop(),e.index=e.stack.pop(),Wu(e))}function oy(){const e={stack:[],index:-1};return function t(n,r){for(e.lView=r;e.stack.length;)e.stack.pop();return sd(e,n.value,r),Wu.bind(null,e)}}function yd(e,t,n){for(const r of n.node.cases[n.case]){const l=t.get(r.index-o.Yw1);l&&ll(e,l,!1)}}function Xu(e){const t=e[o.qFA]??[],r=e[o.f7T][o.GpT],l=[];for(const c of t)void 0!==c.data[bi]?l.push(c):Sl(c,r);e[o.qFA]=l}function wy(e){const{lContainer:t}=e,n=t[o.qFA];if(null===n)return;const l=t[o.f7T][o.GpT];for(const c of n)Sl(c,l)}function Sl(e,t){let n=0,r=e.firstChild;if(r){const l=e.data[Dr];for(;n<l;){const c=r.nextSibling;ll(t,r,!1),r=c,n++}}}function Yu(e){Xu(e);const t=e[o.jgP];(0,o.q$2)(t)&&Il(t);for(let n=o.Y20;n<e.length;n++)Il(e[n])}function Il(e){!function by(e){const t=e[o.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){const l=e[o.GpT];for(const c of r.values())yd(l,n,c)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[o.eDl];for(let n=o.Yw1;n<t.bindingStartIndex;n++)(0,o.A0l)(e[n])?Yu(e[n]):(0,o.q$2)(e[n])&&Il(e[n])}let Cp=()=>null;function Vs(e,t,n){return Cp(e,t,n)}let ky=class{},vd=class{};class Sp{resolveComponentFactory(t){throw new o.buA(917,!1)}}let gd=class{static NULL=new Sp};class Ip{}let Zu=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Mp(){const e=(0,o.OAn)(),t=(0,o.Mx4)(),n=(0,o.KdJ)(t.index,e);return((0,o.q$2)(n)?n:e)[o.GpT]}()})(),xp=(()=>{class e{static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function _d(e){return void 0!==e.ngModule}function ws(e){return!!(0,o.phH)(e)}function ec(e){return!!(0,o.oyA)(e)}function Rp(e){return!!(0,o.HaV)(e)}function xl(e){return!!(0,o.xUg)(e)}function Dy(e,t){if((0,o.Jzi)(e)&&!(e=(0,o.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,o.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,o.PP7)(e)||e}".`);if(null==(0,o.phH)(e)){const n=(0,o.xUg)(e)||(0,o.HaV)(e)||(0,o.oyA)(e);if(null==n)throw _d(e)?new Error(`A module with providers was imported from "${(0,o.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,o.PP7)(e)}" type, imported from "${(0,o.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone)throw new Error(`The "${(0,o.PP7)(e)}" ${function Cy(e){return(0,o.xUg)(e)?"component":(0,o.HaV)(e)?"directive":(0,o.oyA)(e)?"pipe":"type"}(e)}, imported from "${(0,o.PP7)(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class Op{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,o.phH)(t);if(n?.declarations)for(const r of oi(n.declarations))xl(r)&&this.ownerNgModule.set(r,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const r=(0,o.xUg)(t);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(r.standalone){const l=this.getStandaloneComponentScope(t,n);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(t));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(t,n){if(!ws(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,o.WbQ)(t),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of oi(n.imports))if(ws(l)){const c=this.getNgModuleScope(l);No(c.exported.directives,r.compilation.directives),No(c.exported.pipes,r.compilation.pipes)}else{if(!(0,o.QuC)(l)){r.compilation.isPoisoned=!0;break}if(Rp(l)||xl(l))r.compilation.directives.add(l);else{if(!ec(l))throw new o.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(l)}}if(!r.compilation.isPoisoned)for(const l of oi(n.declarations)){if(ws(l)||(0,o.QuC)(l)){r.compilation.isPoisoned=!0;break}ec(l)?r.compilation.pipes.add(l):r.compilation.directives.add(l)}for(const l of oi(n.exports))if(ws(l)){const c=this.getNgModuleScope(l);No(c.exported.directives,r.exported.directives),No(c.exported.pipes,r.exported.pipes),No(c.exported.directives,r.compilation.directives),No(c.exported.pipes,r.compilation.pipes)}else ec(l)?r.exported.pipes.add(l):r.exported.directives.add(l);return r}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const r=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,r),r}computeStandaloneComponentScope(t,n){const r={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const l of(0,o.Bqz)(n??[])){const c=(0,o.nl4)(l);try{Dy(c,t)}catch{return r.compilation.isPoisoned=!0,r}if(ws(c)){r.compilation.ngModules.add(c);const h=this.getNgModuleScope(c);if(h.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;No(h.exported.directives,r.compilation.directives),No(h.exported.pipes,r.compilation.pipes)}else if(ec(c))r.compilation.pipes.add(c);else{if(!Rp(c)&&!xl(c))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(c)}}return r}isOrphanComponent(t){const n=(0,o.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function No(e,t){for(const n of e)t.add(n)}const Rl=new Op,Pp={};class $s{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const l=this.injector.get(t,Pp,r);return l!==Pp||n===Pp?l:this.parentInjector.get(t,n,r)}}function bd(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,c=0;if(null!==t)for(let h=0;h<t.length;h++){const v=t[h];if("number"==typeof v)c=v;else if(1==c)l=(0,o.n$e)(l,v);else if(2==c){const T=t[++h];r=(0,o.n$e)(r,v+": "+T+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function Ol(e,t=0){const n=(0,o.OAn)();return null===n?(0,o.KVO)(e,t):tr((0,o.Mx4)(),n,(0,o.nl4)(e),t)}function Pl(e,t,n,r,l){const c=null===r?null:{"":-1},h=l(e,n);if(null!==h){let v=h,g=null,T=null;for(const N of h)if(null!==N.resolveHostDirectives){[v,g,T]=N.resolveHostDirectives(h);break}!function zg(e,t,n,r,l,c,h){const v=r.length;let g=!1;for(let ne=0;ne<v;ne++){const re=r[ne];!g&&(0,o.JlV)(re)&&(g=!0,Ui(e,n,ne)),lr(Mr(n,t),e,re.type)}!function Sy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,v);for(let ne=0;ne<v;ne++){const re=r[ne];re.providersResolver&&re.providersResolver(re)}let T=!1,N=!1,K=ul(e,t,v,null);v>0&&(n.directiveToIndex=new Map);for(let ne=0;ne<v;ne++){const re=r[ne];if(n.mergedAttrs=$n(n.mergedAttrs,re.hostAttrs),nc(e,n,t,K,re),Ay(K,re,l),null!==h&&h.has(re)){const[Xe,pt]=h.get(re);n.directiveToIndex.set(re.type,[K,Xe+n.directiveStart,pt+n.directiveStart])}else(null===c||!c.has(re))&&n.directiveToIndex.set(re.type,K);null!==re.contentQueries&&(n.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(n.flags|=64);const Ie=re.type.prototype;!T&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),T=!0),!N&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),N=!0),K++}!function Ty(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const l=e.data[r];if(null!==n&&n.has(l)){const c=n.get(l);Fp(0,t,c,r),Fp(1,t,c,r),wd(t,r,!0)}else Lp(0,t,l,r),Lp(1,t,l,r),wd(t,r,!1)}}(e,n,c)}(e,t,n,v,c,g,T)}null!==c&&null!==r&&function tc(e,t,n){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const c=n[t[l+1]];if(null==c)throw new o.buA(-301,!1);r.push(t[l],c)}}(n,r,c)}function Ui(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Lp(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){let h;h=0===e?t.inputs??={}:t.outputs??={},h[c]??=[],h[c].push(r),jp(t,c)}}function Fp(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){const h=l[c];let v;v=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},v[h]??=[],v[h].push(r,c),jp(t,h)}}function jp(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function wd(e,t,n){const{attrs:r,inputs:l,hostDirectiveInputs:c}=e;if(null===r||!n&&null===l||n&&null===c||yu(e))return e.initialInputs??=[],void e.initialInputs.push(null);let h=null,v=0;for(;v<r.length;){const g=r[v];if(0!==g)if(5!==g){if("number"==typeof g)break;if(!n&&l.hasOwnProperty(g)){const T=l[g];for(const N of T)if(N===t){h??=[],h.push(g,r[v+1]);break}}else if(n&&c.hasOwnProperty(g)){const T=c[g];for(let N=0;N<T.length;N+=2)if(T[N]===t){h??=[],h.push(T[N+1],r[v+1]);break}}v+=2}else v+=2;else v+=4}e.initialInputs??=[],e.initialInputs.push(h)}function nc(e,t,n,r,l){e.data[r]=l;const c=l.factory||(l.factory=(0,o.wGu)(l.type,!0)),h=new Kt(c,(0,o.JlV)(l),Ol,null);e.blueprint[r]=h,n[r]=h,function Lo(e,t,n,r,l){const c=l.hostBindings;if(c){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const v=~t.index;(function Kg(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=v&&h.push(v),h.push(n,r,c)}}(e,t,r,ul(e,n,l.hostVars,wn),l)}function Ay(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;(0,o.JlV)(t)&&(n[""]=e)}}function rc(e,t,n,r,l,c,h,v){const g=t[o.eDl],T=g.consts,K=Po(g,e,n,r,(0,o.db4)(T,h));return c&&Pl(g,t,K,(0,o.db4)(T,v),l),K.mergedAttrs=$n(K.mergedAttrs,K.attrs),null!==K.attrs&&bd(K,K.attrs,!1),null!==K.mergedAttrs&&bd(K,K.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,K),K}function ac(e,t){mt(e,t),(0,o.srX)(t)&&e.queries.elementEnd(t)}function Bp(e,t,n,r,l,c){const h=t.consts,g=Po(t,e,n,r,(0,o.db4)(h,l));if(g.mergedAttrs=$n(g.mergedAttrs,g.attrs),null!=c){const T=(0,o.db4)(h,c);g.localNames=[];for(let N=0;N<T.length;N+=2)g.localNames.push(T[N],-1)}return null!==g.attrs&&bd(g,g.attrs,!1),null!==g.mergedAttrs&&bd(g,g.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,g),g}function Es(e){return!!kd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ed(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}function kd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vi(e,t,n){return e[t]=n}function vo(e,t){return e[t]}function un(e,t,n){return n!==wn&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function go(e,t,n,r){const l=un(e,t,n);return un(e,t+1,r)||l}function ks(e,t,n,r,l){const c=go(e,t,n,r);return un(e,t+2,l)||c}function ca(e,t,n,r,l,c){const h=go(e,t,n,r);return go(e,t+2,l,c)||h}function $i(e,t,n){return function r(l){cs((0,o.Qs1)(e)?(0,o.KdJ)(e.index,t):t,5);const h=t[o.SKP];let v=Cd(t,h,n,l),g=r.__ngNextListenerFn__;for(;g;)v=Cd(t,h,g,l)&&v,g=g.__ngNextListenerFn__;return v}}function Cd(e,t,n,r){const l=(0,G.Ht)(null);try{return ut(6,t,n),!1!==n(r)}catch(c){return Qc(e,c),!1}finally{ut(7,t,n),(0,G.Ht)(l)}}function Vp(e,t,n,r,l,c,h,v){const g=(0,o.yoD)(e);let T=!1,N=null;if(!r&&g&&(N=function Dd(e,t,n,r){const l=e.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const h=l[c];if(h===n&&l[c+1]===r){const v=t[o.VVG],g=l[c+2];return v&&v.length>g?v[g]:null}"string"==typeof h&&(c+=2)}return null}(t,n,c,e.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=h,N.__ngLastListenerFn__=h,T=!0;else{const K=(0,o.d31)(e,n),ne=r?r(K):K;!function wc(e,t,n,r){Do(e,t,n,r)}(n,ne,c,v);const re=l.listen(ne,c,v);(function My(e){return e.startsWith("animation")||e.startsWith("transition")})(c)||$p(r?Xe=>r((0,o.IvY)(Xe[e.index])):e.index,t,n,c,v,re,!1)}return T}function $p(e,t,n,r,l,c,h){const v=t.firstCreatePass?(0,o.vNG)(t):null,g=(0,o.d_l)(n),T=g.length;g.push(l,c),v&&v.push(r,e,T,(T+1)*(h?-1:1))}function Nl(e,t,n,r,l,c){const v=t[o.eDl],K=t[n][v.data[n].outputs[r]].subscribe(c);$p(e.index,v,t,l,c,K,!0)}const Fo=Symbol("BINDING");class Kp extends gd{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,o.xUg)(t);return new qp(n,this.ngModule)}}class qp extends vd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Ll(e){return Object.keys(e).map(t=>{const[n,r,l]=e[t],c={propName:n,templateName:t,isSignal:0!==(r&cl.SignalBased)};return l&&(c.transform=l),c})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Py(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function df(e){return e.map(vm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,l,c,h){ut(22);const v=(0,G.Ht)(null);try{const g=this.componentDef,T=function Yg(e,t,n,r){const l=e?["ng-version","20.3.12"]:function gm(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===l?""!==c&&t.push(c,e[++r]):8===l&&n.push(c);else{if(!si(l))break;l=c}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let c=null,h=null,v=0;if(n)for(const N of n)v+=N[Fo].requiredVars,N.create&&(N.targetIdx=0,(c??=[]).push(N)),N.update&&(N.targetIdx=0,(h??=[]).push(N));if(r)for(let N=0;N<r.length;N++){const K=r[N];if("function"!=typeof K)for(const ne of K.bindings){v+=ne[Fo].requiredVars;const re=N+1;ne.create&&(ne.targetIdx=re,(c??=[]).push(ne)),ne.update&&(ne.targetIdx=re,(h??=[]).push(ne))}}const g=[t];if(r)for(const N of r){const ne=(0,o.HaV)("function"==typeof N?N:N.type);g.push(ne)}return km(0,null,function Jg(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(c,h),1,v,g,null,null,null,[l],null)}(r,g,h,c),N=function Ly(e,t,n){let r=t instanceof o.uvJ?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new $s(n,r):n}(g,l||this.ngModule,t),K=function Qg(e){const t=e.get(Ip,null);if(null===t)throw new o.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(xp,null),changeDetectionScheduler:e.get(o.hk6,null),ngReflect:!1}}(N),ne=K.rendererFactory.createRenderer(null,g),re=r?function Ig(e,t,n,r){const c=r.get(Eo,!1)||n===gt.ShadowDom,h=e.selectRootElement(t,c);return function Mg(e){xf(e)}(h),h}(ne,r,g.encapsulation,N):function Gp(e,t){const n=function Xg(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return ns(t,n,"svg"===n?o.jNX:"math"===n?o.rJ1:null)}(g,ne),Ie=h?.some(Fy)||c?.some(bt=>"function"!=typeof bt&&bt.bindings.some(Fy)),Xe=vu(null,T,null,512|gu(g),null,null,K,ne,N,null,zo(re,N,!0));Xe[o.Yw1]=re,(0,o.ID8)(Xe);let pt=null;try{const bt=rc(o.Yw1,Xe,2,"#host",()=>T.directiveRegistry,!0,0);Oc(ne,re,bt),le(re,Xe),Kc(T,Xe,bt),$t(T,bt,Xe),ac(T,bt),void 0!==n&&function jy(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const c=n[l];r.push(null!=c&&c.length?Array.from(c):null)}}(bt,this.ngContentSelectors,n),pt=(0,o.KdJ)(bt.index,Xe),Xe[o.SKP]=pt[o.SKP],Ou(T,Xe,null)}catch(bt){throw null!==pt&&La(pt),La(Xe),bt}finally{ut(23),(0,o.bll)()}return new Zg(this.componentType,Xe,!!Ie)}finally{(0,G.Ht)(v)}}}function Fy(e){const t=e[Fo].kind;return"input"===t||"twoWay"===t}class Zg extends ky{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=(0,o.XRZ)(n[o.eDl],o.Yw1),this.location=br(this._tNode,n),this.instance=(0,o.KdJ)(this._tNode.index,n)[o.SKP],this.hostView=this.changeDetectorRef=new ms(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Ru(r,l[o.eDl],l,t,n),this.previousInputValues.set(t,n),cs((0,o.KdJ)(r.index,l),1)}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let oc=(()=>class e{static __NG_ELEMENT_ID__=Qp})();function Qp(){return Yp((0,o.Mx4)(),(0,o.OAn)())}const By=oc,Uy=class extends By{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return br(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=ha(this._hostTNode,this._hostLView);if(Br(t)){const n=ma(t,this._hostLView),r=sr(t);return new en(n[o.eDl].data[r+8],n)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Xp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-o.Y20}createEmbeddedView(t,n,r){let l,c;"number"==typeof r?l=r:null!=r&&(l=r.index,c=r.injector);const v=t.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(v,l,ls(this._hostTNode,null)),v}createComponent(t,n,r,l,c,h,v){const g=t&&!ke(t);let T;if(g)T=n;else{const pt=n||{};T=pt.index,r=pt.injector,l=pt.projectableNodes,c=pt.environmentInjector||pt.ngModuleRef,h=pt.directives,v=pt.bindings}const N=g?t:new qp((0,o.xUg)(t)),K=r||this.parentInjector;if(!c&&null==N.ngModule){const bt=(g?K:this.parentInjector).get(o.uvJ,null);bt&&(c=bt)}(0,o.xUg)(N.componentType??{});const Xe=N.create(K,l,null,c,h,v);return this.insertImpl(Xe.hostView,T,ls(this._hostTNode,null)),Xe}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const l=t._lView;if((0,o.ITl)(l)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const g=l[o.f7T],T=new Uy(g,g[o.qlT],g[o.f7T]);T.detach(T.indexOf(t))}}const c=this._adjustIndex(n),h=this._lContainer;return ds(h,l,c,r),t.attachToViewContainerRef(),(0,o.EYC)(Ad(h),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Xp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Us(this._lContainer,n);r&&((0,o.E6O)(Ad(this._lContainer),n),Tu(r[o.eDl],r))}detach(t){const n=this._adjustIndex(t,-1),r=Us(this._lContainer,n);return r&&null!=(0,o.E6O)(Ad(this._lContainer),n)?new ms(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Xp(e){return e[o.bm_]}function Ad(e){return e[o.bm_]||(e[o.bm_]=[])}function Yp(e,t){let n;const r=t[e.index];return(0,o.A0l)(r)?n=r:(n=Zc(r,t,null,e),t[e.index]=n,Nc(t,n)),Sd(n,t,e,r),new Uy(n,e,t)}let Sd=function Id(e,t,n,r){if(e[o.s6P])return;let l;l=8&n.type?(0,o.IvY)(r):function e_(e,t){const n=e[o.GpT],r=n.createComment(""),l=(0,o.d31)(t,e),c=n.parentNode(l);return rs(n,c,r,n.nextSibling(l),!1),r}(t,n),e[o.s6P]=l},Fl=()=>!1;function Jp(e,t,n){return Fl(e,t,n)}class Md{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Md(this.queryList)}setDirty(){this.queryList.setDirty()}}class xd{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){const h=n.getByIndex(c);l.push(this.queries[h.indexInDeclarationView].clone())}return new xd(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Rd(t,n).matches&&this.queries[n].setDirty()}}class Hy{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function r_(e){return e.split(",").map(t=>t.trim())}(t):t}}class Ji{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,l);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new Ji(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _o{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new _o(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const c=r[l];this.matchTNodeWithReadOption(t,n,Wy(n,c)),this.matchTNodeWithReadOption(t,n,xr(n,t,c,!1,!1))}else r===ui?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xr(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===nr||l===oc||l===ui&&4&n.type)this.addMatch(n.index,-2);else{const c=xr(n,t,l,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Wy(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eh(e,t,n,r){return-1===n?function t_(e,t){return 11&e.type?br(e,t):4&e.type?ps(e,t):null}(t,e):-2===n?function n_(e,t,n){return n===nr?br(t,e):n===ui?ps(t,e):n===oc?Yp(t,e):void 0}(e,t,r):Rr(e,e[o.eDl],n,t)}function zy(e,t,n,r){const l=t[o.Ds7].queries[r];if(null===l.matches){const c=e.data,h=n.matches,v=[];for(let g=0;null!==h&&g<h.length;g+=2){const T=h[g];v.push(T<0?null:eh(t,c[T],h[g+1],n.metadata.read))}l.matches=v}return l.matches}function th(e,t,n,r){const l=e.queries.getByIndex(n),c=l.matches;if(null!==c){const h=zy(e,t,l,n);for(let v=0;v<c.length;v+=2){const g=c[v];if(g>0)r.push(h[v/2]);else{const T=c[v+1],N=t[-g];for(let K=o.Y20;K<N.length;K++){const ne=N[K];ne[o.rQE]===ne[o.f7T]&&th(ne[o.eDl],ne,T,r)}if(null!==N[o.nfM]){const K=N[o.nfM];for(let ne=0;ne<K.length;ne++){const re=K[ne];th(re[o.eDl],re,T,r)}}}}}return r}function nh(e,t){return e[o.Ds7].queries[t].queryList}function Ky(e,t,n){const r=new Qa(!(4&~n));return(0,o.B22)(e,t,r,r.destroy),(t[o.Ds7]??=new xd).queries.push(new Md(r))-1}function Gy(e,t,n){const r=(0,o.klJ)();return r.firstCreatePass&&(Qy(r,new Hy(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),Ky(r,(0,o.OAn)(),t)}function qy(e,t,n,r){const l=(0,o.klJ)();if(l.firstCreatePass){const c=(0,o.Mx4)();Qy(l,new Hy(t,n,r),c.index),function Xy(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return Ky(l,(0,o.OAn)(),n)}function Qy(e,t,n){null===e.queries&&(e.queries=new Ji),e.queries.track(new _o(t,n))}function Rd(e,t){return e.queries.getByIndex(t)}function rh(e,t){const n=e[o.eDl],r=Rd(n,t);return r.crossesNgTemplate?th(n,e,t,[]):zy(n,e,r,t)}function ih(e,t){const n=e[G.bh];n._lView=(0,o.OAn)(),n._queryIndex=t,n._queryList=nh(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function oh(e){const t=[],n=new Map;function r(l){let c=n.get(l);if(!c){const h=e(l);n.set(l,c=h.then(v=>function i(e,t){return"string"==typeof t?t:void 0!==t.status&&200!==t.status?Promise.reject(new o.buA(918,!1)):t.text()}(0,v)))}return c}return Hs.forEach((l,c)=>{const h=[];l.templateUrl&&h.push(r(l.templateUrl).then(T=>{l.template=T}));const v="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=v,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const T=l.styles.length,N=l.styleUrls;l.styleUrls.forEach((K,ne)=>{v.push(""),h.push(r(K).then(re=>{v[T+ne]=re,N.splice(N.indexOf(K),1),0==N.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&h.push(r(l.styleUrl).then(T=>{v.push(T),l.styleUrl=void 0}));const g=Promise.all(h).then(()=>function a(e){Ws.delete(e)}(c));t.push(g)}),function a_(){const e=Hs;Hs=new Map}(),Promise.all(t).then(()=>{})}let Hs=new Map;const Ws=new Set;function s(){return 0===Hs.size}const u=new Map;function w(e,t){(function y(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${(0,o.AsM)(t)} vs ${(0,o.AsM)(t.name)}`)})(t,u.get(t)||null,e),u.set(t,e)}let Se=class{},Ve=class{};function ct(e,t){return new nt(e,t??null,[])}class nt extends Se{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Kp(this);constructor(t,n,r,l=!0){super(),this.ngModuleType=t,this._parent=n;const c=(0,o.phH)(t);this._bootstrapComponents=oi(c.bootstrap),this._r3Injector=(0,o.Pz9)(t,n,[{provide:Se,useValue:this},{provide:gd,useValue:this.componentFactoryResolver},...r],(0,o.AsM)(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lt extends Ve{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new nt(this.moduleType,t,[])}}function kt(e,t,n){return new nt(e,t,n,!1)}class It extends Se{injector;componentFactoryResolver=new Kp(this);instance=null;constructor(t){super();const n=new o.e5P([...t.providers,{provide:Se,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],t.parent||(0,o.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vt(e,t,n=null){return new It({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let mn=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=(0,o.jXY)(!1,n.type),l=r.length>0?Vt([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,o.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,o.KVO)(o.uvJ))})}return e})();function Ht(e){return z(()=>{const t=Pd(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?l=>l.get(mn).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gt.Emulated,styles:e.styles||o.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Qr("NgStandalone"),jo(n);const r=e.dependencies;return n.directiveDefs=zs(r,qn),n.pipeDefs=zs(r,o.oyA),n.id=function ch(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function qn(e){return(0,o.xUg)(e)||(0,o.HaV)(e)}function Tn(e){return z(()=>({type:e.type,bootstrap:e.bootstrap||o.Mlv,declarations:e.declarations||o.Mlv,imports:e.imports||o.Mlv,exports:e.exports||o.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qn(e,t){if(null==e)return o.MZA;const n={};for(const r in e)if(e.hasOwnProperty(r)){const l=e[r];let c,h,v,g;Array.isArray(l)?(v=l[0],c=l[1],h=l[2]??c,g=l[3]||null):(c=l,h=l,v=cl.None,g=null),n[c]=[r,v,g],t[c]=h}return n}function Vn(e){if(null==e)return o.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Di(e){return z(()=>{const t=Pd(e);return jo(t),t})}function eo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pd(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||o.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||o.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Qn(e.inputs,t),outputs:Vn(e.outputs),debugInfo:null}}function jo(e){e.features?.forEach(t=>t(e))}function zs(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const l of n){const c=t(l);null!==c&&r.push(c)}return r}:null}function Dt(e){return Object.getPrototypeOf(e.prototype).constructor}function Mt(e){let t=Dt(e.type),n=!0;const r=[e];for(;t;){let l;if((0,o.JlV)(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new o.buA(903,!1);l=t.\u0275dir}if(l){if(n){r.push(l);const h=e;h.inputs=hr(e.inputs),h.declaredInputs=hr(e.declaredInputs),h.outputs=hr(e.outputs);const v=l.hostBindings;v&&Bo(e,v);const g=l.viewQuery,T=l.contentQueries;if(g&&to(e,g),T&&ci(e,T),Nt(e,l),(0,o.dwj)(e.outputs,l.outputs),(0,o.JlV)(l)&&l.data.animation){const N=e.data;N.animation=(N.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let h=0;h<c.length;h++){const v=c[h];v&&v.ngInherit&&v(e),v===Mt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function sn(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=$n(l.hostAttrs,n=$n(n,l.hostAttrs))}}(r)}function Nt(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function hr(e){return e===o.MZA?{}:e===o.Mlv?[]:e}function to(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function ci(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,c)=>{t(r,l,c),n(r,l,c)}:t}function Bo(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}const Xn=["providersResolver"],dh=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Cs(e){const t=[];let n=!1,r=null,l=null;for(let c=0;c<e.length;c++){const h=e[c];if(null!==h.hostDirectives){const v=t.length;r??=new Map,l??=new Map,di(h,t,r),l.set(h,[v,t.length-1])}0===c&&(0,o.JlV)(h)&&(n=!0,t.push(h))}for(let c=n?1:0;c<e.length;c++)t.push(e[c]);return[t,r,l]}function di(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives)if("function"==typeof r){const l=r();for(const c of l)jl(Bl(c),t,n)}else jl(r,t,n)}function jl(e,t,n){const r=(0,o.HaV)(e.directive);(function w0(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(r.declaredInputs,e.inputs),di(r,t,n),n.set(r,e),t.push(r)}function Bl(e){return"function"==typeof e?{directive:(0,o.nl4)(e),inputs:o.MZA,outputs:o.MZA}:{directive:(0,o.nl4)(e.directive),inputs:o_(e.inputs),outputs:o_(e.outputs)}}function o_(e){if(void 0===e||0===e.length)return o.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function l_(e,t,n,r,l,c,h,v){if(n.firstCreatePass){e.mergedAttrs=$n(e.mergedAttrs,e.attrs);const N=e.tView=km(2,e,l,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),N.queries=n.queries.embeddedTView(e))}v&&(e.flags|=v),(0,o.iMd)(e,!1);const g=c_(n,t,e,r);(0,o.SX7)()&&Wc(n,t,g,e),le(g,t);const T=Zc(g,t,g,e);t[r+o.Yw1]=T,Nc(t,T),Jp(T,e,t)}function Ul(e,t,n,r,l,c,h,v,g,T,N){const K=n+o.Yw1;let ne;if(t.firstCreatePass){if(ne=Po(t,K,4,h||null,v||null),null!=T){const re=(0,o.db4)(t.consts,T);ne.localNames=[];for(let Ie=0;Ie<re.length;Ie+=2)ne.localNames.push(re[Ie],-1)}}else ne=t.data[K];return l_(ne,e,t,n,r,l,c,g),null!=T&&fl(e,ne,N),ne}function ev(e,t,n,r,l,c,h,v){const g=(0,o.OAn)(),T=(0,o.klJ)();return function E0(e,t,n,r,l,c,h,v,g,T,N){const K=n+o.Yw1;let ne;t.firstCreatePass?(ne=Po(t,K,4,h||null,v||null),(0,o.ckz)()&&Pl(t,e,ne,(0,o.db4)(t.consts,T),qc),mt(t,ne)):ne=t.data[K],l_(ne,e,t,n,r,l,c,g),(0,o.yoD)(ne)&&Kc(t,e,ne),null!=T&&fl(e,ne,N)}(g,T,e,t,n,r,l,(0,o.db4)(T.consts,c),void 0,h,v),ev}let c_=function d_(e,t,n,r){return(0,o.m7n)(!0),t[o.GpT].createComment("")};var Sr=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Sr||{}),Rn=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Rn||{}),sc=function(e){return e[e.Initial=-1]="Initial",e}(sc||{}),p_=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(p_||{});function Ld(e,t,n){const r=f_(e);null===t[r]&&(t[r]=[]),t[r].push(n)}function hh(e,t){const n=f_(e),r=t[n];if(null!==r){for(const l of r)l();t[n]=null}}function h_(e){hh(1,e),hh(0,e),hh(2,e)}function f_(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}function Fd(e){return e+1}function Ti(e,t){return e[Fd(t.index)]}function Ca(e,t){const n=Fd(t.index);return e.data[n]}function tv(e,t){return t===Rn.Placeholder?e.placeholderBlockConfig?.[0]??null:t===Rn.Loading?e.loadingBlockConfig?.[0]??null:null}function y_(e){return e.loadingBlockConfig?.[1]??null}function v_(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function nv(e,t,n){const r=n.get(gn);return function Jl(e,t,n){let r=Zn.get(e);return qr=qr||n(),r||(r=new ko,qr.observe(e),Zn.set(e,r),Wi++),r.callbacks.add(t),()=>{Zn.has(e)&&(r.callbacks.delete(t),0===r.callbacks.size&&(qr?.unobserve(e),Zn.delete(e),Wi--),0===Wi&&(qr?.disconnect(),qr=null))}}(e,()=>r.run(t),()=>r.runOutsideAngular(()=>function Yl(){return new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&Zn.has(t.target)&&Zn.get(t.target).listener()})}()))}function cc(e,t,n,r,l,c,h){const v=e[o.YEL],g=v.get(gn);let T;T=function bg(e,t){const n=t?.injector??(0,o.WQX)(o.zZn);return Qr("NgAfterRender"),Uc(e,n,t,!1)}({read:function N(){if((0,o.EPY)(e))return void T.destroy();const K=Ti(e,t),ne=K[1];if(ne!==sc.Initial&&ne!==Rn.Placeholder)return void T.destroy();const re=function R0(e,t,n){return null==n?e:n>=0?(0,o.jRZ)(n,e):e[t.index][o.Y20]??null}(e,t,r);if(!re||(T.destroy(),(0,o.EPY)(re)))return;const Ie=function O0(e,t){return(0,o.vaC)(o.Yw1+t,e)}(re,n),Xe=l(Ie,()=>{g.run(()=>{e!==re&&(0,o.DyX)(re,Xe),c()})},v);e!==re&&(0,o.ik5)(re,Xe),Ld(h,K,Xe)}},{injector:v})}function fh(e,t){const n=t.get(L0);return n.add(e),()=>n.remove(e)}let L0=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,o.WQX)(gn);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:r,deferred:l}=this;r.delete(n),l.delete(n),0===r.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const r of this.current)r();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const r of this.deferred)this.current.add(r);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function yh(e){return(t,n)=>__(e,t,n)}function __(e,t,n){const r=n.get(F0),l=n.get(gn);return r.add(e,t,l),()=>r.remove(t)}let F0=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,r,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,r),this.scheduleTimer(l)}remove(n){const{current:r,deferred:l}=this;-1===this.removeFromQueue(r,n)&&this.removeFromQueue(l,n),0===r.length&&0===l.length&&this.clearTimeout()}addToQueue(n,r,l){let c=n.length;for(let h=0;h<n.length;h+=2)if(n[h]>r){c=h;break}(0,o.llW)(n,c,r,l)}removeFromQueue(n,r){let l=-1;for(let c=0;c<n.length;c+=2)if(n[c+1]===r){l=c;break}return l>-1&&(0,o.gsJ)(n,l,2),l}scheduleTimer(n){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],h=Date.now();for(let g=0;g<c.length;g+=2){const N=c[g+1];if(!(c[g]<=h))break;N()}let v=-1;for(let g=0;g<this.current.length&&this.current[g]<=h;g+=2)v=g+1;if(v>=0&&(0,o.gsJ)(this.current,0,v+1),this.executingCallbacks=!1,this.deferred.length>0){for(let g=0;g<this.deferred.length;g+=2)this.addToQueue(this.current,this.deferred[g],this.deferred[g+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const c=Date.now(),h=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-h>16){this.clearTimeout();const v=Math.max(h-c,16);this.invokeTimerAt=h,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(r),v))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),j0=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,l,c){if(!this.cachedInjectors.has(n)){const h=l.length>0?Vt(l,r,c):null;this.cachedInjectors.set(n,h)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,o.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const B0=new o.nKC("");function rv(e,t,n){return e.get(j0).getOrCreateInjector(t,e,n,"")}function Ks(e,t,n,r=!1){const l=n[o.f7T],c=l[o.eDl];if((0,o.EPY)(l))return;const h=Ti(l,t),g=h[7];if(!(null!==g&&e<g)&&E_(h[1],e)&&E_(h[0]??-1,e)){const T=Ca(c,t),K=r||null===y_(T)&&null===tv(T,Rn.Loading)&&!tv(T,Rn.Placeholder)?b_:av;try{K(e,h,n,t,l)}catch(ne){Qc(l,ne)}}}function b_(e,t,n,r,l){ut(20);const c=function M0(e,t,n){const l=Ca(t[o.eDl],n);switch(e){case Rn.Complete:return l.primaryTmplIndex;case Rn.Loading:return l.loadingTmplIndex;case Rn.Error:return l.errorTmplIndex;case Rn.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,r);if(null!==c){t[1]=e;const h=l[o.eDl],g=(0,o.XRZ)(h,c+o.Yw1),T=0;let N;if(ed(n,T),e===Rn.Complete){const Ie=Ca(h,r),Xe=Ie.providers;Xe&&Xe.length>0&&(N=function U0(e,t,n){if(e instanceof $s){const l=e.injector,h=rv(e.parentInjector,t,n);return new $s(l,h)}const r=e.get(o.uvJ);if(r!==e){const l=rv(r,t,n);return new $s(e,l)}return rv(e,t,n)}(l[o.YEL],Ie,Xe))}const{dehydratedView:K,dehydratedViewIx:ne}=function V0(e,t){const n=e[o.qFA]?.findIndex(l=>l.data.s===t[1])??-1;return{dehydratedView:n>-1?e[o.qFA][n]:null,dehydratedViewIx:n}}(n,t),re=vl(l,g,null,{injector:N,dehydratedView:K});if(ds(n,re,T,ls(g,K)),cs(re,2),ne>-1&&n[o.qFA]?.splice(ne,1),(e===Rn.Complete||e===Rn.Error)&&Array.isArray(t[8])){for(const Ie of t[8])Ie();t[8]=null}}ut(21)}function $0(e,t,n,r,l){const c=Date.now(),v=Ca(l[o.eDl],r);if(null===t[2]||t[2]<=c){t[2]=null;const g=y_(v),T=null!==t[3];if(e!==Rn.Loading||null===g||T){e>Rn.Loading&&T&&(t[3](),t[3]=null,t[0]=null),b_(e,t,n,r,l);const N=tv(v,e);null!==N&&(t[2]=c+N,w_(N,t,r,n,l))}else{t[0]=e;const N=w_(g,t,r,n,l);t[3]=N}}else t[0]=e}function w_(e,t,n,r,l){return __(e,()=>{const h=t[0];t[2]=null,t[0]=null,null!==h&&Ks(h,n,r)},l[o.YEL])}function E_(e,t){return e<t}function dc(e,t){Ks(Rn.Placeholder,t,e[t.index])}function k_(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Sr.COMPLETE?Ks(Rn.Complete,t,n):e.loadingState===Sr.FAILED&&Ks(Rn.Error,t,n)})}let av=null;function W0(e,t,n,r){return z(()=>{const l=e;null!==t&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...t):l.decorators=t),null!==n&&(l.ctorParameters=n),null!==r&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...r}:r)})}let C_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const L_="ng";function xw(e,t){!function j_(e,t){if(typeof COMPILED>"u"||!COMPILED){const n=o.laP;n[L_]??={},n[L_][e]=t}}(e,t)}const B_=new o.nKC(""),U_=new o.nKC("");let sv,Rw=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,l){this._ngZone=n,this.registry=r,(0,o.M6u)()&&(this._destroyRef=(0,o.WQX)(o.abz,{optional:!0})??void 0),sv||(function Ow(e){sv=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),n()},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:l})}whenStable(n,r,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static \u0275fac=function(r){return new(r||e)((0,o.KVO)(gn),(0,o.KVO)(V_),(0,o.KVO)(U_))};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac})}return e})(),V_=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sv?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function $_(e){return!!e&&"function"==typeof e.then}function H_(e){return!!e&&"function"==typeof e.subscribe}const W_=new o.nKC("");function Pw(e){return(0,o.EmA)([{provide:W_,multi:!0,useValue:e}])}let z_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=(0,o.WQX)(W_,{optional:!0})??[];injector=(0,o.WQX)(o.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const c=(0,o.N4e)(this.injector,l);if($_(c))n.push(c);else if(H_(c)){const h=new Promise((v,g)=>{c.subscribe({complete:v,error:g})});n.push(h)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const K_=new o.nKC("");function Nw(){}function Lw(){(0,G.KO)(()=>{throw new o.buA(600,"")})}function G_(e,t){return Array.isArray(t)?t.reduce(G_,e):{...e,...t}}let _h=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,o.WQX)(o.ZTf);afterRenderManager=(0,o.WQX)(Bc);zonelessEnabled=(0,o.WQX)(o.Evm);rootEffectScheduler=(0,o.WQX)(o.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new O.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,o.WQX)(o.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,Z.T)(n=>!n))}constructor(){(0,o.WQX)(pl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:l=>{l&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,o.WQX)(o.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,l=o.zZn.NULL){return this._injector.get(gn).run(()=>{ut(10);const h=n instanceof vd;if(!this._injector.get(z_).done)throw new o.buA(405,"");let g;g=h?n:this._injector.get(gd).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const T=function Fw(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Se),K=g.create(l,[],r||g.selector,T),ne=K.location.nativeElement,re=K.injector.get(B_,null);return re?.registerApplication(ne),K.onDestroy(()=>{this.detachView(K.hostView),bh(this.components,K),re?.unregisterApplication(ne)}),this._loadComponent(K),ut(11,K),K})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ut(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Fc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new o.buA(101,!1);const n=(0,G.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,G.Ht)(n),this.afterTick.next(),ut(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ip,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)ut(14),this.synchronizeOnce(),ut(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(r||(0,o.dMS)(l))&&(Bs(l,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,o.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(n),this._injector.get(K_,[]).forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new o.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function lv(){let e,t;return{promise:new Promise((r,l)=>{e=r,t=l}),resolve:e,reject:t}}function q_(e){const t=(0,o.OAn)(),n=(0,o.Mx4)();if(dc(t,n),!Y_(0,t))return;const r=t[o.YEL];Ld(0,Ti(t,n),e(()=>Hl(0,t,n),r))}function Q_(e){const t=(0,o.OAn)(),n=t[o.YEL],r=(0,o.Mx4)(),c=Ca(t[o.eDl],r);c.loadingState===Sr.NOT_STARTED&&Ld(1,Ti(t,r),e(()=>Bd(c,t,r),n))}function X_(e,t,n){const r=t[o.YEL],l=Ti(t,n),c=l[6];Ld(2,l,e(()=>Wl(r,c),r))}function Bd(e,t,n){uv(e,t,n)}function uv(e,t,n){const r=t[o.YEL],l=t[o.eDl];if(e.loadingState!==Sr.NOT_STARTED)return e.loadingPromise??Promise.resolve();const c=Ti(t,n),h=function x0(e,t){return(0,o.XRZ)(e,t.primaryTmplIndex+o.Yw1)}(l,e);e.loadingState=Sr.IN_PROGRESS,hh(1,c);let v=e.dependencyResolverFn;const g=r.get(o.u5s).add();return v?(e.loadingPromise=Promise.allSettled(v()).then(T=>{let N=!1;const K=[],ne=[];for(const re of T){if("fulfilled"!==re.status){N=!0;break}{const Ie=re.value,Xe=(0,o.xUg)(Ie)||(0,o.HaV)(Ie);if(Xe)K.push(Xe);else{const pt=(0,o.oyA)(Ie);pt&&ne.push(pt)}}}if(N){if(e.loadingState=Sr.FAILED,null===e.errorTmplIndex){const Ie=new o.buA(-750,!1);Qc(t,Ie)}}else{e.loadingState=Sr.COMPLETE;const re=h.tView;if(K.length>0){re.directiveRegistry=v_(re.directiveRegistry,K);const Ie=K.map(pt=>pt.type),Xe=(0,o.jXY)(!1,...Ie);e.providers=Xe}ne.length>0&&(re.pipeRegistry=v_(re.pipeRegistry,ne))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,g()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Sr.COMPLETE,g()}),e.loadingPromise)}function Y_(e,t){return t[o.YEL].get(B0,null,{optional:!0})?.behavior!==p_.Manual}function Hl(e,t,n){const r=t[o.eDl],l=t[n.index];if(!Y_(0,t))return;const c=Ti(t,n),h=Ca(r,n);switch(h_(c),h.loadingState){case Sr.NOT_STARTED:Ks(Rn.Loading,n,l),uv(h,t,n),h.loadingState===Sr.IN_PROGRESS&&k_(h,n,l);break;case Sr.IN_PROGRESS:Ks(Rn.Loading,n,l),k_(h,n,l);break;case Sr.COMPLETE:Ks(Rn.Complete,n,l);break;case Sr.FAILED:Ks(Rn.Error,n,l)}}function Wl(e,t,n){return cv.apply(this,arguments)}function cv(){return(cv=(0,E.A)(function*(e,t,n){const r=e.get(oa);if(r.hydrating.has(t))return;const{parentBlockPromise:c,hydrationQueue:h}=function m(e,t){const n=t.get(oa),l=t.get(En).get("__nghDeferData__",{});let c=!1,h=e,v=null;const g=[];for(;!c&&h;){c=n.has(h);const T=n.hydrating.get(h);if(null===v&&null!=T){v=T.promise;break}g.unshift(h),h=l[h].p}return{parentBlockPromise:v,hydrationQueue:g}}(t,e);if(0===h.length)return;null!==c&&h.shift(),function Vw(e,t){for(let n of t)e.hydrating.set(n,lv())}(r,h),null!==c&&(yield c);const v=h[0];r.has(v)?yield J_(e,h,n):r.awaitParentBlock(v,(0,E.A)(function*(){return yield J_(e,h,n)}))})).apply(this,arguments)}function J_(e,t,n){return dv.apply(this,arguments)}function dv(){return(dv=(0,E.A)(function*(e,t,n){const r=e.get(oa),l=r.hydrating,c=e.get(o.rev),h=c.add();for(let g=0;g<t.length;g++){const T=t[g],N=r.get(T);if(null==N){Uw(g,t,r),Z_(t.slice(g),r);break}if(yield Hw(N),yield $w(e),Bw(N)){wy(N),Z_(t.slice(g),r);break}l.get(T).resolve()}const v=t[t.length-1];yield l.get(v)?.promise,c.remove(h),n&&n(t),function kp(e,t,n,r){null!==e&&(n.cleanup(t),Yu(e.lContainer),function Ep(e){const t=e._views;for(const n of t){const r=Ko(n);null!==r&&null!==r[o.jgP]&&((0,o.q$2)(r)?Il(r):Yu(r))}}(r))}(r.get(v),t,r,e.get(_h))})).apply(this,arguments)}function Bw(e){return Ti(e.lView,e.tNode)[1]===Rn.Error}function Uw(e,t,n){const r=e-1,l=r>-1?n.get(t[r]):null;l&&Yu(l.lContainer)}function Z_(e,t){const n=t.hydrating;for(const r in e)n.get(r)?.reject();t.cleanup(e)}function $w(e){return new Promise(t=>Fm(t,{injector:e}))}function Hw(e){return mv.apply(this,arguments)}function mv(){return(mv=(0,E.A)(function*(e){const{tNode:t,lView:n}=e,r=Ti(n,t);return new Promise(l=>{(function Ww(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(r,l),Hl(0,n,t)})})).apply(this,arguments)}function fr(e,t,n){return 0===e?eb(t,n):2!==e||!eb(t,n)}function eb(e,t){const n=e[o.YEL],r=Ca(e[o.eDl],t),l=po(n),c=function zw(e){return null!=e&&!(1&~e)}(r.flags),v=null!==Ti(e,t)[6];return!(c&&v&&l)}function Gs(e,t){const n=Ca(e,t);return n.hydrateTriggers??=new Map}function pv(e,t,n,r){const l=(0,o.OAn)();return un(l,(0,o.xbp)(),t)&&((0,o.klJ)(),function Nf(e,t,n,r,l,c){const h=(0,o.d31)(e,t);Iu(t[o.GpT],h,c,e.value,n,r,l)}((0,o.CpD)(),l,e,t,n,r)),pv}const _E=new o.nKC("",{providedIn:"root",factory:()=>!1}),bE=new o.nKC("",{providedIn:"root",factory:()=>wE}),wE=4e3,zl=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function wh(e){return e[o.YEL].get(_E,!1)}function hv(e){const t=pc.get(e);if(t){for(const n of t.cleanupFns)n();pc.delete(e)}Kl.delete(e)}const CE=()=>{},pc=new WeakMap,Kl=new WeakMap,hc=new WeakMap;function fv(e,t){const n=hc.get(e);if(n&&n.length>0){const r=n.findIndex(l=>l===t);r>-1&&n.splice(r,1)}0===n?.length&&hc.delete(e)}function Eh(e,t){const n=hc.get(e)?.shift(),r=t[o.rQE];if(r){const c=ki(e.index,r)?.previousSibling;n&&c&&n===c&&n.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function rb(e,t){hc.has(e)?hc.get(e)?.push(t):hc.set(e,[t])}function kh(e){const t=e[o.Isx]??={};return t.enter??=new Map}function Gl(e){const t=e[o.Isx]??={};return t.leave??=new Map}function ab(e){const t="function"==typeof e?e():e;let n=Array.isArray(t)?t:null;return"string"==typeof t&&(n=t.trim().split(/\s+/).filter(r=>r)),n}function ib(e,t){const n=Kl.get(t);return void 0===n||t===e.target&&(void 0!==n.animationName&&e.animationName===n.animationName||void 0!==n.propertyName&&e.propertyName===n.propertyName)}function Ch(e,t,n){const r=e.get(t.index)??{animateFns:[]};r.animateFns.push(n),e.set(t.index,r)}function yv(e,t){if(e)for(const n of e)n();for(const n of t)n()}function vv(e,t){const n=Gl(e).get(t.index);n&&(n.resolvers=void 0)}function Dh(e,t,n,r,l){fv(t,n),yv(r,l),vv(e,t)}class PE{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),l=Math.max(t,n),c=this.detach(l);if(l-r>1){const h=this.detach(r);this.attach(r,c),this.attach(l,h)}else this.attach(r,c)}move(t,n){this.attach(n,this.detach(t))}}function _v(e,t,n,r,l){return e===n&&Object.is(t,r)?1:Object.is(l(e,t),l(n,r))?-1:0}function bv(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function ob(e,t,n,r,l){if(bv(e,t,r,n(r,l)))e.updateValue(r,l);else{const c=e.create(r,l);e.attach(r,c)}}function sb(e,t,n,r){const l=new Set;for(let c=t;c<=n;c++)l.add(r(c,e.at(c)));return l}class lb{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(r);)r=l.get(r);l.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(r);)r=l.get(r),t(r,n)}}}function ub(e,t,n,r,l,c,h,v){Qr("NgControlFlow");const g=(0,o.OAn)(),T=(0,o.klJ)();return Ul(g,T,e,t,n,r,l,(0,o.db4)(T.consts,c),256,h,v),wv}function wv(e,t,n,r,l,c,h,v){Qr("NgControlFlow");const g=(0,o.OAn)(),T=(0,o.klJ)();return Ul(g,T,e,t,n,r,l,(0,o.db4)(T.consts,c),512,h,v),wv}function cb(e,t){Qr("NgControlFlow");const n=(0,o.OAn)(),r=(0,o.xbp)(),l=n[r]!==wn?n[r]:-1,c=-1!==l?Ih(n,o.Yw1+l):void 0;if(un(n,r,e)){const v=(0,G.Ht)(null);try{if(void 0!==c&&ed(c,0),-1!==e){const g=o.Yw1+e,T=Ih(n,g),N=Ev(n[o.eDl],g),K=Vs(T,N,n);ds(T,vl(n,N,t,{dehydratedView:K}),0,ls(N,K))}}finally{(0,G.Ht)(v)}}else if(void 0!==c){const v=ap(c,0);void 0!==v&&(v[o.SKP]=t)}}class LE{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-o.Y20}}class BE{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function db(e,t,n,r,l,c,h,v,g,T,N,K,ne){Qr("NgControlFlow");const re=(0,o.OAn)(),Ie=(0,o.klJ)(),Xe=void 0!==g,pt=(0,o.OAn)(),bt=v?h.bind(pt[o.b5C][o.SKP]):h,Ye=new BE(Xe,bt);pt[o.Yw1+e]=Ye,Ul(re,Ie,e+1,t,n,r,l,(0,o.db4)(Ie.consts,c),256),Xe&&Ul(re,Ie,e+2,g,T,N,K,(0,o.db4)(Ie.consts,ne),512)}class UE extends PE{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-o.Y20}at(t){return this.getLView(t)[o.SKP].$implicit}attach(t,n){const r=n[o.tcA];this.needsIndexUpdate||=t!==this.length,ds(this.lContainer,n,t,ls(this.templateTNode,r)),function VE(e,t){if(e.length<=o.Y20)return;const r=e[o.Y20+t],l=r?r[o.Isx]:void 0;r&&l&&l.detachedLeaveAnimationFns&&l.detachedLeaveAnimationFns.length>0&&(function wg(e,t){const n=e.get(Du);if(t.detachedLeaveAnimationFns){for(const r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}(r[o.YEL],l),os.delete(r),l.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function $E(e,t){if(e.length<=o.Y20)return;const r=e[o.Y20+t],l=r?r[o.Isx]:void 0;l&&l.leave&&l.leave.size>0&&(l.detachedLeaveAnimationFns=[])}(this.lContainer,t),function HE(e,t){return Us(e,t)}(this.lContainer,t)}create(t,n){const l=vl(this.hostLView,this.templateTNode,new LE(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),l}destroy(t){Tu(t[o.eDl],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[o.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[o.SKP].$index=t}getLView(t){return function WE(e,t){return ap(e,t)}(this.lContainer,t)}}function mb(e){const t=(0,G.Ht)(null),n=(0,o._px)();try{const r=(0,o.OAn)(),l=r[o.eDl],c=r[n],h=n+1,v=Ih(r,h);if(void 0===c.liveCollection){const T=Ev(l,h);c.liveCollection=new UE(v,r,T)}else c.liveCollection.reset();const g=c.liveCollection;if(function NE(e,t,n){let r,l,c=0,h=e.length-1;if(Array.isArray(t)){let g=t.length-1;for(;c<=h&&c<=g;){const T=e.at(c),N=t[c],K=_v(c,T,c,N,n);if(0!==K){K<0&&e.updateValue(c,N),c++;continue}const ne=e.at(h),re=t[g],Ie=_v(h,ne,g,re,n);if(0!==Ie){Ie<0&&e.updateValue(h,re),h--,g--;continue}const Xe=n(c,T),pt=n(h,ne),bt=n(c,N);if(Object.is(bt,pt)){const Ye=n(g,re);Object.is(Ye,Xe)?(e.swap(c,h),e.updateValue(h,re),g--,h--):e.move(h,c),e.updateValue(c,N),c++;continue}if(r??=new lb,l??=sb(e,c,h,n),bv(e,r,c,bt))e.updateValue(c,N),c++,h++;else if(l.has(bt))r.set(Xe,e.detach(c)),h--;else{const Ye=e.create(c,t[c]);e.attach(c,Ye),c++,h++}}for(;c<=g;)ob(e,r,n,c,t[c]),c++}else if(null!=t){const g=t[Symbol.iterator]();let T=g.next();for(;!T.done&&c<=h;){const N=e.at(c),K=T.value,ne=_v(c,N,c,K,n);if(0!==ne)ne<0&&e.updateValue(c,K),c++,T=g.next();else{r??=new lb,l??=sb(e,c,h,n);const re=n(c,K);if(bv(e,r,c,re))e.updateValue(c,K),c++,h++,T=g.next();else if(l.has(re)){const Ie=n(c,N);r.set(Ie,e.detach(c)),h--}else e.attach(c,e.create(c,K)),c++,h++,T=g.next()}}for(;!T.done;)ob(e,r,n,e.length,T.value),T=g.next()}for(;c<=h;)e.destroy(e.detach(h--));r?.forEach(g=>{e.destroy(g)})}(g,e,c.trackByFn),g.updateIndexes(),c.hasEmptyBlock){const T=(0,o.xbp)(),N=0===g.length;if(un(r,T,N)){const K=n+2,ne=Ih(r,K);if(N){const re=Ev(l,K),Ie=Vs(ne,re,r);ds(ne,vl(r,re,void 0,{dehydratedView:Ie}),0,ls(re,Ie))}else l.firstUpdatePass&&Xu(ne),ed(ne,0)}}}finally{(0,G.Ht)(t)}}function Ih(e,t){return e[t]}function Ev(e,t){return(0,o.XRZ)(e,t)}function kv(e,t,n){const r=(0,o.OAn)();return un(r,(0,o.xbp)(),t)&&((0,o.klJ)(),yl((0,o.CpD)(),r,e,t,r[o.GpT],n)),kv}function Cv(e,t,n,r,l){Ru(t,e,n,l?"class":"style",r)}function Mh(e,t,n,r){const l=(0,o.OAn)(),c=l[o.eDl],h=e+o.Yw1,v=c.firstCreatePass?rc(h,l,2,t,qc,(0,o.ckz)(),n,r):c.data[h];if(Mu(v,l,e,t,Tv),(0,o.yoD)(v)){const g=l[o.eDl];Kc(g,l,v),$t(g,v,l)}return null!=r&&fl(l,v),Mh}function xh(){const e=(0,o.klJ)(),n=xu((0,o.Mx4)());return e.firstCreatePass&&ac(e,n),(0,o.UhH)(n)&&(0,o.krE)(),(0,o.N79)(),null!=n.classesWithoutHost&&function An(e){return!!(8&e.flags)}(n)&&Cv(e,n,(0,o.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function an(e){return!!(16&e.flags)}(n)&&Cv(e,n,(0,o.OAn)(),n.stylesWithoutHost,!1),xh}function Dv(e,t,n,r){return Mh(e,t,n,r),xh(),Dv}function Rh(e,t,n,r){const l=(0,o.OAn)(),c=l[o.eDl],h=e+o.Yw1,v=c.firstCreatePass?Bp(h,c,2,t,n,r):c.data[h];return Mu(v,l,e,t,Tv),null!=r&&fl(l,v),Rh}function Oh(){const t=xu((0,o.Mx4)());return(0,o.UhH)(t)&&(0,o.krE)(),(0,o.N79)(),Oh}let Tv=(e,t,n,r,l)=>((0,o.m7n)(!0),ns(t[o.GpT],r,(0,o.UaU)()));function Ph(e,t,n){const r=(0,o.OAn)(),l=r[o.eDl],c=e+o.Yw1,h=l.firstCreatePass?rc(c,r,8,"ng-container",qc,(0,o.ckz)(),t,n):l.data[c];if(Mu(h,r,e,"ng-container",Sv),(0,o.yoD)(h)){const v=r[o.eDl];Kc(v,r,h),$t(v,h,r)}return null!=n&&fl(r,h),Ph}function Ud(){const e=(0,o.klJ)(),n=xu((0,o.Mx4)());return e.firstCreatePass&&ac(e,n),Ud}function Av(e,t,n){const r=(0,o.OAn)(),l=r[o.eDl],c=e+o.Yw1,h=l.firstCreatePass?Bp(c,l,8,"ng-container",t,n):l.data[c];return Mu(h,r,e,"ng-container",Sv),null!=n&&fl(r,h),Av}function fb(){return xu((0,o.Mx4)()),Ud}let Sv=(e,t,n,r,l)=>((0,o.m7n)(!0),Rc(t[o.GpT],""));function vb(){return(0,o.OAn)()}const Nh=void 0;var qE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nh,"{1} 'at' {0}",Nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GE(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let fc={};function Iv(e){const t=function QE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=wb(t);if(n)return n;const r=t.split("-")[0];if(n=wb(r),n)return n;if("en"===r)return qE;throw new o.buA(701,!1)}function bb(e){return Iv(e)[yc.PluralCase]}function wb(e){return e in fc||(fc[e]=o.laP.ng&&o.laP.ng.common&&o.laP.ng.common.locales&&o.laP.ng.common.locales[e]),fc[e]}var yc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(yc||{});const XE=["zero","one","two","few","many"],Mv="en-US",Lh={marker:"element"},Fh={marker:"ICU"};var Si=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Si||{});let Eb=Mv;function ZE(e){"string"==typeof e&&(Eb=e.toLowerCase().replace(/_/g,"-"))}let Vd=0,$d=0;let Hd=(e,t,n,r)=>((0,o.m7n)(!0),function kb(e,t,n){const r=e[o.GpT];switch(n){case Node.COMMENT_NODE:return Rc(r,t);case Node.TEXT_NODE:return xc(r,t);case Node.ELEMENT_NODE:return ns(r,t,null)}}(e,n,r));function Cb(e,t,n,r){const l=n[o.GpT];let h,c=null;for(let v=0;v<t.length;v++){const g=t[v];if("string"==typeof g){const T=t[++v];null===n[T]&&(n[T]=Hd(n,0,g,Node.TEXT_NODE))}else if("number"==typeof g)switch(1&g){case 0:const T=dp(g);let N,K;if(null===c&&(c=T,h=l.parentNode(r)),T===c?(N=r,K=h):(N=null,K=(0,o.IvY)(n[T])),null!==K){const Xe=Hu(g);rs(l,K,n[Xe],N,!1);const bt=kl(e,Xe);if(null!==bt&&"object"==typeof bt){const Ye=Cl(bt,n);null!==Ye&&Cb(e,bt.create[Ye],n,n[bt.anchorIdx])}}break;case 1:const re=t[++v],Ie=t[++v];Iu(l,(0,o.vaC)(g>>>1,n),null,null,re,Ie,null)}else switch(g){case Fh:const T=t[++v],N=t[++v];null===n[N]&&le(n[N]=Hd(n,0,T,Node.COMMENT_NODE),n);break;case Lh:const K=t[++v],ne=t[++v];null===n[ne]&&le(n[ne]=Hd(n,0,K,Node.ELEMENT_NODE),n)}}}function Db(e,t,n,r,l){for(let c=0;c<n.length;c++){const h=n[c],v=n[++c];if(h&l){let g="";for(let T=c+1;T<=c+v;T++){const N=n[T];if("string"==typeof N)g+=N;else if("number"==typeof N)if(N<0)g+=(0,o.eFE)(t[r-N]);else{const K=N>>>2;switch(3&N){case 1:const ne=n[++T],re=n[++T],Ie=e.data[K];"string"==typeof Ie?Iu(t[o.GpT],t[K],null,Ie,ne,g,re):yl(Ie,t,ne,g,t[o.GpT],re);break;case 0:const Xe=t[K];null!==Xe&&_m(t[o.GpT],Xe,g);break;case 2:ik(e,kl(e,K),t,g);break;case 3:Tb(e,kl(e,K),r,t)}}}}else{const g=n[c+1];if(g>0&&!(3&~g)){const N=kl(e,g>>>2);t[N.currentCaseLViewIndex]<0&&Tb(e,N,r,t)}}c+=v}}function Tb(e,t,n,r){let l=r[t.currentCaseLViewIndex];if(null!==l){let c=Vd;l<0&&(l=r[t.currentCaseLViewIndex]=~l,c=-1),Db(e,r,t.update[l],n,c)}}function ik(e,t,n,r){const l=function ok(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function YE(e,t){const n=bb(t)(parseInt(e,10)),r=XE[n];return void 0!==r?r:"other"}(t,function ek(){return Eb}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Cl(t,n)!==l&&(Ab(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const h=n[t.anchorIdx];h&&Cb(e,t.create[l],n,h)}}function Ab(e,t,n){let r=Cl(t,n);if(null!==r){const l=t.remove[r];for(let c=0;c<l.length;c++){const h=l[c];if(h>0){const v=(0,o.vaC)(h,n);null!==v&&ll(n[o.GpT],v)}else Ab(e,kl(e,~h),n)}}}const jh=/\ufffd(\d+):?\d*\ufffd/gi,sk=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,lk=/\ufffd(\d+)\ufffd/,Ib=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uk=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ck=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dk=/\uE500/g;function Mb(e,t,n,r,l,c,h){const v=ul(e,r,1,null);let g=v<<Si.SHIFT,T=(0,o.Ab)();t===T&&(T=null),null===T&&(g|=Si.APPEND_EAGERLY),h&&(g|=Si.COMMENT,function ff(e){void 0===ml&&(ml=e())}(oy)),l.push(g,null===c?"":c);const N=El(e,v,h?32:1,null===c?"":c,null);ty(n,N);const K=N.index;return(0,o.iMd)(N,!1),null!==T&&t!==T&&function $u(e,t){let n=e.insertBeforeIndex;null===n?(Hc(lp,up),n=e.insertBeforeIndex=[null,t]):((0,o.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(T,K),N}function hk(e,t,n,r,l,c,h,v){const g=v.match(jh),N=Mb(t,n,r,h,l,g?null:v,!1).index;g&&zd(c,v,N,null,0,null),e.push({kind:0,index:N})}function zd(e,t,n,r,l,c){const h=e.length,v=h+1;e.push(null,null);const g=h+2,T=t.split(jh);let N=0;for(let K=0;K<T.length;K++){const ne=T[K];if(1&K){const re=l+parseInt(ne,10);e.push(-1-re),N|=xb(re)}else""!==ne&&e.push(ne)}return e.push(n<<2|(r?1:0)),r&&e.push(r,c),e[h]=N,e[v]=e.length-g,N}function yk(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function xb(e){return 1<<Math.min(e,31)}function Rb(e){let t,c,n="",r=0,l=!1;for(;null!==(t=uk.exec(e));)l?t[0]===`\ufffd/*${c}\ufffd`&&(r=t.index,l=!1):(n+=e.substring(r,t.index+t[0].length),c=t[1],l=!0);return n+=e.slice(r),n}function Ob(e,t,n,r,l,c,h){let v=0;const g={type:c.type,currentCaseLViewIndex:ul(t,n,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function wk(e,t,n){e.push(xb(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(r,c,h),function Vu(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(t,h,g);const T=c.values,N=[];for(let K=0;K<T.length;K++){const ne=T[K],re=[];for(let Xe=0;Xe<ne.length;Xe++){const pt=ne[Xe];if("string"!=typeof pt){const bt=re.push(pt)-1;ne[Xe]=`\x3c!--\ufffd${bt}\ufffd--\x3e`}}const Ie=[];N.push(Ie),v=_k(Ie,t,g,n,r,l,c.cases[K],ne.join(""),re)|v}v&&function Ek(e,t,n){e.push(t,1,n<<2|3)}(r,v,h),e.push({kind:3,index:h,cases:N,currentCaseLViewIndex:g.currentCaseLViewIndex})}function gk(e){const t=[],n=[];let r=1,l=0;const c=xv(e=e.replace(Ib,function(h,v,g){return r="select"===g?0:1,l=parseInt(v.slice(1),10),""}));for(let h=0;h<c.length;){let v=c[h++].trim();1===r&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&t.push(v);const g=xv(c[h++]);t.length>n.length&&n.push(g)}return{type:r,mainBinding:l,cases:t,values:n}}function xv(e){if(!e)return[];let t=0;const n=[],r=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(e);){const v=c.index;if("}"==c[0]){if(n.pop(),0==n.length){const g=e.substring(t,v);Ib.test(g)?r.push(gk(g)):r.push(g),t=v+1}}else{if(0==n.length){const g=e.substring(t,v);r.push(g),t=v+1}n.push("{")}}const h=e.substring(t);return r.push(h),r}function _k(e,t,n,r,l,c,h,v,g){const T=[],N=[],K=[];n.cases.push(h),n.create.push(T),n.remove.push(N),n.update.push(K);const re=Ps(je()).getInertBodyElement(v),Ie=Ce(re)||re;return Ie?Pb(e,t,n,r,l,T,N,K,Ie,c,g,0):0}function Pb(e,t,n,r,l,c,h,v,g,T,N,K){let ne=0,re=g.firstChild;for(;re;){const Ie=ul(t,r,1,null);switch(re.nodeType){case Node.ELEMENT_NODE:const Xe=re,pt=Xe.tagName.toLowerCase();if(nl.hasOwnProperty(pt)){Rv(c,Lh,pt,T,Ie),t.data[Ie]=pt;const Da=Xe.attributes;for(let Ts=0;Ts<Da.length;Ts++){const Xl=Da.item(Ts),g0=Xl.name.toLowerCase();Xl.value.match(jh)?al.hasOwnProperty(g0)&&zd(v,Xl.value,Ie,Xl.name,0,rl[g0]?Yo:null):kk(c,Ie,Xl)}const er={kind:1,index:Ie,children:[]};e.push(er),ne=Pb(er.children,t,n,r,l,c,h,v,re,Ie,N,K+1)|ne,Nb(h,Ie,K)}break;case Node.TEXT_NODE:const bt=re.textContent||"",Ye=bt.match(jh);Rv(c,null,Ye?"":bt,T,Ie),Nb(h,Ie,K),Ye&&(ne=zd(v,bt,Ie,null,0,null)|ne),e.push({kind:0,index:Ie});break;case Node.COMMENT_NODE:const Dn=lk.exec(re.textContent||"");if(Dn){const er=N[parseInt(Dn[1],10)];Rv(c,Fh,"",T,Ie),Ob(e,t,r,l,T,er,Ie),bk(h,Ie,K)}}re=re.nextSibling}return ne}function Nb(e,t,n){0===n&&e.push(t)}function bk(e,t,n){0===n&&(e.push(~t),e.push(t))}function Rv(e,t,n,r,l){null!==t&&e.push(t),e.push(n,l,function iy(e,t,n){return e|t<<17|n<<1}(0,r,l))}function kk(e,t,n){e.push(t<<1|1,n.name,n.value)}const Ck=/\[(\ufffd.+?\ufffd?)\]/,Dk=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Tk=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Ak=/{([A-Z0-9_]+)}/g,Sk=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ik=/\/\*/,Mk=/\d+\:(\d+)/;function Fb(e,t,n=-1){const r=(0,o.klJ)(),l=(0,o.OAn)(),c=o.Yw1+e,h=(0,o.db4)(r.consts,t),v=(0,o.Ab)();r.firstCreatePass&&function pk(e,t,n,r,l,c){const h=(0,o.Ab)(),v=[],g=[],T=[[]],N=[[]];l=function vk(e,t){if(function mp(e){return-1===e}(t))return Rb(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Rb(e.substring(n,r))}}(l,c);const K=function mk(e){return e.replace(dk," ")}(l).split(ck);for(let ne=0;ne<K.length;ne++){let re=K[ne];if(1&ne){const Ie=47===re.charCodeAt(0),Xe=re.charCodeAt(Ie?1:0),pt=o.Yw1+Number.parseInt(re.substring(Ie?2:1));if(Ie)T.shift(),N.shift(),(0,o.iMd)((0,o.Ab)(),!1);else{const bt=cp(e,T[0],pt);T.unshift([]),(0,o.iMd)(bt,!0);const Ye={kind:2,index:pt,children:[],type:35===Xe?0:1};N[0].push(Ye),N.unshift(Ye.children)}}else{const Ie=xv(re);for(let Xe=0;Xe<Ie.length;Xe++){let pt=Ie[Xe];if(1&Xe){const bt=pt;if("object"!=typeof bt)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const Dn=Mb(e,h,T[0],n,v,"",!0).index;Ob(N[0],e,n,g,t,bt,Dn)}else""!==pt&&hk(N[0],e,h,T[0],v,g,n,pt)}}}e.data[r]={create:v,update:g,ast:N[0],parentTNodeIndex:t}}(r,null===v?0:v.index,l,c,h,n),2===r.type?l[o.b5C][o.Wg1]|=32:l[o.Wg1]|=32;const g=r.data[c],N=Sf(r,v===l[o.qlT]?null:v,l);(function ak(e,t,n,r){const l=e[o.GpT];for(let c=0;c<t.length;c++){const h=t[c++],T=(h&Si.APPEND_EAGERLY)===Si.APPEND_EAGERLY,N=h>>>Si.SHIFT;let K=e[N],ne=!1;null===K&&(K=e[N]=Hd(e,0,t[c],(h&Si.COMMENT)===Si.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ne=(0,o.SX7)()),T&&null!==n&&ne&&rs(l,n,K,r,!1)}})(l,g.create,N,v&&8&v.type?l[v.index]:null),(0,o.xyx)(!0)}function jb(){(0,o.xyx)(!1)}function Ov(e,t,n){const r=(0,o.OAn)(),l=(0,o.klJ)(),c=(0,o.Mx4)();return Nv(l,r,r[o.GpT],c,e,t,n),Ov}function Pv(e,t,n){const r=(0,o.OAn)(),l=(0,o.klJ)(),c=(0,o.Mx4)();return(3&c.type||n)&&Vp(c,l,r,n,r[o.GpT],e,t,$i(c,r,t)),Pv}function Nv(e,t,n,r,l,c,h){let v=!0,g=null;if((3&r.type||h)&&(g??=$i(r,t,c),Vp(r,e,t,h,n,l,c,g)&&(v=!1)),v){const T=r.outputs?.[l],N=r.hostDirectiveOutputs?.[l];if(N&&N.length)for(let K=0;K<N.length;K+=2){const ne=N[K],re=N[K+1];g??=$i(r,t,c),Nl(r,t,ne,re,l,g)}if(T&&T.length)for(const K of T)g??=$i(r,t,c),Nl(r,t,K,l,l,g)}}function Vb(e=1){return(0,o.jvu)(e)}function Lk(e,t){let n=null;const r=function lf(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const c=t[l];if("*"!==c){if(null===r?fm(e,c,!0):Mc(r,c))return l}else n=l}return n}function $b(e,t,n,r){qy(e,t,n,r)}function Hb(e,t,n){Gy(e,t,n)}function Wb(e){const t=(0,o.OAn)(),n=(0,o.klJ)(),r=(0,o.w7Z)();(0,o.GA0)(r+1);const l=Rd(n,r);if(e.dirty&&(0,o.vOT)(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const c=rh(t,r);e.reset(c,xa),e.notifyOnChanges()}return!0}return!1}function zb(){return nh((0,o.OAn)(),(0,o.w7Z)())}function Kb(e){const t=(0,o.VPL)();return(0,o.Hh6)(t,o.Yw1+e)}function Bh(e,t){return e<<17|t<<2}function ql(e){return e>>17&32767}function Lv(e){return 2|e}function vc(e){return(131068&e)>>2}function Fv(e,t){return-131069&e|t<<2}function jv(e){return 1|e}function Gb(e,t,n,r){const l=e[n+1],c=null===t;let h=r?ql(l):vc(l),v=!1;for(;0!==h&&(!1===v||c);){const T=e[h+1];qk(e[h],t)&&(v=!0,e[h+1]=r?jv(T):Lv(T)),h=r?ql(T):vc(T)}v&&(e[n+1]=r?Lv(l):jv(l))}function qk(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,o.FRF)(e,t)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qb(e){return e.substring(Xr.key,Xr.keyEnd)}function Qk(e){return e.substring(Xr.value,Xr.valueEnd)}function Qb(e,t){const n=Xr.textEnd;return n===t?-1:(t=Xr.keyEnd=function Jk(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Xr.key=t,n),gc(e,t,n))}function Xb(e,t){const n=Xr.textEnd;let r=Xr.key=gc(e,t,n);return n===r?-1:(r=Xr.keyEnd=function Zk(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Jb(e,r,n),r=Xr.value=gc(e,r,n),r=Xr.valueEnd=function eC(e,t,n){let r=-1,l=-1,c=-1,h=t,v=h;for(;h<n;){const g=e.charCodeAt(h++);if(59===g)return v;34===g||39===g?v=h=Zb(e,g,h,n):t===h-4&&85===c&&82===l&&76===r&&40===g?v=h=Zb(e,41,h,n):g>32&&(v=h),c=l,l=r,r=-33&g}return v}(e,r,n),Jb(e,r,n))}function Yb(e){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=e.length}function gc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Jb(e,t,n,r){return(t=gc(e,t,n))<n&&t++,t}function Zb(e,t,n,r){let l=-1,c=n;for(;c<r;){const h=e.charCodeAt(c++);if(h==t&&92!==l)return c;l=92==h&&92===l?0:h}throw new Error}function Bv(e,t,n){return t1(e,t,n,!1),Bv}function Uv(e,t){return t1(e,t,null,!0),Uv}function nC(e,t){for(let n=function Yk(e){return Yb(e),Xb(e,gc(e,0,Xr.textEnd))}(t);n>=0;n=Xb(t,n))i1(e,qb(t),Qk(t))}function e1(e){n1(uC,rC,e,!0)}function rC(e,t){for(let n=function Xk(e){return Yb(e),Qb(e,gc(e,0,Xr.textEnd))}(t);n>=0;n=Qb(t,n))(0,o.ezK)(e,qb(t),!0)}function t1(e,t,n,r){const l=(0,o.OAn)(),c=(0,o.klJ)(),h=(0,o.b$O)(2);c.firstUpdatePass&&a1(c,e,h,r),t!==wn&&un(l,h,t)&&o1(c,c.data[(0,o._px)()],l,l[o.GpT],e,l[h+1]=function dC(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,o.AsM)(sa(e)))),e}(t,n),r,h)}function n1(e,t,n,r){const l=(0,o.klJ)(),c=(0,o.b$O)(2);l.firstUpdatePass&&a1(l,null,c,r);const h=(0,o.OAn)();if(n!==wn&&un(h,c,n)){const v=l.data[(0,o._px)()];if(l1(v,r)&&!r1(l,c)){let g=r?v.classesWithoutHost:v.stylesWithoutHost;null!==g&&(n=(0,o.n$e)(g,n||"")),Cv(l,v,h,n,r)}else!function cC(e,t,n,r,l,c,h,v){l===wn&&(l=o.Mlv);let g=0,T=0,N=0<l.length?l[0]:null,K=0<c.length?c[0]:null;for(;null!==N||null!==K;){const ne=g<l.length?l[g+1]:void 0,re=T<c.length?c[T+1]:void 0;let Xe,Ie=null;N===K?(g+=2,T+=2,ne!==re&&(Ie=K,Xe=re)):null===K||null!==N&&N<K?(g+=2,Ie=N):(T+=2,Ie=K,Xe=re),null!==Ie&&o1(e,t,n,r,Ie,Xe,h,v),N=g<l.length?l[g]:null,K=T<c.length?c[T]:null}}(l,v,h,h[o.GpT],h[c+1],h[c+1]=function lC(e,t,n){if(null==n||""===n)return o.Mlv;const r=[],l=sa(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)e(r,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&e(r,c,l[c]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,c)}}function r1(e,t){return t>=e.expandoStartIndex}function a1(e,t,n,r){const l=e.data;if(null===l[n+1]){const c=l[(0,o._px)()],h=r1(e,n);l1(c,r)&&null===t&&!h&&(t=!1),t=function aC(e,t,n,r){const l=(0,o.MT)(e);let c=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=Kd(n=Vv(null,e,t,n,r),t.attrs,r),c=null);else{const h=t.directiveStylingLast;if(-1===h||e[h]!==l)if(n=Vv(l,e,t,n,r),null===c){let g=function iC(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==vc(r))return e[ql(r)]}(e,t,r);void 0!==g&&Array.isArray(g)&&(g=Vv(null,e,t,g[1],r),g=Kd(g,t.attrs,r),function oC(e,t,n,r){e[ql(n?t.classBindings:t.styleBindings)]=r}(e,t,r,g))}else c=function sC(e,t,n){let r;const l=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<l;c++)r=Kd(r,e[c].hostAttrs,n);return Kd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(l,c,t,r),function Kk(e,t,n,r,l,c){let h=c?t.classBindings:t.styleBindings,v=ql(h),g=vc(h);e[r]=n;let N,T=!1;if(Array.isArray(n)?(N=n[1],(null===N||(0,o.FRF)(n,N)>0)&&(T=!0)):N=n,l)if(0!==g){const ne=ql(e[v+1]);e[r+1]=Bh(ne,v),0!==ne&&(e[ne+1]=Fv(e[ne+1],r)),e[v+1]=function Wk(e,t){return 131071&e|t<<17}(e[v+1],r)}else e[r+1]=Bh(v,0),0!==v&&(e[v+1]=Fv(e[v+1],r)),v=r;else e[r+1]=Bh(g,0),0===v?v=r:e[g+1]=Fv(e[g+1],r),g=r;T&&(e[r+1]=Lv(e[r+1])),Gb(e,N,r,!0),Gb(e,N,r,!1),function Gk(e,t,n,r,l){const c=l?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&(0,o.FRF)(c,t)>=0&&(n[r+1]=jv(n[r+1]))}(t,N,e,r,c),h=Bh(v,g),c?t.classBindings=h:t.styleBindings=h}(l,c,t,n,h,r)}}function Vv(e,t,n,r,l){let c=null;const h=n.directiveEnd;let v=n.directiveStylingLast;for(-1===v?v=n.directiveStart:v++;v<h&&(c=t[v],r=Kd(r,c.hostAttrs,l),c!==e);)v++;return null!==e&&(n.directiveStylingLast=v),r}function Kd(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?l=h:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,o.ezK)(e,h,!!n||t[++c]))}return void 0===e?null:e}function i1(e,t,n){(0,o.ezK)(e,t,sa(n))}function uC(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&(0,o.ezK)(e,r,n)}function o1(e,t,n,r,l,c,h,v){if(!(3&t.type))return;const g=e.data,T=g[v+1],N=function zk(e){return!(1&~e)}(T)?s1(g,t,n,l,vc(T),h):void 0;Uh(N)||(Uh(c)||function Hk(e){return!(2&~e)}(T)&&(c=s1(g,null,n,l,v,h)),function Sg(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:as.DashCase;null==l?e.removeStyle(n,r,c):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=as.Important),e.setStyle(n,r,l,c))}}(r,h,(0,o.vaC)((0,o._px)(),n),l,c))}function s1(e,t,n,r,l,c){const h=null===t;let v;for(;l>0;){const g=e[l],T=Array.isArray(g),N=T?g[1]:g,K=null===N;let ne=n[l+1];ne===wn&&(ne=K?o.Mlv:void 0);let re=K?(0,o.K7h)(ne,r):N===r?ne:void 0;if(T&&!Uh(re)&&(re=(0,o.K7h)(g,r)),Uh(re)&&(v=re,h))return v;const Ie=e[l+1];l=h?ql(Ie):vc(Ie)}if(null!==t){let g=c?t.residualClasses:t.residualStyles;null!=g&&(v=(0,o.K7h)(g,r))}return v}function Uh(e){return void 0!==e}function l1(e,t){return!!(e.flags&(t?8:16))}function u1(e,t=""){const n=(0,o.OAn)(),r=(0,o.klJ)(),l=e+o.Yw1,c=r.firstCreatePass?Po(r,l,1,t,null):r.data[l],h=c1(r,n,c,t,e);n[l]=h,(0,o.SX7)()&&Wc(r,n,h,c),(0,o.iMd)(c,!1)}let c1=(e,t,n,r,l)=>((0,o.m7n)(!0),xc(t[o.GpT],r));function d1(e,t){let n=!1,r=(0,o.c$7)();for(let c=1;c<t.length;c+=2)n=un(e,r++,t[c])||n;if((0,o.Kw3)(r),!n)return wn;let l=t[0];for(let c=1;c<t.length;c+=2)l+=(0,o.eFE)(t[c])+(c+1!==t.length?t[c+1]:"");return l}function m1(e,t,n,r=""){return un(e,(0,o.xbp)(),n)?t+(0,o.eFE)(n)+r:wn}function p1(e,t,n,r,l,c=""){const v=go(e,(0,o.c$7)(),n,l);return(0,o.b$O)(2),v?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c:wn}function h1(e,t,n,r,l,c,h,v=""){const T=ks(e,(0,o.c$7)(),n,l,h);return(0,o.b$O)(3),T?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v:wn}function f1(e,t,n,r,l,c,h,v,g,T=""){const K=ca(e,(0,o.c$7)(),n,l,h,g);return(0,o.b$O)(4),K?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v+(0,o.eFE)(g)+T:wn}function y1(e,t,n,r,l,c,h,v,g,T,N,K=""){const ne=(0,o.c$7)();let re=ca(e,ne,n,l,h,g);return re=un(e,ne+4,N)||re,(0,o.b$O)(5),re?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v+(0,o.eFE)(g)+T+(0,o.eFE)(N)+K:wn}function v1(e,t,n,r,l,c,h,v,g,T,N,K,ne,re=""){const Ie=(0,o.c$7)();let Xe=ca(e,Ie,n,l,h,g);return Xe=go(e,Ie+4,N,ne)||Xe,(0,o.b$O)(6),Xe?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v+(0,o.eFE)(g)+T+(0,o.eFE)(N)+K+(0,o.eFE)(ne)+re:wn}function g1(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe=""){const pt=(0,o.c$7)();let bt=ca(e,pt,n,l,h,g);return bt=ks(e,pt+4,N,ne,Ie)||bt,(0,o.b$O)(7),bt?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v+(0,o.eFE)(g)+T+(0,o.eFE)(N)+K+(0,o.eFE)(ne)+re+(0,o.eFE)(Ie)+Xe:wn}function _1(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe,pt,bt=""){const Ye=(0,o.c$7)();let Dn=ca(e,Ye,n,l,h,g);return Dn=ca(e,Ye+4,N,ne,Ie,pt)||Dn,(0,o.b$O)(8),Dn?t+(0,o.eFE)(n)+r+(0,o.eFE)(l)+c+(0,o.eFE)(h)+v+(0,o.eFE)(g)+T+(0,o.eFE)(N)+K+(0,o.eFE)(ne)+re+(0,o.eFE)(Ie)+Xe+(0,o.eFE)(pt)+bt:wn}function $v(e){return Vh("",e),$v}function Vh(e,t,n){const r=(0,o.OAn)(),l=m1(r,e,t,n);return l!==wn&&Ds(r,(0,o._px)(),l),Vh}function Hv(e,t,n,r,l){const c=(0,o.OAn)(),h=p1(c,e,t,n,r,l);return h!==wn&&Ds(c,(0,o._px)(),h),Hv}function Wv(e,t,n,r,l,c,h){const v=(0,o.OAn)(),g=h1(v,e,t,n,r,l,c,h);return g!==wn&&Ds(v,(0,o._px)(),g),Wv}function Ds(e,t,n){const r=(0,o.vaC)(t,e);_m(e[o.GpT],r,n)}function zv(e,t,n){(0,o.n$r)(t)&&(t=t());const r=(0,o.OAn)();return un(r,(0,o.xbp)(),t)&&((0,o.klJ)(),yl((0,o.CpD)(),r,e,t,r[o.GpT],n)),zv}function T1(e,t){const n=(0,o.n$r)(e);return n&&e.set(t),n}function Kv(e,t){const n=(0,o.OAn)(),r=(0,o.klJ)(),l=(0,o.Mx4)();return Nv(r,n,n[o.GpT],l,e,t),Kv}const A1={};function Gv(e,t,n,r,l){if(e=(0,o.nl4)(e),Array.isArray(e))for(let c=0;c<e.length;c++)Gv(e[c],t,n,r,l);else{const c=(0,o.klJ)(),h=(0,o.OAn)(),v=(0,o.Mx4)();let g=(0,o.Y3W)(e)?e:(0,o.nl4)(e.provide);const T=(0,o.Rc9)(e),N=1048575&v.providerIndexes,K=v.directiveStart,ne=v.providerIndexes>>20;if((0,o.Y3W)(e)||!e.multi){const re=new Kt(T,l,Ol,null),Ie=Qv(g,t,l?N:N+ne,K);-1===Ie?(lr(Mr(v,h),c,g),qv(c,e,t.length),t.push(g),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),n.push(re),h.push(re)):(n[Ie]=re,h[Ie]=re)}else{const re=Qv(g,t,N+ne,K),Ie=Qv(g,t,N,N+ne),pt=Ie>=0&&n[Ie];if(l&&!pt||!l&&!(re>=0&&n[re])){lr(Mr(v,h),c,g);const bt=function IC(e,t,n,r,l){const h=new Kt(e,n,Ol,null);return h.multi=[],h.index=t,h.componentProviders=0,I1(h,l,r&&!n),h}(l?SC:AC,n.length,l,r,T);!l&&pt&&(n[Ie].providerFactory=bt),qv(c,e,t.length,0),t.push(g),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),n.push(bt),h.push(bt)}else qv(c,e,re>-1?re:Ie,I1(n[l?Ie:re],T,!l&&r));!l&&r&&pt&&n[Ie].componentProviders++}}}function qv(e,t,n,r){const l=(0,o.Y3W)(t),c=(0,o.MME)(t);if(l||c){const g=(c?(0,o.nl4)(t.useClass):t).prototype.ngOnDestroy;if(g){const T=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const N=T.indexOf(n);-1===N?T.push(n,[r,g]):T[N+1].push(r,g)}else T.push(n,g)}}}function I1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qv(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function AC(e,t,n,r,l){return Xv(this.multi,[])}function SC(e,t,n,r,l){const c=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,g=Rr(r,r[o.eDl],this.providerFactory.index,l);h=g.slice(0,v),Xv(c,h);for(let T=v;T<g.length;T++)h.push(g[T])}else h=[],Xv(c,h);return h}function Xv(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function M1(e,t=[]){return n=>{n.providersResolver=(r,l)=>function TC(e,t,n){const r=(0,o.klJ)();if(r.firstCreatePass){const l=(0,o.JlV)(e);Gv(n,r.data,r.blueprint,l,!0),Gv(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}function $h(e){if("function"==typeof e)return e;const t=(0,o.Bqz)(e);return t.some(o.Jzi)?()=>t.map(o.nl4).map(x1):t.map(x1)}function x1(e){return _d(e)?e.ngModule:e}function R1(e,t,n,r){return L1((0,o.OAn)(),(0,o.gxQ)(),e,t,n,r)}function O1(e,t,n,r,l){return F1((0,o.OAn)(),(0,o.gxQ)(),e,t,n,r,l)}function P1(e,t,n,r,l,c){return j1((0,o.OAn)(),(0,o.gxQ)(),e,t,n,r,l,c)}function N1(e,t,n,r,l,c,h,v){const g=(0,o.gxQ)()+e,T=(0,o.OAn)(),N=ca(T,g,n,r,l,c);return un(T,g+4,h)||N?Vi(T,g+5,v?t.call(v,n,r,l,c,h):t(n,r,l,c,h)):vo(T,g+5)}function Gd(e,t){const n=e[t];return n===wn?void 0:n}function L1(e,t,n,r,l,c){const h=t+n;return un(e,h,l)?Vi(e,h+1,c?r.call(c,l):r(l)):Gd(e,h+1)}function F1(e,t,n,r,l,c,h){const v=t+n;return go(e,v,l,c)?Vi(e,v+2,h?r.call(h,l,c):r(l,c)):Gd(e,v+2)}function j1(e,t,n,r,l,c,h,v){const g=t+n;return ks(e,g,l,c,h)?Vi(e,g+3,v?r.call(v,l,c,h):r(l,c,h)):Gd(e,g+3)}function B1(e,t,n,r,l,c,h,v,g){const T=t+n;return ca(e,T,l,c,h,v)?Vi(e,T+4,g?r.call(g,l,c,h,v):r(l,c,h,v)):Gd(e,T+4)}function U1(e,t,n,r,l,c){let h=t+n,v=!1;for(let g=0;g<l.length;g++)un(e,h++,l[g])&&(v=!0);return v?Vi(e,h,r.apply(c,l)):Gd(e,h)}function V1(e,t){const n=(0,o.klJ)();let r;const l=e+o.Yw1;n.firstCreatePass?(r=function BC(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[l]=r,r.onDestroy&&(n.destroyHooks??=[]).push(l,r.onDestroy)):r=n.data[l];const c=r.factory||(r.factory=(0,o.wGu)(r.type,!0)),v=(0,o.a2B)(Ol);try{const g=Hn(!1),T=c();return Hn(g),(0,o.M_e)(n,(0,o.OAn)(),l,T),T}finally{(0,o.a2B)(v)}}function $1(e,t,n){const r=e+o.Yw1,l=(0,o.OAn)(),c=(0,o.Hh6)(l,r);return qd(l,r)?L1(l,(0,o.gxQ)(),t,c.transform,n,c):c.transform(n)}function H1(e,t,n,r){const l=e+o.Yw1,c=(0,o.OAn)(),h=(0,o.Hh6)(c,l);return qd(c,l)?F1(c,(0,o.gxQ)(),t,h.transform,n,r,h):h.transform(n,r)}function qd(e,t){return e[o.eDl].data[t].pure}function W1(e,t){return ps(e,t)}function Hh(e,t,n,r,l){const c=l[o.eDl];if(c!==r.tView)for(let h=o.Yw1;h<c.bindingStartIndex;h++){const v=l[h];if((0,o.A0l)(v)){(0,o.q$2)(v[o.jgP])&&Hh(e,t,n,r,v[o.jgP]);for(let g=o.Y20;g<v.length;g++)Hh(e,t,n,r,v[g])}else(0,o.q$2)(v)&&Hh(e,t,n,r,v)}else!function QC(e,t,n,r,l){const c=l[o.SKP];let h=l[o.jgP];const v=l[o.f7T],g=l[o.qlT],T=l[o.YEL].get(gn,null),N=()=>{if(r.encapsulation===gt.ShadowDom){const Ie=h.cloneNode(!1);h.replaceWith(Ie),h=Ie}const K=Pc(n),ne=vu(v,K,c,gu(n),h,g,null,null,null,null,null);(function XC(e,t,n,r){for(let l=o.Yw1;l<e[o.eDl].bindingStartIndex;l++){const c=e[l];if(((0,o.q$2)(c)||(0,o.A0l)(c))&&c[o.K29]===t){c[o.K29]=n;break}}e[o.EJG]===t&&(e[o.EJG]=n),e[o.Yrj]===t&&(e[o.Yrj]=n),n[o.K29]=t[o.K29],t[o.K29]=null,e[r]=n})(v,l,ne,g.index),Tu(l[o.eDl],l);const re=l[o.M0L].rendererFactory;(function qC(e,t){e.componentReplaced?.(t.id)})(re,r),ne[o.GpT]=re.createRenderer(h,n),Df(l[o.eDl],l),function YC(e){if(null!==e.projection){for(const t of e.projection)or(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(g),Ou(K,ne,c),rp(K,ne,K.template,c)};null===T?z1(e,t,N):T.run(()=>z1(e,t,N))}(e,t,n,r,l)}function z1(e,t,n){try{n()}catch(r){if(null!==t&&r.message){const c=r.message+(r.stack?"\n"+r.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:c,error:!0})}throw r}}const qs={\u0275\u0275animateEnter:function Th(e){if(Qr("NgAnimateEnter"),!zl)return Th;const t=(0,o.OAn)();if(wh(t))return Th;const n=(0,o.Mx4)();return Eh(n,t),Ch(kh(t),n,()=>function AE(e,t,n){const r=(0,o.d31)(t,e),l=e[o.GpT],c=e[o.YEL].get(gn),h=ab(n),v=[],g=N=>{if(N.target!==r)return;const K=N instanceof AnimationEvent?"animationend":"transitionend";c.runOutsideAngular(()=>{l.listen(r,K,T)})},T=N=>{N.target===r&&function SE(e,t,n){const r=pc.get(t);if(e.target===t&&r&&ib(e,t)){e.stopImmediatePropagation();for(const l of r.classList)n.removeClass(t,l);hv(t)}}(N,r,l)};if(h&&h.length>0){c.runOutsideAngular(()=>{v.push(l.listen(r,"animationstart",g)),v.push(l.listen(r,"transitionstart",g))}),function kE(e,t,n){const r=pc.get(e);if(r){for(const l of t)r.classList.push(l);for(const l of n)r.cleanupFns.push(l)}else pc.set(e,{classList:t,cleanupFns:n})}(r,h,v);for(const N of h)l.addClass(r,N);c.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(vf(r,Kl,zl),!Kl.has(r)){for(const N of h)l.removeClass(r,N);hv(r)}})})}}(t,n,e)),Vc(t[o.YEL]),$m(t[o.YEL],kh(t)),Th},\u0275\u0275animateEnterListener:function Ah(e){if(Qr("NgAnimateEnter"),!zl)return Ah;const t=(0,o.OAn)();if(wh(t))return Ah;const n=(0,o.Mx4)();return Eh(n,t),Ch(kh(t),n,()=>function IE(e,t,n){const r=(0,o.d31)(t,e);n.call(e[o.SKP],{target:r,animationComplete:CE})}(t,n,e)),Vc(t[o.YEL]),$m(t[o.YEL],kh(t)),Ah},\u0275\u0275animateLeave:function Sh(e){if(Qr("NgAnimateLeave"),!zl)return Sh;const t=(0,o.OAn)();if(wh(t))return Sh;const r=(0,o.Mx4)();return Eh(r,t),Ch(Gl(t),r,()=>function ME(e,t,n){const{promise:r,resolve:l}=lv(),c=(0,o.d31)(t,e),h=e[o.GpT],v=e[o.YEL].get(gn);os.add(e),(Gl(e).get(t.index).resolvers??=[]).push(l);const g=ab(n);return g&&g.length>0?function xE(e,t,n,r,l,c){!function DE(e,t){if(!zl)return;const n=pc.get(e);if(n&&n.classList.length>0&&function TE(e,t){for(const n of t)if(e.classList.contains(n))return!0;return!1}(e,n.classList))for(const r of n.classList)t.removeClass(e,r);hv(e)}(e,l);const h=[],v=Gl(n).get(t.index)?.resolvers,g=T=>{if(T.target===e&&(T instanceof CustomEvent||ib(T,e))){if(T.stopImmediatePropagation(),Kl.delete(e),fv(t,e),Array.isArray(t.projection))for(const N of r)l.removeClass(e,N);yv(v,h),vv(n,t)}};c.runOutsideAngular(()=>{h.push(l.listen(e,"animationend",g)),h.push(l.listen(e,"transitionend",g))}),rb(t,e);for(const T of r)l.addClass(e,T);c.runOutsideAngular(()=>{requestAnimationFrame(()=>{vf(e,Kl,zl),Kl.has(e)||(fv(t,e),yv(v,h),vv(n,t))})})}(c,t,e,g,h,v):l(),{promise:r,resolve:l}}(t,r,e)),Vc(t[o.YEL]),Sh},\u0275\u0275animateLeaveListener:function gv(e){if(Qr("NgAnimateLeave"),!zl)return gv;const t=(0,o.OAn)(),n=(0,o.Mx4)();return Eh(n,t),os.add(t),Ch(Gl(t),n,()=>function RE(e,t,n){const{promise:r,resolve:l}=lv(),c=(0,o.d31)(t,e),h=[],v=e[o.GpT],g=wh(e),T=e[o.YEL].get(gn),N=e[o.YEL].get(bE);(Gl(e).get(t.index).resolvers??=[]).push(l);const K=Gl(e).get(t.index)?.resolvers;if(g)Dh(e,t,c,K,h);else{const ne=setTimeout(()=>Dh(e,t,c,K,h),N),re={target:c,animationComplete:()=>{Dh(e,t,c,K,h),clearTimeout(ne)}};rb(t,c),T.runOutsideAngular(()=>{h.push(v.listen(c,"animationend",()=>{Dh(e,t,c,K,h),clearTimeout(ne)},{once:!0}))}),n.call(e[o.SKP],re)}return{promise:r,resolve:l}}(t,n,e)),Vc(t[o.YEL]),gv},\u0275\u0275attribute:pv,\u0275\u0275defineComponent:Ht,\u0275\u0275defineDirective:Di,\u0275\u0275defineInjectable:o.jDH,\u0275\u0275defineInjector:o.G2t,\u0275\u0275defineNgModule:Tn,\u0275\u0275definePipe:eo,\u0275\u0275directiveInject:Ol,\u0275\u0275getInheritedFactory:Ma,\u0275\u0275inject:o.KVO,\u0275\u0275injectAttribute:no,\u0275\u0275invalidFactory:function Np(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:o.dmw,\u0275\u0275templateRefExtractor:W1,\u0275\u0275resetView:o.Njj,\u0275\u0275HostDirectivesFeature:function da(e){const t=n=>{const r=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=Cs,n.hostDirectives=r?e.map(Bl):[e]):r?n.hostDirectives.unshift(...e.map(Bl)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:rn,\u0275\u0275ProvidersFeature:M1,\u0275\u0275CopyDefinitionFeature:function Zy(e){let n,t=Dt(e.type);n=(0,o.JlV)(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const l of Xn)r[l]=n[l];if((0,o.JlV)(n))for(const l of dh)r[l]=n[l]},\u0275\u0275InheritDefinitionFeature:Mt,\u0275\u0275ExternalStylesFeature:function MC(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(l=>l+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:Vb,\u0275\u0275namespaceHTML:o.joV,\u0275\u0275namespaceMathML:o.By9,\u0275\u0275namespaceSVG:o.qSk,\u0275\u0275enableBindings:o.cSN,\u0275\u0275disableBindings:o.fuf,\u0275\u0275elementStart:Mh,\u0275\u0275elementEnd:xh,\u0275\u0275element:Dv,\u0275\u0275elementContainerStart:Ph,\u0275\u0275elementContainerEnd:Ud,\u0275\u0275domElement:function pb(e,t,n,r){return Rh(e,t,n,r),Oh(),pb},\u0275\u0275domElementStart:Rh,\u0275\u0275domElementEnd:Oh,\u0275\u0275domElementContainer:function yb(e,t,n){return Av(e,t,n),fb(),yb},\u0275\u0275domElementContainerStart:Av,\u0275\u0275domElementContainerEnd:fb,\u0275\u0275domTemplate:function u_(e,t,n,r,l,c,h,v){const g=(0,o.OAn)(),T=(0,o.klJ)();return Ul(g,T,e,t,n,r,l,(0,o.db4)(T.consts,c),void 0,h,v),u_},\u0275\u0275domListener:Pv,\u0275\u0275elementContainer:function hb(e,t,n){return Ph(e,t,n),Ud(),hb},\u0275\u0275pureFunction0:function OC(e,t,n){const r=(0,o.gxQ)()+e,l=(0,o.OAn)();return l[r]===wn?Vi(l,r,n?t.call(n):t()):vo(l,r)},\u0275\u0275pureFunction1:R1,\u0275\u0275pureFunction2:O1,\u0275\u0275pureFunction3:P1,\u0275\u0275pureFunction4:function PC(e,t,n,r,l,c,h){return B1((0,o.OAn)(),(0,o.gxQ)(),e,t,n,r,l,c,h)},\u0275\u0275pureFunction5:N1,\u0275\u0275pureFunction6:function NC(e,t,n,r,l,c,h,v,g){const T=(0,o.gxQ)()+e,N=(0,o.OAn)(),K=ca(N,T,n,r,l,c);return go(N,T+4,h,v)||K?Vi(N,T+6,g?t.call(g,n,r,l,c,h,v):t(n,r,l,c,h,v)):vo(N,T+6)},\u0275\u0275pureFunction7:function LC(e,t,n,r,l,c,h,v,g,T){const N=(0,o.gxQ)()+e,K=(0,o.OAn)();let ne=ca(K,N,n,r,l,c);return ks(K,N+4,h,v,g)||ne?Vi(K,N+7,T?t.call(T,n,r,l,c,h,v,g):t(n,r,l,c,h,v,g)):vo(K,N+7)},\u0275\u0275pureFunction8:function FC(e,t,n,r,l,c,h,v,g,T,N){const K=(0,o.gxQ)()+e,ne=(0,o.OAn)(),re=ca(ne,K,n,r,l,c);return ca(ne,K+4,h,v,g,T)||re?Vi(ne,K+8,N?t.call(N,n,r,l,c,h,v,g,T):t(n,r,l,c,h,v,g,T)):vo(ne,K+8)},\u0275\u0275pureFunctionV:function jC(e,t,n,r){return U1((0,o.OAn)(),(0,o.gxQ)(),e,t,n,r)},\u0275\u0275getCurrentView:vb,\u0275\u0275restoreView:o.eBV,\u0275\u0275listener:Ov,\u0275\u0275projection:function jk(e,t=0,n,r,l,c){const h=(0,o.OAn)(),v=(0,o.klJ)(),g=r?e+1:null;null!==g&&Ul(h,v,g,r,l,c,null,n);const T=Po(v,o.Yw1+e,16,null,n||null);null===T.projection&&(T.projection=t),(0,o.Pfq)();const K=!h[o.tcA]||(0,o.KtD)();null===h[o.b5C][o.qlT].projection[T.projection]&&null!==g?function Bk(e,t,n){const r=o.Yw1+n,l=t.data[r],c=e[r];ds(c,vl(e,l,void 0,{dehydratedView:null}),0,ls(l,null))}(h,v,g):K&&!ni(T)&&function Ag(e,t,n){Qm(t[o.GpT],0,t,n,Au(e,n,t),Km(n.parent||t[o.qlT],n,t))}(v,h,T)},\u0275\u0275syntheticHostProperty:function _b(e,t,n){const r=(0,o.OAn)();if(un(r,(0,o.xbp)(),t)){const c=(0,o.klJ)(),h=(0,o.CpD)();Jm(h,r,e,t,ep((0,o.MT)(c.data),h,r),n)}return _b},\u0275\u0275syntheticHostListener:function Ub(e,t){const n=(0,o.Mx4)(),r=(0,o.OAn)(),l=(0,o.klJ)();return Nv(l,r,ep((0,o.MT)(l.data),n,r),n,e,t),Ub},\u0275\u0275pipeBind1:$1,\u0275\u0275pipeBind2:H1,\u0275\u0275pipeBind3:function UC(e,t,n,r,l){const c=e+o.Yw1,h=(0,o.OAn)(),v=(0,o.Hh6)(h,c);return qd(h,c)?j1(h,(0,o.gxQ)(),t,v.transform,n,r,l,v):v.transform(n,r,l)},\u0275\u0275pipeBind4:function VC(e,t,n,r,l,c){const h=e+o.Yw1,v=(0,o.OAn)(),g=(0,o.Hh6)(v,h);return qd(v,h)?B1(v,(0,o.gxQ)(),t,g.transform,n,r,l,c,g):g.transform(n,r,l,c)},\u0275\u0275pipeBindV:function $C(e,t,n){const r=e+o.Yw1,l=(0,o.OAn)(),c=(0,o.Hh6)(l,r);return qd(l,r)?U1(l,(0,o.gxQ)(),t,c.transform,n,c):c.transform.apply(c,n)},\u0275\u0275projectionDef:function Fk(e){const t=(0,o.OAn)()[o.b5C][o.qlT];if(!t.projection){const r=t.projection=(0,o.WfI)(e?e.length:1,null),l=r.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const h=e?Lk(c,e):0;null!==h&&(l[h]?l[h].projectionNext=c:r[h]=c,l[h]=c)}c=c.next}}},\u0275\u0275domProperty:function gb(e,t,n){const r=(0,o.OAn)();return un(r,(0,o.xbp)(),t)&&((0,o.klJ)(),Jm((0,o.CpD)(),r,e,t,r[o.GpT],n)),gb},\u0275\u0275ariaProperty:function nb(e,t){const n=(0,o.OAn)();if(un(n,(0,o.xbp)(),t)){const l=(0,o.klJ)(),c=(0,o.CpD)();if(Ru(c,l,n,e,t))(0,o.Qs1)(c)&&Gc(n,c.index);else{const v=(0,o.d31)(c,n);Iu(n[o.GpT],v,null,c.value,e,t,null)}}return nb},\u0275\u0275property:kv,\u0275\u0275pipe:V1,\u0275\u0275queryRefresh:Wb,\u0275\u0275queryAdvance:function $k(e=1){(0,o.GA0)((0,o.w7Z)()+e)},\u0275\u0275viewQuery:Hb,\u0275\u0275viewQuerySignal:function Vk(e,t,n,r){ih(e,Gy(t,n,r))},\u0275\u0275loadQuery:zb,\u0275\u0275contentQuery:$b,\u0275\u0275contentQuerySignal:function Uk(e,t,n,r,l){ih(t,qy(e,n,r,l))},\u0275\u0275reference:Kb,\u0275\u0275classMap:e1,\u0275\u0275styleMap:function tC(e){n1(i1,nC,e,!1)},\u0275\u0275styleProp:Bv,\u0275\u0275classProp:Uv,\u0275\u0275advance:Dm,\u0275\u0275template:ev,\u0275\u0275conditional:cb,\u0275\u0275conditionalCreate:ub,\u0275\u0275conditionalBranchCreate:wv,\u0275\u0275defer:function Xw(e,t,n,r,l,c,h,v,g,T){const N=(0,o.OAn)(),K=(0,o.klJ)(),ne=e+o.Yw1,re=Ul(N,K,e,null,0,0),Ie=N[o.YEL],Xe=po(Ie);if(K.firstCreatePass){Qr("NgDefer");const Ts={primaryTmplIndex:t,loadingTmplIndex:r??null,placeholderTmplIndex:l??null,errorTmplIndex:c??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:Sr.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:T??0};g?.(K,Ts,v,h),function I0(e,t,n){const r=Fd(t);e.data[r]=n}(K,ne,Ts)}const pt=N[ne];Jp(pt,re,N);let bt=null,Ye=null;if(pt[o.qFA]?.length>0){const Ts=pt[o.qFA][0].data;Ye=Ts[bi]??null,bt=Ts.s}const Dn=[null,sc.Initial,null,null,null,null,Ye,bt,null,null];!function S0(e,t,n){e[Fd(t)]=n}(N,ne,Dn);let Da=null;null!==Ye&&Xe&&(Da=Ie.get(oa),Da.add(Ye,{lView:N,tNode:re,lContainer:pt}));const er=()=>{h_(Dn),null!==Ye&&Da?.cleanup([Ye])};Ld(0,Dn,()=>(0,o.DyX)(N,er)),(0,o.ik5)(N,er)},\u0275\u0275deferWhen:function Yw(e){const t=(0,o.OAn)(),n=(0,o.CpD)();if(fr(0,t,n)&&un(t,(0,o.xbp)(),e)){const l=(0,G.Ht)(null);try{const c=!!e,v=Ti(t,n)[1];!1===c&&v===sc.Initial?dc(t,n):!0===c&&(v===sc.Initial||v===Rn.Placeholder)&&Hl(0,t,n)}finally{(0,G.Ht)(l)}}},\u0275\u0275deferOnIdle:function tE(){fr(0,(0,o.OAn)(),(0,o.Mx4)())&&q_(fh)},\u0275\u0275deferOnImmediate:function aE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(0,e,t)&&(null===Ca(e[o.eDl],t).loadingTmplIndex&&dc(e,t),Hl(0,e,t))},\u0275\u0275deferOnTimer:function sE(e){fr(0,(0,o.OAn)(),(0,o.Mx4)())&&q_(yh(e))},\u0275\u0275deferOnHover:function cE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();fr(0,n,r)&&(dc(n,r),cc(n,r,e,t,As,()=>Hl(0,n,r),0))},\u0275\u0275deferOnInteraction:function pE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();fr(0,n,r)&&(dc(n,r),cc(n,r,e,t,zi,()=>Hl(0,n,r),0))},\u0275\u0275deferOnViewport:function yE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();fr(0,n,r)&&(dc(n,r),cc(n,r,e,t,nv,()=>Hl(0,n,r),0))},\u0275\u0275deferPrefetchWhen:function Jw(e){const t=(0,o.OAn)(),n=(0,o.CpD)();if(fr(1,t,n)&&un(t,(0,o.xbp)(),e)){const l=(0,G.Ht)(null);try{const c=!!e,v=Ca(t[o.eDl],n);!0===c&&v.loadingState===Sr.NOT_STARTED&&Bd(v,t,n)}finally{(0,G.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function nE(){fr(1,(0,o.OAn)(),(0,o.Mx4)())&&Q_(fh)},\u0275\u0275deferPrefetchOnImmediate:function iE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();if(!fr(1,e,t))return;const r=Ca(e[o.eDl],t);r.loadingState===Sr.NOT_STARTED&&uv(r,e,t)},\u0275\u0275deferPrefetchOnTimer:function lE(e){fr(1,(0,o.OAn)(),(0,o.Mx4)())&&Q_(yh(e))},\u0275\u0275deferPrefetchOnHover:function dE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();if(!fr(1,n,r))return;const c=Ca(n[o.eDl],r);c.loadingState===Sr.NOT_STARTED&&cc(n,r,e,t,As,()=>Bd(c,n,r),1)},\u0275\u0275deferPrefetchOnInteraction:function hE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();if(!fr(1,n,r))return;const c=Ca(n[o.eDl],r);c.loadingState===Sr.NOT_STARTED&&cc(n,r,e,t,zi,()=>Bd(c,n,r),1)},\u0275\u0275deferPrefetchOnViewport:function vE(e,t){const n=(0,o.OAn)(),r=(0,o.Mx4)();if(!fr(1,n,r))return;const c=Ca(n[o.eDl],r);c.loadingState===Sr.NOT_STARTED&&cc(n,r,e,t,nv,()=>Bd(c,n,r),1)},\u0275\u0275deferHydrateWhen:function Zw(e){const t=(0,o.OAn)(),n=(0,o.CpD)();if(!fr(2,t,n))return;const r=(0,o.xbp)();if(Gs((0,o.klJ)(),n).set(6,null),un(t,r,e)){const h=t[o.YEL],v=(0,G.Ht)(null);try{1==!!e&&Wl(h,Ti(t,n)[6])}finally{(0,G.Ht)(v)}}},\u0275\u0275deferHydrateNever:function eE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&Gs((0,o.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function rE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&(Gs((0,o.klJ)(),t).set(0,null),X_(fh,e,t))},\u0275\u0275deferHydrateOnImmediate:function oE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&(Gs((0,o.klJ)(),t).set(1,null),Wl(e[o.YEL],Ti(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function uE(e){const t=(0,o.OAn)(),n=(0,o.Mx4)();fr(2,t,n)&&(Gs((0,o.klJ)(),n).set(5,{delay:e}),X_(yh(e),t,n))},\u0275\u0275deferHydrateOnHover:function mE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&Gs((0,o.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function fE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&Gs((0,o.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function gE(){const e=(0,o.OAn)(),t=(0,o.Mx4)();fr(2,e,t)&&Gs((0,o.klJ)(),t).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function H0(e,t,n,r){const l=e.consts;null!=n&&(t.placeholderBlockConfig=(0,o.db4)(l,n)),null!=r&&(t.loadingBlockConfig=(0,o.db4)(l,r)),null===av&&(av=$0)},\u0275\u0275repeater:mb,\u0275\u0275repeaterCreate:db,\u0275\u0275repeaterTrackByIndex:function FE(e){return e},\u0275\u0275repeaterTrackByIdentity:function jE(e,t){return t},\u0275\u0275componentInstance:function OE(){return(0,o.OAn)()[o.b5C][o.SKP]},\u0275\u0275text:u1,\u0275\u0275textInterpolate:$v,\u0275\u0275textInterpolate1:Vh,\u0275\u0275textInterpolate2:Hv,\u0275\u0275textInterpolate3:Wv,\u0275\u0275textInterpolate4:function b1(e,t,n,r,l,c,h,v,g){const T=(0,o.OAn)(),N=f1(T,e,t,n,r,l,c,h,v,g);return N!==wn&&Ds(T,(0,o._px)(),N),b1},\u0275\u0275textInterpolate5:function w1(e,t,n,r,l,c,h,v,g,T,N){const K=(0,o.OAn)(),ne=y1(K,e,t,n,r,l,c,h,v,g,T,N);return ne!==wn&&Ds(K,(0,o._px)(),ne),w1},\u0275\u0275textInterpolate6:function E1(e,t,n,r,l,c,h,v,g,T,N,K,ne){const re=(0,o.OAn)(),Ie=v1(re,e,t,n,r,l,c,h,v,g,T,N,K,ne);return Ie!==wn&&Ds(re,(0,o._px)(),Ie),E1},\u0275\u0275textInterpolate7:function k1(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie){const Xe=(0,o.OAn)(),pt=g1(Xe,e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie);return pt!==wn&&Ds(Xe,(0,o._px)(),pt),k1},\u0275\u0275textInterpolate8:function C1(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe,pt){const bt=(0,o.OAn)(),Ye=_1(bt,e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe,pt);return Ye!==wn&&Ds(bt,(0,o._px)(),Ye),C1},\u0275\u0275textInterpolateV:function D1(e){const t=(0,o.OAn)(),n=d1(t,e);return n!==wn&&Ds(t,(0,o._px)(),n),D1},\u0275\u0275i18n:function Rk(e,t,n){Fb(e,t,n),jb()},\u0275\u0275i18nAttributes:function Ok(e,t){const n=(0,o.klJ)(),r=(0,o.db4)(n.consts,t);!function fk(e,t,n){const l=(0,o.Mx4)().index,c=[];if(e.firstCreatePass&&null===e.data[t]){for(let h=0;h<n.length;h+=2){const v=n[h],g=n[h+1];if(""!==g){if(sk.test(g))throw new Error(`ICU expressions are not supported in attributes. Message: "${g}".`);zd(c,g,l,v,yk(c),null)}}e.data[t]=c}}(n,e+o.Yw1,r)},\u0275\u0275i18nExp:function Bb(e){return function tk(e){e&&(Vd|=1<<Math.min($d,31)),$d++}(un((0,o.OAn)(),(0,o.xbp)(),e)),Bb},\u0275\u0275i18nStart:Fb,\u0275\u0275i18nEnd:jb,\u0275\u0275i18nApply:function Pk(e){!function nk(e,t,n){if($d>0){const r=e.data[n];Db(e,t,Array.isArray(r)?r:r.update,(0,o.c$7)()-$d-1,Vd)}Vd=0,$d=0}((0,o.klJ)(),(0,o.OAn)(),e+o.Yw1)},\u0275\u0275i18nPostprocess:function Nk(e,t={}){return function xk(e,t={}){let n=e;if(Ck.test(e)){const r={},l=[0];n=n.replace(Dk,(c,h,v)=>{const g=h||v,T=r[g]||[];if(T.length||(g.split("|").forEach(Xe=>{const pt=Xe.match(Mk),bt=pt?parseInt(pt[1],10):0,Ye=Ik.test(Xe);T.push([bt,Ye,Xe])}),r[g]=T),!T.length)throw new Error(`i18n postprocess: unmatched placeholder - ${g}`);const N=l[l.length-1];let K=0;for(let Xe=0;Xe<T.length;Xe++)if(T[Xe][0]===N){K=Xe;break}const[ne,re,Ie]=T[K];return re?l.pop():N!==ne&&l.push(ne),T.splice(K,1),Ie})}return Object.keys(t).length&&(n=n.replace(Tk,(r,l,c,h,v,g)=>t.hasOwnProperty(c)?`${l}${t[c]}${g}`:r),n=n.replace(Ak,(r,l)=>t.hasOwnProperty(l)?t[l]:r),n=n.replace(Sk,(r,l)=>{if(t.hasOwnProperty(l)){const c=t[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${l}`);return c.shift()}return r})),n}(e,t)},\u0275\u0275resolveWindow:function Zh(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function ef(e){return e.ownerDocument},\u0275\u0275resolveBody:function dm(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function xC(e,t,n){const r=e.\u0275cmp;r.directiveDefs=zs(t,qn),r.pipeDefs=zs(n,o.oyA)},\u0275\u0275setNgModuleScope:function RC(e,t){return z(()=>{const n=(0,o.WbQ)(e);n.declarations=$h(t.declarations||o.Mlv),n.imports=$h(t.imports||o.Mlv),n.exports=$h(t.exports||o.Mlv),t.bootstrap&&(n.bootstrap=$h(t.bootstrap)),Rl.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:w,\u0275\u0275getComponentDepsFactory:function HC(e,t){return()=>{try{return Rl.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function WC(e,t){const n=(0,o.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function S1(e){const t=(0,o.klJ)(),n=(0,o.OAn)(),r=e+o.Yw1,l=Po(t,r,128,null,null);return(0,o.iMd)(l,!1),(0,o.M_e)(t,n,r,A1),S1},\u0275\u0275storeLet:function pC(e){Qr("NgLet");const t=(0,o.klJ)(),n=(0,o.OAn)(),r=(0,o._px)();return(0,o.M_e)(t,n,r,e),e},\u0275\u0275readContextLet:function hC(e){const t=(0,o.VPL)(),n=(0,o.Hh6)(t,o.Yw1+e);if(n===A1)throw new o.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function fC(e,t){const n=(0,o.klJ)(),r=(0,o.OAn)(),l=r[o.GpT],c="data-ng-source-location";for(const[h,v,g,T]of t){(0,o.XRZ)(n,h+o.Yw1);const K=(0,o.vaC)(h+o.Yw1,r);K.hasAttribute(c)||l.setAttribute(K,c,`${e}@o:${v},l:${g},c:${T}`)}},\u0275\u0275interpolate:function yC(e){return un((0,o.OAn)(),(0,o.xbp)(),e)?(0,o.eFE)(e):wn},\u0275\u0275interpolate1:function vC(e,t,n=""){return m1((0,o.OAn)(),e,t,n)},\u0275\u0275interpolate2:function gC(e,t,n,r,l=""){return p1((0,o.OAn)(),e,t,n,r,l)},\u0275\u0275interpolate3:function _C(e,t,n,r,l,c,h=""){return h1((0,o.OAn)(),e,t,n,r,l,c,h)},\u0275\u0275interpolate4:function bC(e,t,n,r,l,c,h,v,g=""){return f1((0,o.OAn)(),e,t,n,r,l,c,h,v,g)},\u0275\u0275interpolate5:function wC(e,t,n,r,l,c,h,v,g,T,N=""){return y1((0,o.OAn)(),e,t,n,r,l,c,h,v,g,T,N)},\u0275\u0275interpolate6:function EC(e,t,n,r,l,c,h,v,g,T,N,K,ne=""){return v1((0,o.OAn)(),e,t,n,r,l,c,h,v,g,T,N,K,ne)},\u0275\u0275interpolate7:function kC(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie=""){return g1((0,o.OAn)(),e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie)},\u0275\u0275interpolate8:function CC(e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe,pt=""){return _1((0,o.OAn)(),e,t,n,r,l,c,h,v,g,T,N,K,ne,re,Ie,Xe,pt)},\u0275\u0275interpolateV:function DC(e){return d1((0,o.OAn)(),e)},\u0275\u0275sanitizeHtml:function dn(e){const t=pu();return t?ka(t.sanitize(ot.HTML,e)||""):pr(e,"HTML")?ka(sa(e)):function q(e,t){let n=null;try{P=P||Ps(e);let r=t?String(t):"";n=P.getInertBodyElement(r);let l=5,c=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=P.getInertBodyElement(r)}while(r!==c);return Tr((new Cc).sanitizeChildren(Ce(n)||n))}finally{if(n){const r=Ce(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(je(),(0,o.eFE)(e))},\u0275\u0275sanitizeStyle:function la(e){const t=pu();return t?t.sanitize(ot.STYLE,e)||"":pr(e,"Style")?sa(e):(0,o.eFE)(e)},\u0275\u0275sanitizeResourceUrl:xn,\u0275\u0275sanitizeScript:function ji(e){const t=pu();if(t)return xs(t.sanitize(ot.SCRIPT,e)||"");if(pr(e,"Script"))return xs(sa(e));throw new o.buA(905,!1)},\u0275\u0275sanitizeUrl:Un,\u0275\u0275sanitizeUrlOrResourceUrl:mu,\u0275\u0275trustConstantHtml:function Tc(e){return Tr(e[0])},\u0275\u0275trustConstantResourceUrl:function tm(e){return function vn(e){return kn()?.createScriptURL(e)||e}(e[0])},\u0275\u0275validateIframeAttribute:function ee(e,t,n){const r=(0,o.OAn)(),l=(0,o.CpD)(),c=(0,o.d31)(l,r);if(2===l.type&&"iframe"===t.toLowerCase()){const h=c;throw h.src="",h.srcdoc=Tr(""),ll(r[o.GpT],h),new o.buA(-910,!1)}return e},forwardRef:o.Rfq,resolveForwardRef:o.nl4,\u0275\u0275twoWayProperty:zv,\u0275\u0275twoWayBindingSet:T1,\u0275\u0275twoWayListener:Kv,\u0275\u0275replaceMetadata:function KC(e,t,n,r,l=null,c=null){const h=(0,o.xUg)(e);t.apply(null,[e,n,...r]);const{newDef:v,oldDef:g}=function GC(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(h,(0,o.xUg)(e));if(e[o.CQl]=v,g.tView){const T=function xi(){return _a}().values();for(const N of T)(0,o.EFk)(N)&&null===N[o.f7T]&&Hh(l,c,v,g,N)}},\u0275\u0275getReplaceMetadataURL:function zC(e,t,n){const r=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(r,n).href}};let _c=null;function JC(e){null!==_c&&(e.defaultEncapsulation!==_c.defaultEncapsulation||e.preserveWhitespaces!==_c.preserveWhitespaces)||(_c=e)}const Qd=[];function Y1(e){return _d(e)?e.ngModule:e}const yD=J("NgModule",e=>e,void 0,0,(e,t)=>function nD(e,t={}){(function rD(e,t){const r=(0,o.Bqz)(t.declarations||o.Mlv);let l=null;Object.defineProperty(e,o.hmW,{configurable:!0,get:()=>(null===l&&(l=ht().compileNgModule(qs,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,o.Bqz)(t.bootstrap||o.Mlv).map(o.nl4),declarations:r.map(o.nl4),imports:(0,o.Bqz)(t.imports||o.Mlv).map(o.nl4).map(Y1),exports:(0,o.Bqz)(t.exports||o.Mlv).map(o.nl4).map(Y1),schemas:t.schemas?(0,o.Bqz)(t.schemas):null,id:t.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(e,o.zSs,{get:()=>{if(null===c){const v=ht();c=v.compileFactory(qs,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Yn(e),target:v.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let h=null;Object.defineProperty(e,o.ONQ,{get:()=>{if(null===h){const v={name:e.name,type:e,providers:t.providers||o.Mlv,imports:[(t.imports||o.Mlv).map(o.nl4),(t.exports||o.Mlv).map(o.nl4)]};h=ht().compileInjector(qs,`ng:///${e.name}/\u0275inj.js`,v)}return h},configurable:!1})})(e,t),void 0!==t.id&&w(e,t.id),function eD(e,t){Qd.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class vD{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let gD=(()=>{class e{compileModuleSync(n){return new lt(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=oi((0,o.phH)(n).declarations).reduce((h,v)=>{const g=(0,o.xUg)(v);return g&&h.push(new qp(g)),h},[]);return new vD(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _D=new o.nKC("");let bD=(()=>{class e{zone=(0,o.WQX)(gn);changeDetectionScheduler=(0,o.WQX)(o.hk6);applicationRef=(0,o.WQX)(_h);applicationErrorHandler=(0,o.WQX)(o.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const u0=new o.nKC("",{factory:()=>!1});function c0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new gn({...tg(),scheduleInRootZone:n}),[{provide:gn,useFactory:e},{provide:o.Z63,multi:!0,useFactory:()=>{const r=(0,o.WQX)(bD,{optional:!0});return()=>r.initialize()}},{provide:o.Z63,multi:!0,useFactory:()=>{const r=(0,o.WQX)(wD);return()=>{r.initialize()}}},!0===t?{provide:o.Jy$,useValue:!0}:[],{provide:o.AQb,useValue:n??Mm},{provide:o.ZTf,useFactory:()=>{const r=(0,o.WQX)(gn),l=(0,o.WQX)(o.uvJ);let c;return h=>{r.runOutsideAngular(()=>{l.destroyed&&!c?setTimeout(()=>{throw h}):(c??=l.get(o.zcH),c.handleError(h))})}}}]}function tg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let wD=(()=>{class e{subscription=new pe.yU;initialized=!1;zone=(0,o.WQX)(gn);pendingTasks=(0,o.WQX)(o.rev);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),p0=(()=>{class e{applicationErrorHandler=(0,o.WQX)(o.ZTf);appRef=(0,o.WQX)(_h);taskService=(0,o.WQX)(o.rev);ngZone=(0,o.WQX)(gn);zonelessEnabled=(0,o.WQX)(o.Evm);tracing=(0,o.WQX)(pl,{optional:!0});disableScheduling=(0,o.WQX)(o.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pe.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,o.WQX)(o.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const l=this.useMicrotaskScheduler?Om:Rm;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Om(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,o.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h0=new o.nKC("",{providedIn:"root",factory:()=>(0,o.WQX)(h0,{optional:!0,skipSelf:!0})||function ED(){return typeof $localize<"u"&&$localize.locale||Mv}()}),kD=new o.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(it,Ee,V)=>{"use strict";function E(o){return o}V.d(Ee,{D:()=>E})},3757:(it,Ee,V)=>{"use strict";V.d(Ee,{o:()=>E});var E=function(o){return o.Head="head",o.Body="body",o.Legs="legs",o.Onehand="onehand",o.Twohand="twohand",o.Small="small",o}(E||{})},3794:(it,Ee,V)=>{"use strict";V.d(Ee,{ms:()=>O,lI:()=>pe});var E=V(8071);function G(z){return z[z.length-1]}function O(z){return(0,E.T)(G(z))?z.pop():void 0}function pe(z){return function o(z){return z&&(0,E.T)(z.schedule)}(G(z))?z.pop():void 0}},4060:(it,Ee,V)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const E=V(1635),o=E.__importDefault(V(3242));Ee.PostgrestClient=o.default;const G=E.__importDefault(V(8666));Ee.PostgrestQueryBuilder=G.default;const O=E.__importDefault(V(3608));Ee.PostgrestFilterBuilder=O.default;const pe=E.__importDefault(V(3342));Ee.PostgrestTransformBuilder=pe.default;const Z=E.__importDefault(V(5958));Ee.PostgrestBuilder=Z.default;const z=E.__importDefault(V(4659));Ee.PostgrestError=z.default,Ee.default={PostgrestClient:o.default,PostgrestQueryBuilder:G.default,PostgrestFilterBuilder:O.default,PostgrestTransformBuilder:pe.default,PostgrestBuilder:Z.default,PostgrestError:z.default}},4242:(it,Ee,V)=>{"use strict";V.d(Ee,{Vh:()=>ie,im:()=>Z});var E=V(4412),o=V(2615),G=V(4675),O=V(7473),pe=V(3077),Z=function(ve){return ve.Host="host",ve.Client="client",ve}(Z||{}),z=function(ve){return ve.JoinSession="join-session",ve.ElementsUpdate="elements-update",ve.RoundUpdate="round-update",ve.GraveyardUpdate="graveyard-update",ve.CharactersUpdate="characters-update",ve}(z||{});let ie=(()=>{class ve{appContext;notificationService;localStorageService;ws=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnecting=!1;role;updatingFromServer=!1;clientId=null;clientIdSubject=new E.t(null);sessionId=0;sessionIdSubject=new E.t(null);clientId$=this.clientIdSubject.asObservable();sessionId$=this.sessionIdSubject.asObservable();constructor(J,ce,fe){this.appContext=J,this.notificationService=ce,this.localStorageService=fe,this.subscribeAndBroadcast(this.appContext.roundNumber$,z.RoundUpdate,me=>({roundNumber:me})),this.subscribeAndBroadcast(this.appContext.creatures$,z.CharactersUpdate,me=>({characters:me})),this.subscribeAndBroadcast(this.appContext.elements$,z.ElementsUpdate,me=>({elements:me}))}subscribeAndBroadcast(J,ce,fe){J.subscribe(me=>{this.updatingFromServer||this.sendUpdateMessage(ce,{...fe(me),originatingClientId:this.clientId})})}connect(J,ce){this.role=J,null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),null!=ce&&(this.sessionId=ce,this.localStorageService.setSessionId(ce)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(1e3,"Switching session or reconnecting"),this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const fe=this.getSessionId(),me={type:z.JoinSession,...null!=fe&&{sessionId:fe},characters:this.role===Z.Host?this.appContext.getCreatures():[],roundNumber:this.role===Z.Host?this.appContext.getRoundNumber():1,elementStates:this.role===Z.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(me)),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onerror=fe=>{this.isConnected=!1,this.tryReconnect()},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect()},this.ws.onmessage=fe=>{const me=JSON.parse(fe.data);if("session-joined"===me.type)return this.handleSessionJoined(me);if(me.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,me.type){case z.CharactersUpdate:this.appContext.setCreatures(me.characters);break;case z.GraveyardUpdate:this.appContext.setGraveyard(me.graveyard);break;case z.RoundUpdate:this.appContext.setRoundNumber(me.roundNumber);break;case z.ElementsUpdate:this.appContext.setElements(me.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${me.type}`)}this.updatingFromServer=!1}}}tryReconnect(){if(!this.reconnecting&&this.getSessionId())if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const J=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role,this.getSessionId()),this.reconnecting=!1},J)}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts.")}sendUpdateMessage(J,ce){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:J,...ce,originatingClientId:this.clientId}))}handleSessionJoined(J){this.clientId=J.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=J.sessionId,this.localStorageService.setSessionId(J.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${J.sessionId}.`)}requestServerState(J){this.sendUpdateMessage("request-latest-state",{sessionId:J})}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId()}static \u0275fac=function(ce){return new(ce||ve)(o.KVO(G.B),o.KVO(O.J),o.KVO(pe.s))};static \u0275prov=o.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},4341:(it,Ee,V)=>{"use strict";V.d(Ee,{Zm:()=>ye,me:()=>$e,YN:()=>mr,tU:()=>Hi,BC:()=>vr,vS:()=>Wt});var E=V(3664),o=V(2615),G=V(9295),O=V(7705),pe=V(7303),Z=V(6648),z=V(1985),ie=V(3073),ve=V(8750),he=V(3794),J=V(4360),ce=V(6450),fe=V(8496),De=V(1413),Ge=V(6354);let Re=(()=>{class S{_renderer;_elementRef;onChange=C=>{};onTouched=()=>{};constructor(C,$){this._renderer=C,this._elementRef=$}setProperty(C,$){this._renderer.setProperty(this._elementRef.nativeElement,C,$)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}static \u0275fac=function($){return new($||S)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:S})}return S})(),Ke=(()=>{class S extends Re{static \u0275fac=(()=>{let C;return function(oe){return(C||(C=E.xGo(S)))(oe||S)}})();static \u0275dir=E.FsC({type:S,features:[E.Vt3]})}return S})();const rt=new o.nKC(""),ht={provide:rt,useExisting:(0,o.Rfq)(()=>ye),multi:!0};let ye=(()=>{class S extends Ke{writeValue(C){this.setProperty("checked",C)}static \u0275fac=(()=>{let C;return function(oe){return(C||(C=E.xGo(S)))(oe||S)}})();static \u0275dir=E.FsC({type:S,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,oe){1&$&&E.bIt("change",function(Rt){return oe.onChange(Rt.target.checked)})("blur",function(){return oe.onTouched()})},standalone:!1,features:[E.Jv_([ht]),E.Vt3]})}return S})();const Pe={provide:rt,useExisting:(0,o.Rfq)(()=>$e),multi:!0},qe=new o.nKC("");let $e=(()=>{class S extends Re{_compositionMode;_composing=!1;constructor(C,$,oe){super(C,$),this._compositionMode=oe,null==this._compositionMode&&(this._compositionMode=!function ke(){const S=(0,pe.rb)()?(0,pe.rb)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(C){this.setProperty("value",C??"")}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}static \u0275fac=function($){return new($||S)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(qe,8))};static \u0275dir=E.FsC({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,oe){1&$&&E.bIt("input",function(Rt){return oe._handleInput(Rt.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(Rt){return oe._compositionEnd(Rt.target.value)})},standalone:!1,features:[E.Jv_([Pe]),E.Vt3]})}return S})();const wt=new o.nKC(""),tn=new o.nKC("");function te(S){return M=>{const C=M.value?.length??function St(S){return null==S?null:Array.isArray(S)||"string"==typeof S?S.length:S instanceof Set?S.size:null}(M.value);return null!==C&&C>S?{maxlength:{requiredLength:S,actualLength:C}}:null}}function ue(S){return null}function _e(S){return null!=S}function Be(S){return(0,E.yLl)(S)?(0,Z.H)(S):S}function Me(S){let M={};return S.forEach(C=>{M=null!=C?{...M,...C}:M}),0===Object.keys(M).length?null:M}function Ue(S,M){return M.map(C=>C(S))}function Yt(S){return S.map(M=>function ut(S){return!S.validate}(M)?M:C=>M.validate(C))}function Lt(S){return null!=S?function mt(S){if(!S)return null;const M=S.filter(_e);return 0==M.length?null:function(C){return Me(Ue(C,M))}}(Yt(S)):null}function Fe(S){return null!=S?function be(S){if(!S)return null;const M=S.filter(_e);return 0==M.length?null:function(C){return function me(...S){const M=(0,he.ms)(S),{args:C,keys:$}=(0,ie.D)(S),oe=new z.c(yt=>{const{length:Rt}=C;if(!Rt)return void yt.complete();const Zn=new Array(Rt);let Ba=Rt,ei=Rt;for(let qr=0;qr<Rt;qr++){let Wi=!1;(0,ve.Tg)(C[qr]).subscribe((0,J._)(yt,ko=>{Wi||(Wi=!0,ei--),Zn[qr]=ko},()=>Ba--,void 0,()=>{(!Ba||!Wi)&&(ei||yt.next($?(0,fe.e)($,Zn):Zn),yt.complete())}))}});return M?oe.pipe((0,ce.I)(M)):oe}(Ue(C,M).map(Be)).pipe((0,Ge.T)(Me))}}(Yt(S)):null}function We(S,M){return null===S?[M]:Array.isArray(S)?[...S,M]:[S,M]}function Zt(S){return S?Array.isArray(S)?S:[S]:[]}function Kt(S,M){return Array.isArray(S)?S.includes(M):S===M}function Yr(S,M){const C=Zt(M);return Zt(S).forEach(oe=>{Kt(C,oe)||C.push(oe)}),C}function or(S,M){return Zt(M).filter(C=>!Kt(S,C))}class Jr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,C){return!!this.control&&this.control.hasError(M,C)}getError(M,C){return this.control?this.control.getError(M,C):null}}class An extends Jr{name;get formDirective(){return null}get path(){return null}}class an extends Jr{_parent=null;name=null;valueAccessor=null}class Ta{_cd;constructor(M){this._cd=M}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let vr=(()=>{class S extends Ta{constructor(C){super(C)}static \u0275fac=function($){return new($||S)(E.rXU(an,2))};static \u0275dir=E.FsC({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,oe){2&$&&E.AVh("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},standalone:!1,features:[E.Vt3]})}return S})();const lr="VALID",Sa="INVALID",ur="PENDING",cr="DISABLED";class tr{}class gr extends tr{value;source;constructor(M,C){super(),this.value=M,this.source=C}}class Vr extends tr{pristine;source;constructor(M,C){super(),this.pristine=M,this.source=C}}class xr extends tr{touched;source;constructor(M,C){super(),this.touched=M,this.source=C}}class Fn extends tr{status;source;constructor(M,C){super(),this.status=M,this.source=C}}class fi extends tr{source;constructor(M){super(),this.source=M}}function en(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}class zn{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(M,C){this._assignValidators(M),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,G.O8)(this.statusReactive)}set status(M){(0,G.O8)(()=>this.statusReactive.set(M))}_status=(0,G.EW)(()=>this.statusReactive());statusReactive=(0,o.vPA)(void 0);get valid(){return this.status===lr}get invalid(){return this.status===Sa}get pending(){return this.status==ur}get disabled(){return this.status===cr}get enabled(){return this.status!==cr}errors;get pristine(){return(0,G.O8)(this.pristineReactive)}set pristine(M){(0,G.O8)(()=>this.pristineReactive.set(M))}_pristine=(0,G.EW)(()=>this.pristineReactive());pristineReactive=(0,o.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,G.O8)(this.touchedReactive)}set touched(M){(0,G.O8)(()=>this.touchedReactive.set(M))}_touched=(0,G.EW)(()=>this.touchedReactive());touchedReactive=(0,o.vPA)(!1);get untouched(){return!this.touched}_events=new De.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Yr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Yr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(or(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(or(M,this._rawAsyncValidators))}hasValidator(M){return Kt(this._rawValidators,M)}hasAsyncValidator(M){return Kt(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){const C=!1===this.touched;this.touched=!0;const $=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:$}),C&&!1!==M.emitEvent&&this._events.next(new xr(!0,$))}markAllAsDirty(M={}){this.markAsDirty({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(C=>C.markAllAsDirty(M))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(C=>C.markAllAsTouched(M))}markAsUntouched(M={}){const C=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const $=M.sourceControl??this;this._forEachChild(oe=>{oe.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:$})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,$),C&&!1!==M.emitEvent&&this._events.next(new xr(!1,$))}markAsDirty(M={}){const C=!0===this.pristine;this.pristine=!1;const $=M.sourceControl??this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:$}),C&&!1!==M.emitEvent&&this._events.next(new Vr(!1,$))}markAsPristine(M={}){const C=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const $=M.sourceControl??this;this._forEachChild(oe=>{oe.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,$),C&&!1!==M.emitEvent&&this._events.next(new Vr(!0,$))}markAsPending(M={}){this.status=ur;const C=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new Fn(this.status,C)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:C})}disable(M={}){const C=this._parentMarkedDirty(M.onlySelf);this.status=cr,this.errors=null,this._forEachChild(oe=>{oe.disable({...M,onlySelf:!0})}),this._updateValue();const $=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new gr(this.value,$)),this._events.next(new Fn(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:C},this),this._onDisabledChange.forEach(oe=>oe(!0))}enable(M={}){const C=this._parentMarkedDirty(M.onlySelf);this.status=lr,this._forEachChild($=>{$.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:C},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(M,C){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},C),this._parent._updateTouched({},C))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const $=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lr||this.status===ur)&&this._runAsyncValidator($,M.emitEvent)}const C=M.sourceControl??this;!1!==M.emitEvent&&(this._events.next(new gr(this.value,C)),this._events.next(new Fn(this.status,C)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:C})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cr:lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,C){if(this.asyncValidator){this.status=ur,this._hasOwnPendingAsyncValidator={emitEvent:!1!==C,shouldHaveEmitted:!1!==M};const $=Be(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(oe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(oe,{emitEvent:C,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const M=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,M}return!1}setErrors(M,C={}){this.errors=M,this._updateControlsErrors(!1!==C.emitEvent,this,C.shouldHaveEmitted)}get(M){let C=M;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce(($,oe)=>$&&$._find(oe),this)}getError(M,C){const $=C?this.get(C):this;return $&&$.errors?$.errors[M]:null}hasError(M,C){return!!this.getError(M,C)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,C,$){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||$)&&this._events.next(new Fn(this.status,C)),this._parent&&this._parent._updateControlsErrors(M,C,$)}_initObservables(){this.valueChanges=new E.bkB,this.statusChanges=new E.bkB}_calculateStatus(){return this._allControlsDisabled()?cr:this.errors?Sa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ur)?ur:this._anyControlsHaveStatus(Sa)?Sa:lr}_anyControlsHaveStatus(M){return this._anyControls(C=>C.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,C){const $=!this._anyControlsDirty(),oe=this.pristine!==$;this.pristine=$,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,C),oe&&this._events.next(new Vr(this.pristine,C))}_updateTouched(M={},C){this.touched=this._anyControlsTouched(),this._events.next(new xr(this.touched,C)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,C)}_onDisabledChange=[];_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){en(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function za(S){return Array.isArray(S)?Lt(S):S||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function Or(S){return Array.isArray(S)?Fe(S):S||null}(this._rawAsyncValidators)}}const Yn=new o.nKC("",{providedIn:"root",factory:()=>dr}),dr="always";function ge(S,M,C=dr){(function ea(S,M){const C=function Et(S){return S._rawValidators}(S);null!==M.validator?S.setValidators(We(C,M.validator)):"function"==typeof C&&S.setValidators([C]);const $=function et(S){return S._rawAsyncValidators}(S);null!==M.asyncValidator?S.setAsyncValidators(We($,M.asyncValidator)):"function"==typeof $&&S.setAsyncValidators([$]);const oe=()=>S.updateValueAndValidity();va(M._rawValidators,oe),va(M._rawAsyncValidators,oe)})(S,M),M.valueAccessor.writeValue(S.value),(S.disabled||"always"===C)&&M.valueAccessor.setDisabledState?.(S.disabled),function _r(S,M){M.valueAccessor.registerOnChange(C=>{S._pendingValue=C,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&qa(S,M)})}(S,M),function br(S,M){const C=($,oe)=>{M.valueAccessor.writeValue($),oe&&M.viewToModelUpdate($)};S.registerOnChange(C),M._registerOnDestroy(()=>{S._unregisterOnChange(C)})}(S,M),function Ga(S,M){M.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&qa(S,M),"submit"!==S.updateOn&&S.markAsTouched()})}(S,M),function ga(S,M){if(M.valueAccessor.setDisabledState){const C=$=>{M.valueAccessor.setDisabledState($)};S.registerOnDisabledChange(C),M._registerOnDestroy(()=>{S._unregisterOnDisabledChange(C)})}}(S,M)}function va(S,M){S.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(M)})}function qa(S,M){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function na(S,M){const C=S.indexOf(M);C>-1&&S.splice(C,1)}function La(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}Promise.resolve();const xi=class extends zn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(M=null,C,$){super(function yi(S){return(en(S)?S.validators:S)||null}(C),function Wn(S,M){return(en(M)?M.asyncValidators:S)||null}($,C)),this._applyFormState(M),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),en(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=La(M)?M.value:M)}setValue(M,C={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(M,C={}){this.setValue(M,C)}reset(M=this.defaultValue,C={}){this._applyFormState(M),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1,!1!==C?.emitEvent&&this._events.next(new fi(this))}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){na(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){na(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){La(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},Ut={provide:an,useExisting:(0,o.Rfq)(()=>Wt)},qt=Promise.resolve();let Wt=(()=>{class S extends an{_changeDetectorRef;callSetDisabledState;control=new xi;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new E.bkB;constructor(C,$,oe,yt,Rt,Zn){super(),this._changeDetectorRef=Rt,this.callSetDisabledState=Zn,this._parent=C,this._setValidators($),this._setAsyncValidators(oe),this.valueAccessor=function Gn(S,M){if(!M)return null;let C,$,oe;return Array.isArray(M),M.forEach(yt=>{yt.constructor===$e?C=yt:function Oa(S){return Object.getPrototypeOf(S.constructor)===Ke}(yt)?$=yt:oe=yt}),oe||$||C||null}(0,yt)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const $=C.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),function $r(S,M){if(!S.hasOwnProperty("model"))return!1;const C=S.model;return!!C.isFirstChange()||!Object.is(M,C.currentValue)}(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ge(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){qt.then(()=>{this.control.setValue(C,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(C){const $=C.isDisabled.currentValue,oe=0!==$&&(0,O.L39)($);qt.then(()=>{oe&&!this.control.disabled?this.control.disable():!oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(C){return this._parent?function vi(S,M){return[...M.path,S]}(C,this._parent):[C]}static \u0275fac=function($){return new($||S)(E.rXU(An,9),E.rXU(wt,10),E.rXU(tn,10),E.rXU(rt,10),E.rXU(O.gRc,8),E.rXU(Yn,8))};static \u0275dir=E.FsC({type:S,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([Ut]),E.Vt3,E.OA$]})}return S})();let ft=(()=>{class S{_validator=ue;_onChange;_enabled;ngOnChanges(C){if(this.inputName in C){const $=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):ue,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}static \u0275fac=function($){return new($||S)};static \u0275dir=E.FsC({type:S,features:[E.OA$]})}return S})();const jr={provide:wt,useExisting:(0,o.Rfq)(()=>Hi),multi:!0};let Hi=(()=>{class S extends ft{maxlength;inputName="maxlength";normalizeInput=C=>function Ct(S){return"number"==typeof S?S:parseInt(S,10)}(C);createValidator=C=>te(C);static \u0275fac=(()=>{let C;return function(oe){return(C||(C=E.xGo(S)))(oe||S)}})();static \u0275dir=E.FsC({type:S,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,oe){2&$&&E.BMQ("maxlength",oe._enabled?oe.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[E.Jv_([jr]),E.Vt3]})}return S})(),ba=(()=>{class S{static \u0275fac=function($){return new($||S)};static \u0275mod=E.$C({type:S});static \u0275inj=o.G2t({})}return S})(),mr=(()=>{class S{static withConfig(C){return{ngModule:S,providers:[{provide:Yn,useValue:C.callSetDisabledState??dr}]}}static \u0275fac=function($){return new($||S)};static \u0275mod=E.$C({type:S});static \u0275inj=o.G2t({imports:[ba]})}return S})()},4360:(it,Ee,V)=>{"use strict";V.d(Ee,{_:()=>o});var E=V(7707);function o(O,pe,Z,z,ie){return new G(O,pe,Z,z,ie)}class G extends E.vU{constructor(pe,Z,z,ie,ve,he){super(pe),this.onFinalize=ve,this.shouldUnsubscribe=he,this._next=Z?function(J){try{Z(J)}catch(ce){pe.error(ce)}}:super._next,this._error=ie?function(J){try{ie(J)}catch(ce){pe.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=z?function(){try{z()}catch(J){pe.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4412:(it,Ee,V)=>{"use strict";V.d(Ee,{t:()=>o});var E=V(1413);class o extends E.B{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const pe=super._subscribe(O);return!pe.closed&&O.next(this._value),pe}getValue(){const{hasError:O,thrownError:pe,_value:Z}=this;if(O)throw pe;return this._throwIfClosed(),Z}next(O){super.next(this._value=O)}}},4572:(it,Ee,V)=>{"use strict";V.d(Ee,{z:()=>he});var E=V(1985),o=V(3073),G=V(6648),O=V(3669),pe=V(6450),Z=V(3794),z=V(8496),ie=V(4360),ve=V(5225);function he(...fe){const me=(0,Z.lI)(fe),De=(0,Z.ms)(fe),{args:Ge,keys:Re}=(0,o.D)(fe);if(0===Ge.length)return(0,G.H)([],me);const Ke=new E.c(function J(fe,me,De=O.D){return Ge=>{ce(me,()=>{const{length:Re}=fe,Ke=new Array(Re);let rt=Re,ht=Re;for(let ye=0;ye<Re;ye++)ce(me,()=>{const Pe=(0,G.H)(fe[ye],me);let ke=!1;Pe.subscribe((0,ie._)(Ge,qe=>{Ke[ye]=qe,ke||(ke=!0,ht--),ht||Ge.next(De(Ke.slice()))},()=>{--rt||Ge.complete()}))},Ge)},Ge)}}(Ge,me,Re?rt=>(0,z.e)(Re,rt):O.D));return De?Ke.pipe((0,pe.I)(De)):Ke}function ce(fe,me,De){fe?(0,ve.N)(De,fe,me):me()}},4659:(it,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});class V extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}Ee.default=V},4675:(it,Ee,V)=>{"use strict";V.d(Ee,{B:()=>he});var E=V(467),o=V(8880),G=V(4412),O=V(2615),pe=V(130),Z=V(5231),z=V(8147),ie=V(7473),ve=V(4700);let he=(()=>{class J{dataLoader;creatureFactory;logService;notificationService;db;defaultLevel=1;isGroupSelected=!1;selectedCreature=null;addMonsterToggled=!1;addItemToggled=!1;shouldShowSetup=!0;shouldShowAudit=!1;scenarioCreatureList=[];creaturesSubject=new G.t([]);creatures$=this.creaturesSubject.asObservable();graveyardSubject=new G.t([]);graveyard$=this.graveyardSubject.asObservable();roundNumberSubject=new G.t(1);roundNumber$=this.roundNumberSubject.asObservable();defaultLevelSubject=new G.t(1);defaultLevel$=this.defaultLevelSubject.asObservable();_scenarioId$=new G.t(null);scenarioId$=this._scenarioId$.asObservable();elementsSubject=new G.t([{type:o.RJ.Fire,state:o.e_.None},{type:o.RJ.Ice,state:o.e_.None},{type:o.RJ.Earth,state:o.e_.None},{type:o.RJ.Air,state:o.e_.None},{type:o.RJ.Light,state:o.e_.None},{type:o.RJ.Dark,state:o.e_.None}]);elements$=this.elementsSubject.asObservable();constructor(fe,me,De,Ge,Re){this.dataLoader=fe,this.creatureFactory=me,this.logService=De,this.notificationService=Ge,this.db=Re,this.addDefaultCharacters(),this.logService.init(this.creatures$)}getRoundNumber(){return this.roundNumberSubject.getValue()}setRoundNumber(fe){this.roundNumberSubject.next(fe)}setScenarioId(fe){this._scenarioId$.next(fe)}getElements(){return this.elementsSubject.getValue()}setElements(fe){this.elementsSubject.next([...fe])}setElementState(fe,me){const De=this.getElements().map(Ge=>Ge.type===fe?{...Ge,state:me}:Ge);this.setElements(De)}getCreatures(){return this.creaturesSubject.value}setCreatures(fe){this.creaturesSubject.next(fe)}addCreature(fe){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(fe)])}addCreatures(fe){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(fe)])}removeCreature(fe){this.creaturesSubject.next(this.creaturesSubject.value.filter(me=>me.id!==fe))}getGraveyard(){return this.graveyardSubject.value}setGraveyard(fe){this.graveyardSubject.next(fe)}addGraveyard(fe){this.graveyardSubject.next([...this.graveyardSubject.value,JSON.parse(JSON.stringify(fe))])}removeGraveyard(fe){this.graveyardSubject.next(this.graveyardSubject.value.filter(me=>me.id!==fe))}updateCreatureBaseStat(fe,me,De,Ge){const Re=this.getCreatures(),Ke=this.findCreature(fe);"name"===me&&(De=this.creatureFactory.createCreatureName(Ke)),Ge?Re.filter(ht=>ht.type===Ke.type).forEach(ht=>{this.updateCreatureBaseStat(ht.id,me,De,!1)}):Ke[me]=De,this.creaturesSubject.next([...Re])}toggleCreatureConditions(fe,me){const De=this.findCreature(fe);if(!De)return;const Ge=De.conditions||[];De.conditions=Ge.indexOf(me)>-1?Ge.filter(Ke=>Ke!==me):[...Ge,me],this.creaturesSubject.next([...this.getCreatures()])}killCreature(fe){const me=this.findCreature(fe);if(!me)return;if(!me.aggressive)return void this.notificationService.emitErrorMessage("haha, can't kill me");const De=this.creaturesSubject.value.filter(Re=>Re.id!==fe);this.creaturesSubject.next(De);const Ge=JSON.parse(JSON.stringify(me));this.addGraveyard(Ge),this.notificationService.emitInfoMessage(`${me.name} has been killed!`)}reviveCreature(fe,me){const De=this.getGraveyard?this.getGraveyard():this.graveyardSubject?.value??[],Ge=De.findIndex(ye=>ye.id===fe);if(-1===Ge)return;const Re={...De[Ge]},Ke=[...De];Ke.splice(Ge,1);const rt=Number.isFinite(me)?Number(me):void 0;Re.hp=Math.max(1,Number(rt??Re.hp??1)),Re.aggressive=!0;const ht=[...this.creaturesSubject.value,Re];this.creaturesSubject.next(ht),this.graveyardSubject&&this.graveyardSubject.next(Ke),this.notificationService?.emitInfoMessage?.(`${Re.name} has been revived!`)}findCreature(fe){const De=this.getCreatures().find(Ge=>Ge.id===fe);if(!De)throw Error("Creature not found");return De}addDefaultCharacters(){var fe=this;return(0,E.A)(function*(){try{const me=yield fe.db.getCharacter(),De=me.map(rt=>Number(rt.level)||1),Ge=De.reduce((rt,ht)=>rt+ht,0)/De.length,Re=Math.max(1,Math.round(Ge/2));fe.defaultLevelSubject.next(Re);const Ke=me.map(({name:rt,type:ht,level:ye,total_xp:Pe})=>{const ke=fe.dataLoader.getData().characters.find(St=>St.name===ht),qe=ke?.stats?.find(St=>St.level===Number(ye)),$e=Number(qe?.health)||10;return fe.creatureFactory.createCreature({name:rt,type:ht,hp:$e,traits:ke?.traits??[],level:Number(ye)||1,aggressive:!1,totalXp:Number(Pe)||0})});fe.addCreatures(Ke)}catch(me){console.error("addDefaultCharacters failed",me)}})()}static \u0275fac=function(me){return new(me||J)(O.KVO(pe.X),O.KVO(Z.Z),O.KVO(z.K),O.KVO(ie.J),O.KVO(ve.a))};static \u0275prov=O.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})()},4700:(it,Ee,V)=>{"use strict";V.d(Ee,{a:()=>Io});var E=V(467),o=V(1635);class O extends Error{constructor(f,m="FunctionsError",p){super(f),this.name=m,this.context=p}}class pe extends O{constructor(f){super("Failed to send a request to the Edge Function","FunctionsFetchError",f)}}class Z extends O{constructor(f){super("Relay Error invoking the Edge Function","FunctionsRelayError",f)}}class z extends O{constructor(f){super("Edge Function returned a non-2xx status code","FunctionsHttpError",f)}}var ie=function(k){return k.Any="any",k.ApNortheast1="ap-northeast-1",k.ApNortheast2="ap-northeast-2",k.ApSouth1="ap-south-1",k.ApSoutheast1="ap-southeast-1",k.ApSoutheast2="ap-southeast-2",k.CaCentral1="ca-central-1",k.EuCentral1="eu-central-1",k.EuWest1="eu-west-1",k.EuWest2="eu-west-2",k.EuWest3="eu-west-3",k.SaEast1="sa-east-1",k.UsEast1="us-east-1",k.UsWest1="us-west-1",k.UsWest2="us-west-2",k}(ie||{});class ve{constructor(f,{headers:m={},customFetch:p,region:b=ie.Any}={}){var k;this.url=f,this.headers=m,this.region=b,this.fetch=(k=p)?(...f)=>k(...f):(...f)=>fetch(...f)}setAuth(f){this.headers.Authorization=`Bearer ${f}`}invoke(f){return(0,o.__awaiter)(this,arguments,void 0,function*(m,p={}){var b;let D,R;try{const{headers:L,method:H,body:Y,signal:ae,timeout:we}=p;let xe={},{region:He}=p;He||(He=this.region);const Oe=new URL(`${this.url}/${m}`);let Je;He&&"any"!==He&&(xe["x-region"]=He,Oe.searchParams.set("forceFunctionRegion",He)),Y&&(L&&!Object.prototype.hasOwnProperty.call(L,"Content-Type")||!L)?typeof Blob<"u"&&Y instanceof Blob||Y instanceof ArrayBuffer?(xe["Content-Type"]="application/octet-stream",Je=Y):"string"==typeof Y?(xe["Content-Type"]="text/plain",Je=Y):typeof FormData<"u"&&Y instanceof FormData?Je=Y:(xe["Content-Type"]="application/json",Je=JSON.stringify(Y)):Je=Y;let Ze=ae;we&&(R=new AbortController,D=setTimeout(()=>R.abort(),we),ae?(Ze=R.signal,ae.addEventListener("abort",()=>R.abort())):Ze=R.signal);const vt=yield this.fetch(Oe.toString(),{method:H||"POST",headers:Object.assign(Object.assign(Object.assign({},xe),this.headers),L),body:Je,signal:Ze}).catch(_t=>{throw new pe(_t)}),xt=vt.headers.get("x-relay-error");if(xt&&"true"===xt)throw new Z(vt);if(!vt.ok)throw new z(vt);let gt,$t=(null!==(b=vt.headers.get("Content-Type"))&&void 0!==b?b:"text/plain").split(";")[0].trim();return gt="application/json"===$t?yield vt.json():"application/octet-stream"===$t||"application/pdf"===$t?yield vt.blob():"text/event-stream"===$t?vt:"multipart/form-data"===$t?yield vt.formData():yield vt.text(),{data:gt,error:null,response:vt}}catch(L){return{data:null,error:L,response:L instanceof z||L instanceof Z?L.context:void 0}}finally{D&&clearTimeout(D)}})}}var he=V(4060),J=V.t(he,2);const{PostgrestClient:ce}=he||J,ht=class rt{constructor(){}static detectEnvironment(){var f;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(f=navigator.userAgent)&&void 0!==f&&f.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const m=process.versions;if(m&&m.node){const b=parseInt(m.node.replace(/^v/,"").split(".")[0]);return b>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const f=this.detectEnvironment();if(f.constructor)return f.constructor;let m=f.error||"WebSocket not supported in this environment.";throw f.workaround&&(m+=`\n\nSuggested solution: ${f.workaround}`),new Error(m)}static createWebSocket(f,m){return new(this.getWebSocketConstructor())(f,m)}static isWebSocketSupported(){try{const f=this.detectEnvironment();return"native"===f.type||"ws"===f.type}catch{return!1}}};var zt=function(k){return k[k.connecting=0]="connecting",k[k.open=1]="open",k[k.closing=2]="closing",k[k.closed=3]="closed",k}(zt||{}),Gt=function(k){return k.closed="closed",k.errored="errored",k.joined="joined",k.joining="joining",k.leaving="leaving",k}(Gt||{}),ln=function(k){return k.close="phx_close",k.error="phx_error",k.join="phx_join",k.reply="phx_reply",k.leave="phx_leave",k.access_token="access_token",k}(ln||{}),Ln=function(k){return k.websocket="websocket",k}(Ln||{}),rn=function(k){return k.Connecting="connecting",k.Open="open",k.Closing="closing",k.Closed="closed",k}(rn||{});class Ir{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(f,m){return this._isArrayBuffer(f.payload)?m(this._binaryEncodePush(f)):f.event!==this.BROADCAST||f.payload instanceof ArrayBuffer||"string"!=typeof f.payload.event?m(JSON.stringify([f.join_ref,f.ref,f.topic,f.event,f.payload])):m(this._binaryEncodeUserBroadcastPush(f))}_binaryEncodePush(f){var m,p;const{event:b,topic:D,payload:R}=f,L=null!==(m=f.ref)&&void 0!==m?m:"",H=null!==(p=f.join_ref)&&void 0!==p?p:"",ae=new ArrayBuffer(this.HEADER_LENGTH+(this.META_LENGTH+H.length+L.length+D.length+b.length));let we=new DataView(ae),xe=0;we.setUint8(xe++,this.KINDS.push),we.setUint8(xe++,H.length),we.setUint8(xe++,L.length),we.setUint8(xe++,D.length),we.setUint8(xe++,b.length),Array.from(H,Oe=>we.setUint8(xe++,Oe.charCodeAt(0))),Array.from(L,Oe=>we.setUint8(xe++,Oe.charCodeAt(0))),Array.from(D,Oe=>we.setUint8(xe++,Oe.charCodeAt(0))),Array.from(b,Oe=>we.setUint8(xe++,Oe.charCodeAt(0)));var He=new Uint8Array(ae.byteLength+R.byteLength);return He.set(new Uint8Array(ae),0),He.set(new Uint8Array(R),ae.byteLength),He.buffer}_binaryEncodeUserBroadcastPush(f){var m;return this._isArrayBuffer(null===(m=f.payload)||void 0===m?void 0:m.payload)?this._encodeBinaryUserBroadcastPush(f):this._encodeJsonUserBroadcastPush(f)}_encodeBinaryUserBroadcastPush(f){var m,p,b,D;const R=f.topic,L=null!==(m=f.ref)&&void 0!==m?m:"",H=null!==(p=f.join_ref)&&void 0!==p?p:"",Y=f.payload.event,ae=null!==(D=null===(b=f.payload)||void 0===b?void 0:b.payload)&&void 0!==D?D:new ArrayBuffer(0),xe=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+H.length+L.length+R.length+Y.length));let He=new DataView(xe),Oe=0;He.setUint8(Oe++,this.KINDS.userBroadcastPush),He.setUint8(Oe++,H.length),He.setUint8(Oe++,L.length),He.setUint8(Oe++,R.length),He.setUint8(Oe++,Y.length),He.setUint8(Oe++,this.BINARY_ENCODING),Array.from(H,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(L,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(R,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(Y,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0)));var Je=new Uint8Array(xe.byteLength+ae.byteLength);return Je.set(new Uint8Array(xe),0),Je.set(new Uint8Array(ae),xe.byteLength),Je.buffer}_encodeJsonUserBroadcastPush(f){var m,p,b,D;const R=f.topic,L=null!==(m=f.ref)&&void 0!==m?m:"",H=null!==(p=f.join_ref)&&void 0!==p?p:"",Y=f.payload.event,ae=null!==(D=null===(b=f.payload)||void 0===b?void 0:b.payload)&&void 0!==D?D:{},xe=(new TextEncoder).encode(JSON.stringify(ae)).buffer,Oe=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+H.length+L.length+R.length+Y.length));let Je=new DataView(Oe),Ze=0;Je.setUint8(Ze++,this.KINDS.userBroadcastPush),Je.setUint8(Ze++,H.length),Je.setUint8(Ze++,L.length),Je.setUint8(Ze++,R.length),Je.setUint8(Ze++,Y.length),Je.setUint8(Ze++,this.JSON_ENCODING),Array.from(H,xt=>Je.setUint8(Ze++,xt.charCodeAt(0))),Array.from(L,xt=>Je.setUint8(Ze++,xt.charCodeAt(0))),Array.from(R,xt=>Je.setUint8(Ze++,xt.charCodeAt(0))),Array.from(Y,xt=>Je.setUint8(Ze++,xt.charCodeAt(0)));var vt=new Uint8Array(Oe.byteLength+xe.byteLength);return vt.set(new Uint8Array(Oe),0),vt.set(new Uint8Array(xe),Oe.byteLength),vt.buffer}decode(f,m){if(this._isArrayBuffer(f))return m(this._binaryDecode(f));if("string"==typeof f){const p=JSON.parse(f),[b,D,R,L,H]=p;return m({join_ref:b,ref:D,topic:R,event:L,payload:H})}return m({})}_binaryDecode(f){const m=new DataView(f),p=m.getUint8(0),b=new TextDecoder;switch(p){case this.KINDS.push:return this._decodePush(f,m,b);case this.KINDS.reply:return this._decodeReply(f,m,b);case this.KINDS.broadcast:return this._decodeBroadcast(f,m,b);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(f,m,b)}}_decodePush(f,m,p){const b=m.getUint8(1),D=m.getUint8(2),R=m.getUint8(3);let L=this.HEADER_LENGTH+this.META_LENGTH-1;const H=p.decode(f.slice(L,L+b));L+=b;const Y=p.decode(f.slice(L,L+D));L+=D;const ae=p.decode(f.slice(L,L+R));return L+=R,{join_ref:H,ref:null,topic:Y,event:ae,payload:JSON.parse(p.decode(f.slice(L,f.byteLength)))}}_decodeReply(f,m,p){const b=m.getUint8(1),D=m.getUint8(2),R=m.getUint8(3),L=m.getUint8(4);let H=this.HEADER_LENGTH+this.META_LENGTH;const Y=p.decode(f.slice(H,H+b));H+=b;const ae=p.decode(f.slice(H,H+D));H+=D;const we=p.decode(f.slice(H,H+R));H+=R;const xe=p.decode(f.slice(H,H+L));H+=L;const He=JSON.parse(p.decode(f.slice(H,f.byteLength)));return{join_ref:Y,ref:ae,topic:we,event:ln.reply,payload:{status:xe,response:He}}}_decodeBroadcast(f,m,p){const b=m.getUint8(1),D=m.getUint8(2);let R=this.HEADER_LENGTH+2;const L=p.decode(f.slice(R,R+b));R+=b;const H=p.decode(f.slice(R,R+D));return R+=D,{join_ref:null,ref:null,topic:L,event:H,payload:JSON.parse(p.decode(f.slice(R,f.byteLength)))}}_decodeUserBroadcast(f,m,p){const b=m.getUint8(1),D=m.getUint8(2),R=m.getUint8(3),L=m.getUint8(4);let H=this.HEADER_LENGTH+4;const Y=p.decode(f.slice(H,H+b));H+=b;const ae=p.decode(f.slice(H,H+D));H+=D;const we=p.decode(f.slice(H,H+R));H+=R;const xe=f.slice(H,f.byteLength),He=L===this.JSON_ENCODING?JSON.parse(p.decode(xe)):xe,Oe={type:this.BROADCAST,event:ae,payload:He};return R>0&&(Oe.meta=JSON.parse(we)),{join_ref:null,ref:null,topic:Y,event:this.BROADCAST,payload:Oe}}_isArrayBuffer(f){var m;return f instanceof ArrayBuffer||"ArrayBuffer"===(null===(m=f?.constructor)||void 0===m?void 0:m.name)}}class pn{constructor(f,m){this.callback=f,this.timerCalc=m,this.timer=void 0,this.tries=0,this.callback=f,this.timerCalc=m}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae=function(k){return k.abstime="abstime",k.bool="bool",k.date="date",k.daterange="daterange",k.float4="float4",k.float8="float8",k.int2="int2",k.int4="int4",k.int4range="int4range",k.int8="int8",k.int8range="int8range",k.json="json",k.jsonb="jsonb",k.money="money",k.numeric="numeric",k.oid="oid",k.reltime="reltime",k.text="text",k.time="time",k.timestamp="timestamp",k.timestamptz="timestamptz",k.timetz="timetz",k.tsrange="tsrange",k.tstzrange="tstzrange",k}(Ae||{});const te=(k,f,m={})=>{var p;const b=null!==(p=m.skipTypes)&&void 0!==p?p:[];return f?Object.keys(f).reduce((D,R)=>(D[R]=de(R,k,f,b),D),{}):{}},de=(k,f,m,p)=>{const b=f.find(L=>L.name===k),D=b?.type,R=m[k];return D&&!p.includes(D)?ue(D,R):_e(R)},ue=(k,f)=>{if("_"===k.charAt(0)){const m=k.slice(1,k.length);return ut(f,m)}switch(k){case Ae.bool:return Be(f);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return Me(f);case Ae.json:case Ae.jsonb:return Ue(f);case Ae.timestamp:return Yt(f);default:return _e(f)}},_e=k=>k,Be=k=>{switch(k){case"t":return!0;case"f":return!1;default:return k}},Me=k=>{if("string"==typeof k){const f=parseFloat(k);if(!Number.isNaN(f))return f}return k},Ue=k=>{if("string"==typeof k)try{return JSON.parse(k)}catch(f){return console.log(`JSON parse error: ${f}`),k}return k},ut=(k,f)=>{if("string"!=typeof k)return k;const m=k.length-1;if("{"===k[0]&&"}"===k[m]){let D;const R=k.slice(1,m);try{D=JSON.parse("["+R+"]")}catch{D=R?R.split(","):[]}return D.map(L=>ue(f,L))}return k},Yt=k=>"string"==typeof k?k.replace(" ","T"):k,mt=k=>{const f=new URL(k);return f.protocol=f.protocol.replace(/^ws/i,"http"),f.pathname=f.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),f.pathname=""===f.pathname||"/"===f.pathname?"/api/broadcast":f.pathname+"/api/broadcast",f.href};class Lt{constructor(f,m,p={},b=1e4){this.channel=f,this.event=m,this.payload=p,this.timeout=b,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(f){this.timeout=f,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(f){this.payload=Object.assign(Object.assign({},this.payload),f)}receive(f,m){var p;return this._hasReceived(f)&&m(null===(p=this.receivedResp)||void 0===p?void 0:p.response),this.recHooks.push({status:f,callback:m}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},m=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=m,this._matchReceive(m)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(f,m){this.refEvent&&this.channel._trigger(this.refEvent,{status:f,response:m})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:f,response:m}){this.recHooks.filter(p=>p.status===f).forEach(p=>p.callback(m))}_hasReceived(f){return this.receivedResp&&this.receivedResp.status===f}}class Fe{constructor(f,m){this.channel=f,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const p=m?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(p.state,{},b=>{const{onJoin:D,onLeave:R,onSync:L}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fe.syncState(this.state,b,D,R),this.pendingDiffs.forEach(H=>{this.state=Fe.syncDiff(this.state,H,D,R)}),this.pendingDiffs=[],L()}),this.channel._on(p.diff,{},b=>{const{onJoin:D,onLeave:R,onSync:L}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(b):(this.state=Fe.syncDiff(this.state,b,D,R),L())}),this.onJoin((b,D,R)=>{this.channel._trigger("presence",{event:"join",key:b,currentPresences:D,newPresences:R})}),this.onLeave((b,D,R)=>{this.channel._trigger("presence",{event:"leave",key:b,currentPresences:D,leftPresences:R})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(f,m,p,b){const D=this.cloneDeep(f),R=this.transformState(m),L={},H={};return this.map(D,(Y,ae)=>{R[Y]||(H[Y]=ae)}),this.map(R,(Y,ae)=>{const we=D[Y];if(we){const xe=ae.map(Ze=>Ze.presence_ref),He=we.map(Ze=>Ze.presence_ref),Oe=ae.filter(Ze=>He.indexOf(Ze.presence_ref)<0),Je=we.filter(Ze=>xe.indexOf(Ze.presence_ref)<0);Oe.length>0&&(L[Y]=Oe),Je.length>0&&(H[Y]=Je)}else L[Y]=ae}),this.syncDiff(D,{joins:L,leaves:H},p,b)}static syncDiff(f,m,p,b){const{joins:D,leaves:R}={joins:this.transformState(m.joins),leaves:this.transformState(m.leaves)};return p||(p=()=>{}),b||(b=()=>{}),this.map(D,(L,H)=>{var Y;const ae=null!==(Y=f[L])&&void 0!==Y?Y:[];if(f[L]=this.cloneDeep(H),ae.length>0){const we=f[L].map(He=>He.presence_ref),xe=ae.filter(He=>we.indexOf(He.presence_ref)<0);f[L].unshift(...xe)}p(L,ae,H)}),this.map(R,(L,H)=>{let Y=f[L];if(!Y)return;const ae=H.map(we=>we.presence_ref);Y=Y.filter(we=>ae.indexOf(we.presence_ref)<0),f[L]=Y,b(L,Y,H),0===Y.length&&delete f[L]}),f}static map(f,m){return Object.getOwnPropertyNames(f).map(p=>m(p,f[p]))}static transformState(f){return f=this.cloneDeep(f),Object.getOwnPropertyNames(f).reduce((m,p)=>{const b=f[p];return m[p]="metas"in b?b.metas.map(D=>(D.presence_ref=D.phx_ref,delete D.phx_ref,delete D.phx_ref_prev,D)):b,m},{})}static cloneDeep(f){return JSON.parse(JSON.stringify(f))}onJoin(f){this.caller.onJoin=f}onLeave(f){this.caller.onLeave=f}onSync(f){this.caller.onSync=f}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Et=function(k){return k.BROADCAST="broadcast",k.PRESENCE="presence",k.POSTGRES_CHANGES="postgres_changes",k.SYSTEM="system",k}(Et||{}),et=function(k){return k.SUBSCRIBED="SUBSCRIBED",k.TIMED_OUT="TIMED_OUT",k.CLOSED="CLOSED",k.CHANNEL_ERROR="CHANNEL_ERROR",k}(et||{});class Kt{constructor(f,m={config:{}},p){var b,D;if(this.topic=f,this.params=m,this.socket=p,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=f.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},m.config),this.timeout=this.socket.timeout,this.joinPush=new Lt(this,ln.join,this.params,this.timeout),this.rejoinTimer=new pn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(R=>R.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(R=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,R),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",R=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,R),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(R,L)=>{this._trigger(this._replyEventName(L),R)}),this.presence=new Fe(this),this.broadcastEndpointURL=mt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(D=null===(b=this.params.config)||void 0===b?void 0:b.broadcast)&&void 0!==D&&D.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(f,m=this.timeout){var b,D,R,p=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:L,presence:H,private:Y}}=this.params,ae=null!==(D=null===(b=this.bindings.postgres_changes)||void 0===b?void 0:b.map(Oe=>Oe.filter))&&void 0!==D?D:[],we=!!this.bindings[Et.PRESENCE]&&this.bindings[Et.PRESENCE].length>0||!0===(null===(R=this.params.config.presence)||void 0===R?void 0:R.enabled),xe={},He={broadcast:L,presence:Object.assign(Object.assign({},H),{enabled:we}),postgres_changes:ae,private:Y};this.socket.accessTokenValue&&(xe.access_token=this.socket.accessTokenValue),this._onError(Oe=>f?.(et.CHANNEL_ERROR,Oe)),this._onClose(()=>f?.(et.CLOSED)),this.updateJoinPayload(Object.assign({config:He},xe)),this.joinedOnce=!0,this._rejoin(m),this.joinPush.receive("ok",function(){var Oe=(0,E.A)(function*({postgres_changes:Je}){var Ze;if(p.socket.setAuth(),void 0!==Je){const vt=p.bindings.postgres_changes,xt=null!==(Ze=vt?.length)&&void 0!==Ze?Ze:0,$t=[];for(let gt=0;gt<xt;gt++){const _t=vt[gt],{filter:{event:kn,schema:Tr,table:vn,filter:Cn}}=_t,Ar=Je&&Je[gt];if(!Ar||Ar.event!==kn||Ar.schema!==Tr||Ar.table!==vn||Ar.filter!==Cn)return p.unsubscribe(),p.state=Gt.errored,void f?.(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));$t.push(Object.assign(Object.assign({},_t),{id:Ar.id}))}return p.bindings.postgres_changes=$t,void(f&&f(et.SUBSCRIBED))}f?.(et.SUBSCRIBED)});return function(Je){return Oe.apply(this,arguments)}}()).receive("error",Oe=>{this.state=Gt.errored,f?.(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Oe).join(", ")||"error")))}).receive("timeout",()=>{f?.(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(f){var m=this;return(0,E.A)(function*(p,b={}){return yield m.send({type:"presence",event:"track",payload:p},b.timeout||m.timeout)}).apply(this,arguments)}untrack(){var f=this;return(0,E.A)(function*(m={}){return yield f.send({type:"presence",event:"untrack"},m)}).apply(this,arguments)}on(f,m,p){return this.state===Gt.joined&&f===Et.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(f,m,p)}httpSend(f,m){var p=this;return(0,E.A)(function*(b,D,R={}){var L;const H=p.socket.accessTokenValue?`Bearer ${p.socket.accessTokenValue}`:"";if(null==D)return Promise.reject("Payload is required for httpSend()");const Y={method:"POST",headers:{Authorization:H,apikey:p.socket.apiKey?p.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:p.subTopic,event:b,payload:D,private:p.private}]})},ae=yield p._fetchWithTimeout(p.broadcastEndpointURL,Y,null!==(L=R.timeout)&&void 0!==L?L:p.timeout);if(202===ae.status)return{success:!0};let we=ae.statusText;try{const xe=yield ae.json();we=xe.error||xe.message||we}catch{}return Promise.reject(new Error(we))}).apply(this,arguments)}send(f){var m=this;return(0,E.A)(function*(p,b={}){var D,R;if(m._canPush()||"broadcast"!==p.type)return new Promise(L=>{var H,Y,ae;const we=m._push(p.type,p,b.timeout||m.timeout);"broadcast"===p.type&&!(null!==(ae=null===(Y=null===(H=m.params)||void 0===H?void 0:H.config)||void 0===Y?void 0:Y.broadcast)&&void 0!==ae&&ae.ack)&&L("ok"),we.receive("ok",()=>L("ok")),we.receive("error",()=>L("error")),we.receive("timeout",()=>L("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:L,payload:H}=p,ae={method:"POST",headers:{Authorization:m.socket.accessTokenValue?`Bearer ${m.socket.accessTokenValue}`:"",apikey:m.socket.apiKey?m.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:m.subTopic,event:L,payload:H,private:m.private}]})};try{const we=yield m._fetchWithTimeout(m.broadcastEndpointURL,ae,null!==(D=b.timeout)&&void 0!==D?D:m.timeout);return yield null===(R=we.body)||void 0===R?void 0:R.cancel(),we.ok?"ok":"error"}catch(we){return"AbortError"===we.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(f){this.joinPush.updatePayload(f)}unsubscribe(f=this.timeout){this.state=Gt.leaving;const m=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let p=null;return new Promise(b=>{p=new Lt(this,ln.leave,{},f),p.receive("ok",()=>{m(),b("ok")}).receive("timeout",()=>{m(),b("timed out")}).receive("error",()=>{b("error")}),p.send(),this._canPush()||p.trigger("ok",{})}).finally(()=>{p?.destroy()})}teardown(){this.pushBuffer.forEach(f=>f.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}_fetchWithTimeout(f,m,p){var b=this;return(0,E.A)(function*(){const D=new AbortController,R=setTimeout(()=>D.abort(),p),L=yield b.socket.fetch(f,Object.assign(Object.assign({},m),{signal:D.signal}));return clearTimeout(R),L})()}_push(f,m,p=this.timeout){if(!this.joinedOnce)throw`tried to push '${f}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let b=new Lt(this,f,m,p);return this._canPush()?b.send():this._addToPushBuffer(b),b}_addToPushBuffer(f){if(f.startTimeout(),this.pushBuffer.push(f),this.pushBuffer.length>100){const m=this.pushBuffer.shift();m&&(m.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${m.event}`,m.payload))}}_onMessage(f,m,p){return m}_isMember(f){return this.topic===f}_joinRef(){return this.joinPush.ref}_trigger(f,m,p){var b,D;const R=f.toLocaleLowerCase(),{close:L,error:H,leave:Y,join:ae}=ln;if(p&&[L,H,Y,ae].indexOf(R)>=0&&p!==this._joinRef())return;let xe=this._onMessage(R,m,p);if(m&&!xe)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(R)?null===(b=this.bindings.postgres_changes)||void 0===b||b.filter(He=>{var Oe,Je,Ze;return"*"===(null===(Oe=He.filter)||void 0===Oe?void 0:Oe.event)||(null===(Ze=null===(Je=He.filter)||void 0===Je?void 0:Je.event)||void 0===Ze?void 0:Ze.toLocaleLowerCase())===R}).map(He=>He.callback(xe,p)):null===(D=this.bindings[R])||void 0===D||D.filter(He=>{var Oe,Je,Ze,vt,xt,$t;if(["broadcast","presence","postgres_changes"].includes(R)){if("id"in He){const gt=He.id,_t=null===(Oe=He.filter)||void 0===Oe?void 0:Oe.event;return gt&&(null===(Je=m.ids)||void 0===Je?void 0:Je.includes(gt))&&("*"===_t||_t?.toLocaleLowerCase()===(null===(Ze=m.data)||void 0===Ze?void 0:Ze.type.toLocaleLowerCase()))}{const gt=null===(xt=null===(vt=He?.filter)||void 0===vt?void 0:vt.event)||void 0===xt?void 0:xt.toLocaleLowerCase();return"*"===gt||gt===(null===($t=m?.event)||void 0===$t?void 0:$t.toLocaleLowerCase())}}return He.type.toLocaleLowerCase()===R}).map(He=>{if("object"==typeof xe&&"ids"in xe){const Oe=xe.data,{schema:Je,table:Ze,commit_timestamp:vt,type:xt,errors:$t}=Oe;xe=Object.assign(Object.assign({},{schema:Je,table:Ze,commit_timestamp:vt,eventType:xt,new:{},old:{},errors:$t}),this._getPayloadRecords(Oe))}He.callback(xe,p)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(f){return`chan_reply_${f}`}_on(f,m,p){const b=f.toLocaleLowerCase(),D={type:b,filter:m,callback:p};return this.bindings[b]?this.bindings[b].push(D):this.bindings[b]=[D],this}_off(f,m){const p=f.toLocaleLowerCase();return this.bindings[p]&&(this.bindings[p]=this.bindings[p].filter(b=>{var D;return!((null===(D=b.type)||void 0===D?void 0:D.toLocaleLowerCase())===p&&Kt.isEqual(b.filter,m))})),this}static isEqual(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const p in f)if(f[p]!==m[p])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(f){this._on(ln.close,{},f)}_onError(f){this._on(ln.error,{},m=>f(m))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(f=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(f))}_getPayloadRecords(f){const m={new:{},old:{}};return("INSERT"===f.type||"UPDATE"===f.type)&&(m.new=te(f.columns,f.record)),("UPDATE"===f.type||"DELETE"===f.type)&&(m.old=te(f.columns,f.old_record)),m}}const Yr=()=>{},Jr=[1e3,2e3,5e3,1e4];class Ta{constructor(f,m){var p;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yr,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Yr,this.conn=null,this.sendBuffer=[],this.serializer=new Ir,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=b=>b?(...D)=>b(...D):(...D)=>fetch(...D),null===(p=m?.params)||void 0===p||!p.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=m.params.apikey,this.endPoint=`${f}/${Ln.websocket}`,this.httpEndpoint=mt(f),this._initializeOptions(m),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(m?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ht.createWebSocket(this.endpointURL())}catch(f){this._setConnectionState("disconnected");const m=f.message;throw m.includes("Node.js")?new Error(`${m}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${m}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(f,m){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const p=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(p),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(f?this.conn.close(f,m??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(f){var m=this;return(0,E.A)(function*(){const p=yield f.unsubscribe();return 0===m.channels.length&&m.disconnect(),p})()}removeAllChannels(){var f=this;return(0,E.A)(function*(){const m=yield Promise.all(f.channels.map(p=>p.unsubscribe()));return f.channels=[],f.disconnect(),m})()}log(f,m,p){this.logger(f,m,p)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return rn.Connecting;case zt.open:return rn.Open;case zt.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(f,m={config:{}}){const p=`realtime:${f}`,b=this.getChannels().find(D=>D.topic===p);if(b)return b;{const D=new Kt(`realtime:${f}`,m,this);return this.channels.push(D),D}}push(f){const{topic:m,event:p,payload:b,ref:D}=f,R=()=>{this.encode(f,L=>{var H;null===(H=this.conn)||void 0===H||H.send(L)})};this.log("push",`${m} ${p} (${D})`,b),this.isConnected()?R():this.sendBuffer.push(R)}setAuth(){var f=this;return(0,E.A)(function*(m=null){f._authPromise=f._performAuth(m);try{yield f._authPromise}finally{f._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var f=this;return(0,E.A)(function*(){var m;if(f.isConnected()){if(f.pendingHeartbeatRef){f.pendingHeartbeatRef=null,f.log("transport","heartbeat timeout. Attempting to re-establish connection");try{f.heartbeatCallback("timeout")}catch(p){f.log("error","error in heartbeat callback",p)}return f._wasManualDisconnect=!1,null===(m=f.conn)||void 0===m||m.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var p;f.isConnected()||null===(p=f.reconnectTimer)||void 0===p||p.scheduleTimeout()},100)}f.pendingHeartbeatRef=f._makeRef(),f.push({topic:"phoenix",event:"heartbeat",payload:{},ref:f.pendingHeartbeatRef});try{f.heartbeatCallback("sent")}catch(p){f.log("error","error in heartbeat callback",p)}f._setAuthSafely("heartbeat")}else try{f.heartbeatCallback("disconnected")}catch(p){f.log("error","error in heartbeat callback",p)}})()}onHeartbeat(f){this.heartbeatCallback=f}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(f=>f()),this.sendBuffer=[])}_makeRef(){let f=this.ref+1;return this.ref=f===this.ref?0:f,this.ref.toString()}_leaveOpenTopic(f){let m=this.channels.find(p=>p.topic===f&&(p._isJoined()||p._isJoining()));m&&(this.log("transport",`leaving duplicate topic "${f}"`),m.unsubscribe())}_remove(f){this.channels=this.channels.filter(m=>m.topic!==f.topic)}_onConnMessage(f){this.decode(f.data,m=>{if("phoenix"===m.topic&&"phx_reply"===m.event)try{this.heartbeatCallback("ok"===m.payload.status?"ok":"error")}catch(Y){this.log("error","error in heartbeat callback",Y)}m.ref&&m.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:p,event:b,payload:D,ref:R}=m;this.log("receive",`${D.status||""} ${p} ${b} ${R?`(${R})`:""}`.trim(),D),this.channels.filter(Y=>Y._isMember(p)).forEach(Y=>Y._trigger(b,D,R)),this._triggerStateCallbacks("message",m)})}_clearTimer(f){var m;"heartbeat"===f&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===f&&(null===(m=this.reconnectTimer)||void 0===m||m.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=f=>this._onConnError(f),this.conn.onmessage=f=>this._onConnMessage(f),this.conn.onclose=f=>this._onConnClose(f))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zt.open||this.conn.readyState===zt.connecting)try{this.conn.close()}catch(f){this.log("error","Error closing connection",f)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(f=>f.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(m=>{this.log("error","error waiting for auth on connect",m),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const f=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(f),this.workerRef.onerror=m=>{this.log("worker","worker error",m.message),this.workerRef.terminate()},this.workerRef.onmessage=m=>{"keepAlive"===m.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(f){var m;this._setConnectionState("disconnected"),this.log("transport","close",f),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(m=this.reconnectTimer)||void 0===m||m.scheduleTimeout(),this._triggerStateCallbacks("close",f)}_onConnError(f){this._setConnectionState("disconnected"),this.log("transport",`${f}`),this._triggerChanError(),this._triggerStateCallbacks("error",f)}_triggerChanError(){this.channels.forEach(f=>f._trigger(ln.error))}_appendParams(f,m){if(0===Object.keys(m).length)return f;const p=f.match(/\?/)?"&":"?";return`${f}${p}${new URLSearchParams(m)}`}_workerObjectUrl(f){let m;if(f)m=f;else{const p=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});m=URL.createObjectURL(p)}return m}_setConnectionState(f,m=!1){this._connectionState=f,"connecting"===f?this._wasManualDisconnect=!1:"disconnecting"===f&&(this._wasManualDisconnect=m)}_performAuth(){var f=this;return(0,E.A)(function*(m=null){let p;p=m||(f.accessToken?yield f.accessToken():f.accessTokenValue),f.accessTokenValue!=p&&(f.accessTokenValue=p,f.channels.forEach(b=>{p&&b.updateJoinPayload({access_token:p,version:"realtime-js/2.83.0"}),b.joinedOnce&&b._isJoined()&&b._push(ln.access_token,{access_token:p})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var f=this;return(0,E.A)(function*(){f._authPromise&&(yield f._authPromise)})()}_setAuthSafely(f="general"){this.setAuth().catch(m=>{this.log("error",`error setting auth in ${f}`,m)})}_triggerStateCallbacks(f,m){try{this.stateChangeCallbacks[f].forEach(p=>{try{p(m)}catch(b){this.log("error",`error in ${f} callback`,b)}})}catch(p){this.log("error",`error triggering ${f} callbacks`,p)}}_setupReconnectionTimer(){var f=this;this.reconnectTimer=new pn((0,E.A)(function*(){setTimeout((0,E.A)(function*(){yield f._waitForAuthIfNeeded(),f.isConnected()||f.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(f){var m,p,b,D,R,L,H,Y,ae,we,xe,He;switch(this.transport=null!==(m=f?.transport)&&void 0!==m?m:null,this.timeout=null!==(p=f?.timeout)&&void 0!==p?p:1e4,this.heartbeatIntervalMs=null!==(b=f?.heartbeatIntervalMs)&&void 0!==b?b:25e3,this.worker=null!==(D=f?.worker)&&void 0!==D&&D,this.accessToken=null!==(R=f?.accessToken)&&void 0!==R?R:null,this.heartbeatCallback=null!==(L=f?.heartbeatCallback)&&void 0!==L?L:Yr,this.vsn=null!==(H=f?.vsn)&&void 0!==H?H:"1.0.0",f?.params&&(this.params=f.params),f?.logger&&(this.logger=f.logger),(f?.logLevel||f?.log_level)&&(this.logLevel=f.logLevel||f.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(Y=f?.reconnectAfterMs)&&void 0!==Y?Y:Oe=>Jr[Oe-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(ae=f?.encode)&&void 0!==ae?ae:(Oe,Je)=>Je(JSON.stringify(Oe)),this.decode=null!==(we=f?.decode)&&void 0!==we?we:(Oe,Je)=>Je(JSON.parse(Oe));break;case"2.0.0":this.encode=null!==(xe=f?.encode)&&void 0!==xe?xe:this.serializer.encode.bind(this.serializer),this.decode=null!==(He=f?.decode)&&void 0!==He?He:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=f?.workerUrl}}}class yr extends Error{constructor(f){super(f),this.__isStorageError=!0,this.name="StorageError"}}function on(k){return"object"==typeof k&&null!==k&&"__isStorageError"in k}class vr extends yr{constructor(f,m,p){super(f),this.name="StorageApiError",this.status=m,this.statusCode=p}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zr extends yr{constructor(f,m){super(f),this.name="StorageUnknownError",this.originalError=m}}const $n=k=>k?(...f)=>k(...f):(...f)=>fetch(...f),Br=k=>{if(Array.isArray(k))return k.map(m=>Br(m));if("function"==typeof k||k!==Object(k))return k;const f={};return Object.entries(k).forEach(([m,p])=>{const b=m.replace(/([-_][a-z])/gi,D=>D.toUpperCase().replace(/[-_]/g,""));f[b]=Br(p)}),f},Aa=k=>{var f;return k.msg||k.message||k.error_description||("string"==typeof k.error?k.error:null===(f=k.error)||void 0===f?void 0:f.message)||JSON.stringify(k)};function Hn(k,f,m,p,b,D){return(0,o.__awaiter)(this,void 0,void 0,function*(){return new Promise((R,L)=>{k(m,((k,f,m,p)=>{const b={method:k,headers:f?.headers||{}};return"GET"!==k&&p?((k=>{if("object"!=typeof k||null===k)return!1;const f=Object.getPrototypeOf(k);return!(null!==f&&f!==Object.prototype&&null!==Object.getPrototypeOf(f)||Symbol.toStringTag in k||Symbol.iterator in k)})(p)?(b.headers=Object.assign({"Content-Type":"application/json"},f?.headers),b.body=JSON.stringify(p)):b.body=p,f?.duplex&&(b.duplex=f.duplex),Object.assign(Object.assign({},b),m)):b})(f,p,b,D)).then(H=>{if(!H.ok)throw H;return p?.noResolveJson?H:H.json()}).then(H=>R(H)).catch(H=>((k,f,m)=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){const p=yield Response;k instanceof p&&!m?.noResolveJson?k.json().then(b=>{const D=k.status||500,R=b?.statusCode||D+"";f(new vr(Aa(b),D,R))}).catch(b=>{f(new Zr(Aa(b),b))}):f(new Zr(Aa(k),k))}))(H,L,p))})})}function Ha(k,f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){return Hn(k,"GET",f,m,p)})}function On(k,f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){return Hn(k,"POST",f,p,b,m)})}function Ur(k,f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){return Hn(k,"PUT",f,p,b,m)})}function Pn(k,f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){return Hn(k,"DELETE",f,p,b,m)})}class Wa{constructor(f,m){this.downloadFn=f,this.shouldThrowOnError=m}then(f,m){return this.execute().then(f,m)}execute(){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(on(f))return{data:null,error:f};throw f}})}}var Mr;Mr=Symbol.toStringTag;const hi=class pi{constructor(f,m){this.downloadFn=f,this.shouldThrowOnError=m,this[Mr]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wa(this.downloadFn,this.shouldThrowOnError)}then(f,m){return this.getPromise().then(f,m)}catch(f){return this.getPromise().catch(f)}finally(f){return this.getPromise().finally(f)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(on(f))return{data:null,error:f};throw f}})}},ha={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sa{constructor(f,m={},p,b){this.shouldThrowOnError=!1,this.url=f,this.headers=m,this.bucketId=p,this.fetch=$n(b)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{let D;const R=Object.assign(Object.assign({},lr),b);let L=Object.assign(Object.assign({},this.headers),"POST"===f&&{"x-upsert":String(R.upsert)});const H=R.metadata;typeof Blob<"u"&&p instanceof Blob?(D=new FormData,D.append("cacheControl",R.cacheControl),H&&D.append("metadata",this.encodeMetadata(H)),D.append("",p)):typeof FormData<"u"&&p instanceof FormData?(D=p,D.has("cacheControl")||D.append("cacheControl",R.cacheControl),H&&!D.has("metadata")&&D.append("metadata",this.encodeMetadata(H))):(D=p,L["cache-control"]=`max-age=${R.cacheControl}`,L["content-type"]=R.contentType,H&&(L["x-metadata"]=this.toBase64(this.encodeMetadata(H))),(typeof ReadableStream<"u"&&D instanceof ReadableStream||D&&"object"==typeof D&&"pipe"in D&&"function"==typeof D.pipe)&&!R.duplex&&(R.duplex="half")),b?.headers&&(L=Object.assign(Object.assign({},L),b.headers));const Y=this._removeEmptyFolders(m),ae=this._getFinalPath(Y),we=yield("PUT"==f?Ur:On)(this.fetch,`${this.url}/object/${ae}`,D,Object.assign({headers:L},R?.duplex?{duplex:R.duplex}:{}));return{data:{path:Y,id:we.Id,fullPath:we.Key},error:null}}catch(D){if(this.shouldThrowOnError)throw D;if(on(D))return{data:null,error:D};throw D}})}upload(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",f,m,p)})}uploadToSignedUrl(f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){const D=this._removeEmptyFolders(f),R=this._getFinalPath(D),L=new URL(this.url+`/object/upload/sign/${R}`);L.searchParams.set("token",m);try{let H;const Y=Object.assign({upsert:lr.upsert},b),ae=Object.assign(Object.assign({},this.headers),{"x-upsert":String(Y.upsert)});return typeof Blob<"u"&&p instanceof Blob?(H=new FormData,H.append("cacheControl",Y.cacheControl),H.append("",p)):typeof FormData<"u"&&p instanceof FormData?(H=p,H.append("cacheControl",Y.cacheControl)):(H=p,ae["cache-control"]=`max-age=${Y.cacheControl}`,ae["content-type"]=Y.contentType),{data:{path:D,fullPath:(yield Ur(this.fetch,L.toString(),H,{headers:ae})).Key},error:null}}catch(H){if(this.shouldThrowOnError)throw H;if(on(H))return{data:null,error:H};throw H}})}createSignedUploadUrl(f,m){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{let p=this._getFinalPath(f);const b=Object.assign({},this.headers);m?.upsert&&(b["x-upsert"]="true");const D=yield On(this.fetch,`${this.url}/object/upload/sign/${p}`,{},{headers:b}),R=new URL(this.url+D.url),L=R.searchParams.get("token");if(!L)throw new yr("No token returned by API");return{data:{signedUrl:R.toString(),path:f,token:L},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(on(p))return{data:null,error:p};throw p}})}update(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",f,m,p)})}move(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:f,destinationKey:m,destinationBucket:p?.destinationBucket},{headers:this.headers}),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}copy(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield On(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:f,destinationKey:m,destinationBucket:p?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}createSignedUrl(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{let b=this._getFinalPath(f),D=yield On(this.fetch,`${this.url}/object/sign/${b}`,Object.assign({expiresIn:m},p?.transform?{transform:p.transform}:{}),{headers:this.headers});const R=p?.download?`&download=${!0===p.download?"":p.download}`:"";return D={signedUrl:encodeURI(`${this.url}${D.signedURL}${R}`)},{data:D,error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}createSignedUrls(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{const b=yield On(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:m,paths:f},{headers:this.headers}),D=p?.download?`&download=${!0===p.download?"":p.download}`:"";return{data:b.map(R=>Object.assign(Object.assign({},R),{signedUrl:R.signedURL?encodeURI(`${this.url}${R.signedURL}${D}`):null})),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}download(f,m){const b=typeof m?.transform<"u"?"render/image/authenticated":"object",D=this.transformOptsToQueryString(m?.transform||{}),R=D?`?${D}`:"",L=this._getFinalPath(f);return new hi(()=>Ha(this.fetch,`${this.url}/${b}/${L}${R}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){const m=this._getFinalPath(f);try{const p=yield Ha(this.fetch,`${this.url}/object/info/${m}`,{headers:this.headers});return{data:Br(p),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(on(p))return{data:null,error:p};throw p}})}exists(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){const m=this._getFinalPath(f);try{return yield function mi(k,f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){return Hn(k,"HEAD",f,Object.assign(Object.assign({},m),{noResolveJson:!0}),p)})}(this.fetch,`${this.url}/object/${m}`,{headers:this.headers}),{data:!0,error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(on(p)&&p instanceof Zr){const b=p.originalError;if([400,404].includes(b?.status))return{data:!1,error:p}}throw p}})}getPublicUrl(f,m){const p=this._getFinalPath(f),b=[],D=m?.download?`download=${!0===m.download?"":m.download}`:"";""!==D&&b.push(D);const L=typeof m?.transform<"u"?"render/image":"object",H=this.transformOptsToQueryString(m?.transform||{});""!==H&&b.push(H);let Y=b.join("&");return""!==Y&&(Y=`?${Y}`),{data:{publicUrl:encodeURI(`${this.url}/${L}/public/${p}${Y}`)}}}remove(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}list(f,m,p){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{const b=Object.assign(Object.assign(Object.assign({},ha),m),{prefix:f||""});return{data:yield On(this.fetch,`${this.url}/object/list/${this.bucketId}`,b,{headers:this.headers},p),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}listV2(f,m){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{const p=Object.assign({},f);return{data:yield On(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,p,{headers:this.headers},m),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(on(p))return{data:null,error:p};throw p}})}encodeMetadata(f){return JSON.stringify(f)}toBase64(f){return typeof Buffer<"u"?Buffer.from(f).toString("base64"):btoa(f)}_getFinalPath(f){return`${this.bucketId}/${f.replace(/^\/+/,"")}`}_removeEmptyFolders(f){return f.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(f){const m=[];return f.width&&m.push(`width=${f.width}`),f.height&&m.push(`height=${f.height}`),f.resize&&m.push(`resize=${f.resize}`),f.format&&m.push(`format=${f.format}`),f.quality&&m.push(`quality=${f.quality}`),m.join("&")}}const cr={"X-Client-Info":"storage-js/2.83.0"};class tr{constructor(f,m={},p,b){this.shouldThrowOnError=!1;const D=new URL(f);b?.useNewHostname&&/supabase\.(co|in|red)$/.test(D.hostname)&&!D.hostname.includes("storage.supabase.")&&(D.hostname=D.hostname.replace("supabase.","storage.supabase.")),this.url=D.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cr),m),this.fetch=$n(p)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{const m=this.listBucketOptionsToQueryString(f);return{data:yield Ha(this.fetch,`${this.url}/bucket${m}`,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}getBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${f}`,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}createBucket(f){return(0,o.__awaiter)(this,arguments,void 0,function*(m,p={public:!1}){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{id:m,name:m,type:p.type,public:p.public,file_size_limit:p.fileSizeLimit,allowed_mime_types:p.allowedMimeTypes},{headers:this.headers}),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(on(b))return{data:null,error:b};throw b}})}updateBucket(f,m){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${f}`,{id:f,name:f,public:m.public,file_size_limit:m.fileSizeLimit,allowed_mime_types:m.allowedMimeTypes},{headers:this.headers}),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(on(p))return{data:null,error:p};throw p}})}emptyBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket/${f}/empty`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${f}`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}listBucketOptionsToQueryString(f){const m={};return f&&("limit"in f&&(m.limit=String(f.limit)),"offset"in f&&(m.offset=String(f.offset)),f.search&&(m.search=f.search),f.sortColumn&&(m.sortColumn=f.sortColumn),f.sortOrder&&(m.sortOrder=f.sortOrder)),Object.keys(m).length>0?"?"+new URLSearchParams(m).toString():""}}class gr{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cr),m),this.fetch=$n(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{name:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}listBuckets(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{const m=new URLSearchParams;void 0!==f?.limit&&m.set("limit",f.limit.toString()),void 0!==f?.offset&&m.set("offset",f.offset.toString()),f?.sortColumn&&m.set("sortColumn",f.sortColumn),f?.sortOrder&&m.set("sortOrder",f.sortOrder),f?.search&&m.set("search",f.search);const p=m.toString(),b=p?`${this.url}/bucket?${p}`:`${this.url}/bucket`;return{data:yield Ha(this.fetch,b,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${f}`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(on(m))return{data:null,error:m};throw m}})}}const Vr={"X-Client-Info":"storage-js/2.83.0","Content-Type":"application/json"};class xr extends Error{constructor(f){super(f),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fn(k){return"object"==typeof k&&null!==k&&"__isStorageVectorsError"in k}class Rr extends xr{constructor(f,m,p){super(f),this.name="StorageVectorsApiError",this.status=m,this.statusCode=p}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fi extends xr{constructor(f,m){super(f),this.name="StorageVectorsUnknownError",this.originalError=m}}const za=k=>k?(...f)=>k(...f):(...f)=>fetch(...f),Ma=k=>k.msg||k.message||k.error_description||k.error||JSON.stringify(k);function ya(k,f,m,p,b,D){return(0,o.__awaiter)(this,void 0,void 0,function*(){return new Promise((R,L)=>{k(m,((k,f,m,p)=>{const b={method:k,headers:f?.headers||{}};return"GET"!==k&&p?((k=>{if("object"!=typeof k||null===k)return!1;const f=Object.getPrototypeOf(k);return!(null!==f&&f!==Object.prototype&&null!==Object.getPrototypeOf(f)||Symbol.toStringTag in k||Symbol.iterator in k)})(p)?(b.headers=Object.assign({"Content-Type":"application/json"},f?.headers),b.body=JSON.stringify(p)):b.body=p,Object.assign(Object.assign({},b),m)):b})(f,p,b,D)).then(H=>{if(!H.ok)throw H;if(p?.noResolveJson)return H;const Y=H.headers.get("content-type");return Y&&Y.includes("application/json")?H.json():{}}).then(H=>R(H)).catch(H=>((k,f,m)=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){if(k&&"object"==typeof k&&"status"in k&&"ok"in k&&"number"==typeof k.status&&!m?.noResolveJson){const b=k.status||500,D=k;"function"==typeof D.json?D.json().then(R=>{const L=R?.statusCode||R?.code||b+"";f(new Rr(Ma(R),b,L))}).catch(()=>{f(new Rr(D.statusText||`HTTP ${b} error`,b,b+""))}):f(new Rr(D.statusText||`HTTP ${b} error`,b,b+""))}else f(new fi(Ma(k),k))}))(H,L,p))})})}function hn(k,f,m,p,b){return(0,o.__awaiter)(this,void 0,void 0,function*(){return ya(k,"POST",f,p,b,m)})}class Yn{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vr),m),this.fetch=za(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateIndex`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getIndex(f,m){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:f,indexName:m},{headers:this.headers}),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Fn(p))return{data:null,error:p};throw p}})}listIndexes(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/ListIndexes`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteIndex(f,m){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:f,indexName:m},{headers:this.headers}))||{},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Fn(p))return{data:null,error:p};throw p}})}}class dr{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vr),m),this.fetch=za(p)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{if(f.vectors.length<1||f.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/PutVectors`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getVectors(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}listVectors(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==f.segmentCount){if(f.segmentCount<1||f.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==f.segmentIndex&&(f.segmentIndex<0||f.segmentIndex>=f.segmentCount))throw new Error("segmentIndex must be between 0 and "+(f.segmentCount-1))}return{data:yield hn(this.fetch,`${this.url}/ListVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}queryVectors(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/QueryVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteVectors(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{if(f.keys.length<1||f.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/DeleteVectors`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}}class vi{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vr),m),this.fetch=za(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:f},{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}listBuckets(){return(0,o.__awaiter)(this,arguments,void 0,function*(f={}){try{return{data:yield hn(this.fetch,`${this.url}/ListVectorBuckets`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,o.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:f},{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}}class ge extends vi{constructor(f,m={}){super(f,m.headers||{},m.fetch)}from(f){return new Qt(this.url,this.headers,f,this.fetch)}}class Qt extends Yn{constructor(f,m,p,b){super(f,m,b),this.vectorBucketName=p}createIndex(f){const m=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.createIndex.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const f=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,o.__awaiter)(this,arguments,void 0,function*(m={}){return f.listIndexes.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName}))})}getIndex(f){const m=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.getIndex.call(this,this.vectorBucketName,f)})}deleteIndex(f){const m=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.deleteIndex.call(this,this.vectorBucketName,f)})}index(f){return new va(this.url,this.headers,this.vectorBucketName,f,this.fetch)}}class va extends dr{constructor(f,m,p,b,D){super(f,m,D),this.vectorBucketName=p,this.indexName=b}putVectors(f){const m=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.putVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(f){const m=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.getVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const f=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,o.__awaiter)(this,arguments,void 0,function*(m={}){return f.listVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(f){const m=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.queryVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(f){const m=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,o.__awaiter)(this,void 0,void 0,function*(){return m.deleteVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ga extends tr{constructor(f,m={},p,b){super(f,m,p,b)}from(f){return new Sa(this.url,this.headers,f,this.fetch)}get vectors(){return new ge(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gr(this.url+"/iceberg",this.headers,this.fetch)}}let Kn="";Kn=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Ga={headers:{"X-Client-Info":`supabase-js-${Kn}/2.83.0`}},qa={schema:"public"},br={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nr={},Qa=(k,f,m)=>{const p=(k=>k?(...f)=>k(...f):(...f)=>fetch(...f))(m),b=Headers;return function(){var D=(0,E.A)(function*(R,L){var H;const Y=null!==(H=yield f())&&void 0!==H?H:k;let ae=new b(L?.headers);return ae.has("apikey")||ae.set("apikey",k),ae.has("Authorization")||ae.set("Authorization",`Bearer ${Y}`),p(R,Object.assign(Object.assign({},L),{headers:ae}))});return function(R,L){return D.apply(this,arguments)}}()},Gn=3e4,xi="X-Supabase-Api-Version",Ya_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),Ya_2024_01_01_name="2024-01-01",I=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class j extends Error{constructor(f,m,p){super(f),this.__isAuthError=!0,this.name="AuthError",this.status=m,this.code=p}}function B(k){return"object"==typeof k&&null!==k&&"__isAuthError"in k}class le extends j{constructor(f,m,p){super(f,m,p),this.name="AuthApiError",this.status=m,this.code=p}}class ze extends j{constructor(f,m){super(f),this.name="AuthUnknownError",this.originalError=m}}class tt extends j{constructor(f,m,p,b){super(f,p,b),this.name=m,this.status=p}}class Ut extends tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Wt extends tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jt extends tt{constructor(f){super(f,"AuthInvalidCredentialsError",400,void 0)}}class _n extends tt{constructor(f,m=null){super(f,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=m}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bn extends tt{constructor(f,m=null){super(f,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=m}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hr extends tt{constructor(f,m){super(f,"AuthRetryableFetchError",m,void 0)}}function Wr(k){return B(k)&&"AuthRetryableFetchError"===k.name}class Nr extends tt{constructor(f,m,p){super(f,"AuthWeakPasswordError",m,"weak_password"),this.reasons=p}}class ra extends tt{constructor(f){super(f,"AuthInvalidJwtError",400,"invalid_jwt")}}const wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lr=" \t\n\r=".split(""),Ja=(()=>{const k=new Array(128);for(let f=0;f<k.length;f+=1)k[f]=-1;for(let f=0;f<Lr.length;f+=1)k[Lr[f].charCodeAt(0)]=-2;for(let f=0;f<wr.length;f+=1)k[wr[f].charCodeAt(0)]=f;return k})();function Kr(k,f,m){if(null!==k)for(f.queue=f.queue<<8|k,f.queuedBits+=8;f.queuedBits>=6;)m(wr[f.queue>>f.queuedBits-6&63]),f.queuedBits-=6;else if(f.queuedBits>0)for(f.queue=f.queue<<6-f.queuedBits,f.queuedBits=6;f.queuedBits>=6;)m(wr[f.queue>>f.queuedBits-6&63]),f.queuedBits-=6}function Ri(k,f,m){const p=Ja[k];if(!(p>-1)){if(-2===p)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(k)}"`)}for(f.queue=f.queue<<6|p,f.queuedBits+=6;f.queuedBits>=8;)m(f.queue>>f.queuedBits-8&255),f.queuedBits-=8}function aa(k){const f=[],m=R=>{f.push(String.fromCodePoint(R))},p={utf8seq:0,codepoint:0},b={queue:0,queuedBits:0},D=R=>{!function Pi(k,f,m){if(0===f.utf8seq){if(k<=127)return void m(k);for(let p=1;p<6;p+=1)if(!(k>>7-p&1)){f.utf8seq=p;break}if(2===f.utf8seq)f.codepoint=31&k;else if(3===f.utf8seq)f.codepoint=15&k;else{if(4!==f.utf8seq)throw new Error("Invalid UTF-8 sequence");f.codepoint=7&k}f.utf8seq-=1}else if(f.utf8seq>0){if(k<=127)throw new Error("Invalid UTF-8 sequence");f.codepoint=f.codepoint<<6|63&k,f.utf8seq-=1,0===f.utf8seq&&m(f.codepoint)}}(R,p,m)};for(let R=0;R<k.length;R+=1)Ri(k.charCodeAt(R),b,D);return f.join("")}function Er(k,f){if(!(k<=127)){if(k<=2047)return f(192|k>>6),void f(128|63&k);if(k<=65535)return f(224|k>>12),f(128|k>>6&63),void f(128|63&k);if(k<=1114111)return f(240|k>>18),f(128|k>>12&63),f(128|k>>6&63),void f(128|63&k);throw new Error(`Unrecognized Unicode codepoint: ${k.toString(16)}`)}f(k)}function Fa(k){const f=[],m={queue:0,queuedBits:0},p=b=>{f.push(b)};for(let b=0;b<k.length;b+=1)Ri(k.charCodeAt(b),m,p);return new Uint8Array(f)}function Gr(k){const f=[],m={queue:0,queuedBits:0},p=b=>{f.push(b)};return k.forEach(b=>Kr(b,m,p)),Kr(null,m,p),f.join("")}const U=()=>typeof window<"u"&&typeof document<"u",A={tested:!1,writable:!1},F=()=>{if(!U())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(A.tested)return A.writable;const k=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(k,k),globalThis.localStorage.removeItem(k),A.tested=!0,A.writable=!0}catch{A.tested=!0,A.writable=!1}return A.writable},se=k=>k?(...f)=>k(...f):(...f)=>fetch(...f),je=function(){var k=(0,E.A)(function*(f,m,p){yield f.setItem(m,JSON.stringify(p))});return function(m,p,b){return k.apply(this,arguments)}}(),Qe=function(){var k=(0,E.A)(function*(f,m){const p=yield f.getItem(m);if(!p)return null;try{return JSON.parse(p)}catch{return p}});return function(m,p){return k.apply(this,arguments)}}(),st=function(){var k=(0,E.A)(function*(f,m){yield f.removeItem(m)});return function(m,p){return k.apply(this,arguments)}}();class Ct{constructor(){this.promise=new Ct.promiseConstructor((f,m)=>{this.resolve=f,this.reject=m})}}function Bt(k){const f=k.split(".");if(3!==f.length)throw new ra("Invalid JWT structure");for(let p=0;p<f.length;p++)if(!I.test(f[p]))throw new ra("JWT not in base64url format");return{header:JSON.parse(aa(f[0])),payload:JSON.parse(aa(f[1])),signature:Fa(f[2]),raw:{header:f[0],payload:f[1]}}}function fn(){return(fn=(0,E.A)(function*(k){return yield new Promise(f=>{setTimeout(()=>f(null),k)})})).apply(this,arguments)}function cn(k){return("0"+k.toString(16)).substr(-2)}function Sn(){return(Sn=(0,E.A)(function*(k){const m=(new TextEncoder).encode(k),p=yield crypto.subtle.digest("SHA-256",m),b=new Uint8Array(p);return Array.from(b).map(D=>String.fromCharCode(D)).join("")})).apply(this,arguments)}function kr(){return kr=(0,E.A)(function*(k){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),k;const m=yield function Jn(k){return Sn.apply(this,arguments)}(k);return btoa(m).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),kr.apply(this,arguments)}function Fr(k,f){return In.apply(this,arguments)}function In(){return In=(0,E.A)(function*(k,f,m=!1){const p=function ir(){const f=new Uint32Array(56);if(typeof crypto>"u"){const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",p=m.length;let b="";for(let D=0;D<56;D++)b+=m.charAt(Math.floor(Math.random()*p));return b}return crypto.getRandomValues(f),Array.from(f,cn).join("")}();let b=p;m&&(b+="/PASSWORD_RECOVERY"),yield je(k,`${f}-code-verifier`,b);const D=yield function En(k){return kr.apply(this,arguments)}(p);return[D,p===D?"plain":"s256"]}),In.apply(this,arguments)}Ct.promiseConstructor=Promise;const Ot=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Cr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mn(k){if(!Cr.test(k))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dr(){return new Proxy({},{get:(f,m)=>{if("__isUserNotAvailableProxy"===m)return!0;if("symbol"==typeof m){const p=m.toString();if("Symbol(Symbol.toPrimitive)"===p||"Symbol(Symbol.toStringTag)"===p||"Symbol(util.inspect.custom)"===p)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${m}" property of the session object is not supported. Please use getUser() instead.`)},set:(f,m)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${m}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(f,m)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${m}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wo(k){return JSON.parse(JSON.stringify(k))}const ba=k=>k.msg||k.message||k.error_description||k.error||JSON.stringify(k),Za=[502,503,504];function bi(k){return jn.apply(this,arguments)}function jn(){return(jn=(0,E.A)(function*(k){var f;if(!(k=>"object"==typeof k&&null!==k&&"status"in k&&"ok"in k&&"json"in k&&"function"==typeof k.json)(k))throw new Hr(ba(k),0);if(Za.includes(k.status))throw new Hr(ba(k),k.status);let m,p;try{m=yield k.json()}catch(D){throw new ze(ba(D),D)}const b=function Nn(k){const f=k.headers.get(xi);if(!f||!f.match(Ot))return null;try{return new Date(`${f}T00:00:00.0Z`)}catch{return null}}(k);if(b&&b.getTime()>=Ya_2024_01_01_timestamp&&"object"==typeof m&&m&&"string"==typeof m.code?p=m.code:"object"==typeof m&&m&&"string"==typeof m.error_code&&(p=m.error_code),p){if("weak_password"===p)throw new Nr(ba(m),k.status,(null===(f=m.weak_password)||void 0===f?void 0:f.reasons)||[]);if("session_not_found"===p)throw new Ut}else if("object"==typeof m&&m&&"object"==typeof m.weak_password&&m.weak_password&&Array.isArray(m.weak_password.reasons)&&m.weak_password.reasons.length&&m.weak_password.reasons.reduce((D,R)=>D&&"string"==typeof R,!0))throw new Nr(ba(m),k.status,m.weak_password.reasons);throw new le(ba(m),k.status||500,p)})).apply(this,arguments)}function Tt(k,f,m,p){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,E.A)(function*(k,f,m,p){var b;const D=Object.assign({},p?.headers);D[xi]||(D[xi]=Ya_2024_01_01_name),p?.jwt&&(D.Authorization=`Bearer ${p.jwt}`);const R=null!==(b=p?.query)&&void 0!==b?b:{};p?.redirectTo&&(R.redirect_to=p.redirectTo);const L=Object.keys(R).length?"?"+new URLSearchParams(R).toString():"",H=yield function ao(k,f,m,p,b,D){return Eo.apply(this,arguments)}(k,f,m+L,{headers:D,noResolveJson:p?.noResolveJson},{},p?.body);return p?.xform?p?.xform(H):{data:Object.assign({},H),error:null}}),Uo.apply(this,arguments)}function Eo(){return(Eo=(0,E.A)(function*(k,f,m,p,b,D){const R=((k,f,m,p)=>{const b={method:k,headers:f?.headers||{}};return"GET"===k?b:(b.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},f?.headers),b.body=JSON.stringify(p),Object.assign(Object.assign({},b),m))})(f,p,b,D);let L;try{L=yield k(m,Object.assign({},R))}catch(H){throw console.error(H),new Hr(ba(H),0)}if(L.ok||(yield bi(L)),p?.noResolveJson)return L;try{return yield L.json()}catch(H){yield bi(H)}})).apply(this,arguments)}function mr(k){var f;let m=null;return function oe(k){return k.access_token&&k.refresh_token&&k.expires_in}(k)&&(m=Object.assign({},k),k.expires_at||(m.expires_at=function _i(k){return Math.round(Date.now()/1e3)+k}(k.expires_in))),{data:{session:m,user:null!==(f=k.user)&&void 0!==f?f:k},error:null}}function Vo(k){const f=mr(k);return!f.error&&k.weak_password&&"object"==typeof k.weak_password&&Array.isArray(k.weak_password.reasons)&&k.weak_password.reasons.length&&k.weak_password.message&&"string"==typeof k.weak_password.message&&k.weak_password.reasons.reduce((m,p)=>m&&"string"==typeof p,!0)&&(f.data.weak_password=k.weak_password),f}function S(k){var f;return{data:{user:null!==(f=k.user)&&void 0!==f?f:k},error:null}}function M(k){return{data:k,error:null}}function C(k){const{action_link:f,email_otp:m,hashed_token:p,redirect_to:b,verification_type:D}=k,R=(0,o.__rest)(k,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:f,email_otp:m,hashed_token:p,redirect_to:b,verification_type:D},user:Object.assign({},R)},error:null}}function $(k){return k}const qr=["global","local","others"];class Wi{constructor({url:f="",headers:m={},fetch:p}){this.url=f,this.headers=m,this.fetch=se(p),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(f){var m=this;return(0,E.A)(function*(p,b=qr[0]){if(qr.indexOf(b)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qr.join(", ")}`);try{return yield Tt(m.fetch,"POST",`${m.url}/logout?scope=${b}`,{headers:m.headers,jwt:p,noResolveJson:!0}),{data:null,error:null}}catch(D){if(B(D))return{data:null,error:D};throw D}}).apply(this,arguments)}inviteUserByEmail(f){var m=this;return(0,E.A)(function*(p,b={}){try{return yield Tt(m.fetch,"POST",`${m.url}/invite`,{body:{email:p,data:b.data},headers:m.headers,redirectTo:b.redirectTo,xform:S})}catch(D){if(B(D))return{data:{user:null},error:D};throw D}}).apply(this,arguments)}generateLink(f){var m=this;return(0,E.A)(function*(){try{const{options:p}=f,b=(0,o.__rest)(f,["options"]),D=Object.assign(Object.assign({},b),p);return"newEmail"in b&&(D.new_email=b?.newEmail,delete D.newEmail),yield Tt(m.fetch,"POST",`${m.url}/admin/generate_link`,{body:D,headers:m.headers,xform:C,redirectTo:p?.redirectTo})}catch(p){if(B(p))return{data:{properties:null,user:null},error:p};throw p}})()}createUser(f){var m=this;return(0,E.A)(function*(){try{return yield Tt(m.fetch,"POST",`${m.url}/admin/users`,{body:f,headers:m.headers,xform:S})}catch(p){if(B(p))return{data:{user:null},error:p};throw p}})()}listUsers(f){var m=this;return(0,E.A)(function*(){var p,b,D,R,L,H,Y;try{const ae={nextPage:null,lastPage:0,total:0},we=yield Tt(m.fetch,"GET",`${m.url}/admin/users`,{headers:m.headers,noResolveJson:!0,query:{page:null!==(b=null===(p=f?.page)||void 0===p?void 0:p.toString())&&void 0!==b?b:"",per_page:null!==(R=null===(D=f?.perPage)||void 0===D?void 0:D.toString())&&void 0!==R?R:""},xform:$});if(we.error)throw we.error;const xe=yield we.json(),He=null!==(L=we.headers.get("x-total-count"))&&void 0!==L?L:0,Oe=null!==(Y=null===(H=we.headers.get("link"))||void 0===H?void 0:H.split(","))&&void 0!==Y?Y:[];return Oe.length>0&&(Oe.forEach(Je=>{const Ze=parseInt(Je.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(Je.split(";")[1].split("=")[1]);ae[`${vt}Page`]=Ze}),ae.total=parseInt(He)),{data:Object.assign(Object.assign({},xe),ae),error:null}}catch(ae){if(B(ae))return{data:{users:[]},error:ae};throw ae}})()}getUserById(f){var m=this;return(0,E.A)(function*(){Mn(f);try{return yield Tt(m.fetch,"GET",`${m.url}/admin/users/${f}`,{headers:m.headers,xform:S})}catch(p){if(B(p))return{data:{user:null},error:p};throw p}})()}updateUserById(f,m){var p=this;return(0,E.A)(function*(){Mn(f);try{return yield Tt(p.fetch,"PUT",`${p.url}/admin/users/${f}`,{body:m,headers:p.headers,xform:S})}catch(b){if(B(b))return{data:{user:null},error:b};throw b}})()}deleteUser(f){var m=this;return(0,E.A)(function*(p,b=!1){Mn(p);try{return yield Tt(m.fetch,"DELETE",`${m.url}/admin/users/${p}`,{headers:m.headers,body:{should_soft_delete:b},xform:S})}catch(D){if(B(D))return{data:{user:null},error:D};throw D}}).apply(this,arguments)}_listFactors(f){var m=this;return(0,E.A)(function*(){Mn(f.userId);try{const{data:p,error:b}=yield Tt(m.fetch,"GET",`${m.url}/admin/users/${f.userId}/factors`,{headers:m.headers,xform:D=>({data:{factors:D},error:null})});return{data:p,error:b}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_deleteFactor(f){var m=this;return(0,E.A)(function*(){Mn(f.userId),Mn(f.id);try{return{data:yield Tt(m.fetch,"DELETE",`${m.url}/admin/users/${f.userId}/factors/${f.id}`,{headers:m.headers}),error:null}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_listOAuthClients(f){var m=this;return(0,E.A)(function*(){var p,b,D,R,L,H,Y;try{const ae={nextPage:null,lastPage:0,total:0},we=yield Tt(m.fetch,"GET",`${m.url}/admin/oauth/clients`,{headers:m.headers,noResolveJson:!0,query:{page:null!==(b=null===(p=f?.page)||void 0===p?void 0:p.toString())&&void 0!==b?b:"",per_page:null!==(R=null===(D=f?.perPage)||void 0===D?void 0:D.toString())&&void 0!==R?R:""},xform:$});if(we.error)throw we.error;const xe=yield we.json(),He=null!==(L=we.headers.get("x-total-count"))&&void 0!==L?L:0,Oe=null!==(Y=null===(H=we.headers.get("link"))||void 0===H?void 0:H.split(","))&&void 0!==Y?Y:[];return Oe.length>0&&(Oe.forEach(Je=>{const Ze=parseInt(Je.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(Je.split(";")[1].split("=")[1]);ae[`${vt}Page`]=Ze}),ae.total=parseInt(He)),{data:Object.assign(Object.assign({},xe),ae),error:null}}catch(ae){if(B(ae))return{data:{clients:[]},error:ae};throw ae}})()}_createOAuthClient(f){var m=this;return(0,E.A)(function*(){try{return yield Tt(m.fetch,"POST",`${m.url}/admin/oauth/clients`,{body:f,headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_getOAuthClient(f){var m=this;return(0,E.A)(function*(){try{return yield Tt(m.fetch,"GET",`${m.url}/admin/oauth/clients/${f}`,{headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_updateOAuthClient(f,m){var p=this;return(0,E.A)(function*(){try{return yield Tt(p.fetch,"PUT",`${p.url}/admin/oauth/clients/${f}`,{body:m,headers:p.headers,xform:b=>({data:b,error:null})})}catch(b){if(B(b))return{data:null,error:b};throw b}})()}_deleteOAuthClient(f){var m=this;return(0,E.A)(function*(){try{return yield Tt(m.fetch,"DELETE",`${m.url}/admin/oauth/clients/${f}`,{headers:m.headers,noResolveJson:!0}),{data:null,error:null}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_regenerateOAuthClientSecret(f){var m=this;return(0,E.A)(function*(){try{return yield Tt(m.fetch,"POST",`${m.url}/admin/oauth/clients/${f}/regenerate_secret`,{headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}}function ko(k={}){return{getItem:f=>k[f]||null,setItem:(f,m)=>{k[f]=m},removeItem:f=>{delete k[f]}}}const zi_debug=!!(globalThis&&F()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class As extends Error{constructor(f){super(f),this.isAcquireTimeout=!0}}class Yl extends As{}function Ss(k,f,m){return $o.apply(this,arguments)}function $o(){return $o=(0,E.A)(function*(k,f,m){zi_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",k,f);const p=new globalThis.AbortController;return f>0&&setTimeout(()=>{p.abort(),zi_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",k)},f),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(k,0===f?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:p.signal},function(){var b=(0,E.A)(function*(D){if(!D){if(0===f)throw zi_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",k),new Yl(`Acquiring an exclusive Navigator LockManager lock "${k}" immediately failed`);if(zi_debug)try{const R=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(R,null,"  "))}catch(R){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",R)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield m()}zi_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",k,D.name);try{return yield m()}finally{zi_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",k,D.name)}});return function(D){return b.apply(this,arguments)}}()))}),$o.apply(this,arguments)}function Xs(k){if(!/^0x[a-fA-F0-9]{40}$/.test(k))throw new Error(`@supabase/auth-js: Address "${k}" is invalid.`);return k.toLowerCase()}function io(k){const f=(new TextEncoder).encode(k);return"0x"+Array.from(f,p=>p.toString(16).padStart(2,"0")).join("")}class Bn extends Error{constructor({message:f,code:m,cause:p,name:b}){var D;super(f,{cause:p}),this.__isWebAuthnError=!0,this.name=null!==(D=b??(p instanceof Error?p.name:void 0))&&void 0!==D?D:"Unknown Error",this.code=m}}class Do extends Bn{constructor(f,m){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m,message:f}),this.name="WebAuthnUnknownError",this.originalError=m}}function Ft({error:k,options:f}){var m,p,b;const{publicKey:D}=f;if(!D)throw Error("options was missing required publicKey property");if("AbortError"===k.name){if(f.signal instanceof AbortSignal)return new Bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:k})}else if("ConstraintError"===k.name){if(!0===(null===(m=D.authenticatorSelection)||void 0===m?void 0:m.requireResidentKey))return new Bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:k});if("conditional"===f.mediation&&"required"===(null===(p=D.authenticatorSelection)||void 0===p?void 0:p.userVerification))return new Bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:k});if("required"===(null===(b=D.authenticatorSelection)||void 0===b?void 0:b.userVerification))return new Bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:k})}else{if("InvalidStateError"===k.name)return new Bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:k});if("NotAllowedError"===k.name)return new Bn({message:k.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:k});if("NotSupportedError"===k.name)return 0===D.pubKeyCredParams.filter(L=>"public-key"===L.type).length?new Bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:k}):new Bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:k});if("SecurityError"===k.name){const R=window.location.hostname;if(!Wo(R))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:k});if(D.rp.id!==R)return new Bn({message:`The RP ID "${D.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:k})}else if("TypeError"===k.name){if(D.user.id.byteLength<1||D.user.id.byteLength>64)return new Bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:k})}else if("UnknownError"===k.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:k})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:k})}function oa({error:k,options:f}){const{publicKey:m}=f;if(!m)throw Error("options was missing required publicKey property");if("AbortError"===k.name){if(f.signal instanceof AbortSignal)return new Bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:k})}else{if("NotAllowedError"===k.name)return new Bn({message:k.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:k});if("SecurityError"===k.name){const p=window.location.hostname;if(!Wo(p))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:k});if(m.rpId!==p)return new Bn({message:`The RP ID "${m.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:k})}else if("UnknownError"===k.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:k})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:k})}const ni=new class tu{createNewAbortSignal(){if(this.controller){const m=new Error("Cancelling existing WebAuthn API call for new one");m.name="AbortError",this.controller.abort(m)}const f=new AbortController;return this.controller=f,f.signal}cancelCeremony(){if(this.controller){const f=new Error("Manually cancelling existing WebAuthn API call");f.name="AbortError",this.controller.abort(f),this.controller=void 0}}};function Ys(k){if(!k)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(k);const{challenge:f,user:m,excludeCredentials:p}=k,b=(0,o.__rest)(k,["challenge","user","excludeCredentials"]),D=Fa(f).buffer,R=Object.assign(Object.assign({},m),{id:Fa(m.id).buffer}),L=Object.assign(Object.assign({},b),{challenge:D,user:R});if(p&&p.length>0){L.excludeCredentials=new Array(p.length);for(let H=0;H<p.length;H++){const Y=p[H];L.excludeCredentials[H]=Object.assign(Object.assign({},Y),{id:Fa(Y.id).buffer,type:Y.type||"public-key",transports:Y.transports})}}return L}function Ho(k){if(!k)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(k);const{challenge:f,allowCredentials:m}=k,p=(0,o.__rest)(k,["challenge","allowCredentials"]),b=Fa(f).buffer,D=Object.assign(Object.assign({},p),{challenge:b});if(m&&m.length>0){D.allowCredentials=new Array(m.length);for(let R=0;R<m.length;R++){const L=m[R];D.allowCredentials[R]=Object.assign(Object.assign({},L),{id:Fa(L.id).buffer,type:L.type||"public-key",transports:L.transports})}}return D}function wa(k){var f;if("toJSON"in k&&"function"==typeof k.toJSON)return k.toJSON();const m=k;return{id:k.id,rawId:k.id,response:{attestationObject:Gr(new Uint8Array(k.response.attestationObject)),clientDataJSON:Gr(new Uint8Array(k.response.clientDataJSON))},type:"public-key",clientExtensionResults:k.getClientExtensionResults(),authenticatorAttachment:null!==(f=m.authenticatorAttachment)&&void 0!==f?f:void 0}}function Ki(k){var f;if("toJSON"in k&&"function"==typeof k.toJSON)return k.toJSON();const m=k,p=k.getClientExtensionResults(),b=k.response;return{id:k.id,rawId:k.id,response:{authenticatorData:Gr(new Uint8Array(b.authenticatorData)),clientDataJSON:Gr(new Uint8Array(b.clientDataJSON)),signature:Gr(new Uint8Array(b.signature)),userHandle:b.userHandle?Gr(new Uint8Array(b.userHandle)):void 0},type:"public-key",clientExtensionResults:p,authenticatorAttachment:null!==(f=m.authenticatorAttachment)&&void 0!==f?f:void 0}}function Wo(k){return"localhost"===k||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(k)}function oo(){var k,f;return!!(U()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(k=navigator?.credentials)||void 0===k?void 0:k.create)&&"function"==typeof(null===(f=navigator?.credentials)||void 0===f?void 0:f.get))}function so(){return(so=(0,E.A)(function*(k){try{const f=yield navigator.credentials.create(k);return f?f instanceof PublicKeyCredential?{data:f,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",f)}:{data:null,error:new Do("Empty credential response",f)}}catch(f){return{data:null,error:Ft({error:f,options:k})}}})).apply(this,arguments)}function lo(){return(lo=(0,E.A)(function*(k){try{const f=yield navigator.credentials.get(k);return f?f instanceof PublicKeyCredential?{data:f,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",f)}:{data:null,error:new Do("Empty credential response",f)}}catch(f){return{data:null,error:oa({error:f,options:k})}}})).apply(this,arguments)}const zo={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ko={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gi(...k){const f=b=>null!==b&&"object"==typeof b&&!Array.isArray(b),m=b=>b instanceof ArrayBuffer||ArrayBuffer.isView(b),p={};for(const b of k)if(b)for(const D in b){const R=b[D];if(void 0!==R)if(Array.isArray(R))p[D]=R;else if(m(R))p[D]=R;else if(f(R)){const L=p[D];p[D]=f(L)?Gi(L,R):Gi(R)}else p[D]=R}return p}class uo{constructor(f){this.client=f,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(f){var m=this;return(0,E.A)(function*(){return m.client.mfa.enroll(Object.assign(Object.assign({},f),{factorType:"webauthn"}))})()}_challenge(f,m){var p=this;return(0,E.A)(function*({factorId:b,webauthn:D,friendlyName:R,signal:L},H){try{const{data:Y,error:ae}=yield p.client.mfa.challenge({factorId:b,webauthn:D});if(!Y)return{data:null,error:ae};const we=L??ni.createNewAbortSignal();if("create"===Y.webauthn.type){const{user:xe}=Y.webauthn.credential_options.publicKey;xe.name||(xe.name=`${xe.id}:${R}`),xe.displayName||(xe.displayName=xe.name)}switch(Y.webauthn.type){case"create":{const xe=function Go(k,f){return Gi(zo,k,f||{})}(Y.webauthn.credential_options.publicKey,H?.create),{data:He,error:Oe}=yield function Ua(k){return so.apply(this,arguments)}({publicKey:xe,signal:we});return He?{data:{factorId:b,challengeId:Y.id,webauthn:{type:Y.webauthn.type,credential_response:He}},error:null}:{data:null,error:Oe}}case"request":{const xe=function Ni(k,f){return Gi(Ko,k,f||{})}(Y.webauthn.credential_options.publicKey,H?.request),{data:He,error:Oe}=yield function Is(k){return lo.apply(this,arguments)}(Object.assign(Object.assign({},Y.webauthn.credential_options),{publicKey:xe,signal:we}));return He?{data:{factorId:b,challengeId:Y.id,webauthn:{type:Y.webauthn.type,credential_response:He}},error:null}:{data:null,error:Oe}}}}catch(Y){return B(Y)?{data:null,error:Y}:{data:null,error:new ze("Unexpected error in challenge",Y)}}}).apply(this,arguments)}_verify(f){var m=this;return(0,E.A)(function*({challengeId:p,factorId:b,webauthn:D}){return m.client.mfa.verify({factorId:b,challengeId:p,webauthn:D})}).apply(this,arguments)}_authenticate(f,m){var p=this;return(0,E.A)(function*({factorId:b,webauthn:{rpId:D=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:R=(typeof window<"u"?[window.location.origin]:void 0),signal:L}={}},H){if(!D)return{data:null,error:new j("rpId is required for WebAuthn authentication")};try{if(!oo())return{data:null,error:new ze("Browser does not support WebAuthn",null)};const{data:Y,error:ae}=yield p.challenge({factorId:b,webauthn:{rpId:D,rpOrigins:R},signal:L},{request:H});if(!Y)return{data:null,error:ae};const{webauthn:we}=Y;return p._verify({factorId:b,challengeId:Y.challengeId,webauthn:{type:we.type,rpId:D,rpOrigins:R,credential_response:we.credential_response}})}catch(Y){return B(Y)?{data:null,error:Y}:{data:null,error:new ze("Unexpected error in authenticate",Y)}}}).apply(this,arguments)}_register(f,m){var p=this;return(0,E.A)(function*({friendlyName:b,webauthn:{rpId:D=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:R=(typeof window<"u"?[window.location.origin]:void 0),signal:L}={}},H){if(!D)return{data:null,error:new j("rpId is required for WebAuthn registration")};try{if(!oo())return{data:null,error:new ze("Browser does not support WebAuthn",null)};const{data:Y,error:ae}=yield p._enroll({friendlyName:b});if(!Y)return yield p.client.mfa.listFactors().then(He=>{var Oe;return null===(Oe=He.data)||void 0===Oe?void 0:Oe.all.find(Je=>"webauthn"===Je.factor_type&&Je.friendly_name===b&&"unverified"!==Je.status)}).then(He=>He?p.client.mfa.unenroll({factorId:He?.id}):void 0),{data:null,error:ae};const{data:we,error:xe}=yield p._challenge({factorId:Y.id,friendlyName:Y.friendly_name,webauthn:{rpId:D,rpOrigins:R},signal:L},{create:H});return we?p._verify({factorId:Y.id,challengeId:we.challengeId,webauthn:{rpId:D,rpOrigins:R,type:we.webauthn.type,credential_response:we.webauthn.credential_response}}):{data:null,error:xe}}catch(Y){return B(Y)?{data:null,error:Y}:{data:null,error:new ze("Unexpected error in register",Y)}}}).apply(this,arguments)}}!function Zl(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const At={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.83.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Jt(k,f,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,E.A)(function*(k,f,m){return yield m()})).apply(this,arguments)}const Li={},po=(()=>{class k{get jwks(){var m,p;return null!==(p=null===(m=Li[this.storageKey])||void 0===m?void 0:m.jwks)&&void 0!==p?p:{keys:[]}}set jwks(m){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:m})}get jwks_cached_at(){var m,p;return null!==(p=null===(m=Li[this.storageKey])||void 0===m?void 0:m.cachedAt)&&void 0!==p?p:Number.MIN_SAFE_INTEGER}set jwks_cached_at(m){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:m})}constructor(m){var b,D,R,p=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const L=Object.assign(Object.assign({},At),m);if(this.storageKey=L.storageKey,this.instanceID=null!==(b=k.nextInstanceID[this.storageKey])&&void 0!==b?b:0,k.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!L.debug,"function"==typeof L.debug&&(this.logger=L.debug),this.instanceID>0&&U()){const H=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(H),this.logDebugMessages&&console.trace(H)}if(this.persistSession=L.persistSession,this.autoRefreshToken=L.autoRefreshToken,this.admin=new Wi({url:L.url,headers:L.headers,fetch:L.fetch}),this.url=L.url,this.headers=L.headers,this.fetch=se(L.fetch),this.lock=L.lock||Jt,this.detectSessionInUrl=L.detectSessionInUrl,this.flowType=L.flowType,this.hasCustomAuthorizationHeader=L.hasCustomAuthorizationHeader,this.throwOnError=L.throwOnError,this.lock=L.lock?L.lock:U()&&null!==(D=globalThis?.navigator)&&void 0!==D&&D.locks?Ss:Jt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uo(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(L.storage?this.storage=L.storage:F()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ko(this.memoryStorage)),L.userStorage&&(this.userStorage=L.userStorage)):(this.memoryStorage={},this.storage=ko(this.memoryStorage)),U()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(H){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",H)}null===(R=this.broadcastChannel)||void 0===R||R.addEventListener("message",function(){var H=(0,E.A)(function*(Y){p._debug("received broadcast notification from other tab or client",Y),yield p._notifyAllSubscribers(Y.data.event,Y.data.session,!1)});return function(Y){return H.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(m){if(this.throwOnError&&m&&m.error)throw m.error;return m}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.83.0) ${(new Date).toISOString()}`}_debug(...m){return this.logDebugMessages&&this.logger(this._logPrefix(),...m),this}initialize(){var m=this;return(0,E.A)(function*(){return m.initializePromise||(m.initializePromise=(0,E.A)(function*(){return yield m._acquireLock(-1,(0,E.A)(function*(){return yield m._initialize()}))})()),yield m.initializePromise})()}_initialize(){var m=this;return(0,E.A)(function*(){var p;try{let b={},D="none";if(U()&&(b=function Q(k){const f={},m=new URL(k);if(m.hash&&"#"===m.hash[0])try{new URLSearchParams(m.hash.substring(1)).forEach((b,D)=>{f[D]=b})}catch{}return m.searchParams.forEach((p,b)=>{f[b]=p}),f}(window.location.href),m._isImplicitGrantCallback(b)?D="implicit":(yield m._isPKCECallback(b))&&(D="pkce")),U()&&m.detectSessionInUrl&&"none"!==D){const{data:R,error:L}=yield m._getSessionFromURL(b,D);if(L){if(m._debug("#_initialize()","error detecting session from URL",L),function nn(k){return B(k)&&"AuthImplicitGrantRedirectError"===k.name}(L)){const ae=null===(p=L.details)||void 0===p?void 0:p.code;if("identity_already_exists"===ae||"identity_not_found"===ae||"single_identity_not_deletable"===ae)return{error:L}}return yield m._removeSession(),{error:L}}const{session:H,redirectType:Y}=R;return m._debug("#_initialize()","detected session in URL",H,"redirect type",Y),yield m._saveSession(H),setTimeout((0,E.A)(function*(){"recovery"===Y?yield m._notifyAllSubscribers("PASSWORD_RECOVERY",H):yield m._notifyAllSubscribers("SIGNED_IN",H)}),0),{error:null}}return yield m._recoverAndRefresh(),{error:null}}catch(b){return B(b)?m._returnResult({error:b}):m._returnResult({error:new ze("Unexpected error during initialization",b)})}finally{yield m._handleVisibilityChange(),m._debug("#_initialize()","end")}})()}signInAnonymously(m){var p=this;return(0,E.A)(function*(){var b,D,R;try{const L=yield Tt(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,body:{data:null!==(D=null===(b=m?.options)||void 0===b?void 0:b.data)&&void 0!==D?D:{},gotrue_meta_security:{captcha_token:null===(R=m?.options)||void 0===R?void 0:R.captchaToken}},xform:mr}),{data:H,error:Y}=L;if(Y||!H)return p._returnResult({data:{user:null,session:null},error:Y});const ae=H.session,we=H.user;return H.session&&(yield p._saveSession(H.session),yield p._notifyAllSubscribers("SIGNED_IN",ae)),p._returnResult({data:{user:we,session:ae},error:null})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}})()}signUp(m){var p=this;return(0,E.A)(function*(){var b,D,R;try{let L;if("email"in m){const{email:xe,password:He,options:Oe}=m;let Je=null,Ze=null;"pkce"===p.flowType&&([Je,Ze]=yield Fr(p.storage,p.storageKey)),L=yield Tt(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,redirectTo:Oe?.emailRedirectTo,body:{email:xe,password:He,data:null!==(b=Oe?.data)&&void 0!==b?b:{},gotrue_meta_security:{captcha_token:Oe?.captchaToken},code_challenge:Je,code_challenge_method:Ze},xform:mr})}else{if(!("phone"in m))throw new jt("You must provide either an email or phone number and a password");{const{phone:xe,password:He,options:Oe}=m;L=yield Tt(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,body:{phone:xe,password:He,data:null!==(D=Oe?.data)&&void 0!==D?D:{},channel:null!==(R=Oe?.channel)&&void 0!==R?R:"sms",gotrue_meta_security:{captcha_token:Oe?.captchaToken}},xform:mr})}}const{data:H,error:Y}=L;if(Y||!H)return p._returnResult({data:{user:null,session:null},error:Y});const ae=H.session,we=H.user;return H.session&&(yield p._saveSession(H.session),yield p._notifyAllSubscribers("SIGNED_IN",ae)),p._returnResult({data:{user:we,session:ae},error:null})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}})()}signInWithPassword(m){var p=this;return(0,E.A)(function*(){try{let b;if("email"in m){const{email:L,password:H,options:Y}=m;b=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=password`,{headers:p.headers,body:{email:L,password:H,gotrue_meta_security:{captcha_token:Y?.captchaToken}},xform:Vo})}else{if(!("phone"in m))throw new jt("You must provide either an email or phone number and a password");{const{phone:L,password:H,options:Y}=m;b=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=password`,{headers:p.headers,body:{phone:L,password:H,gotrue_meta_security:{captcha_token:Y?.captchaToken}},xform:Vo})}}const{data:D,error:R}=b;if(R)return p._returnResult({data:{user:null,session:null},error:R});if(!D||!D.session||!D.user){const L=new Wt;return p._returnResult({data:{user:null,session:null},error:L})}return D.session&&(yield p._saveSession(D.session),yield p._notifyAllSubscribers("SIGNED_IN",D.session)),p._returnResult({data:Object.assign({user:D.user,session:D.session},D.weak_password?{weakPassword:D.weak_password}:null),error:R})}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithOAuth(m){var p=this;return(0,E.A)(function*(){var b,D,R,L;return yield p._handleProviderSignIn(m.provider,{redirectTo:null===(b=m.options)||void 0===b?void 0:b.redirectTo,scopes:null===(D=m.options)||void 0===D?void 0:D.scopes,queryParams:null===(R=m.options)||void 0===R?void 0:R.queryParams,skipBrowserRedirect:null===(L=m.options)||void 0===L?void 0:L.skipBrowserRedirect})})()}exchangeCodeForSession(m){var p=this;return(0,E.A)(function*(){return yield p.initializePromise,p._acquireLock(-1,(0,E.A)(function*(){return p._exchangeCodeForSession(m)}))})()}signInWithWeb3(m){var p=this;return(0,E.A)(function*(){const{chain:b}=m;switch(b){case"ethereum":return yield p.signInWithEthereum(m);case"solana":return yield p.signInWithSolana(m);default:throw new Error(`@supabase/auth-js: Unsupported chain "${b}"`)}})()}signInWithEthereum(m){var p=this;return(0,E.A)(function*(){var b,D,R,L,H,Y,ae,we,xe,He,Oe;let Je,Ze;if("message"in m)Je=m.message,Ze=m.signature;else{const{wallet:xt,statement:$t,options:gt}=m;let _t;if(U())if("object"==typeof xt)_t=xt;else{const ka=window;if(!("ethereum"in ka)||"object"!=typeof ka.ethereum||!("request"in ka.ethereum)||"function"!=typeof ka.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");_t=ka.ethereum}else{if("object"!=typeof xt||!gt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_t=xt}const kn=new URL(null!==(b=gt?.url)&&void 0!==b?b:window.location.href),Tr=yield _t.request({method:"eth_requestAccounts"}).then(ka=>ka).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Tr||0===Tr.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const vn=Xs(Tr[0]);let Cn=null===(D=gt?.signInWithEthereum)||void 0===D?void 0:D.chainId;Cn||(Cn=function eu(k){return parseInt(k,16)}(yield _t.request({method:"eth_chainId"}))),Je=function bc(k){var f;const{chainId:m,domain:p,expirationTime:b,issuedAt:D=new Date,nonce:R,notBefore:L,requestId:H,resources:Y,scheme:ae,uri:we,version:xe}=k;if(!Number.isInteger(m))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${m}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(R&&R.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${R}`);if(!we)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==xe)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${xe}`);if(null!==(f=k.statement)&&void 0!==f&&f.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${k.statement}`);const Ze=`${ae?`${ae}://${p}`:p} wants you to sign in with your Ethereum account:\n${Xs(k.address)}\n\n${k.statement?`${k.statement}\n`:""}`;let vt=`URI: ${we}\nVersion: ${xe}\nChain ID: ${m}${R?`\nNonce: ${R}`:""}\nIssued At: ${D.toISOString()}`;if(b&&(vt+=`\nExpiration Time: ${b.toISOString()}`),L&&(vt+=`\nNot Before: ${L.toISOString()}`),H&&(vt+=`\nRequest ID: ${H}`),Y){let xt="\nResources:";for(const $t of Y){if(!$t||"string"!=typeof $t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$t}`);xt+=`\n- ${$t}`}vt+=xt}return`${Ze}\n${vt}`}({domain:kn.host,address:vn,statement:$t,uri:kn.href,version:"1",chainId:Cn,nonce:null===(R=gt?.signInWithEthereum)||void 0===R?void 0:R.nonce,issuedAt:null!==(H=null===(L=gt?.signInWithEthereum)||void 0===L?void 0:L.issuedAt)&&void 0!==H?H:new Date,expirationTime:null===(Y=gt?.signInWithEthereum)||void 0===Y?void 0:Y.expirationTime,notBefore:null===(ae=gt?.signInWithEthereum)||void 0===ae?void 0:ae.notBefore,requestId:null===(we=gt?.signInWithEthereum)||void 0===we?void 0:we.requestId,resources:null===(xe=gt?.signInWithEthereum)||void 0===xe?void 0:xe.resources}),Ze=yield _t.request({method:"personal_sign",params:[io(Je),vn]})}try{const{data:vt,error:xt}=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=web3`,{headers:p.headers,body:Object.assign({chain:"ethereum",message:Je,signature:Ze},null!==(He=m.options)&&void 0!==He&&He.captchaToken?{gotrue_meta_security:{captcha_token:null===(Oe=m.options)||void 0===Oe?void 0:Oe.captchaToken}}:null),xform:mr});if(xt)throw xt;if(!vt||!vt.session||!vt.user){const $t=new Wt;return p._returnResult({data:{user:null,session:null},error:$t})}return vt.session&&(yield p._saveSession(vt.session),yield p._notifyAllSubscribers("SIGNED_IN",vt.session)),p._returnResult({data:Object.assign({},vt),error:xt})}catch(vt){if(B(vt))return p._returnResult({data:{user:null,session:null},error:vt});throw vt}})()}signInWithSolana(m){var p=this;return(0,E.A)(function*(){var b,D,R,L,H,Y,ae,we,xe,He,Oe,Je;let Ze,vt;if("message"in m)Ze=m.message,vt=m.signature;else{const{wallet:$t,statement:gt,options:_t}=m;let kn;if(U())if("object"==typeof $t)kn=$t;else{const vn=window;if(!("solana"in vn)||"object"!=typeof vn.solana||!("signIn"in vn.solana&&"function"==typeof vn.solana.signIn||"signMessage"in vn.solana&&"function"==typeof vn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");kn=vn.solana}else{if("object"!=typeof $t||!_t?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");kn=$t}const Tr=new URL(null!==(b=_t?.url)&&void 0!==b?b:window.location.href);if("signIn"in kn&&kn.signIn){const vn=yield kn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},_t?.signInWithSolana),{version:"1",domain:Tr.host,uri:Tr.href}),gt?{statement:gt}:null));let Cn;if(Array.isArray(vn)&&vn[0]&&"object"==typeof vn[0])Cn=vn[0];else{if(!(vn&&"object"==typeof vn&&"signedMessage"in vn&&"signature"in vn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Cn=vn}if(!("signedMessage"in Cn&&"signature"in Cn&&("string"==typeof Cn.signedMessage||Cn.signedMessage instanceof Uint8Array)&&Cn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Ze="string"==typeof Cn.signedMessage?Cn.signedMessage:(new TextDecoder).decode(Cn.signedMessage),vt=Cn.signature}else{if(!("signMessage"in kn&&"function"==typeof kn.signMessage&&"publicKey"in kn&&"object"==typeof kn&&kn.publicKey&&"toBase58"in kn.publicKey&&"function"==typeof kn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Ze=[`${Tr.host} wants you to sign in with your Solana account:`,kn.publicKey.toBase58(),...gt?["",gt,""]:[""],"Version: 1",`URI: ${Tr.href}`,`Issued At: ${null!==(R=null===(D=_t?.signInWithSolana)||void 0===D?void 0:D.issuedAt)&&void 0!==R?R:(new Date).toISOString()}`,...null!==(L=_t?.signInWithSolana)&&void 0!==L&&L.notBefore?[`Not Before: ${_t.signInWithSolana.notBefore}`]:[],...null!==(H=_t?.signInWithSolana)&&void 0!==H&&H.expirationTime?[`Expiration Time: ${_t.signInWithSolana.expirationTime}`]:[],...null!==(Y=_t?.signInWithSolana)&&void 0!==Y&&Y.chainId?[`Chain ID: ${_t.signInWithSolana.chainId}`]:[],...null!==(ae=_t?.signInWithSolana)&&void 0!==ae&&ae.nonce?[`Nonce: ${_t.signInWithSolana.nonce}`]:[],...null!==(we=_t?.signInWithSolana)&&void 0!==we&&we.requestId?[`Request ID: ${_t.signInWithSolana.requestId}`]:[],...null!==(He=null===(xe=_t?.signInWithSolana)||void 0===xe?void 0:xe.resources)&&void 0!==He&&He.length?["Resources",..._t.signInWithSolana.resources.map(Cn=>`- ${Cn}`)]:[]].join("\n");const vn=yield kn.signMessage((new TextEncoder).encode(Ze),"utf8");if(!(vn&&vn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");vt=vn}}try{const{data:xt,error:$t}=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=web3`,{headers:p.headers,body:Object.assign({chain:"solana",message:Ze,signature:Gr(vt)},null!==(Oe=m.options)&&void 0!==Oe&&Oe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Je=m.options)||void 0===Je?void 0:Je.captchaToken}}:null),xform:mr});if($t)throw $t;if(!xt||!xt.session||!xt.user){const gt=new Wt;return p._returnResult({data:{user:null,session:null},error:gt})}return xt.session&&(yield p._saveSession(xt.session),yield p._notifyAllSubscribers("SIGNED_IN",xt.session)),p._returnResult({data:Object.assign({},xt),error:$t})}catch(xt){if(B(xt))return p._returnResult({data:{user:null,session:null},error:xt});throw xt}})()}_exchangeCodeForSession(m){var p=this;return(0,E.A)(function*(){const b=yield Qe(p.storage,`${p.storageKey}-code-verifier`),[D,R]=(b??"").split("/");try{const{data:L,error:H}=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=pkce`,{headers:p.headers,body:{auth_code:m,code_verifier:D},xform:mr});if(yield st(p.storage,`${p.storageKey}-code-verifier`),H)throw H;if(!L||!L.session||!L.user){const Y=new Wt;return p._returnResult({data:{user:null,session:null,redirectType:null},error:Y})}return L.session&&(yield p._saveSession(L.session),yield p._notifyAllSubscribers("SIGNED_IN",L.session)),p._returnResult({data:Object.assign(Object.assign({},L),{redirectType:R??null}),error:H})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null,redirectType:null},error:L});throw L}})()}signInWithIdToken(m){var p=this;return(0,E.A)(function*(){try{const{options:b,provider:D,token:R,access_token:L,nonce:H}=m,Y=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=id_token`,{headers:p.headers,body:{provider:D,id_token:R,access_token:L,nonce:H,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:mr}),{data:ae,error:we}=Y;if(we)return p._returnResult({data:{user:null,session:null},error:we});if(!ae||!ae.session||!ae.user){const xe=new Wt;return p._returnResult({data:{user:null,session:null},error:xe})}return ae.session&&(yield p._saveSession(ae.session),yield p._notifyAllSubscribers("SIGNED_IN",ae.session)),p._returnResult({data:ae,error:we})}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithOtp(m){var p=this;return(0,E.A)(function*(){var b,D,R,L,H;try{if("email"in m){const{email:Y,options:ae}=m;let we=null,xe=null;"pkce"===p.flowType&&([we,xe]=yield Fr(p.storage,p.storageKey));const{error:He}=yield Tt(p.fetch,"POST",`${p.url}/otp`,{headers:p.headers,body:{email:Y,data:null!==(b=ae?.data)&&void 0!==b?b:{},create_user:null===(D=ae?.shouldCreateUser)||void 0===D||D,gotrue_meta_security:{captcha_token:ae?.captchaToken},code_challenge:we,code_challenge_method:xe},redirectTo:ae?.emailRedirectTo});return p._returnResult({data:{user:null,session:null},error:He})}if("phone"in m){const{phone:Y,options:ae}=m,{data:we,error:xe}=yield Tt(p.fetch,"POST",`${p.url}/otp`,{headers:p.headers,body:{phone:Y,data:null!==(R=ae?.data)&&void 0!==R?R:{},create_user:null===(L=ae?.shouldCreateUser)||void 0===L||L,gotrue_meta_security:{captcha_token:ae?.captchaToken},channel:null!==(H=ae?.channel)&&void 0!==H?H:"sms"}});return p._returnResult({data:{user:null,session:null,messageId:we?.message_id},error:xe})}throw new jt("You must provide either an email or phone number.")}catch(Y){if(B(Y))return p._returnResult({data:{user:null,session:null},error:Y});throw Y}})()}verifyOtp(m){var p=this;return(0,E.A)(function*(){var b,D;try{let R,L;"options"in m&&(R=null===(b=m.options)||void 0===b?void 0:b.redirectTo,L=null===(D=m.options)||void 0===D?void 0:D.captchaToken);const{data:H,error:Y}=yield Tt(p.fetch,"POST",`${p.url}/verify`,{headers:p.headers,body:Object.assign(Object.assign({},m),{gotrue_meta_security:{captcha_token:L}}),redirectTo:R,xform:mr});if(Y)throw Y;if(!H)throw new Error("An error occurred on token verification.");const ae=H.session,we=H.user;return ae?.access_token&&(yield p._saveSession(ae),yield p._notifyAllSubscribers("recovery"==m.type?"PASSWORD_RECOVERY":"SIGNED_IN",ae)),p._returnResult({data:{user:we,session:ae},error:null})}catch(R){if(B(R))return p._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithSSO(m){var p=this;return(0,E.A)(function*(){var b,D,R,L,H;try{let Y=null,ae=null;"pkce"===p.flowType&&([Y,ae]=yield Fr(p.storage,p.storageKey));const we=yield Tt(p.fetch,"POST",`${p.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in m?{provider_id:m.providerId}:null),"domain"in m?{domain:m.domain}:null),{redirect_to:null!==(D=null===(b=m.options)||void 0===b?void 0:b.redirectTo)&&void 0!==D?D:void 0}),null!==(R=m?.options)&&void 0!==R&&R.captchaToken?{gotrue_meta_security:{captcha_token:m.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:Y,code_challenge_method:ae}),headers:p.headers,xform:M});return!(null===(L=we.data)||void 0===L)&&L.url&&U()&&!(null!==(H=m.options)&&void 0!==H&&H.skipBrowserRedirect)&&window.location.assign(we.data.url),p._returnResult(we)}catch(Y){if(B(Y))return p._returnResult({data:null,error:Y});throw Y}})()}reauthenticate(){var m=this;return(0,E.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,E.A)(function*(){return yield m._reauthenticate()}))})()}_reauthenticate(){var m=this;return(0,E.A)(function*(){try{return yield m._useSession(function(){var p=(0,E.A)(function*(b){const{data:{session:D},error:R}=b;if(R)throw R;if(!D)throw new Ut;const{error:L}=yield Tt(m.fetch,"GET",`${m.url}/reauthenticate`,{headers:m.headers,jwt:D.access_token});return m._returnResult({data:{user:null,session:null},error:L})});return function(b){return p.apply(this,arguments)}}())}catch(p){if(B(p))return m._returnResult({data:{user:null,session:null},error:p});throw p}})()}resend(m){var p=this;return(0,E.A)(function*(){try{const b=`${p.url}/resend`;if("email"in m){const{email:D,type:R,options:L}=m,{error:H}=yield Tt(p.fetch,"POST",b,{headers:p.headers,body:{email:D,type:R,gotrue_meta_security:{captcha_token:L?.captchaToken}},redirectTo:L?.emailRedirectTo});return p._returnResult({data:{user:null,session:null},error:H})}if("phone"in m){const{phone:D,type:R,options:L}=m,{data:H,error:Y}=yield Tt(p.fetch,"POST",b,{headers:p.headers,body:{phone:D,type:R,gotrue_meta_security:{captcha_token:L?.captchaToken}}});return p._returnResult({data:{user:null,session:null,messageId:H?.message_id},error:Y})}throw new jt("You must provide either an email or phone number and a type")}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}getSession(){var m=this;return(0,E.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,E.A)(function*(){return m._useSession(function(){var b=(0,E.A)(function*(D){return D});return function(D){return b.apply(this,arguments)}}())}))})()}_acquireLock(m,p){var b=this;return(0,E.A)(function*(){b._debug("#_acquireLock","begin",m);try{if(b.lockAcquired){const D=b.pendingInLock.length?b.pendingInLock[b.pendingInLock.length-1]:Promise.resolve(),R=(0,E.A)(function*(){return yield D,yield p()})();return b.pendingInLock.push((0,E.A)(function*(){try{yield R}catch{}})()),R}return yield b.lock(`lock:${b.storageKey}`,m,(0,E.A)(function*(){b._debug("#_acquireLock","lock acquired for storage key",b.storageKey);try{b.lockAcquired=!0;const D=p();for(b.pendingInLock.push((0,E.A)(function*(){try{yield D}catch{}})()),yield D;b.pendingInLock.length;){const R=[...b.pendingInLock];yield Promise.all(R),b.pendingInLock.splice(0,R.length)}return yield D}finally{b._debug("#_acquireLock","lock released for storage key",b.storageKey),b.lockAcquired=!1}}))}finally{b._debug("#_acquireLock","end")}})()}_useSession(m){var p=this;return(0,E.A)(function*(){p._debug("#_useSession","begin");try{const b=yield p.__loadSession();return yield m(b)}finally{p._debug("#_useSession","end")}})()}__loadSession(){var m=this;return(0,E.A)(function*(){m._debug("#__loadSession()","begin"),m.lockAcquired||m._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let p=null;const b=yield Qe(m.storage,m.storageKey);if(m._debug("#getSession()","session from storage",b),null!==b&&(m._isValidSession(b)?p=b:(m._debug("#getSession()","session from storage is not valid"),yield m._removeSession())),!p)return{data:{session:null},error:null};const D=!!p.expires_at&&1e3*p.expires_at-Date.now()<9e4;if(m._debug("#__loadSession()",`session has${D?"":" not"} expired`,"expires_at",p.expires_at),!D){if(m.userStorage){const H=yield Qe(m.userStorage,m.storageKey+"-user");p.user=H?.user?H.user:Dr()}if(m.storage.isServer&&p.user&&!p.user.__isUserNotAvailableProxy){const H={value:m.suppressGetSessionWarning};p.user=function ro(k,f){return new Proxy(k,{get:(m,p,b)=>{if("__isInsecureUserWarningProxy"===p)return!0;if("symbol"==typeof p){const D=p.toString();if("Symbol(Symbol.toPrimitive)"===D||"Symbol(Symbol.toStringTag)"===D||"Symbol(util.inspect.custom)"===D||"Symbol(nodejs.util.inspect.custom)"===D)return Reflect.get(m,p,b)}return!f.value&&"string"==typeof p&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f.value=!0),Reflect.get(m,p,b)}})}(p.user,H),H.value&&(m.suppressGetSessionWarning=!0)}return{data:{session:p},error:null}}const{data:R,error:L}=yield m._callRefreshToken(p.refresh_token);return m._returnResult(L?{data:{session:null},error:L}:{data:{session:R},error:null})}finally{m._debug("#__loadSession()","end")}})()}getUser(m){var p=this;return(0,E.A)(function*(){return m?yield p._getUser(m):(yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){return yield p._getUser()})))})()}_getUser(m){var p=this;return(0,E.A)(function*(){try{return m?yield Tt(p.fetch,"GET",`${p.url}/user`,{headers:p.headers,jwt:m,xform:S}):yield p._useSession(function(){var b=(0,E.A)(function*(D){var R,L,H;const{data:Y,error:ae}=D;if(ae)throw ae;return null!==(R=Y.session)&&void 0!==R&&R.access_token||p.hasCustomAuthorizationHeader?yield Tt(p.fetch,"GET",`${p.url}/user`,{headers:p.headers,jwt:null!==(H=null===(L=Y.session)||void 0===L?void 0:L.access_token)&&void 0!==H?H:void 0,xform:S}):{data:{user:null},error:new Ut}});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return function qt(k){return B(k)&&"AuthSessionMissingError"===k.name}(b)&&(yield p._removeSession(),yield st(p.storage,`${p.storageKey}-code-verifier`)),p._returnResult({data:{user:null},error:b});throw b}})()}updateUser(m){var p=this;return(0,E.A)(function*(b,D={}){return yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){return yield p._updateUser(b,D)}))}).apply(this,arguments)}_updateUser(m){var p=this;return(0,E.A)(function*(b,D={}){try{return yield p._useSession(function(){var R=(0,E.A)(function*(L){const{data:H,error:Y}=L;if(Y)throw Y;if(!H.session)throw new Ut;const ae=H.session;let we=null,xe=null;"pkce"===p.flowType&&null!=b.email&&([we,xe]=yield Fr(p.storage,p.storageKey));const{data:He,error:Oe}=yield Tt(p.fetch,"PUT",`${p.url}/user`,{headers:p.headers,redirectTo:D?.emailRedirectTo,body:Object.assign(Object.assign({},b),{code_challenge:we,code_challenge_method:xe}),jwt:ae.access_token,xform:S});if(Oe)throw Oe;return ae.user=He.user,yield p._saveSession(ae),yield p._notifyAllSubscribers("USER_UPDATED",ae),p._returnResult({data:{user:ae.user},error:null})});return function(L){return R.apply(this,arguments)}}())}catch(R){if(B(R))return p._returnResult({data:{user:null},error:R});throw R}}).apply(this,arguments)}setSession(m){var p=this;return(0,E.A)(function*(){return yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){return yield p._setSession(m)}))})()}_setSession(m){var p=this;return(0,E.A)(function*(){try{if(!m.access_token||!m.refresh_token)throw new Ut;const b=Date.now()/1e3;let D=b,R=!0,L=null;const{payload:H}=Bt(m.access_token);if(H.exp&&(D=H.exp,R=D<=b),R){const{data:Y,error:ae}=yield p._callRefreshToken(m.refresh_token);if(ae)return p._returnResult({data:{user:null,session:null},error:ae});if(!Y)return{data:{user:null,session:null},error:null};L=Y}else{const{data:Y,error:ae}=yield p._getUser(m.access_token);if(ae)throw ae;L={access_token:m.access_token,refresh_token:m.refresh_token,user:Y.user,token_type:"bearer",expires_in:D-b,expires_at:D},yield p._saveSession(L),yield p._notifyAllSubscribers("SIGNED_IN",L)}return p._returnResult({data:{user:L.user,session:L},error:null})}catch(b){if(B(b))return p._returnResult({data:{session:null,user:null},error:b});throw b}})()}refreshSession(m){var p=this;return(0,E.A)(function*(){return yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){return yield p._refreshSession(m)}))})()}_refreshSession(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R;if(!m){const{data:Y,error:ae}=D;if(ae)throw ae;m=null!==(R=Y.session)&&void 0!==R?R:void 0}if(!m?.refresh_token)throw new Ut;const{data:L,error:H}=yield p._callRefreshToken(m.refresh_token);return p._returnResult(H?{data:{user:null,session:null},error:H}:L?{data:{user:L.user,session:L},error:null}:{data:{user:null,session:null},error:null})});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}_getSessionFromURL(m,p){var b=this;return(0,E.A)(function*(){try{if(!U())throw new _n("No browser detected.");if(m.error||m.error_description||m.error_code)throw new _n(m.error_description||"Error in URL with unspecified error_description",{error:m.error||"unspecified_error",code:m.error_code||"unspecified_code"});switch(p){case"implicit":if("pkce"===b.flowType)throw new bn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===b.flowType)throw new _n("Not a valid implicit grant flow url.")}if("pkce"===p){if(b._debug("#_initialize()","begin","is PKCE flow",!0),!m.code)throw new bn("No code detected.");const{data:gt,error:_t}=yield b._exchangeCodeForSession(m.code);if(_t)throw _t;const kn=new URL(window.location.href);return kn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",kn.toString()),{data:{session:gt.session,redirectType:null},error:null}}const{provider_token:D,provider_refresh_token:R,access_token:L,refresh_token:H,expires_in:Y,expires_at:ae,token_type:we}=m;if(!(L&&Y&&H&&we))throw new _n("No session defined in URL");const xe=Math.round(Date.now()/1e3),He=parseInt(Y);let Oe=xe+He;ae&&(Oe=parseInt(ae));const Je=Oe-xe;1e3*Je<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Je}s, should have been closer to ${He}s`);const Ze=Oe-He;xe-Ze>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Ze,Oe,xe):xe-Ze<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Ze,Oe,xe);const{data:vt,error:xt}=yield b._getUser(L);if(xt)throw xt;const $t={provider_token:D,provider_refresh_token:R,access_token:L,expires_in:He,expires_at:Oe,refresh_token:H,token_type:we,user:vt.user};return window.location.hash="",b._debug("#_getSessionFromURL()","clearing window.location.hash"),b._returnResult({data:{session:$t,redirectType:m.type},error:null})}catch(D){if(B(D))return b._returnResult({data:{session:null,redirectType:null},error:D});throw D}})()}_isImplicitGrantCallback(m){return!(!m.access_token&&!m.error_description)}_isPKCECallback(m){var p=this;return(0,E.A)(function*(){const b=yield Qe(p.storage,`${p.storageKey}-code-verifier`);return!(!m.code||!b)})()}signOut(){var m=this;return(0,E.A)(function*(p={scope:"global"}){return yield m.initializePromise,yield m._acquireLock(-1,(0,E.A)(function*(){return yield m._signOut(p)}))}).apply(this,arguments)}_signOut(){var m=this;return(0,E.A)(function*({scope:p}={scope:"global"}){return yield m._useSession(function(){var b=(0,E.A)(function*(D){var R;const{data:L,error:H}=D;if(H)return m._returnResult({error:H});const Y=null===(R=L.session)||void 0===R?void 0:R.access_token;if(Y){const{error:ae}=yield m.admin.signOut(Y,p);if(ae&&(!function Le(k){return B(k)&&"AuthApiError"===k.name}(ae)||404!==ae.status&&401!==ae.status&&403!==ae.status))return m._returnResult({error:ae})}return"others"!==p&&(yield m._removeSession(),yield st(m.storage,`${m.storageKey}-code-verifier`)),m._returnResult({error:null})});return function(D){return b.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(m){var p=this;const b=function ar(){return Symbol("auth-callback")}(),D={id:b,callback:m,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,D),(0,E.A)(function*(){yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){p._emitInitialSession(b)}))})(),{data:{subscription:D}}}_emitInitialSession(m){var p=this;return(0,E.A)(function*(){return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R,L;try{const{data:{session:H},error:Y}=D;if(Y)throw Y;yield null===(R=p.stateChangeEmitters.get(m))||void 0===R?void 0:R.callback("INITIAL_SESSION",H),p._debug("INITIAL_SESSION","callback id",m,"session",H)}catch(H){yield null===(L=p.stateChangeEmitters.get(m))||void 0===L?void 0:L.callback("INITIAL_SESSION",null),p._debug("INITIAL_SESSION","callback id",m,"error",H),console.error(H)}});return function(D){return b.apply(this,arguments)}}())})()}resetPasswordForEmail(m){var p=this;return(0,E.A)(function*(b,D={}){let R=null,L=null;"pkce"===p.flowType&&([R,L]=yield Fr(p.storage,p.storageKey,!0));try{return yield Tt(p.fetch,"POST",`${p.url}/recover`,{body:{email:b,code_challenge:R,code_challenge_method:L,gotrue_meta_security:{captcha_token:D.captchaToken}},headers:p.headers,redirectTo:D.redirectTo})}catch(H){if(B(H))return p._returnResult({data:null,error:H});throw H}}).apply(this,arguments)}getUserIdentities(){var m=this;return(0,E.A)(function*(){var p;try{const{data:b,error:D}=yield m.getUser();if(D)throw D;return m._returnResult({data:{identities:null!==(p=b.user.identities)&&void 0!==p?p:[]},error:null})}catch(b){if(B(b))return m._returnResult({data:null,error:b});throw b}})()}linkIdentity(m){var p=this;return(0,E.A)(function*(){return"token"in m?p.linkIdentityIdToken(m):p.linkIdentityOAuth(m)})()}linkIdentityOAuth(m){var p=this;return(0,E.A)(function*(){var b;try{const{data:D,error:R}=yield p._useSession(function(){var L=(0,E.A)(function*(H){var Y,ae,we,xe,He;const{data:Oe,error:Je}=H;if(Je)throw Je;const Ze=yield p._getUrlForProvider(`${p.url}/user/identities/authorize`,m.provider,{redirectTo:null===(Y=m.options)||void 0===Y?void 0:Y.redirectTo,scopes:null===(ae=m.options)||void 0===ae?void 0:ae.scopes,queryParams:null===(we=m.options)||void 0===we?void 0:we.queryParams,skipBrowserRedirect:!0});return yield Tt(p.fetch,"GET",Ze,{headers:p.headers,jwt:null!==(He=null===(xe=Oe.session)||void 0===xe?void 0:xe.access_token)&&void 0!==He?He:void 0})});return function(H){return L.apply(this,arguments)}}());if(R)throw R;return U()&&!(null!==(b=m.options)&&void 0!==b&&b.skipBrowserRedirect)&&window.location.assign(D?.url),p._returnResult({data:{provider:m.provider,url:D?.url},error:null})}catch(D){if(B(D))return p._returnResult({data:{provider:m.provider,url:null},error:D});throw D}})()}linkIdentityIdToken(m){var p=this;return(0,E.A)(function*(){return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R;try{const{error:L,data:{session:H}}=D;if(L)throw L;const{options:Y,provider:ae,token:we,access_token:xe,nonce:He}=m,Oe=yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=id_token`,{headers:p.headers,jwt:null!==(R=H?.access_token)&&void 0!==R?R:void 0,body:{provider:ae,id_token:we,access_token:xe,nonce:He,link_identity:!0,gotrue_meta_security:{captcha_token:Y?.captchaToken}},xform:mr}),{data:Je,error:Ze}=Oe;return Ze?p._returnResult({data:{user:null,session:null},error:Ze}):Je&&Je.session&&Je.user?(Je.session&&(yield p._saveSession(Je.session),yield p._notifyAllSubscribers("USER_UPDATED",Je.session)),p._returnResult({data:Je,error:Ze})):p._returnResult({data:{user:null,session:null},error:new Wt})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}});return function(D){return b.apply(this,arguments)}}())})()}unlinkIdentity(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R,L;const{data:H,error:Y}=D;if(Y)throw Y;return yield Tt(p.fetch,"DELETE",`${p.url}/user/identities/${m.identity_id}`,{headers:p.headers,jwt:null!==(L=null===(R=H.session)||void 0===R?void 0:R.access_token)&&void 0!==L?L:void 0})});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_refreshAccessToken(m){var p=this;return(0,E.A)(function*(){const b=`#_refreshAccessToken(${m.substring(0,5)}...)`;p._debug(b,"begin");try{const D=Date.now();return yield function yn(k,f){return new Promise((p,b)=>{(0,E.A)(function*(){for(let D=0;D<1/0;D++)try{const R=yield k(D);if(!f(D,null,R))return void p(R)}catch(R){if(!f(D,R))return void b(R)}})()})}(function(){var R=(0,E.A)(function*(L){return L>0&&(yield function ft(k){return fn.apply(this,arguments)}(200*Math.pow(2,L-1))),p._debug(b,"refreshing attempt",L),yield Tt(p.fetch,"POST",`${p.url}/token?grant_type=refresh_token`,{body:{refresh_token:m},headers:p.headers,xform:mr})});return function(L){return R.apply(this,arguments)}}(),(R,L)=>{const H=200*Math.pow(2,R);return L&&Wr(L)&&Date.now()+H-D<Gn})}catch(D){if(p._debug(b,"error",D),B(D))return p._returnResult({data:{session:null,user:null},error:D});throw D}finally{p._debug(b,"end")}})()}_isValidSession(m){return"object"==typeof m&&null!==m&&"access_token"in m&&"refresh_token"in m&&"expires_at"in m}_handleProviderSignIn(m,p){var b=this;return(0,E.A)(function*(){const D=yield b._getUrlForProvider(`${b.url}/authorize`,m,{redirectTo:p.redirectTo,scopes:p.scopes,queryParams:p.queryParams});return b._debug("#_handleProviderSignIn()","provider",m,"options",p,"url",D),U()&&!p.skipBrowserRedirect&&window.location.assign(D),{data:{provider:m,url:D},error:null}})()}_recoverAndRefresh(){var m=this;return(0,E.A)(function*(){var p,b;const D="#_recoverAndRefresh()";m._debug(D,"begin");try{const R=yield Qe(m.storage,m.storageKey);if(R&&m.userStorage){let H=yield Qe(m.userStorage,m.storageKey+"-user");!m.storage.isServer&&Object.is(m.storage,m.userStorage)&&!H&&(H={user:R.user},yield je(m.userStorage,m.storageKey+"-user",H)),R.user=null!==(p=H?.user)&&void 0!==p?p:Dr()}else if(R&&!R.user&&!R.user){const H=yield Qe(m.storage,m.storageKey+"-user");H&&H?.user?(R.user=H.user,yield st(m.storage,m.storageKey+"-user"),yield je(m.storage,m.storageKey,R)):R.user=Dr()}if(m._debug(D,"session from storage",R),!m._isValidSession(R))return m._debug(D,"session is not valid"),void(null!==R&&(yield m._removeSession()));const L=1e3*(null!==(b=R.expires_at)&&void 0!==b?b:1/0)-Date.now()<9e4;if(m._debug(D,`session has${L?"":" not"} expired with margin of 90000s`),L){if(m.autoRefreshToken&&R.refresh_token){const{error:H}=yield m._callRefreshToken(R.refresh_token);H&&(console.error(H),Wr(H)||(m._debug(D,"refresh failed with a non-retryable error, removing the session",H),yield m._removeSession()))}}else if(R.user&&!0===R.user.__isUserNotAvailableProxy)try{const{data:H,error:Y}=yield m._getUser(R.access_token);!Y&&H?.user?(R.user=H.user,yield m._saveSession(R),yield m._notifyAllSubscribers("SIGNED_IN",R)):m._debug(D,"could not get user data, skipping SIGNED_IN notification")}catch(H){console.error("Error getting user data:",H),m._debug(D,"error getting user data, skipping SIGNED_IN notification",H)}else yield m._notifyAllSubscribers("SIGNED_IN",R)}catch(R){return m._debug(D,"error",R),void console.error(R)}finally{m._debug(D,"end")}})()}_callRefreshToken(m){var p=this;return(0,E.A)(function*(){var b,D;if(!m)throw new Ut;if(p.refreshingDeferred)return p.refreshingDeferred.promise;const R=`#_callRefreshToken(${m.substring(0,5)}...)`;p._debug(R,"begin");try{p.refreshingDeferred=new Ct;const{data:L,error:H}=yield p._refreshAccessToken(m);if(H)throw H;if(!L.session)throw new Ut;yield p._saveSession(L.session),yield p._notifyAllSubscribers("TOKEN_REFRESHED",L.session);const Y={data:L.session,error:null};return p.refreshingDeferred.resolve(Y),Y}catch(L){if(p._debug(R,"error",L),B(L)){const H={data:null,error:L};return Wr(L)||(yield p._removeSession()),null===(b=p.refreshingDeferred)||void 0===b||b.resolve(H),H}throw null===(D=p.refreshingDeferred)||void 0===D||D.reject(L),L}finally{p.refreshingDeferred=null,p._debug(R,"end")}})()}_notifyAllSubscribers(m,p){var b=this;return(0,E.A)(function*(D,R,L=!0){const H=`#_notifyAllSubscribers(${D})`;b._debug(H,"begin",R,`broadcast = ${L}`);try{b.broadcastChannel&&L&&b.broadcastChannel.postMessage({event:D,session:R});const Y=[],ae=Array.from(b.stateChangeEmitters.values()).map(function(){var we=(0,E.A)(function*(xe){try{yield xe.callback(D,R)}catch(He){Y.push(He)}});return function(xe){return we.apply(this,arguments)}}());if(yield Promise.all(ae),Y.length>0){for(let we=0;we<Y.length;we+=1)console.error(Y[we]);throw Y[0]}}finally{b._debug(H,"end")}}).apply(this,arguments)}_saveSession(m){var p=this;return(0,E.A)(function*(){p._debug("#_saveSession()",m),p.suppressGetSessionWarning=!0;const b=Object.assign({},m);if(p.userStorage){(!b.user||!0!==b.user.__isUserNotAvailableProxy)&&b.user&&(yield je(p.userStorage,p.storageKey+"-user",{user:b.user}));const R=Object.assign({},b);delete R.user;const L=wo(R);yield je(p.storage,p.storageKey,L)}else{const R=wo(b);yield je(p.storage,p.storageKey,R)}})()}_removeSession(){var m=this;return(0,E.A)(function*(){m._debug("#_removeSession()"),yield st(m.storage,m.storageKey),yield st(m.storage,m.storageKey+"-code-verifier"),yield st(m.storage,m.storageKey+"-user"),m.userStorage&&(yield st(m.userStorage,m.storageKey+"-user")),yield m._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const m=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{m&&U()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",m)}catch(p){console.error("removing visibilitychange callback failed",p)}}_startAutoRefresh(){var m=this;return(0,E.A)(function*(){yield m._stopAutoRefresh(),m._debug("#_startAutoRefresh()");const p=setInterval(()=>m._autoRefreshTokenTick(),Gn);m.autoRefreshTicker=p,p&&"object"==typeof p&&"function"==typeof p.unref?p.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(p),setTimeout((0,E.A)(function*(){yield m.initializePromise,yield m._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var m=this;return(0,E.A)(function*(){m._debug("#_stopAutoRefresh()");const p=m.autoRefreshTicker;m.autoRefreshTicker=null,p&&clearInterval(p)})()}startAutoRefresh(){var m=this;return(0,E.A)(function*(){m._removeVisibilityChangedCallback(),yield m._startAutoRefresh()})()}stopAutoRefresh(){var m=this;return(0,E.A)(function*(){m._removeVisibilityChangedCallback(),yield m._stopAutoRefresh()})()}_autoRefreshTokenTick(){var m=this;return(0,E.A)(function*(){m._debug("#_autoRefreshTokenTick()","begin");try{yield m._acquireLock(0,(0,E.A)(function*(){try{const p=Date.now();try{return yield m._useSession(function(){var b=(0,E.A)(function*(D){const{data:{session:R}}=D;if(!R||!R.refresh_token||!R.expires_at)return void m._debug("#_autoRefreshTokenTick()","no session");const L=Math.floor((1e3*R.expires_at-p)/Gn);m._debug("#_autoRefreshTokenTick()",`access token expires in ${L} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),L<=3&&(yield m._callRefreshToken(R.refresh_token))});return function(D){return b.apply(this,arguments)}}())}catch(b){console.error("Auto refresh tick failed with error. This is likely a transient error.",b)}}finally{m._debug("#_autoRefreshTokenTick()","end")}}))}catch(p){if(!(p.isAcquireTimeout||p instanceof As))throw p;m._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var m=this;return(0,E.A)(function*(){if(m._debug("#_handleVisibilityChange()"),!U()||!window?.addEventListener)return m.autoRefreshToken&&m.startAutoRefresh(),!1;try{m.visibilityChangedCallback=(0,E.A)(function*(){return yield m._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",m.visibilityChangedCallback),yield m._onVisibilityChanged(!0)}catch(p){console.error("_handleVisibilityChange",p)}})()}_onVisibilityChanged(m){var p=this;return(0,E.A)(function*(){const b=`#_onVisibilityChanged(${m})`;p._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(p.autoRefreshToken&&p._startAutoRefresh(),m||(yield p.initializePromise,yield p._acquireLock(-1,(0,E.A)(function*(){"visible"===document.visibilityState?yield p._recoverAndRefresh():p._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&p.autoRefreshToken&&p._stopAutoRefresh()})()}_getUrlForProvider(m,p,b){var D=this;return(0,E.A)(function*(){const R=[`provider=${encodeURIComponent(p)}`];if(b?.redirectTo&&R.push(`redirect_to=${encodeURIComponent(b.redirectTo)}`),b?.scopes&&R.push(`scopes=${encodeURIComponent(b.scopes)}`),"pkce"===D.flowType){const[L,H]=yield Fr(D.storage,D.storageKey),Y=new URLSearchParams({code_challenge:`${encodeURIComponent(L)}`,code_challenge_method:`${encodeURIComponent(H)}`});R.push(Y.toString())}if(b?.queryParams){const L=new URLSearchParams(b.queryParams);R.push(L.toString())}return b?.skipBrowserRedirect&&R.push(`skip_http_redirect=${b.skipBrowserRedirect}`),`${m}?${R.join("&")}`})()}_unenroll(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R;const{data:L,error:H}=D;return H?p._returnResult({data:null,error:H}):yield Tt(p.fetch,"DELETE",`${p.url}/factors/${m.factorId}`,{headers:p.headers,jwt:null===(R=L?.session)||void 0===R?void 0:R.access_token})});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_enroll(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R,L;const{data:H,error:Y}=D;if(Y)return p._returnResult({data:null,error:Y});const ae=Object.assign({friendly_name:m.friendlyName,factor_type:m.factorType},"phone"===m.factorType?{phone:m.phone}:"totp"===m.factorType?{issuer:m.issuer}:{}),{data:we,error:xe}=yield Tt(p.fetch,"POST",`${p.url}/factors`,{body:ae,headers:p.headers,jwt:null===(R=H?.session)||void 0===R?void 0:R.access_token});return xe?p._returnResult({data:null,error:xe}):("totp"===m.factorType&&"totp"===we.type&&!(null===(L=we?.totp)||void 0===L)&&L.qr_code&&(we.totp.qr_code=`data:image/svg+xml;utf-8,${we.totp.qr_code}`),p._returnResult({data:we,error:null}))});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_verify(m){var p=this;return(0,E.A)(function*(){return p._acquireLock(-1,(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R;const{data:L,error:H}=D;if(H)return p._returnResult({data:null,error:H});const Y=Object.assign({challenge_id:m.challengeId},"webauthn"in m?{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_response:"create"===m.webauthn.type?wa(m.webauthn.credential_response):Ki(m.webauthn.credential_response)})}:{code:m.code}),{data:ae,error:we}=yield Tt(p.fetch,"POST",`${p.url}/factors/${m.factorId}/verify`,{body:Y,headers:p.headers,jwt:null===(R=L?.session)||void 0===R?void 0:R.access_token});return we?p._returnResult({data:null,error:we}):(yield p._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+ae.expires_in},ae)),yield p._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",ae),p._returnResult({data:ae,error:we}))});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}}))})()}_challenge(m){var p=this;return(0,E.A)(function*(){return p._acquireLock(-1,(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){var R;const{data:L,error:H}=D;if(H)return p._returnResult({data:null,error:H});const Y=yield Tt(p.fetch,"POST",`${p.url}/factors/${m.factorId}/challenge`,{body:m,headers:p.headers,jwt:null===(R=L?.session)||void 0===R?void 0:R.access_token});if(Y.error)return Y;const{data:ae}=Y;if("webauthn"!==ae.type)return{data:ae,error:null};switch(ae.webauthn.type){case"create":return{data:Object.assign(Object.assign({},ae),{webauthn:Object.assign(Object.assign({},ae.webauthn),{credential_options:Object.assign(Object.assign({},ae.webauthn.credential_options),{publicKey:Ys(ae.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},ae),{webauthn:Object.assign(Object.assign({},ae.webauthn),{credential_options:Object.assign(Object.assign({},ae.webauthn.credential_options),{publicKey:Ho(ae.webauthn.credential_options.publicKey)})})}),error:null}}});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}}))})()}_challengeAndVerify(m){var p=this;return(0,E.A)(function*(){const{data:b,error:D}=yield p._challenge({factorId:m.factorId});return D?p._returnResult({data:null,error:D}):yield p._verify({factorId:m.factorId,challengeId:b.id,code:m.code})})()}_listFactors(){var m=this;return(0,E.A)(function*(){var p;const{data:{user:b},error:D}=yield m.getUser();if(D)return{data:null,error:D};const R={all:[],phone:[],totp:[],webauthn:[]};for(const L of null!==(p=b?.factors)&&void 0!==p?p:[])R.all.push(L),"verified"===L.status&&R[L.factor_type].push(L);return{data:R,error:null}})()}_getAuthenticatorAssuranceLevel(){var m=this;return(0,E.A)(function*(){var p,b;const{data:{session:D},error:R}=yield m.getSession();if(R)return m._returnResult({data:null,error:R});if(!D)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:L}=Bt(D.access_token);let H=null;L.aal&&(H=L.aal);let Y=H;return(null!==(b=null===(p=D.user.factors)||void 0===p?void 0:p.filter(xe=>"verified"===xe.status))&&void 0!==b?b:[]).length>0&&(Y="aal2"),{data:{currentLevel:H,nextLevel:Y,currentAuthenticationMethods:L.amr||[]},error:null}})()}_getAuthorizationDetails(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){const{data:{session:R},error:L}=D;return L?p._returnResult({data:null,error:L}):R?yield Tt(p.fetch,"GET",`${p.url}/oauth/authorizations/${m}`,{headers:p.headers,jwt:R.access_token,xform:H=>({data:H,error:null})}):p._returnResult({data:null,error:new Ut})});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_approveAuthorization(m,p){var b=this;return(0,E.A)(function*(){try{return yield b._useSession(function(){var D=(0,E.A)(function*(R){const{data:{session:L},error:H}=R;if(H)return b._returnResult({data:null,error:H});if(!L)return b._returnResult({data:null,error:new Ut});const Y=yield Tt(b.fetch,"POST",`${b.url}/oauth/authorizations/${m}/consent`,{headers:b.headers,jwt:L.access_token,body:{action:"approve"},xform:ae=>({data:ae,error:null})});return Y.data&&Y.data.redirect_url&&U()&&!p?.skipBrowserRedirect&&window.location.assign(Y.data.redirect_url),Y});return function(R){return D.apply(this,arguments)}}())}catch(D){if(B(D))return b._returnResult({data:null,error:D});throw D}})()}_denyAuthorization(m,p){var b=this;return(0,E.A)(function*(){try{return yield b._useSession(function(){var D=(0,E.A)(function*(R){const{data:{session:L},error:H}=R;if(H)return b._returnResult({data:null,error:H});if(!L)return b._returnResult({data:null,error:new Ut});const Y=yield Tt(b.fetch,"POST",`${b.url}/oauth/authorizations/${m}/consent`,{headers:b.headers,jwt:L.access_token,body:{action:"deny"},xform:ae=>({data:ae,error:null})});return Y.data&&Y.data.redirect_url&&U()&&!p?.skipBrowserRedirect&&window.location.assign(Y.data.redirect_url),Y});return function(R){return D.apply(this,arguments)}}())}catch(D){if(B(D))return b._returnResult({data:null,error:D});throw D}})()}_listOAuthGrants(){var m=this;return(0,E.A)(function*(){try{return yield m._useSession(function(){var p=(0,E.A)(function*(b){const{data:{session:D},error:R}=b;return R?m._returnResult({data:null,error:R}):D?yield Tt(m.fetch,"GET",`${m.url}/user/oauth/grants`,{headers:m.headers,jwt:D.access_token,xform:L=>({data:L,error:null})}):m._returnResult({data:null,error:new Ut})});return function(b){return p.apply(this,arguments)}}())}catch(p){if(B(p))return m._returnResult({data:null,error:p});throw p}})()}_revokeOAuthGrant(m){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var b=(0,E.A)(function*(D){const{data:{session:R},error:L}=D;return L?p._returnResult({data:null,error:L}):R?yield Tt(p.fetch,"DELETE",`${p.url}/user/oauth/grants`,{headers:p.headers,jwt:R.access_token,query:{client_id:m.clientId},xform:()=>({data:{},error:null})}):p._returnResult({data:null,error:new Ut})});return function(D){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}fetchJwk(m){var p=this;return(0,E.A)(function*(b,D={keys:[]}){let R=D.keys.find(ae=>ae.kid===b);if(R)return R;const L=Date.now();if(R=p.jwks.keys.find(ae=>ae.kid===b),R&&p.jwks_cached_at+6e5>L)return R;const{data:H,error:Y}=yield Tt(p.fetch,"GET",`${p.url}/.well-known/jwks.json`,{headers:p.headers});if(Y)throw Y;return H.keys&&0!==H.keys.length&&(p.jwks=H,p.jwks_cached_at=L,R=H.keys.find(ae=>ae.kid===b),R)?R:null}).apply(this,arguments)}getClaims(m){var p=this;return(0,E.A)(function*(b,D={}){try{let R=b;if(!R){const{data:Ze,error:vt}=yield p.getSession();if(vt||!Ze.session)return p._returnResult({data:null,error:vt});R=Ze.session.access_token}const{header:L,payload:H,signature:Y,raw:{header:ae,payload:we}}=Bt(R);D?.allowExpired||function jr(k){if(!k)throw new Error("Missing exp claim");if(k<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(H.exp);const xe=L.alg&&!L.alg.startsWith("HS")&&L.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield p.fetchJwk(L.kid,D?.keys?{keys:D.keys}:D?.jwks):null;if(!xe){const{error:Ze}=yield p.getUser(R);if(Ze)throw Ze;return{data:{claims:H,header:L,signature:Y},error:null}}const He=function Hi(k){switch(k){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(L.alg),Oe=yield crypto.subtle.importKey("jwk",xe,He,!0,["verify"]);if(!(yield crypto.subtle.verify(He,Oe,Y,function bo(k){const f=[];return function ia(k,f){for(let m=0;m<k.length;m+=1){let p=k.charCodeAt(m);if(p>55295&&p<=56319){const b=1024*(p-55296)&65535;p=65536+(k.charCodeAt(m+1)-56320&65535|b),m+=1}Er(p,f)}}(k,m=>f.push(m)),new Uint8Array(f)}(`${ae}.${we}`))))throw new ra("Invalid JWT signature");return{data:{claims:H,header:L,signature:Y},error:null}}catch(R){if(B(R))return p._returnResult({data:null,error:R});throw R}}).apply(this,arguments)}}return k.nextInstanceID={},k})();class Fi extends po{constructor(f){super(f)}}(function ru(){if(typeof window<"u"||typeof process>"u")return!1;const k=process.version;if(null==k)return!1;const f=k.match(/^v(\d+)\./);return!!f&&parseInt(f[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Qi=V(3757),To=V(2615);const So=globalThis,Ea=So.__supabaseClient??new class nu{constructor(f,m,p){var b,D,R;this.supabaseUrl=f,this.supabaseKey=m;const L=function Oa(k){const f=k?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function Mi(k){return k.endsWith("/")?k:k+"/"}(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(f);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",L),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",L),this.storageUrl=new URL("storage/v1",L),this.functionsUrl=new URL("functions/v1",L);const H=`sb-${L.hostname.split(".")[0]}-auth-token`,ae=function $r(k,f){var m,p;const{db:b,auth:D,realtime:R,global:L}=k,{db:H,auth:Y,realtime:ae,global:we}=f,xe={db:Object.assign(Object.assign({},H),b),auth:Object.assign(Object.assign({},Y),D),realtime:Object.assign(Object.assign({},ae),R),storage:{},global:Object.assign(Object.assign(Object.assign({},we),L),{headers:Object.assign(Object.assign({},null!==(m=we?.headers)&&void 0!==m?m:{}),null!==(p=L?.headers)&&void 0!==p?p:{})}),accessToken:(He=(0,E.A)(function*(){return""}),function(){return He.apply(this,arguments)})};var He;return k.accessToken?xe.accessToken=k.accessToken:delete xe.accessToken,xe}(p??{},{db:qa,realtime:nr,auth:Object.assign(Object.assign({},br),{storageKey:H}),global:Ga});this.storageKey=null!==(b=ae.auth.storageKey)&&void 0!==b?b:"",this.headers=null!==(D=ae.global.headers)&&void 0!==D?D:{},ae.accessToken?(this.accessToken=ae.accessToken,this.auth=new Proxy({},{get:(we,xe)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(xe)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(R=ae.auth)&&void 0!==R?R:{},this.headers,ae.global.fetch),this.fetch=Qa(m,this._getAccessToken.bind(this),ae.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},ae.realtime)),this.accessToken&&this.accessToken().then(we=>this.realtime.setAuth(we)).catch(we=>console.warn("Failed to set initial Realtime auth token:",we)),this.rest=new ce(new URL("rest/v1",L).href,{headers:this.headers,schema:ae.db.schema,fetch:this.fetch}),this.storage=new ga(this.storageUrl.href,this.headers,this.fetch,p?.storage),ae.accessToken||this._listenForAuthEvents()}get functions(){return new ve(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(f){return this.rest.from(f)}schema(f){return this.rest.schema(f)}rpc(f,m={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(f,m,p)}channel(f,m={config:{}}){return this.realtime.channel(f,m)}getChannels(){return this.realtime.getChannels()}removeChannel(f){return this.realtime.removeChannel(f)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var f=this;return(0,E.A)(function*(){var m,p;if(f.accessToken)return yield f.accessToken();const{data:b}=yield f.auth.getSession();return null!==(p=null===(m=b.session)||void 0===m?void 0:m.access_token)&&void 0!==p?p:f.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:f,persistSession:m,detectSessionInUrl:p,storage:b,userStorage:D,storageKey:R,flowType:L,lock:H,debug:Y,throwOnError:ae},we,xe){return new Fi({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),we),storageKey:R,autoRefreshToken:f,persistSession:m,detectSessionInUrl:p,storage:b,userStorage:D,flowType:L,lock:H,debug:Y,throwOnError:ae,fetch:xe,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Oe=>"authorization"===Oe.toLowerCase())})}_initRealtimeClient(f){return new Ta(this.realtimeUrl.href,Object.assign(Object.assign({},f),{params:Object.assign({apikey:this.supabaseKey},f?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,p)=>{this._handleTokenChanged(m,"CLIENT",p?.access_token)})}_handleTokenChanged(f,m,p){"TOKEN_REFRESHED"!==f&&"SIGNED_IN"!==f||this.changedAccessToken===p?"SIGNED_OUT"===f&&(this.realtime.setAuth(),"STORAGE"==m&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=p,this.realtime.setAuth(p))}}("https://ymlekirbwjanuxrclsgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltbGVraXJid2phbnV4cmNsc2dmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNjk4OTUsImV4cCI6MjA3MTY0NTg5NX0._a0-aMgphg5_bFCzy7oHhPRkP9Q54dRWGrZN4rzVnHM",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});So.__supabaseClient=Ea;let Io=(()=>{class k{getCharacter(m){return(0,E.A)(function*(){let p=Ea.from("character").select("*").order("id",{ascending:!0});m&&(p=p.eq("type",m));const{data:b,error:D}=yield p;if(D)throw D;return b??[]})()}getUnlockedItems(){return(0,E.A)(function*(){let m=Ea.from("craftable_item").select("id").eq("unlocked",!0).order("id",{ascending:!0});const{data:p,error:b}=yield m;if(b)throw b;return p??[]})()}getUnlockedPotions(){return(0,E.A)(function*(){let m=Ea.from("craftable_item").select("id").eq("unlocked",!0).eq("type",Qi.o.Small).eq("sub_type","potion").order("id",{ascending:!0});const{data:p,error:b}=yield m;if(b)throw b;return p??[]})()}getScenarioReference(m){return(0,E.A)(function*(){const{data:p,error:b}=yield Ea.from("scenario_reference").select("*").eq("scenario_level",m).maybeSingle();if(b)throw b;return p??null})()}updateCharacterProgress(m,p,b){return(0,E.A)(function*(){const{error:D}=yield Ea.from("character").update({level:p,total_xp:b}).eq("type",m);if(D)throw D})()}insertCraftableItem(m,p,b){return(0,E.A)(function*(){const{error:D}=yield Ea.from("craftable_item").insert({id:m,type:p,sub_type:b});if(D)throw D})()}static \u0275fac=function(p){return new(p||k)};static \u0275prov=To.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},4761:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>o});const o=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(it,Ee,V)=>{"use strict";V.d(Ee,{l:()=>G});var E=V(3494),o=V(8071);function G(O){return(0,o.T)(O[E.s])}},5196:(it,Ee,V)=>{"use strict";V.d(Ee,{C:()=>G,U:()=>O});var E=V(1635),o=V(8071);function G(pe){return(0,E.__asyncGenerator)(this,arguments,function*(){const z=pe.getReader();try{for(;;){const{value:ie,done:ve}=yield(0,E.__await)(z.read());if(ve)return yield(0,E.__await)(void 0);yield yield(0,E.__await)(ie)}}finally{z.releaseLock()}})}function O(pe){return(0,o.T)(pe?.getReader)}},5225:(it,Ee,V)=>{"use strict";function E(o,G,O,pe=0,Z=!1){const z=G.schedule(function(){O(),Z?o.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(o.add(z),!Z)return z}V.d(Ee,{N:()=>E})},5231:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>O});var E=V(2615),o=V(130);let G=(()=>{class pe{parseInt(z){return parseInt(void 0!==z?String(z):"0")||0}static \u0275fac=function(ie){return new(ie||pe)};static \u0275prov=E.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),O=(()=>{class pe{dataLoader;stringUtils;creatureIdCounter=0;dataFile;constructor(z,ie){this.dataLoader=z,this.stringUtils=ie,this.dataFile=this.dataLoader.getData()}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter}createCreature(z){const ie=this.findMonsterStats(z),ve=this.getMonsterCards(z,ie),he={id:this.generateCreatureId(),name:z.aggressive?this.createCreatureName(z):z.name,type:z.type,standee:z.standee??"#",level:z.level??1,hp:Math.max(this.stringUtils.parseInt(ie?.baseStat?.health??0),this.stringUtils.parseInt(ie?.stats[0]?.health??0),this.stringUtils.parseInt(z.hp??0)),attack:Math.max(this.stringUtils.parseInt(ie?.baseStat?.attack??0),this.stringUtils.parseInt(ie?.stats[0]?.attack??0)),attackTarget:this.getTargetStat(ie),movement:Math.max(this.stringUtils.parseInt(ie?.baseStat?.movement??0),this.stringUtils.parseInt(ie?.stats[0]?.movement??0)),initiative:z.initiative??0,armor:this.stringUtils.parseInt(ie?.stats?.[0]?.actions?.find(J=>"shield"===J.type)?.value??ie?.stats?.[0]?.baseStat?.actions?.find(J=>"shield"===J.type)?.value??0),retaliate:this.getRetaliateStat(ie,"value"),retaliateRange:this.getRetaliateStat(ie,"range"),aggressive:z.aggressive,boss:ie?.boss??!1,flying:ie?.flying??!1,isElite:z.isElite??!1,conditions:z.conditions??[],immunities:(ie?.stats?.[0]?.immunities??ie?.baseStat?.immunities??[]).map(J=>J),roundArmor:z.roundArmor??0,roundRetaliate:z.roundRetaliate??0,sessionExperience:z.sessionExperience??0,actions:ie?.actions?.filter(J=>"condition"===J.type)??ie?.baseStat?.actions?.filter(J=>"condition"===J.type)??ie?.stats?.flatMap(J=>J.actions??[]).filter(J=>"condition"===J.type)??[],log:z.log??[],traits:z.traits??[],abilityCards:ve??[],totalXp:z.totalXp??0};return he.maxHp=0===he.hp?999:he.hp,he}createCreatureName(z){let ie=`${z.type} ${z.standee??""}`;return z.isElite?`\u2605 ${ie}`:ie}getRetaliateStat(z,ie){const ve=z?.stats?.[0]?.actions?.find(he=>"retaliate"===he.type)??z?.baseStat?.actions?.find(he=>"retaliate"===he.type);return ve?"value"===ie?this.stringUtils.parseInt(ve.value??0):"range"===ie?this.stringUtils.parseInt(ve.range??ve.subActions?.find(he=>"range"===he.type)?.value??0):0:0}getTargetStat(z){const ie=z?.stats?.[0]?.actions?.find(ve=>"target"===ve.type)??z?.baseStat?.actions?.find(ve=>"target"===ve.type);return ie?this.stringUtils.parseInt(ie.value??1):1}createCreatureList(z){const ie=[];return z.forEach(ve=>{ie.push(this.createCreature(ve))}),ie}findMonsterStats(z){const ie=this.dataFile.monsters.find(J=>J.name===z.name||J.name===z.type);if(!ie)return;const ve=this.isCreatureElite(z),he=ie.stats.find(J=>(ve?"elite"===J.type:"normal"===J.type||!J.type)&&J.level===z.level);return he?{...ie,stats:[he]}:void 0}getMonsterCards(z,ie){const ve="string"==typeof z.type&&z.type.trim().length>0?z.type.trim():void 0,he=ie?.name?.trim(),J=("string"==typeof ie?.deck&&ie.deck.trim().length>0?ie.deck.trim():void 0)??ve??he;if(!J||!this.dataFile.decks?.length)return[];const ce=this.dataFile.decks.find(fe=>fe.name===J);return ce?ce.abilities??ce.cards??[]:[]}isCreatureElite(z){return"elite"===z.type||"elite"===z.player4||!0===z.isElite}static \u0275fac=function(ie){return new(ie||pe)(E.KVO(o.X),E.KVO(G))};static \u0275prov=E.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},5334:(it,Ee,V)=>{"use strict";V.d(Ee,{m:()=>G});var E=V(1026),o=V(9270);function G(O){o.f.setTimeout(()=>{const{onUnhandledError:pe}=E.$;if(!pe)throw O;pe(O)})}},5343:(it,Ee,V)=>{"use strict";function E(){}V.d(Ee,{l:()=>E})},5397:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>G});var E=V(4761),o=V(8071);function G(O){return(0,o.T)(O?.[E.l])}},5558:(it,Ee,V)=>{"use strict";V.d(Ee,{n:()=>O});var E=V(8750),o=V(9974),G=V(4360);function O(pe,Z){return(0,o.N)((z,ie)=>{let ve=null,he=0,J=!1;const ce=()=>J&&!ve&&ie.complete();z.subscribe((0,G._)(ie,fe=>{ve?.unsubscribe();let me=0;const De=he++;(0,E.Tg)(pe(fe,De)).subscribe(ve=(0,G._)(ie,Ge=>ie.next(Z?Z(fe,Ge,De,me++):Ge),()=>{ve=null,ce()}))},()=>{J=!0,ce()}))})}},5958:(it,Ee,V)=>{"use strict";var E=V(9293).default;Object.defineProperty(Ee,"__esModule",{value:!0});const G=V(1635).__importDefault(V(4659));Ee.default=class O{constructor(Z){var z,ie;this.shouldThrowOnError=!1,this.method=Z.method,this.url=Z.url,this.headers=new Headers(Z.headers),this.schema=Z.schema,this.body=Z.body,this.shouldThrowOnError=null!==(z=Z.shouldThrowOnError)&&void 0!==z&&z,this.signal=Z.signal,this.isMaybeSingle=null!==(ie=Z.isMaybeSingle)&&void 0!==ie&&ie,this.fetch=Z.fetch?Z.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Z,z){return this.headers=new Headers(this.headers),this.headers.set(Z,z),this}then(Z,z){var ie=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let he=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var J=E(function*(ce){var fe,me,De,Ge;let Re=null,Ke=null,rt=null,ht=ce.status,ye=ce.statusText;if(ce.ok){if("HEAD"!==ie.method){const $e=yield ce.text();""===$e||(Ke="text/csv"===ie.headers.get("Accept")||ie.headers.get("Accept")&&null!==(fe=ie.headers.get("Accept"))&&void 0!==fe&&fe.includes("application/vnd.pgrst.plan+text")?$e:JSON.parse($e))}const ke=null===(me=ie.headers.get("Prefer"))||void 0===me?void 0:me.match(/count=(exact|planned|estimated)/),qe=null===(De=ce.headers.get("content-range"))||void 0===De?void 0:De.split("/");ke&&qe&&qe.length>1&&(rt=parseInt(qe[1])),ie.isMaybeSingle&&"GET"===ie.method&&Array.isArray(Ke)&&(Ke.length>1?(Re={code:"PGRST116",details:`Results contain ${Ke.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Ke=null,rt=null,ht=406,ye="Not Acceptable"):Ke=1===Ke.length?Ke[0]:null)}else{const ke=yield ce.text();try{Re=JSON.parse(ke),Array.isArray(Re)&&404===ce.status&&(Ke=[],Re=null,ht=200,ye="OK")}catch{404===ce.status&&""===ke?(ht=204,ye="No Content"):Re={message:ke}}if(Re&&ie.isMaybeSingle&&!(null===(Ge=Re?.details)||void 0===Ge)&&Ge.includes("0 rows")&&(Re=null,ht=200,ye="OK"),Re&&ie.shouldThrowOnError)throw new G.default(Re)}return{error:Re,data:Ke,count:rt,status:ht,statusText:ye}});return function(ce){return J.apply(this,arguments)}}());return this.shouldThrowOnError||(he=he.catch(J=>{var ce,fe,me,De,Ge,Re;let Ke="";const rt=J?.cause;if(rt){const ht=null!==(ce=rt?.message)&&void 0!==ce?ce:"",ye=null!==(fe=rt?.code)&&void 0!==fe?fe:"";Ke=`${null!==(me=J?.name)&&void 0!==me?me:"FetchError"}: ${J?.message}`,Ke+=`\n\nCaused by: ${null!==(De=rt?.name)&&void 0!==De?De:"Error"}: ${ht}`,ye&&(Ke+=` (${ye})`),rt?.stack&&(Ke+=`\n${rt.stack}`)}else Ke=null!==(Ge=J?.stack)&&void 0!==Ge?Ge:"";return{error:{message:`${null!==(Re=J?.name)&&void 0!==Re?Re:"FetchError"}: ${J?.message}`,details:Ke,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),he.then(Z,z)}returns(){return this}overrideTypes(){return this}}},5964:(it,Ee,V)=>{"use strict";V.d(Ee,{p:()=>G});var E=V(9974),o=V(4360);function G(O,pe){return(0,E.N)((Z,z)=>{let ie=0;Z.subscribe((0,o._)(z,ve=>O.call(pe,ve,ie++)&&z.next(ve)))})}},6354:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>G});var E=V(9974),o=V(4360);function G(O,pe){return(0,E.N)((Z,z)=>{let ie=0;Z.subscribe((0,o._)(z,ve=>{z.next(O.call(pe,ve,ie++))}))})}},6365:(it,Ee,V)=>{"use strict";V.d(Ee,{U:()=>G});var E=V(1397),o=V(3669);function G(O=1/0){return(0,E.Z)(o.D,O)}},6450:(it,Ee,V)=>{"use strict";V.d(Ee,{I:()=>O});var E=V(6354);const{isArray:o}=Array;function O(pe){return(0,E.T)(Z=>function G(pe,Z){return o(Z)?pe(...Z):pe(Z)}(pe,Z))}},6648:(it,Ee,V)=>{"use strict";V.d(Ee,{H:()=>qe});var E=V(8750),o=V(5225),G=V(9974),O=V(4360);function pe($e,at=0){return(0,G.N)((St,wt)=>{St.subscribe((0,O._)(wt,tn=>(0,o.N)(wt,$e,()=>wt.next(tn),at),()=>(0,o.N)(wt,$e,()=>wt.complete(),at),tn=>(0,o.N)(wt,$e,()=>wt.error(tn),at)))})}function Z($e,at=0){return(0,G.N)((St,wt)=>{wt.add($e.schedule(()=>St.subscribe(wt),at))})}var ve=V(1985),J=V(4761),ce=V(8071);function me($e,at){if(!$e)throw new Error("Iterable cannot be null");return new ve.c(St=>{(0,o.N)(St,at,()=>{const wt=$e[Symbol.asyncIterator]();(0,o.N)(St,at,()=>{wt.next().then(tn=>{tn.done?St.complete():St.next(tn.value)})},0,!0)})})}var De=V(5055),Ge=V(9858),Re=V(7441),Ke=V(5397),rt=V(7953),ht=V(591),ye=V(5196);function qe($e,at){return at?function ke($e,at){if(null!=$e){if((0,De.l)($e))return function z($e,at){return(0,E.Tg)($e).pipe(Z(at),pe(at))}($e,at);if((0,Re.X)($e))return function he($e,at){return new ve.c(St=>{let wt=0;return at.schedule(function(){wt===$e.length?St.complete():(St.next($e[wt++]),St.closed||this.schedule())})})}($e,at);if((0,Ge.y)($e))return function ie($e,at){return(0,E.Tg)($e).pipe(Z(at),pe(at))}($e,at);if((0,rt.T)($e))return me($e,at);if((0,Ke.x)($e))return function fe($e,at){return new ve.c(St=>{let wt;return(0,o.N)(St,at,()=>{wt=$e[J.l](),(0,o.N)(St,at,()=>{let tn,zt;try{({value:tn,done:zt}=wt.next())}catch(Gt){return void St.error(Gt)}zt?St.complete():St.next(tn)},0,!0)}),()=>(0,ce.T)(wt?.return)&&wt.return()})}($e,at);if((0,ye.U)($e))return function Pe($e,at){return me((0,ye.C)($e),at)}($e,at)}throw(0,ht.L)($e)}($e,at):(0,E.Tg)($e)}},6977:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>pe});var E=V(9974),o=V(4360),G=V(8750),O=V(5343);function pe(Z){return(0,E.N)((z,ie)=>{(0,G.Tg)(Z).subscribe((0,o._)(ie,()=>ie.complete(),O.l)),!ie.closed&&z.subscribe(ie)})}},7303:(it,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>ce,Vw:()=>z,aZ:()=>Ge,hb:()=>fe,ig:()=>pe,kB:()=>me,om:()=>he,qj:()=>Z,rb:()=>O});var E=V(2615),o=V(1413);let G=null;function O(){return G}function pe(ye){G??=ye}class Z{}let z=(()=>{class ye{historyGo(ke){throw new Error("")}static \u0275fac=function(qe){return new(qe||ye)};static \u0275prov=E.jDH({token:ye,factory:()=>(0,E.WQX)(ve),providedIn:"platform"})}return ye})(),ve=(()=>{class ye extends z{_location;_history;_doc=(0,E.WQX)(E.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(ke){const qe=O().getGlobalEventTarget(this._doc,"window");return qe.addEventListener("popstate",ke,!1),()=>qe.removeEventListener("popstate",ke)}onHashChange(ke){const qe=O().getGlobalEventTarget(this._doc,"window");return qe.addEventListener("hashchange",ke,!1),()=>qe.removeEventListener("hashchange",ke)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ke){this._location.pathname=ke}pushState(ke,qe,$e){this._history.pushState(ke,qe,$e)}replaceState(ke,qe,$e){this._history.replaceState(ke,qe,$e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ke=0){this._history.go(ke)}getState(){return this._history.state}static \u0275fac=function(qe){return new(qe||ye)};static \u0275prov=E.jDH({token:ye,factory:()=>new ye,providedIn:"platform"})}return ye})();function he(ye,Pe){return ye?Pe?ye.endsWith("/")?Pe.startsWith("/")?ye+Pe.slice(1):ye+Pe:Pe.startsWith("/")?ye+Pe:`${ye}/${Pe}`:ye:Pe}function J(ye){const Pe=ye.search(/#|\?|$/);return"/"===ye[Pe-1]?ye.slice(0,Pe-1)+ye.slice(Pe):ye}function ce(ye){return ye&&"?"!==ye[0]?`?${ye}`:ye}let fe=(()=>{class ye{historyGo(ke){throw new Error("")}static \u0275fac=function(qe){return new(qe||ye)};static \u0275prov=E.jDH({token:ye,factory:()=>(0,E.WQX)(De),providedIn:"root"})}return ye})();const me=new E.nKC("");let De=(()=>{class ye extends fe{_platformLocation;_baseHref;_removeListenerFns=[];constructor(ke,qe){super(),this._platformLocation=ke,this._baseHref=qe??this._platformLocation.getBaseHrefFromDOM()??(0,E.WQX)(E.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ke){this._removeListenerFns.push(this._platformLocation.onPopState(ke),this._platformLocation.onHashChange(ke))}getBaseHref(){return this._baseHref}prepareExternalUrl(ke){return he(this._baseHref,ke)}path(ke=!1){const qe=this._platformLocation.pathname+ce(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&ke?`${qe}${$e}`:qe}pushState(ke,qe,$e,at){const St=this.prepareExternalUrl($e+ce(at));this._platformLocation.pushState(ke,qe,St)}replaceState(ke,qe,$e,at){const St=this.prepareExternalUrl($e+ce(at));this._platformLocation.replaceState(ke,qe,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ke=0){this._platformLocation.historyGo?.(ke)}static \u0275fac=function(qe){return new(qe||ye)(E.KVO(z),E.KVO(me,8))};static \u0275prov=E.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),Ge=(()=>{class ye{_subject=new o.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(ke){this._locationStrategy=ke;const qe=this._locationStrategy.getBaseHref();this._basePath=function ht(ye){if(new RegExp("^(https?:)?//").test(ye)){const[,ke]=ye.split(/\/\/[^\/]+/);return ke}return ye}(J(rt(qe))),this._locationStrategy.onPopState($e=>{this._subject.next({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ke=!1){return this.normalize(this._locationStrategy.path(ke))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ke,qe=""){return this.path()==this.normalize(ke+ce(qe))}normalize(ke){return ye.stripTrailingSlash(function Ke(ye,Pe){if(!ye||!Pe.startsWith(ye))return Pe;const ke=Pe.substring(ye.length);return""===ke||["/",";","?","#"].includes(ke[0])?ke:Pe}(this._basePath,rt(ke)))}prepareExternalUrl(ke){return ke&&"/"!==ke[0]&&(ke="/"+ke),this._locationStrategy.prepareExternalUrl(ke)}go(ke,qe="",$e=null){this._locationStrategy.pushState($e,"",ke,qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+ce(qe)),$e)}replaceState(ke,qe="",$e=null){this._locationStrategy.replaceState($e,"",ke,qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ke+ce(qe)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ke=0){this._locationStrategy.historyGo?.(ke)}onUrlChange(ke){return this._urlChangeListeners.push(ke),this._urlChangeSubscription??=this.subscribe(qe=>{this._notifyUrlChangeListeners(qe.url,qe.state)}),()=>{const qe=this._urlChangeListeners.indexOf(ke);this._urlChangeListeners.splice(qe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ke="",qe){this._urlChangeListeners.forEach($e=>$e(ke,qe))}subscribe(ke,qe,$e){return this._subject.subscribe({next:ke,error:qe??void 0,complete:$e??void 0})}static normalizeQueryParams=ce;static joinWithSlash=he;static stripTrailingSlash=J;static \u0275fac=function(qe){return new(qe||ye)(E.KVO(fe))};static \u0275prov=E.jDH({token:ye,factory:()=>function Re(){return new Ge((0,E.KVO)(fe))}(),providedIn:"root"})}return ye})();function rt(ye){return ye.replace(/\/index.html$/,"")}},7360:(it,Ee,V)=>{"use strict";var E=V(7303);function o(s,i){i=encodeURIComponent(i);for(const a of s.split(";")){const u=a.indexOf("="),[d,y]=-1==u?[a,""]:[a.slice(0,u),a.slice(u+1)];if(d.trim()===i)return decodeURIComponent(y)}return null}class G{}var O=V(2615);var ge=V(3664),Qt=V(7705);class va{_doc;constructor(i){this._doc=i}manager}let ga=(()=>{class s extends va{constructor(a){super(a)}supports(a){return!0}addEventListener(a,u,d,y){return a.addEventListener(u,d,y),()=>this.removeEventListener(a,u,d,y)}removeEventListener(a,u,d,y){return a.removeEventListener(u,d,y)}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const ea=new O.nKC("");let Kn=(()=>{class s{_zone;_plugins;_eventNameToPlugin=new Map;constructor(a,u){this._zone=u,a.forEach(w=>{w.manager=this});const d=a.filter(w=>!(w instanceof ga));this._plugins=d.slice().reverse();const y=a.find(w=>w instanceof ga);y&&this._plugins.push(y)}addEventListener(a,u,d,y){return this._findPluginFor(u).addEventListener(a,u,d,y)}getZone(){return this._zone}_findPluginFor(a){let u=this._eventNameToPlugin.get(a);if(u)return u;if(u=this._plugins.find(y=>y.supports(a)),!u)throw new O.buA(5101,!1);return this._eventNameToPlugin.set(a,u),u}static \u0275fac=function(u){return new(u||s)(O.KVO(ea),O.KVO(ge.SKi))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const _r="ng-app-id";function Ga(s){for(const i of s)i.remove()}function qa(s,i){const a=i.createElement("style");return a.textContent=s,a}function nr(s,i){const a=i.createElement("link");return a.setAttribute("rel","stylesheet"),a.setAttribute("href",s),a}let xa=(()=>{class s{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(a,u,d,y={}){this.doc=a,this.appId=u,this.nonce=d,function br(s,i,a,u){const d=s.head?.querySelectorAll(`style[${_r}="${i}"],link[${_r}="${i}"]`);if(d)for(const y of d)y.removeAttribute(_r),y instanceof HTMLLinkElement?u.set(y.href.slice(y.href.lastIndexOf("/")+1),{usage:0,elements:[y]}):y.textContent&&a.set(y.textContent,{usage:0,elements:[y]})}(a,u,this.inline,this.external),this.hosts.add(a.head)}addStyles(a,u){for(const d of a)this.addUsage(d,this.inline,qa);u?.forEach(d=>this.addUsage(d,this.external,nr))}removeStyles(a,u){for(const d of a)this.removeUsage(d,this.inline);u?.forEach(d=>this.removeUsage(d,this.external))}addUsage(a,u,d){const y=u.get(a);y?y.usage++:u.set(a,{usage:1,elements:[...this.hosts].map(w=>this.addElement(w,d(a,this.doc)))})}removeUsage(a,u){const d=u.get(a);d&&(d.usage--,d.usage<=0&&(Ga(d.elements),u.delete(a)))}ngOnDestroy(){for(const[,{elements:a}]of[...this.inline,...this.external])Ga(a);this.hosts.clear()}addHost(a){this.hosts.add(a);for(const[u,{elements:d}]of this.inline)d.push(this.addElement(a,qa(u,this.doc)));for(const[u,{elements:d}]of this.external)d.push(this.addElement(a,nr(u,this.doc)))}removeHost(a){this.hosts.delete(a)}addElement(a,u){return this.nonce&&u.setAttribute("nonce",this.nonce),a.appendChild(u)}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL),O.KVO(ge.sZ2),O.KVO(ge.BIS,8),O.KVO(ge.Agw))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const gi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qa=/%COMP%/g,Gn=new O.nKC("",{providedIn:"root",factory:()=>!0});function Na(s,i){return i.map(a=>a.replace(Qa,s))}let Pr=(()=>{class s{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(a,u,d,y,w,x,W=null,ee=null){this.eventManager=a,this.sharedStylesHost=u,this.appId=d,this.removeStylesOnCompDestroy=y,this.doc=w,this.ngZone=x,this.nonce=W,this.tracingService=ee,this.platformIsServer=!1,this.defaultRenderer=new na(a,w,x,this.platformIsServer,this.tracingService)}createRenderer(a,u){if(!a||!u)return this.defaultRenderer;const d=this.getOrCreateRenderer(a,u);return d instanceof j?d.applyToHost(a):d instanceof X&&d.applyStyles(),d}getOrCreateRenderer(a,u){const d=this.rendererByCompId;let y=d.get(u.id);if(!y){const w=this.doc,x=this.ngZone,W=this.eventManager,ee=this.sharedStylesHost,Se=this.removeStylesOnCompDestroy,Ve=this.platformIsServer,ct=this.tracingService;switch(u.encapsulation){case ge.gXe.Emulated:y=new j(W,ee,u,this.appId,Se,w,x,Ve,ct);break;case ge.gXe.ShadowDom:return new I(W,ee,a,u,w,x,this.nonce,Ve,ct);default:y=new X(W,ee,u,Se,w,x,Ve,ct)}d.set(u.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(a){this.rendererByCompId.delete(a)}static \u0275fac=function(u){return new(u||s)(O.KVO(Kn),O.KVO(xa),O.KVO(ge.sZ2),O.KVO(Gn),O.KVO(O.qQL),O.KVO(ge.SKi),O.KVO(ge.BIS),O.KVO(ge.a8H,8))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();class na{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,a,u,d,y){this.eventManager=i,this.doc=a,this.ngZone=u,this.platformIsServer=d,this.tracingService=y}destroy(){}destroyNode=null;createElement(i,a){return a?this.doc.createElementNS(gi[a]||a,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,a){(Ya(i)?i.content:i).appendChild(a)}insertBefore(i,a,u){i&&(Ya(i)?i.content:i).insertBefore(a,u)}removeChild(i,a){a.remove()}selectRootElement(i,a){let u="string"==typeof i?this.doc.querySelector(i):i;if(!u)throw new O.buA(-5104,!1);return a||(u.textContent=""),u}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,a,u,d){if(d){a=d+":"+a;const y=gi[d];y?i.setAttributeNS(y,a,u):i.setAttribute(a,u)}else i.setAttribute(a,u)}removeAttribute(i,a,u){if(u){const d=gi[u];d?i.removeAttributeNS(d,a):i.removeAttribute(`${u}:${a}`)}else i.removeAttribute(a)}addClass(i,a){i.classList.add(a)}removeClass(i,a){i.classList.remove(a)}setStyle(i,a,u,d){d&(ge.czy.DashCase|ge.czy.Important)?i.style.setProperty(a,u,d&ge.czy.Important?"important":""):i.style[a]=u}removeStyle(i,a,u){u&ge.czy.DashCase?i.style.removeProperty(a):i.style[a]=""}setProperty(i,a,u){null!=i&&(i[a]=u)}setValue(i,a){i.nodeValue=a}listen(i,a,u,d){if("string"==typeof i&&!(i=(0,E.rb)().getGlobalEventTarget(this.doc,i)))throw new O.buA(5102,!1);let y=this.decoratePreventDefault(u);return this.tracingService?.wrapEventListener&&(y=this.tracingService.wrapEventListener(i,a,y)),this.eventManager.addEventListener(i,a,y,d)}decoratePreventDefault(i){return a=>{if("__ngUnwrap__"===a)return i;!1===i(a)&&a.preventDefault()}}}function Ya(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class I extends na{sharedStylesHost;hostEl;shadowRoot;constructor(i,a,u,d,y,w,x,W,ee){super(i,y,w,W,ee),this.sharedStylesHost=a,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Se=d.styles;Se=Na(d.id,Se);for(const ct of Se){const dt=document.createElement("style");x&&dt.setAttribute("nonce",x),dt.textContent=ct,this.shadowRoot.appendChild(dt)}const Ve=d.getExternalStyles?.();if(Ve)for(const ct of Ve){const dt=nr(ct,y);x&&dt.setAttribute("nonce",x),this.shadowRoot.appendChild(dt)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,a){return super.appendChild(this.nodeOrShadowRoot(i),a)}insertBefore(i,a,u){return super.insertBefore(this.nodeOrShadowRoot(i),a,u)}removeChild(i,a){return super.removeChild(null,a)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class X extends na{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,a,u,d,y,w,x,W,ee){super(i,y,w,x,W),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=d;let Se=u.styles;this.styles=ee?Na(ee,Se):Se,this.styleUrls=u.getExternalStyles?.(ee)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===ge.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class j extends X{contentAttr;hostAttr;constructor(i,a,u,d,y,w,x,W,ee){const Se=d+"-"+u.id;super(i,a,u,y,w,x,W,ee,Se),this.contentAttr=function rr(s){return"_ngcontent-%COMP%".replace(Qa,s)}(Se),this.hostAttr=function _a(s){return"_nghost-%COMP%".replace(Qa,s)}(Se)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,a){const u=super.createElement(i,a);return super.setAttribute(u,this.contentAttr,""),u}}class B extends E.qj{supportsDOMEvents=!0;static makeCurrent(){(0,E.ig)(new B)}onAndCancel(i,a,u,d){return i.addEventListener(a,u,d),()=>{i.removeEventListener(a,u,d)}}dispatchEvent(i,a){i.dispatchEvent(a)}remove(i){i.remove()}createElement(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}getBaseHref(i){const a=function Le(){return le=le||document.head.querySelector("base"),le?le.getAttribute("href"):null}();return null==a?null:function ze(s){return new URL(s,document.baseURI).pathname}(a)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return o(document.cookie,i)}}let le=null,Ut=(()=>{class s{build(){return new XMLHttpRequest}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const qt=["alt","control","meta","shift"],Wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let _n=(()=>{class s extends va{constructor(a){super(a)}supports(a){return null!=s.parseEventName(a)}addEventListener(a,u,d,y){const w=s.parseEventName(u),x=s.eventCallback(w.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.rb)().onAndCancel(a,w.domEventName,x,y))}static parseEventName(a){const u=a.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const y=s._normalizeKey(u.pop());let w="",x=u.indexOf("code");if(x>-1&&(u.splice(x,1),w="code."),qt.forEach(ee=>{const Se=u.indexOf(ee);Se>-1&&(u.splice(Se,1),w+=ee+".")}),w+=y,0!=u.length||0===y.length)return null;const W={};return W.domEventName=d,W.fullKey=w,W}static matchEventFullKeyCode(a,u){let d=Wt[a.key]||a.key,y="";return u.indexOf("code.")>-1&&(d=a.code,y="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),qt.forEach(w=>{w!==d&&(0,jt[w])(a)&&(y+=w+".")}),y+=d,y===u)}static eventCallback(a,u,d){return y=>{s.matchEventFullKeyCode(y,a)&&d.runGuarded(()=>u(y))}}static _normalizeKey(a){return"esc"===a?"escape":a}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();function Hr(s){return{appProviders:[...Ri,...s?.providers??[]],platformProviders:wr}}const wr=[{provide:ge.Agw,useValue:"browser"},{provide:ge.PLl,useValue:function Nr(){B.makeCurrent()},multi:!0},{provide:O.qQL,useFactory:function ra(){return(0,ge._9u)(document),document}}],Ri=[{provide:O.GBX,useValue:"root"},{provide:O.zcH,useFactory:function zr(){return new O.zcH}},{provide:ea,useClass:ga,multi:!0,deps:[O.qQL]},{provide:ea,useClass:_n,multi:!0,deps:[O.qQL]},Pr,xa,Kn,{provide:ge._9s,useExisting:Pr},{provide:G,useClass:Ut},[]];var aa=V(2200),Er=V(8359),ia=V(7473);const Pi=(s,i)=>({"toast-error":s,"toast-info":i});function Fa(s,i){if(1&s){const a=ge.RV6();ge.j41(0,"div",2)(1,"div",3)(2,"strong",4),ge.EFF(3),ge.k0s(),ge.j41(4,"small"),ge.EFF(5),ge.nI1(6,"date"),ge.k0s(),ge.j41(7,"button",5),ge.bIt("click",function(){const d=O.eBV(a).$implicit,y=ge.XpG();return O.Njj(y.removeMessage(d.id))}),ge.EFF(8,"\xd7"),ge.k0s()(),ge.j41(9,"div",6),ge.EFF(10),ge.k0s()()}if(2&s){const a=i.$implicit;ge.Y8G("ngClass",ge.l_i(7,Pi,"error"===a.type,"info"===a.type)),ge.R7$(3),ge.JRh("error"===a.type?"Error":"Information"),ge.R7$(2),ge.JRh(ge.i5U(6,4,a.timestamp,"HH:mm:ss")),ge.R7$(5),ge.SpI(" ",a.message," ")}}let bo=(()=>{class s{notificationService;messages=[];subscription=new Er.yU;messageCounter=0;displayDuration=3500;constructor(a){this.notificationService=a}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(a=>{const u=this.messageCounter++;this.messages.push({id:u,type:a.type,message:a.message,timestamp:new Date}),setTimeout(()=>{this.removeMessage(u)},this.displayDuration)}))}ngOnDestroy(){this.subscription.unsubscribe()}removeMessage(a){const u=this.messages.findIndex(d=>d.id===a);-1!==u&&this.messages.splice(u,1)}static \u0275fac=function(u){return new(u||s)(ge.rXU(ia.J))};static \u0275cmp=ge.VBU({type:s,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(u,d){1&u&&(ge.j41(0,"div",0),ge.DNE(1,Fa,11,10,"div",1),ge.k0s()),2&u&&(ge.R7$(),ge.Y8G("ngForOf",d.messages))},dependencies:[aa.MD,aa.YU,aa.Sq,aa.vh],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:var(--base-color-spots);border-left:4px solid #777;color:var(--font-color)}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:var(--font-color)}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]})}return s})();var Gr=V(4341),_i=V(9295),ar=V(1985),U=V(8071),F=V(6648),Q=V(3794);function se(...s){const i=(0,Q.lI)(s);return(0,F.H)(s,i)}var Te=V(4412);const Qe=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var st=V(4572),Ct=V(8793),Bt=V(8750);function ft(s){return new ar.c(i=>{(0,Bt.Tg)(s()).subscribe(i)})}var fn=V(1203);function yn(s,i){const a=(0,U.T)(s)?s:()=>s,u=d=>d.error(a());return new ar.c(i?d=>i.schedule(u,0,d):u)}const cn=new ar.c(s=>s.complete());var Sn=V(9974),En=V(4360);function kr(){return(0,Sn.N)((s,i)=>{let a=null;s._refCount++;const u=(0,En._)(i,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(a=null);const d=s._connection,y=a;a=null,d&&(!y||d===y)&&d.unsubscribe(),i.unsubscribe()});s.subscribe(u),u.closed||(a=s.connect())})}class Fr extends ar.c{constructor(i,a){super(),this.source=i,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,(0,Sn.S)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Er.yU;const a=this.getSubject();i.add(this.source.subscribe((0,En._)(a,void 0,()=>{this._teardown(),a.complete()},u=>{this._teardown(),a.error(u)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Er.yU.EMPTY)}return i}refCount(){return kr()(this)}}var In=V(1413),Ot=V(6354),Nn=V(5558);function jr(s){return s<=0?()=>cn:(0,Sn.N)((i,a)=>{let u=0;i.subscribe((0,En._)(a,d=>{++u<=s&&(a.next(d),s<=u&&a.complete())}))})}var Hi=V(9172),Cr=V(5964),Mn=V(1397);function Dr(s){return(0,Sn.N)((i,a)=>{let u=!1;i.subscribe((0,En._)(a,d=>{u=!0,a.next(d)},()=>{u||a.next(s),a.complete()}))})}function ro(s=wo){return(0,Sn.N)((i,a)=>{let u=!1;i.subscribe((0,En._)(a,d=>{u=!0,a.next(d)},()=>u?a.complete():a.error(s())))})}function wo(){return new Qe}var ba=V(3669);function Za(s,i){const a=arguments.length>=2;return u=>u.pipe(s?(0,Cr.p)((d,y)=>s(d,y,u)):ba.D,jr(1),a?Dr(i):ro(()=>new Qe))}function bi(s,i){return(0,U.T)(i)?(0,Mn.Z)(s,i,1):(0,Mn.Z)(s,1)}var jn=V(8141);function ja(s){return(0,Sn.N)((i,a)=>{let y,u=null,d=!1;u=i.subscribe((0,En._)(a,void 0,void 0,w=>{y=(0,Bt.Tg)(s(w,ja(s)(i))),u?(u.unsubscribe(),u=null,y.subscribe(a)):d=!0})),d&&(u.unsubscribe(),u=null,y.subscribe(a))})}function ao(s){return s<=0?()=>cn:(0,Sn.N)((i,a)=>{let u=[];i.subscribe((0,En._)(a,d=>{u.push(d),s<u.length&&u.shift()},()=>{for(const d of u)a.next(d);a.complete()},void 0,()=>{u=null}))})}function mr(s){return(0,Sn.N)((i,a)=>{try{i.subscribe(a)}finally{a.add(s)}})}var Vo=V(6977);let C=(()=>{class s{_doc;constructor(a){this._doc=a}getTitle(){return this._doc.title}setTitle(a){this._doc.title=a||""}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ft="primary",oa=Symbol("RouteTitle");class tu{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const a=this.params[i];return Array.isArray(a)?a[0]:a}return null}getAll(i){if(this.has(i)){const a=this.params[i];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function ni(s){return new tu(s)}function Ys(s,i,a){const u=a.path.split("/");if(u.length>s.length||"full"===a.pathMatch&&(i.hasChildren()||u.length<s.length))return null;const d={};for(let y=0;y<u.length;y++){const w=u[y],x=s[y];if(":"===w[0])d[w.substring(1)]=x;else if(w!==x.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function wa(s,i){const a=s?Ki(s):void 0,u=i?Ki(i):void 0;if(!a||!u||a.length!=u.length)return!1;let d;for(let y=0;y<a.length;y++)if(d=a[y],!Wo(s[d],i[d]))return!1;return!0}function Ki(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function Wo(s,i){if(Array.isArray(s)&&Array.isArray(i)){if(s.length!==i.length)return!1;const a=[...s].sort(),u=[...i].sort();return a.every((d,y)=>u[y]===d)}return s===i}function oo(s){return s.length>0?s[s.length-1]:null}function Ua(s){return function A(s){return!!s&&(s instanceof ar.c||(0,U.T)(s.lift)&&(0,U.T)(s.subscribe))}(s)?s:(0,ge.yLl)(s)?(0,F.H)(Promise.resolve(s)):se(s)}const so={exact:function Ko(s,i,a){if(!co(s.segments,i.segments)||!uo(s.segments,i.segments,a)||s.numberOfChildren!==i.numberOfChildren)return!1;for(const u in i.children)if(!s.children[u]||!Ko(s.children[u],i.children[u],a))return!1;return!0},subset:Go},Is={exact:function zo(s,i){return wa(s,i)},subset:function Gi(s,i){return Object.keys(i).length<=Object.keys(s).length&&Object.keys(i).every(a=>Wo(s[a],i[a]))},ignored:()=>!0};function lo(s,i,a){return so[a.paths](s.root,i.root,a.matrixParams)&&Is[a.queryParams](s.queryParams,i.queryParams)&&!("exact"===a.fragment&&s.fragment!==i.fragment)}function Go(s,i,a){return Ni(s,i,i.segments,a)}function Ni(s,i,a,u){if(s.segments.length>a.length){const d=s.segments.slice(0,a.length);return!(!co(d,a)||i.hasChildren()||!uo(d,a,u))}if(s.segments.length===a.length){if(!co(s.segments,a)||!uo(s.segments,a,u))return!1;for(const d in i.children)if(!s.children[d]||!Go(s.children[d],i.children[d],u))return!1;return!0}{const d=a.slice(0,s.segments.length),y=a.slice(s.segments.length);return!!(co(s.segments,d)&&uo(s.segments,d,u)&&s.children[Ft])&&Ni(s.children[Ft],i,y,u)}}function uo(s,i,a){return i.every((u,d)=>Is[a](s[d].parameters,u.parameters))}class At{root;queryParams;fragment;_queryParamMap;constructor(i=new Jt([],{}),a={},u=null){this.root=i,this.queryParams=a,this.fragment=u}get queryParamMap(){return this._queryParamMap??=ni(this.queryParams),this._queryParamMap}toString(){return Ms.serialize(this)}}class Jt{segments;children;parent=null;constructor(i,a){this.segments=i,this.children=a,Object.values(a).forEach(u=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return po(this)}}class wi{path;parameters;_parameterMap;constructor(i,a){this.path=i,this.parameters=a}get parameterMap(){return this._parameterMap??=ni(this.parameters),this._parameterMap}toString(){return Ao(this)}}function co(s,i){return s.length===i.length&&s.every((a,u)=>a.path===i[u].path)}let qo=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:()=>new qi,providedIn:"root"})}return s})();class qi{parse(i){const a=new L(i);return new At(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(i){const a=`/${Fi(i.root,!0)}`,u=function Ea(s){const i=Object.entries(s).map(([a,u])=>Array.isArray(u)?u.map(d=>`${Qo(a)}=${Qo(d)}`).join("&"):`${Qo(a)}=${Qo(u)}`).filter(a=>a);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${a}${u}${"string"==typeof i.fragment?`#${function ru(s){return encodeURI(s)}(i.fragment)}`:""}`}}const Ms=new qi;function po(s){return s.segments.map(i=>Ao(i)).join("/")}function Fi(s,i){if(!s.hasChildren())return po(s);if(i){const a=s.children[Ft]?Fi(s.children[Ft],!1):"",u=[];return Object.entries(s.children).forEach(([d,y])=>{d!==Ft&&u.push(`${d}:${Fi(y,!1)}`)}),u.length>0?`${a}(${u.join("//")})`:a}{const a=function mo(s,i){let a=[];return Object.entries(s.children).forEach(([u,d])=>{u===Ft&&(a=a.concat(i(d,u)))}),Object.entries(s.children).forEach(([u,d])=>{u!==Ft&&(a=a.concat(i(d,u)))}),a}(s,(u,d)=>d===Ft?[Fi(s.children[Ft],!1)]:[`${d}:${Fi(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ft]?`${po(s)}/${a[0]}`:`${po(s)}/(${a.join("//")})`}}function nu(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qo(s){return nu(s).replace(/%3B/gi,";")}function Qi(s){return nu(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function To(s){return decodeURIComponent(s)}function Xo(s){return To(s.replace(/\+/g,"%20"))}function Ao(s){return`${Qi(s.path)}${function So(s){return Object.entries(s).map(([i,a])=>`;${Qi(i)}=${Qi(a)}`).join("")}(s.parameters)}`}const Io=/^[^\/()?;#]+/;function k(s){const i=s.match(Io);return i?i[0]:""}const f=/^[^\/()?;=#]+/,p=/^[^=?&#]+/,D=/^[^&#]+/;class L{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(i.length>0||Object.keys(a).length>0)&&(u[Ft]=new Jt(i,a)),u}parseSegment(){const i=k(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new O.buA(4009,!1);return this.capture(i),new wi(To(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const a=function m(s){const i=s.match(f);return i?i[0]:""}(this.remaining);if(!a)return;this.capture(a);let u="";if(this.consumeOptional("=")){const d=k(this.remaining);d&&(u=d,this.capture(u))}i[To(a)]=To(u)}parseQueryParam(i){const a=function b(s){const i=s.match(p);return i?i[0]:""}(this.remaining);if(!a)return;this.capture(a);let u="";if(this.consumeOptional("=")){const w=function R(s){const i=s.match(D);return i?i[0]:""}(this.remaining);w&&(u=w,this.capture(u))}const d=Xo(a),y=Xo(u);if(i.hasOwnProperty(d)){let w=i[d];Array.isArray(w)||(w=[w],i[d]=w),w.push(y)}else i[d]=y}parseParens(i){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=k(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new O.buA(4010,!1);let y;u.indexOf(":")>-1?(y=u.slice(0,u.indexOf(":")),this.capture(y),this.capture(":")):i&&(y=Ft);const w=this.parseChildren();a[y??Ft]=1===Object.keys(w).length&&w[Ft]?w[Ft]:new Jt([],w),this.consumeOptional("//")}return a}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new O.buA(4011,!1)}}function H(s){return s.segments.length>0?new Jt([],{[Ft]:s}):s}function Y(s){const i={};for(const[u,d]of Object.entries(s.children)){const y=Y(d);if(u===Ft&&0===y.segments.length&&y.hasChildren())for(const[w,x]of Object.entries(y.children))i[w]=x;else(y.segments.length>0||y.hasChildren())&&(i[u]=y)}return function ae(s){if(1===s.numberOfChildren&&s.children[Ft]){const i=s.children[Ft];return new Jt(s.segments.concat(i.segments),i.children)}return s}(new Jt(s.segments,i))}function we(s){return s instanceof At}function He(s){let i;const d=H(function a(y){const w={};for(const W of y.children){const ee=a(W);w[W.outlet]=ee}const x=new Jt(y.url,w);return y===s&&(i=x),x}(s.root));return i??d}function Oe(s,i,a,u){let d=s;for(;d.parent;)d=d.parent;if(0===i.length)return vt(d,d,d,a,u);const y=function gt(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new $t(!0,0,s);let i=0,a=!1;const u=s.reduce((d,y,w)=>{if("object"==typeof y&&null!=y){if(y.outlets){const x={};return Object.entries(y.outlets).forEach(([W,ee])=>{x[W]="string"==typeof ee?ee.split("/"):ee}),[...d,{outlets:x}]}if(y.segmentPath)return[...d,y.segmentPath]}return"string"!=typeof y?[...d,y]:0===w?(y.split("/").forEach((x,W)=>{0==W&&"."===x||(0==W&&""===x?a=!0:".."===x?i++:""!=x&&d.push(x))}),d):[...d,y]},[]);return new $t(a,i,u)}(i);if(y.toRoot())return vt(d,d,new Jt([],{}),a,u);const w=function kn(s,i,a){if(s.isAbsolute)return new _t(i,!0,0);if(!a)return new _t(i,!1,NaN);if(null===a.parent)return new _t(a,!0,0);const u=Je(s.commands[0])?0:1;return function Tr(s,i,a){let u=s,d=i,y=a;for(;y>d;){if(y-=d,u=u.parent,!u)throw new O.buA(4005,!1);d=u.segments.length}return new _t(u,!1,d-y)}(a,a.segments.length-1+u,s.numberOfDoubleDots)}(y,d,s),x=w.processChildren?Ar(w.segmentGroup,w.index,y.commands):Cn(w.segmentGroup,w.index,y.commands);return vt(d,w.segmentGroup,x,a,u)}function Je(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Ze(s){return"object"==typeof s&&null!=s&&s.outlets}function vt(s,i,a,u,d){let w,y={};u&&Object.entries(u).forEach(([W,ee])=>{y[W]=Array.isArray(ee)?ee.map(Se=>`${Se}`):`${ee}`}),w=s===i?a:xt(s,i,a);const x=H(Y(w));return new At(x,y,d)}function xt(s,i,a){const u={};return Object.entries(s.children).forEach(([d,y])=>{u[d]=y===i?a:xt(y,i,a)}),new Jt(s.segments,u)}class $t{isAbsolute;numberOfDoubleDots;commands;constructor(i,a,u){if(this.isAbsolute=i,this.numberOfDoubleDots=a,this.commands=u,i&&u.length>0&&Je(u[0]))throw new O.buA(4003,!1);const d=u.find(Ze);if(d&&d!==oo(u))throw new O.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _t{segmentGroup;processChildren;index;constructor(i,a,u){this.segmentGroup=i,this.processChildren=a,this.index=u}}function Cn(s,i,a){if(s??=new Jt([],{}),0===s.segments.length&&s.hasChildren())return Ar(s,i,a);const u=function ka(s,i,a){let u=0,d=i;const y={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=a.length)return y;const w=s.segments[d],x=a[u];if(Ze(x))break;const W=`${x}`,ee=u<a.length-1?a[u+1]:null;if(d>0&&void 0===W)break;if(W&&ee&&"object"==typeof ee&&void 0===ee.outlets){if(!iu(W,ee,w))return y;u+=2}else{if(!iu(W,{},w))return y;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,i,a),d=a.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const y=new Jt(s.segments.slice(0,u.pathIndex),{});return y.children[Ft]=new Jt(s.segments.slice(u.pathIndex),s.children),Ar(y,0,d)}return u.match&&0===d.length?new Jt(s.segments,{}):u.match&&!s.hasChildren()?xs(s,i,a):u.match?Ar(s,0,d):xs(s,i,a)}function Ar(s,i,a){if(0===a.length)return new Jt(s.segments,{});{const u=function vn(s){return Ze(s[0])?s[0].outlets:{[Ft]:s}}(a),d={};if(Object.keys(u).some(y=>y!==Ft)&&s.children[Ft]&&1===s.numberOfChildren&&0===s.children[Ft].segments.length){const y=Ar(s.children[Ft],i,a);return new Jt(s.segments,y.children)}return Object.entries(u).forEach(([y,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(d[y]=Cn(s.children[y],i,w))}),Object.entries(s.children).forEach(([y,w])=>{void 0===u[y]&&(d[y]=w)}),new Jt(s.segments,d)}}function xs(s,i,a){const u=s.segments.slice(0,i);let d=0;for(;d<a.length;){const y=a[d];if(Ze(y)){const W=au(y.outlets);return new Jt(u,W)}if(0===d&&Je(a[0])){u.push(new wi(s.segments[i].path,Js(a[0]))),d++;continue}const w=Ze(y)?y.outlets[Ft]:`${y}`,x=d<a.length-1?a[d+1]:null;w&&x&&Je(x)?(u.push(new wi(w,Js(x))),d+=2):(u.push(new wi(w,{})),d++)}return new Jt(u,{})}function au(s){const i={};return Object.entries(s).forEach(([a,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[a]=xs(new Jt([],{}),0,u))}),i}function Js(s){const i={};return Object.entries(s).forEach(([a,u])=>i[a]=`${u}`),i}function iu(s,i,a){return s==a.path&&wa(i,a.parameters)}const Rs="imperative";var Xt=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Xt||{});class Ei{id;url;constructor(i,a){this.id=i,this.url=a}}class Zs extends Ei{type=Xt.NavigationStart;navigationTrigger;restoredState;constructor(i,a,u="imperative",d=null){super(i,a),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sa extends Ei{urlAfterRedirects;type=Xt.NavigationEnd;constructor(i,a,u){super(i,a),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var pr=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s[s.Aborted=4]="Aborted",s}(pr||{}),el=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(el||{});class ho extends Ei{reason;code;type=Xt.NavigationCancel;constructor(i,a,u,d){super(i,a),this.reason=u,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Os extends Ei{reason;code;type=Xt.NavigationSkipped;constructor(i,a,u,d){super(i,a),this.reason=u,this.code=d}}class ou extends Ei{error;target;type=Xt.NavigationError;constructor(i,a,u,d){super(i,a),this.error=u,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class su extends Ei{urlAfterRedirects;state;type=Xt.RoutesRecognized;constructor(i,a,u,d){super(i,a),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ec extends Ei{urlAfterRedirects;state;type=Xt.GuardsCheckStart;constructor(i,a,u,d){super(i,a),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ps extends Ei{urlAfterRedirects;state;shouldActivate;type=Xt.GuardsCheckEnd;constructor(i,a,u,d,y){super(i,a),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lu extends Ei{urlAfterRedirects;state;type=Xt.ResolveStart;constructor(i,a,u,d){super(i,a),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tl extends Ei{urlAfterRedirects;state;type=Xt.ResolveEnd;constructor(i,a,u,d){super(i,a),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uu{route;type=Xt.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kc{route;type=Xt.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yo{snapshot;type=Xt.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{snapshot;type=Xt.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{snapshot;type=Xt.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{snapshot;type=Xt.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{}class du{url;navigationBehaviorOptions;constructor(i,a){this.url=i,this.navigationBehaviorOptions=a}}function ai(s){return s.outlet||Ft}function Mo(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let i=s.parent;i;i=i.parent){const a=i.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}class Dc{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mo(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new xo(this.rootInjector)}}let xo=(()=>{class s{rootInjector;contexts=new Map;constructor(a){this.rootInjector=a}onChildOutletCreated(a,u){const d=this.getOrCreateContext(a);d.outlet=u,this.contexts.set(a,d)}onChildOutletDestroyed(a){const u=this.getContext(a);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let u=this.getContext(a);return u||(u=new Dc(this.rootInjector),this.contexts.set(a,u)),u}getContext(a){return this.contexts.get(a)||null}static \u0275fac=function(u){return new(u||s)(O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class il{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){const a=this.pathFromRoot(i);return a.length>1?a[a.length-2]:null}children(i){const a=Ns(i,this._root);return a?a.children.map(u=>u.value):[]}firstChild(i){const a=Ns(i,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(i){const a=ol(i,this._root);return a.length<2?[]:a[a.length-2].children.map(d=>d.value).filter(d=>d!==i)}pathFromRoot(i){return ol(i,this._root).map(a=>a.value)}}function Ns(s,i){if(s===i.value)return i;for(const a of i.children){const u=Ns(s,a);if(u)return u}return null}function ol(s,i){if(s===i.value)return[i];for(const a of i.children){const u=ol(s,a);if(u.length)return u.unshift(i),u}return[]}class ii{value;children;constructor(i,a){this.value=i,this.children=a}toString(){return`TreeNode(${this.value})`}}function _(s){const i={};return s&&s.children.forEach(a=>i[a.value.outlet]=a),i}class P extends il{snapshot;constructor(i,a){super(i),this.snapshot=a,Un(this,i)}toString(){return this.snapshot.toString()}}function q(s){const i=function Ce(s){const y=new dn([],{},{},"",{},Ft,s,null,{});return new la("",new ii(y,[]))}(s),a=new Te.t([new wi("",{})]),u=new Te.t({}),d=new Te.t({}),y=new Te.t({}),w=new Te.t(""),x=new Ne(a,u,y,w,d,Ft,s,i.root);return x.snapshot=i.root,new P(new ii(x,[]),i)}class Ne{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,a,u,d,y,w,x,W){this.urlSubject=i,this.paramsSubject=a,this.queryParamsSubject=u,this.fragmentSubject=d,this.dataSubject=y,this.outlet=w,this.component=x,this._futureSnapshot=W,this.title=this.dataSubject?.pipe((0,Ot.T)(ee=>ee[oa]))??se(void 0),this.url=i,this.params=a,this.queryParams=u,this.fragment=d,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ot.T)(i=>ni(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ot.T)(i=>ni(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(s,i,a="emptyOnly"){let u;const{routeConfig:d}=s;return u=null===i||"always"!==a&&""!==d?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...i.params,...s.params},data:{...i.data,...s.data},resolve:{...s.data,...i.data,...d?.data,...s._resolvedData}},d&&tm(d)&&(u.resolve[oa]=d.title),u}class dn{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[oa]}constructor(i,a,u,d,y,w,x,W,ee){this.url=i,this.params=a,this.queryParams=u,this.fragment=d,this.data=y,this.outlet=w,this.component=x,this.routeConfig=W,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ni(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class la extends il{url;constructor(i,a){super(a),this.url=i,Un(this,a)}toString(){return xn(this._root)}}function Un(s,i){i.value._routerState=s,i.children.forEach(a=>Un(s,a))}function xn(s){const i=s.children.length>0?` { ${s.children.map(xn).join(", ")} } `:"";return`${s.value}${i}`}function ji(s){if(s.snapshot){const i=s.snapshot,a=s._futureSnapshot;s.snapshot=a,wa(i.queryParams,a.queryParams)||s.queryParamsSubject.next(a.queryParams),i.fragment!==a.fragment&&s.fragmentSubject.next(a.fragment),wa(i.params,a.params)||s.paramsSubject.next(a.params),function Ho(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(!wa(s[a],i[a]))return!1;return!0}(i.url,a.url)||s.urlSubject.next(a.url),wa(i.data,a.data)||s.dataSubject.next(a.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function Tc(s,i){const a=wa(s.params,i.params)&&function Li(s,i){return co(s,i)&&s.every((a,u)=>wa(a.parameters,i[u].parameters))}(s.url,i.url);return a&&!(!s.parent!=!i.parent)&&(!s.parent||Tc(s.parent,i.parent))}function tm(s){return"string"==typeof s.title||null===s.title}const Gh=new O.nKC("");let mu=(()=>{class s{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ft;activateEvents=new ge.bkB;deactivateEvents=new ge.bkB;attachEvents=new ge.bkB;detachEvents=new ge.bkB;routerOutletData=(0,Qt.hFB)();parentContexts=(0,O.WQX)(xo);location=(0,O.WQX)(ge.c1b);changeDetector=(0,O.WQX)(Qt.gRc);inputBinder=(0,O.WQX)(nm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(a){if(a.name){const{firstChange:u,previousValue:d}=a.name;if(u)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(a){return this.parentContexts.getContext(a)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const a=this.parentContexts.getContext(this.name);a?.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O.buA(4012,!1);this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,u){this.activated=a,this._activatedRoute=u,this.location.insert(a.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,u){if(this.isActivated)throw new O.buA(4013,!1);this._activatedRoute=a;const d=this.location,w=a.snapshot.component,x=this.parentContexts.getOrCreateContext(this.name).children,W=new og(a,x,d.injector,this.routerOutletData);this.activated=d.createComponent(w,{index:d.length,injector:W,environmentInjector:u}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(u){return new(u||s)};static \u0275dir=ge.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ge.OA$]})}return s})();class og{route;childContexts;parent;outletData;constructor(i,a,u,d){this.route=i,this.childContexts=a,this.parent=u,this.outletData=d}get(i,a){return i===Ne?this.route:i===xo?this.childContexts:i===Gh?this.outletData:this.parent.get(i,a)}}const nm=new O.nKC("");let rm=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275cmp=ge.VBU({type:s,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(u,d){1&u&&ge.nrm(0,"router-outlet")},dependencies:[mu],encapsulation:2})}return s})();function Ac(s){const i=s.children&&s.children.map(Ac),a=i?{...s,children:i}:{...s};return!a.component&&!a.loadComponent&&(i||a.loadChildren)&&a.outlet&&a.outlet!==Ft&&(a.component=rm),a}function Ls(s,i,a){if(a&&s.shouldReuseRoute(i.value,a.value.snapshot)){const u=a.value;u._futureSnapshot=i.value;const d=function Qh(s,i,a){return i.children.map(u=>{for(const d of a.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return Ls(s,u,d);return Ls(s,u)})}(s,i,a);return new ii(u,d)}{if(s.shouldAttach(i.value)){const y=s.retrieve(i.value);if(null!==y){const w=y.route;return w.value._futureSnapshot=i.value,w.children=i.children.map(x=>Ls(s,x)),w}}const u=function sg(s){return new Ne(new Te.t(s.url),new Te.t(s.params),new Te.t(s.queryParams),new Te.t(s.fragment),new Te.t(s.data),s.outlet,s.component,s)}(i.value),d=i.children.map(y=>Ls(s,y));return new ii(u,d)}}class am{redirectTo;navigationBehaviorOptions;constructor(i,a){this.redirectTo=i,this.navigationBehaviorOptions=a}}const im="ngNavigationCancelingError";function hu(s,i){const{redirectTo:a,navigationBehaviorOptions:u}=we(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,d=om(!1,pr.Redirect);return d.url=a,d.navigationBehaviorOptions=u,d}function om(s,i){const a=new Error(`NavigationCancelingError: ${s||""}`);return a[im]=!0,a.cancellationCode=i,a}function sm(s){return!!s&&s[im]}class ug{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,a,u,d,y){this.routeReuseStrategy=i,this.futureState=a,this.currState=u,this.forwardEvent=d,this.inputBindingEnabled=y}activate(i){const a=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,u,i),ji(this.futureState.root),this.activateChildRoutes(a,u,i)}deactivateChildRoutes(i,a,u){const d=_(a);i.children.forEach(y=>{const w=y.value.outlet;this.deactivateRoutes(y,d[w],u),delete d[w]}),Object.values(d).forEach(y=>{this.deactivateRouteAndItsChildren(y,u)})}deactivateRoutes(i,a,u){const d=i.value,y=a?a.value:null;if(d===y)if(d.component){const w=u.getContext(d.outlet);w&&this.deactivateChildRoutes(i,a,w.children)}else this.deactivateChildRoutes(i,a,u);else y&&this.deactivateRouteAndItsChildren(a,u)}deactivateRouteAndItsChildren(i,a){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,a):this.deactivateRouteAndOutlet(i,a)}detachAndStoreRouteSubtree(i,a){const u=a.getContext(i.value.outlet),d=u&&i.value.component?u.children:a,y=_(i);for(const w of Object.values(y))this.deactivateRouteAndItsChildren(w,d);if(u&&u.outlet){const w=u.outlet.detach(),x=u.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:w,route:i,contexts:x})}}deactivateRouteAndOutlet(i,a){const u=a.getContext(i.value.outlet),d=u&&i.value.component?u.children:a,y=_(i);for(const w of Object.values(y))this.deactivateRouteAndItsChildren(w,d);u&&(u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated()),u.attachRef=null,u.route=null)}activateChildRoutes(i,a,u){const d=_(a);i.children.forEach(y=>{this.activateRoutes(y,d[y.value.outlet],u),this.forwardEvent(new cu(y.value.snapshot))}),i.children.length&&this.forwardEvent(new ri(i.value.snapshot))}activateRoutes(i,a,u){const d=i.value,y=a?a.value:null;if(ji(d),d===y)if(d.component){const w=u.getOrCreateContext(d.outlet);this.activateChildRoutes(i,a,w.children)}else this.activateChildRoutes(i,a,u);else if(d.component){const w=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const x=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),w.children.onOutletReAttached(x.contexts),w.attachRef=x.componentRef,w.route=x.route.value,w.outlet&&w.outlet.attach(x.componentRef,x.route.value),ji(x.route.value),this.activateChildRoutes(i,null,w.children)}else w.attachRef=null,w.route=d,w.outlet&&w.outlet.activateWith(d,w.injector),this.activateChildRoutes(i,null,w.children)}else this.activateChildRoutes(i,null,u)}}class Yh{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Fs{component;route;constructor(i,a){this.component=i,this.route=a}}function cg(s,i,a){const u=s._root;return fu(u,i?i._root:null,a,[u.value])}function sl(s,i){const a=Symbol(),u=i.get(s,a);return u===a?"function"!=typeof s||(0,O.muV)(s)?i.get(s):s:u}function fu(s,i,a,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=_(i);return s.children.forEach(w=>{(function mg(s,i,a,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=s.value,w=i?i.value:null,x=a?a.getContext(s.value.outlet):null;if(w&&y.routeConfig===w.routeConfig){const W=function Jh(s,i,a){if("function"==typeof a)return a(s,i);switch(a){case"pathParamsChange":return!co(s.url,i.url);case"pathParamsOrQueryParamsChange":return!co(s.url,i.url)||!wa(s.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tc(s,i)||!wa(s.queryParams,i.queryParams);default:return!Tc(s,i)}}(w,y,y.routeConfig.runGuardsAndResolvers);W?d.canActivateChecks.push(new Yh(u)):(y.data=w.data,y._resolvedData=w._resolvedData),fu(s,i,y.component?x?x.children:null:a,u,d),W&&x&&x.outlet&&x.outlet.isActivated&&d.canDeactivateChecks.push(new Fs(x.outlet.component,w))}else w&&Ro(i,x,d),d.canActivateChecks.push(new Yh(u)),fu(s,null,y.component?x?x.children:null:a,u,d)})(w,y[w.value.outlet],a,u.concat([w.value]),d),delete y[w.value.outlet]}),Object.entries(y).forEach(([w,x])=>Ro(x,a.getContext(w),d)),d}function Ro(s,i,a){const u=_(s),d=s.value;Object.entries(u).forEach(([y,w])=>{Ro(w,d.component?i?i.children.getContext(y):null:i,a)}),a.canDeactivateChecks.push(new Fs(d.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,d))}function Oo(s){return"function"==typeof s}function es(s){return s instanceof Qe||"EmptyError"===s?.name}const oi=Symbol("INITIAL_VALUE");function ts(){return(0,Nn.n)(s=>(0,st.z)(s.map(i=>i.pipe(jr(1),(0,Hi.Z)(oi)))).pipe((0,Ot.T)(i=>{for(const a of i)if(!0!==a){if(a===oi)return oi;if(!1===a||tf(a))return a}return!0}),(0,Cr.p)(i=>i!==oi),jr(1)))}function tf(s){return we(s)||s instanceof am}function yu(s){return(0,fn.F)((0,jn.M)(i=>{if("boolean"!=typeof i)throw hu(0,i)}),(0,Ot.T)(i=>!0===i))}class Ic{segmentGroup;constructor(i){this.segmentGroup=i||null}}class si extends Error{urlTree;constructor(i){super(),this.urlTree=i}}function js(s){return yn(new Ic(s))}function fm(s){return yn(new O.buA(4e3,!1))}class uf{urlSerializer;urlTree;constructor(i,a){this.urlSerializer=i,this.urlTree=a}lineralizeSegments(i,a){let u=[],d=a.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return se(u);if(d.numberOfChildren>1||!d.children[Ft])return fm();d=d.children[Ft]}}applyRedirectCommands(i,a,u,d,y){return function cf(s,i,a){if("string"==typeof s)return se(s);const u=s,{queryParams:d,fragment:y,routeConfig:w,url:x,outlet:W,params:ee,data:Se,title:Ve}=i;return Ua((0,O.N4e)(a,()=>u({params:ee,data:Se,queryParams:d,fragment:y,routeConfig:w,url:x,outlet:W,title:Ve})))}(a,d,y).pipe((0,Ot.T)(w=>{if(w instanceof At)throw new si(w);const x=this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),i,u);if("/"===w[0])throw new si(x);return x}))}applyRedirectCreateUrlTree(i,a,u,d){const y=this.createSegmentGroup(i,a.root,u,d);return new At(y,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(i,a){const u={};return Object.entries(i).forEach(([d,y])=>{if("string"==typeof y&&":"===y[0]){const x=y.substring(1);u[d]=a[x]}else u[d]=y}),u}createSegmentGroup(i,a,u,d){const y=this.createSegments(i,a.segments,u,d);let w={};return Object.entries(a.children).forEach(([x,W])=>{w[x]=this.createSegmentGroup(i,W,u,d)}),new Jt(y,w)}createSegments(i,a,u,d){return a.map(y=>":"===y.path[0]?this.findPosParam(i,y,d):this.findOrReturn(y,u))}findPosParam(i,a,u){const d=u[a.path.substring(1)];if(!d)throw new O.buA(4001,!1);return d}findOrReturn(i,a){let u=0;for(const d of a){if(d.path===i.path)return a.splice(u),d;u++}return i}}const Mc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ym(s,i,a,u,d){const y=vm(s,i,a);return y.matched?(u=function nl(s,i){return s.providers&&!s._injector&&(s._injector=(0,ge.Ol2)(s.providers,i,`Route: ${s.path}`)),s._injector??i}(i,u),function sf(s,i,a,u){const d=i.canMatch;return d&&0!==d.length?se(d.map(w=>{const x=sl(w,s);return Ua(function dm(s){return s&&Oo(s.canMatch)}(x)?x.canMatch(i,a):(0,O.N4e)(s,()=>x(i,a)))})).pipe(ts(),yu()):se(!0)}(u,i,a).pipe((0,Ot.T)(w=>!0===w?y:{...Mc}))):se(y)}function vm(s,i,a){if("**"===i.path)return function df(s){return{matched:!0,parameters:s.length>0?oo(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(a);if(""===i.path)return"full"===i.pathMatch&&(s.hasChildren()||a.length>0)?{...Mc}:{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const d=(i.matcher||Ys)(a,s,i);if(!d)return{...Mc};const y={};Object.entries(d.posParams??{}).forEach(([x,W])=>{y[x]=W.path});const w=d.consumed.length>0?{...y,...d.consumed[d.consumed.length-1].parameters}:y;return{matched:!0,consumedSegments:d.consumed,remainingSegments:a.slice(d.consumed.length),parameters:w,positionalParamSegments:d.posParams??{}}}function gm(s,i,a,u){return a.length>0&&function _m(s,i,a){return a.some(u=>ns(s,i,u)&&ai(u)!==Ft)}(s,a,u)?{segmentGroup:new Jt(i,xc(u,new Jt(a,s.children))),slicedSegments:[]}:0===a.length&&function Rc(s,i,a){return a.some(u=>ns(s,i,u))}(s,a,u)?{segmentGroup:new Jt(s.segments,wn(s,a,u,s.children)),slicedSegments:a}:{segmentGroup:new Jt(s.segments,s.children),slicedSegments:a}}function wn(s,i,a,u){const d={};for(const y of a)if(ns(s,i,y)&&!u[ai(y)]){const w=new Jt([],{});d[ai(y)]=w}return{...u,...d}}function xc(s,i){const a={};a[Ft]=i;for(const u of s)if(""===u.path&&ai(u)!==Ft){const d=new Jt([],{});a[ai(u)]=d}return a}function ns(s,i,a){return(!(s.hasChildren()||i.length>0)||"full"!==a.pathMatch)&&""===a.path}class bm{}class Em{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,a,u,d,y,w,x){this.injector=i,this.configLoader=a,this.rootComponentType=u,this.config=d,this.urlTree=y,this.paramsInheritanceStrategy=w,this.urlSerializer=x,this.applyRedirects=new uf(this.urlSerializer,this.urlTree)}noMatchError(i){return new O.buA(4002,`'${i.segmentGroup}'`)}recognize(){const i=gm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe((0,Ot.T)(({children:a,rootSnapshot:u})=>{const d=new ii(u,a),y=new la("",d),w=function xe(s,i,a=null,u=null){return Oe(He(s),i,a,u)}(u,[],this.urlTree.queryParams,this.urlTree.fragment);return w.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(w),{state:y,tree:w}}))}match(i){const a=new dn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Ft,a).pipe((0,Ot.T)(u=>({children:u,rootSnapshot:a})),ja(u=>{if(u instanceof si)return this.urlTree=u.urlTree,this.match(u.urlTree.root);throw u instanceof Ic?this.noMatchError(u):u}))}processSegmentGroup(i,a,u,d,y){return 0===u.segments.length&&u.hasChildren()?this.processChildren(i,a,u,y):this.processSegment(i,a,u,u.segments,d,!0,y).pipe((0,Ot.T)(w=>w instanceof ii?[w]:[]))}processChildren(i,a,u,d){const y=[];for(const w of Object.keys(u.children))"primary"===w?y.unshift(w):y.push(w);return(0,F.H)(y).pipe(bi(w=>{const x=u.children[w],W=function Cc(s,i){const a=s.filter(u=>ai(u)===i);return a.push(...s.filter(u=>ai(u)!==i)),a}(a,w);return this.processSegmentGroup(i,W,x,w,d)}),function Uo(s,i){return(0,Sn.N)(function Tt(s,i,a,u,d){return(y,w)=>{let x=a,W=i,ee=0;y.subscribe((0,En._)(w,Se=>{const Ve=ee++;W=x?s(W,Se,Ve):(x=!0,Se),u&&w.next(W)},d&&(()=>{x&&w.next(W),w.complete()})))}}(s,i,arguments.length>=2,!0))}((w,x)=>(w.push(...x),w)),Dr(null),function Eo(s,i){const a=arguments.length>=2;return u=>u.pipe(s?(0,Cr.p)((d,y)=>s(d,y,u)):ba.D,ao(1),a?Dr(i):ro(()=>new Qe))}(),(0,Mn.Z)(w=>{if(null===w)return js(u);const x=Oc(w);return function mf(s){s.sort((i,a)=>i.value.outlet===Ft?-1:a.value.outlet===Ft?1:i.value.outlet.localeCompare(a.value.outlet))}(x),se(x)}))}processSegment(i,a,u,d,y,w,x){return(0,F.H)(a).pipe(bi(W=>this.processSegmentAgainstRoute(W._injector??i,a,W,u,d,y,w,x).pipe(ja(ee=>{if(ee instanceof Ic)return se(null);throw ee}))),Za(W=>!!W),ja(W=>{if(es(W))return function rs(s,i,a){return 0===i.length&&!s.children[a]}(u,d,y)?se(new bm):js(u);throw W}))}processSegmentAgainstRoute(i,a,u,d,y,w,x,W){return ai(u)===w||w!==Ft&&ns(d,y,u)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(i,d,u,y,w,W):this.allowRedirects&&x?this.expandSegmentAgainstRouteUsingRedirect(i,d,a,u,y,w,W):js(d):js(d)}expandSegmentAgainstRouteUsingRedirect(i,a,u,d,y,w,x){const{matched:W,parameters:ee,consumedSegments:Se,positionalParamSegments:Ve,remainingSegments:ct}=vm(a,d,y);if(!W)return js(a);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const dt=new dn(y,ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cm(d),ai(d),d.component??d._loadedComponent??null,d,Pc(d)),nt=ot(dt,x,this.paramsInheritanceStrategy);return dt.params=Object.freeze(nt.params),dt.data=Object.freeze(nt.data),this.applyRedirects.applyRedirectCommands(Se,d.redirectTo,Ve,dt,i).pipe((0,Nn.n)(kt=>this.applyRedirects.lineralizeSegments(d,kt)),(0,Mn.Z)(kt=>this.processSegment(i,u,a,kt.concat(ct),w,!1,x)))}matchSegmentAgainstRoute(i,a,u,d,y,w){const x=ym(a,u,d,i);return"**"===u.path&&(a.children={}),x.pipe((0,Nn.n)(W=>W.matched?this.getChildConfig(i=u._injector??i,u,d).pipe((0,Nn.n)(({routes:ee})=>{const Se=u._loadedInjector??i,{parameters:Ve,consumedSegments:ct,remainingSegments:dt}=W,nt=new dn(ct,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cm(u),ai(u),u.component??u._loadedComponent??null,u,Pc(u)),lt=ot(nt,w,this.paramsInheritanceStrategy);nt.params=Object.freeze(lt.params),nt.data=Object.freeze(lt.data);const{segmentGroup:kt,slicedSegments:It}=gm(a,ct,dt,ee);if(0===It.length&&kt.hasChildren())return this.processChildren(Se,ee,kt,nt).pipe((0,Ot.T)(mn=>new ii(nt,mn)));if(0===ee.length&&0===It.length)return se(new ii(nt,[]));const Vt=ai(u)===y;return this.processSegment(Se,ee,kt,It,Vt?Ft:y,!0,nt).pipe((0,Ot.T)(mn=>new ii(nt,mn instanceof ii?[mn]:[])))})):js(a)))}getChildConfig(i,a,u){return a.children?se({routes:a.children,injector:i}):a.loadChildren?void 0!==a._loadedRoutes?se({routes:a._loadedRoutes,injector:a._loadedInjector}):function af(s,i,a,u){const d=i.canLoad;return void 0===d||0===d.length?se(!0):se(d.map(w=>{const x=sl(w,s);return Ua(function um(s){return s&&Oo(s.canLoad)}(x)?x.canLoad(i,a):(0,O.N4e)(s,()=>x(i,a)))})).pipe(ts(),yu())}(i,a,u).pipe((0,Mn.Z)(d=>d?this.configLoader.loadChildren(i,a).pipe((0,jn.M)(y=>{a._loadedRoutes=y.routes,a._loadedInjector=y.injector})):function lf(){return yn(om(!1,pr.GuardRejected))}())):se({routes:[],injector:i})}}function pf(s){const i=s.value.routeConfig;return i&&""===i.path}function Oc(s){const i=[],a=new Set;for(const u of s){if(!pf(u)){i.push(u);continue}const d=i.find(y=>u.value.routeConfig===y.value.routeConfig);void 0!==d?(d.children.push(...u.children),a.add(d)):i.push(u)}for(const u of a){const d=Oc(u.children);i.push(new ii(u.value,d))}return i.filter(u=>!a.has(u))}function Cm(s){return s.data||{}}function Pc(s){return s.resolve||{}}function gu(s){const i=s.children.map(a=>gu(a)).flat();return[s,...i]}function _u(s){return(0,Nn.n)(i=>{const a=s(i);return a?(0,F.H)(a).pipe((0,Ot.T)(()=>i)):se(i)})}let cl=(()=>{class s{buildTitle(a){let u,d=a.root;for(;void 0!==d;)u=this.getResolvedTitleForRoute(d)??u,d=d.children.find(y=>y.outlet===Ft);return u}getResolvedTitleForRoute(a){return a.data[oa]}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:()=>(0,O.WQX)(dl),providedIn:"root"})}return s})(),dl=(()=>{class s extends cl{title;constructor(a){super(),this.title=a}updateTitle(a){const u=this.buildTitle(a);void 0!==u&&this.title.setTitle(u)}static \u0275fac=function(u){return new(u||s)(O.KVO(C))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const as=new O.nKC("",{providedIn:"root",factory:()=>({})}),ml=new O.nKC("");let bu=(()=>{class s{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,O.WQX)(ge.Ql9);loadComponent(a,u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return se(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const d=Ua((0,O.N4e)(a,()=>u.loadComponent())).pipe((0,Ot.T)(is),(0,Nn.n)(Tm),(0,jn.M)(w=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=w}),mr(()=>{this.componentLoaders.delete(u)})),y=new Fr(d,()=>new In.B).pipe(kr());return this.componentLoaders.set(u,y),y}loadChildren(a,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return se({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const y=function ff(s,i,a,u){return Ua((0,O.N4e)(a,()=>s.loadChildren())).pipe((0,Ot.T)(is),(0,Nn.n)(Tm),(0,Mn.Z)(d=>d instanceof ge.PYt||Array.isArray(d)?se(d):(0,F.H)(i.compileModuleAsync(d))),(0,Ot.T)(d=>{u&&u(s);let y,w,x=!1;return Array.isArray(d)?(w=d,!0):(y=d.create(a).injector,w=y.get(ml,[],{optional:!0,self:!0}).flat()),{routes:w.map(Ac),injector:y}}))}(u,this.compiler,a,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(u)})),w=new Fr(y,()=>new In.B).pipe(kr());return this.childrenLoaders.set(u,w),w}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function is(s){return function wu(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}function Tm(s){return se(s)}let Lc=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:()=>(0,O.WQX)(Am),providedIn:"root"})}return s})(),Am=(()=>{class s{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,u){return a}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Sm=new O.nKC(""),os=new O.nKC("");let Fc=(()=>{class s{currentNavigation=(0,O.vPA)(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new In.B;transitionAbortWithErrorSubject=new In.B;configLoader=(0,O.WQX)(bu);environmentInjector=(0,O.WQX)(O.uvJ);destroyRef=(0,O.WQX)(O.abz);urlSerializer=(0,O.WQX)(qo);rootContexts=(0,O.WQX)(xo);location=(0,O.WQX)(E.aZ);inputBindingEnabled=null!==(0,O.WQX)(nm,{optional:!0});titleStrategy=(0,O.WQX)(cl);options=(0,O.WQX)(as,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,O.WQX)(Lc);createViewTransition=(0,O.WQX)(Sm,{optional:!0});navigationErrorHandler=(0,O.WQX)(os,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new kc(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new uu(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(a){const u=++this.navigationId;(0,_i.O8)(()=>{this.transitions?.next({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u})})}setupNavigations(a){return this.transitions=new Te.t(null),this.transitions.pipe((0,Cr.p)(u=>null!==u),(0,Nn.n)(u=>{let d=!1;return se(u).pipe((0,Nn.n)(y=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",pr.SupersededByNewNavigation),cn;this.currentTransition=u,this.currentNavigation.set({id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,targetBrowserUrl:"string"==typeof y.extras.browserUrl?this.urlSerializer.parse(y.extras.browserUrl):y.extras.browserUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>y.abortController.abort()});const w=!a.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(y.extras.onSameUrlNavigation??a.onSameUrlNavigation))return this.events.next(new Os(y.id,this.urlSerializer.serialize(y.rawUrl),"",el.IgnoredSameUrlNavigation)),y.resolve(!1),cn;if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return se(y).pipe((0,Nn.n)(W=>(this.events.next(new Zs(W.id,this.urlSerializer.serialize(W.extractedUrl),W.source,W.restoredState)),W.id!==this.navigationId?cn:Promise.resolve(W))),function vu(s,i,a,u,d,y){return(0,Mn.Z)(w=>function wm(s,i,a,u,d,y,w="emptyOnly"){return new Em(s,i,a,u,d,w,y).recognize()}(s,i,a,u,w.extractedUrl,d,y).pipe((0,Ot.T)(({state:x,tree:W})=>({...w,targetSnapshot:x,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,a.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,jn.M)(W=>{u.targetSnapshot=W.targetSnapshot,u.urlAfterRedirects=W.urlAfterRedirects,this.currentNavigation.update(Se=>(Se.finalUrl=W.urlAfterRedirects,Se));const ee=new su(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(ee)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:W,extractedUrl:ee,source:Se,restoredState:Ve,extras:ct}=y,dt=new Zs(W,this.urlSerializer.serialize(ee),Se,Ve);this.events.next(dt);const nt=q(this.rootComponentType).snapshot;return this.currentTransition=u={...y,targetSnapshot:nt,urlAfterRedirects:ee,extras:{...ct,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(lt=>(lt.finalUrl=ee,lt)),se(u)}return this.events.next(new Os(y.id,this.urlSerializer.serialize(y.extractedUrl),"",el.IgnoredByUrlHandlingStrategy)),y.resolve(!1),cn}),(0,jn.M)(y=>{const w=new Ec(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),(0,Ot.T)(y=>(this.currentTransition=u={...y,guards:cg(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},u)),function nf(s,i){return(0,Mn.Z)(a=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:y,canDeactivateChecks:w}}=a;return 0===w.length&&0===y.length?se({...a,guardsResult:!0}):function pg(s,i,a,u){return(0,F.H)(s).pipe((0,Mn.Z)(d=>function hm(s,i,a,u,d){const y=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return y&&0!==y.length?se(y.map(x=>{const W=Mo(i)??d,ee=sl(x,W);return Ua(function ef(s){return s&&Oo(s.canDeactivate)}(ee)?ee.canDeactivate(s,i,a,u):(0,O.N4e)(W,()=>ee(s,i,a,u))).pipe(Za())})).pipe(ts()):se(!0)}(d.component,d.route,a,i,u)),Za(d=>!0!==d,!0))}(w,u,d,s).pipe((0,Mn.Z)(x=>x&&function lm(s){return"boolean"==typeof s}(x)?function hg(s,i,a,u){return(0,F.H)(i).pipe(bi(d=>(0,Ct.x)(function pm(s,i){return null!==s&&i&&i(new Yo(s)),se(!0)}(d.route.parent,u),function mm(s,i){return null!==s&&i&&i(new Jo(s)),se(!0)}(d.route,u),function rf(s,i,a){const u=i[i.length-1],y=i.slice(0,i.length-1).reverse().map(w=>function dg(s){const i=s.routeConfig?s.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:s,guards:i}:null}(w)).filter(w=>null!==w).map(w=>ft(()=>se(w.guards.map(W=>{const ee=Mo(w.node)??a,Se=sl(W,ee);return Ua(function Zh(s){return s&&Oo(s.canActivateChild)}(Se)?Se.canActivateChild(u,s):(0,O.N4e)(ee,()=>Se(u,s))).pipe(Za())})).pipe(ts())));return se(y).pipe(ts())}(s,d.path,a),function fg(s,i,a){const u=i.routeConfig?i.routeConfig.canActivate:null;if(!u||0===u.length)return se(!0);const d=u.map(y=>ft(()=>{const w=Mo(i)??a,x=sl(y,w);return Ua(function cm(s){return s&&Oo(s.canActivate)}(x)?x.canActivate(i,s):(0,O.N4e)(w,()=>x(i,s))).pipe(Za())}));return se(d).pipe(ts())}(s,d.route,a))),Za(d=>!0!==d,!0))}(u,y,s,i):se(x)),(0,Ot.T)(x=>({...a,guardsResult:x})))})}(this.environmentInjector,y=>this.events.next(y)),(0,jn.M)(y=>{if(u.guardsResult=y.guardsResult,y.guardsResult&&"boolean"!=typeof y.guardsResult)throw hu(0,y.guardsResult);const w=new Ps(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),(0,Cr.p)(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",pr.GuardRejected),!1)),_u(y=>{if(0!==y.guards.canActivateChecks.length)return se(y).pipe((0,jn.M)(w=>{const x=new lu(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),(0,Nn.n)(w=>{let x=!1;return se(w).pipe(function hf(s,i){return(0,Mn.Z)(a=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=a;if(!d.length)return se(a);const y=new Set(d.map(W=>W.route)),w=new Set;for(const W of y)if(!w.has(W))for(const ee of gu(W))w.add(ee);let x=0;return(0,F.H)(w).pipe(bi(W=>y.has(W)?function ul(s,i,a,u){const d=s.routeConfig,y=s._resolve;return void 0!==d?.title&&!tm(d)&&(y[oa]=d.title),ft(()=>(s.data=ot(s,s.parent,a).resolve,function Nc(s,i,a,u){const d=Ki(s);if(0===d.length)return se({});const y={};return(0,F.H)(d).pipe((0,Mn.Z)(w=>function Dm(s,i,a,u){const d=Mo(i)??u,y=sl(s,d);return Ua(y.resolve?y.resolve(i,a):(0,O.N4e)(d,()=>y(i,a)))}(s[w],i,a,u).pipe(Za(),(0,jn.M)(x=>{if(x instanceof am)throw hu(new qi,x);y[w]=x}))),ao(1),(0,Ot.T)(()=>y),ja(w=>es(w)?cn:yn(w)))}(y,s,i,u).pipe((0,Ot.T)(w=>(s._resolvedData=w,s.data={...s.data,...w},null)))))}(W,u,s,i):(W.data=ot(W,W.parent,s).resolve,se(void 0))),(0,jn.M)(()=>x++),ao(1),(0,Mn.Z)(W=>x===w.size?se(a):cn))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,jn.M)({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",pr.NoDataFromResolver)}}))}),(0,jn.M)(w=>{const x=new tl(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),_u(y=>{const w=x=>{const W=[];if(x.routeConfig?.loadComponent){const ee=Mo(x)??this.environmentInjector;W.push(this.configLoader.loadComponent(ee,x.routeConfig).pipe((0,jn.M)(Se=>{x.component=Se}),(0,Ot.T)(()=>{})))}for(const ee of x.children)W.push(...w(ee));return W};return(0,st.z)(w(y.targetSnapshot.root)).pipe(Dr(null),jr(1))}),_u(()=>this.afterPreactivation()),(0,Nn.n)(()=>{const{currentSnapshot:y,targetSnapshot:w}=u,x=this.createViewTransition?.(this.environmentInjector,y.root,w.root);return x?(0,F.H)(x).pipe((0,Ot.T)(()=>u)):se(u)}),(0,Ot.T)(y=>{const w=function qh(s,i,a){const u=Ls(s,i._root,a?a._root:void 0);return new P(u,i)}(a.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u={...y,targetRouterState:w},this.currentNavigation.update(x=>(x.targetRouterState=w,x)),u}),(0,jn.M)(()=>{this.events.next(new Zo)}),((s,i,a,u)=>(0,Ot.T)(d=>(new ug(i,d.targetRouterState,d.currentRouterState,a,u).activate(s),d)))(this.rootContexts,a.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),jr(1),(0,Vo.Q)(new ar.c(y=>{const w=u.abortController.signal,x=()=>y.next();return w.addEventListener("abort",x),()=>w.removeEventListener("abort",x)}).pipe((0,Cr.p)(()=>!d&&!u.targetRouterState),(0,jn.M)(()=>{this.cancelNavigationTransition(u,u.abortController.signal.reason+"",pr.Aborted)}))),(0,jn.M)({next:y=>{d=!0,this.lastSuccessfulNavigation=(0,_i.O8)(this.currentNavigation),this.events.next(new sa(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{d=!0}}),(0,Vo.Q)(this.transitionAbortWithErrorSubject.pipe((0,jn.M)(y=>{throw y}))),mr(()=>{d||this.cancelNavigationTransition(u,"",pr.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ja(y=>{if(this.destroyed)return u.resolve(!1),cn;if(d=!0,sm(y))this.events.next(new ho(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),function Xh(s){return sm(s)&&we(s.url)}(y)?this.events.next(new du(y.url,y.navigationBehaviorOptions)):u.resolve(!1);else{const w=new ou(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0);try{const x=(0,O.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(!(x instanceof am))throw this.events.next(w),y;{const{message:W,cancellationCode:ee}=hu(0,x);this.events.next(new ho(u.id,this.urlSerializer.serialize(u.extractedUrl),W,ee)),this.events.next(new du(x.redirectTo,x.navigationBehaviorOptions))}}catch(x){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(x)}}return cn}))}))}cancelNavigationTransition(a,u,d){const y=new ho(a.id,this.urlSerializer.serialize(a.extractedUrl),u,d);this.events.next(y),a.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const a=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=(0,_i.O8)(this.currentNavigation),d=u?.targetBrowserUrl??u?.extractedUrl;return a.toString()!==d?.toString()&&!u?.extras.skipLocationChange}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function pl(s){return s!==Rs}let Im=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:()=>(0,O.WQX)(Mm),providedIn:"root"})}return s})();class Qr{shouldDetach(i){return!1}store(i,a){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,a){return i.routeConfig===a.routeConfig}}let Mm=(()=>{class s extends Qr{static \u0275fac=(()=>{let a;return function(d){return(a||(a=ge.xGo(s)))(d||s)}})();static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),xm=(()=>{class s{urlSerializer=(0,O.WQX)(qo);options=(0,O.WQX)(as,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,O.WQX)(E.aZ);urlHandlingStrategy=(0,O.WQX)(Lc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new At;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:a,initialUrl:u,targetBrowserUrl:d}){const y=void 0!==a?this.urlHandlingStrategy.merge(a,u):u,w=d??y;return w instanceof At?this.urlSerializer.serialize(w):w}commitTransition({targetRouterState:a,finalUrl:u,initialUrl:d}){u&&a?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,d),this.routerState=a):this.rawUrlTree=d}routerState=q(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:a}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a??this.rawUrlTree)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:()=>(0,O.WQX)(fo),providedIn:"root"})}return s})(),fo=(()=>{class s extends xm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(a){return this.location.subscribe(u=>{"popstate"===u.type&&setTimeout(()=>{a(u.url,u.state,"popstate")})})}handleRouterEvent(a,u){a instanceof Zs?this.updateStateMemento():a instanceof Os?this.commitTransition(u):a instanceof su?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):a instanceof Zo?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):a instanceof ho&&a.code!==pr.SupersededByNewNavigation&&a.code!==pr.Redirect?this.restoreHistory(u):a instanceof ou?this.restoreHistory(u,!0):a instanceof sa&&(this.lastSuccessfulId=a.id,this.currentPageId=this.browserPageId)}setBrowserUrl(a,{extras:u,id:d}){const{replaceUrl:y,state:w}=u;if(this.location.isCurrentPathEqualTo(a)||y){const x=this.browserPageId,W={...w,...this.generateNgRouterState(d,x)};this.location.replaceState(a,"",W)}else{const x={...w,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(a,"",x)}}restoreHistory(a,u=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-this.browserPageId;0!==y?this.location.historyGo(y):this.getCurrentUrlTree()===a.finalUrl&&0===y&&(this.resetInternalState(a),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(a),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(a,u){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:u}:{navigationId:a}}static \u0275fac=(()=>{let a;return function(d){return(a||(a=ge.xGo(s)))(d||s)}})();static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Om={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,O.WQX)(ge.C7A);stateManager=(0,O.WQX)(xm);options=(0,O.WQX)(as,{optional:!0})||{};pendingTasks=(0,O.WQX)(O.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,O.WQX)(Fc);urlSerializer=(0,O.WQX)(qo);location=(0,O.WQX)(E.aZ);urlHandlingStrategy=(0,O.WQX)(Lc);injector=(0,O.WQX)(O.uvJ);_events=new In.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,O.WQX)(Im);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,O.WQX)(ml,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,O.WQX)(nm,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:a=>{this.console.warn(a)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Er.yU;subscribeToNavigationEvents(){const a=this.navigationTransitions.events.subscribe(u=>{try{const d=this.navigationTransitions.currentTransition,y=(0,_i.O8)(this.navigationTransitions.currentNavigation);if(null!==d&&null!==y)if(this.stateManager.handleRouterEvent(u,y),u instanceof ho&&u.code!==pr.Redirect&&u.code!==pr.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof sa)this.navigated=!0;else if(u instanceof du){const w=u.navigationBehaviorOptions,x=this.urlHandlingStrategy.merge(u.url,d.currentRawUrl),W={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||pl(d.source),...w};this.scheduleNavigation(x,Rs,null,W,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function Yd(s){return!(s instanceof Zo||s instanceof du)})(u)&&this._events.next(u)}catch(d){this.navigationTransitions.transitionAbortWithErrorSubject.next(d)}});this.eventsSubscription.add(a)}resetRootComponentType(a){this.routerState.root.component=a,this.navigationTransitions.rootComponentType=a}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((a,u,d)=>{this.navigateToSyncWithBrowser(a,d,u)})}navigateToSyncWithBrowser(a,u,d){const y={replaceUrl:!0},w=d?.navigationId?d:null;if(d){const W={...d};delete W.navigationId,delete W.\u0275routerPageId,0!==Object.keys(W).length&&(y.state=W)}const x=this.parseUrl(a);this.scheduleNavigation(x,u,w,y).catch(W=>{this.disposed||this.injector.get(O.ZTf)(W)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return(0,_i.O8)(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(a){this.config=a.map(Ac),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(a,u={}){const{relativeTo:d,queryParams:y,fragment:w,queryParamsHandling:x,preserveFragment:W}=u,ee=W?this.currentUrlTree.fragment:w;let Ve,Se=null;switch(x??this.options.defaultQueryParamsHandling){case"merge":Se={...this.currentUrlTree.queryParams,...y};break;case"preserve":Se=this.currentUrlTree.queryParams;break;default:Se=y||null}null!==Se&&(Se=this.removeEmptyProps(Se));try{Ve=He(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof a[0]||"/"!==a[0][0])&&(a=[]),Ve=this.currentUrlTree.root}return Oe(Ve,a,Se,ee??null)}navigateByUrl(a,u={skipLocationChange:!1}){const d=we(a)?a:this.parseUrl(a),y=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(y,Rs,null,u)}navigate(a,u={skipLocationChange:!1}){return function Eu(s){for(let i=0;i<s.length;i++)if(null==s[i])throw new O.buA(4008,!1)}(a),this.navigateByUrl(this.createUrlTree(a,u),u)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){try{return this.urlSerializer.parse(a)}catch{return this.console.warn((0,O.OsK)(4018,!1)),this.urlSerializer.parse("/")}}isActive(a,u){let d;if(d=!0===u?{...Om}:!1===u?{...yg}:u,we(a))return lo(this.currentUrlTree,a,d);const y=this.parseUrl(a);return lo(this.currentUrlTree,y,d)}removeEmptyProps(a){return Object.entries(a).reduce((u,[d,y])=>(null!=y&&(u[d]=y),u),{})}scheduleNavigation(a,u,d,y,w){if(this.disposed)return Promise.resolve(!1);let x,W,ee;w?(x=w.resolve,W=w.reject,ee=w.promise):ee=new Promise((Ve,ct)=>{x=Ve,W=ct});const Se=this.pendingTasks.add();return function Rm(s,i){s.events.pipe((0,Cr.p)(a=>a instanceof sa||a instanceof ho||a instanceof ou||a instanceof Os),(0,Ot.T)(a=>a instanceof sa||a instanceof Os?0:a instanceof ho&&(a.code===pr.Redirect||a.code===pr.SupersededByNewNavigation)?2:1),(0,Cr.p)(a=>2!==a),jr(1)).subscribe(()=>{i()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Se))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:a,extras:y,resolve:x,reject:W,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(Ve=>Promise.reject(Ve))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();V(6365);let gn=(()=>{class s{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,O.vPA)(null);get href(){return(0,_i.O8)(this.reactiveHref)}set href(a){this.reactiveHref.set(a)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new In.B;applicationErrorHandler=(0,O.WQX)(O.ZTf);options=(0,O.WQX)(as,{optional:!0});constructor(a,u,d,y,w,x){this.router=a,this.route=u,this.tabIndexAttribute=d,this.renderer=y,this.el=w,this.locationStrategy=x,this.reactiveHref.set((0,O.WQX)(new Qt.ES_("href"),{optional:!0}));const W=w.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===W||"area"===W||!("object"!=typeof customElements||!customElements.get(W)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let a=this.preserveFragment;const u=d=>"merge"===d||"preserve"===d;a||=u(this.queryParamsHandling),a||=!this.queryParamsHandling&&!u(this.options?.defaultQueryParamsHandling),a&&(this.subscription=this.router.events.subscribe(d=>{d instanceof sa&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(a){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",a)}ngOnChanges(a){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(a){null==a?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=we(a)||Array.isArray(a)?a:[a],this.setTabIndexIfNotOnNativeEl("0"))}onClick(a,u,d,y,w){const x=this.urlTree;if(null===x||this.isAnchorElement&&(0!==a||u||d||y||w||"string"==typeof this.target&&"_self"!=this.target))return!0;const W={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(x,W)?.catch(ee=>{this.applicationErrorHandler(ee)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const a=this.urlTree;this.reactiveHref.set(null!==a&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(a))??"":null)}applyAttributeValue(a,u){const d=this.renderer,y=this.el.nativeElement;null!==u?d.setAttribute(y,a,u):d.removeAttribute(y,a)}get urlTree(){return null===this.routerLinkInput?null:we(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(u){return new(u||s)(ge.rXU(Xi),ge.rXU(Ne),ge.kS0("tabindex"),ge.rXU(ge.sFG),ge.rXU(ge.aKT),ge.rXU(E.hb))};static \u0275dir=ge.FsC({type:s,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(u,d){1&u&&ge.bIt("click",function(w){return d.onClick(w.button,w.ctrlKey,w.shiftKey,w.altKey,w.metaKey)}),2&u&&ge.BMQ("href",d.reactiveHref(),ge.n$t)("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qt.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qt.L39],replaceUrl:[2,"replaceUrl","replaceUrl",Qt.L39],routerLink:"routerLink"},features:[ge.OA$]})}return s})();const ku=new O.nKC("");function Bc(s){return s.routerState.root}function jm(){const s=(0,O.WQX)(O.zZn);return i=>{const a=s.get(ge.o8S);if(i!==a.components[0])return;const u=s.get(Xi),d=s.get(Uc);1===s.get(Bm)&&u.initialNavigation(),s.get(Vm,null,{optional:!0})?.setUpPreloading(),s.get(ku,null,{optional:!0})?.init(),u.resetRootComponentType(a.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const Uc=new O.nKC("",{factory:()=>new In.B}),Bm=new O.nKC("",{providedIn:"root",factory:()=>1}),Vm=new O.nKC("");var $c=V(4675),Hc=V(4242);function Wc(s,i){if(1&s&&(ge.j41(0,"span"),ge.EFF(1),ge.k0s()),2&s){const a=ge.XpG();ge.R7$(),ge.Lme("client ",a.clientId," connected to session: ",a.sessionId)}}let ss=(()=>{class s{appContext;webSocketService;title=(0,O.vPA)("app");clientId=null;sessionId=1;version="v1.212 ";constructor(a,u){this.appContext=a,this.webSocketService=u,this.webSocketService.clientId$.subscribe(d=>{this.clientId=d}),this.webSocketService.sessionId$.subscribe(d=>{null!=d&&(this.sessionId=d)})}static \u0275fac=function(u){return new(u||s)(ge.rXU($c.B),ge.rXU(Hc.Vh))};static \u0275cmp=ge.VBU({type:s,selectors:[["app-root"]],decls:18,vars:4,consts:[["id","master-container",1,"app-viewport"],[1,"navigaiton"],["routerLink","/"],["routerLink","/potions"],["routerLink","/armory"],[1,"technical-info"],[4,"ngIf"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://supabase.com/dashboard/project/ymlekirbwjanuxrclsgf/editor/17421?schema=public","target","_blank","title","Postman",1,"button-link"]],template:function(u,d){1&u&&(ge.j41(0,"div",0)(1,"div",1)(2,"a",2),ge.EFF(3,"Game"),ge.k0s(),ge.j41(4,"a",3),ge.EFF(5,"Alchemy"),ge.k0s(),ge.j41(6,"a",4),ge.EFF(7,"Armory"),ge.k0s()(),ge.nrm(8,"router-outlet"),ge.k0s(),ge.j41(9,"div",5)(10,"span"),ge.EFF(11),ge.k0s(),ge.DNE(12,Wc,2,2,"span",6),ge.j41(13,"a",7),ge.EFF(14,"Run Postman "),ge.k0s(),ge.j41(15,"a",8),ge.EFF(16,"Open DB "),ge.k0s()(),ge.nrm(17,"app-toast-notification")),2&u&&(ge.R7$(),ge.xc7("display",d.appContext.shouldShowSetup?null:"none"),ge.R7$(10),ge.JRh(d.version),ge.R7$(),ge.Y8G("ngIf",d.clientId))},dependencies:[aa.MD,aa.bT,Gr.YN,mu,gn,bo],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;overflow-x:clip}.navigaiton[_ngcontent-%COMP%]{display:flex;gap:1rem}.navigaiton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--font-color)}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-5em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]})}return s})();var Pt=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(Pt||{});const ki="*";function Xm(s){return{type:Pt.Style,styles:s,offset:null}}class Su{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,a=0){this.totalTime=i+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const a="start"==i?this._onStartFns:this._onDoneFns;a.forEach(u=>u()),a.length=0}}class Ym{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let a=0,u=0,d=0;const y=this.players.length;0==y?queueMicrotask(()=>this._onFinish()):this.players.forEach(w=>{w.onDone(()=>{++a==y&&this._onFinish()}),w.onDestroy(()=>{++u==y&&this._onDestroy()}),w.onStart(()=>{++d==y&&this._onStart()})}),this.totalTime=this.players.reduce((w,x)=>Math.max(w,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const a=i*this.totalTime;this.players.forEach(u=>{const d=u.totalTime?Math.min(1,a/u.totalTime):1;u.setPosition(d)})}getPosition(){const i=this.players.reduce((a,u)=>null===a||u.totalTime>a.totalTime?u:a,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const a="start"==i?this._onStartFns:this._onDoneFns;a.forEach(u=>u()),a.length=0}}function Gc(s){return new O.buA(3e3,!1)}function Mu(s){return new O.buA(3002,!1)}function yo(s){switch(s.length){case 0:return new Su;case 1:return s[0];default:return new Ym(s)}}function Gf(s,i,a=new Map,u=new Map){const d=[],y=[];let w=-1,x=null;if(i.forEach(W=>{const ee=W.get("offset"),Se=ee==w,Ve=Se&&x||new Map;W.forEach((ct,dt)=>{let nt=dt,lt=ct;if("offset"!==dt)switch(nt=s.normalizePropertyName(nt,d),lt){case"!":lt=a.get(dt);break;case ki:lt=u.get(dt);break;default:lt=s.normalizeStyleValue(dt,nt,lt,d)}Ve.set(nt,lt)}),Se||y.push(Ve),x=Ve,w=ee}),d.length)throw function Ng(){return new O.buA(3502,!1)}();return y}function Pu(s,i,a,u){switch(i){case"start":s.onStart(()=>u(a&&Xc(a,"start",s)));break;case"done":s.onDone(()=>u(a&&Xc(a,"done",s)));break;case"destroy":s.onDestroy(()=>u(a&&Xc(a,"destroy",s)))}}function Xc(s,i,a){const y=Bs(s.element,s.triggerName,s.fromState,s.toState,i||s.phaseName,a.totalTime??s.totalTime,!!a.disabled),w=s._data;return null!=w&&(y._data=w),y}function Bs(s,i,a,u,d="",y=0,w){return{element:s,triggerName:i,fromState:a,toState:u,phaseName:d,totalTime:y,disabled:!!w}}function li(s,i,a){let u=s.get(i);return u||s.set(i,u=a),u}function qf(s){const i=s.indexOf(":");return[s.substring(1,i),s.slice(i+1)]}const rp=typeof document>"u"?null:document.documentElement;function Nu(s){const i=s.parentNode||s.host||null;return i===rp?null:i}let us=null,Yc=!1;function cs(s,i){for(;i;){if(i===s)return!0;i=Nu(i)}return!1}function Zc(s,i,a){if(a)return Array.from(s.querySelectorAll(i));const u=s.querySelector(i);return u?[u]:[]}const Us="ng-enter",td="ng-leave",_l="ng-trigger",ms=".ng-trigger",Jf="ng-animating",ip=".ng-animating";function ui(s){if("number"==typeof s)return s;const i=s.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:nd(parseFloat(i[1]),i[2])}function nd(s,i){return"s"===i?1e3*s:s}function ps(s,i,a){return s.hasOwnProperty("duration")?s:function Zf(s,i,a){let u,d=0,y="";if("string"==typeof s){const w=s.match(rd);if(null===w)return i.push(Gc()),{duration:0,delay:0,easing:""};u=nd(parseFloat(w[1]),w[2]);const x=w[3];null!=x&&(d=nd(parseFloat(x),w[4]));const W=w[5];W&&(y=W)}else u=s;if(!a){let w=!1,x=i.length;u<0&&(i.push(function Zm(){return new O.buA(3100,!1)}()),w=!0),d<0&&(i.push(function Rg(){return new O.buA(3101,!1)}()),w=!0),w&&i.splice(x,0,Gc())}return{duration:u,delay:d,easing:y}}(s,i,a)}const rd=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Yi(s,i,a){i.forEach((u,d)=>{const y=wl(d);a&&!a.has(d)&&a.set(d,s.style[y]),s.style[y]=u})}function hs(s,i){i.forEach((a,u)=>{const d=wl(u);s.style[d]=""})}function Lu(s){return Array.isArray(s)?1==s.length?s[0]:function Qm(s,i=null){return{type:Pt.Sequence,steps:s,options:i}}(s):s}const op=new RegExp("{{\\s*(.+?)\\s*}}","g");function sp(s){let i=[];if("string"==typeof s){let a;for(;a=op.exec(s);)i.push(a[1]);op.lastIndex=0}return i}function bl(s,i,a){const u=`${s}`,d=u.replace(op,(y,w)=>{let x=i[w];return null==x&&(a.push(function Of(){return new O.buA(3003,!1)}()),x=""),x.toString()});return d==u?s:d}const ey=/-+([a-z0-9])/g;function wl(s){return s.replace(ey,(...i)=>i[1].toUpperCase())}function Va(s,i,a){switch(i.type){case Pt.Trigger:return s.visitTrigger(i,a);case Pt.State:return s.visitState(i,a);case Pt.Transition:return s.visitTransition(i,a);case Pt.Sequence:return s.visitSequence(i,a);case Pt.Group:return s.visitGroup(i,a);case Pt.Animate:return s.visitAnimate(i,a);case Pt.Keyframes:return s.visitKeyframes(i,a);case Pt.Style:return s.visitStyle(i,a);case Pt.Reference:return s.visitReference(i,a);case Pt.AnimateChild:return s.visitAnimateChild(i,a);case Pt.AnimateRef:return s.visitAnimateRef(i,a);case Pt.Query:return s.visitQuery(i,a);case Pt.Stagger:return s.visitStagger(i,a);default:throw function Pf(){return new O.buA(3004,!1)}()}}function fs(s,i){return window.getComputedStyle(s)[i]}let Bu=(()=>{class s{validateStyleProperty(a){return function Jc(s){us||(us=function Yf(){return typeof document<"u"?document.body:null}()||{},Yc=!!us.style&&"WebkitAppearance"in us.style);let i=!0;return us.style&&!function Qf(s){return"ebkit"==s.substring(1,6)}(s)&&(i=s in us.style,!i&&Yc&&(i="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in us.style)),i}(a)}containsElement(a,u){return cs(a,u)}getParentElement(a){return Nu(a)}query(a,u,d){return Zc(a,u,d)}computeStyle(a,u,d){return d||""}animate(a,u,d,y,w,x=[],W){return new Su(d,y)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();class id{static NOOP=new Bu}class ys{}const up=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Po extends ys{normalizePropertyName(i,a){return wl(i)}normalizeStyleValue(i,a,u,d){let y="";const w=u.toString().trim();if(up.has(a)&&0!==u&&"0"!==u)if("number"==typeof u)y="px";else{const x=u.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&d.push(function qc(){return new O.buA(3005,!1)}())}return w+y}}const Vu=new Set(["true","1"]),$u=new Set(["false","0"]);function cp(s,i){const a=Vu.has(s)||$u.has(s),u=Vu.has(i)||$u.has(i);return(d,y)=>{let w="*"==s||s==d,x="*"==i||i==y;return!w&&a&&"boolean"==typeof d&&(w=d?Vu.has(s):$u.has(s)),!x&&u&&"boolean"==typeof y&&(x=y?Vu.has(i):$u.has(i)),w&&x}}const dp=new RegExp("s*:selfs*,?","g");function Hu(s,i,a,u){return new iy(s).build(i,a,u)}class iy{_driver;constructor(i){this._driver=i}build(i,a,u){const d=new Wu(a);return this._resetContextStyleTimingState(d),Va(this,Lu(i),d)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,a){let u=a.queryCount=0,d=a.depCount=0;const y=[],w=[];return"@"==i.name.charAt(0)&&a.errors.push(function Nf(){return new O.buA(3006,!1)}()),i.definitions.forEach(x=>{if(this._resetContextStyleTimingState(a),x.type==Pt.State){const W=x,ee=W.name;ee.toString().split(/\s*,\s*/).forEach(Se=>{W.name=Se,y.push(this.visitState(W,a))}),W.name=ee}else if(x.type==Pt.Transition){const W=this.visitTransition(x,a);u+=W.queryCount,d+=W.depCount,w.push(W)}else a.errors.push(function Iu(){return new O.buA(3007,!1)}())}),{type:Pt.Trigger,name:i.name,states:y,transitions:w,queryCount:u,depCount:d,options:null}}visitState(i,a){const u=this.visitStyle(i.styles,a),d=i.options&&i.options.params||null;if(u.containsDynamicStyles){const y=new Set,w=d||{};u.styles.forEach(x=>{x instanceof Map&&x.forEach(W=>{sp(W).forEach(ee=>{w.hasOwnProperty(ee)||y.add(ee)})})}),y.size&&a.errors.push(function Lf(){return new O.buA(3008,!1)}(0,y.values()))}return{type:Pt.State,name:i.name,style:u,options:d?{params:d}:null}}visitTransition(i,a){a.queryCount=0,a.depCount=0;const u=Va(this,Lu(i.animation),a),d=function ry(s,i){const a=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(u=>function ay(s,i,a){if(":"==s[0]){const W=function kl(s,i){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,u)=>parseFloat(u)>parseFloat(a);case":decrement":return(a,u)=>parseFloat(u)<parseFloat(a);default:return i.push(function Ou(){return new O.buA(3016,!1)}()),"* => *"}}(s,a);if("function"==typeof W)return void i.push(W);s=W}const u=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return a.push(function Bf(){return new O.buA(3015,!1)}()),i;const d=u[1],y=u[2],w=u[3];i.push(cp(d,w)),"<"==y[0]&&("*"!=d||"*"!=w)&&i.push(cp(w,d))}(u,a,i)):a.push(s),a}(i.expr,a.errors);return{type:Pt.Transition,matchers:d,animation:u,queryCount:a.queryCount,depCount:a.depCount,options:vs(i.options)}}visitSequence(i,a){return{type:Pt.Sequence,steps:i.steps.map(u=>Va(this,u,a)),options:vs(i.options)}}visitGroup(i,a){const u=a.currentTime;let d=0;const y=i.steps.map(w=>{a.currentTime=u;const x=Va(this,w,a);return d=Math.max(d,a.currentTime),x});return a.currentTime=d,{type:Pt.Group,steps:y,options:vs(i.options)}}visitAnimate(i,a){const u=function sy(s,i){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return ld(ps(s,i).duration,0,"");const a=s;if(a.split(/\s+/).some(y=>"{"==y.charAt(0)&&"{"==y.charAt(1))){const y=ld(0,0,"");return y.dynamic=!0,y.strValue=a,y}const d=ps(a,i);return ld(d.duration,d.delay,d.easing)}(i.timings,a.errors);a.currentAnimateTimings=u;let d,y=i.styles?i.styles:Xm({});if(y.type==Pt.Keyframes)d=this.visitKeyframes(y,a);else{let w=i.styles,x=!1;if(!w){x=!0;const ee={};u.easing&&(ee.easing=u.easing),w=Xm(ee)}a.currentTime+=u.duration+u.delay;const W=this.visitStyle(w,a);W.isEmptyStep=x,d=W}return a.currentAnimateTimings=null,{type:Pt.Animate,timings:u,style:d,options:null}}visitStyle(i,a){const u=this._makeStyleAst(i,a);return this._validateStyleAst(u,a),u}_makeStyleAst(i,a){const u=[],d=Array.isArray(i.styles)?i.styles:[i.styles];for(let x of d)"string"==typeof x?x===ki?u.push(x):a.errors.push(Mu()):u.push(new Map(Object.entries(x)));let y=!1,w=null;return u.forEach(x=>{if(x instanceof Map&&(x.has("easing")&&(w=x.get("easing"),x.delete("easing")),!y))for(let W of x.values())if(W.toString().indexOf("{{")>=0){y=!0;break}}),{type:Pt.Style,styles:u,easing:w,offset:i.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(i,a){const u=a.currentAnimateTimings;let d=a.currentTime,y=a.currentTime;u&&y>0&&(y-=u.duration+u.delay),i.styles.forEach(w=>{"string"!=typeof w&&w.forEach((x,W)=>{const ee=a.collectedStyles.get(a.currentQuerySelector),Se=ee.get(W);let Ve=!0;Se&&(y!=d&&y>=Se.startTime&&d<=Se.endTime&&(a.errors.push(function xu(){return new O.buA(3010,!1)}()),Ve=!1),y=Se.startTime),Ve&&ee.set(W,{startTime:y,endTime:d}),a.options&&function jg(s,i,a){const u=i.params||{},d=sp(s);d.length&&d.forEach(y=>{u.hasOwnProperty(y)||a.push(function Rf(){return new O.buA(3001,!1)}())})}(x,a.options,a.errors)})})}visitKeyframes(i,a){const u={type:Pt.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Og(){return new O.buA(3011,!1)}()),u;let y=0;const w=[];let x=!1,W=!1,ee=0;const Se=i.steps.map(It=>{const Vt=this._makeStyleAst(It,a);let mn=null!=Vt.offset?Vt.offset:function oy(s){if("string"==typeof s)return null;let i=null;if(Array.isArray(s))s.forEach(a=>{if(a instanceof Map&&a.has("offset")){const u=a;i=parseFloat(u.get("offset")),u.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const a=s;i=parseFloat(a.get("offset")),a.delete("offset")}return i}(Vt.styles),Ht=0;return null!=mn&&(y++,Ht=Vt.offset=mn),W=W||Ht<0||Ht>1,x=x||Ht<ee,ee=Ht,w.push(Ht),Vt});W&&a.errors.push(function ep(){return new O.buA(3012,!1)}()),x&&a.errors.push(function Qc(){return new O.buA(3200,!1)}());const Ve=i.steps.length;let ct=0;y>0&&y<Ve?a.errors.push(function Ru(){return new O.buA(3202,!1)}()):0==y&&(ct=1/(Ve-1));const dt=Ve-1,nt=a.currentTime,lt=a.currentAnimateTimings,kt=lt.duration;return Se.forEach((It,Vt)=>{const mn=ct>0?Vt==dt?1:ct*Vt:w[Vt],Ht=mn*kt;a.currentTime=nt+lt.delay+Ht,lt.duration=Ht,this._validateStyleAst(It,a),It.offset=mn,u.styles.push(It)}),u}visitReference(i,a){return{type:Pt.Reference,animation:Va(this,Lu(i.animation),a),options:vs(i.options)}}visitAnimateChild(i,a){return a.depCount++,{type:Pt.AnimateChild,options:vs(i.options)}}visitAnimateRef(i,a){return{type:Pt.AnimateRef,animation:this.visitReference(i.animation,a),options:vs(i.options)}}visitQuery(i,a){const u=a.currentQuerySelector,d=i.options||{};a.queryCount++,a.currentQuery=i;const[y,w]=function mp(s){const i=!!s.split(/\s*,\s*/).find(a=>":self"==a);return i&&(s=s.replace(dp,"")),s=s.replace(/@\*/g,ms).replace(/@\w+/g,a=>ms+"-"+a.slice(1)).replace(/:animating/g,ip),[s,i]}(i.selector);a.currentQuerySelector=u.length?u+" "+y:y,li(a.collectedStyles,a.currentQuerySelector,new Map);const x=Va(this,Lu(i.animation),a);return a.currentQuery=null,a.currentQuerySelector=u,{type:Pt.Query,selector:y,limit:d.limit||0,optional:!!d.optional,includeSelf:w,animation:x,originalSelector:i.selector,options:vs(i.options)}}visitStagger(i,a){a.currentQuery||a.errors.push(function Ff(){return new O.buA(3013,!1)}());const u="full"===i.timings?{duration:0,delay:0,easing:"full"}:ps(i.timings,a.errors,!0);return{type:Pt.Stagger,animation:Va(this,Lu(i.animation),a),timings:u,options:null}}}class Wu{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}}function vs(s){return s?(s={...s}).params&&(s.params=function sd(s){return s?{...s}:null}(s.params)):s={},s}function ld(s,i,a){return{duration:s,delay:i,easing:a}}function ud(s,i,a,u,d,y,w=null,x=!1){return{type:1,element:s,keyframes:i,preStyleProps:a,postStyleProps:u,duration:d,delay:y,totalTime:d+y,easing:w,subTimeline:x}}class zu{_map=new Map;get(i){return this._map.get(i)||[]}append(i,a){let u=this._map.get(i);u||this._map.set(i,u=[]),u.push(...a)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const pp=new RegExp(":enter","g"),uy=new RegExp(":leave","g");function gs(s,i,a,u,d,y=new Map,w=new Map,x,W,ee=[]){return(new Ku).buildKeyframes(s,i,a,u,d,y,w,x,W,ee)}class Ku{buildKeyframes(i,a,u,d,y,w,x,W,ee,Se=[]){ee=ee||new zu;const Ve=new md(i,a,ee,d,y,Se,[]);Ve.options=W;const ct=W.delay?ui(W.delay):0;Ve.currentTimeline.delayNextStep(ct),Ve.currentTimeline.setStyles([w],null,Ve.errors,W),Va(this,u,Ve);const dt=Ve.timelines.filter(nt=>nt.containsAnimation());if(dt.length&&x.size){let nt;for(let lt=dt.length-1;lt>=0;lt--){const kt=dt[lt];if(kt.element===a){nt=kt;break}}nt&&!nt.allowOnlyTimelineStyles()&&nt.setStyles([x],null,Ve.errors,W)}return dt.length?dt.map(nt=>nt.buildKeyframes()):[ud(a,[],[],[],0,ct,"",!1)]}visitTrigger(i,a){}visitState(i,a){}visitTransition(i,a){}visitAnimateChild(i,a){const u=a.subInstructions.get(a.element);if(u){const d=a.createSubContext(i.options),y=a.currentTimeline.currentTime,w=this._visitSubInstructions(u,d,d.options);y!=w&&a.transformIntoNewTimeline(w)}a.previousNode=i}visitAnimateRef(i,a){const u=a.createSubContext(i.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],a,u),this.visitReference(i.animation,u),a.transformIntoNewTimeline(u.currentTimeline.currentTime),a.previousNode=i}_applyAnimationRefDelays(i,a,u){for(const d of i){const y=d?.delay;if(y){const w="number"==typeof y?y:ui(bl(y,d?.params??{},a.errors));u.delayNextStep(w)}}}_visitSubInstructions(i,a,u){let y=a.currentTimeline.currentTime;const w=null!=u.duration?ui(u.duration):null,x=null!=u.delay?ui(u.delay):null;return 0!==w&&i.forEach(W=>{const ee=a.appendInstructionToTimeline(W,w,x);y=Math.max(y,ee.duration+ee.delay)}),y}visitReference(i,a){a.updateOptions(i.options,!0),Va(this,i.animation,a),a.previousNode=i}visitSequence(i,a){const u=a.subContextCount;let d=a;const y=i.options;if(y&&(y.params||y.delay)&&(d=a.createSubContext(y),d.transformIntoNewTimeline(),null!=y.delay)){d.previousNode.type==Pt.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=dd);const w=ui(y.delay);d.delayNextStep(w)}i.steps.length&&(i.steps.forEach(w=>Va(this,w,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>u&&d.transformIntoNewTimeline()),a.previousNode=i}visitGroup(i,a){const u=[];let d=a.currentTimeline.currentTime;const y=i.options&&i.options.delay?ui(i.options.delay):0;i.steps.forEach(w=>{const x=a.createSubContext(i.options);y&&x.delayNextStep(y),Va(this,w,x),d=Math.max(d,x.currentTimeline.currentTime),u.push(x.currentTimeline)}),u.forEach(w=>a.currentTimeline.mergeTimelineCollectedStyles(w)),a.transformIntoNewTimeline(d),a.previousNode=i}_visitTiming(i,a){if(i.dynamic){const u=i.strValue;return ps(a.params?bl(u,a.params,a.errors):u,a.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,a){const u=a.currentAnimateTimings=this._visitTiming(i.timings,a),d=a.currentTimeline;u.delay&&(a.incrementTime(u.delay),d.snapshotCurrentStyles());const y=i.style;y.type==Pt.Keyframes?this.visitKeyframes(y,a):(a.incrementTime(u.duration),this.visitStyle(y,a),d.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=i}visitStyle(i,a){const u=a.currentTimeline,d=a.currentAnimateTimings;!d&&u.hasCurrentStyleProperties()&&u.forwardFrame();const y=d&&d.easing||i.easing;i.isEmptyStep?u.applyEmptyStep(y):u.setStyles(i.styles,y,a.errors,a.options),a.previousNode=i}visitKeyframes(i,a){const u=a.currentAnimateTimings,d=a.currentTimeline.duration,y=u.duration,x=a.createSubContext().currentTimeline;x.easing=u.easing,i.styles.forEach(W=>{x.forwardTime((W.offset||0)*y),x.setStyles(W.styles,W.easing,a.errors,a.options),x.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(x),a.transformIntoNewTimeline(d+y),a.previousNode=i}visitQuery(i,a){const u=a.currentTimeline.currentTime,d=i.options||{},y=d.delay?ui(d.delay):0;y&&(a.previousNode.type===Pt.Style||0==u&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=dd);let w=u;const x=a.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!d.optional,a.errors);a.currentQueryTotal=x.length;let W=null;x.forEach((ee,Se)=>{a.currentQueryIndex=Se;const Ve=a.createSubContext(i.options,ee);y&&Ve.delayNextStep(y),ee===a.element&&(W=Ve.currentTimeline),Va(this,i.animation,Ve),Ve.currentTimeline.applyStylesToKeyframe(),w=Math.max(w,Ve.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(w),W&&(a.currentTimeline.mergeTimelineCollectedStyles(W),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=i}visitStagger(i,a){const u=a.parentContext,d=a.currentTimeline,y=i.timings,w=Math.abs(y.duration),x=w*(a.currentQueryTotal-1);let W=w*a.currentQueryIndex;switch(y.duration<0?"reverse":y.easing){case"reverse":W=x-W;break;case"full":W=u.currentStaggerTime}const Se=a.currentTimeline;W&&Se.delayNextStep(W);const Ve=Se.currentTime;Va(this,i.animation,a),a.previousNode=i,u.currentStaggerTime=d.currentTime-Ve+(d.startTime-u.currentTimeline.startTime)}}const dd={};class md{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=dd;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,a,u,d,y,w,x,W){this._driver=i,this.element=a,this.subInstructions=u,this._enterClassName=d,this._leaveClassName=y,this.errors=w,this.timelines=x,this.currentTimeline=W||new Dl(this._driver,a,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,a){if(!i)return;const u=i;let d=this.options;null!=u.duration&&(d.duration=ui(u.duration)),null!=u.delay&&(d.delay=ui(u.delay));const y=u.params;if(y){let w=d.params;w||(w=this.options.params={}),Object.keys(y).forEach(x=>{(!a||!w.hasOwnProperty(x))&&(w[x]=bl(y[x],w,this.errors))})}}_copyOptions(){const i={};if(this.options){const a=this.options.params;if(a){const u=i.params={};Object.keys(a).forEach(d=>{u[d]=a[d]})}}return i}createSubContext(i=null,a,u){const d=a||this.element,y=new md(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,u||0));return y.previousNode=this.previousNode,y.currentAnimateTimings=this.currentAnimateTimings,y.options=this._copyOptions(),y.updateOptions(i),y.currentQueryIndex=this.currentQueryIndex,y.currentQueryTotal=this.currentQueryTotal,y.parentContext=this,this.subContextCount++,y}transformIntoNewTimeline(i){return this.previousNode=dd,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,a,u){const d={duration:a??i.duration,delay:this.currentTimeline.currentTime+(u??0)+i.delay,easing:""},y=new pd(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,d,i.stretchStartingKeyframe);return this.timelines.push(y),d}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,a,u,d,y,w){let x=[];if(d&&x.push(this.element),i.length>0){i=(i=i.replace(pp,"."+this._enterClassName)).replace(uy,"."+this._leaveClassName);let ee=this._driver.query(this.element,i,1!=u);0!==u&&(ee=u<0?ee.slice(ee.length+u,ee.length):ee.slice(0,u)),x.push(...ee)}return!y&&0==x.length&&w.push(function jf(){return new O.buA(3014,!1)}()),x}}class Dl{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,a,u,d){this._driver=i,this.element=a,this.startTime=u,this._elementTimelineStylesLookup=d,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+i),a&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,a){return this.applyStylesToKeyframe(),new Dl(this._driver,i,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,a){this._localTimelineStyles.set(i,a),this._globalTimelineStyles.set(i,a),this._styleSummary.set(i,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[a,u]of this._globalTimelineStyles)this._backFill.set(a,u||ki),this._currentKeyframe.set(a,ki);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,a,u,d){a&&this._previousKeyframe.set("easing",a);const y=d&&d.params||{},w=function yp(s,i){const a=new Map;let u;return s.forEach(d=>{if("*"===d){u??=i.keys();for(let y of u)a.set(y,ki)}else for(let[y,w]of d)a.set(y,w)}),a}(i,this._globalTimelineStyles);for(let[x,W]of w){const ee=bl(W,y,u);this._pendingStyles.set(x,ee),this._localTimelineStyles.has(x)||this._backFill.set(x,this._globalTimelineStyles.get(x)??ki),this._updateStyle(x,ee)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,a)=>{this._currentKeyframe.set(a,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,i)}))}snapshotCurrentStyles(){for(let[i,a]of this._localTimelineStyles)this._pendingStyles.set(i,a),this._updateStyle(i,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let a in this._currentKeyframe)i.push(a);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((a,u)=>{const d=this._styleSummary.get(u);(!d||a.time>d.time)&&this._updateStyle(u,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,a=new Set,u=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((x,W)=>{const ee=new Map([...this._backFill,...x]);ee.forEach((Se,Ve)=>{"!"===Se?i.add(Ve):Se===ki&&a.add(Ve)}),u||ee.set("offset",W/this.duration),d.push(ee)});const y=[...i.values()],w=[...a.values()];if(u){const x=d[0],W=new Map(x);x.set("offset",0),W.set("offset",1),d=[x,W]}return ud(this.element,d,y,w,this.duration,this.startTime,this.easing,!1)}}class pd extends Dl{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,a,u,d,y,w,x=!1){super(i,a,w.delay),this.keyframes=u,this.preStyleProps=d,this.postStyleProps=y,this._stretchStartingKeyframe=x,this.timings={duration:w.duration,delay:w.delay,easing:w.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:a,duration:u,easing:d}=this.timings;if(this._stretchStartingKeyframe&&a){const y=[],w=u+a,x=a/w,W=new Map(i[0]);W.set("offset",0),y.push(W);const ee=new Map(i[0]);ee.set("offset",fp(x)),y.push(ee);const Se=i.length-1;for(let Ve=1;Ve<=Se;Ve++){let ct=new Map(i[Ve]);const dt=ct.get("offset");ct.set("offset",fp((a+dt*u)/w)),y.push(ct)}u=w,a=0,d="",i=y}return ud(this.element,i,this.preStyleProps,this.postStyleProps,u,a,d,!0)}}function fp(s,i=3){const a=Math.pow(10,i-1);return Math.round(s*a)/a}function cy(s,i,a,u,d,y,w,x,W,ee,Se,Ve,ct){return{type:0,element:s,triggerName:i,isRemovalTransition:d,fromState:a,fromStyles:y,toState:u,toStyles:w,timelines:x,queriedElements:W,preStyleProps:ee,postStyleProps:Se,totalTime:Ve,errors:ct}}const vp={};class gp{_triggerName;ast;_stateStyles;constructor(i,a,u){this._triggerName=i,this.ast=a,this._stateStyles=u}match(i,a,u,d){return function _p(s,i,a,u,d){return s.some(y=>y(i,a,u,d))}(this.ast.matchers,i,a,u,d)}buildStyles(i,a,u){let d=this._stateStyles.get("*");return void 0!==i&&(d=this._stateStyles.get(i?.toString())||d),d?d.buildStyles(a,u):new Map}build(i,a,u,d,y,w,x,W,ee,Se){const Ve=[],ct=this.ast.options&&this.ast.options.params||vp,nt=this.buildStyles(u,x&&x.params||vp,Ve),lt=W&&W.params||vp,kt=this.buildStyles(d,lt,Ve),It=new Set,Vt=new Map,mn=new Map,Ht="void"===d,qn={params:my(lt,ct),delay:this.ast.options?.delay},Tn=Se?[]:gs(i,a,this.ast.animation,y,w,nt,kt,qn,ee,Ve);let Qn=0;return Tn.forEach(Vn=>{Qn=Math.max(Vn.duration+Vn.delay,Qn)}),Ve.length?cy(a,this._triggerName,u,d,Ht,nt,kt,[],[],Vt,mn,Qn,Ve):(Tn.forEach(Vn=>{const Di=Vn.element,eo=li(Vt,Di,new Set);Vn.preStyleProps.forEach(jo=>eo.add(jo));const Pd=li(mn,Di,new Set);Vn.postStyleProps.forEach(jo=>Pd.add(jo)),Di!==a&&It.add(Di)}),cy(a,this._triggerName,u,d,Ht,nt,kt,Tn,[...It.values()],Vt,mn,Qn))}}function my(s,i){const a={...i};return Object.entries(s).forEach(([u,d])=>{null!=d&&(a[u]=d)}),a}class bp{styles;defaultParams;normalizer;constructor(i,a,u){this.styles=i,this.defaultParams=a,this.normalizer=u}buildStyles(i,a){const u=new Map,d=my(i,this.defaultParams);return this.styles.styles.forEach(y=>{"string"!=typeof y&&y.forEach((w,x)=>{w&&(w=bl(w,d,a));const W=this.normalizer.normalizePropertyName(x,a);w=this.normalizer.normalizeStyleValue(x,W,w,a),u.set(x,w)})}),u}}class Vg{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,a,u){this.name=i,this.ast=a,this._normalizer=u,a.states.forEach(d=>{this.states.set(d.name,new bp(d.style,d.options&&d.options.params||{},u))}),hy(this.states,"true","1"),hy(this.states,"false","0"),a.transitions.forEach(d=>{this.transitionFactories.push(new gp(i,d,this.states))}),this.fallbackTransition=function $g(s,i){return new gp(s,{type:Pt.Transition,animation:{type:Pt.Sequence,steps:[],options:null},matchers:[(w,x)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,a,u,d){return this.transitionFactories.find(w=>w.match(i,a,u,d))||null}matchStyles(i,a,u){return this.fallbackTransition.buildStyles(i,a,u)}}function hy(s,i,a){s.has(i)?s.has(a)||s.set(a,s.get(i)):s.has(a)&&s.set(i,s.get(a))}const fy=new zu;class Hg{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,a,u){this.bodyNode=i,this._driver=a,this._normalizer=u}register(i,a){const u=[],y=Hu(this._driver,a,u,[]);if(u.length)throw function Lg(){return new O.buA(3503,!1)}();this._animations.set(i,y)}_buildPlayer(i,a,u){const d=i.element,y=Gf(this._normalizer,i.keyframes,a,u);return this._driver.animate(d,y,i.duration,i.delay,i.easing,[],!0)}create(i,a,u={}){const d=[],y=this._animations.get(i);let w;const x=new Map;if(y?(w=gs(this._driver,a,y,Us,td,new Map,new Map,u,fy,d),w.forEach(Se=>{const Ve=li(x,Se.element,new Map);Se.postStyleProps.forEach(ct=>Ve.set(ct,null))})):(d.push(function gl(){return new O.buA(3300,!1)}()),w=[]),d.length)throw function Uf(){return new O.buA(3504,!1)}();x.forEach((Se,Ve)=>{Se.forEach((ct,dt)=>{Se.set(dt,this._driver.computeStyle(Ve,dt,ki))})});const ee=yo(w.map(Se=>{const Ve=x.get(Se.element);return this._buildPlayer(Se,new Map,Ve)}));return this._playersById.set(i,ee),ee.onDestroy(()=>this.destroy(i)),this.players.push(ee),ee}destroy(i){const a=this._getPlayer(i);a.destroy(),this._playersById.delete(i);const u=this.players.indexOf(a);u>=0&&this.players.splice(u,1)}_getPlayer(i){const a=this._playersById.get(i);if(!a)throw function tp(){return new O.buA(3301,!1)}();return a}listen(i,a,u,d){const y=Bs(a,"","","");return Pu(this._getPlayer(i),u,y,d),()=>{}}command(i,a,u,d){if("register"==u)return void this.register(i,d[0]);if("create"==u)return void this.create(i,a,d[0]||{});const y=this._getPlayer(i);switch(u){case"play":y.play();break;case"pause":y.pause();break;case"reset":y.reset();break;case"restart":y.restart();break;case"finish":y.finish();break;case"init":y.init();break;case"setPosition":y.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(i)}}}const Gu="ng-animate-queued",hd="ng-animate-disabled",fd=[],qu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ua="__ng_removed";class Qu{namespaceId;value;options;get params(){return this.options.params}constructor(i,a=""){this.namespaceId=a;const u=i&&i.hasOwnProperty("value");if(this.value=function wy(s){return s??null}(u?i.value:i),u){const{value:y,...w}=i;this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const a=i.params;if(a){const u=this.options.params;Object.keys(a).forEach(d=>{null==u[d]&&(u[d]=a[d])})}}}const Al="void",wp=new Qu(Al);class _y{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,a,u){this.id=i,this.hostElement=a,this._engine=u,this._hostClassName="ng-tns-"+i,Ci(a,this._hostClassName)}listen(i,a,u,d){if(!this._triggers.has(a))throw function np(){return new O.buA(3302,!1)}();if(null==u||0==u.length)throw function Vf(){return new O.buA(3303,!1)}();if(!function Yu(s){return"start"==s||"done"==s}(u))throw function $f(){return new O.buA(3400,!1)}();const y=li(this._elementListeners,i,[]),w={name:a,phase:u,callback:d};y.push(w);const x=li(this._engine.statesByElement,i,new Map);return x.has(a)||(Ci(i,_l),Ci(i,_l+"-"+a),x.set(a,wp)),()=>{this._engine.afterFlush(()=>{const W=y.indexOf(w);W>=0&&y.splice(W,1),this._triggers.has(a)||x.delete(a)})}}register(i,a){return!this._triggers.has(i)&&(this._triggers.set(i,a),!0)}_getTrigger(i){const a=this._triggers.get(i);if(!a)throw function Hf(){return new O.buA(3401,!1)}();return a}trigger(i,a,u,d=!0){const y=this._getTrigger(a),w=new yd(this.id,a,i);let x=this._engine.statesByElement.get(i);x||(Ci(i,_l),Ci(i,_l+"-"+a),this._engine.statesByElement.set(i,x=new Map));let W=x.get(a);const ee=new Qu(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&W&&ee.absorbOptions(W.options),x.set(a,ee),W||(W=wp),ee.value!==Al&&W.value===ee.value){if(!function Ml(s,i){const a=Object.keys(s),u=Object.keys(i);if(a.length!=u.length)return!1;for(let d=0;d<a.length;d++){const y=a[d];if(!i.hasOwnProperty(y)||s[y]!==i[y])return!1}return!0}(W.params,ee.params)){const lt=[],kt=y.matchStyles(W.value,W.params,lt),It=y.matchStyles(ee.value,ee.params,lt);lt.length?this._engine.reportError(lt):this._engine.afterFlush(()=>{hs(i,kt),Yi(i,It)})}return}const ct=li(this._engine.playersByElement,i,[]);ct.forEach(lt=>{lt.namespaceId==this.id&&lt.triggerName==a&&lt.queued&&lt.destroy()});let dt=y.matchTransition(W.value,ee.value,i,ee.params),nt=!1;if(!dt){if(!d)return;dt=y.fallbackTransition,nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:dt,fromState:W,toState:ee,player:w,isFallbackTransition:nt}),nt||(Ci(i,Gu),w.onStart(()=>{bs(i,Gu)})),w.onDone(()=>{let lt=this.players.indexOf(w);lt>=0&&this.players.splice(lt,1);const kt=this._engine.playersByElement.get(i);if(kt){let It=kt.indexOf(w);It>=0&&kt.splice(It,1)}}),this.players.push(w),ct.push(w),w}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(a=>a.delete(i)),this._elementListeners.forEach((a,u)=>{this._elementListeners.set(u,a.filter(d=>d.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const a=this._engine.playersByElement.get(i);a&&(a.forEach(u=>u.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,a){const u=this._engine.driver.query(i,ms,!0);u.forEach(d=>{if(d[ua])return;const y=this._engine.fetchNamespacesByElement(d);y.size?y.forEach(w=>w.triggerLeaveAnimation(d,a,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(i,a,u,d){const y=this._engine.statesByElement.get(i),w=new Map;if(y){const x=[];if(y.forEach((W,ee)=>{if(w.set(ee,W.value),this._triggers.has(ee)){const Se=this.trigger(i,ee,Al,d);Se&&x.push(Se)}}),x.length)return this._engine.markElementAsRemoved(this.id,i,!0,a,w),u&&yo(x).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const a=this._elementListeners.get(i),u=this._engine.statesByElement.get(i);if(a&&u){const d=new Set;a.forEach(y=>{const w=y.name;if(d.has(w))return;d.add(w);const W=this._triggers.get(w).fallbackTransition,ee=u.get(w)||wp,Se=new Qu(Al),Ve=new yd(this.id,w,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:w,transition:W,fromState:ee,toState:Se,player:Ve,isFallbackTransition:!0})})}}removeNode(i,a){const u=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,a),this.triggerLeaveAnimation(i,a,!0))return;let d=!1;if(u.totalAnimations){const y=u.players.length?u.playersByQueriedElement.get(i):[];if(y&&y.length)d=!0;else{let w=i;for(;w=w.parentNode;)if(u.statesByElement.get(w)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(i),d)u.markElementAsRemoved(this.id,i,!1,a);else{const y=i[ua];(!y||y===qu)&&(u.afterFlush(()=>this.clearElementCache(i)),u.destroyInnerAnimations(i),u._onRemovalComplete(i,a))}}insertNode(i,a){Ci(i,this._hostClassName)}drainQueuedTransitions(i){const a=[];return this._queue.forEach(u=>{const d=u.player;if(d.destroyed)return;const y=u.element,w=this._elementListeners.get(y);w&&w.forEach(x=>{if(x.name==u.triggerName){const W=Bs(y,u.triggerName,u.fromState.value,u.toState.value);W._data=i,Pu(u.player,x.phase,W,x.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):a.push(u)}),this._queue=[],a.sort((u,d)=>{const y=u.transition.ast.depCount,w=d.transition.ast.depCount;return 0==y||0==w?y-w:this._engine.driver.containsElement(u.element,d.element)?1:-1})}destroy(i){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class by{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,a)=>{};_onRemovalComplete(i,a){this.onRemovalComplete(i,a)}constructor(i,a,u){this.bodyNode=i,this.driver=a,this._normalizer=u}get queuedPlayers(){const i=[];return this._namespaceList.forEach(a=>{a.players.forEach(u=>{u.queued&&i.push(u)})}),i}createNamespace(i,a){const u=new _y(i,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(u,a):(this.newHostElements.set(a,u),this.collectEnterElement(a)),this._namespaceLookup[i]=u}_balanceNamespaceList(i,a){const u=this._namespaceList,d=this.namespacesByHostElement;if(u.length-1>=0){let w=!1,x=this.driver.getParentElement(a);for(;x;){const W=d.get(x);if(W){const ee=u.indexOf(W);u.splice(ee+1,0,i),w=!0;break}x=this.driver.getParentElement(x)}w||u.unshift(i)}else u.push(i);return d.set(a,i),i}register(i,a){let u=this._namespaceLookup[i];return u||(u=this.createNamespace(i,a)),u}registerTrigger(i,a,u){let d=this._namespaceLookup[i];d&&d.register(a,u)&&this.totalAnimations++}destroy(i,a){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(i);this.namespacesByHostElement.delete(u.hostElement);const d=this._namespaceList.indexOf(u);d>=0&&this._namespaceList.splice(d,1),u.destroy(a),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const a=new Set,u=this.statesByElement.get(i);if(u)for(let d of u.values())if(d.namespaceId){const y=this._fetchNamespace(d.namespaceId);y&&a.add(y)}return a}trigger(i,a,u,d){if(Sl(a)){const y=this._fetchNamespace(i);if(y)return y.trigger(a,u,d),!0}return!1}insertNode(i,a,u,d){if(!Sl(a))return;const y=a[ua];if(y&&y.setForRemoval){y.setForRemoval=!1,y.setForMove=!0;const w=this.collectedLeaveElements.indexOf(a);w>=0&&this.collectedLeaveElements.splice(w,1)}if(i){const w=this._fetchNamespace(i);w&&w.insertNode(a,u)}d&&this.collectEnterElement(a)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,a){a?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ci(i,hd)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),bs(i,hd))}removeNode(i,a,u){if(Sl(a)){const d=i?this._fetchNamespace(i):null;d?d.removeNode(a,u):this.markElementAsRemoved(i,a,!1,u);const y=this.namespacesByHostElement.get(a);y&&y.id!==i&&y.removeNode(a,u)}else this._onRemovalComplete(a,u)}markElementAsRemoved(i,a,u,d,y){this.collectedLeaveElements.push(a),a[ua]={namespaceId:i,setForRemoval:d,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:y}}listen(i,a,u,d,y){return Sl(a)?this._fetchNamespace(i).listen(a,u,d,y):()=>{}}_buildInstruction(i,a,u,d,y){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,u,d,i.fromState.options,i.toState.options,a,y)}destroyInnerAnimations(i){let a=this.driver.query(i,ms,!0);a.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(i,ip,!0),a.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(i){const a=this.playersByElement.get(i);a&&a.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(i){const a=this.playersByQueriedElement.get(i);a&&a.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return yo(this.players).onDone(()=>i());i()})}processLeaveNode(i){const a=i[ua];if(a&&a.setForRemoval){if(i[ua]=qu,a.namespaceId){this.destroyInnerAnimations(i);const u=this._fetchNamespace(a.namespaceId);u&&u.clearElementCache(i)}this._onRemovalComplete(i,a.setForRemoval)}i.classList?.contains(hd)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(i=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,d)=>this._balanceNamespaceList(u,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Ci(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{a=this._flushAnimations(u,i)}finally{for(let d=0;d<u.length;d++)u[d]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],a.length?yo(a).onDone(()=>{u.forEach(d=>d())}):u.forEach(d=>d())}}reportError(i){throw function Wf(){return new O.buA(3402,!1)}()}_flushAnimations(i,a){const u=new zu,d=[],y=new Map,w=[],x=new Map,W=new Map,ee=new Map,Se=new Set;this.disabledNodes.forEach(Dt=>{Se.add(Dt);const Mt=this.driver.query(Dt,".ng-animate-queued",!0);for(let Nt=0;Nt<Mt.length;Nt++)Se.add(Mt[Nt])});const Ve=this.bodyNode,ct=Array.from(this.statesByElement.keys()),dt=kp(ct,this.collectedEnterElements),nt=new Map;let lt=0;dt.forEach((Dt,Mt)=>{const Nt=Us+lt++;nt.set(Mt,Nt),Dt.forEach(sn=>Ci(sn,Nt))});const kt=[],It=new Set,Vt=new Set;for(let Dt=0;Dt<this.collectedLeaveElements.length;Dt++){const Mt=this.collectedLeaveElements[Dt],Nt=Mt[ua];Nt&&Nt.setForRemoval&&(kt.push(Mt),It.add(Mt),Nt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(sn=>It.add(sn)):Vt.add(Mt))}const mn=new Map,Ht=kp(ct,Array.from(It));Ht.forEach((Dt,Mt)=>{const Nt=td+lt++;mn.set(Mt,Nt),Dt.forEach(sn=>Ci(sn,Nt))}),i.push(()=>{dt.forEach((Dt,Mt)=>{const Nt=nt.get(Mt);Dt.forEach(sn=>bs(sn,Nt))}),Ht.forEach((Dt,Mt)=>{const Nt=mn.get(Mt);Dt.forEach(sn=>bs(sn,Nt))}),kt.forEach(Dt=>{this.processLeaveNode(Dt)})});const qn=[],Tn=[];for(let Dt=this._namespaceList.length-1;Dt>=0;Dt--)this._namespaceList[Dt].drainQueuedTransitions(a).forEach(Nt=>{const sn=Nt.player,hr=Nt.element;if(qn.push(sn),this.collectedEnterElements.length){const da=hr[ua];if(da&&da.setForMove){if(da.previousTriggersValues&&da.previousTriggersValues.has(Nt.triggerName)){const Cs=da.previousTriggersValues.get(Nt.triggerName),di=this.statesByElement.get(Nt.element);if(di&&di.has(Nt.triggerName)){const jl=di.get(Nt.triggerName);jl.value=Cs,di.set(Nt.triggerName,jl)}}return void sn.destroy()}}const to=!Ve||!this.driver.containsElement(Ve,hr),ci=mn.get(hr),Bo=nt.get(hr),Xn=this._buildInstruction(Nt,u,Bo,ci,to);if(Xn.errors&&Xn.errors.length)return void Tn.push(Xn);if(to)return sn.onStart(()=>hs(hr,Xn.fromStyles)),sn.onDestroy(()=>Yi(hr,Xn.toStyles)),void d.push(sn);if(Nt.isFallbackTransition)return sn.onStart(()=>hs(hr,Xn.fromStyles)),sn.onDestroy(()=>Yi(hr,Xn.toStyles)),void d.push(sn);const dh=[];Xn.timelines.forEach(da=>{da.stretchStartingKeyframe=!0,this.disabledNodes.has(da.element)||dh.push(da)}),Xn.timelines=dh,u.append(hr,Xn.timelines),w.push({instruction:Xn,player:sn,element:hr}),Xn.queriedElements.forEach(da=>li(x,da,[]).push(sn)),Xn.preStyleProps.forEach((da,Cs)=>{if(da.size){let di=W.get(Cs);di||W.set(Cs,di=new Set),da.forEach((jl,Bl)=>di.add(Bl))}}),Xn.postStyleProps.forEach((da,Cs)=>{let di=ee.get(Cs);di||ee.set(Cs,di=new Set),da.forEach((jl,Bl)=>di.add(Bl))})});if(Tn.length){const Dt=[];Tn.forEach(Mt=>{Dt.push(function zf(){return new O.buA(3505,!1)}())}),qn.forEach(Mt=>Mt.destroy()),this.reportError(Dt)}const Qn=new Map,Vn=new Map;w.forEach(Dt=>{const Mt=Dt.element;u.has(Mt)&&(Vn.set(Mt,Mt),this._beforeAnimationBuild(Dt.player.namespaceId,Dt.instruction,Qn))}),d.forEach(Dt=>{const Mt=Dt.element;this._getPreviousPlayers(Mt,!1,Dt.namespaceId,Dt.triggerName,null).forEach(sn=>{li(Qn,Mt,[]).push(sn),sn.destroy()})});const Di=kt.filter(Dt=>Tp(Dt,W,ee)),eo=new Map;Ep(eo,this.driver,Vt,ee,ki).forEach(Dt=>{Tp(Dt,W,ee)&&Di.push(Dt)});const jo=new Map;dt.forEach((Dt,Mt)=>{Ep(jo,this.driver,new Set(Dt),W,"!")}),Di.forEach(Dt=>{const Mt=eo.get(Dt),Nt=jo.get(Dt);eo.set(Dt,new Map([...Mt?.entries()??[],...Nt?.entries()??[]]))});const zs=[],uh=[],ch={};w.forEach(Dt=>{const{element:Mt,player:Nt,instruction:sn}=Dt;if(u.has(Mt)){if(Se.has(Mt))return Nt.onDestroy(()=>Yi(Mt,sn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(sn.totalTime),void d.push(Nt);let hr=ch;if(Vn.size>1){let ci=Mt;const Bo=[];for(;ci=ci.parentNode;){const Xn=Vn.get(ci);if(Xn){hr=Xn;break}Bo.push(ci)}Bo.forEach(Xn=>Vn.set(Xn,hr))}const to=this._buildAnimation(Nt.namespaceId,sn,Qn,y,jo,eo);if(Nt.setRealPlayer(to),hr===ch)zs.push(Nt);else{const ci=this.playersByElement.get(hr);ci&&ci.length&&(Nt.parentPlayer=yo(ci)),d.push(Nt)}}else hs(Mt,sn.fromStyles),Nt.onDestroy(()=>Yi(Mt,sn.toStyles)),uh.push(Nt),Se.has(Mt)&&d.push(Nt)}),uh.forEach(Dt=>{const Mt=y.get(Dt.element);if(Mt&&Mt.length){const Nt=yo(Mt);Dt.setRealPlayer(Nt)}}),d.forEach(Dt=>{Dt.parentPlayer?Dt.syncPlayerEvents(Dt.parentPlayer):Dt.destroy()});for(let Dt=0;Dt<kt.length;Dt++){const Mt=kt[Dt],Nt=Mt[ua];if(bs(Mt,td),Nt&&Nt.hasAnimation)continue;let sn=[];if(x.size){let to=x.get(Mt);to&&to.length&&sn.push(...to);let ci=this.driver.query(Mt,ip,!0);for(let Bo=0;Bo<ci.length;Bo++){let Xn=x.get(ci[Bo]);Xn&&Xn.length&&sn.push(...Xn)}}const hr=sn.filter(to=>!to.destroyed);hr.length?Cp(this,Mt,hr):this.processLeaveNode(Mt)}return kt.length=0,zs.forEach(Dt=>{this.players.push(Dt),Dt.onDone(()=>{Dt.destroy();const Mt=this.players.indexOf(Dt);this.players.splice(Mt,1)}),Dt.play()}),zs}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,a,u,d,y){let w=[];if(a){const x=this.playersByQueriedElement.get(i);x&&(w=x)}else{const x=this.playersByElement.get(i);if(x){const W=!y||y==Al;x.forEach(ee=>{ee.queued||!W&&ee.triggerName!=d||w.push(ee)})}}return(u||d)&&(w=w.filter(x=>!(u&&u!=x.namespaceId||d&&d!=x.triggerName))),w}_beforeAnimationBuild(i,a,u){const y=a.element,w=a.isRemovalTransition?void 0:i,x=a.isRemovalTransition?void 0:a.triggerName;for(const W of a.timelines){const ee=W.element,Se=ee!==y,Ve=li(u,ee,[]);this._getPreviousPlayers(ee,Se,w,x,a.toState).forEach(dt=>{const nt=dt.getRealPlayer();nt.beforeDestroy&&nt.beforeDestroy(),dt.destroy(),Ve.push(dt)})}hs(y,a.fromStyles)}_buildAnimation(i,a,u,d,y,w){const x=a.triggerName,W=a.element,ee=[],Se=new Set,Ve=new Set,ct=a.timelines.map(nt=>{const lt=nt.element;Se.add(lt);const kt=lt[ua];if(kt&&kt.removedBeforeQueried)return new Su(nt.duration,nt.delay);const It=lt!==W,Vt=function Wg(s){const i=[];return Dp(s,i),i}((u.get(lt)||fd).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===lt),mn=y.get(lt),Ht=w.get(lt),qn=Gf(this._normalizer,nt.keyframes,mn,Ht),Tn=this._buildPlayer(nt,qn,Vt);if(nt.subTimeline&&d&&Ve.add(lt),It){const Qn=new yd(i,x,lt);Qn.setRealPlayer(Tn),ee.push(Qn)}return Tn});ee.forEach(nt=>{li(this.playersByQueriedElement,nt.element,[]).push(nt),nt.onDone(()=>function Xu(s,i,a){let u=s.get(i);if(u){if(u.length){const d=u.indexOf(a);u.splice(d,1)}0==u.length&&s.delete(i)}return u}(this.playersByQueriedElement,nt.element,nt))}),Se.forEach(nt=>Ci(nt,Jf));const dt=yo(ct);return dt.onDestroy(()=>{Se.forEach(nt=>bs(nt,Jf)),Yi(W,a.toStyles)}),Ve.forEach(nt=>{li(d,nt,[]).push(dt)}),dt}_buildPlayer(i,a,u){return a.length>0?this.driver.animate(i.element,a,i.duration,i.delay,i.easing,u):new Su(i.duration,i.delay)}}class yd{namespaceId;triggerName;element;_player=new Su;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,a,u){this.namespaceId=i,this.triggerName=a,this.element=u}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((a,u)=>{a.forEach(d=>Pu(i,u,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const a=this._player;a.triggerCallback&&i.onStart(()=>a.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,a){li(this._queuedCallbacks,i,[]).push(a)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const a=this._player;a.triggerCallback&&a.triggerCallback(i)}}function Sl(s){return s&&1===s.nodeType}function Il(s,i){const a=s.style.display;return s.style.display=i??"none",a}function Ep(s,i,a,u,d){const y=[];a.forEach(W=>y.push(Il(W)));const w=[];u.forEach((W,ee)=>{const Se=new Map;W.forEach(Ve=>{const ct=i.computeStyle(ee,Ve,d);Se.set(Ve,ct),(!ct||0==ct.length)&&(ee[ua]=gy,w.push(ee))}),s.set(ee,Se)});let x=0;return a.forEach(W=>Il(W,y[x++])),w}function kp(s,i){const a=new Map;if(s.forEach(x=>a.set(x,[])),0==i.length)return a;const d=new Set(i),y=new Map;function w(x){if(!x)return 1;let W=y.get(x);if(W)return W;const ee=x.parentNode;return W=a.has(ee)?ee:d.has(ee)?1:w(ee),y.set(x,W),W}return i.forEach(x=>{const W=w(x);1!==W&&a.get(W).push(x)}),a}function Ci(s,i){s.classList?.add(i)}function bs(s,i){s.classList?.remove(i)}function Cp(s,i,a){yo(a).onDone(()=>s.processLeaveNode(i))}function Dp(s,i){for(let a=0;a<s.length;a++){const u=s[a];u instanceof Ym?Dp(u.players,i):i.push(u)}}function Tp(s,i,a){const u=a.get(s);if(!u)return!1;let d=i.get(s);return d?u.forEach(y=>d.add(y)):i.set(s,u),a.delete(s),!0}class Vs{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,a)=>{};constructor(i,a,u){this._driver=a,this._normalizer=u,this._transitionEngine=new by(i.body,a,u),this._timelineEngine=new Hg(i.body,a,u),this._transitionEngine.onRemovalComplete=(d,y)=>this.onRemovalComplete(d,y)}registerTrigger(i,a,u,d,y){const w=i+"-"+d;let x=this._triggerCache[w];if(!x){const W=[],Se=Hu(this._driver,y,W,[]);if(W.length)throw function ls(){return new O.buA(3404,!1)}();x=function py(s,i,a){return new Vg(s,i,a)}(d,Se,this._normalizer),this._triggerCache[w]=x}this._transitionEngine.registerTrigger(a,d,x)}register(i,a){this._transitionEngine.register(i,a)}destroy(i,a){this._transitionEngine.destroy(i,a)}onInsert(i,a,u,d){this._transitionEngine.insertNode(i,a,u,d)}onRemove(i,a,u){this._transitionEngine.removeNode(i,a,u)}disableAnimations(i,a){this._transitionEngine.markElementAsDisabled(i,a)}process(i,a,u,d){if("@"==u.charAt(0)){const[y,w]=qf(u);this._timelineEngine.command(y,a,w,d)}else this._transitionEngine.trigger(i,a,u,d)}listen(i,a,u,d,y){if("@"==u.charAt(0)){const[w,x]=qf(u);return this._timelineEngine.listen(w,a,x,y)}return this._transitionEngine.listen(i,a,u,d,y)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let Ap=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(a,u,d){this._element=a,this._startStyles=u,this._endStyles=d;let y=s.initialStylesByElement.get(a);y||s.initialStylesByElement.set(a,y=new Map),this._initialStyles=y}start(){this._state<1&&(this._startStyles&&Yi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yi(this._element,this._initialStyles),this._endStyles&&(Yi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(hs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hs(this._element,this._endStyles),this._endStyles=null),Yi(this._element,this._initialStyles),this._state=3)}}return s})();function Ju(s){let i=null;return s.forEach((a,u)=>{(function ky(s){return"display"===s||"position"===s})(u)&&(i=i||new Map,i.set(u,a))}),i}class vd{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,a,u,d){this.element=i,this.keyframes=a,this.options=u,this._specialStyles=d,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const i=this.keyframes,a=this._triggerWebAnimation(this.element,i,this.options);if(!a)return this._onFinish(),null;this.domPlayer=a,this._finalKeyframe=i.length?i[i.length-1]:new Map;const u=()=>this._onFinish();return a.addEventListener("finish",u),this.onDestroy(()=>{a.removeEventListener("finish",u)}),a}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(i){const a=[];return i.forEach(u=>{a.push(Object.fromEntries(u))}),a}_triggerWebAnimation(i,a,u){const d=this._convertKeyframesToObject(a);try{return i.animate(d,u)}catch{return null}}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){const i=this._buildPlayer();i&&(this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),i.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=i*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,d)=>{"offset"!==d&&i.set(d,this._finished?u:fs(this.element,d))}),this.currentSnapshot=i}triggerCallback(i){const a="start"===i?this._onStartFns:this._onDoneFns;a.forEach(u=>u()),a.length=0}}class Sp{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,a){return cs(i,a)}getParentElement(i){return Nu(i)}query(i,a,u){return Zc(i,a,u)}computeStyle(i,a,u){return fs(i,a)}animate(i,a,u,d,y,w=[]){const W={duration:u,delay:d,fill:0==d?"both":"forwards"};y&&(W.easing=y);const ee=new Map,Se=w.filter(dt=>dt instanceof vd);(function ad(s,i){return 0===s||0===i})(u,d)&&Se.forEach(dt=>{dt.currentSnapshot.forEach((nt,lt)=>ee.set(lt,nt))});let Ve=function Fg(s){return s.length?s[0]instanceof Map?s:s.map(i=>new Map(Object.entries(i))):[]}(a).map(dt=>new Map(dt));Ve=function ju(s,i,a){if(a.size&&i.length){let u=i[0],d=[];if(a.forEach((y,w)=>{u.has(w)||d.push(w),u.set(w,y)}),d.length)for(let y=1;y<i.length;y++){let w=i[y];d.forEach(x=>w.set(x,fs(s,x)))}}return i}(i,Ve,ee);const ct=function Ey(s,i){let a=null,u=null;return Array.isArray(i)&&i.length?(a=Ju(i[0]),i.length>1&&(u=Ju(i[i.length-1]))):i instanceof Map&&(a=Ju(i)),a||u?new Ap(s,a,u):null}(i,Ve);return new vd(i,Ve,W,ct)}}const Mp="@.disabled";class xp{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,a,u,d){this.namespaceId=i,this.delegate=a,this.engine=u,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,a){return this.delegate.createElement(i,a)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,a){this.delegate.appendChild(i,a),this.engine.onInsert(this.namespaceId,a,i,!1)}insertBefore(i,a,u,d=!0){this.delegate.insertBefore(i,a,u),this.engine.onInsert(this.namespaceId,a,i,d)}removeChild(i,a,u,d){d?this.delegate.removeChild(i,a,u,d):this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(i,a){return this.delegate.selectRootElement(i,a)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,a,u,d){this.delegate.setAttribute(i,a,u,d)}removeAttribute(i,a,u){this.delegate.removeAttribute(i,a,u)}addClass(i,a){this.delegate.addClass(i,a)}removeClass(i,a){this.delegate.removeClass(i,a)}setStyle(i,a,u,d){this.delegate.setStyle(i,a,u,d)}removeStyle(i,a,u){this.delegate.removeStyle(i,a,u)}setProperty(i,a,u){"@"==a.charAt(0)&&a==Mp?this.disableAnimations(i,!!u):this.delegate.setProperty(i,a,u)}setValue(i,a){this.delegate.setValue(i,a)}listen(i,a,u,d){return this.delegate.listen(i,a,u,d)}disableAnimations(i,a){this.engine.disableAnimations(i,a)}}class _d extends xp{factory;constructor(i,a,u,d,y){super(a,u,d,y),this.factory=i,this.namespaceId=a}setProperty(i,a,u){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Mp?this.disableAnimations(i,u=void 0===u||!!u):this.engine.process(this.namespaceId,i,a.slice(1),u):this.delegate.setProperty(i,a,u)}listen(i,a,u,d){if("@"==a.charAt(0)){const y=function ws(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(i);let w=a.slice(1),x="";return"@"!=w.charAt(0)&&([w,x]=function ec(s){const i=s.indexOf(".");return[s.substring(0,i),s.slice(i+1)]}(w)),this.engine.listen(this.namespaceId,y,w,x,W=>{this.factory.scheduleListenerCallback(W._data||-1,u,W)})}return this.delegate.listen(i,a,u,d)}}class Rp{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,a,u){this.delegate=i,this.engine=a,this._zone=u,a.onRemovalComplete=(d,y)=>{y?.removeChild(null,d)}}createRenderer(i,a){const d=this.delegate.createRenderer(i,a);if(!i||!a?.data?.animation){const ee=this._rendererCache;let Se=ee.get(d);return Se||(Se=new xp("",d,this.engine,()=>ee.delete(d)),ee.set(d,Se)),Se}const y=a.id,w=a.id+"-"+this._currentId;this._currentId++,this.engine.register(w,i);const x=ee=>{Array.isArray(ee)?ee.forEach(x):this.engine.registerTrigger(y,w,i,ee.name,ee)};return a.data.animation.forEach(x),new _d(this,w,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,a,u){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>a(u));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(y=>{const[w,x]=y;w(x)}),this._animationCallbacksBuffer=[]})}),d.push([a,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}}const Rl=[{provide:id,useFactory:()=>new Sp},{provide:ge.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:ys,useFactory:function Cy(){return new Po}},{provide:Vs,useClass:(()=>{class s extends Vs{constructor(a,u,d){super(a,u,d)}ngOnDestroy(){this.flush()}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL),O.KVO(id),O.KVO(ys))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:ge._9s,useFactory:function Dy(s,i,a){return new Rp(s,i,a)},deps:[Pr,Vs,ge.SKi]}]];V(467);class Pl{}class tc{}class Ui{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(a=>{const u=a.indexOf(":");if(u>0){const d=a.slice(0,u),y=a.slice(u+1).trim();this.addHeaderEntry(d,y)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((a,u)=>{this.addHeaderEntry(u,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([a,u])=>{this.setHeaderEntries(a,u)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const a=this.headers.get(i.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,a){return this.clone({name:i,value:a,op:"a"})}set(i,a){return this.clone({name:i,value:a,op:"s"})}delete(i,a){return this.clone({name:i,value:a,op:"d"})}maybeSetNormalizedName(i,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,i)}init(){this.lazyInit&&(this.lazyInit instanceof Ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(a=>{this.headers.set(a,i.headers.get(a)),this.normalizedNames.set(a,i.normalizedNames.get(a))})}clone(i){const a=new Ui;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Ui?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([i]),a}applyUpdate(i){const a=i.name.toLowerCase();switch(i.op){case"a":case"s":let u=i.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(i.name,a);const d=("a"===i.op?this.headers.get(a):void 0)||[];d.push(...u),this.headers.set(a,d);break;case"d":const y=i.value;if(y){let w=this.headers.get(a);if(!w)return;w=w.filter(x=>-1===y.indexOf(x)),0===w.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,w)}else this.headers.delete(a),this.normalizedNames.delete(a)}}addHeaderEntry(i,a){const u=i.toLowerCase();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(a):this.headers.set(u,[a])}setHeaderEntries(i,a){const u=(Array.isArray(a)?a:[a]).map(y=>y.toString()),d=i.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(i,d)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>i(this.normalizedNames.get(a),this.headers.get(a)))}}class Ty{encodeKey(i){return wd(i)}encodeValue(i){return wd(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Fp=/%(\d[a-f0-9])/gi,jp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wd(s){return encodeURIComponent(s).replace(Fp,(i,a)=>jp[a]??i)}function nc(s){return`${s}`}class Lo{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new Ty,i.fromString){if(i.fromObject)throw new O.buA(2805,!1);this.map=function Lp(s,i){const a=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(d=>{const y=d.indexOf("="),[w,x]=-1==y?[i.decodeKey(d),""]:[i.decodeKey(d.slice(0,y)),i.decodeValue(d.slice(y+1))],W=a.get(w)||[];W.push(x),a.set(w,W)}),a}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(a=>{const u=i.fromObject[a],d=Array.isArray(u)?u.map(nc):[nc(u)];this.map.set(a,d)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const a=this.map.get(i);return a?a[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,a){return this.clone({param:i,value:a,op:"a"})}appendAll(i){const a=[];return Object.keys(i).forEach(u=>{const d=i[u];Array.isArray(d)?d.forEach(y=>{a.push({param:u,value:y,op:"a"})}):a.push({param:u,value:d,op:"a"})}),this.clone(a)}set(i,a){return this.clone({param:i,value:a,op:"s"})}delete(i,a){return this.clone({param:i,value:a,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const a=this.encoder.encodeKey(i);return this.map.get(i).map(u=>a+"="+this.encoder.encodeValue(u)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const a=new Lo({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(i),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const a=("a"===i.op?this.map.get(i.param):void 0)||[];a.push(nc(i.value)),this.map.set(i.param,a);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let u=this.map.get(i.param)||[];const d=u.indexOf(nc(i.value));-1!==d&&u.splice(d,1),u.length>0?this.map.set(i.param,u):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Ay{map=new Map;set(i,a){return this.map.set(i,a),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function Iy(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function rc(s){return typeof Blob<"u"&&s instanceof Blob}function ac(s){return typeof FormData<"u"&&s instanceof FormData}const Es="Content-Type",Ed="X-Request-URL",kd="text/plain",Up="application/json",Vi=`${Up}, ${kd}, */*`;class vo{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(i,a,u,d){let y;if(this.url=a,this.method=i.toUpperCase(),function Sy(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==u?u:null,y=d):y=u,y){if(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,this.keepalive=!!y.keepalive,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),y.priority&&(this.priority=y.priority),y.cache&&(this.cache=y.cache),y.credentials&&(this.credentials=y.credentials),"number"==typeof y.timeout){if(y.timeout<1||!Number.isInteger(y.timeout))throw new O.buA(2822,"");this.timeout=y.timeout}y.mode&&(this.mode=y.mode),y.redirect&&(this.redirect=y.redirect),y.integrity&&(this.integrity=y.integrity),y.referrer&&(this.referrer=y.referrer),this.transferCache=y.transferCache}if(this.headers??=new Ui,this.context??=new Ay,this.params){const w=this.params.toString();if(0===w.length)this.urlWithParams=a;else{const x=a.indexOf("?");this.urlWithParams=a+(-1===x?"?":x<a.length-1?"&":"")+w}}else this.params=new Lo,this.urlWithParams=a}serializeBody(){return null===this.body?null:"string"==typeof this.body||Iy(this.body)||rc(this.body)||ac(this.body)||function Bp(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Lo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ac(this.body)?null:rc(this.body)?this.body.type||null:Iy(this.body)?null:"string"==typeof this.body?kd:this.body instanceof Lo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Up:null}clone(i={}){const a=i.method||this.method,u=i.url||this.url,d=i.responseType||this.responseType,y=i.keepalive??this.keepalive,w=i.priority||this.priority,x=i.cache||this.cache,W=i.mode||this.mode,ee=i.redirect||this.redirect,Se=i.credentials||this.credentials,Ve=i.referrer||this.referrer,ct=i.integrity||this.integrity,dt=i.transferCache??this.transferCache,nt=i.timeout??this.timeout,lt=void 0!==i.body?i.body:this.body,kt=i.withCredentials??this.withCredentials,It=i.reportProgress??this.reportProgress;let Vt=i.headers||this.headers,mn=i.params||this.params;const Ht=i.context??this.context;return void 0!==i.setHeaders&&(Vt=Object.keys(i.setHeaders).reduce((qn,Tn)=>qn.set(Tn,i.setHeaders[Tn]),Vt)),i.setParams&&(mn=Object.keys(i.setParams).reduce((qn,Tn)=>qn.set(Tn,i.setParams[Tn]),mn)),new vo(a,u,lt,{params:mn,headers:Vt,context:Ht,reportProgress:It,responseType:d,withCredentials:kt,transferCache:dt,keepalive:y,cache:x,priority:w,timeout:nt,mode:W,redirect:ee,credentials:Se,referrer:Ve,integrity:ct})}}var un=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(un||{});class go{headers;status;statusText;url;ok;type;redirected;constructor(i,a=200,u="OK"){this.headers=i.headers||new Ui,this.status=void 0!==i.status?i.status:a,this.statusText=i.statusText||u,this.url=i.url||null,this.redirected=i.redirected,this.ok=this.status>=200&&this.status<300}}class ks extends go{constructor(i={}){super(i)}type=un.ResponseHeader;clone(i={}){return new ks({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ca extends go{body;constructor(i={}){super(i),this.body=void 0!==i.body?i.body:null}type=un.Response;clone(i={}){return new ca({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0,redirected:i.redirected??this.redirected})}}class $i extends go{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Dd(s,i){return{body:i,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,credentials:s.credentials,transferCache:s.transferCache,timeout:s.timeout,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect,integrity:s.integrity,referrer:s.referrer}}let $p=(()=>{class s{handler;constructor(a){this.handler=a}request(a,u,d={}){let y;if(a instanceof vo)y=a;else{let W,ee;W=d.headers instanceof Ui?d.headers:new Ui(d.headers),d.params&&(ee=d.params instanceof Lo?d.params:new Lo({fromObject:d.params})),y=new vo(a,u,void 0!==d.body?d.body:null,{headers:W,context:d.context,params:ee,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache,keepalive:d.keepalive,priority:d.priority,cache:d.cache,mode:d.mode,redirect:d.redirect,credentials:d.credentials,referrer:d.referrer,integrity:d.integrity,timeout:d.timeout})}const w=se(y).pipe(bi(W=>this.handler.handle(W)));if(a instanceof vo||"events"===d.observe)return w;const x=w.pipe((0,Cr.p)(W=>W instanceof ca));switch(d.observe||"body"){case"body":switch(y.responseType){case"arraybuffer":return x.pipe((0,Ot.T)(W=>{if(null!==W.body&&!(W.body instanceof ArrayBuffer))throw new O.buA(2806,!1);return W.body}));case"blob":return x.pipe((0,Ot.T)(W=>{if(null!==W.body&&!(W.body instanceof Blob))throw new O.buA(2807,!1);return W.body}));case"text":return x.pipe((0,Ot.T)(W=>{if(null!==W.body&&"string"!=typeof W.body)throw new O.buA(2808,!1);return W.body}));default:return x.pipe((0,Ot.T)(W=>W.body))}case"response":return x;default:throw new O.buA(2809,!1)}}delete(a,u={}){return this.request("DELETE",a,u)}get(a,u={}){return this.request("GET",a,u)}head(a,u={}){return this.request("HEAD",a,u)}jsonp(a,u){return this.request("JSONP",a,{params:(new Lo).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,u={}){return this.request("OPTIONS",a,u)}patch(a,u,d={}){return this.request("PATCH",a,Dd(d,u))}post(a,u,d={}){return this.request("POST",a,Dd(d,u))}put(a,u,d={}){return this.request("PUT",a,Dd(d,u))}static \u0275fac=function(u){return new(u||s)(O.KVO(Pl))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const Nl=new O.nKC("");function zp(s,i){return i(s)}const Ll=new O.nKC(""),Py=new O.nKC(""),Ny=new O.nKC("",{providedIn:"root",factory:()=>!0});let Gp=(()=>{class s extends Pl{backend;injector;chain=null;pendingTasks=(0,O.WQX)(O.u5s);contributeToStability=(0,O.WQX)(Ny);constructor(a,u){super(),this.backend=a,this.injector=u}handle(a){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(Ll),...this.injector.get(Py,[])]));this.chain=u.reduceRight((d,y)=>function qg(s,i,a){return(u,d)=>(0,O.N4e)(a,()=>i(u,y=>s(y,d)))}(d,y,this.injector),zp)}if(this.contributeToStability){const u=this.pendingTasks.add();return this.chain(a,d=>this.backend.handle(d)).pipe(mr(u))}return this.chain(a,u=>this.backend.handle(u))}static \u0275fac=function(u){return new(u||s)(O.KVO(tc),O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const Xp=/^\)\]\}',?\n/,Ad=RegExp(`^${Ed}:`,"m");let Sd=(()=>{class s{xhrFactory;constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new O.buA(-2800,!1);const u=this.xhrFactory;return se(null).pipe((0,Nn.n)(()=>new ar.c(y=>{const w=u.build();if(w.open(a.method,a.urlWithParams),a.withCredentials&&(w.withCredentials=!0),a.headers.forEach((kt,It)=>w.setRequestHeader(kt,It.join(","))),a.headers.has("Accept")||w.setRequestHeader("Accept",Vi),!a.headers.has(Es)){const kt=a.detectContentTypeHeader();null!==kt&&w.setRequestHeader(Es,kt)}if(a.timeout&&(w.timeout=a.timeout),a.responseType){const kt=a.responseType.toLowerCase();w.responseType="json"!==kt?kt:"text"}const x=a.serializeBody();let W=null;const ee=()=>{if(null!==W)return W;const kt=w.statusText||"OK",It=new Ui(w.getAllResponseHeaders()),Vt=function Yp(s){return"responseURL"in s&&s.responseURL?s.responseURL:Ad.test(s.getAllResponseHeaders())?s.getResponseHeader(Ed):null}(w)||a.url;return W=new ks({headers:It,status:w.status,statusText:kt,url:Vt}),W},Se=()=>{let{headers:kt,status:It,statusText:Vt,url:mn}=ee(),Ht=null;204!==It&&(Ht=typeof w.response>"u"?w.responseText:w.response),0===It&&(It=Ht?200:0);let qn=It>=200&&It<300;if("json"===a.responseType&&"string"==typeof Ht){const Tn=Ht;Ht=Ht.replace(Xp,"");try{Ht=""!==Ht?JSON.parse(Ht):null}catch(Qn){Ht=Tn,qn&&(qn=!1,Ht={error:Qn,text:Ht})}}qn?(y.next(new ca({body:Ht,headers:kt,status:It,statusText:Vt,url:mn||void 0})),y.complete()):y.error(new $i({error:Ht,headers:kt,status:It,statusText:Vt,url:mn||void 0}))},Ve=kt=>{const{url:It}=ee(),Vt=new $i({error:kt,status:w.status||0,statusText:w.statusText||"Unknown Error",url:It||void 0});y.error(Vt)};let ct=Ve;a.timeout&&(ct=kt=>{const{url:It}=ee(),Vt=new $i({error:new DOMException("Request timed out","TimeoutError"),status:w.status||0,statusText:w.statusText||"Request timeout",url:It||void 0});y.error(Vt)});let dt=!1;const nt=kt=>{dt||(y.next(ee()),dt=!0);let It={type:un.DownloadProgress,loaded:kt.loaded};kt.lengthComputable&&(It.total=kt.total),"text"===a.responseType&&w.responseText&&(It.partialText=w.responseText),y.next(It)},lt=kt=>{let It={type:un.UploadProgress,loaded:kt.loaded};kt.lengthComputable&&(It.total=kt.total),y.next(It)};return w.addEventListener("load",Se),w.addEventListener("error",Ve),w.addEventListener("timeout",ct),w.addEventListener("abort",Ve),a.reportProgress&&(w.addEventListener("progress",nt),null!==x&&w.upload&&w.upload.addEventListener("progress",lt)),w.send(x),y.next({type:un.Sent}),()=>{w.removeEventListener("error",Ve),w.removeEventListener("abort",Ve),w.removeEventListener("load",Se),w.removeEventListener("timeout",ct),a.reportProgress&&(w.removeEventListener("progress",nt),null!==x&&w.upload&&w.upload.removeEventListener("progress",lt)),w.readyState!==w.DONE&&w.abort()}})))}static \u0275fac=function(u){return new(u||s)(O.KVO(G))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const Fl=new O.nKC(""),Id=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Zp=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $y{}let Md=(()=>{class s{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(a,u){this.doc=a,this.cookieName=u}getToken(){const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=o(a,this.cookieName),this.lastCookieString=a),this.lastToken}static \u0275fac=function(u){return new(u||s)(O.KVO(O.qQL),O.KVO(Id))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();function xd(s,i){const a=s.url.toLowerCase();if(!(0,O.WQX)(Fl)||"GET"===s.method||"HEAD"===s.method||a.startsWith("http://")||a.startsWith("https://"))return i(s);const u=(0,O.WQX)($y).getToken(),d=(0,O.WQX)(Zp);return null!=u&&!s.headers.has(d)&&(s=s.clone({headers:s.headers.set(d,u)})),i(s)}var Xy=V(3077),Rd=V(130),rh=V(5343);const Zi=new ar.c(rh.l),ah="Service workers are disabled or not supported by this browser";class Od{serviceWorker;worker;registration;events;constructor(i,a){if(this.serviceWorker=i,i){let u=null;const d=new In.B;this.worker=new ar.c(ee=>(null!==u&&ee.next(u),d.subscribe(Se=>ee.next(Se))));const y=()=>{const{controller:ee}=i;null!==ee&&(u=ee,d.next(u))};i.addEventListener("controllerchange",y),y(),this.registration=this.worker.pipe((0,Nn.n)(()=>i.getRegistration().then(ee=>{if(!ee)throw new O.buA(5601,!1);return ee})));const w=new In.B;this.events=w.asObservable();const x=ee=>{const{data:Se}=ee;Se?.type&&w.next(Se)};i.addEventListener("message",x),a?.get(ge.o8S,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",y),i.removeEventListener("message",x)})}else this.worker=this.events=this.registration=new ar.c(u=>u.error(new O.buA(5601,!1)))}postMessage(i,a){return new Promise(u=>{this.worker.pipe(jr(1)).subscribe(d=>{d.postMessage({action:i,...a}),u()})})}postMessageWithOperation(i,a,u){const d=this.waitForOperationCompleted(u),y=this.postMessage(i,a);return Promise.all([y,d]).then(([,w])=>w)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(i){let a;return a="string"==typeof i?u=>u.type===i:u=>i.includes(u.type),this.events.pipe((0,Cr.p)(a))}nextEventOfType(i){return this.eventsOfType(i).pipe(jr(1))}waitForOperationCompleted(i){return new Promise((a,u)=>{this.eventsOfType("OPERATION_COMPLETED").pipe((0,Cr.p)(d=>d.nonce===i),jr(1),(0,Ot.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).subscribe({next:a,error:u})})}get isEnabled(){return!!this.serviceWorker}}let ih=(()=>{class s{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new In.B;constructor(a){if(this.sw=a,!a.isEnabled)return this.messages=Zi,this.notificationClicks=Zi,this.notificationCloses=Zi,this.pushSubscriptionChanges=Zi,void(this.subscription=Zi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ot.T)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ot.T)(d=>d.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe((0,Ot.T)(d=>d.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe((0,Ot.T)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,Ot.T)(d=>d.pushManager));const u=this.pushManager.pipe((0,Nn.n)(d=>d.getSubscription()));this.subscription=new ar.c(d=>{const y=u.subscribe(d),w=this.subscriptionChanges.subscribe(d);return()=>{y.unsubscribe(),w.unsubscribe()}})}requestSubscription(a){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ah));const u={userVisibleOnly:!0};let d=this.decodeBase64(a.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),y=new Uint8Array(new ArrayBuffer(d.length));for(let w=0;w<d.length;w++)y[w]=d.charCodeAt(w);return u.applicationServerKey=y,new Promise((w,x)=>{this.pushManager.pipe((0,Nn.n)(W=>W.subscribe(u)),jr(1)).subscribe({next:W=>{this.subscriptionChanges.next(W),w(W)},error:x})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ah));const a=u=>{if(null===u)throw new O.buA(5602,!1);return u.unsubscribe().then(d=>{if(!d)throw new O.buA(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((u,d)=>{this.subscription.pipe(jr(1),(0,Nn.n)(a)).subscribe({next:u,error:d})})}decodeBase64(a){return atob(a)}static \u0275fac=function(u){return new(u||s)(O.KVO(Od))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})(),Yy=(()=>{class s{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(a){if(this.sw=a,!a.isEnabled)return this.versionUpdates=Zi,void(this.unrecoverable=Zi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ah));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;const a=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:a},a).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new O.buA(5601,!1));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:a},a)}static \u0275fac=function(u){return new(u||s)(O.KVO(Od))};static \u0275prov=O.jDH({token:s,factory:s.\u0275fac})}return s})();const oh=new O.nKC("");function Hs(){const s=(0,O.WQX)(sh);if(!("serviceWorker"in navigator)||!1===s.enabled)return;const i=(0,O.WQX)(oh),a=(0,O.WQX)(ge.SKi),u=(0,O.WQX)(ge.o8S);a.runOutsideAngular(()=>{const d=navigator.serviceWorker,y=()=>d.controller?.postMessage({action:"INITIALIZE"});d.addEventListener("controllerchange",y),u.onDestroy(()=>{d.removeEventListener("controllerchange",y)})}),a.runOutsideAngular(()=>{let d;const{registrationStrategy:y}=s;if("function"==typeof y)d=new Promise(w=>y().subscribe(()=>w()));else{const[w,...x]=(y||"registerWhenStable:30000").split(":");switch(w){case"registerImmediately":d=Promise.resolve();break;case"registerWithDelay":d=Ws(+x[0]||0);break;case"registerWhenStable":d=Promise.race([u.whenStable(),Ws(+x[0])]);break;default:throw new O.buA(5600,!1)}}d.then(()=>{u.destroyed||navigator.serviceWorker.register(i,{scope:s.scope,updateViaCache:s.updateViaCache,type:s.type}).catch(w=>console.error((0,O.OsK)(5604,!1)))})})}function Ws(s){return new Promise(i=>setTimeout(i,s))}function Jy(s,i){return new Od(!1!==s.enabled?navigator.serviceWorker:void 0,i)}class sh{enabled;updateViaCache;type;scope;registrationStrategy}const i_=[{path:"",loadComponent:()=>V.e(665).then(V.bind(V,2665)).then(s=>s.ScenarioComponent)},{path:"potions",loadComponent:()=>Promise.all([V.e(53),V.e(559)]).then(V.bind(V,8559)).then(s=>s.AlchemyComponent)},{path:"armory",loadComponent:()=>Promise.all([V.e(53),V.e(324)]).then(V.bind(V,8324)).then(s=>s.ArmoryComponent)},{path:"**",redirectTo:""}];(function nn(s,i,a){const u={rootComponent:s,platformRef:a?.platformRef,...Hr(i)};return(0,Qt.TL3)(u)})(ss,{providers:[function $s(){return(0,ge._jY)("NgEagerAnimations"),[...Rl]}(),function Wy(...s){const i=[$p,Sd,Gp,{provide:Pl,useExisting:Gp},{provide:tc,useFactory:()=>(0,O.WQX)(Nl,{optional:!0})??(0,O.WQX)(Sd)},{provide:Ll,useValue:xd,multi:!0},{provide:Fl,useValue:!0},{provide:$y,useClass:Md}];for(const a of s)i.push(...a.\u0275providers);return(0,O.EmA)(i)}(),function Ef(s,...i){return(0,O.EmA)([{provide:ml,multi:!0,useValue:s},[],{provide:Ne,useFactory:Bc,deps:[Xi]},{provide:ge.iLQ,multi:!0,useFactory:jm},i.map(a=>a.\u0275providers)])}(i_,function Hm(){return function Bi(s,i){return{\u0275kind:s,\u0275providers:i}}(6,[{provide:E.hb,useClass:aa.fw}])}()),Hc.Vh,Xy.s,ia.J,Rd.X,function lh(s,i={}){return(0,O.EmA)([ih,Yy,{provide:oh,useValue:s},{provide:sh,useValue:i},{provide:Od,useFactory:Jy,deps:[sh,O.zZn]},(0,ge.phd)(Hs)])}("ngsw-worker.js",{enabled:!(0,Qt.naY)(),registrationStrategy:"registerWhenStable:30000"})]}).catch(s=>console.error(s))},7441:(it,Ee,V)=>{"use strict";V.d(Ee,{X:()=>E});const E=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7473:(it,Ee,V)=>{"use strict";V.d(Ee,{J:()=>G});var E=V(1413),o=V(2615);let G=(()=>{class O{messageSubject=new E.B;message$=this.messageSubject.asObservable();emitErrorMessage(Z){this.messageSubject.next({type:"error",message:Z})}emitInfoMessage(Z){this.messageSubject.next({type:"info",message:Z})}static \u0275fac=function(z){return new(z||O)};static \u0275prov=o.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},7705:(it,Ee,V)=>{"use strict";V.d(Ee,{ES_:()=>J,L39:()=>I,MKu:()=>gr,TL3:()=>za,_q3:()=>ur,gRc:()=>Aa,hFB:()=>Re,naY:()=>Zr});var E=V(2615),o=V(8440),G=V(3664);const O=Symbol("InputSignalNode#UNSET"),pe={...o.s0,transformFn:void 0,applyValueToInputSignal(U,A){(0,o.j2)(U,A)}};function z(U,A){const F=Object.create(pe);function Q(){if((0,o.mK)(F),F.value===O)throw new E.buA(-950,null);return F.value}return F.value=U,F.transformFn=A?.transform,Q[o.bh]=F,Q}class J{attributeName;constructor(A){this.attributeName=A}__NG_ELEMENT_ID__=()=>(0,G.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function De(U,A){return z(U,A)}new E.nKC("").__NG_ELEMENT_ID__=U=>{const A=(0,E.Mx4)();if(null===A)throw new E.buA(204,!1);if(2&A.type)return A.value;if(8&U)return null;throw new E.buA(204,!1)};const Re=(De.required=function Ge(U){return z(O,U)},De),Ue=new E.nKC(""),ut=new E.nKC("");function Yt(U){return!U.moduleRef}let Lt,et=null;function Zr(){return!1}let Aa=(()=>class U{static __NG_ELEMENT_ID__=ma})();function ma(U){return function pa(U,A,F){if((0,E.Qs1)(U)&&!F){const Q=(0,E.KdJ)(U.index,A);return new G.NCX(Q,Q)}return 175&U.type?new G.NCX(A[E.b5C],A):null}((0,E.Mx4)(),(0,E.OAn)(),!(16&~U))}class On{constructor(){}supports(A){return(0,G.ozJ)(A)}create(A){return new mi(A)}}const Ur=(U,A)=>A;class mi{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(A){this._trackByFn=A||Ur}forEachItem(A){let F;for(F=this._itHead;null!==F;F=F._next)A(F)}forEachOperation(A){let F=this._itHead,Q=this._removalsHead,se=0,Te=null;for(;F||Q;){const je=!Q||F&&F.currentIndex<pi(Q,se,Te)?F:Q,Qe=pi(je,se,Te),st=je.currentIndex;if(je===Q)se--,Q=Q._nextRemoved;else if(F=F._next,null==je.previousIndex)se++;else{Te||(Te=[]);const Ct=Qe-se,Bt=st-se;if(Ct!=Bt){for(let fn=0;fn<Ct;fn++){const yn=fn<Te.length?Te[fn]:Te[fn]=0,cn=yn+fn;Bt<=cn&&cn<Ct&&(Te[fn]=yn+1)}Te[je.previousIndex]=Bt-Ct}}Qe!==st&&A(je,Qe,st)}}forEachPreviousItem(A){let F;for(F=this._previousItHead;null!==F;F=F._nextPrevious)A(F)}forEachAddedItem(A){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)A(F)}forEachMovedItem(A){let F;for(F=this._movesHead;null!==F;F=F._nextMoved)A(F)}forEachRemovedItem(A){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)A(F)}forEachIdentityChange(A){let F;for(F=this._identityChangesHead;null!==F;F=F._nextIdentityChange)A(F)}diff(A){if(null==A&&(A=[]),!(0,G.ozJ)(A))throw new E.buA(900,!1);return this.check(A)?this:null}onDestroy(){}check(A){this._reset();let se,Te,je,F=this._itHead,Q=!1;if(Array.isArray(A)){this.length=A.length;for(let Qe=0;Qe<this.length;Qe++)Te=A[Qe],je=this._trackByFn(Qe,Te),null!==F&&Object.is(F.trackById,je)?(Q&&(F=this._verifyReinsertion(F,Te,je,Qe)),Object.is(F.item,Te)||this._addIdentityChange(F,Te)):(F=this._mismatch(F,Te,je,Qe),Q=!0),F=F._next}else se=0,(0,G.utN)(A,Qe=>{je=this._trackByFn(se,Qe),null!==F&&Object.is(F.trackById,je)?(Q&&(F=this._verifyReinsertion(F,Qe,je,se)),Object.is(F.item,Qe)||this._addIdentityChange(F,Qe)):(F=this._mismatch(F,Qe,je,se),Q=!0),F=F._next,se++}),this.length=se;return this._truncate(F),this.collection=A,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let A;for(A=this._previousItHead=this._itHead;null!==A;A=A._next)A._nextPrevious=A._next;for(A=this._additionsHead;null!==A;A=A._nextAdded)A.previousIndex=A.currentIndex;for(this._additionsHead=this._additionsTail=null,A=this._movesHead;null!==A;A=A._nextMoved)A.previousIndex=A.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(A,F,Q,se){let Te;return null===A?Te=this._itTail:(Te=A._prev,this._remove(A)),null!==(A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Q,null))?(Object.is(A.item,F)||this._addIdentityChange(A,F),this._reinsertAfter(A,Te,se)):null!==(A=null===this._linkedRecords?null:this._linkedRecords.get(Q,se))?(Object.is(A.item,F)||this._addIdentityChange(A,F),this._moveAfter(A,Te,se)):A=this._addAfter(new Pn(F,Q),Te,se),A}_verifyReinsertion(A,F,Q,se){let Te=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Q,null);return null!==Te?A=this._reinsertAfter(Te,A._prev,se):A.currentIndex!=se&&(A.currentIndex=se,this._addToMoves(A,se)),A}_truncate(A){for(;null!==A;){const F=A._next;this._addToRemovals(this._unlink(A)),A=F}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(A,F,Q){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(A);const se=A._prevRemoved,Te=A._nextRemoved;return null===se?this._removalsHead=Te:se._nextRemoved=Te,null===Te?this._removalsTail=se:Te._prevRemoved=se,this._insertAfter(A,F,Q),this._addToMoves(A,Q),A}_moveAfter(A,F,Q){return this._unlink(A),this._insertAfter(A,F,Q),this._addToMoves(A,Q),A}_addAfter(A,F,Q){return this._insertAfter(A,F,Q),this._additionsTail=null===this._additionsTail?this._additionsHead=A:this._additionsTail._nextAdded=A,A}_insertAfter(A,F,Q){const se=null===F?this._itHead:F._next;return A._next=se,A._prev=F,null===se?this._itTail=A:se._prev=A,null===F?this._itHead=A:F._next=A,null===this._linkedRecords&&(this._linkedRecords=new Mr),this._linkedRecords.put(A),A.currentIndex=Q,A}_remove(A){return this._addToRemovals(this._unlink(A))}_unlink(A){null!==this._linkedRecords&&this._linkedRecords.remove(A);const F=A._prev,Q=A._next;return null===F?this._itHead=Q:F._next=Q,null===Q?this._itTail=F:Q._prev=F,A}_addToMoves(A,F){return A.previousIndex===F||(this._movesTail=null===this._movesTail?this._movesHead=A:this._movesTail._nextMoved=A),A}_addToRemovals(A){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mr),this._unlinkedRecords.put(A),A.currentIndex=null,A._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=A,A._prevRemoved=null):(A._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=A),A}_addIdentityChange(A,F){return A.item=F,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=A:this._identityChangesTail._nextIdentityChange=A,A}}class Pn{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(A,F){this.item=A,this.trackById=F}}class Wa{_head=null;_tail=null;add(A){null===this._head?(this._head=this._tail=A,A._nextDup=null,A._prevDup=null):(this._tail._nextDup=A,A._prevDup=this._tail,A._nextDup=null,this._tail=A)}get(A,F){let Q;for(Q=this._head;null!==Q;Q=Q._nextDup)if((null===F||F<=Q.currentIndex)&&Object.is(Q.trackById,A))return Q;return null}remove(A){const F=A._prevDup,Q=A._nextDup;return null===F?this._head=Q:F._nextDup=Q,null===Q?this._tail=F:Q._prevDup=F,null===this._head}}class Mr{map=new Map;put(A){const F=A.trackById;let Q=this.map.get(F);Q||(Q=new Wa,this.map.set(F,Q)),Q.add(A)}get(A,F){const se=this.map.get(A);return se?se.get(A,F):null}remove(A){const F=A.trackById;return this.map.get(F).remove(A)&&this.map.delete(F),A}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pi(U,A,F){const Q=U.previousIndex;if(null===Q)return Q;let se=0;return F&&Q<F.length&&(se=F[Q]),Q+A+se}class hi{constructor(){}supports(A){return A instanceof Map||(0,G.vDg)(A)}create(){return new ha}}class ha{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(A){let F;for(F=this._mapHead;null!==F;F=F._next)A(F)}forEachPreviousItem(A){let F;for(F=this._previousMapHead;null!==F;F=F._nextPrevious)A(F)}forEachChangedItem(A){let F;for(F=this._changesHead;null!==F;F=F._nextChanged)A(F)}forEachAddedItem(A){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)A(F)}forEachRemovedItem(A){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)A(F)}diff(A){if(A){if(!(A instanceof Map||(0,G.vDg)(A)))throw new E.buA(900,!1)}else A=new Map;return this.check(A)?this:null}onDestroy(){}check(A){this._reset();let F=this._mapHead;if(this._appendAfter=null,this._forEach(A,(Q,se)=>{if(F&&F.key===se)this._maybeAddToChanges(F,Q),this._appendAfter=F,F=F._next;else{const Te=this._getOrCreateRecordForKey(se,Q);F=this._insertBeforeOrAppend(F,Te)}}),F){F._prev&&(F._prev._next=null),this._removalsHead=F;for(let Q=F;null!==Q;Q=Q._nextRemoved)Q===this._mapHead&&(this._mapHead=null),this._records.delete(Q.key),Q._nextRemoved=Q._next,Q.previousValue=Q.currentValue,Q.currentValue=null,Q._prev=null,Q._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(A,F){if(A){const Q=A._prev;return F._next=A,F._prev=Q,A._prev=F,Q&&(Q._next=F),A===this._mapHead&&(this._mapHead=F),this._appendAfter=A,A}return this._appendAfter?(this._appendAfter._next=F,F._prev=this._appendAfter):this._mapHead=F,this._appendAfter=F,null}_getOrCreateRecordForKey(A,F){if(this._records.has(A)){const se=this._records.get(A);this._maybeAddToChanges(se,F);const Te=se._prev,je=se._next;return Te&&(Te._next=je),je&&(je._prev=Te),se._next=null,se._prev=null,se}const Q=new lr(A);return this._records.set(A,Q),Q.currentValue=F,this._addToAdditions(Q),Q}_reset(){if(this.isDirty){let A;for(this._previousMapHead=this._mapHead,A=this._previousMapHead;null!==A;A=A._next)A._nextPrevious=A._next;for(A=this._changesHead;null!==A;A=A._nextChanged)A.previousValue=A.currentValue;for(A=this._additionsHead;null!=A;A=A._nextAdded)A.previousValue=A.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(A,F){Object.is(F,A.currentValue)||(A.previousValue=A.currentValue,A.currentValue=F,this._addToChanges(A))}_addToAdditions(A){null===this._additionsHead?this._additionsHead=this._additionsTail=A:(this._additionsTail._nextAdded=A,this._additionsTail=A)}_addToChanges(A){null===this._changesHead?this._changesHead=this._changesTail=A:(this._changesTail._nextChanged=A,this._changesTail=A)}_forEach(A,F){A instanceof Map?A.forEach(F):Object.keys(A).forEach(Q=>F(A[Q],Q))}}class lr{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(A){this.key=A}}function Sa(){return new ur([new On])}let ur=(()=>{class U{factories;static \u0275prov=(0,E.jDH)({token:U,providedIn:"root",factory:Sa});constructor(F){this.factories=F}static create(F,Q){if(null!=Q){const se=Q.factories.slice();F=F.concat(se)}return new U(F)}static extend(F){return{provide:U,useFactory:()=>{const Q=(0,E.WQX)(U,{optional:!0,skipSelf:!0});return U.create(F,Q||Sa())}}}find(F){const Q=this.factories.find(se=>se.supports(F));if(null!=Q)return Q;throw new E.buA(901,!1)}}return U})();function tr(){return new gr([new hi])}let gr=(()=>{class U{static \u0275prov=(0,E.jDH)({token:U,providedIn:"root",factory:tr});factories;constructor(F){this.factories=F}static create(F,Q){if(Q){const se=Q.factories.slice();F=F.concat(se)}return new U(F)}static extend(F){return{provide:U,useFactory:()=>{const Q=(0,E.WQX)(U,{optional:!0,skipSelf:!0});return U.create(F,Q||tr())}}}find(F){const Q=this.factories.find(se=>se.supports(F));if(Q)return Q;throw new E.buA(901,!1)}}return U})();function za(U){const{rootComponent:A,appProviders:F,platformProviders:Q,platformRef:se}=U;(0,G.Ef8)(8);try{const Te=se?.injector??function an(U=[]){if(et)return et;(0,G.pl0)();const A=function Yr(U=[],A){return E.zZn.create({name:A,providers:[{provide:E.GBX,useValue:"platform"},{provide:Ue,useValue:new Set([()=>et=null])},...U]})}(U);return et=A,(0,G.ypd)(),function yr(U){const A=U.get(G.PLl,null);(0,E.N4e)(U,()=>{A?.forEach(F=>F())})}(A),A}(Q),je=[(0,G.SdI)({}),{provide:E.hk6,useExisting:G.Ts$},E.gv8,...F||[]];return function mt(U){const A=Yt(U)?U.r3Injector:U.moduleRef.injector,F=A.get(G.SKi);return F.run(()=>{Yt(U)?U.r3Injector.resolveInjectorInitializers():U.moduleRef.resolveInjectorInitializers();const Q=A.get(E.ZTf);let se;if(F.runOutsideAngular(()=>{se=F.onError.subscribe({next:Q})}),Yt(U)){const Te=()=>A.destroy(),je=U.platformInjector.get(Ue);je.add(Te),A.onDestroy(()=>{se.unsubscribe(),je.delete(Te)})}else{const Te=()=>U.moduleRef.destroy(),je=U.platformInjector.get(Ue);je.add(Te),U.moduleRef.onDestroy(()=>{(0,G.TFI)(U.allPlatformModules,U.moduleRef),se.unsubscribe(),je.delete(Te)})}return function We(U,A,F){try{const Q=F();return(0,G.yLl)(Q)?Q.catch(se=>{throw A.runOutsideAngular(()=>U(se)),se}):Q}catch(Q){throw A.runOutsideAngular(()=>U(Q)),Q}}(Q,F,()=>{const Te=A.get(E.rev),je=Te.add(),Qe=A.get(G.H1s);return Qe.runInitializers(),Qe.donePromise.then(()=>{const st=A.get(G.xe9,G.DkB);if((0,G.e6s)(st||G.DkB),!A.get(ut,!0))return Yt(U)?A.get(G.o8S):(U.allPlatformModules.push(U.moduleRef),U.moduleRef);if(Yt(U)){const Bt=A.get(G.o8S);return void 0!==U.rootComponent&&Bt.bootstrap(U.rootComponent),Bt}return Lt?.(U.moduleRef,U.allPlatformModules),U.moduleRef}).finally(()=>{Te.remove(je)})})})}({r3Injector:new G.bH1({providers:je,parent:Te,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Te,rootComponent:A})}catch(Te){return Promise.reject(Te)}finally{(0,G.Ef8)(9)}}function I(U){return"boolean"==typeof U?U:null!=U&&"false"!==U}},7707:(it,Ee,V)=>{"use strict";V.d(Ee,{Ms:()=>Ge,vU:()=>ce});var E=V(8071),o=V(8359),G=V(1026),O=V(5334),pe=V(5343);const Z=ve("C",void 0,void 0);function ve(ye,Pe,ke){return{kind:ye,value:Pe,error:ke}}var he=V(9270),J=V(9786);class ce extends o.yU{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,o.Uv)(Pe)&&Pe.add(this)):this.destination=ht}static create(Pe,ke,qe){return new Ge(Pe,ke,qe)}next(Pe){this.isStopped?rt(function ie(ye){return ve("N",ye,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?rt(function z(ye){return ve("E",void 0,ye)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?rt(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fe=Function.prototype.bind;function me(ye,Pe){return fe.call(ye,Pe)}class De{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Pe)}catch(qe){Re(qe)}}error(Pe){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Pe)}catch(qe){Re(qe)}else Re(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ke){Re(ke)}}}class Ge extends ce{constructor(Pe,ke,qe){let $e;if(super(),(0,E.T)(Pe)||!Pe)$e={next:Pe??void 0,error:ke??void 0,complete:qe??void 0};else{let at;this&&G.$.useDeprecatedNextContext?(at=Object.create(Pe),at.unsubscribe=()=>this.unsubscribe(),$e={next:Pe.next&&me(Pe.next,at),error:Pe.error&&me(Pe.error,at),complete:Pe.complete&&me(Pe.complete,at)}):$e=Pe}this.destination=new De($e)}}function Re(ye){G.$.useDeprecatedSynchronousErrorHandling?(0,J.l)(ye):(0,O.m)(ye)}function rt(ye,Pe){const{onStoppedNotification:ke}=G.$;ke&&he.f.setTimeout(()=>ke(ye,Pe))}const ht={closed:!0,next:pe.l,error:function Ke(ye){throw ye},complete:pe.l}},7908:(it,Ee,V)=>{"use strict";function E(o,G){if(o){const O=o.indexOf(G);0<=O&&o.splice(O,1)}}V.d(Ee,{o:()=>E})},7953:(it,Ee,V)=>{"use strict";V.d(Ee,{T:()=>o});var E=V(8071);function o(G){return Symbol.asyncIterator&&(0,E.T)(G?.[Symbol.asyncIterator])}},8071:(it,Ee,V)=>{"use strict";function E(o){return"function"==typeof o}V.d(Ee,{T:()=>E})},8141:(it,Ee,V)=>{"use strict";V.d(Ee,{M:()=>pe});var E=V(8071),o=V(9974),G=V(4360),O=V(3669);function pe(Z,z,ie){const ve=(0,E.T)(Z)||z||ie?{next:Z,error:z,complete:ie}:Z;return ve?(0,o.N)((he,J)=>{var ce;null===(ce=ve.subscribe)||void 0===ce||ce.call(ve);let fe=!0;he.subscribe((0,G._)(J,me=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,me),J.next(me)},()=>{var me;fe=!1,null===(me=ve.complete)||void 0===me||me.call(ve),J.complete()},me=>{var De;fe=!1,null===(De=ve.error)||void 0===De||De.call(ve,me),J.error(me)},()=>{var me,De;fe&&(null===(me=ve.unsubscribe)||void 0===me||me.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):O.D}},8147:(it,Ee,V)=>{"use strict";V.d(Ee,{K:()=>ve});var E=V(4412),o=V(6354),G=V(9974),O=V(4360),Z=V(5964),z=V(2615);const ie=["name","standee","level","initiative","hp","aggressive","armor","roundArmor","retaliate","roundRetaliate","conditions","sessionExperience"];let ve=(()=>{class he{logsSubject=new E.t([]);logs$=this.logsSubject.asObservable();init(ce){ce.pipe((0,o.T)(me=>(me??[]).map(De=>{const Ge={id:De.id,type:De.type};for(const Re of ie)Ge[Re]=De[Re];return Ge}))).pipe(function pe(){return(0,G.N)((he,J)=>{let ce,fe=!1;he.subscribe((0,O._)(J,me=>{const De=ce;ce=me,fe&&J.next([De,me]),fe=!0}))})}(),(0,o.T)(([me,De])=>this.diff(me,De)),(0,Z.p)(me=>me.length>0)).subscribe(me=>{this.logsSubject.next([...me,...this.logsSubject.value])})}characterOptions$=this.logs$.pipe((0,o.T)(ce=>{const fe=new Map;for(const me of ce)me.creatureId&&!fe.has(me.creatureId)&&fe.set(me.creatureId,me.creature);return Array.from(fe.entries()).map(([me,De])=>({value:me,text:De}))}));getLastAliveHpBefore(ce,fe){const me=this.logsSubject.value,De=me.findIndex(Ge=>Ge.id===ce);if(-1!==De)for(let Ge=De+1;Ge<me.length;Ge++){const Re=me[Ge];if(Re.creatureId===fe&&"hp"===Re.stat){const Ke="number"==typeof Re.value?Re.value:void 0;if(void 0!==Ke&&Ke>0)return Ke}}}getLastPositiveHp(ce){const fe=this.logsSubject.value;for(const me of fe)if(me.creatureId===ce&&"hp"===me.stat){const De="number"==typeof me.value?me.value:void 0;if(void 0!==De&&De>0)return De}}diff(ce,fe){const me=new Map((ce??[]).map(Re=>[Re.id,Re])),De=new Map((fe??[]).map(Re=>[Re.id,Re])),Ge=[];for(const[Re,Ke]of De){const rt=me.get(Re);if(rt)for(const ht of ie){const ye=rt[ht],Pe=Ke[ht];Object.is(ye,Pe)||Ge.push(this.entry(Re,Ke.name??"(unknown)",String(ht),Pe,ye))}else Ge.push(this.entry(Re,Ke.name??"(unknown)","created",this.pretty(Ke),null,{new:this.snap(Ke)}))}for(const[Re,Ke]of me)De.has(Re)||Ge.push(this.entry(Re,`${Ke.name??"(unknown)"} (killed)`,"killed",null,this.pretty(Ke),{old:this.snap(Ke)}));return Ge}pretty(ce){return`hp=${ce.hp}, lvl=${ce.level}`}entry(ce,fe,me,De,Ge,Re){return{id:this.randId(),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),creatureId:ce,creature:fe,stat:me,value:De,oldValue:Ge,data:Re}}snap(ce){return{name:ce.name,type:ce.type,standee:ce.standee,level:ce.level,hp:ce.hp,aggressive:ce?.aggressive}}randId(){return Math.random().toString(36).slice(2,10)}static \u0275fac=function(fe){return new(fe||he)};static \u0275prov=z.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},8359:(it,Ee,V)=>{"use strict";V.d(Ee,{Kn:()=>Z,yU:()=>pe,Uv:()=>z});var E=V(8071);const G=(0,V(1853).L)(ve=>function(J){ve(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((ce,fe)=>`${fe+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var O=V(7908);class pe{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const me of J)me.remove(this);else J.remove(this);const{initialTeardown:ce}=this;if((0,E.T)(ce))try{ce()}catch(me){he=me instanceof G?me.errors:[me]}const{_finalizers:fe}=this;if(fe){this._finalizers=null;for(const me of fe)try{ie(me)}catch(De){he=he??[],De instanceof G?he=[...he,...De.errors]:he.push(De)}}if(he)throw new G(he)}}add(he){var J;if(he&&he!==this)if(this.closed)ie(he);else{if(he instanceof pe){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(he)}}_hasParent(he){const{_parentage:J}=this;return J===he||Array.isArray(J)&&J.includes(he)}_addParent(he){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(he),J):J?[J,he]:he}_removeParent(he){const{_parentage:J}=this;J===he?this._parentage=null:Array.isArray(J)&&(0,O.o)(J,he)}remove(he){const{_finalizers:J}=this;J&&(0,O.o)(J,he),he instanceof pe&&he._removeParent(this)}}pe.EMPTY=(()=>{const ve=new pe;return ve.closed=!0,ve})();const Z=pe.EMPTY;function z(ve){return ve instanceof pe||ve&&"closed"in ve&&(0,E.T)(ve.remove)&&(0,E.T)(ve.add)&&(0,E.T)(ve.unsubscribe)}function ie(ve){(0,E.T)(ve)?ve():ve.unsubscribe()}},8440:(it,Ee,V)=>{"use strict";V.d(Ee,{Ag:()=>ln,Bg:()=>Ke,EF:()=>rn,H8:()=>zt,Ht:()=>Z,JC:()=>fe,KE:()=>ie,KO:()=>de,KZ:()=>Gt,Ny:()=>Ln,TO:()=>Re,Wu:()=>ht,XR:()=>ke,a7:()=>St,bh:()=>pe,j2:()=>Ue,mC:()=>ut,mK:()=>J,n5:()=>_e,nR:()=>z,pL:()=>he,s0:()=>mt,si:()=>Pe});let E=null,o=!1,G=1,O=null;const pe=Symbol("SIGNAL");function Z(be){const Fe=E;return E=be,Fe}function z(){return E}function ie(){return o}const he={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function J(be){if(o)throw new Error("");if(null===E)return;E.consumerOnSignalRead(be);const Fe=E.producersTail;if(void 0!==Fe&&Fe.producer===be)return;let We;const Et=E.recomputing;if(Et&&(We=void 0!==Fe?Fe.nextProducer:E.producers,void 0!==We&&We.producer===be))return E.producersTail=We,void(We.lastReadVersion=be.version);const et=be.consumersTail;if(void 0!==et&&et.consumer===E&&(!Et||function tn(be,Fe){const We=Fe.producersTail;if(void 0!==We){let Et=Fe.producers;do{if(Et===be)return!0;if(Et===We)break;Et=Et.nextProducer}while(void 0!==Et)}return!1}(et,E)))return;const Zt=at(E),Kt={producer:be,consumer:E,nextProducer:We,prevConsumer:et,lastReadVersion:be.version,nextConsumer:void 0};E.producersTail=Kt,void 0!==Fe?Fe.nextProducer=Kt:E.producers=Kt,Zt&&qe(be,Kt)}function fe(be){if((!at(be)||be.dirty)&&(be.dirty||be.lastCleanEpoch!==G)){if(!be.producerMustRecompute(be)&&!Pe(be))return void Re(be);be.producerRecomputeValue(be),Re(be)}}function me(be){if(void 0===be.consumers)return;const Fe=o;o=!0;try{for(let We=be.consumers;void 0!==We;We=We.nextConsumer){const Et=We.consumer;Et.dirty||Ge(Et)}}finally{o=Fe}}function De(){return!1!==E?.consumerAllowSignalWrites}function Ge(be){be.dirty=!0,me(be),be.consumerMarkedDirty?.(be)}function Re(be){be.dirty=!1,be.lastCleanEpoch=G}function Ke(be){return be&&function rt(be){be.producersTail=void 0,be.recomputing=!0}(be),Z(be)}function ht(be,Fe){Z(Fe),be&&function ye(be){be.recomputing=!1;const Fe=be.producersTail;let We=void 0!==Fe?Fe.nextProducer:be.producers;if(void 0!==We){if(at(be))do{We=$e(We)}while(void 0!==We);void 0!==Fe?Fe.nextProducer=void 0:be.producers=void 0}}(be)}function Pe(be){for(let Fe=be.producers;void 0!==Fe;Fe=Fe.nextProducer){const We=Fe.producer,Et=Fe.lastReadVersion;if(Et!==We.version||(fe(We),Et!==We.version))return!0}return!1}function ke(be){if(at(be)){let Fe=be.producers;for(;void 0!==Fe;)Fe=$e(Fe)}be.producers=void 0,be.producersTail=void 0,be.consumers=void 0,be.consumersTail=void 0}function qe(be,Fe){const We=be.consumersTail,Et=at(be);if(void 0!==We?(Fe.nextConsumer=We.nextConsumer,We.nextConsumer=Fe):(Fe.nextConsumer=void 0,be.consumers=Fe),Fe.prevConsumer=We,be.consumersTail=Fe,!Et)for(let et=be.producers;void 0!==et;et=et.nextProducer)qe(et.producer,et)}function $e(be){const Fe=be.producer,We=be.nextProducer,Et=be.nextConsumer,et=be.prevConsumer;if(be.nextConsumer=void 0,be.prevConsumer=void 0,void 0!==Et?Et.prevConsumer=et:Fe.consumersTail=et,void 0!==et)et.nextConsumer=Et;else if(Fe.consumers=Et,!at(Fe)){let Zt=Fe.producers;for(;void 0!==Zt;)Zt=$e(Zt)}return We}function at(be){return be.consumerIsAlwaysLive||void 0!==be.consumers}function St(be){O?.(be)}function zt(be,Fe){return Object.is(be,Fe)}function Gt(be,Fe){const We=Object.create(Ir);We.computation=be,void 0!==Fe&&(We.equal=Fe);const Et=()=>{if(fe(We),J(We),We.value===rn)throw We.error;return We.value};return Et[pe]=We,St(We),Et}const ln=Symbol("UNSET"),Ln=Symbol("COMPUTING"),rn=Symbol("ERRORED"),Ir={...he,value:ln,dirty:!0,error:null,equal:zt,kind:"computed",producerMustRecompute:be=>be.value===ln||be.value===Ln,producerRecomputeValue(be){if(be.value===Ln)throw new Error("");const Fe=be.value;be.value=Ln;const We=Ke(be);let Et,et=!1;try{Et=be.computation(),Z(null),et=Fe!==ln&&Fe!==rn&&Et!==rn&&be.equal(Fe,Et)}catch(Zt){Et=rn,be.error=Zt}finally{ht(be,We)}et?be.value=Fe:(be.value=Et,be.version++)}};let Ae=function pn(){throw new Error};function te(be){Ae(be)}function de(be){Ae=be}let ue=null;function _e(be,Fe){const We=Object.create(mt);We.value=be,void 0!==Fe&&(We.equal=Fe);const Et=()=>function Me(be){return J(be),be.value}(We);return Et[pe]=We,St(We),[Et,Kt=>Ue(We,Kt),Kt=>ut(We,Kt)]}function Ue(be,Fe){De()||te(be),be.equal(be.value,Fe)||(be.value=Fe,function Lt(be){be.version++,function ce(){G++}(),me(be),ue?.(be)}(be))}function ut(be,Fe){De()||te(be),Ue(be,Fe(be.value))}const mt={...he,equal:zt,value:void 0,kind:"signal"}},8496:(it,Ee,V)=>{"use strict";function E(o,G){return o.reduce((O,pe,Z)=>(O[pe]=G[Z],O),{})}V.d(Ee,{e:()=>E})},8666:(it,Ee,V)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});const o=V(1635).__importDefault(V(3608));Ee.default=class G{constructor(pe,{headers:Z={},schema:z,fetch:ie}){this.url=pe,this.headers=new Headers(Z),this.schema=z,this.fetch=ie}select(pe,Z){const{head:z=!1,count:ie}=Z??{},ve=z?"HEAD":"GET";let he=!1;const J=(pe??"*").split("").map(ce=>/\s/.test(ce)&&!he?"":('"'===ce&&(he=!he),ce)).join("");return this.url.searchParams.set("select",J),ie&&this.headers.append("Prefer",`count=${ie}`),new o.default({method:ve,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(pe,{count:Z,defaultToNull:z=!0}={}){var ie;if(Z&&this.headers.append("Prefer",`count=${Z}`),z||this.headers.append("Prefer","missing=default"),Array.isArray(pe)){const he=pe.reduce((J,ce)=>J.concat(Object.keys(ce)),[]);if(he.length>0){const J=[...new Set(he)].map(ce=>`"${ce}"`);this.url.searchParams.set("columns",J.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(ie=this.fetch)&&void 0!==ie?ie:fetch})}upsert(pe,{onConflict:Z,ignoreDuplicates:z=!1,count:ie,defaultToNull:ve=!0}={}){var he;if(this.headers.append("Prefer",`resolution=${z?"ignore":"merge"}-duplicates`),void 0!==Z&&this.url.searchParams.set("on_conflict",Z),ie&&this.headers.append("Prefer",`count=${ie}`),ve||this.headers.append("Prefer","missing=default"),Array.isArray(pe)){const ce=pe.reduce((fe,me)=>fe.concat(Object.keys(me)),[]);if(ce.length>0){const fe=[...new Set(ce)].map(me=>`"${me}"`);this.url.searchParams.set("columns",fe.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(he=this.fetch)&&void 0!==he?he:fetch})}update(pe,{count:Z}={}){var z;return Z&&this.headers.append("Prefer",`count=${Z}`),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(z=this.fetch)&&void 0!==z?z:fetch})}delete({count:pe}={}){var Z;return pe&&this.headers.append("Prefer",`count=${pe}`),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}}},8750:(it,Ee,V)=>{"use strict";V.d(Ee,{Tg:()=>fe});var E=V(1635),o=V(7441),G=V(9858),O=V(1985),pe=V(5055),Z=V(7953),z=V(591),ie=V(5397),ve=V(5196),he=V(8071),J=V(5334),ce=V(3494);function fe(ye){if(ye instanceof O.c)return ye;if(null!=ye){if((0,pe.l)(ye))return function me(ye){return new O.c(Pe=>{const ke=ye[ce.s]();if((0,he.T)(ke.subscribe))return ke.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,o.X)(ye))return function De(ye){return new O.c(Pe=>{for(let ke=0;ke<ye.length&&!Pe.closed;ke++)Pe.next(ye[ke]);Pe.complete()})}(ye);if((0,G.y)(ye))return function Ge(ye){return new O.c(Pe=>{ye.then(ke=>{Pe.closed||(Pe.next(ke),Pe.complete())},ke=>Pe.error(ke)).then(null,J.m)})}(ye);if((0,Z.T)(ye))return Ke(ye);if((0,ie.x)(ye))return function Re(ye){return new O.c(Pe=>{for(const ke of ye)if(Pe.next(ke),Pe.closed)return;Pe.complete()})}(ye);if((0,ve.U)(ye))return function rt(ye){return Ke((0,ve.C)(ye))}(ye)}throw(0,z.L)(ye)}function Ke(ye){return new O.c(Pe=>{(function ht(ye,Pe){var ke,qe,$e,at;return(0,E.__awaiter)(this,void 0,void 0,function*(){try{for(ke=(0,E.__asyncValues)(ye);!(qe=yield ke.next()).done;)if(Pe.next(qe.value),Pe.closed)return}catch(St){$e={error:St}}finally{try{qe&&!qe.done&&(at=ke.return)&&(yield at.call(ke))}finally{if($e)throw $e.error}}Pe.complete()})})(ye,Pe).catch(ke=>Pe.error(ke))})}},8793:(it,Ee,V)=>{"use strict";V.d(Ee,{x:()=>pe});var E=V(6365),G=V(3794),O=V(6648);function pe(...Z){return function o(){return(0,E.U)(1)}()((0,O.H)(Z,(0,G.lI)(Z)))}},8880:(it,Ee,V)=>{"use strict";V.d(Ee,{Mm:()=>E,RJ:()=>G,Wl:()=>Z,e_:()=>o,ej:()=>O,sD:()=>pe});var E=function(z){return z.poison="poison",z.wound="wound",z.muddle="muddle",z.immobilize="immobilize",z.bane="bane",z.stun="stun",z.disarm="disarm",z.brittle="brittle",z.ward="ward",z.invisible="invisible",z.strengthen="strengthen",z.regenerate="regenerate",z}(E||{}),o=function(z){return z.None="none",z.Full="full",z.Half="half",z}(o||{}),G=function(z){return z.Fire="fire",z.Ice="ice",z.Earth="earth",z.Air="air",z.Light="light",z.Dark="dark",z}(G||{});const O=[0,45,95,150,210,275,345,420,500],pe=9,Z=500},9172:(it,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>O});var E=V(8793),o=V(3794),G=V(9974);function O(...pe){const Z=(0,o.lI)(pe);return(0,G.N)((z,ie)=>{(Z?(0,E.x)(pe,z,Z):(0,E.x)(pe,z)).subscribe(ie)})}},9270:(it,Ee,V)=>{"use strict";V.d(Ee,{f:()=>E});const E={setTimeout(o,G,...O){const{delegate:pe}=E;return pe?.setTimeout?pe.setTimeout(o,G,...O):setTimeout(o,G,...O)},clearTimeout(o){const{delegate:G}=E;return(G?.clearTimeout||clearTimeout)(o)},delegate:void 0}},9293:it=>{function Ee(E,o,G,O,pe,Z,z){try{var ie=E[Z](z),ve=ie.value}catch(he){return void G(he)}ie.done?o(ve):Promise.resolve(ve).then(O,pe)}it.exports=function V(E){return function(){var o=this,G=arguments;return new Promise(function(O,pe){var Z=E.apply(o,G);function z(ve){Ee(Z,O,pe,z,ie,"next",ve)}function ie(ve){Ee(Z,O,pe,z,ie,"throw",ve)}z(void 0)})}},it.exports.__esModule=!0,it.exports.default=it.exports},9295:(it,Ee,V)=>{"use strict";V.d(Ee,{EW:()=>me,O8:()=>fe}),V(467);var o=V(2615),G=V(8440);function fe(Ae){return function ie(Ae){const te=(0,G.Ht)(null);try{return Ae()}finally{(0,G.Ht)(te)}}(Ae)}function me(Ae,te){return(0,G.KZ)(Ae,te?.equal)}Error,Error},9786:(it,Ee,V)=>{"use strict";V.d(Ee,{Y:()=>G,l:()=>O});var E=V(1026);let o=null;function G(pe){if(E.$.useDeprecatedSynchronousErrorHandling){const Z=!o;if(Z&&(o={errorThrown:!1,error:null}),pe(),Z){const{errorThrown:z,error:ie}=o;if(o=null,z)throw ie}}else pe()}function O(pe){E.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=pe)}},9858:(it,Ee,V)=>{"use strict";V.d(Ee,{y:()=>o});var E=V(8071);function o(G){return(0,E.T)(G?.then)}},9974:(it,Ee,V)=>{"use strict";V.d(Ee,{N:()=>G,S:()=>o});var E=V(8071);function o(O){return(0,E.T)(O?.lift)}function G(O){return pe=>{if(o(pe))return pe.lift(function(Z){try{return O(Z,this)}catch(z){this.error(z)}});throw new TypeError("Unable to lift unknown Observable type")}}}},it=>{it(it.s=7360)}]);