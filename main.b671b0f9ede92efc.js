(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{130:(st,ke,H)=>{"use strict";H.d(ke,{X:()=>i});var k=H(2615);let i=(()=>{class G{constructor(){}getData(){return{conditions:["stun","immobilize","disarm","wound","muddle","poison","invisible","strengthen","regenerate","ward","brittle","bane","impair","curse","bless"],monsters:[{name:"token",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0},{level:0,health:0,movement:0,attack:0}]},{name:"abael-herder",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:6,movement:3,attack:2},{level:2,health:8,movement:3,attack:2},{level:3,health:9,movement:3,attack:3},{level:4,health:11,movement:4,attack:3},{level:5,health:14,movement:4,attack:3},{level:6,health:18,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:7,health:24,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:6,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:1,health:9,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:11,movement:4,attack:3,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:28,movement:5,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:36,movement:5,attack:6,actions:[{type:"condition",value:"muddle"}]}]},{name:"abael-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:3},{level:1,health:3,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,movement:4,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:10,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{level:7,health:14,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:5,movement:4,attack:3},{type:"elite",level:1,health:5,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:9,movement:5,attack:4,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:4,health:10,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:5,health:13,movement:5,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:6,health:17,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:7,health:23,movement:5,attack:6,actions:[{type:"condition",value:"poison"}]}]},{name:"algox-archer",edition:"fh",deck:"archer",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:4,movement:1,attack:3},{level:1,health:5,movement:2,attack:3},{level:2,health:7,movement:2,attack:3},{level:3,health:7,movement:2,attack:4},{level:4,health:10,movement:2,attack:4},{level:5,health:13,movement:2,attack:4},{level:6,health:19,movement:2,attack:4},{level:7,health:22,movement:2,attack:5},{type:"elite",level:0,health:6,attack:4},{type:"elite",level:1,health:8,attack:4},{type:"elite",level:2,health:11,attack:4},{type:"elite",level:3,health:12,attack:5},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:18,attack:6},{type:"elite",level:6,health:28,attack:6},{type:"elite",level:7,health:33,attack:7}]},{name:"algox-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3},{level:1,health:7,movement:3,attack:3},{level:2,health:10,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:15,movement:4,attack:4},{level:5,health:19,movement:4,attack:4},{level:6,health:25,movement:4,attack:5},{level:7,health:33,movement:5,attack:5},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:12,movement:3,attack:4},{type:"elite",level:2,health:15,movement:3,attack:5},{type:"elite",level:3,health:19,movement:4,attack:5},{type:"elite",level:4,health:22,movement:4,attack:6},{type:"elite",level:5,health:27,movement:5,attack:6},{type:"elite",level:6,health:37,movement:5,attack:7},{type:"elite",level:7,health:47,movement:6,attack:7}]},{name:"algox-icespeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:10,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:8,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:12,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:15,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:18,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}],immunities:["brittle"]}]},{name:"algox-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:2},stats:[{level:0,health:5,attack:2},{level:1,health:6,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,attack:3,actions:[{type:"shield",value:1}]},{level:3,health:9,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:12,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:20,attack:4,actions:[{type:"shield",value:1}]},{level:7,health:27,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:0,health:7,movement:3,attack:3,actions:[{type:"pierce",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:2,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:5,health:19,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:2}]},{type:"elite",level:6,health:25,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:34,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"algox-scout",edition:"fh",deck:"scout",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:4,attack:2},{level:2,health:11,movement:4,attack:2},{level:3,health:12,movement:4,attack:3},{level:4,health:15,movement:4,attack:3},{level:5,health:18,movement:5,attack:3},{level:6,health:24,movement:5,attack:4},{level:7,health:33,movement:5,attack:4},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:3,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:3,health:17,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:5,health:26,movement:5,attack:5,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:6,health:32,movement:6,attack:6,actions:[{type:"condition",value:"impair"}]},{type:"elite",level:7,health:40,movement:6,attack:7,actions:[{type:"condition",value:"impair"}]}]},{name:"algox-snowspeaker",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]}]},{level:7,health:27,movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]}],immunities:["brittle"]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:2,health:12,movement:2,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:3,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:3,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:5,health:21,movement:4,attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]},{type:"elite",level:7,health:35,movement:4,attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:5,small:!0}]},{type:"push",value:2}],immunities:["brittle"]}]},{name:"algox-stormcaller",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:2,attack:3,immunities:["immobilize","disarm","stun","curse"],special:[[{type:"attack",value:1,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.algox-stormcaller.1%",small:!0},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx20",movement:2,attack:3},{level:1,health:"Cx20",movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:"Cx22",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:"Cx26",movement:3,attack:4,actions:[{type:"shield",value:1}]},{level:4,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:1}]},{level:5,health:"Cx29",movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:6,health:"Cx39",movement:3,attack:6,actions:[{type:"shield",value:2}]},{level:7,health:"Cx44",movement:3,attack:7,actions:[{type:"shield",value:3}]}]},{name:"ancient-artillery",edition:"fh",count:6,baseStat:{type:"normal",immunities:["muddle"]},stats:[{level:0,health:4,attack:2},{level:1,health:6,attack:2},{level:2,health:8,attack:2},{level:3,health:9,attack:3},{level:4,health:12,attack:3},{level:5,health:15,attack:3},{level:6,health:18,attack:4},{level:7,health:21,attack:5},{type:"elite",level:0,health:7,attack:3},{type:"elite",level:1,health:9,attack:3},{type:"elite",level:2,health:12,attack:3},{type:"elite",level:3,health:14,attack:4},{type:"elite",level:4,health:16,attack:5},{type:"elite",level:5,health:21,attack:5},{type:"elite",level:6,health:26,attack:6},{type:"elite",level:7,health:34,attack:7}]},{name:"augmented-mindthief",edition:"fh",deck:"steel-automaton",boss:!0,hidden:!0,count:1,standeeShare:"steel-automaton",baseStat:{type:"boss",immunities:["poison","disarm"]},stats:[{level:0,health:"10x(C-1)",movement:2,attack:4},{level:1,health:"12x(C-1)",movement:2,attack:4},{level:2,health:"14x(C-1)",movement:2,attack:5},{level:3,health:"17x(C-1)",movement:3,attack:5},{level:4,health:"22x(C-1)",movement:3,attack:5},{level:5,health:"25x(C-1)",movement:3,attack:6},{level:6,health:"26x(C-1)",movement:3,attack:7},{level:7,health:"36x(C-1)",movement:4,attack:7}]},{name:"belara",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"savvas-lavaflow",baseStat:{type:"boss",immunities:["stun"]},stats:[{level:0,health:"13xC/2",movement:3,attack:3},{level:1,health:"15xC/2",movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:"18xC/2",movement:3,attack:3,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:3,health:"21xC/2",movement:3,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:4,health:"25xC/2",movement:4,attack:4,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:5,health:"30xC/2",movement:4,attack:5,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:6,health:"40xC/2",movement:4,attack:6,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]},{level:7,health:"50xC/2",movement:4,attack:7,actions:[{type:"condition",value:"poison"},{type:"condition",value:"wound"}]}]},{name:"black-imp",edition:"fh",deck:"imp",catching:!0,count:10,baseStat:{type:"normal",movement:1},stats:[{level:0,health:3,attack:1},{level:1,health:3,attack:1,actions:[{type:"condition",value:"poison"}]},{level:2,health:4,attack:1,actions:[{type:"condition",value:"poison"}]},{level:3,health:4,attack:2,actions:[{type:"condition",value:"poison"}]},{level:4,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{level:5,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{level:6,health:9,attack:3,actions:[{type:"condition",value:"poison"}]},{level:7,health:13,attack:3,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:1,health:5,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:2,health:7,attack:2,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:3,health:7,attack:2,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:7,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:9,attack:3,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:12,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:18,attack:4,actions:[{type:"custom",value:"%data.custom.fh.black-imp.1%",small:!0},{type:"condition",value:"poison"}]}]},{name:"blacksmith",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"6xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"9xC",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"9xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{level:4,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:"13xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:6,health:"15xC",movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{level:7,health:"20xC",movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"brother",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:2,standeeShare:"city-guard",baseStat:{type:"boss",movement:0,attack:4,special:[[{type:"custom",value:"%data.custom.fh.brother.1%",small:!0,subActions:[{type:"attack",value:0,valueType:"plus"}]}],[{type:"custom",value:"%data.custom.fh.brother.2%",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"allies",small:!0},{type:"range",value:2,small:!0}]}]}]]},stats:[{level:0,health:"2xC"},{level:1,health:"3xC"},{level:2,health:"4xC"},{level:3,health:"5xC"},{level:4,health:"6xC"},{level:5,health:"7xC"},{level:6,health:"8xC"},{level:7,health:"9xC"}]},{name:"burrowing-blade",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:4,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:5,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:5,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:6,health:11,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{level:7,health:13,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:5,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:6,movement:4,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:7,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:9,movement:4,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:11,movement:5,attack:5,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:15,movement:5,attack:6,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:19,movement:5,attack:7,actions:[{type:"shield",value:3},{type:"condition",value:"wound"}]}]},{name:"chaos-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"condition",value:"muddle"}]},stats:[{level:0,health:7,movement:3,attack:2},{level:1,health:8,movement:3,attack:3},{level:2,health:11,movement:3,attack:3},{level:3,health:12,movement:3,attack:4},{level:4,health:14,movement:4,attack:4},{level:5,health:16,movement:4,attack:5},{level:6,health:20,movement:4,attack:6},{level:7,health:25,movement:4,attack:7,immunities:["curse"]},{type:"elite",level:0,health:10,movement:4,attack:3},{type:"elite",level:1,health:12,movement:4,attack:4},{type:"elite",level:2,health:14,movement:4,attack:5},{type:"elite",level:3,health:18,movement:5,attack:5},{type:"elite",level:4,health:21,movement:5,attack:6},{type:"elite",level:5,health:26,movement:5,attack:6},{type:"elite",level:6,health:33,movement:5,attack:8,immunities:["curse"]},{type:"elite",level:7,health:39,movement:6,attack:9,immunities:["curse"]}]},{name:"chaos-lieutenant",edition:"fh",deck:"chaos-demon",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.1%",small:!0,subActions:[{type:"heal",value:"X",subActions:[{type:"specialTarget",value:"self",small:!0},{type:"custom",value:"%data.custom.fh.chaos-lieutenant.2%",small:!0}]}]}]},stats:[{level:0,health:10,movement:4,attack:3,immunities:["disarm","stun"]},{level:1,health:12,movement:4,attack:4,immunities:["disarm","stun"]},{level:2,health:14,movement:4,attack:5,immunities:["disarm","stun"]},{level:3,health:18,movement:5,attack:5,immunities:["disarm","stun"]},{level:4,health:21,movement:5,attack:6,immunities:["disarm","stun"]},{level:5,health:26,movement:5,attack:6,immunities:["disarm","stun"]},{level:6,health:33,movement:5,attack:8,immunities:["disarm","stun","curse"]},{level:7,health:39,movement:6,attack:9,immunities:["disarm","stun","curse"]}]},{name:"chaos-spark",edition:"fh",boss:!0,hidden:!0,count:"Cx2",standeeCount:12,baseStat:{type:"boss",actions:[{type:"custom",value:"%data.custom.fh.chaos-spark.3%"}]},stats:[{level:0,health:1},{level:1,health:2},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:6},{level:6,health:7},{level:7,health:8}]},{name:"city-guard-scenario-1",edition:"fh",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:4}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:4},{type:"retaliate",value:5}]}]},{name:"city-guard-scenario-129",edition:"fh",deck:"archer",hidden:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"city-guard",edition:"fh",deck:"guard",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:17,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:15,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]},{type:"elite",level:7,health:20,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3}]}]},{name:"coral-corpse",edition:"fh",deck:"frozen-corpse",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",actions:[{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun"]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"condition",value:"brittle"}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"condition",value:"brittle"}]}]},{name:"deep-terror",edition:"fh",count:10,baseStat:{type:"normal"},stats:[{level:0,health:3,attack:2},{level:1,health:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:3,health:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:7,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:7,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:9,attack:4,actions:[{type:"retaliate",value:3}]},{level:7,health:9,attack:5,actions:[{type:"retaliate",value:4}]},{type:"elite",level:0,health:5,attack:3},{type:"elite",level:1,health:6,attack:3,actions:[{type:"retaliate",value:1}]},{type:"elite",level:2,health:7,attack:4,actions:[{type:"retaliate",value:1}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:9,attack:5,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:11,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:13,attack:6,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:16,attack:6,actions:[{type:"retaliate",value:4}]}]},{name:"earth-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:3},{level:1,health:9,movement:1,attack:3},{level:2,health:12,movement:1,attack:3},{level:3,health:13,movement:2,attack:3},{level:4,health:15,movement:2,attack:4},{level:5,health:17,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:0,health:10,movement:2,attack:4},{type:"elite",level:1,health:13,movement:2,attack:4},{type:"elite",level:2,health:18,movement:2,attack:4},{type:"elite",level:3,health:20,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:21,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:25,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:32,movement:3,attack:6,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:42,movement:3,attack:7,actions:[{type:"condition",value:"immobilize"}]}]},{name:"elder-ooze",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",movement:3,attack:3,immunities:["wound","poison","immobilize","stun"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.elder-ooze.1%",small:!0}]},{type:"custom",value:"%data.custom.fh.elder-ooze.2%",small:!0}],[{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:1,valueType:"plus",subActions:[{type:"range",value:8,small:!0}]}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]]},stats:[{level:0,health:"Cx16",movement:3,attack:3},{level:1,health:"Cx20",movement:4,attack:3},{level:2,health:"Cx24",movement:4,attack:4},{level:3,health:"Cx30",movement:5,attack:4},{level:4,health:"Cx36",movement:5,attack:5},{level:5,health:"Cx42",movement:5,attack:5},{level:6,health:"Cx59",movement:5,attack:6},{level:7,health:"Cx76",movement:5,attack:7}]},{name:"fish-king-scenario-76",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8/2",immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"]},stats:[{level:0,health:"Cx8/2"},{level:1,health:"Cx10/2"},{level:2,health:"Cx12/2"},{level:3,health:"Cx16/2"},{level:4,health:"Cx18/2"},{level:5,health:"Cx24/2"},{level:6,health:"Cx32/2"},{level:7,health:"Cx40/2"}]},{name:"fish-king-scenario-77",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"fish-king",baseStat:{type:"boss",health:"Cx8",attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]]},stats:[{level:0,health:"Cx8",attack:3},{level:1,health:"Cx10",attack:4},{level:2,health:"Cx12",attack:5},{level:3,health:"Cx16",attack:5},{level:4,health:"Cx18",attack:6},{level:5,health:"Cx24",attack:6},{level:6,health:"Cx32",attack:7},{level:7,health:"Cx40",attack:8}]},{name:"fish-king",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx8",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","muddle"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]}]]},stats:[{level:0,health:"Cx8",movement:3,attack:3},{level:1,health:"Cx10",movement:3,attack:4},{level:2,health:"Cx12",movement:3,attack:5},{level:3,health:"Cx16",movement:4,attack:5},{level:4,health:"Cx18",movement:4,attack:6},{level:5,health:"Cx24",movement:4,attack:6},{level:6,health:"Cx32",movement:4,attack:7},{level:7,health:"Cx40",movement:4,attack:8}]},{name:"flame-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{level:4,health:3,movement:4,attack:3,actions:[{type:"shield",value:3},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:5,health:4,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:2,small:!0}]}]},{level:6,health:4,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:4,subActions:[{type:"range",value:2,small:!0}]}]},{level:7,health:6,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:5,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:2,health:4,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:3,health:5,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:4,health:5,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:5,health:6,movement:4,attack:4,actions:[{type:"shield",value:5},{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:6,health:7,movement:4,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:4,subActions:[{type:"range",value:3,small:!0}]}]},{type:"elite",level:7,health:9,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:5,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"flaming-bladespinner",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:6,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:2,health:7,movement:2,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:3,health:8,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:4,health:11,movement:3,attack:3,actions:[{type:"retaliate",value:2},{type:"target",value:3}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:6,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{level:7,health:22,movement:4,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:0,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:2,health:13,movement:2,attack:3,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:3,health:15,movement:2,attack:4,actions:[{type:"retaliate",value:3},{type:"target",value:3}]},{type:"elite",level:4,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]},{type:"elite",level:7,health:32,movement:4,attack:5,actions:[{type:"retaliate",value:5},{type:"target",value:3}]}]},{name:"flaming-sword-of-justice",edition:"fh",deck:"guard",boss:!0,hidden:!0,count:1,standeeShare:"city-guard",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:1,health:6,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"wound"}]},{level:3,health:9,movement:2,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:1},{type:"condition",value:"wound"}]},{level:4,health:10,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:5,health:13,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:2},{type:"condition",value:"wound"}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]},{level:7,health:20,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"retaliate",value:3},{type:"condition",value:"wound"}]}]},{name:"forest-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:1,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:3,attack:1,actions:[{type:"shield",value:1}]},{level:2,health:2,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:3,movement:4,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:3,movement:4,attack:2,actions:[{type:"shield",value:2}]},{level:5,health:4,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:5,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:7,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:0,health:4,movement:3,attack:1,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:6,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:3,health:7,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"condition",value:"curse"}]},{type:"elite",level:4,health:7,movement:4,attack:2,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:5,health:8,movement:4,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:6,health:10,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{type:"elite",level:7,health:14,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]}]},{name:"fracture-of-the-deep",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:20,movement:2,attack:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}}]}]},{type:"element",value:"dark:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"}}]}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"air",valueType:"minus",subActions:[{type:"jump",value:"",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"attack",value:"[C]",valueType:"add",small:!0}]}]},{type:"element",value:"light:wild:wild",valueType:"minus",subActions:[{type:"summon",small:!0,value:"monsterStandee",valueObject:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}}]}]}]]},stats:[{level:0,health:20,movement:2,attack:3},{level:1,health:25,movement:2,attack:4},{level:2,health:30,movement:3,attack:5},{level:3,health:36,movement:3,attack:6},{level:4,health:42,movement:3,attack:7},{level:5,health:50,movement:4,attack:7},{level:6,health:70,movement:4,attack:8},{level:7,health:90,movement:4,attack:9}]},{name:"frost-demon",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3},{level:1,health:6,movement:2,attack:3,actions:[{type:"retaliate",value:1}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"retaliate",value:2}]},{level:5,health:13,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:25,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:0,health:10,movement:3,attack:3},{type:"elite",level:1,health:10,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:12,movement:4,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:4,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:22,movement:4,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:29,movement:4,attack:6,actions:[{type:"retaliate",value:4}]},{type:"elite",level:7,health:40,movement:4,attack:7,actions:[{type:"retaliate",value:4}]}]},{name:"frozen-corpse-scenario-118",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"shield",value:3}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:4}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:4}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:4}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:5}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:5}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:4},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:5},{type:"retaliate",value:3}]}]},{name:"frozen-corpse-scenario-32",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"custom",value:"%data.custom.fh.frozen-corpse-scenario-32.1%"}]}]},{name:"frozen-corpse-scenario-65",edition:"fh",deck:"frozen-corpse",hidden:!0,count:6,standeeShare:"frozen-corpse",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2,actions:[{type:"push",value:1}]},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"push",value:2}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"push",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1},{type:"push",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:1}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2},{type:"push",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3},{type:"push",value:2}]}]},{name:"frozen-corpse",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:1,attack:2},{level:1,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:10,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:4,health:12,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:15,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:6,health:17,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:10,movement:2,attack:2},{type:"elite",level:1,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:2,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{type:"elite",level:3,health:14,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:4,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{type:"elite",level:5,health:20,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{type:"elite",level:6,health:24,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{type:"elite",level:7,health:31,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"frozen-fist",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"stun"}]},{type:"element",value:"ice"}],[{type:"shield",value:"[L/3+1{$math.ceil}]"},{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:3,small:!0}]}]]},stats:[{level:0,health:"Cx13",movement:3,attack:"Cx2"},{level:1,health:"Cx15",movement:3,attack:"Cx2"},{level:2,health:"Cx16",movement:3,attack:"Cx3"},{level:3,health:"Cx20",movement:4,attack:"Cx3"},{level:4,health:"Cx22",movement:4,attack:"Cx4"},{level:5,health:"Cx27",movement:4,attack:"Cx4"},{level:6,health:"Cx36",movement:4,attack:"Cx5"},{level:7,health:"Cx47",movement:4,attack:"Cx5"}]},{name:"giant-piranha-pig-boss",edition:"fh",boss:!0,hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.2%"}],[{type:"custom",value:"%data.custom.fh.giant-piranha-pig-boss.3%"},{type:"summon",value:"piranha-pig"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"giant-piranha-pig",edition:"fh",deck:"piranha-pig",hidden:!0,count:1,standeeShare:"piranha-pig",baseStat:{type:"normal",movement:1},stats:[{level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:0,health:"7xC",attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:"7xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:2,health:"9xC",attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:3,health:"11xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"15xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"19xC",attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"25xC",attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]},{type:"elite",level:7,health:"33xC",attack:6,actions:[{type:"shield",value:1},{type:"condition",value:"wound"}]}]},{name:"guard-captain",edition:"fh",deck:"guard",hidden:!0,count:6,standeeShare:"city-guard",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2},{level:1,health:5,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:7,health:10,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:0,health:6,movement:2,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:6,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:1}]},{type:"elite",level:4,health:10,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:6,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]},{type:"elite",level:7,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"retaliate",value:2}]}]},{name:"harbinger-of-shadow-1",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0}],[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow-2",edition:"fh",deck:"boss",boss:!0,count:1,standeeShare:"harbinger-of-shadow",baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harbinger-of-shadow",edition:"fh",deck:"boss",boss:!0,count:2,baseStat:{type:"boss",health:"7xC",movement:2,attack:3,immunities:["wound","poison","immobilize","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus"},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}],small:!0},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.2%",small:!0}],[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0}]},{type:"custom",value:"%data.custom.fh.harbinger-of-shadow.1%",small:!0}]]},stats:[{level:0,health:24,movement:2,attack:3},{level:1,health:30,movement:3,attack:3},{level:2,health:39,movement:3,attack:4},{level:3,health:48,movement:3,attack:5},{level:4,health:60,movement:3,attack:5},{level:5,health:72,movement:3,attack:6},{level:6,health:97,movement:3,attack:7},{level:7,health:125,movement:3,attack:8}]},{name:"harrower-infester",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:6,movement:2,attack:2},{level:1,health:7,movement:2,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:8,movement:2,attack:2,actions:[{type:"retaliate",value:2}]},{level:3,health:10,movement:2,attack:3,actions:[{type:"retaliate",value:2}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{level:7,health:18,movement:3,attack:5,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:0,health:12,movement:2,attack:2},{type:"elite",level:1,health:12,movement:3,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:3,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:17,movement:3,attack:3,actions:[{type:"retaliate",value:3}]},{type:"elite",level:4,health:19,movement:3,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:27,movement:3,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]},{type:"elite",level:7,health:32,movement:4,attack:6,actions:[{type:"retaliate",value:4}],immunities:["poison"]}]},{name:"hateful-corpse",edition:"fh",deck:"living-doom",boss:!0,hidden:!0,count:1,standeeShare:"living-doom",baseStat:{type:"boss"},stats:[{level:0,health:"10xC/2",movement:2,attack:6,actions:[{type:"shield",value:1}],immunities:["disarm","stun"]},{level:1,health:"10xC/2",movement:3,attack:6,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:2,health:"11xC/2",movement:3,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:3,health:"14xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:4,health:"18xC/2",movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:5,health:"20xC/2",movement:4,attack:8,actions:[{type:"shield",value:2}],immunities:["disarm","stun"]},{level:6,health:"27xC/2",movement:4,attack:9,actions:[{type:"shield",value:2}],immunities:["bane","disarm","stun"]},{level:7,health:"30xC/2",movement:4,attack:9,actions:[{type:"shield",value:3}],immunities:["bane","disarm","stun"]}]},{name:"hound-scenario-0",edition:"fh",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound-scenario-112",edition:"fh",deck:"hound",hidden:!0,count:6,standeeShare:"hound",baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:12,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:16,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:18,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:20,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:28,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:34,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:12,movement:5,attack:2},{type:"elite",level:1,health:12,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:16,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:22,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:26,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:34,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:46,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hound",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:2},{level:1,health:4,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:2,health:6,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:3,health:8,movement:4,attack:2,actions:[{type:"retaliate",value:1}]},{level:4,health:9,movement:4,attack:3,actions:[{type:"retaliate",value:1}]},{level:5,health:10,movement:4,attack:3,actions:[{type:"retaliate",value:2}]},{level:6,health:14,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{level:7,health:17,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:0,health:6,movement:5,attack:2},{type:"elite",level:1,health:6,movement:5,attack:2,actions:[{type:"retaliate",value:2}]},{type:"elite",level:2,health:7,movement:5,attack:3,actions:[{type:"retaliate",value:2}]},{type:"elite",level:3,health:8,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:4,health:11,movement:5,attack:4,actions:[{type:"retaliate",value:2}]},{type:"elite",level:5,health:13,movement:5,attack:4,actions:[{type:"retaliate",value:3}]},{type:"elite",level:6,health:17,movement:6,attack:5,actions:[{type:"retaliate",value:3}]},{type:"elite",level:7,health:23,movement:6,attack:6,actions:[{type:"retaliate",value:3}]}]},{name:"hungry-maw",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"frozen-corpse",baseStat:{type:"boss",immunities:["wound","poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]},{type:"element",value:"ice"}],[{type:"shield",value:1},{type:"move",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"move",value:2,valueType:"add",small:!0},{type:"sufferDamage",value:1,small:!0}]}]},{type:"attack",value:0,valueType:"plus"},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"push",value:2,valueType:"add",small:!0},{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"10xC",movement:2,attack:2},{level:1,health:"10xC",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:2,health:"11xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:1}]},{level:3,health:"14xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:4,health:"17xC",movement:2,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:2}]},{level:5,health:"20xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"retaliate",value:3}]},{level:6,health:"24xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]},{level:7,health:"31xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"retaliate",value:3}]}]},{name:"ice-wraith",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:12,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:16,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:7,movement:4,attack:3},{type:"elite",level:1,health:8,movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:10,movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:10,movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:16,movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:21,movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"lady-in-white",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"7xC",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"8xC",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"10xC",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"10xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"12xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"16xC",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"21xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"27xC",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"7xC",movement:4,attack:3},{type:"elite",level:1,health:"8xC",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"10xC",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"10xC",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"12xC",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"16xC",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"21xC",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"27xC",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"large-vermling-scout",edition:"fh",deck:"scout",hidden:!0,count:10,standeeShare:"vermling-scout",baseStat:{type:"normal",actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,immunities:["immobilize","disarm","stun"]}]},{name:"laser-spires",edition:"fh",boss:!0,hidden:!0,count:1,baseStat:{type:"boss",health:0,special:[[{type:"custom",value:"%data.custom.fh.laser-spires.3%"}],[{type:"custom",value:"%data.custom.fh.laser-spires.4%"}]]},stats:[{level:0},{level:1},{level:2},{level:3},{level:4},{level:5},{level:6},{level:7}]},{name:"lightning-eel",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},stats:[{level:0,health:1,movement:2,attack:2},{level:1,health:2,movement:2,attack:2},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:6,movement:3,attack:3},{level:6,health:9,movement:4,attack:3},{level:7,health:11,movement:4,attack:4},{type:"elite",level:0,health:3,movement:3,attack:2,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:2,health:5,movement:3,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:3,health:6,movement:4,attack:3,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:4,health:7,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:5,health:9,movement:4,attack:4,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:6,health:13,movement:4,attack:5,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]},{type:"elite",level:7,health:17,movement:4,attack:6,actions:[{type:"custom",value:"%data.custom.fh.lightning-eel.1%"}]}]},{name:"living-bones-scenario-118",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"shield",value:3},{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"shield",value:3},{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:4},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:4},{type:"target",value:3}]}]},{name:"living-bones-scenario-65",edition:"fh",deck:"living-bones",hidden:!0,count:6,standeeShare:"living-bones",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2},{type:"push",value:1}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:1}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"push",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2},{type:"push",value:1}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:1}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3},{type:"push",value:2}]}]},{name:"living-bones",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:1,actions:[{type:"target",value:2}]},{level:1,health:5,movement:3,attack:1,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:5,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:7,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:7,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:5,health:9,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:6,health:12,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:7,health:15,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:0,health:6,movement:4,attack:2,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:6,movement:4,attack:2,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:2,health:7,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:3,health:9,movement:4,attack:3,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:4,health:10,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:5,health:13,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:6,health:18,movement:5,attack:4,actions:[{type:"shield",value:1},{type:"target",value:3}]},{type:"elite",level:7,health:21,movement:6,attack:5,actions:[{type:"shield",value:1},{type:"target",value:3}]}]},{name:"living-doom",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:2,attack:3},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:2,health:9,movement:2,attack:4,actions:[{type:"shield",value:1}]},{level:3,health:9,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:11,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:14,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:18,movement:3,attack:5,actions:[{type:"shield",value:2}]},{level:7,health:24,movement:4,attack:5,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:10,movement:3,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:11,movement:3,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:14,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:18,movement:4,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:20,movement:4,attack:6,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:27,movement:4,attack:7,actions:[{type:"shield",value:2}],immunities:["bane"]},{type:"elite",level:7,health:30,movement:4,attack:7,actions:[{type:"shield",value:3}],immunities:["bane"]}]},{name:"living-spirit",edition:"fh",flying:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:2,movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:2,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3}]},{level:6,health:6,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:7,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:3,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,movement:3,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:3,movement:3,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:4,movement:4,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:4,movement:4,attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:5,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:8,movement:4,attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:10,movement:4,attack:6,actions:[{type:"shield",value:4}]}]},{name:"lord-of-chaos",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"7xC",attack:3,immunities:["wound","disarm","stun","curse"],special:[[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",player4:"boss"},marker:"a"},{monster:{name:"chaos-spark",type:"boss"},marker:"b"}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0},{type:"condition",value:"immobilize",small:!0}]}],[{type:"spawn",value:"monsterStandee",valueObject:[{monster:{name:"chaos-spark",type:"boss"},marker:"a"},{monster:{name:"chaos-spark",player3:"boss",player4:"boss"},marker:"b"}]},{type:"custom",value:"%data.custom.fh.lord-of-chaos.1%",small:!0}]]},stats:[{level:0,health:"Cx25",attack:4},{level:1,health:"Cx30",attack:4},{level:2,health:"Cx35",attack:5},{level:3,health:"Cx43",attack:5},{level:4,health:"Cx50",attack:6},{level:5,health:"Cx60",attack:6},{level:6,health:"Cx79",attack:7},{level:7,health:"Cx99",attack:8}]},{name:"lurker-clawcrusher-scenario-60",edition:"fh",deck:"lurker-clawcrusher",hidden:!0,count:2,standeeShare:"lurker-clawcrusher",baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:8,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-clawcrusher",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:2,health:10,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:3,health:13,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:4,health:13,movement:3,attack:2,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:15,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:23,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}],immunities:["stun"]},{type:"elite",level:0,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:10,movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:2,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:3,health:14,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:4,health:18,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:5,health:21,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"condition",value:"impair"}]},{type:"elite",level:6,health:22,movement:3,attack:6,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]},{type:"elite",level:7,health:29,movement:3,attack:7,actions:[{type:"shield",value:3},{type:"target",value:2},{type:"condition",value:"impair"}],immunities:["stun"]}]},{name:"lurker-conductor",edition:"fh",deck:"lurker-clawcrusher",boss:!0,hidden:!0,count:1,standeeShare:"lurker-clawcrusher",baseStat:{type:"boss",immunities:["disarm","stun"]},stats:[{level:0,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{level:1,health:"10xC/2",movement:2,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:2,health:"13xC/2",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:3,health:"14xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:4,health:"18xC/2",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:5,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:6,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]},{level:7,health:"21xC/2",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2}]}]},{name:"lurker-mindsnipper-scenario-60",edition:"fh",deck:"lurker-mindsnipper",hidden:!0,count:2,standeeShare:"lurker-mindsnipper",baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:3,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:4,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:7,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-mindsnipper",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:6,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:2,health:6,movement:2,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:2}]},{level:3,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:4,health:9,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:5,health:12,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:6,health:15,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"target",value:2}]},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:8,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:11,movement:3,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:13,movement:4,attack:4,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:15,movement:4,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:22,movement:5,attack:5,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:27,movement:5,attack:6,actions:[{type:"target",value:2},{type:"pierce",value:4},{type:"condition",value:"muddle"}]}]},{name:"lurker-soldier",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"target",value:2}]},{level:1,health:7,movement:2,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:2,health:9,movement:3,attack:2,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:3,health:10,movement:3,attack:3,actions:[{type:"target",value:2},{type:"pierce",value:1}]},{level:4,health:10,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:5,health:11,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:0,health:7,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2}]},{type:"elite",level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:1}]},{type:"elite",level:2,health:11,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:3,health:13,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"target",value:2},{type:"pierce",value:2}]},{type:"elite",level:4,health:13,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:15,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:19,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:27,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"target",value:2},{type:"pierce",value:3}]}]},{name:"lurker-wavethrower-scenario-128",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-131",edition:"fh",hidden:!0,count:6,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower-scenario-60",edition:"fh",deck:"lurker-wavethrower",hidden:!0,count:2,standeeShare:"lurker-wavethrower",baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:6,movement:1,attack:2},{level:2,health:8,movement:1,attack:2},{level:3,health:10,movement:2,attack:2},{level:4,health:11,movement:2,attack:3},{level:5,health:14,movement:2,attack:3},{level:6,health:17,movement:3,attack:3},{level:7,health:20,movement:3,attack:4},{type:"elite",level:0,health:6,movement:1,attack:3},{type:"elite",level:1,health:7,movement:1,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:5,actions:[{type:"condition",value:"immobilize"}]}]},{name:"lurker-wavethrower",edition:"fh",count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:1},{level:1,health:6,movement:1,attack:1},{level:2,health:8,movement:1,attack:1},{level:3,health:10,movement:2,attack:1},{level:4,health:11,movement:2,attack:2},{level:5,health:14,movement:2,attack:2},{level:6,health:17,movement:3,attack:2},{level:7,health:20,movement:3,attack:3},{type:"elite",level:0,health:6,movement:1,attack:2},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:2,health:9,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:3,health:11,movement:2,attack:2,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:4,health:13,movement:2,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:5,health:16,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:6,health:21,movement:3,attack:3,actions:[{type:"condition",value:"immobilize"}]},{type:"elite",level:7,health:26,movement:3,attack:4,actions:[{type:"condition",value:"immobilize"}]}]},{name:"night-demon",edition:"fh",count:6,baseStat:{type:"normal",actions:[{type:"custom",value:"%data.custom.fh.night-demon.2%"}]},stats:[{level:0,health:3,movement:3,attack:3},{level:1,health:5,movement:3,attack:3},{level:2,health:6,movement:3,attack:4},{level:3,health:7,movement:4,attack:4},{level:4,health:8,movement:4,attack:5},{level:5,health:11,movement:4,attack:5},{level:6,health:16,movement:4,attack:5},{level:7,health:20,movement:4,attack:6},{type:"elite",level:0,health:5,movement:4,attack:4},{type:"elite",level:1,health:8,movement:4,attack:4},{type:"elite",level:2,health:11,movement:4,attack:4},{type:"elite",level:3,health:13,movement:4,attack:5},{type:"elite",level:4,health:15,movement:5,attack:5},{type:"elite",level:5,health:17,movement:5,attack:6},{type:"elite",level:6,health:23,movement:5,attack:7},{type:"elite",level:7,health:30,movement:5,attack:8}]},{name:"ooze",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:1,attack:2},{level:1,health:5,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:2,health:7,movement:1,attack:2,actions:[{type:"shield",value:1}]},{level:3,health:8,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:4,health:9,movement:2,attack:3,actions:[{type:"shield",value:1}]},{level:5,health:10,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:6,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{level:7,health:17,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:0,health:8,movement:1,attack:2},{type:"elite",level:1,health:9,movement:1,attack:2,actions:[{type:"shield",value:1}]},{type:"elite",level:2,health:11,movement:1,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:12,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:21,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:27,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"condition",value:"poison"}]}]},{name:"orphan",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",immunities:["wound","brittle","poison","immobilize","disarm","stun"],special:[[{type:"heal",value:"[Cx(3/2+Lx0.5){$math.ceil}]",subActions:[{type:"custom",value:"%data.custom.fh.orphan.1%",small:!0}]}],[{type:"move",value:0,valueType:"plus",subActions:[{type:"jump",value:"",small:!0}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:6,small:!0},{type:"condition",value:"brittle",small:!0}]}]]},stats:[{level:0,health:"Cx7",movement:3,attack:"C"},{level:1,health:"Cx9",movement:3,attack:"C+1"},{level:2,health:"Cx12",movement:3,attack:"C+1"},{level:3,health:"Cx15",movement:3,attack:"C+2"},{level:4,health:"Cx20",movement:3,attack:"C+3"},{level:5,health:"Cx24",movement:3,attack:"C+4"},{level:6,health:"Cx36",movement:3,attack:"C+4"},{level:7,health:"Cx45",movement:3,attack:"C+5"}]},{name:"piranha-pig",edition:"fh",catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:2,attack:2},{level:1,health:5,movement:3,attack:2},{level:2,health:6,movement:3,attack:3},{level:3,health:8,movement:3,attack:3},{level:4,health:9,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:5,health:11,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:6,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:7,health:21,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:2,attack:3},{type:"elite",level:1,health:7,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:11,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:15,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:19,movement:5,attack:4,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:25,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:33,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]}]},{name:"polar-bear-scenario-117",edition:"fh",deck:"polar-bear",hidden:!0,standeeCount:5,standeeShare:"polar-bear",baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"polar-bear",edition:"fh",count:6,randomCount:4,baseStat:{type:"normal",immunities:["immobilize","stun"]},stats:[{level:0,health:6,movement:2,attack:3,immunities:["immobilize","stun"]},{level:1,health:8,movement:2,attack:3,immunities:["immobilize","stun"]},{level:2,health:10,movement:2,attack:3,immunities:["immobilize","stun"]},{level:3,health:10,movement:3,attack:3,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:4,health:12,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:5,health:16,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:6,health:23,movement:4,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{level:7,health:29,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:2,health:14,movement:3,attack:4,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:3,health:16,movement:3,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:4,health:20,movement:4,attack:5,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:5,health:24,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","stun"]},{type:"elite",level:6,health:36,movement:4,attack:6,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]},{type:"elite",level:7,health:44,movement:4,attack:7,actions:[{type:"condition",value:"wound"}],immunities:["immobilize","disarm","stun"]}]},{name:"power-core",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal"},stats:[{level:0,health:"[7xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"[8xC/2{$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"[10xC/2{$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"[10xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:4,health:"[12xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:5,health:"[16xC/2{$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}]},{level:6,health:"[21xC/2{$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{level:7,health:"[27xC/2{$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"}],immunities:["curse"]},{type:"elite",level:0,health:"[7xC/2{$math.floor}]",movement:4,attack:3},{type:"elite",level:1,health:"[8xC/2{$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]}]},{type:"elite",level:2,health:"[10xC/2{$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]}]},{type:"elite",level:3,health:"[10xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"}]},{type:"elite",level:4,health:"[12xC/2{$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:5,health:"[16xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}]},{type:"elite",level:6,health:"[21xC/2{$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]},{type:"elite",level:7,health:"[27xC/2{$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"}],immunities:["curse"]}]},{name:"prince-of-frost",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}],immunities:["immobilize","disarm","stun","curse"],special:[[{type:"custom",value:"%data.custom.fh.prince-of-frost.1%"},{type:"heal",value:"[L/2+2{$math.ceil}]",subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"custom",value:"%data.custom.fh.prince-of-frost.2%"},{type:"push",value:2,subActions:[{type:"target",value:"[C-1]",small:!0},{type:"range",value:1,small:!0},{type:"condition",value:"brittle",small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}}]}]]},stats:[{level:0,health:"Cx10",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:2,small:!0}]},{type:"condition",value:"brittle"}]},{level:1,health:"Cx13",movement:2,attack:2,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:2,health:"Cx15",movement:2,attack:2,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:3,health:"Cx18",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:4,health:"Cx24",movement:3,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:5,health:"Cx25",movement:3,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:6,health:"Cx34",movement:3,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]},{type:"condition",value:"brittle"}]},{level:7,health:"Cx42",movement:3,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:4,small:!0}]},{type:"condition",value:"brittle"}]}]},{name:"program-director",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx10",attack:"C",immunities:["wound","poison","stun"],special:[[{type:"specialTarget",value:"focusEnemyFarthest",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.1%",small:!0}]}]},{type:"attack",value:0,valueType:"plus",subActions:[{type:"target",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.program-director.2%"},{type:"custom",value:"%data.custom.fh.program-director.3%",subActions:[{type:"teleport",subActions:[{type:"custom",value:"%data.custom.fh.program-director.4%",small:!0}]}]},{type:"attack",value:2,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx18",attack:"C+2"},{level:4,health:"Cx23",attack:"C+2"},{level:5,health:"Cx27",attack:"C+3"},{level:6,health:"Cx40",attack:"C+3"},{level:7,health:"Cx50",attack:"C+4"}]},{name:"reluctant-ghost-section-149.3",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:3,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"reluctant-ghost",edition:"fh",deck:"living-spirit",boss:!0,hidden:!0,count:1,standeeShare:"living-spirit",baseStat:{type:"boss",movement:2,note:"Focus on moving torward the closest starting hex"},stats:[{level:0,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:1}]},{level:1,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:2,health:"(2xC)/2",attack:2,actions:[{type:"shield",value:2}]},{level:3,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{level:4,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:5,health:"(4xC)/2",attack:3,actions:[{type:"shield",value:3}]},{level:6,health:"(6xC)/2",attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"(7xC)/2",attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"(3xC)/2",attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"(3xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"(4xC)/2",attack:4,actions:[{type:"shield",value:4}]},{type:"elite",level:5,health:"(5xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:6,health:"(8xC)/2",attack:5,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"(10xC)/2",attack:6,actions:[{type:"shield",value:4}]}]},{name:"render",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx20",movement:4,attack:"C+2",actions:[{type:"condition",value:"wound"}],immunities:["brittle","immobilize","disarm","stun","curse"],special:[[{type:"grid",value:"",subActions:[{type:"teleport",value:""},{type:"custom",value:"%data.custom.fh.render.1%",small:!0}]},{type:"attack",value:2,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"push",value:2,small:!0}]}],[{type:"custom",value:"%data.custom.fh.render.2%",small:!0},{type:"pull",value:2,subActions:[{type:"target",value:"[C]",small:!0},{type:"range",value:5,small:!0}]},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0}]},{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]]},stats:[{level:0,health:"Cx14",movement:3,attack:"C"},{level:1,health:"Cx16",movement:4,attack:"C+2"},{level:2,health:"Cx20",movement:4,attack:"C+2"},{level:3,health:"Cx25",movement:4,attack:"C+3"},{level:4,health:"Cx32",movement:4,attack:"C+3"},{level:5,health:"Cx39",movement:4,attack:"C+4"},{level:6,health:"Cx54",movement:4,attack:"C+5"},{level:7,health:"Cx70",movement:4,attack:"C+6"}]},{name:"rending-drake",edition:"fh",catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:3,attack:3},{level:1,health:6,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{level:2,health:7,movement:4,attack:3,actions:[{type:"condition",value:"wound"}]},{level:3,health:7,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"wound"}]},{level:5,health:10,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{level:6,health:14,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{level:7,health:18,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:0,health:7,movement:4,attack:4},{type:"elite",level:1,health:7,movement:4,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:9,movement:5,attack:5,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:3,health:10,movement:5,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:4,health:12,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:5,health:15,movement:6,attack:6,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:6,health:19,movement:6,attack:7,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:7,health:24,movement:6,attack:8,actions:[{type:"condition",value:"wound"}]}]},{name:"rimeheart",edition:"fh",deck:"ice-wraith",hidden:!0,count:1,standeeShare:"ice-wraith",baseStat:{type:"normal",immunities:["disarm","stun"]},stats:[{level:0,health:"[3+7x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:1},{type:"push",value:1}],immunities:["disarm","stun"]},{level:1,health:"[3+8x(C/2){$math.floor}]",movement:2,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:2,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:2,actions:[{type:"shield",value:2},{type:"push",value:1}],immunities:["disarm","stun"]},{level:3,health:"[3+10x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:1}],immunities:["disarm","stun"]},{level:4,health:"[3+12x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:5,health:"[3+16x(C/2){$math.floor}]",movement:3,attack:3,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun"]},{level:6,health:"[3+21x(C/2){$math.floor}]",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{level:7,health:"[3+27x(C/2){$math.floor}]",movement:3,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"curse"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:0,health:"[3+7x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:1,health:"[3+8x(C/2){$math.floor}]",movement:4,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2,small:!0}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:2,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:3,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:3,health:"[3+10x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:2}]},{type:"condition",value:"wound"},{type:"push",value:1}],immunities:["disarm","stun"]},{type:"elite",level:4,health:"[3+12x(C/2){$math.floor}]",movement:5,attack:4,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:5,health:"[3+16x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun"]},{type:"elite",level:6,health:"[3+21x(C/2){$math.floor}]",movement:5,attack:5,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]},{type:"elite",level:7,health:"[3+27x(C/2){$math.floor}]",movement:5,attack:6,actions:[{type:"retaliate",value:4,subActions:[{type:"range",value:3}]},{type:"condition",value:"wound"},{type:"push",value:2}],immunities:["disarm","stun","curse"]}]},{name:"robotic-boltshooter",edition:"fh",count:6,baseStat:{type:"normal",immunities:["wound"]},stats:[{level:0,health:4,movement:1,attack:1,actions:[{type:"target",value:2}]},{level:1,health:4,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:2,health:6,movement:1,attack:2,actions:[{type:"target",value:2}]},{level:3,health:6,movement:1,attack:2,actions:[{type:"target",value:3}]},{level:4,health:6,movement:1,attack:3,actions:[{type:"target",value:3}]},{level:5,health:8,movement:2,attack:3,actions:[{type:"target",value:3}]},{level:6,health:10,movement:2,attack:4,actions:[{type:"target",value:3}]},{level:7,health:13,movement:2,attack:4,actions:[{type:"target",value:3}],immunities:["wound","disarm"]},{type:"elite",level:0,health:7,movement:1,attack:1,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:1,health:7,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:2,health:9,movement:1,attack:2,actions:[{type:"target",value:3}],immunities:["wound"]},{type:"elite",level:3,health:10,movement:1,attack:2,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:4,health:11,movement:1,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:5,health:14,movement:2,attack:3,actions:[{type:"target",value:4}],immunities:["wound"]},{type:"elite",level:6,health:17,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]},{type:"elite",level:7,health:23,movement:2,attack:4,actions:[{type:"target",value:4}],immunities:["wound","disarm"]}]},{name:"ruined-machine",edition:"fh",catching:!0,count:10,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison"]},stats:[{level:0,health:3,movement:1,attack:1,immunities:["poison"]},{level:1,health:5,movement:1,attack:1,immunities:["poison"]},{level:2,health:6,movement:2,attack:1,immunities:["poison"]},{level:3,health:6,movement:2,attack:2,immunities:["poison"]},{level:4,health:8,movement:2,attack:2,immunities:["poison"]},{level:5,health:10,movement:2,attack:2,immunities:["poison"]},{level:6,health:12,movement:2,attack:3,immunities:["poison"]},{level:7,health:15,movement:3,attack:3,immunities:["poison","immobilize"]},{type:"elite",level:0,health:5,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:1,health:8,movement:1,attack:2,immunities:["poison"]},{type:"elite",level:2,health:9,movement:2,attack:2,immunities:["poison"]},{type:"elite",level:3,health:10,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:4,health:13,movement:2,attack:3,immunities:["poison"]},{type:"elite",level:5,health:15,movement:3,attack:3,immunities:["poison"]},{type:"elite",level:6,health:18,movement:3,attack:4,immunities:["poison","immobilize"]},{type:"elite",level:7,health:22,movement:4,attack:4,immunities:["poison","immobilize"]}]},{name:"savvas-icestorm",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:7,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:1,health:10,movement:2,attack:2,actions:[{type:"pierce",value:3}]},{level:2,health:12,movement:3,attack:2,actions:[{type:"pierce",value:3}]},{level:3,health:12,movement:3,attack:2,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:6,health:16,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:0,health:12,movement:2,attack:3,actions:[{type:"pierce",value:3}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:2,health:15,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{type:"elite",level:4,health:17,movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:5,health:20,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:6,health:26,movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{type:"elite",level:7,health:33,movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"savvas-lavaflow",edition:"fh",count:4,baseStat:{type:"normal"},stats:[{level:0,health:8,movement:3,attack:2},{level:1,health:9,movement:3,attack:2,actions:[{type:"condition",value:"poison"}]},{level:2,health:11,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:3,health:14,movement:3,attack:3,actions:[{type:"condition",value:"poison"}]},{level:4,health:16,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:5,health:20,movement:3,attack:4,actions:[{type:"condition",value:"poison"}]},{level:6,health:28,movement:4,attack:4,actions:[{type:"condition",value:"poison"}]},{level:7,health:35,movement:4,attack:5,actions:[{type:"condition",value:"poison"}]},{type:"elite",level:0,health:13,movement:3,attack:3},{type:"elite",level:1,health:15,movement:3,attack:3,actions:[{type:"condition",value:"wound"}]},{type:"elite",level:2,health:18,movement:3,attack:3,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:3,health:21,movement:3,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:4,health:25,movement:4,attack:4,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:5,health:30,movement:4,attack:5,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:6,health:40,movement:4,attack:6,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]},{type:"elite",level:7,health:50,movement:4,attack:7,actions:[{type:"condition",value:"wound"},{type:"condition",value:"poison"}]}]},{name:"scabwit",edition:"fh",deck:"priest",boss:!0,hidden:!0,count:1,standeeShare:"vermling-priest",baseStat:{type:"boss",movement:2},stats:[{level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{level:6,health:8,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]},{level:7,health:11,attack:5,actions:[{type:"shield",value:5},{type:"condition",value:"muddle"}]}]},{name:"seeker-of-the-abyss",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",actions:[{type:"target",value:2}],immunities:["poison","disarm","stun","muddle","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:2,valueType:"minus",subActions:[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.1%",small:!0}]}],[{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.2%",small:!0},{type:"custom",value:"%data.custom.fh.seeker-of-the-abyss.3%",small:!0}]]},stats:[{level:0,health:"Cx13",movement:2,attack:5},{level:1,health:"Cx16",movement:3,attack:6},{level:2,health:"Cx18",movement:3,attack:7},{level:3,health:"Cx21",movement:3,attack:8},{level:4,health:"Cx24",movement:3,attack:9},{level:5,health:"Cx27",movement:4,attack:10},{level:6,health:"Cx37",movement:4,attack:11},{level:7,health:"Cx48",movement:4,attack:12}]},{name:"shrike-fiend",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,immunities:["poison","wound","muddle"]},stats:[{level:0,health:6,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:1,health:8,movement:1,attack:2,immunities:["poison","wound","muddle"]},{level:2,health:9,movement:1,attack:3,immunities:["poison","wound","muddle"]},{level:3,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:4,health:13,movement:2,attack:3,immunities:["poison","wound","muddle"]},{level:5,health:15,movement:2,attack:4,immunities:["poison","wound","muddle"]},{level:6,health:21,movement:3,attack:4,immunities:["poison","wound","muddle"]},{level:7,health:29,movement:3,attack:4,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:0,health:8,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:1,health:10,movement:2,attack:3,immunities:["poison","wound","muddle"]},{type:"elite",level:2,health:12,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:3,health:16,movement:2,attack:4,immunities:["poison","wound","muddle"]},{type:"elite",level:4,health:20,movement:2,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:5,health:25,movement:3,attack:5,immunities:["poison","wound","muddle"]},{type:"elite",level:6,health:33,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]},{type:"elite",level:7,health:45,movement:3,attack:6,immunities:["poison","wound","muddle","disarm"]}]},{name:"snow-imp-scenario-65",edition:"fh",deck:"imp",flying:!0,catching:!0,hidden:!0,count:10,standeeShare:"snow-imp",baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"push",value:1}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:0,health:4,movement:2,attack:2,actions:[{type:"push",value:1}]},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"},{type:"push",value:1}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"},{type:"push",value:2}]}]},{name:"snow-imp",edition:"fh",deck:"imp",flying:!0,catching:!0,count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:2,attack:1},{level:1,health:2,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"condition",value:"brittle"}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:4,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:5,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{level:6,health:7,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{level:7,health:11,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:0,health:4,movement:2,attack:2},{type:"elite",level:1,health:4,movement:2,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:2,health:5,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:3,health:7,movement:3,attack:2,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:4,health:8,movement:3,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:5,health:10,movement:4,attack:3,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:6,health:13,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]},{type:"elite",level:7,health:18,movement:4,attack:4,actions:[{type:"condition",value:"brittle"}]}]},{name:"snowdancer",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",movement:3,immunities:["wound","poison","disarm","stun","curse"],special:[[{type:"move",value:1,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"},{type:"range",value:3,small:!0},{type:"condition",value:"muddle",small:!0}]}],[{type:"attack",value:1,valueType:"plus",subActions:[{type:"target",value:2,small:!0},{type:"range",value:4,small:!0},{type:"push",value:2,small:!0},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"immobilize"}]}]}]]},stats:[{level:0,health:"Cx10",attack:"C"},{level:1,health:"Cx12",attack:"C+1"},{level:2,health:"Cx15",attack:"C+1"},{level:3,health:"Cx17",attack:"C+2"},{level:4,health:"Cx22",attack:"C+2"},{level:5,health:"Cx25",attack:"C+3"},{level:6,health:"Cx35",attack:"C+4"},{level:7,health:"Cx45",attack:"C+5"}]},{name:"spitting-drake",edition:"fh",flying:!0,catching:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:4,movement:3,attack:3},{level:1,health:5,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:2,health:7,movement:3,attack:3,actions:[{type:"condition",value:"muddle"}]},{level:3,health:8,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:4,health:9,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:5,health:12,movement:4,attack:4,actions:[{type:"condition",value:"muddle"}]},{level:6,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{level:7,health:22,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:7,movement:3,attack:4},{type:"elite",level:1,health:9,movement:3,attack:4,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:2,health:10,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:3,health:13,movement:3,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:4,health:16,movement:4,attack:5,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:19,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:27,movement:4,attack:6,actions:[{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:34,movement:4,attack:7,actions:[{type:"condition",value:"muddle"}]}]},{name:"steel-automaton-scenario-128",edition:"fh",deck:"imp",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton-scenario-134",edition:"fh",deck:"steel-automaton",hidden:!0,count:6,standeeShare:"steel-automaton",baseStat:{type:"normal",immunities:["poison","disarm"]},stats:[{level:0,health:"9xC/2",movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:"9xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:"12xC/2",movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:"14xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:"18xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:"21xC/2",movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:"22xC/2",movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:"27xC/2",movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:"10xC/2",movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:"12xC/2",movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:"14xC/2",movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:"17xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:"22xC/2",movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:"25xC/2",movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:"26xC/2",movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:"36xC/2",movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"steel-automaton",edition:"fh",count:6,baseStat:{type:"normal",health:5,movement:1,attack:2,actions:[{type:"shield",value:3}],immunities:["poison","disarm"]},stats:[{level:0,health:9,movement:1,attack:3,actions:[{type:"shield",value:1}]},{level:1,health:9,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:2,health:12,movement:2,attack:3,actions:[{type:"shield",value:2}]},{level:3,health:14,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:4,health:18,movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:5,health:21,movement:3,attack:4,actions:[{type:"shield",value:2}]},{level:6,health:22,movement:3,attack:4,actions:[{type:"shield",value:3}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:10,movement:2,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:12,movement:2,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:14,movement:2,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:17,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:22,movement:3,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:5,health:25,movement:3,attack:6,actions:[{type:"shield",value:3}]},{type:"elite",level:6,health:26,movement:3,attack:7,actions:[{type:"shield",value:4}]},{type:"elite",level:7,health:36,movement:4,attack:7,actions:[{type:"shield",value:4}]}]},{name:"sun-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal"},stats:[{level:0,health:5,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:1,health:8,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:2,health:10,movement:2,attack:2,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:3,health:11,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:4,health:13,movement:3,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:5,health:13,movement:3,attack:3,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:6,health:16,movement:3,attack:4,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{level:7,health:19,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:0,health:9,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:1,health:12,movement:2,attack:3,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:2,health:13,movement:2,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:3,health:16,movement:3,attack:4,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:4,health:18,movement:3,attack:5,actions:[{type:"shield",value:1},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:5,health:18,movement:3,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:6,health:25,movement:4,attack:5,actions:[{type:"shield",value:2},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]},{type:"elite",level:7,health:27,movement:4,attack:6,actions:[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.sun-demon.1%"}]}]},{name:"the-collector",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,immunities:["poison","immobilize","disarm","stun","curse"],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"ice",valueType:"minus",subActions:[{type:"condition",value:"disarm",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"dark",valueType:"minus",subActions:[{type:"condition",value:"curse",subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0}]}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"air"},{type:"element",value:"earth"},{type:"element",value:"light"}]}],[{type:"move",value:1,valueType:"plus"},{type:"attack",value:0,valueType:"plus",subActions:[{type:"element",value:"fire",valueType:"minus",subActions:[{type:"condition",value:"wound",small:!0}]},{type:"element",value:"air",valueType:"minus",subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"element",value:"earth",valueType:"minus",subActions:[{type:"heal",value:"[C]",subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"element",value:"light",valueType:"minus",subActions:[{type:"shield",value:"[(1+L)/6{$math.ceil}]"}]},{type:"concatenation",value:"",subActions:[{type:"element",value:"fire"},{type:"element",value:"ice"},{type:"element",value:"air"},{type:"element",value:"dark"}]}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3},{level:1,health:"Cx15",movement:3,attack:4},{level:2,health:"Cx19",movement:4,attack:4},{level:3,health:"Cx25",movement:4,attack:4},{level:4,health:"Cx30",movement:4,attack:5},{level:5,health:"Cx38",movement:5,attack:5},{level:6,health:"Cx54",movement:5,attack:6},{level:7,health:"Cx68",movement:5,attack:7}]},{name:"the-relic",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx12",movement:3,attack:3,note:"%game.custom.scenarioBook%",actions:[{type:"retaliate",value:1}],immunities:["wound","poison","immobilize","disarm","stun"],special:[[{type:"attack",value:1,valueType:"minus"}],[{type:"move",value:1,valueType:"minus"}]]},stats:[{level:0,health:"Cx12",movement:3,attack:3,actions:[{type:"retaliate",value:1}]},{level:1,health:"Cx13",movement:4,attack:4,actions:[{type:"retaliate",value:1}]},{level:2,health:"Cx15",movement:4,attack:5,actions:[{type:"retaliate",value:1}]},{level:3,health:"Cx18",movement:5,attack:5,actions:[{type:"retaliate",value:2}]},{level:4,health:"Cx21",movement:5,attack:6,actions:[{type:"retaliate",value:2}]},{level:5,health:"Cx25",movement:6,attack:6,actions:[{type:"retaliate",value:2}]},{level:6,health:"Cx33",movement:6,attack:7,actions:[{type:"retaliate",value:3}]},{level:7,health:"Cx43",movement:6,attack:8,actions:[{type:"retaliate",value:3}]}]},{name:"the-shimmer",edition:"fh",deck:"savvas-icestorm",boss:!0,hidden:!0,count:1,standeeShare:"savvas-icestorm",baseStat:{type:"boss"},stats:[{level:0,health:"12xC",movement:2,attack:3,actions:[{type:"pierce",value:3}]},{level:1,health:"12xC",movement:2,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:2,health:"15xC",movement:3,attack:3,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:3,health:"17xC",movement:3,attack:4,actions:[{type:"shield",value:1},{type:"pierce",value:3}]},{level:4,health:"17xC",movement:4,attack:4,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:5,health:"20xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"pierce",value:3}]},{level:7,health:"33xC",movement:4,attack:7,actions:[{type:"shield",value:2},{type:"pierce",value:3}]}]},{name:"tormentor",edition:"fh",deck:"boss",boss:!0,hidden:!0,count:1,standeeShare:"chaos-demon",baseStat:{type:"boss",actions:[{type:"condition",value:"muddle"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:"C-4",valueType:"plus",subActions:[{type:"range",value:4,small:!0},{type:"element",value:"earth",valueType:"minus",small:!0,subActions:[{type:"condition",value:"immobilize",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.1%",small:!0,subActions:[{type:"damage",value:"C-1"},{type:"element",value:"fire",valueType:"minus",small:!0,subActions:[{type:"damage",value:1,valueType:"add"}]}]},{type:"element",value:"light"}],[{type:"move",value:1,valueType:"minus"},{type:"attack",value:"C-5",valueType:"plus",subActions:[{type:"condition",value:"curse",small:!0},{type:"element",value:"air",valueType:"minus",small:!0,subActions:[{type:"target",value:1,valueType:"add",small:!0}]}]},{type:"custom",value:"%data.custom.fh.tormentor.2%",small:!0},{type:"push",value:1,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:1,small:!0},{type:"element",value:"ice",valueType:"minus",small:!0,subActions:[{type:"push",value:2,valueType:"add",small:!0}]}]},{type:"element",value:"dark"}]]},stats:[{level:0,health:"[10xCx3/2{$math.floor}]",movement:4,attack:3,immunities:["wound","stun"]},{level:1,health:"[12xCx3/2{$math.floor}]",movement:4,attack:4,immunities:["wound","stun"]},{level:2,health:"[14xCx3/2{$math.floor}]",movement:4,attack:5,immunities:["wound","stun"]},{level:3,health:"[18xCx3/2{$math.floor}]",movement:5,attack:5,immunities:["wound","stun"]},{level:4,health:"[21xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:5,health:"[26xCx3/2{$math.floor}]",movement:5,attack:6,immunities:["wound","stun"]},{level:6,health:"[33xCx3/2{$math.floor}]",movement:5,attack:8,immunities:["wound","stun","curse"]},{level:7,health:"[39xCx3/2{$math.floor}]",movement:6,attack:9,immunities:["wound","stun","curse"]}]},{name:"vanjal",edition:"fh",deck:"algox-icespeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-icespeaker",baseStat:{type:"boss",immunities:["bane","disarm","curse","immobilize","muddle","poison","stun","wound"]},stats:[{level:0,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2}]},{level:1,health:"8xC",movement:2,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:2,health:"10xC",movement:3,attack:4,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:3,health:"12xC",movement:2,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:4,health:"15xC",movement:4,attack:5,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:5,health:"18xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:6,health:"26xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]},{level:7,health:"35xC",movement:4,attack:6,actions:[{type:"shield",value:2},{type:"condition",value:"brittle"}]}]},{name:"vermling-priest",edition:"fh",deck:"priest",count:6,baseStat:{type:"normal",movement:3},stats:[{level:0,health:2,movement:2,attack:1,actions:[{type:"shield",value:2}]},{level:1,health:2,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:2,health:3,movement:2,attack:1,actions:[{type:"shield",value:3}]},{level:3,health:3,movement:2,attack:2,actions:[{type:"shield",value:3}]},{level:4,health:3,movement:3,attack:2,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:5,health:4,movement:3,attack:3,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:6,health:5,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{level:7,health:8,movement:3,attack:4,actions:[{type:"shield",value:3},{type:"condition",value:"muddle"}]},{type:"elite",level:0,health:3,attack:2,actions:[{type:"shield",value:2}]},{type:"elite",level:1,health:3,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:2,health:4,attack:2,actions:[{type:"shield",value:3}]},{type:"elite",level:3,health:5,attack:3,actions:[{type:"shield",value:3}]},{type:"elite",level:4,health:5,attack:3,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:5,health:6,attack:4,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:6,health:8,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]},{type:"elite",level:7,health:11,attack:5,actions:[{type:"shield",value:4},{type:"condition",value:"muddle"}]}]},{name:"vermling-scout-scenario-94",edition:"fh",hidden:!0,count:8,standeeShare:"vermling-scout",baseStat:{type:"normal",movement:3},stats:[{level:0,health:2},{level:1,health:3},{level:2,health:3},{level:3,health:4},{level:4,health:5},{level:5,health:7},{level:6,health:10},{level:7,health:15},{type:"elite",level:0,health:4},{type:"elite",level:1,health:5},{type:"elite",level:2,health:3},{type:"elite",level:3,health:7},{type:"elite",level:4,health:8},{type:"elite",level:5,health:11},{type:"elite",level:6,health:16},{type:"elite",level:7,health:23}]},{name:"vermling-scout",edition:"fh",deck:"scout",count:10,baseStat:{type:"normal"},stats:[{level:0,health:2,movement:3,attack:1},{level:1,health:3,movement:3,attack:1},{level:2,health:3,movement:3,attack:2},{level:3,health:4,movement:3,attack:2},{level:4,health:5,movement:3,attack:3},{level:5,health:7,movement:3,attack:3},{level:6,health:10,movement:4,attack:3},{level:7,health:15,movement:4,attack:3},{type:"elite",level:0,health:4,movement:3,attack:2},{type:"elite",level:1,health:5,movement:3,attack:2},{type:"elite",level:2,health:5,movement:4,attack:3},{type:"elite",level:3,health:7,movement:4,attack:3},{type:"elite",level:4,health:8,movement:4,attack:4},{type:"elite",level:5,health:11,movement:4,attack:4},{type:"elite",level:6,health:16,movement:5,attack:4},{type:"elite",level:7,health:23,movement:5,attack:4}]},{name:"vestige-of-the-imprisoned-god",edition:"fh",deck:"boss",boss:!0,count:1,baseStat:{type:"boss",health:"Cx16",attack:3,actions:[{type:"retaliate",value:1,subActions:[{type:"range",value:3,small:!0}]}],immunities:["wound","immobilize","disarm","stun","muddle","curse"],special:[[{type:"attack",value:0,valueType:"plus",subActions:[{type:"area",value:"(0,1,target)|(1,0,target)|(1,1,target)|(2,0,target)|(2,1,target)|(1,2,target)|(2,2,target)"}]}],[{type:"shield",value:3},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.1%"},{type:"push",value:2,subActions:[{type:"target",value:"%game.target.all%",small:!0},{type:"range",value:3,small:!0}]},{type:"custom",value:"%data.custom.fh.vestige-of-the-imprisoned-god.2%"}]]},stats:[{level:0,health:"Cx16",attack:3},{level:1,health:"Cx20",attack:4},{level:2,health:"Cx25",attack:4},{level:3,health:"Cx30",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:4,health:"Cx37",attack:5,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:5,health:"Cx44",attack:6,actions:[{type:"retaliate",value:2,subActions:[{type:"range",value:3,small:!0}]}]},{level:6,health:"Cx60",attack:7,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]},{level:7,health:"Cx80",attack:8,actions:[{type:"retaliate",value:3,subActions:[{type:"range",value:3,small:!0}]}]}]},{name:"wind-demon",edition:"fh",flying:!0,count:6,baseStat:{type:"normal",movement:4},stats:[{level:0,health:3,movement:3,attack:2,actions:[{type:"shield",value:1}]},{level:1,health:3,movement:3,attack:2,actions:[{type:"shield",value:2}]},{level:2,health:4,attack:2,actions:[{type:"shield",value:2}]},{level:3,health:5,attack:3,actions:[{type:"shield",value:2}]},{level:4,health:7,attack:3,actions:[{type:"shield",value:2}]},{level:5,health:10,attack:3,actions:[{type:"shield",value:2}]},{level:6,health:11,attack:3,actions:[{type:"shield",value:3}]},{level:7,health:14,attack:4,actions:[{type:"shield",value:3}]},{type:"elite",level:0,health:5,movement:3,attack:3,actions:[{type:"shield",value:1}]},{type:"elite",level:1,health:5,movement:3,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:2,health:7,attack:3,actions:[{type:"shield",value:2}]},{type:"elite",level:3,health:8,attack:4,actions:[{type:"shield",value:2}]},{type:"elite",level:4,health:10,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:5,health:14,attack:5,actions:[{type:"shield",value:2}]},{type:"elite",level:6,health:16,attack:5,actions:[{type:"shield",value:3}]},{type:"elite",level:7,health:21,attack:6,actions:[{type:"shield",value:3}]}]},{name:"yoglang",edition:"fh",deck:"algox-snowspeaker",boss:!0,hidden:!0,count:1,standeeShare:"algox-snowspeaker",baseStat:{type:"boss"},stats:[{level:0,health:6,movement:1,attack:2,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:1,health:7,movement:1,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:2,health:9,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:3,health:12,movement:2,attack:3,actions:[{type:"retaliate",value:1},{type:"range",value:"^5"}]},{level:4,health:13,movement:2,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:5,health:15,movement:3,attack:4,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:6,health:20,movement:3,attack:5,actions:[{type:"retaliate",value:2},{type:"range",value:"^5"}]},{level:7,health:27,movement:4,attack:5,actions:[{type:"retaliate",value:3},{type:"range",value:"^5"}],immunities:["brittle"]}]}],scenarios:[{index:"0",name:"Howling in the Snow",flowChartGroup:"intro",errata:"section197-1",coordinates:{x:803.5,y:878,width:143,height:117,gridLocation:"N6"},edition:"fh",complexity:1,initial:!0,forcedLinks:["1"],rewards:{custom:"You should now be ready to take on scenario 1 on the following page in the Scenario Book. Do not perform an Outpost Phase until you have completed scenario 1.",ignoredBonus:["inspiration"],calendarIgnore:!0},monsters:["hound"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{deck:"hound-scenario-0"},note:"%data.scenario.rules.fh.0%"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"normal"}]}]},{index:"1",name:"A Town in Flames",flowChartGroup:"intro",coordinates:{x:961.25,y:1872,width:165,height:95,gridLocation:"FR"},edition:"fh",complexity:1,initial:!0,unlocks:["2","3"],rewards:{custom:"<b>%wip%!</b> manually apply:<br>Gain 2+X morale, where X is the number of City Guards still on the map."},monsters:["algox-archer","algox-guard","algox-priest","city-guard"],allies:["city-guard"],lootDeckConfig:{money:6,lumber:5,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{actions:[{type:"shield",value:1},{type:"retaliate",value:2}],deck:"city-guard-scenario-1"},note:"%data.scenario.rules.fh.1%"}]}],rooms:[{roomNumber:1,ref:"09-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",type:"normal"}]}]},{index:"2",name:"Algox Scouting",flowChartGroup:"intro",coordinates:{x:1078.5,y:1073.5,width:142,height:83,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["4B"],blocks:["3","4A"],forcedLinks:["4B"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard"],allies:["algox-priest"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"3",name:"Algox Offensive",flowChartGroup:"intro",coordinates:{x:1049.5,y:989.5,width:136,height:75,gridLocation:"L7"},edition:"fh",complexity:2,unlocks:["4A"],blocks:["2","4B"],forcedLinks:["4A"],rewards:{battleGoals:1,overlaySticker:{name:"W",location:"M7",coordinates:{x:784.5,y:933.5,width:288,height:274}}},monsters:["algox-archer","algox-guard","algox-priest","hound"],allied:["algox-priest","hound"],lootDeckConfig:{money:4,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[18],monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"normal",player3:"elite",player4:"normal"},{name:"hound",player3:"normal",player4:"normal"}]}]},{index:"4A",name:"Heart of Ice A",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-guard","algox-scout"],allied:["algox-scout"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}]}]},{index:"4B",name:"Heart of Ice B",flowChartGroup:"intro",coordinates:{x:903.5,y:1083.5,width:111,height:70,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:1,morale:1,calendarSection:["156.1-4"]},monsters:["algox-archer","algox-guard"],drawExtra:["snowdancer"],lootDeckConfig:{money:6,lumber:3,metal:5,hide:2,rockroot:2,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5",name:"Frozen Crypt",flowChartGroup:"algox-1",coordinates:{x:1293.5,y:961.75,width:127,height:77,gridLocation:"I6"},edition:"fh",complexity:2,unlocks:["9","10"],blocks:["6"],rewards:{collectiveResources:[{type:"lumber",value:2}]},monsters:["ice-wraith"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:1,rockroot:2,corpsecap:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"6",name:"Avalanche",flowChartGroup:"algox-2",coordinates:{x:989,y:1142.875,width:92,height:64,gridLocation:"L8"},edition:"fh",complexity:2,unlocks:["11","12"],blocks:["5"],rewards:{collectiveResources:[{type:"metal",value:2}]},monsters:["frost-demon","snow-imp"],objectives:[{name:"Snowdrift",health:"L+C",tags:["Snowdrift"]},{name:"Snow Rock",health:"L+C",tags:["Snow Rock"]}],lootDeckConfig:{money:9,lumber:4,metal:1,hide:1,snowthistle:2,arrowvine:2,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1,1,1,1]}]},{index:"7",name:"Edge of the World",flowChartGroup:"lurker",coordinates:{x:1154.5,y:578.25,width:104,height:84,gridLocation:"K3"},edition:"fh",complexity:1,unlocks:["13","14"],rewards:{experience:10,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-soldier"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:3,axenut:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"8",name:"Crystal Trench",flowChartGroup:"unfettered",coordinates:{x:1570.25,y:1158.875,width:146,height:100,gridLocation:"G8"},edition:"fh",complexity:1,unlocks:["15","16"],rewards:{overlaySticker:{name:"X",location:"C7",coordinates:{x:1891,y:866,width:204,height:336}},collectiveResources:[{type:"lumber",value:1},{type:"hide",value:2}]},monsters:["polar-bear","snow-imp"],lootDeckConfig:{money:6,lumber:5,hide:5,axenut:1,arrowvine:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"9",name:"Glowing Catacombs",flowChartGroup:"algox-1",coordinates:{x:1265.5,y:869,width:122,height:76,gridLocation:"J6"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"corpsecap",value:2}]},monsters:["ice-wraith","living-doom","living-spirit","ooze"],lootDeckConfig:{money:8,lumber:5,metal:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,treasures:[9],monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"},{name:"living-doom",type:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"10",name:"Crystal Enclosure",flowChartGroup:"algox-1",coordinates:{x:1637.5,y:906.75,width:129,height:67,gridLocation:"F6"},edition:"fh",complexity:2,unlocks:["18"],requirements:[{buildings:["sled"]}],rewards:{morale:1,inspiration:1},monsters:["algox-guard","algox-priest"],objectives:[{name:"Ice Pillar",health:"[(2+L)xC/2{$math.floor}]",tags:["scenario-10"],actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],lootDeckConfig:{money:8,lumber:4,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player3:"normal",player4:"elite"}],objectives:[1,1,1]}]},{index:"11",name:"Snowscorn Peak",flowChartGroup:"algox-2",coordinates:{x:886,y:956,width:96,height:70,gridLocation:"M6"},edition:"fh",complexity:2,unlocks:["19"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["19"],rewards:{morale:1,inspiration:1},monsters:["algox-stormcaller","frost-demon","wind-demon"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[71],monster:[{name:"algox-stormcaller",type:"boss"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"12",name:"Temple Entrance",flowChartGroup:"algox-2",coordinates:{x:1105.5,y:1157.5,width:104,height:103,gridLocation:"K8"},edition:"fh",complexity:1,unlocks:["20"],rewards:{experience:15},monsters:["ancient-artillery"],lootDeckConfig:{money:8,lumber:4,metal:4,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,ref:"16-C",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"13",name:"Frozen Fjord",flowChartGroup:"lurker",coordinates:{x:728,y:490.75,width:169,height:98,gridLocation:"O2"},edition:"fh",complexity:2,unlocks:["21","32"],rewards:{items:["233"]},monsters:["shrike-fiend"],objectives:[{name:"Scenario",escort:!0,health:"(2+L)xCx2"}],lootDeckConfig:{money:7,lumber:5,hide:3,flamefruit:1,snowthistle:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,ref:"07-B",initial:!0,monster:[{name:"shrike-fiend",player2:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-C",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"elite"}],objectives:[1]}]},{index:"14",name:"Jagged Shoals",flowChartGroup:"lurker",coordinates:{x:1006.5,y:455.5,width:120,height:71,gridLocation:"L2"},edition:"fh",complexity:2,unlocks:["22"],requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-81"],campaignSticker:["coral-shard","shard-seeker"],chooseUnlockCharacter:["coral","kelp"]},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:7,lumber:4,metal:2,hide:5,snowthistle:2},rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"c",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e",count:2}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,treasures:[64],monster:[{name:"abael-herder",type:"normal"},{name:"abael-herder",type:"normal"},{name:"abael-herder",player3:"normal",player4:"normal"},{name:"abael-herder",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"15",name:"Ancient Spire",flowChartGroup:"unfettered",coordinates:{x:1907.5,y:1043,width:126,height:61,gridLocation:"D7"},edition:"fh",complexity:2,unlocks:["23","24"],links:["23","24"],rewards:{collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]},monsters:["chaos-lieutenant","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",type:"normal"},marker:"c",count:"C-1"}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,rooms:[2],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}]},{roomNumber:2,ref:"01-B",initial:!0,marker:"b",treasures:[40],monster:[{name:"chaos-lieutenant",type:"boss"}]}]},{index:"16",name:"Derelict Elevator",flowChartGroup:"unfettered",coordinates:{x:1663.75,y:1311.25,width:93,height:65,gridLocation:"F10"},edition:"fh",complexity:3,unlocks:["25","26"],links:["25","26"],rewards:{experience:5,overlaySticker:{name:"Y",location:"C10",coordinates:{x:1736,y:1200,width:499,height:349}},inspiration:1},monsters:["ancient-artillery","ruined-machine"],lootDeckConfig:{money:8,lumber:4,metal:5,rockroot:2,random_item:1},rules:[{round:"R == 2",start:!0,sections:["90.3"]},{round:"R == 4",start:!0,sections:["27.2"]},{round:"R == 6",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 7",start:!0,sections:["44.2"]},{round:"R == 9",start:!0,note:"Remove Tile 1-D.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 9",start:!0,sections:["15.3"]},{round:"R == 12",start:!0,note:"Remove Tile 1-B.<br>Any characters on it suffer trap damage and is placed in the cloest empty hex on tile 15-D.<br>All other figures are removed."},{round:"R == 12",start:!0,sections:["39.1"]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"17",name:"Haunted Vault",flowChartGroup:"algox-1",coordinates:{x:1376,y:910.75,width:113,height:74,gridLocation:"H6"},edition:"fh",complexity:3,unlocks:["27"],requires:[["9"]],rewards:{battleGoals:2},monsters:[],objectives:[{name:"Spectral Helper",escort:!0,health:0,initiative:50,actions:[{type:"move",value:4}]}],lootDeckConfig:{money:10,lumber:5,metal:2,corpsecap:2,random_item:1},rooms:[{roomNumber:1,ref:"09-B",initial:!0,objectives:["1:4-C"]}]},{index:"18",name:"Crystal Fields",flowChartGroup:"algox-1",errata:"scenario18",coordinates:{x:1755.5,y:960.75,width:141,height:99,gridLocation:"E7"},edition:"fh",complexity:1,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["122.3-4"]},monsters:["frozen-corpse"],allies:["algox-guard"],lootDeckConfig:{money:6,lumber:3,metal:2,hide:5,corpsecap:1,arrowvine:2,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-A",initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"}]}]},{index:"19",name:"Skyhall",flowChartGroup:"algox-2",coordinates:{x:819.125,y:1013.375,width:90,height:82,gridLocation:"N7"},edition:"fh",complexity:3,rewards:{morale:1,randomItemBlueprint:1,calendarSection:["54.3-4"]},monsters:["earth-demon","flame-demon","ice-wraith"],lootDeckConfig:{money:11,lumber:2,metal:2,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"elite",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ice-wraith",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 4 || R == 5 || R == 7 || R == 8",start:!0,spawns:[{monster:{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 6 || R == 9",start:!0,spawns:[{monster:{name:"ice-wraith",player2:"normal",player3:"normal",player4:"normal"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 9",sections:["75.2"]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20",name:"Temple of Liberation",flowChartGroup:"algox-2",coordinates:{x:1045.25,y:1249.375,width:118,height:81,gridLocation:"L9"},edition:"fh",complexity:3,rewards:{gold:15},monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"a"},{name:"Cabinet",health:"Cx(L+2)",initiative:1,marker:"b"}],lootDeckConfig:{money:10,lumber:2,metal:5,rockroot:1,arrowvine:2},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"3"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"2"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"1"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"true",always:!0,once:!0,sections:["14.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Cabinet"},type:"dead",value:"0"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"a"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a",count:"F"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Cabinet",marker:"b"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"b",count:"F"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"21",name:"Realm of Endless Frost",flowChartGroup:"lurker",coordinates:{x:788.25,y:372.5,width:112,height:74,gridLocation:"N1"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{prosperity:2},monsters:["frost-demon","living-spirit","snow-imp"],lootDeckConfig:{money:6,lumber:4,metal:3,hide:3,flamefruit:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"discard",value:"2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"22",name:"Ice Floes",flowChartGroup:"lurker",coordinates:{x:1360.75,y:509.75,width:108,height:78,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{experience:15,custom:"Lose 1 collective %game.resource.lumber% for each set of five hexes with water tiles on tile 7-G",calendarSection:["62.2-2"]},monsters:["lurker-clawcrusher","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:5,hide:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"14-A",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"23",name:"Spire Basement",flowChartGroup:"unfettered",coordinates:{x:1964.5,y:1088.25,width:112,height:90,gridLocation:"B8"},edition:"fh",complexity:1,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:8,lumber:4,metal:4,flamefruit:1,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"11-F",initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"24",name:"Upper Spire",flowChartGroup:"unfettered",coordinates:{x:1909.25,y:973.5,width:126,height:67,gridLocation:"D6"},edition:"fh",complexity:2,unlocks:["34"],links:["34"],rewards:{randomItemBlueprint:1},monsters:["chaos-demon","living-bones"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:2,axenut:2,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"15-D",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"25",name:"Rusted Tunnels",flowChartGroup:"unfettered",coordinates:{x:1770,y:1233.5,width:176,height:130,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["26"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["128.2-4"]},monsters:["flaming-bladespinner","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"26",name:"Quatryl Library",flowChartGroup:"unfettered",coordinates:{x:1761.5,y:1353,width:153,height:94,gridLocation:"E10"},edition:"fh",complexity:2,blocks:["25"],rewards:{experience:10,calendarSection:["169.3-4"]},monsters:["ancient-artillery","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,rockroot:1,arrowvine:1},rules:[{round:"R == 7",start:!0,sections:["131.4"]}],rooms:[{roomNumber:1,initial:!0,treasures:[73],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27",name:"Depths of Delirium",flowChartGroup:"algox-1",coordinates:{x:1416.75,y:866.75,width:109,height:71,gridLocation:"H6"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{experience:10,battleGoals:1,campaignSticker:["coral-shard"]},monsters:["deep-terror","living-bones","ooze"],objectives:[{name:"Altar",health:"L+2",initiative:99,actions:[{type:"custom",value:"When destroyed, the destroying character may return all their taken cards to their hand"}]}],lootDeckConfig:{money:13,lumber:2,metal:2,hide:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"28",name:"Summit Meeting",flowChartGroup:"algox-3",errata:"scenario28",coordinates:{x:1264.75,y:1118.25,width:113,height:74,gridLocation:"J8"},edition:"fh",complexity:3,allyDeck:!0,unlocks:["38"],blocks:["29","30"],rewards:{morale:-1},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-snowspeaker"],allied:["algox-archer","algox-icespeaker"],objectives:[{name:"Emissary",escort:!0,health:"2x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:4}]}],lootDeckConfig:{money:11,lumber:2,hide:3,rockroot:2,arrowvine:1,axenut:1},rules:[{round:"R % 4 == 1",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 4 == 3",spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"fh",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[48,60],monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,1]}]},{index:"29",name:"War of the Spire A",flowChartGroup:"algox-1",coordinates:{x:1679.75,y:1062,width:109,height:99,gridLocation:"F8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-68"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-icespeakers"],calendarSection:["46.3-5"]},monsters:["algox-icespeaker","algox-priest","algox-scout"],allies:["algox-archer","algox-guard"],objectives:[{name:"Ice Pillar",health:"[(L+2)xC/2{$math.floor}]"},{name:"Ice Core",health:"[(L+2)xC/2{$math.floor}]"}],lootDeckConfig:{money:12,lumber:2,hide:2,snowthistle:2,arrowvine:1,axenut:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 1",start:!0,once:!0,spawns:[{monster:{name:"algox-archer",type:"normal"},manual:!0},{monster:{name:"algox-guard",type:"normal"},manual:!0}],noteTop:"Spawn 6-C Algox Guards or Algox Archers at any empty starting hex"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"normal"},{name:"algox-scout",player2:"normal"}],objectives:[1,1,1,1,1,1,1,1,1,2,2,2]}]},{index:"30",name:"War of the Spire B",flowChartGroup:"algox-2",coordinates:{x:1801,y:1067.75,width:101,height:86,gridLocation:"E8"},edition:"fh",complexity:2,blocks:["28"],rewards:{events:["winter-outpost:WO-69"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:3,campaignSticker:["destroyer-of-the-snowspeakers"],calendarSection:["34.2-5"]},monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout","algox-snowspeaker"],allies:["algox-icespeaker"],lootDeckConfig:{money:12,lumber:2,hide:2,axenut:1,arrowvine:1,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"R == 2 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 7",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 4 || R == 8",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R == 5 || R == 9",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,treasures:[45],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",type:"normal"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31",name:"Crackling Tunnel",flowChartGroup:"algox-2",coordinates:{x:1478.25,y:1334,width:278,height:128,gridLocation:"F10"},edition:"fh",complexity:2,unlocks:["41"],requires:[["20"]],rewards:{gold:10,experience:5},monsters:["flaming-bladespinner","steel-automaton"],lootDeckConfig:{money:11,lumber:2,metal:3,rockroot:2,arrowvine:1,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"32",name:"Ravens' Roost",flowChartGroup:"lurker",coordinates:{x:512.75,y:561.75,width:105,height:71,gridLocation:"Q3"},edition:"fh",complexity:2,rewards:{itemBlueprints:["69"],campaignSticker:["into-the-forest"]},monsters:["frozen-corpse-scenario-32"],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,ref:"05-B",initial:!0,monster:[{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",type:"normal"},{name:"frozen-corpse-scenario-32",player3:"normal",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"},{name:"frozen-corpse-scenario-32",player4:"normal"}]}]},{index:"33",name:"Thawed Wood",flowChartGroup:"lurker",coordinates:{x:312,y:474.5,width:119,height:87,gridLocation:"R2"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["244"],custom:"Gain 5 experience for each unrevealed dowsing rune",calendarSection:["135.1-3"]},monsters:["black-imp","shrike-fiend"],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,rockroot:1,flamefruit:1},rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"34",name:"Top of the Spire",flowChartGroup:"unfettered",coordinates:{x:1918,y:913.25,width:98,height:62,gridLocation:"C6"},edition:"fh",complexity:2,rewards:{campaignSticker:["coral-shard"]},monsters:["chaos-spark","lord-of-chaos"],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lord-of-chaos",type:"boss"}]}]},{index:"35",name:"Scrap Pit",flowChartGroup:"unfettered",coordinates:{x:1876.25,y:1396.25,width:116,height:83,gridLocation:"C10"},edition:"fh",complexity:2,unlocks:["43"],rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["living-bones","ruined-machine","spitting-drake"],objectives:[{name:"Crain",escort:!0,health:"[(Cx(L+3)/2){$math.floor}]",initiative:50,marker:"a",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:7,lumber:5,metal:5,hide:2,rockroot:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}],objectives:[1]}]},{index:"36",name:"Buried Ducts",flowChartGroup:"unfettered",errata:"scenario36-37",coordinates:{x:1960,y:1267.25,width:110,height:71,gridLocation:"C9"},edition:"fh",complexity:1,unlocks:["44"],blocks:["37"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3}]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Door a",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"a"},{name:"Door b",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"b"},{name:"Door c",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"c"},{name:"Door d",health:"[((C-1)/2)x(L+3){$math.floor}]",marker:"d"}],lootDeckConfig:{money:9,lumber:3,metal:5,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0}]},{round:"R % 3 == 2 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"a"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"a"}]},{round:"R % 3 == 0 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R % 3 == 1 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"c"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"c",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"d"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"d"}]},{round:"R % 3 == 0 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]},{round:"R % 3 == 1 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"b"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"b",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"c"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"c"}]},{round:"R % 3 == 0 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R % 3 == 1 && R % 4 == 2",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door a"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"a",count:"2"}]},{round:"R % 3 == 2 && R % 4 == 3",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door b"},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"b"},{monster:{name:"ruined-machine",player3:"normal",player4:"normal"},count:"2",marker:"b"}]},{round:"R % 3 == 0 && R % 4 == 0",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door c"},type:"present"}],spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R > 1 && R % 3 == 1 && R % 4 == 1",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Door d"},type:"present"}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"flaming-bladespinner",player4:"normal"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"}],objectives:[1,2,3,4]}]},{index:"37",name:"The Dead Mile",flowChartGroup:"unfettered",errata:"scenario36-37|scenario37",coordinates:{x:1955.25,y:1407.75,width:104,height:103,gridLocation:"C11"},edition:"fh",complexity:1,unlocks:["44"],blocks:["36"],forcedLinks:["44"],rewards:{itemBlueprints:["67"],collectiveResources:[{type:"lumber",value:3},{type:"hide",value:3}]},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:3,metal:3,rockroot:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"38",name:"The Way Forward",flowChartGroup:"algox-3",coordinates:{x:1510.25,y:1075.25,width:111,height:69,gridLocation:"G8"},edition:"fh",complexity:3,unlocks:["45","46"],rewards:{experience:10,battleGoals:1,inspiration:1},monsters:["hound","polar-bear"],objectives:[{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"a",actions:[{type:"move",value:2}]},{name:"Emissary",escort:!0,health:"3x(L+2)",initiative:99,marker:"b",actions:[{type:"move",value:2}]}],lootDeckConfig:{money:8,lumber:5,hide:3,axenut:2,arrowvine:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Emissary"},type:"dead",value:"1"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,2]}]},{index:"39",name:"Corrupted Camp",flowChartGroup:"algox-1",coordinates:{x:456.5,y:681.5,width:129,height:94,gridLocation:"Q4"},edition:"fh",complexity:3,unlocks:["47"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","algox-scout","black-imp","frozen-corpse"],allies:["algox-guard","algox-scout"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:3,flamefruit:1,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"40",name:"Relief Effort",flowChartGroup:"algox-2",coordinates:{x:1378,y:1228.75,width:106,height:82,gridLocation:"H9"},edition:"fh",complexity:2,unlocks:["48"],rewards:{custom:"Gain 2 additional loot cards each",inspiration:-1},monsters:["algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],lootDeckConfig:{money:10,lumber:3,metal:4,hide:2,flamefruit:1,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player4:"normal"}]}]},{index:"41",name:"Unfettered Shard",flowChartGroup:"algox-2",coordinates:{x:1678.25,y:1481.75,width:85,height:67,gridLocation:"E12"},edition:"fh",complexity:2,requirements:[{campaignSticker:["shard-seeker"]}],rewards:{gold:15,custom:"Read %data.section:36.7% now",campaignSticker:["coral-shard"],collectiveResources:[{type:"axenut",value:2}]},monsters:["deep-terror","living-doom","living-spirit"],lootDeckConfig:{money:9,lumber:2,metal:2,hide:2,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"elite"},{name:"living-doom",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"42",name:"Sunless Trench",flowChartGroup:"lurker",coordinates:{x:1211.75,y:373,width:207,height:78,gridLocation:"J1"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,events:["boat:B-16"],campaignSticker:["coral-shard"],calendarSection:["114.2-3"]},monsters:["deep-terror","ooze"],lootDeckConfig:{money:12,lumber:2,metal:3,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player3:"normal",player4:"elite"},{name:"ooze",type:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player4:"normal"}]}]},{index:"43",name:"Overrun Barricade",flowChartGroup:"unfettered",coordinates:{x:1918,y:1238.5,width:117,height:54,gridLocation:"C9"},edition:"fh",complexity:3,unlocks:["51"],forcedLinks:["51"],rewards:{experience:10},monsters:["robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44",name:"Nerve Center",flowChartGroup:"unfettered",coordinates:{x:2027.25,y:1335,width:107,height:76,gridLocation:"B10"},edition:"fh",complexity:2,forcedLinks:["58","59"],rewards:{gold:5,chooseLocation:["58","59"],itemBlueprints:["73"]},monsters:["flaming-bladespinner"],objectives:[{name:"Metal Cabinet",health:"[Cx(L+3)/2{$math.ceil}]",actions:[{type:"custom",value:"When destroyed, all monsters within %game.action.range%2 suffer trap damage"}]}],lootDeckConfig:{money:8,lumber:2,metal:4,rockroot:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"45",name:"Living Glacier",flowChartGroup:"algox-3",coordinates:{x:2004.25,y:616.75,width:123,height:89,gridLocation:"C3"},edition:"fh",complexity:1,unlocks:["52"],requirements:[{buildings:["climbing-gear"]}],rewards:{battleGoals:1,morale:1},monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],lootDeckConfig:{money:10,lumber:3,hide:5,rockroot:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"46",name:"Dead Pass",flowChartGroup:"algox-3",coordinates:{x:2025.5,y:1570.75,width:130,height:92,gridLocation:"B12"},edition:"fh",complexity:2,unlocks:["52"],requirements:[{buildings:["sled"]}],rewards:{experience:10,morale:1},monsters:["burrowing-blade","shrike-fiend"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:3,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"47",name:"Carrion Ridge",flowChartGroup:"algox-1",coordinates:{x:297.75,y:721.75,width:177,height:94,gridLocation:"Q5"},edition:"fh",complexity:1,unlocks:["56"],links:["56"],rewards:{gold:10,collectiveResources:[{type:"lumber",value:2}]},monsters:["algox-icespeaker","shrike-fiend"],lootDeckConfig:{money:7,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R == 6",start:!0,sections:["45.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-icespeaker",type:"elite"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"48",name:"Blizzard Island",flowChartGroup:"algox-2",coordinates:{x:1779.5,y:463.75,width:103,height:74,gridLocation:"D2"},edition:"fh",complexity:2,unlocks:["57"],requirements:[{buildings:["boat"]}],links:["57"],rewards:{experience:10,collectiveResources:[{type:"metal",value:2}]},monsters:["abael-scout","wind-demon"],lootDeckConfig:{money:7,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"49",name:"Beneath Sea and Stone",flowChartGroup:"lurker",coordinates:{x:1492.5,y:530.5,width:130,height:86,gridLocation:"G3"},edition:"fh",complexity:3,unlocks:["53"],requirements:[{buildings:["boat"]}],forcedLinks:["53"],rewards:{experience:5,inspiration:1},monsters:["deep-terror"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]"},{name:"Stalagmites",health:"[(L+1)xC/2{$math.floor}]"}],lootDeckConfig:{money:13,metal:3,hide:2,snowthistle:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,treasures:[5],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"}],objectives:[]}]},{index:"50",name:"Explosive Descent",flowChartGroup:"lurker",coordinates:{x:1531.75,y:371.75,width:104,height:65,gridLocation:"G1"},edition:"fh",complexity:2,unlocks:["54"],requirements:[{buildings:["boat"]}],forcedLinks:["54"],rewards:{inspiration:-2,collectiveResources:[{type:"lumber",value:4},{type:"metal",value:4}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],objectives:[{name:"Pulse Emitter",escort:!0,health:"6+(3xL)"}],lootDeckConfig:{money:13,lumber:2,hide:3,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Pulse Emitter"},type:"dead"}],finish:"lost"},{round:"R == 2",start:!0,spawns:[{monster:{name:"lurker-wavethrower",type:"normal"},marker:"a"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"b"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player4:"normal"},marker:"c"},{monster:{name:"lurker-wavethrower",type:"normal"},marker:"g"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal"},marker:"d"},{monster:{name:"lurker-mindsnipper",player4:"normal"},marker:"d",count:"2"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"g",count:"2"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"f"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",type:"normal"},marker:"c"},{monster:{name:"lurker-clawcrusher",player4:"normal"},marker:"d"},{monster:{name:"lightning-eel",player2:"normal"},marker:"e"},{monster:{name:"lightning-eel",player3:"normal"},marker:"e",count:"3"},{monster:{name:"lightning-eel",player4:"normal"},marker:"e",count:"2"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-mindsnipper",type:"elite"},marker:"f"}]},{round:"R == 11",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},marker:"e"},{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 12",finish:"won"}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1]}]},{index:"51",name:"Orphan's Halls",flowChartGroup:"unfettered",coordinates:{x:2056.5,y:1223,width:112,height:79,gridLocation:"B9"},edition:"fh",complexity:3,forcedLinks:["58","59"],rewards:{experience:10,chooseLocation:["58","59"],itemBlueprints:["74"]},monsters:["ancient-artillery","steel-automaton"],lootDeckConfig:{money:12,lumber:2,metal:4,flamefruit:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"52",name:"Fleeting Permanence",flowChartGroup:"algox-3",coordinates:{x:1501.5,y:999.375,width:131,height:58,gridLocation:"G7"},edition:"fh",complexity:2,unlocks:["55"],requires:[["45","46"]],rewards:{morale:1,inspiration:1},monsters:["frost-demon","snow-imp"],lootDeckConfig:{money:6,lumber:2,metal:2,hide:5,corpsecap:2,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"53",name:"Underwater Throne",flowChartGroup:"lurker",coordinates:{x:1671.25,y:476.25,width:97,height:75,gridLocation:"E2"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","seeker-of-the-abyss"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,arrowvine:2,axenut:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"seeker-of-the-abyss",type:"boss"}]},{roomNumber:2,ref:"07-A",initial:!0,treasures:[63],monster:[{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"54",name:"Among the Wreckage",flowChartGroup:"lurker",coordinates:{x:1666.5,y:377.75,width:132,height:83,gridLocation:"F1"},edition:"fh",complexity:2,unlocks:["60"],requirements:[{buildings:["boat"]}],rewards:{battleGoals:2,campaignSticker:["coral-shard"]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]},{name:"Large Cave Rock",health:"[(L+1)xC/2{$math.floor}]",tags:["objective"],actions:[{type:"custom",value:"When destroyed, reveal one numbered token and spawn the indicated monster",small:!0}]}],lootDeckConfig:{money:8,lumber:2,metal:2,hide:3,axenut:2,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,once:!0,sections:["167.1"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"5"}]},{round:"true",always:!0,once:!0,sections:["13.3"],figures:[{identifier:{type:"objective",edition:"objective",name:".*",tags:["objective"]},type:"killed",value:"10"}]}],rooms:[{roomNumber:1,initial:!0,monster:[],objectives:[1,1,1,1,2,2,2]}]},{index:"55",name:"Change of Heart",flowChartGroup:"algox-3",coordinates:{x:1004,y:1009.5,width:124,height:97,gridLocation:"M8"},edition:"fh",complexity:2,rewards:{prosperity:2,events:["winter-outpost:WO-66","winter-outpost:WO-67"],custom:"Remove all %game.action.custom.fh-algox% events from all outpost event decks",morale:2,campaignSticker:["friend-of-the-frostspeakers"],chooseUnlockCharacter:["fist","snowflake"],townGuardAm:["fh-tg-add-plus50-algox"]},monsters:["algox-archer","algox-guard","algox-priest"],lootDeckConfig:{money:3,lumber:2,metal:4,hide:2,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56",name:"Call of the Harbinger",flowChartGroup:"algox-1",coordinates:{x:321.25,y:639.75,width:125,height:67,gridLocation:"R4"},edition:"fh",complexity:3,rewards:{events:["summer-outpost:SO-51"],morale:1,inspiration:1,campaignSticker:["friend-of-the-icespeakers"],unlockCharacter:"fist",townGuardAm:["fh-tg-add-plus50"]},monsters:["black-imp","harbinger-of-shadow-2","harrower-infester"],objectives:[{name:"Altar 1",health:"(L+1)xC"}],lootDeckConfig:{money:6,lumber:5,metal:2,hide:2,rockroot:2,flamefruit:2},rules:[{round:"true",always:!0,once:!0,sections:["3.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"harbinger-of-shadow-2",type:"boss",marker:"2"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"57",name:"Sanctuary of Snow",flowChartGroup:"algox-2",coordinates:{x:1816,y:377.75,width:101,height:74,gridLocation:"D1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{events:["winter-outpost:WO-68"],morale:1,inspiration:1,campaignSticker:["friend-of-the-snowspeakers"],unlockCharacter:"snowflake",townGuardAm:["fh-tg-add-plus50"]},monsters:["render","wind-demon"],objectives:[{name:"Denpang",escort:!0,initiative:40,marker:"a",actions:[{type:"move",value:4}]}],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[53],monster:[{name:"render",type:"boss"}],objectives:["1:C < 3 ? 1 : 0"]}]},{index:"58",name:"Orphan's Core",flowChartGroup:"unfettered",coordinates:{x:2128.25,y:1297.25,width:88,height:64,gridLocation:"A10"},edition:"fh",complexity:3,blocks:["59"],rewards:{items:["246"],events:["winter-outpost:WO-64","winter-outpost:WO-65"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:1,collectiveResources:[{type:"lumber",value:3},{type:"metal",value:3},{type:"hide",value:3}],campaignSticker:["unfettered-deactivated"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","orphan","steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+3)x2xC"}],lootDeckConfig:{money:6,lumber:2,metal:4,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["61.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Glowing Orb"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"orphan",type:"boss"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"59",name:"Automaton Uprising",flowChartGroup:"unfettered",coordinates:{x:2048.75,y:1400.75,width:125,height:104,gridLocation:"A11"},edition:"fh",complexity:2,blocks:["58"],rewards:{prosperity:2,items:["246"],events:["summer-outpost:SO-49","winter-outpost:WO-63"],custom:"Remove all %game.action.custom.fh-unfettered% events from all outpost event decks",morale:2,campaignSticker:["unfettered-allies"],unlockCharacter:"prism",townGuardAm:["fh-tg-add-plus50-unfettered"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],objectives:[{name:"Orphan",escort:!0,health:"(L+C)x2",initiative:1,marker:"a",actions:[{type:"move",value:3}]}],lootDeckConfig:{money:11,metal:4,rockroot:1,snowthistle:2,axenut:1,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Orphan"},type:"dead"}],finish:"lost"},{round:"R == 3",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 5",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 7",start:!0,note:"at any starting hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 11",start:!0,note:"at any starting hex",spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"flaming-bladespinner",player3:"normal"}},{monster:{name:"flaming-bladespinner",player3:"elite"}}]},{round:"R > 11",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"60",name:"Uniting the Crown",flowChartGroup:"lurker",errata:"scenario60",coordinates:{x:1559,y:428.5,width:127,height:95,gridLocation:"G2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"],campaignSticker:["coral-shard:6"]}],rewards:{experience:30,prosperity:1,items:["224"],events:["summer-outpost:SO-48","boat:B-17"],custom:"Remove all %game.action.custom.fh-lurkers% events from all outpost event decks",morale:2,campaignSticker:["crown-united"],chooseUnlockCharacter:["coral","kelp"],townGuardAm:["fh-tg-add-plus50-lurkers"]},monsters:["fracture-of-the-deep","lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:8,arrowvine:1,axenut:1,corpsecap:1,rockroot:1,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:3",scenarioEffect:!0}]},{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:"(?!.*coral|kelp).*"},type:"amAdd",value:"curse:2"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:fire"},type:"killed",value:1}],elements:[{type:"fire",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:ice"},type:"killed",value:1}],elements:[{type:"ice",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:air"},type:"killed",value:1}],elements:[{type:"air",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:earth"},type:"killed",value:1}],elements:[{type:"earth",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:light"},type:"killed",value:1}],elements:[{type:"light",state:"always"}]},{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*",marker:"element:dark"},type:"killed",value:1}],elements:[{type:"dark",state:"always"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*lurker.*"},statEffect:{attack:1,name:"fractured-lieutenant"},note:"%data.scenario.rules.fh.60%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fracture-of-the-deep",type:"boss"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite",marker:"element:dark"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite",marker:"element:light"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite",marker:"element:ice"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite",marker:"element:earth"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite",marker:"element:air"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite",marker:"element:fire"}]}]},{index:"61",name:"Life and Death",flowChartGroup:"puzzle-book",coordinates:{x:1363,y:1451.25,width:107,height:78,gridLocation:"I11"},edition:"fh",complexity:2,rewards:{unlockCharacter:"shards",calendarSection:["140.3-1"]},monsters:["deep-terror","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+1",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Moonshard"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player4:"normal"}],objectives:[1]}]},{index:"62",name:"The Unfettered Seal",flowChartGroup:"puzzle-book",coordinates:{x:2108.5,y:1174.5,width:117,height:109,gridLocation:"B8"},edition:"fh",complexity:3,unlocks:["63"],rewards:{prosperity:1},monsters:["black-imp","chaos-demon","harrower-infester"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a",actions:[{type:"move",value:3,subActions:[{type:"jump",small:!0}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,snowthistle:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[21],monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"63",name:"The Savvas Seal",flowChartGroup:"puzzle-book",coordinates:{x:1496.5,y:1536,width:112,height:81,gridLocation:"G12"},edition:"fh",complexity:3,unlocks:["64"],forcedLinks:["64"],rewards:{prosperity:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],objectives:[{name:"Crain",escort:!0,health:"(L+C)x2+2",initiative:99,marker:"a"}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:2,corpsecap:2,random_item:1},rules:[{round:"R == 1 || R == 3",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"R == 4",sections:["7.1"]},{round:"R == 12",finish:"won"},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Crain"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,treasures:[72],monster:[],objectives:[1]}]},{index:"64",name:"The Frosthaven Seal",flowChartGroup:"puzzle-book",coordinates:{x:872,y:2356.25,width:193,height:179,gridLocation:"FR"},edition:"fh",complexity:3,rewards:{prosperity:3,battleGoals:3,overlayCampaignSticker:{name:"42-temple",location:"%game.scenarioNumber:64%",coordinates:{x:860.75,y:2334.75,width:225,height:212}},hints:{overlayCampaignSticker:"Open the scenario flowchart window to the right of The Frozen Seal (%data.scenarioNumber:64%) and apply the sticker over the completed scenario"},morale:3},monsters:["burrowing-blade","guard-captain","living-doom","living-spirit","shrike-fiend"],allies:["guard-captain"],objectives:[{name:"Tree",escort:!0,health:"(L+C)x3",initiative:1},{name:"Militia",escort:!0,allyDeck:!0,health:"[(L/2)+2{$math.ceil}]",initiative:51,actions:[{type:"move",value:3},{type:"attack",value:"[(L/4)+1{$math.floor}]"}],tags:["militia"]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,axenut:2,flamefruit:2,random_item:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}],finish:"lost"},{round:"true",objectiveSpawns:[{objective:{index:2,name:"Militia"},count:"2",manual:!0,manualMin:0,manualMax:2}],noteTop:"Place up to 2 new Militia members in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"1"}],objectiveSpawns:[{objective:{index:2,name:"Militia"},manual:!0,manualMin:0,manualMax:1}],noteTop:"Place up to 1 new Militia member in any empty %game.mapMarker.a%, %game.mapMarker.b%, %game.mapMarker.c% or %game.mapMarker.d%"},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"11"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:"true",figures:[{identifier:{type:"objective",edition:"escort",name:"Militia"},type:"present",value:"12"}],disableRules:[{edition:"fh",scenario:"64",index:1,section:!1},{edition:"fh",scenario:"64",index:2,section:!1}]},{round:"R == 1",start:!0,spawns:[{monster:{name:"living-doom",player4:"normal"},marker:"2"},{monster:{name:"living-doom",player3:"normal",player4:"normal"},marker:"7"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"11"},{monster:{name:"living-doom",player2:"normal",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 2",start:!0,spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"7"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player4:"elite"},marker:"13",count:"2"},{monster:{name:"burrowing-blade",player3:"normal"},marker:"13"},{monster:{name:"burrowing-blade",player3:"elite"},marker:"13"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal"},marker:"11",count:"3"},{monster:{name:"living-spirit",player3:"normal"},marker:"11",count:"4"},{monster:{name:"living-spirit",player4:"normal"},marker:"11",count:"5"}]},{round:"R == 5",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"2"},{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player4:"normal"},marker:"11"},{monster:{name:"shrike-fiend",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"living-doom",player2:"normal"},marker:"2"},{monster:{name:"living-doom",type:"elite"},marker:"11"},{monster:{name:"living-doom",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"burrowing-blade",type:"normal"},marker:"2"},{monster:{name:"burrowing-blade",type:"normal"},marker:"7"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"11"},{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"13"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"normal"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"13"}]},{round:"R == 9",start:!0,spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"2"},{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},marker:"7"},{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"living-spirit",type:"elite"},marker:"13"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"shrike-fiend",type:"elite"},marker:"2"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"7"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"11"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"13"}]},{round:"R == 10",sections:["72.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"},{name:"guard-captain",type:"elite"}],objectives:[1,2,2,2,2,"2:C>2","2:C>2","2:C>3","2:C>3"]}]},{index:"65",name:"A Strong Foundation",flowChartGroup:"personal-quests",coordinates:{x:996.5,y:730,width:91,height:57,gridLocation:"L4"},edition:"fh",complexity:1,rewards:{collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2}],calendarSection:["95.4-6"]},monsters:["frozen-corpse","living-bones","snow-imp"],lootDeckConfig:{money:8,lumber:2,metal:2,hide:4,snowthistle:2,arrowvine:2},rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:".*"},statEffect:{actions:[{type:"push",value:"[(L+1)/4{$math.ceil}]"}]},note:"%data.scenario.rules.fh.65%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"66",name:"Elemental Cores",flowChartGroup:"personal-quests",coordinates:{x:915,y:668.25,width:120,height:105,gridLocation:"L4"},edition:"fh",complexity:2,rewards:{items:["212"],custom:"Note the corresponding elements of the four doors that were opened",calendarSection:["29.3-6"]},monsters:[],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,axenut:1,flamefruit:1,snowthistle:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"67",name:"Core Attunement",flowChartGroup:"personal-quests",coordinates:{x:1046,y:676,width:124,height:116,gridLocation:"K4"},edition:"fh",complexity:2,unlocks:["68"],forcedLinks:["68"],rewards:{prosperity:1,morale:1},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","wind-demon"],objectives:[{name:"Elemental Core",escort:!0,health:"4x(L+1)",initiative:1,marker:"a"}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,random_item:1},rules:[{round:"C < 3 && (R == 2 || R == 7)",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && (R == 2 || R == 7)",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"C < 4 && (R == 3 || R == 8)",start:!0,note:"Spawn one normal demon at %game.mapMarker.c%"},{round:"C > 3 && (R == 3 || R == 8)",start:!0,note:"Spawn one elite demon at %game.mapMarker.c%"},{round:"C < 3 && (R == 4 || R == 9)",start:!0,note:"Spawn one normal demon at %game.mapMarker.d%"},{round:"C > 2 && (R == 4 || R == 9)",start:!0,note:"Spawn one elite demon at %game.mapMarker.d%"},{round:"C < 4 && (R == 5 || R == 10)",start:!0,note:"Spawn one normal demon at %game.mapMarker.e%"},{round:"C > 3 && (R == 5 || R == 10)",start:!0,note:"Spawn one elite demon at %game.mapMarker.e%"},{round:"R == 6 || R == 11",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"normal"},marker:"f",count:2},{monster:{name:"chaos-demon",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"68",name:"The Face of Torment",flowChartGroup:"personal-quests",coordinates:{x:1042,y:538,width:106,height:124,gridLocation:"L3"},edition:"fh",complexity:2,rewards:{custom:'"Aesther Outpost" quest complete',calendarSection:["133.1-2"]},monsters:["chaos-demon","earth-demon","flame-demon","frost-demon","night-demon","sun-demon","tormentor","wind-demon"],lootDeckConfig:{lumber:5,metal:5,hide:5,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"C < 3 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 2 && R > 2 && R % 6 == 3",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 4 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 3 && R > 2 && R % 6 == 4",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 5",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"C < 4 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one normal demon at %game.mapMarker.a%"},{round:"C > 3 && R > 2 && R % 6 == 0",start:!0,note:"Spawn one elite demon at %game.mapMarker.a%"},{round:"C < 3 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one normal demon at %game.mapMarker.b%"},{round:"C > 2 && R > 2 && R % 6 == 1",start:!0,note:"Spawn one elite demon at %game.mapMarker.b%"},{round:"R > 2 && R % 6 == 2",start:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[59],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"},{name:"tormentor",type:"boss"}]}]},{index:"69",name:"Sacred Soil",flowChartGroup:"personal-quests",coordinates:{x:558.25,y:476.75,width:140,height:97,gridLocation:"P2"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{collectiveResources:[{type:"arrowvine",value:1},{type:"axenut",value:1},{type:"flamefruit",value:1}],calendarSection:["15.4-3"]},monsters:["earth-demon","forest-imp","rending-drake"],lootDeckConfig:{money:8,lumber:5,hide:4,axenut:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"70",name:"The True Oak",flowChartGroup:"personal-quests",errata:"scenario70",coordinates:{x:446.75,y:445,width:106,height:88,gridLocation:"Q2"},edition:"fh",complexity:1,rewards:{prosperity:1,custom:'"The True Oak" quest complete'},monsters:["city-guard","hound"],objectives:[{name:"The Great Oak",escort:!0,health:"2xCx(L+3)",initiative:1}],lootDeckConfig:{money:7,lumber:5,hide:3,axenut:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"The Great Oak"},type:"dead"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"71",name:"Invasion of the Dock",flowChartGroup:"personal-quests",coordinates:{x:1958.5,y:2431,width:132,height:116,gridLocation:"FR"},edition:"fh",complexity:3,allyDeck:!0,rewards:{experience:10,custom:"Damage any one even building between 71 and 89",calendarSection:["149.5-5"]},monsters:["abael-scout","piranha-pig"],allied:["abael-scout","piranha-pig"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rooms:[{roomNumber:1,ref:"09-D",initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"72",name:"A Giant Block of Ice",flowChartGroup:"personal-quests",coordinates:{x:2147.25,y:813.25,width:89,height:74,gridLocation:"A5"},edition:"fh",complexity:2,unlocks:["73"],forcedLinks:["73"],rewards:{battleGoals:1},monsters:["ice-wraith"],lootDeckConfig:{money:9,lumber:3,metal:5,corpsecap:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"}]}]},{index:"73",name:"Flotsam",flowChartGroup:"personal-quests",coordinates:{x:1892.5,y:559.25,width:91,height:71,gridLocation:"D3"},edition:"fh",complexity:2,monsters:["lightning-eel"],lootDeckConfig:{money:9,lumber:5,hide:3,flamefruit:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"}]}]},{index:"74A",name:"Gaps in the Road A",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["76"],requirements:[{campaignSticker:["friend-of-the-fish-king"]}],rewards:{randomItemBlueprint:1},monsters:["algox-archer","piranha-pig"],allies:["piranha-pig"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",type:"elite"}],objectives:[1]}]},{index:"74B",name:"Gaps in the Road B",flowChartGroup:"personal-quests",coordinates:{x:1533.5,y:921.75,width:86,height:57,gridLocation:"G6"},edition:"fh",complexity:2,unlocks:["75"],rewards:{randomItemBlueprint:1},monsters:["algox-archer"],objectives:[{name:"Small Tree",health:"[CxL/2{$math.ceil}]"}],lootDeckConfig:{money:7,lumber:5,metal:2,hide:3,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"}],objectives:[1]}]},{index:"75",name:"Infiltrating the Lair",flowChartGroup:"personal-quests",coordinates:{x:1937,y:436.5,width:101,height:88,gridLocation:"C2"},edition:"fh",complexity:2,unlocks:["77"],requirements:[{buildings:["boat"]}],forcedLinks:["77"],rewards:{gold:10},monsters:["abael-herder","lightning-eel","piranha-pig"],lootDeckConfig:{money:8,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-herder",type:"normal"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"76",name:"Apotheosis",flowChartGroup:"personal-quests",coordinates:{x:2045.75,y:474.5,width:96,height:86,gridLocation:"B2"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],monsters:["algox-archer","algox-guard","fish-king","lurker-mindsnipper","piranha-pig"],allies:["fish-king","piranha-pig"],lootDeckConfig:{money:9,metal:2,hide:5,axenut:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,once:!0,note:"adjacent to each character",spawns:[{monster:{name:"piranha-pig",type:"normal"},count:"C"}]},{round:"R == 3 || R == 6 || R == 9",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal"},marker:"a"},{monster:{name:"algox-guard",player4:"normal"},marker:"a",count:"2"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"lurker-mindsnipper",player2:"normal"},marker:"b"},{monster:{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},marker:"b",count:"2"}]},{round:"R == 7",start:!0,sections:["105.4"]},{round:"R == 12",sections:["56.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{health:"H/2",actions:[],special:[],immunities:["bane","brittle","poison","wound","curse","regenerate","ward","invisible"],deck:"fish-king-scenario-76",absolute:!0},note:"%data.scenario.rules.fh.76%"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[2],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"fish-king",type:"boss"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"}]}]},{index:"77",name:"Fish King's Ascension",flowChartGroup:"personal-quests",coordinates:{x:2033,y:375.75,width:112,height:86,gridLocation:"B1"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{items:["201"],events:["boat:B-19"],custom:'"Threat from the Deep" quest complete'},monsters:["fish-king","piranha-pig"],lootDeckConfig:{money:4,lumber:2,metal:2,hide:2,corpsecap:2,flamefruit:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["131.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[Hx3/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[Hx3/4{$math.ceil}]"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"fish-king"},statEffect:{movement:"0",actions:[{type:"custom",value:"%data.scenario.rules.fh.77.2%"}],special:[[{type:"move",value:0,valueType:"plus"},{type:"attack",value:1,valueType:"minus",subActions:[{type:"specialTarget",value:"enemiesAdjacent",small:!0},{type:"push",value:2,small:!0}]},{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}}]}],[{type:"move",value:0,valueType:"plus"},{type:"specialTarget",value:"focusEnemyFarthest",small:!0,subActions:[{type:"attack",value:0,valueType:"plus",subActions:[{type:"range",value:5,small:!0},{type:"pull",value:4,small:!0},{type:"condition",value:"poison",small:!0}]}]},{type:"custom",value:"%data.custom.fh.fish-king-scenario-77.1%",small:!0}]],immunities:["poison","immobilize","disarm","stun","muddle"],absolute:!0},note:"%data.scenario.rules.fh.77.1%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}]}]},{index:"78",name:"The Lurker Problem",flowChartGroup:"job-postings",errata:"scenario78",coordinates:{x:1410,y:777.75,width:111,height:71,gridLocation:"H5"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:10},monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"}]}]},{index:"79",name:"Relic",flowChartGroup:"job-postings",coordinates:{x:2036.5,y:835.5,width:99,height:60,gridLocation:"B5"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{morale:3,calendarSection:["45.2-3"]},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:8,lumber:3,metal:5,hide:2,corpsecap:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"80",name:"Relic Renewed",flowChartGroup:"job-postings",coordinates:{x:493.5,y:1869.5,width:132,height:71,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2,collectiveResources:[{type:"lumber",value:2},{type:"metal",value:2},{type:"hide",value:2}]},monsters:["robotic-boltshooter","ruined-machine","steel-automaton","the-relic"],objectives:[{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"a",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"custom",value:"Add %game.condition.immobilize% to all attacks targeting the primary focus",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"b",actions:[{type:"custom",value:"The Relic gains:",small:!0,subActions:[{type:"shield",value:"[1+(L/2){$math.ceil}]",small:!0}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"c",actions:[{type:"custom",value:"Change The Relic's Special 1 to:",small:!0,subActions:[{type:"custom",value:"Focus on the farthest attackable enemy and perform:",small:!0,subActions:[{type:"custom",value:"%game.action.move%+2, %game.action.jump%",small:!0},{type:"custom",value:"%game.action.attack%+0, %game.action.target% focus (if adjacent) and all enemies in or adjacent to hexes entered during the movement",small:!0}]}]}]},{name:"Metal Cabinet",health:"[(2+L)xC/2{$math.ceil}]",marker:"d",actions:[{type:"custom",value:"Change The Relic's Special 2 to:",small:!0,subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},count:"2"},{monster:{name:"ruined-machine",player3:"normal"}},{monster:{name:"ruined-machine",player3:"elite"}}]}]}]}],lootDeckConfig:{money:8,lumber:2,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,treasures:[62,69],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"the-relic",type:"boss"}],objectives:[1,2,3,4]}]},{index:"81",name:"Ruinous Research Lab",flowChartGroup:"other",coordinates:{x:2122.75,y:1497.5,width:102,height:77,gridLocation:"A12"},edition:"fh",complexity:3,allyDeck:!0,rewards:{prosperity:1,itemBlueprints:["70"]},monsters:["aesther-ashblade","aesther-scout","ancient-artillery","ruined-machine","steel-automaton"],allied:["aesther-ashblade","aesther-scout"],objectives:[{name:"Door 1",health:"(1+L)x2",marker:"1",initiative:20},{name:"Door 2",health:"(1+L)x2",marker:"2",initiative:20}],lootDeckConfig:{money:9,lumber:2,metal:5,hide:2,rockroot:1,random_item:1},rules:[{round:"true",always:!0,once:!0,sections:["174.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 1"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["133.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]},{round:"R == 6 || R == 12",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R == 9",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"aesther-scout",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"aesther-ashblade",player2:"normal",player3:"normal",player4:"elite"},{name:"aesther-ashblade",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,2]}]},{index:"82",name:"Expedition North",flowChartGroup:"other",coordinates:{x:553.5,y:1110,width:113,height:83,gridLocation:"P8"},edition:"fh",complexity:2,rewards:{prosperity:2,itemDesigns:["153:fc","159:fc","161:fc"],custom:"Add the following Forgotten Circles items to the Frosthaven supply: 153, 159, and 161"},monsters:["frost-demon","wind-demon"],objectives:[{name:"Location",health:"L+1",marker:"2"},{name:"Location",health:"L+1",marker:"3"},{name:"Location",health:"L+1",marker:"4"}],lootDeckConfig:{money:12,rockroot:1,arrowvine:1,snowthistle:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"R > 1 && R % 6 != 1",start:!0,note:"Relocate corridor %game.mapMarker.c% to the next %game.mapMarker.a% position in clockwise order"},{round:"R > 1 && R % 4 != 1",start:!0,note:"Relocate corridor %game.mapMarker.d% to the next %game.mapMarker.b% position in clockwise order"},{round:"R > 1 && R % 6 == 1",start:!0,note:"Return corridor %game.mapMarker.c% to starting %game.mapMarker.c% position"},{round:"R > 1 && R % 4 == 1",start:!0,note:"Return corridor %game.mapMarker.d% to starting %game.mapMarker.d% position"},{round:"R > 2 && R % 4 == 3",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 3 && R % 4 == 0",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R > 4 && R % 4 == 1",start:!0,spawns:[{monster:{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R > 5 && R % 4 == 2",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"h"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"elite"}],objectives:["1:6","2:C < 3 ? 0 : 3","3:C < 4 ? 0 : 3"]}]},{index:"83",name:"Rising Brine",flowChartGroup:"job-postings",coordinates:{x:1721.25,y:680.25,width:79,height:62,gridLocation:"E3"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{items:["202"]},monsters:["ancient-artillery","giant-piranha-pig","giant-piranha-pig-boss","lurker-mindsnipper","piranha-pig"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,flamefruit:1,arrowvine:2,snowthistle:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig"},type:"killed",value:"1"},{identifier:{type:"monster",edition:"fh",name:"giant-piranha-pig-boss"},type:"remove"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"giant-piranha-pig",type:"elite"},{name:"giant-piranha-pig-boss",type:"boss"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"84",name:"Here There Be Oozes",flowChartGroup:"job-postings",coordinates:{x:325.25,y:809,width:99,height:73,gridLocation:"R5"},edition:"fh",complexity:3,rewards:{items:["234"],campaignSticker:["brummix"]},monsters:["elder-ooze","ooze"],lootDeckConfig:{money:15,lumber:3,metal:3,corpsecap:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"elder-ooze",type:"boss"},{name:"ooze",type:"elite"},{name:"ooze",type:"elite"},{name:"ooze",player3:"elite",player4:"elite"},{name:"ooze",player4:"elite"}]}]},{index:"85",name:"Deadly Pastimes",flowChartGroup:"job-postings",coordinates:{x:642.75,y:842.25,width:125,height:75,gridLocation:"O5"},edition:"fh",complexity:3,requirements:[{buildings:["climbing-gear"]}],rewards:{experience:15,battleGoals:1},monsters:["burrowing-blade","polar-bear"],lootDeckConfig:{money:7,lumber:2,metal:3,hide:4,rockroot:2,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"86",name:"The Lady in White",flowChartGroup:"job-postings",coordinates:{x:1816,y:1934.5,width:123,height:69,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["black-imp","earth-demon","ice-wraith"],objectives:[{name:"Tree",health:"(2+L)xC",actions:[{type:"custom",value:"When suffering damage but not destroyed:",subActions:[{type:"summon",value:"monsterStandee",valueObject:[{monster:{name:"black-imp",type:"normal"}}]}]}]}],lootDeckConfig:{money:10,lumber:4,hide:2,axenut:1,arrowvine:2,flamefruit:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"87",name:"The Collection",flowChartGroup:"job-postings",coordinates:{x:1203.25,y:1009,width:93,height:69,gridLocation:"J7"},edition:"fh",complexity:1,unlocks:["88"],links:["88"],rewards:{custom:"Or 2 inspiration if both brothers survived",inspiration:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:2,metal:4,hide:3,rockroot:1,arrowvine:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"elite",player4:"elite"}]}]},{index:"88",name:"Collection's Capstone",flowChartGroup:"job-postings",coordinates:{x:1333.5,y:1040.25,width:92,height:71,gridLocation:"I7"},edition:"fh",complexity:2,rewards:{morale:2},monsters:["earth-demon","flame-demon","frost-demon","savvas-icestorm","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:8,lumber:3,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-lavaflow",type:"normal"},{name:"savvas-lavaflow",player4:"normal"}]}]},{index:"89",name:"A Contained Fire",flowChartGroup:"job-postings",coordinates:{x:1568.5,y:1260,width:79,height:106,gridLocation:"G10"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"rockroot",value:2},{type:"lumber",value:2}]},monsters:["algox-guard"],lootDeckConfig:{money:10,lumber:2,metal:2,hide:2,flamefruit:1,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"90",name:"Frozen Treasure",flowChartGroup:"job-postings",coordinates:{x:1272,y:579.5,width:86,height:61,gridLocation:"I3"},edition:"fh",complexity:2,monsters:["frozen-corpse","ice-wraith","polar-bear","snow-imp"],lootDeckConfig:{money:5,lumber:4,hide:4,snowthistle:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",type:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player3:"normal",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"ice-wraith",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"91",name:"Shoreline Scramble",flowChartGroup:"job-postings",coordinates:{x:1169,y:716.75,width:114,height:92,gridLocation:"J4"},edition:"fh",complexity:2,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}]},monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],lootDeckConfig:{money:10,lumber:4,hide:4,flamefruit:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"92",name:"Sinking Ship",flowChartGroup:"job-postings",coordinates:{x:1307,y:638.75,width:111,height:80,gridLocation:"I4"},edition:"fh",complexity:3,requirements:[{buildings:["boat"]}],rewards:{custom:"Collectively lose 5xC/2 loot tokens (rounded down), first taken from HE-RO-IC-S' pile, then taken as evenly as possible from the characters' collected loot tokens. If any loot tokens remain in the HE-RO-IC-S pile, distribute them as evenly as possible to all characters. Loot tokens are then traded in for loot cards",calendarSection:["181.2-1"]},monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-soldier","lurker-wavethrower"],lootDeckConfig:{money:7,lumber:4,metal:3,hide:2,flamefruit:1,axenut:2,random_item:1},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"f"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"f",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"f"}]},{round:"R == 3 || R == 5",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"g"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"g",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7 || R == 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-wavethrower",player2:"normal"},marker:"e"},{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"e",count:"2"},{monster:{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R > 9",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"lurker-clawcrusher",type:"elite"},marker:"c"}]},{round:"R == 6",note:"Tile 7-G is submerged"},{round:"R == 10",note:"Tiles 2-B and 2-D are submerged"},{round:"R == 12",note:"Tile 14-A is submerged"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"93A",name:"Midwinter Brawl A",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{items:["235"]},monsters:["algox-archer","algox-guard","algox-scout","scabwit","yoglang"],allies:["scabwit"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"scabwit",type:"boss"},{name:"yoglang",type:"boss"}]}]},{index:"93B",name:"Midwinter Brawl B",flowChartGroup:"job-postings",coordinates:{x:1415.75,y:1039.5,width:79,height:49,gridLocation:"H7"},edition:"fh",complexity:2,rewards:{itemBlueprints:["79"]},monsters:["hound","polar-bear","scabwit","vermling-scout","yoglang"],allies:["yoglang"],lootDeckConfig:{money:9,lumber:4,metal:2,hide:2,axenut:1,flamefruit:1,random_item:1},rules:[{round:"R == 2 || R == 4 || R == 6",start:!0,spawns:[{monster:{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 3 || R == 5 || R == 7",start:!0,spawns:[{monster:{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},marker:"d",count:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"scabwit",type:"boss"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player4:"elite"},{name:"vermling-scout",player4:"elite"},{name:"yoglang",type:"boss"}]}]},{index:"94",name:"A Grand View",flowChartGroup:"job-postings",coordinates:{x:2057.5,y:910.5,width:101,height:89,gridLocation:"B6"},edition:"fh",complexity:3,requirements:[{buildings:["sled"]}],rewards:{experience:10},monsters:["ancient-artillery","ruined-machine"],objectives:[{name:"Flaming Bladespinner",initiative:"1",actions:[{type:"custom",value:"%game.action.fly% Move 1 hex clockwise around adjacent obstacle %game.mapMarker.a%"}]}],lootDeckConfig:{money:9,lumber:3,metal:5,rockroot:1,arrowvine:1,random_item:1},rules:[{round:"true",note:"one for each character adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"R % 6 == 3",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R % 6 == 0",start:!0,note:"at any starting empty hex",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:["1:4"]}]},{index:"95",name:"To Bury the Dead",flowChartGroup:"job-postings",coordinates:{x:624,y:1967.125,width:83,height:58,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10,morale:1},monsters:["ice-wraith"],lootDeckConfig:{money:8,lumber:4,metal:2,corpsecap:2,snowthistle:2},rules:[{round:"R == 8",start:!0,sections:["43.1"]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"96",name:"Underground Station",flowChartGroup:"job-postings",coordinates:{x:1792.5,y:1446,width:116,height:89,gridLocation:"E11"},edition:"fh",complexity:2,unlocks:["97"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["97"],rewards:{experience:5,morale:1},monsters:["ancient-artillery","rending-drake"],objectives:[{name:"Debris",health:"L+10"}],lootDeckConfig:{money:14,lumber:1,metal:3,axenut:1,rockroot:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"97",name:"Program Control Nexus",flowChartGroup:"job-postings",coordinates:{x:1811.75,y:1545.25,width:110,height:83,gridLocation:"D12"},edition:"fh",complexity:3,unlocks:["98"],forcedLinks:["98"],rewards:{morale:1,collectiveResources:[{type:"metal",value:5}]},monsters:["flaming-bladespinner","program-director","robotic-boltshooter","ruined-machine","steel-automaton"],lootDeckConfig:{money:10,lumber:2,metal:4,random_item:1},rules:[{round:"1",start:!0,note:"%data.scenario.rules.fh.97%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"normal",marker:"d"},{name:"flaming-bladespinner",player3:"normal",player4:"elite",marker:"d"},{name:"program-director",type:"boss"},{name:"robotic-boltshooter",type:"normal",marker:"a"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite",marker:"a"},{name:"ruined-machine",type:"normal",marker:"c"},{name:"ruined-machine",type:"elite",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"ruined-machine",player4:"normal",marker:"c"},{name:"steel-automaton",type:"normal",marker:"b"},{name:"steel-automaton",type:"elite",marker:"b"}]}]},{index:"98",name:"Collapsing Vent",flowChartGroup:"job-postings",coordinates:{x:1707.5,y:1562,width:107,height:72,gridLocation:"E12"},edition:"fh",complexity:1,rewards:{prosperity:1},monsters:["ancient-artillery","black-imp","spitting-drake"],lootDeckConfig:{money:10,lumber:1,metal:4,hide:3,rockroot:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"3",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"black-imp",player4:"normal"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"99",name:"Prison Break",flowChartGroup:"job-postings",coordinates:{x:2125.75,y:700.75,width:70,height:72,gridLocation:"A4"},edition:"fh",complexity:1,unlocks:["100"],rewards:{gold:10},monsters:["frozen-corpse","robotic-boltshooter"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:2},rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"elite"}]}]},{index:"100",name:"Inside the Swarm",flowChartGroup:"job-postings",coordinates:{x:2140.25,y:606,width:89,height:82,gridLocation:"A3"},edition:"fh",complexity:3,unlocks:["101"],rewards:{gold:5,experience:10},monsters:["lurker-mindsnipper","shrike-fiend"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"101",name:"Harrower Library",flowChartGroup:"job-postings",coordinates:{x:651.25,y:606.25,width:102,height:73,gridLocation:"O3"},edition:"fh",complexity:1,unlocks:["102"],requirements:[{campaignSticker:["into-the-forest"]}],rewards:{experience:10,battleGoals:1},monsters:["algox-archer","algox-guard"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,arrowvine:1,snowthistle:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"elite",player4:"elite"},{name:"algox-guard",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}]}]},{index:"102",name:"Into the Black",flowChartGroup:"job-postings",coordinates:{x:422.75,y:996.25,width:91,height:92,gridLocation:"R7"},edition:"fh",complexity:3,rewards:{experience:20},monsters:["chaos-demon","frost-demon","living-spirit","night-demon","savvas-icestorm","wind-demon"],lootDeckConfig:{money:15},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,treasures:[57,85],monster:[]}]},{index:"103",name:"The Lead Door",flowChartGroup:"job-postings",coordinates:{x:370.75,y:1091.25,width:104,height:96,gridLocation:"R8"},edition:"fh",complexity:2,rewards:{gold:10,experience:30,battleGoals:1},monsters:["living-doom","living-spirit","lurker-clawcrusher","shrike-fiend"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],lootDeckConfig:{money:15,random_item:1},rules:[{round:"true",note:"If any ice pillars suffered damage this round, spawn the following monsters at each character's location based on number of tokens on their mat.<br>0 - 5: One normal Living Spirit<br>6 - 8: One normal Shrike Fiend <br>9 - 11: One normal Living Doom <br>12+: One elite Living Spirit and one normal Lurker Clawcrusher"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"elite",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"104",name:"Ruins of the Solstice",flowChartGroup:"random-scenarios",errata:"scenario104",coordinates:{x:1789.5,y:774.25,width:115,height:83,gridLocation:"E5"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["sled"]}],rewards:{events:["winter-road:WR-49"],collectiveResources:[{type:"snowthistle",value:2}]},monsters:["earth-demon","frost-demon","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"brittle",scenarioEffect:!0}]},{round:"true",note:"Each Earth Demon or Forest Imp in winter and each Frost Demon or Savvas Icestorm in spring suffers%game.damage:1%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"105",name:"Ruins of the Equinox",flowChartGroup:"random-scenarios",coordinates:{x:1484.25,y:1437.5,width:116,height:79,gridLocation:"H11"},edition:"fh",complexity:2,requirements:[{buildings:["climbing-gear"]}],rewards:{collectiveResources:[{type:"flamefruit",value:2}],calendarSection:["159.4-4"]},monsters:["earth-demon","flame-demon","savvas-lavaflow","wind-demon"],lootDeckConfig:{money:10,lumber:3,metal:3,hide:2,corpsecap:1,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}],elements:[{type:"air",state:"always"}]},{round:"R % 3 == 1",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.b%"},{round:"R % 3 == 2",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.c%"},{round:"R % 3 == 0",note:"All characters and character summons in row %game.element.air%, in right-to-left order, move one hex to the right.<br>Move the %game.element.air% token to %game.mapMarker.a%"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"savvas-lavaflow",type:"elite"},{name:"savvas-lavaflow",player3:"normal",player4:"normal"},{name:"savvas-lavaflow",player4:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"106",name:"The Tempus Forge",flowChartGroup:"random-scenarios",coordinates:{x:951.5,y:808.75,width:103,height:68,gridLocation:"M5"},edition:"fh",complexity:2,rewards:{items:["213"]},monsters:[],lootDeckConfig:{money:7,lumber:2,metal:4,hide:2,rockroot:2,arrowvine:2,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"107",name:"My Private Empire",flowChartGroup:"random-scenarios",coordinates:{x:1179.5,y:1276.75,width:102,height:70,gridLocation:"J10"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],monsters:[],lootDeckConfig:{money:10,lumber:3,metal:3,flamefruit:1,axenut:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"108",name:"Lustrous Pit",flowChartGroup:"random-scenarios",coordinates:{x:1931.5,y:1549.75,width:90,height:68,gridLocation:"C12"},edition:"fh",complexity:2,random:!0,rewards:{morale:2,inspiration:2},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:15,lumber:2,metal:2,hide:2,rockroot:1,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"109",name:"Furious Factory",flowChartGroup:"random-scenarios",coordinates:{x:1837,y:1153.25,width:155,height:88,gridLocation:"C8"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{collectiveResources:[{type:"metal",value:5}]},monsters:["ancient-artillery"],objectives:[{name:"Metal Cabinet",health:"(2+L)xC/2",marker:"b"}],lootDeckConfig:{money:11,lumber:2,metal:4,rockroot:2,flamefruit:1},rules:[{round:"true",always:!0,once:!0,sections:["72.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Metal Cabinet",marker:"b"},type:"killed",value:"4"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"elite"}]}]},{index:"110",name:"Guardian's Temple",flowChartGroup:"random-scenarios",errata:"scenario110",coordinates:{x:364.25,y:913,width:103,height:82,gridLocation:"R6"},edition:"fh",complexity:2,random:!0,requirements:[{buildings:["climbing-gear"]}],rewards:{itemBlueprints:["75"]},monsters:["living-spirit","ruined-machine","shrike-fiend"],objectives:[{name:"Ice Pillar",marker:"a",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"b",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]},{name:"Ice Pillar",marker:"c",actions:[{type:"custom",value:"Can only be destoyed when a Ruined Machine dies in an adjacent hex"}]}],lootDeckConfig:{money:6,lumber:2,metal:3,hide:2,rockroot:1,corpsecap:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]},{round:"R % 3 == 1",start:!0,note:"Ice Pillars %game.mapMarker.a% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"a"}}]},{round:"R % 3 == 2",start:!0,note:"Ice Pillars %game.mapMarker.b% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"b"}}]},{round:"R % 3 == 0",start:!0,note:"Ice Pillars %game.mapMarker.c% active",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Ice Pillar",marker:"c"}}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 1 && R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["186.3"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead",value:"2"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"normal"}],objectives:[1,1,2,2,3,3]}]},{index:"111",name:"Ice Cave",flowChartGroup:"random-scenarios",errata:"scenario111",coordinates:{x:655,y:384.5,width:103,height:70,gridLocation:"O1"},edition:"fh",complexity:3,random:!0,requirements:[{buildings:["sled"]}],rewards:{items:["236"]},monsters:["frost-demon","hound"],lootDeckConfig:{money:10,lumber:1,metal:3,hide:3,corpsecap:1,arrowvine:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player3:"elite",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"112",name:"Raised by Wolves",flowChartGroup:"random-scenarios",coordinates:{x:1696,y:1866.25,width:144,height:93,gridLocation:"FR"},edition:"fh",complexity:1,random:!0,rewards:{experience:15},monsters:["burrowing-blade","earth-demon","hound"],allies:["hound"],lootDeckConfig:{money:8,lumber:1,metal:3,hide:5,rockroot:2,axenut:1},rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"hound"},type:"killed",value:"1"}],finish:"lost"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"hound"},statEffect:{health:"Hx2",absolute:!0},note:"%data.scenario.rules.fh.112%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"elite"},{name:"earth-demon",player3:"normal",player4:"elite"},{name:"hound",type:"normal"},{name:"hound",type:"elite"}]}]},{index:"113",name:"Lush Grotto",flowChartGroup:"other",coordinates:{x:1496.75,y:1241.75,width:89,height:71,gridLocation:"G9"},edition:"fh",complexity:1,rewards:{custom:"Gain any 4 collective herb resources"},monsters:["chaos-demon","forest-imp"],lootDeckConfig:{money:8,lumber:4,rockroot:2,arrowvine:2,flamefruit:1,snowthistle:2,axenut:1,corpsecap:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"}]}]},{index:"114",name:"Work Freeze",flowChartGroup:"other",coordinates:{x:660.75,y:983.5,width:95,height:77,gridLocation:"O7"},edition:"fh",complexity:2,rewards:{collectiveResources:[{type:"hide",value:5}],calendarSection:["86.1-4"]},monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",marker:"b",tags:["ice-pillar-b"],actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]},{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],lootDeckConfig:{money:10,metal:3,hide:4,axenut:1,snowthistle:2},rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"c"},{monster:{name:"polar-bear",player4:"normal"},marker:"c"}]},{round:"R % 2 == 0",spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player4:"elite"},marker:"d"}]},{round:"true",always:!0,once:!0,sections:["159.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["ice-pillar-b"]},type:"dead"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,2,2]}]},{index:"115",name:"Pylon Problems",flowChartGroup:"other",coordinates:{x:708.25,y:1071.5,width:85,height:71,gridLocation:"O8"},edition:"fh",complexity:2,rewards:{experience:15,calendarSectionManual:[{section:"66.2",hint:"Add %data.section:66.2% to the calendar in X+1 weeks, where X is the number of pylons destroyed."}]},monsters:["algox-guard","algox-snowspeaker","snow-imp"],objectives:[{name:"Ice Pillar",health:"L+3",actions:[{type:"custom",value:"When destroyed, replace with rubble and all figures in adjacent hexes suffer trap damage",small:!0}]}],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,arrowvine:1,rockroot:1,snowthistle:1},rules:[{round:"R == 5",start:!0,spawns:[{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"},marker:"a"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b",count:"2"}]},{round:"R == 10",finish:"won"}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player3:"elite",player4:"elite"}],objectives:[1,1,1]},{roomNumber:2,ref:"11-C",initial:!0,monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"}],objectives:[1,1,1]},{roomNumber:3,ref:"02-G",initial:!0,monster:[{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"116",name:"Caravan Guards",flowChartGroup:"other",coordinates:{x:648.25,y:1144.5,width:143,height:64,gridLocation:"O8"},edition:"fh",complexity:2,monsters:["algox-archer","algox-guard","algox-icespeaker","algox-scout"],objectives:[{name:"Caravan Wagon",health:"Cx2+L",escort:!0,initiative:50,tags:["caravan-wagon"],actions:[{type:"move",value:"3",subActions:[{type:"custom",value:"Focus on moving towards %game.mapMarker.b%"}]}]}],lootDeckConfig:{money:5,lumber:4,metal:4,hide:4,rockroot:1,arrowvine:1,axenut:1},rules:[{round:"R > 1 && R < 6",start:!0,objectiveSpawns:[{objective:{index:1,name:"Caravan Wagon",tags:["caravan-wagon"],escort:!0},marker:"a"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"},{monster:{name:"algox-archer",player3:"elite",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},marker:"c"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-icespeaker",type:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"algox-guard",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"117",name:"A Waiting Game",flowChartGroup:"other",errata:"scenario117",coordinates:{x:1646,y:983.75,width:98,height:75,gridLocation:"F7"},edition:"fh",complexity:2,rewards:{gold:10,collectiveResources:[{type:"hide",value:4}]},monsters:["hound","polar-bear","vermling-priest","vermling-scout"],lootDeckConfig:{money:6,lumber:4,hide:6,axenut:1,arrowvine:2,flamefruit:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"polar-bear"},type:"killed",value:"3"}],finish:"lost"}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",type:"elite"},{name:"hound",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player3:"normal",player4:"normal"},{name:"vermling-priest",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"118",name:"Lurker Necromancy",flowChartGroup:"other",coordinates:{x:1620,y:747.5,width:101,height:73,gridLocation:"F4"},edition:"fh",complexity:1,requirements:[{buildings:["sled"]}],rewards:{custom:"Trade all numbered and lettered tokens in for loot cards",itemBlueprints:["66"]},monsters:["frozen-corpse","frozen-corpse-scenario-118","living-bones","living-bones-scenario-118"],lootDeckConfig:{money:8,lumber:3,metal:3,hide:3,rockroot:1,snowthistle:2},rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:"frozen-corpse",number:"N % 2 == 1"},type:"transferEntities",value:"frozen-corpse-scenario-118"},{identifier:{type:"monster",name:"living-bones",number:"N % 2 == 1"},type:"transferEntities",value:"living-bones-scenario-118"},{identifier:{type:"monster",name:"frozen-corpse-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"frozen-corpse"},{identifier:{type:"monster",name:"living-bones-scenario-118",number:"N % 2 == 0"},type:"transferEntities",value:"living-bones"}],alwaysApply:!0}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"119",name:"Radiant Dust",flowChartGroup:"other",coordinates:{x:428.5,y:365.5,width:104,height:70,gridLocation:"Q1"},edition:"fh",complexity:2,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{custom:"Spend any remaining dust to gain the following: <br><br> Spend seven (once only): Scepter of Control Item #203 <br>Spend one: Any 1 material resource <br>Spend two: Any 1 herb resource"},monsters:["burrowing-blade","rending-drake","spitting-drake"],objectives:[{name:"Infuser",escort:!0,health:"3xL+5",initiative:99,marker:"a",actions:[{type:"move",value:2,small:!0},{type:"custom",value:"At end of turn, spend dust to:",small:!0,subActions:[{type:"custom",value:"Spend 1: %game.action.move%2",small:!0},{type:"custom",value:"Spend 2:",small:!0,subActions:[{type:"heal",value:"L+2",small:!0,subActions:[{type:"specialTarget",value:"self",small:!0}]}]},{type:"custom",value:"Spend 5: Convert monster within %game.action.range%2",small:!0}]}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"120",name:"Under the Influence",flowChartGroup:"other",coordinates:{x:308.25,y:2493.5,width:119,height:95,gridLocation:"FR"},edition:"fh",complexity:1,rewards:{morale:1,collectiveResources:[{type:"lumber",value:2}],calendarSection:["76.3-10"]},monsters:["city-guard","hound"],lootDeckConfig:{money:8,lumber:4,metal:4,hide:4},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player3:"normal",player4:"elite"}]}]},{index:"121",name:"Black Memories",flowChartGroup:"other",coordinates:{x:1930.75,y:1640.5,width:100,height:97,gridLocation:"C13"},edition:"fh",complexity:3,monsters:["vermling-priest","vermling-scout"],lootDeckConfig:{money:9,lumber:3,metal:3,hide:2,rockroot:1,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player4:"normal"}]}]},{index:"122",name:"The Eternal Crave",flowChartGroup:"other",coordinates:{x:1348.25,y:1335.75,width:87,height:83,gridLocation:"H10"},edition:"fh",complexity:2,lootDeckConfig:{money:6,lumber:3,metal:3,hide:4,rockroot:2,axenut:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[]}]},{index:"123",name:"The Titan",flowChartGroup:"other",coordinates:{x:1116.25,y:791,width:76,height:88,gridLocation:"K5"},edition:"fh",complexity:3,rewards:{morale:1,inspiration:1},monsters:["ancient-artillery"],lootDeckConfig:{money:9,lumber:2,metal:6,flamefruit:1,snowthistle:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"disarm",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"124",name:"A Growing Problem",flowChartGroup:"other",coordinates:{x:1894.5,y:2011.25,width:105,height:110,gridLocation:"FR"},edition:"fh",complexity:2,unlocks:["125"],rewards:{experience:15},monsters:["living-bones","living-spirit"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,snowthistle:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"125",name:"The Longest Second",flowChartGroup:"other",coordinates:{x:1998.5,y:1974.75,width:100,height:111,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{items:["194"]},monsters:["robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:9,lumber:2,metal:4,hide:2,rockroot:1,corpsecap:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"poison",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"126",name:"Joseph the Lion",flowChartGroup:"other",coordinates:{x:2042.75,y:1898.5,width:105,height:64,gridLocation:"FR"},edition:"fh",complexity:2,rewards:{gold:10},monsters:["ice-wraith","living-spirit","snow-imp"],objectives:[{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"f"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"g"},{name:"Helper",escort:!0,health:"2xL+3",initiative:50,marker:"h"},{name:"Crate",health:"L+1"},{name:"Barrel",health:"L+1"}],lootDeckConfig:{money:5,lumber:3,metal:3,hide:2,flamefruit:1,snowthistle:2},rules:[{round:"R == 2 || R == 4",start:!0,spawns:[{monster:{name:"living-spirit",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"living-spirit",player4:"normal"},marker:"d"},{monster:{name:"snow-imp",player3:"normal"},marker:"d"},{monster:{name:"living-spirit",player2:"normal"},marker:"e"}]},{round:"R == 3",start:!0,spawns:[{monster:{name:"snow-imp",type:"normal"},marker:"a"},{monster:{name:"snow-imp",type:"normal"},marker:"c"},{monster:{name:"snow-imp",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 5 || R == 7",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"c"},{monster:{name:"snow-imp",player3:"elite"},marker:"c"}]},{round:"R == 6 || R == 8 || R == 10 || R == 12",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 9 || R == 11",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"living-spirit",player2:"normal"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"e"}]},{round:"R > 12",start:!0,spawns:[{monster:{name:"ice-wraith",type:"elite"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"},{monster:{name:"ice-wraith",type:"elite"},marker:"c"},{monster:{name:"ice-wraith",player4:"elite"},marker:"d"},{monster:{name:"ice-wraith",player3:"elite"},marker:"e"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[1,1,1,1,1,"2:C>2","3:C>3",4,4,5,5,5]}]},{index:"127",name:"Derelict Freighter",flowChartGroup:"other",coordinates:{x:1557.25,y:2626.75,width:176,height:134,gridLocation:"FR"},edition:"fh",complexity:1,monsters:["ancient-artillery","ice-wraith"],lootDeckConfig:{money:5,lumber:6,metal:4,hide:4,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"ice-wraith",player4:"normal"}]}]},{index:"128",name:"A Tall Drunken Tale",flowChartGroup:"other",coordinates:{x:1416,y:2373,width:113,height:99,gridLocation:"FR"},edition:"fh",complexity:3,monsters:["abael-scout","lurker-wavethrower","steel-automaton"],lootDeckConfig:{money:2,lumber:3,metal:1,hide:8,snowthistle:1,arrowvine:1,flamefruit:2},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0}]},{round:"R == 2",start:!0,sections:["170.1"]},{round:"R == 3",start:!0,sections:["152.2"]},{round:"R == 4",start:!0,sections:["176.3"]},{round:"R == 5",start:!0,sections:["124.3"]},{round:"R == 6",start:!0,sections:["139.1"]},{round:"R == 7",start:!0,sections:["166.2"]},{round:"R == 8",start:!0,sections:["132.4"]},{round:"R == 9",start:!0,sections:["186.4"]},{round:"R == 9",finish:"won"},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{deck:"imp",absolute:!0},note:"%data.scenario.rules.fh.128.1%"}]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{deck:"lurker-wavethrower-scenario-128",absolute:!0},note:"%data.scenario.rules.fh.128.2%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"129",name:"How to Lay an Ambush",flowChartGroup:"other",coordinates:{x:1267.5,y:1217.75,width:103,height:65,gridLocation:"J9"},edition:"fh",complexity:3,unlocks:["130"],forcedLinks:["130"],rewards:{battleGoals:1,custom:"Note the amount of remaining sun agates"},monsters:["city-guard"],allies:["city-guard"],lootDeckConfig:{money:10,lumber:4,metal:2,hide:2,axenut:1,snowthistle:1},rules:[{round:"R == 4",start:!0,sections:["148.5"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"city-guard"},statEffect:{deck:"archer"},note:"%data.scenario.rules.fh.129%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"city-guard",type:"elite"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"elite",player3:"elite"},{name:"city-guard",player2:"elite"}]}]},{index:"130",name:"And Then, a Stream",flowChartGroup:"other",errata:"scenario130",coordinates:{x:1393.5,y:1151.25,width:110,height:65,gridLocation:"H8"},edition:"fh",complexity:3,monsters:["frozen-corpse","lightning-eel","shrike-fiend"],lootDeckConfig:{money:6,lumber:5,metal:2,hide:3,flamefruit:1,arrowvine:2,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"R == 5",start:!0,sections:["173.2"]},{round:"R == 8",start:!0,sections:["87.1"]}],rooms:[{roomNumber:1,initial:!0,treasures:[11],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"elite",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player4:"elite"}]}]},{index:"131",name:"The Dancing Iceberg",flowChartGroup:"other",coordinates:{x:1138.5,y:453.5,width:98,height:53,gridLocation:"K2"},edition:"fh",complexity:3,rewards:{experience:10,items:["237"]},monsters:["lurker-mindsnipper","lurker-soldier"],rules:[{round:"R == 3",start:!0,sections:["120.2"]},{round:"R == 5",start:!0,sections:["181.5"]},{round:"R == 7",start:!0,sections:["185.1"]},{round:"R == 9",start:!0,sections:["194.2"]},{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"lurker-wavethrower"},statEffect:{attack:1,deck:"lurker-wavethrower-scenario-131"},note:"%data.scenario.rules.fh.131%"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"lurker-mindsnipper",player2:"elite",player3:"normal",player4:"elite"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"elite",player4:"elite"}]}]},{index:"132",name:"Temple of Feline Power",flowChartGroup:"job-postings",coordinates:{x:524.5,y:951.5,width:114,height:82,gridLocation:"Q6"},edition:"fh",complexity:2,unlocks:["133"],requirements:[{buildings:["climbing-gear"]}],forcedLinks:["133"],rewards:{inspiration:1},monsters:["ice-wraith","snow-imp"],lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,corpsecap:1,arrowvine:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"2",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"wound",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["171.1"],figures:[{identifier:{type:"monster",edition:"fh",name:".*"},type:"dead"}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"133",name:"Bolt",flowChartGroup:"job-postings",coordinates:{x:551.25,y:880.25,width:90,height:61,gridLocation:"P6"},edition:"fh",complexity:2,rewards:{items:["238"]},monsters:["forest-imp","rending-drake","spitting-drake"],lootDeckConfig:{money:7,lumber:3,metal:3,hide:3,rockroot:2,corpsecap:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",type:"elite"},{name:"spitting-drake",player3:"normal",player4:"normal"}]}]},{index:"134",name:"Tower of Knowledge",flowChartGroup:"other",coordinates:{x:333.5,y:368,width:97,height:92,gridLocation:"R1"},edition:"fh",complexity:3,requirements:[{campaignSticker:["into-the-forest"]}],rewards:{items:["219"]},monsters:["flaming-bladespinner","robotic-boltshooter","ruined-machine"],lootDeckConfig:{money:10,lumber:2,metal:4,hide:2,arrowvine:1,random_item:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"135",name:"Belara's Keep",flowChartGroup:"other",coordinates:{x:641.75,y:700.75,width:118,height:63,gridLocation:"O4"},edition:"fh",complexity:3,rewards:{prosperity:2,items:["220"],morale:2,inspiration:1},monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],lootDeckConfig:{money:7,lumber:4,metal:4,hide:2,corpsecap:1,flamefruit:1,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"136",name:"Abandoned Hideout",flowChartGroup:"other",coordinates:{x:1206,y:494.5,width:108,height:49,gridLocation:"I2"},edition:"fh",complexity:2,requirements:[{buildings:["boat"]}],rewards:{gold:20,items:["245"]},monsters:["lightning-eel","lurker-wavethrower"],lootDeckConfig:{money:8,lumber:4,hide:4,snowthistle:1,arrowvine:1},rooms:[{roomNumber:1,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"137",name:"Pirate Queen's Haul",flowChartGroup:"other",coordinates:{x:1829.25,y:648.25,width:101,height:67,gridLocation:"D3"},edition:"fh",complexity:1,requirements:[{buildings:["boat"]}],rewards:{gold:30,prosperity:2,custom:"Add one +1 sticker to a money loot card (the card gives one extra money token when resolved)",morale:3},monsters:["forest-imp","piranha-pig","polar-bear"],lootDeckConfig:{money:12,lumber:4,metal:4,hide:4,random_item:1},rules:[{round:"R == 1",start:!0,figures:[{identifier:{type:"character",name:".*"},type:"amAdd",value:"minus1:2",scenarioEffect:!0}]}],rooms:[{roomNumber:1,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"rnd",group:"randomDungeon",name:"Random Dungeon",edition:"fh",hideIndex:!0,initial:!0,lootDeckConfig:{money:12,lumber:2,metal:2,hide:2,snowthistle:1,arrowvine:1,axenut:1,flamefruit:1,corpsecap:1,rockroot:1},rules:[{round:"R == 1",start:!0,randomDungeon:{monsterCount:3,dungeonCount:3,initial:!0}}]}],sections:[{index:"2.1",name:"Howling in the Snow",edition:"fh",parent:"0",marker:"1",monsters:["hound"],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[47],monster:[{name:"hound",type:"normal"},{name:"hound",type:"normal"},{name:"hound",player2:"elite",player3:"normal",player4:"elite"},{name:"hound",player3:"elite",player4:"normal"},{name:"hound",player4:"elite"},{name:"hound",player4:"elite"}]}]},{index:"2.3",name:"Overrun Barricade",edition:"fh",parent:"43",parentSections:[["117.2"]],marker:"2",resetRound:"hidden",monsters:["ruined-machine","steel-automaton"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"3.1",name:"Stables Built",edition:"fh",conclusion:!0,named:!0,rewards:{items:["247"],events:["winter-road:WR-42","summer-road:SR-42"]}},{index:"3.2",name:"Call of the Harbinger",edition:"fh",parent:"56",monsters:["harbinger-of-shadow-1"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:21.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",marker:"1",health:"[Hx2/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[Hx2/3{$math.floor}]"}]},{round:"true",always:!0,once:!0,note:"Read %data.section:100.2%",figures:[{identifier:{type:"monster",name:"harbinger-of-shadow-1",health:"[H/3{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"harbinger-of-shadow-1"},type:"setHp",value:"[H/3{$math.floor}]"}]}],rooms:[{roomNumber:4,ref:"15-B",initial:!0,treasures:[4],monster:[{name:"harbinger-of-shadow-1",type:"boss",marker:"1"}]}]},{index:"4.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["82.3"],["177.6"]],marker:"3",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"5.3",name:"A Town in Flames",edition:"fh",parent:"1",marker:"1",monsters:["algox-archer","algox-guard","algox-priest","city-guard"],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player4:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",type:"normal"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"}]}]},{index:"6.1",name:"Algox Scouting",edition:"fh",parent:"2",parentSections:[["27.1"]],marker:"2",monsters:["algox-guard","algox-scout"],objectives:[{name:"Ice Sheet",health:"(L+2)xC",marker:"a"}],rooms:[{roomNumber:1,ref:"14-B",initial:!0,treasures:[32],monster:[{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"6.2",name:"Coin Solution",edition:"fh",conclusion:!0,unlocks:["137"]},{index:"6.3",name:"Algox Scouting",edition:"fh",parent:"86",marker:"1",monsters:["earth-demon","ice-wraith"],rules:[{round:"true",always:!0,once:!0,sections:["181.4"],figures:[{identifier:{type:"objective",edition:"objective",name:"Tree"},type:"dead"}]}],rooms:[{roomNumber:1,ref:"16-A",initial:!0,treasures:[17],monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}],objectives:[1,1]}]},{index:"7.1",name:"The Savvas Seal",edition:"fh",parent:"63",monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"}]},{round:"R == 5",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 6 || R == 8",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"d"}]},{round:"R == 7",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 8",sections:["148.1"]}]},{index:"7.2",name:"Frozen Crypt",edition:"fh",parent:"5",marker:"1",resetRound:"visible",monsters:["frozen-corpse"],objectives:[{name:"Altar",health:"(L+3)xC",marker:"a"}],rules:[{round:"R == 3",start:!0,spawns:[{marker:"b",monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}}]},{round:"R == 5",start:!0,spawns:[{marker:"c",monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}}]}],rooms:[{roomNumber:1,ref:"13-E",initial:!0,treasures:[46],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"7.3",name:"Carpenter Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-53","summer-outpost:SO-60"]}},{index:"8.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"1",monsters:["flame-demon"],objectives:[{name:"Altar 1",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 1"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"8.4",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["172.1"]],marker:"6",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player2:"elite",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"9.2",name:"Destroy the automaton and keep the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{items:["193"]}},{index:"9.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"11.2",name:"Hungry Maw is dead",edition:"fh",parent:"122",conclusion:!0,rewards:{gold:10}},{index:"11.6",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["44.3"],["128.1"]],marker:"a",monsters:["shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"11.7",name:"The Lead Door",edition:"fh",parent:"103",marker:"2",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"12.1",name:"Crystal Trench",edition:"fh",parent:"8",parentSections:[["21.1"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:3,ref:"02-E",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"12.2",name:"Avalanche",edition:"fh",parent:"6",marker:"1",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift tiles from tile 7-B",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"02-G",initial:!0,monster:[{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[]}]},{index:"12.4",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["129-137"]}},{index:"12.6",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"3",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"01-E",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"01-G",initial:!0,monster:[{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"13.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"13.3",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["167.1"]],marker:"2",objectives:[{name:"Large Cave Rock 4-A",health:"[(L+1)xC/2{$math.floor}]"}],rules:[{round:"true",always:!0,once:!0,sections:["50.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Large Cave Rock 4-A"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,monster:[],objectives:[1]}]},{index:"14.2",name:"Ruins of the Solstice",errata:"section14-2",edition:"fh",parent:"104",parentSections:[["164.3"]],marker:"2",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"savvas-icestorm",player4:"normal"}]}]},{index:"14.3",name:"Temple of Liberation",edition:"fh",parent:"20",monsters:["steel-automaton"],objectives:[{name:"Glowing Orb",health:"(L+2)xC"}],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},count:"2"}]}],rooms:[{roomNumber:2,initial:!0,objectives:[1]}]},{index:"15.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"6",rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"15.2A",name:"Snowdancer is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.2B",name:"Snowdancer is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["6","7","8"],rewards:{unlockCharacter:"fist"}},{index:"15.3",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["44.2"]],monsters:[],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.c%. Any figure occupying %game.mapMarker.c% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.d%,%game.mapMarker.e% and %game.mapMarker.f%. This has no effect yet."}]},{index:"15.4",name:"The True Oak Triangulated",edition:"fh",conclusion:!0,unlocks:["70"]},{index:"16.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"16.3",name:"Beneath Sea and Stone",edition:"fh",parent:"49",parentSections:[["94.2"]],marker:"2",monsters:["deep-terror","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"17.1",name:"Unfettered Shard",edition:"fh",parent:"41",parentSections:[["65.2"]],monsters:["deep-terror","living-doom","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},marker:"c"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"65.2",index:0,section:!0}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"17.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["19.3"]],marker:"5",monsters:["living-doom","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-doom",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"}]}]},{index:"17.4",name:"Puzzle Solution",edition:"fh",parent:"122",conclusion:!0,named:!0,rewards:{experience:15,battleGoals:1}},{index:"17.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["96"]},{index:"18.1",name:"Underground Station",edition:"fh",parent:"96",marker:"1",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player4:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}],objectives:[1,1,1]}]},{index:"19.1",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["59.2"],marker:"1",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"19.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["62.3"]],marker:"4",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"19.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["83"]},{index:"20.1",name:"Thawed Wood",edition:"fh",parent:"33",marker:"1",resetRound:"hidden",monsters:["earth-demon","flame-demon"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"black-imp",player2:"normal"},marker:"b"}]},{round:"R > 1",start:!0,spawns:[{monster:{name:"black-imp",player3:"normal",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0}]},{index:"20.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"2",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[12],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player4:"elite"}]}]},{index:"21.1",name:"Crystal Trench",edition:"fh",parent:"8",marker:"1",resetRound:"hidden",monsters:["hound","polar-bear","snow-imp"],rules:[{round:"R % 2 == 0",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"%data.section.rules.fh.21-1.1%",spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"22.1A",name:"Frozen Fist is dead",edition:"fh",parent:"4A",parentSections:[["75.1A"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.1B",name:"Frozen Fist is dead",edition:"fh",parent:"4B",parentSections:[["75.1B"]],conclusion:!0,unlocks:["5","7","8"],rewards:{unlockCharacter:"snowflake"}},{index:"22.2",name:"Avalanche",edition:"fh",parent:"6",parentSections:[["12.2"]],marker:"2",monsters:["frost-demon","snow-imp"],rules:[{round:"true",always:!0,once:!0,note:"Remove all snowdrift and snow rock from tiles 2-E and 2-G",figures:[{identifier:{type:"objective",edition:"objective",name:"Snowdrift|Snow Rock"},type:"remove"}]},{round:"true",always:!0,once:!0,objectiveSpawns:[{objective:{index:1,name:"Snowdrift"},count:"6"},{objective:{index:2,name:"Snow Rock"},count:"2"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"elite"}],objectives:[]}]},{index:"22.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["93.1"]],marker:"4",monsters:["burrowing-blade"],rooms:[{roomNumber:19,initial:!0,monster:[{name:"burrowing-blade",type:"normal"}]}]},{index:"23.1",name:"The Way Forward",edition:"fh",parent:"38",resetRound:"visible",monsters:["sun-demon"],rules:[{round:"R % 3 == 0 || R % 3 == 2",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R % 3 == 1",start:!0,spawns:[{monster:{name:"polar-bear",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},marker:"e"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"24.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["15.1"]],marker:"c",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"25.1",name:"Collection's Capstone",edition:"fh",parent:"88",parentSections:[["79.3"]],marker:"2",resetRound:"hidden",monsters:["frost-demon","savvas-icestorm","the-collector","wind-demon"],rules:[{round:"R % 4 == 0",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 2",start:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[6],monster:[{name:"savvas-icestorm",player2:"normal",player3:"elite",player4:"elite"},{name:"the-collector",type:"boss"}]}]},{index:"25.2",name:"Trading Post Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-80","summer-outpost:SO-61","winter-road:WR-41"]}},{index:"25.3",name:"Haunted Vault",errata:"section25-3",edition:"fh",parent:"17",parentSections:[["42.3"]],marker:"2",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]}]},{index:"26.1",name:"Glowing Catacombs",edition:"fh",parent:"9",parentSections:[["78.2"]],marker:"2",monsters:["ooze"],objectives:[{name:"Switch",health:1,marker:"a"}],rules:[{round:"true",start:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Switch",marker:"a"},type:"present"}],spawns:[{monster:{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},count:"F"}]}],rooms:[{roomNumber:3,ref:"08-B",initial:!0,monster:[{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,1]}]},{index:"26.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["111"]},{index:"27.1",name:"Algox Scouting",edition:"fh",parent:"2",marker:"1",monsters:["algox-archer","algox-priest","algox-scout"],allies:["algox-priest"],rooms:[{roomNumber:1,ref:"11-C",initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"27.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["90.3"]],monsters:["ancient-artillery"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in each %game.mapMarker.a%. Any figure occupying %game.mapMarker.a% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"h",count:"2"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"},{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at %game.mapMarker.b%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-D",initial:!0,monster:[{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"28.2",name:"Algox Offensive",edition:"fh",parent:"3",parentSections:[["30.2"]],marker:"2",monsters:["algox-guard"],rooms:[{roomNumber:1,ref:"02-J",initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"28.3",name:"Flotsam",edition:"fh",parent:"73",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"elite",player4:"elite"},{name:"piranha-pig",player4:"elite"}]}]},{index:"29.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"29.2",name:"The Tempus Forge",edition:"fh",parent:"106",parentSections:[["8.1","183.1","184.4","189.2"]],marker:"5",monsters:["blacksmith"],rules:[{round:"true",figures:[{type:"present",identifier:{type:"monster",edition:"fh",name:"blacksmith"}},{identifier:{type:"character",name:".*"},type:"damage",value:"1"},{identifier:{type:"monster",edition:"fh",name:"blacksmith"},type:"heal",value:"2"}],noteTop:"The Blacksmith performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5, %game.condition.muddle%"}],rooms:[{roomNumber:3,initial:!0,treasures:[68],monster:[{name:"blacksmith",type:"boss"}]}]},{index:"29.3",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["67"]},{index:"29.4",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:2,initial:!0,treasures:[28],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"30.2",name:"Algox Offensive",edition:"fh",parent:"3",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:1,ref:"04-A",initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-guard",type:"elite"},{name:"algox-guard",player4:"normal"}]}]},{index:"30.4",name:"The Lead Door",edition:"fh",parent:"103",marker:"1",monsters:["living-spirit"],objectives:[{name:"Ice Pillar",health:"(2xL)+4"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-spirit",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"30.5",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["33.3"],["147.4"]],marker:"b",monsters:["shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"31.1",name:"Blizzard Island",edition:"fh",parent:"48",parentSections:[["130.5"]],marker:"2",monsters:["abael-scout","frost-demon","wind-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.2",name:"The Collection",edition:"fh",parent:"87",marker:"1",monsters:["algox-archer","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"31.3",name:"Jeweler Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-77","summer-road:SR-37"],itemBlueprints:["156-159"]}},{index:"32.1",name:"Orphan's Halls",edition:"fh",parent:"51",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[56],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"32.2",name:"Crackling Tunnel",edition:"fh",parent:"31",parentSections:[["37.2"]],monsters:["flaming-bladespinner","robotic-boltshooter"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"33.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"1",rules:[{round:"true",always:!0,once:!0,sections:["147.4"]}],rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"34.1",name:"Temple Entrance",edition:"fh",parent:"12",marker:"1",monsters:["ancient-artillery","night-demon","steel-automaton"],rooms:[{roomNumber:3,ref:"11-E",initial:!0,treasures:[9],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"},{name:"steel-automaton",player2:"elite",player3:"elite"},{name:"steel-automaton",player4:"elite"},{name:"steel-automaton",player4:"elite"}]}]},{index:"34.2",name:"Snowspeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["40"]},{index:"35.3",name:"Tavern Upgaded",edition:"fh",conclusion:!0,unlocks:["136"],rewards:{hints:{lootDeckCards:["When drawn, read any one section number depicted."]},morale:1,lootDeckCards:[1419]}},{index:"36.1",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["83.1"]],marker:"c",objectives:[{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"a"},{name:"Altar",health:"[(L+1)xC/2{$math.floor}]",marker:"b"}],rules:[{round:"true",always:!0,once:!0,sections:["119.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"a"},type:"dead"},{identifier:{type:"objective",edition:"objective",name:"Altar",marker:"b"},type:"dead"}]}]},{index:"36.2",name:"Tome Solution",edition:"fh",conclusion:!0,unlocks:["135"]},{index:"36.3",name:"A Waiting Game",edition:"fh",parent:"117",marker:"2",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"hound",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"36.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"36.5",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"3",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:3,initial:!0,treasures:[43],monster:[{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"37.2",name:"Crackling Tunnel",edition:"fh",parent:"31",monsters:["robotic-boltshooter","steel-automaton"],rules:[{round:"true",always:!0,once:!0,note:"All characters must lose one card from their hand or discard pile."}],rooms:[{roomNumber:3,initial:!0,treasures:[26],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"38.2",name:"Frozen Fjord",edition:"fh",parent:"13",parentSections:[["44.1"]],marker:"2",monsters:["shrike-fiend","snow-imp"],rooms:[{roomNumber:1,ref:"07-D",initial:!0,monster:[{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"38.3",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["138-146"]}},{index:"38.4",name:"Spire Basement",edition:"fh",parent:"23",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player4:"elite"}]}]},{index:"39.1",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["15.3"]],monsters:["flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,note:"Place one debris in %game.mapMarker.d%. Any figure occupying %game.mapMarker.d% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"f"}],noteTop:"Any figure occupying %game.mapMarker.e% or %game.mapMarker.f% suffers trap damage and is placed in the closest empty hex."}]},{index:"39.2",name:"Living Glacier",edition:"fh",parent:"45",parentSections:[["85.2"]],monsters:["abael-scout","lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"40.2",name:"Dead Pass",edition:"fh",parent:"46",marker:"1",resetRound:"visible",monsters:["burrowing-blade","frozen-corpse","shrike-fiend"],rules:[{round:"R == 2",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player4:"normal"},marker:"c"}]},{round:"R == 4",start:!0,spawns:[{monster:{name:"burrowing-blade",player3:"normal",player4:"normal"},marker:"b"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"c"},{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"normal"},marker:"d"}]},{round:"R == 6",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},marker:"c"}]},{round:"R == 8",start:!0,spawns:[{monster:{name:"shrike-fiend",player3:"normal",player4:"elite"},marker:"b"},{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"c"},{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"d"}]},{round:"R > 9 && R % 2 == 0",start:!0,spawns:[{monster:{name:"frozen-corpse",player2:"normal"},marker:"b"},{monster:{name:"frozen-corpse",player3:"normal",player4:"normal"},marker:"b",count:"2"},{monster:{name:"burrowing-blade",player2:"elite",player3:"elite"},marker:"c"},{monster:{name:"burrowing-blade",player4:"elite"},marker:"c",count:"2"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"41.2",name:"Ice Floes",edition:"fh",parent:"22",monsters:["lightning-eel","lurker-clawcrusher","lurker-wavethrower"],rooms:[{roomNumber:1,ref:"07-G",initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",type:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-clawcrusher",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"41.4",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["134.3"]]},{index:"41.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["87"]},{index:"42.1",name:"Edge of the World",edition:"fh",parent:"7",marker:"1",monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:2,ref:"11-B",initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"42.2",name:"Request from %game.characterIconColored.astral%",edition:"fh",conclusion:!0,unlocks:["119"]},{index:"42.3",name:"Haunted Vault",edition:"fh",parent:"17",marker:"3",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"43.1",name:"To Bury the Dead",edition:"fh",parent:"95",monsters:["living-bones"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"43.2",name:"Reject the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,unlocks:["77"],forcedLinks:["77"]},{index:"43.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"44.1",name:"Frozen Fjord",edition:"fh",parent:"13",marker:"1",monsters:["shrike-fiend","wind-demon"],rooms:[{roomNumber:1,ref:"06-A",initial:!0,monster:[{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]},{roomNumber:2,ref:"02-E",initial:!0,treasures:[49],monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"44.2",name:"Derelict Elevator",edition:"fh",parent:"16",parentSections:[["27.2"]],monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}],noteTop:"Any figure occupying %game.mapMarker.b% suffers trap damage and is placed in the closest empty hex."},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",type:"elite"},marker:"g"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"},{monster:{name:"ruined-machine",player3:"normal",player4:"elite"},marker:"h"}]},{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.c%. This has no effect yet."}],rooms:[{roomNumber:1,ref:"01-B",initial:!0,treasures:[77],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"44.3",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"4",rules:[{round:"true",always:!0,once:!0,sections:["128.1"]}],rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"45.1",name:"Carrion Ridge",edition:"fh",parent:"47",monsters:["algox-icespeaker","harrower-infester"],rooms:[{roomNumber:2,initial:!0,treasures:[15],monster:[{name:"algox-icespeaker",type:"normal"},{name:"algox-icespeaker",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",type:"elite"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"}]}]},{index:"45.2",name:"Relic Abandonment",edition:"fh",conclusion:!0,unlocks:["80"],rewards:{morale:-4}},{index:"46.1",name:"The True Oak",edition:"fh",parent:"70",marker:"1",monsters:["city-guard","hound","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"city-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"46.3",name:"Icespeakers in Trouble",edition:"fh",conclusion:!0,unlocks:["39"]},{index:"47.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["4.2"],["141.4"]],marker:"11",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"47.5",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:ice",monsters:["earth-demon","frost-demon","night-demon"],rooms:[{roomNumber:2,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"48.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["51.1"]],marker:"2",monsters:["living-bones","living-spirit"],objectives:[{name:"Crate",health:"L+2"},{name:"Bookshelf",health:"L+2"}],rooms:[{roomNumber:1,ref:"07-E",initial:!0,treasures:[84],monster:[{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}],objectives:[1,1,1,2,2,2]}]},{index:"48.3",name:"%game.characterIconColored.drifter% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["138.1-4"]},retirement:"drifter"},{index:"48.4",name:"Edge of the World",edition:"fh",parent:"7",parentSections:[["42.1"]],marker:"2",monsters:["coral-corpse"],rooms:[{roomNumber:3,ref:"04-A",initial:!0,treasures:[44],monster:[{name:"coral-corpse",type:"boss"}]}]},{index:"49.2",name:"Mining Camp Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"meteor"}},{index:"50.1",name:"Among the Wreckage",edition:"fh",parent:"54",parentSections:[["13.3"]],monsters:["seeker-of-the-abyss"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"seeker-of-the-abyss"},type:"setHp",value:"[HP/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"seeker-of-the-abyss",type:"boss"}]}]},{index:"50.2",name:"%game.characterIconColored.banner-spear% Retires",edition:"fh",conclusion:!0,rewards:{townGuardAm:["fh-tg-add-plus20"]},retirement:"banner-spear"},{index:"51.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",marker:"1",monsters:["living-bones"],objectives:[{name:"Glowing Orb",health:"(L+2)xC",actions:[{type:"custom",value:"Whenever it suffers damage, all characters and monsters suffer %game.damage:2%"}]}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Glowing Orb"}}],spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"a"},{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1]}]},{index:"51.2",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["91.1"],marker:"3",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,treasures:[61],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"}]}]},{index:"51.3",name:"%game.characterIconColored.meteor% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["174.2-summer:5"]},retirement:"meteor"},{index:"52.1",name:"Nerve Center",edition:"fh",parent:"44",marker:"1",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rules:[{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-normal-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"normal"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-1"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]},{round:"true",figures:[{identifier:{type:"monster",edition:"fh",name:"ancient-artillery",tags:["ancient-artillery-elite-2"]},type:"present"}],spawns:[{monster:{name:"ruined-machine",type:"elite"},summon:!0}]}],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",tags:["ancient-artillery-normal-1"]},{name:"ancient-artillery",player2:"normal",tags:["ancient-artillery-normal-2"]},{name:"ancient-artillery",player3:"elite",player4:"elite",tags:["ancient-artillery-elite-1"]},{name:"ancient-artillery",player4:"elite",tags:["ancient-artillery-elite-2"]},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"ruined-machine",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"}],objectives:["1:4"]}]},{index:"52.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["55.2A"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"52.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["55.2B"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest","forest-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"normal"}]}]},{index:"53.1",name:"Realm of Endless Frost",edition:"fh",parent:"21",parentSections:[["48.1"]],marker:"3",monsters:["frost-demon","prince-of-frost","snow-imp"],rooms:[{roomNumber:1,ref:"13-E",initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"prince-of-frost",type:"boss"}]}]},{index:"53.3",name:"%game.characterIconColored.deathwalker% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["176.4-summer:2"]},retirement:"deathwalker"},{index:"54.1",name:"Crystal Fields",edition:"fh",parent:"18",parentSections:[["91.2"]],marker:"2",monsters:["algox-guard","burrowing-blade"],allies:["algox-guard"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"algox-guard"},type:"killed",value:"1"}],finish:"lost"}],rooms:[{roomNumber:3,ref:"11-A",initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"burrowing-blade",player4:"normal"}]}]},{index:"54.2",name:"%game.characterIconColored.coral% Retires",edition:"fh",conclusion:!0,rewards:{events:["boat:B-15"]},retirement:"coral"},{index:"54.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","30"]},{index:"55.2A",name:"Gaps in the Road A",edition:"fh",parent:"74A",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.2B",name:"Gaps in the Road B",edition:"fh",parent:"74B",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"55.3",name:"Spire Basement",edition:"fh",parent:"23",parentSections:[["38.4"]],marker:"2",monsters:["hateful-corpse","living-bones"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hateful-corpse",type:"boss"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"56.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["64.2"],["141.4"]],marker:"3",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:6,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"56.2",name:"Apotheosis",edition:"fh",parent:"76",parentSections:[["105.4"]]},{index:"56.3",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"Manual (%wip%):Add any of the following items you have unlocked from <i>Forgotten Circles</i> to the available item supply:<br>154, 155, 157, and 163."}},{index:"56.5",name:"%game.characterIconColored.trap% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["169.1-6"]},retirement:"trap"},{index:"58.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"1",resetRound:"hidden",monsters:["flaming-bladespinner","robotic-boltshooter"],objectives:[{name:"Large Debris 1",health:"(L+2)xC"}],rules:[{round:"R % 2 == 1",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 2 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 1"}}],spawns:[{monster:{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"}],objectives:[1]}]},{index:"59.2",name:"The Lurker Problem",edition:"fh",parent:"78",blockedSections:["19.1"],marker:"2",monsters:["abael-herder","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[58],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"normal"},{name:"piranha-pig",player4:"normal"}]}]},{index:"60.2",name:"%game.characterIconColored.blinkblade% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-64"]},retirement:"blinkblade"},{index:"61.1",name:"Orphan's Core",edition:"fh",parent:"58",monsters:["ruined-machine"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"orphan"},type:"damage",value:"(L+3)xC"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[81],monster:[{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"61.2",name:"Rusted Tunnels",edition:"fh",parent:"25",marker:"2",monsters:["robotic-boltshooter","ruined-machine"],objectives:[{name:"Large Debris 2",health:"(L+2)xC"}],rules:[{round:"true",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Large Debris 2"}}],spawns:[{monster:{name:"ruined-machine",player2:"normal",player4:"elite"},marker:"c",count:2},{monster:{name:"ruined-machine",player3:"normal"},marker:"c"},{monster:{name:"ruined-machine",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[74],monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"normal"}],objectives:[1]}]},{index:"62.2",name:"Bathysphere Plans",edition:"fh",conclusion:!0,unlocks:["33"]},{index:"62.3",name:"Haunted Vault",edition:"fh",parent:"17",parentSections:[["25.3"]],marker:"1",resetRound:"hidden",rules:[{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 09-B",spawns:[{monster:{name:"living-spirit",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-K",spawns:[{monster:{name:"ice-wraith",type:"elite"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-I",spawns:[{monster:{name:"living-doom",type:"normal"},count:0,manual:!0}]},{round:"R == 2",start:!0,once:!0,note:"adjacent to each character on tile 02-A",spawns:[{monster:{name:"ice-wraith",type:"normal"},count:0,manual:!0}]}]},{index:"63.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"1",monsters:["deep-terror","night-demon"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"deep-terror",player4:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"],["177.6"]],marker:"11",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"64.3",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["62"]},{index:"65.2",name:"Unfettered Shard",edition:"fh",parent:"41",monsters:["deep-terror","night-demon"],rules:[{round:"R % 2 == 1",spawns:[{monster:{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"41",index:0,section:!1}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"65.3",name:"Crystal Enclosure",edition:"fh",parent:"10",marker:"1",monsters:["algox-guard","algox-icespeaker","algox-priest"],objectives:[{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"a",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]},{name:"Ice Pillar",health:"[4+(LxC)/2{$math.floor}]",marker:"b",actions:[{type:"shield",value:1,subActions:[{type:"custom",value:"%game.action.target% each monster within %game.action.range:4%"}]}]}],rules:[{round:"true",always:!0,once:!0,note:"%data.section.rules.fh.65-3.1%",figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar",tags:["scenario-10"]},type:"remove"}]}],rooms:[{roomNumber:2,ref:"16-A",initial:!0,treasures:[71],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"}],objectives:[1,1,1,"2:C>2","3:C>3"]}]},{index:"66.1",name:"Ravens' Roost",edition:"fh",parent:"32",marker:"1",resetRound:"hidden",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Raven Nest",health:"(L+2)xCx3",marker:"a",actions:[{type:"retaliate",value:"[(L+1)/3{$math.ceil}]",subActions:[{type:"range",value:10}]}]}],rules:[{round:"R % 4 == 2",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},marker:"a"}]},{round:"R % 4 == 0",start:!0,figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Raven Nest"}}],spawns:[{monster:{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},marker:"a"}]}],rooms:[{roomNumber:1,ref:"13-A",initial:!0,monster:[{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"elite",player4:"elite"}]},{roomNumber:2,ref:"15-A",initial:"true",treasures:[67],monster:[{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"66.2",name:"The Pass is Ready",edition:"fh",conclusion:!0,unlocks:["116"]},{index:"68.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:earth",monsters:["earth-demon","frost-demon","sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:["G"],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player4:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"sun-demon",type:"normal"}]}]},{index:"68.3",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"2",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1,"1:C>2?1:0"]}]},{index:"69.2",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"3",monsters:["deep-terror","ooze"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"70.1",name:"The Dead Mile",edition:"fh",parent:"37",marker:"1",resetRound:"hidden",monsters:["living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"}}]},{round:"R % 2 == 1",start:!0,note:"at any empty starting hex",spawns:[{monster:{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}}]}],rooms:[{roomNumber:2,ref:"07-H",initial:!0,treasures:[56],monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"70.2",name:"%game.characterIconColored.boneshaper% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["89.3-6"]},retirement:"boneshaper"},{index:"71.4",name:"Disagree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],calendarSection:["146.1B-5"]}},{index:"71.5",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"5",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:4,initial:!0,treasures:[36],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}],objectives:[1,1]}]},{index:"72.1",name:"The Frosthaven Seal",edition:"fh",parent:"64",monsters:["vestige-of-the-imprisoned-god"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"64",index:0,section:!1},{edition:"fh",scenario:"64",index:1,section:!1}]},{round:"true",always:!0,once:!0,note:"Relocate all characters, character summons and Guard Captains from any outer tiles to the cloest lettered hexes on tile 15-A",figures:[{identifier:{type:"objective",edition:"objective",name:"Tree|Militia"},type:"remove"}]},{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},marker:"g"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vestige-of-the-imprisoned-god",type:"boss"}]}]},{index:"72.3",name:"Furious Factory",edition:"fh",parent:"109",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"73.1",name:"The Collection",edition:"fh",parent:"87",parentSections:[["77.2","184.6"]],marker:"4",monsters:["algox-archer","algox-guard","brother","flaming-bladespinner"],allies:["brother"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",type:"elite"},{name:"algox-archer",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"brother",type:"boss"},{name:"brother",type:"boss"},{name:"flaming-bladespinner",type:"elite"}]}]},{index:"74.2",name:"Upper Spire",edition:"fh",parent:"24",parentSections:[["83.2"]],monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"04-B",initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"75.1A",name:"Heart of Ice A",edition:"fh",parent:"4A",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2A"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1A"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.1B",name:"Heart of Ice B",edition:"fh",parent:"4B",marker:"1",monsters:["frozen-fist","snowdancer"],drawExtra:["snowdancer"],rules:[{round:"true",always:!0,once:!0,sections:["15.2B"],figures:[{identifier:{type:"monster",edition:"fh",name:"snowdancer"},type:"killed",value:"1"}]},{round:"true",always:!0,once:!0,sections:["22.1B"],figures:[{identifier:{type:"monster",edition:"fh",name:"frozen-fist"},type:"killed",value:"1"}]}],rooms:[{roomNumber:1,ref:"15-A",initial:!0,treasures:[70],monster:[{name:"frozen-fist",type:"boss"},{name:"snowdancer",type:"boss"}]}]},{index:"75.2",name:"Skyhall",edition:"fh",parent:"19",monsters:[],objectives:[{name:"Altar 1",health:"Cx(L+2)"},{name:"Altar 2",health:"Cx(L+2)"},{name:"Altar 3",health:"Cx(L+2)"},{name:"Altar 4",health:"Cx(L+2)"},{name:"Altar 5",health:"Cx(L+2)"},{name:"Dark Fog",health:"Cx(L+2)",initiative:1,escort:!0,tags:["Dark Fog"]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 1"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 4"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]},{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 5"},type:"dead"}],objectiveSpawns:[{objective:{index:6,name:"Dark Fog"}}]}],rooms:[{roomNumber:1,ref:"16-B",initial:!0,monster:[],objectives:[1,2,3,4,5,6]}]},{index:"75.3",name:"The Way Forward",edition:"fh",parent:"38",parentSections:[["23.1"]],marker:"2",monsters:["sun-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[16],monster:[{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"76.1",name:"Relic",edition:"fh",parent:"79",marker:"1",monsters:["frozen-corpse","ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,treasures:[8],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"elite"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"76.2",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["115.2"]],marker:"2",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"76.3",name:"Mindthief Found",edition:"fh",conclusion:!0,unlocks:["121"]},{index:"77.2",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"3",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:4,initial:!0,treasures:[27],monster:[{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.2",name:"Glowing Catacombs",edition:"fh",parent:"9",marker:"1",monsters:["ice-wraith","living-spirit","ooze"],rooms:[{roomNumber:3,ref:"11-B",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"elite",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"78.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"3",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"78.4",name:"Garden Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-57","summer-road:SR-46"]}},{index:"79.3",name:"Collection's Capstone",edition:"fh",parent:"88",marker:"1",monsters:["lurker-clawcrusher"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-clawcrusher",player4:"normal"}]}]},{index:"79.4",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["61"]},{index:"80.1",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"1",monsters:["frost-demon","snow-imp"],rooms:[{roomNumber:4,initial:!0,treasures:[66],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"80.2",name:"Change of Heart",edition:"fh",parent:"55",marker:"1"},{index:"80.2A",name:"Frozen Fist unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2B"],monsters:["snowdancer"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"snowdancer",type:"boss"}],objectives:[1]}]},{index:"80.2B",name:"Frozen Fist not unlocked",edition:"fh",parent:"55",parentSections:[["80.2"]],named:!0,blockedSections:["80.2A"],monsters:["frozen-fist"],objectives:[{name:"Large Ice Crystal",health:"(L+2)xCx4"}],rooms:[{roomNumber:2,initial:!0,treasures:[41],monster:[{name:"frozen-fist",type:"boss"}],objectives:[1]}]},{index:"81.1",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["110"]},{index:"81.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"2",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"81.5",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["70.1"]],marker:"2",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"70.1",index:0,section:!0},{edition:"fh",scenario:"70.1",index:1,section:!0}]}],rooms:[{roomNumber:3,ref:"07-F",initial:!0,monster:[{name:"living-spirit",type:"elite"},{name:"living-spirit",player3:"normal",player4:"normal"},{name:"living-spirit",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"82.2",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["105.1"]],marker:"2",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+3",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:2,initial:!0,treasures:[76],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player3:"normal",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"harrower-infester",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["130.1"]],marker:"9",monsters:["burrowing-blade","polar-bear"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"82.4",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["91.1"]],marker:"6",resetRound:"hidden",monsters:["lightning-eel","lurker-soldier","lurker-wavethrower"],rules:[{round:"R % 2 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 2 == 1",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"lurker-soldier",tags:["lurker-soldier-elite"]},type:"present",value:"1"}],spawns:[{monster:{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-soldier",type:"elite",tags:["lurker-soldier-elite"]},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"83.1",name:"A Contained Fire",edition:"fh",parent:"89",marker:"1",monsters:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",type:"elite"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"normal"}]}]},{index:"83.2",name:"Upper Spire",edition:"fh",parent:"24",monsters:["chaos-demon","living-bones","wind-demon"],rooms:[{roomNumber:1,ref:"08-A",initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"84.1",name:"To Bury the Dead",edition:"fh",parent:"95",marker:"1",monsters:["ice-wraith","living-bones","living-doom","living-spirit","reluctant-ghost"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-doom",type:"normal"},{name:"living-doom",player4:"normal"},{name:"reluctant-ghost",type:"boss"}]}]},{index:"85.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"85.2",name:"Living Glacier",edition:"fh",parent:"45",marker:"1",monsters:["abael-herder","abael-scout","lightning-eel","piranha-pig"],objectives:[{name:"Ice Pillar",health:"(L+2)xCx2"}],rules:[{round:"true",always:!0,once:!0,sections:["39.2"],figures:[{identifier:{type:"objective",edition:"objective",name:"Ice Pillar"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player4:"normal"},{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"85.3",name:"Relic",edition:"fh",parent:"79",parentSections:[["76.1"]],marker:"d",monsters:["polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"polar-bear",type:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"86.1",name:"Protect the Pass",edition:"fh",conclusion:!0,unlocks:["115"]},{index:"87.1",name:"And Then, a Stream",edition:"fh",parent:"130",parentSections:[["173.2"]],monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"87.2",name:"Belara's Keep",edition:"fh",parent:"135",marker:"c",monsters:["earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"rending-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"87.3",name:"A Grand View",edition:"fh",parent:"94",parentSections:[["150.2"]],marker:"3",monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:3,initial:!0,treasures:[29],monster:[{name:"ancient-artillery",type:"normal"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"89.1",name:"A Strong Foundation",edition:"fh",parent:"65",parentSections:[["142.2"]],marker:"2",monsters:["frozen-corpse","living-bones","rimeheart","snow-imp"],objectives:[{name:"Elemental Anchor",escort:!0,health:"2xCx(L+1)"}],rooms:[{roomNumber:2,initial:!0,treasures:[39],monster:[{name:"frozen-corpse",player3:"normal",player4:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"rimeheart",type:"elite"},{name:"snow-imp",type:"elite"},{name:"snow-imp",type:"elite"}],objectives:[1]}]},{index:"89.2",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-road:WR-47","summer-road:SR-49"]}},{index:"89.3",name:"%game.characterIconColored.boneshaper% Returns",edition:"fh",conclusion:!0,unlocks:["118"]},{index:"90.1",name:"Agree with the Fish King",edition:"fh",parent:"73",parentSections:[["41.4"]],conclusion:!0,rewards:{collectiveResources:[{type:"lumber",value:3}],campaignSticker:["friend-of-the-fish-king"],calendarSection:["146.1A-5"]}},{index:"90.3",name:"Derelict Elevator",edition:"fh",parent:"16",rules:[{round:"true",always:!0,once:!0,note:"Pebbles rain down at each %game.mapMarker.a%. This has no effect yet."}]},{index:"90.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["99.4"]],marker:"2",monsters:["harrower-infester","shrike-fiend"],objectives:[{name:"Altar 3",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:69.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 3"},type:"dead"},{identifier:{type:"monster",name:"harbinger-of-shadow-2"},type:"setHp",value:"[10x(C-1)/2{$math.floor}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"elite"},{name:"shrike-fiend",player2:"normal",player3:"elite",player4:"elite"},{name:"shrike-fiend",player4:"normal"}],objectives:[1]}]},{index:"91.1",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["19.1"]],blockedSections:["51.2"],marker:"a",rooms:[{roomNumber:6,initial:!0,treasures:[13],monster:[]}]},{index:"91.2",name:"Crystal Fields",edition:"fh",parent:"18",marker:"1",monsters:["burrowing-blade","frozen-corpse"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},count:2,marker:"a"}]}],rooms:[{roomNumber:2,ref:"15-A",initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"91.3",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"4",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player4:"normal"}]}]},{index:"91-1",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"1",monsters:["lightning-eel","lurker-clawcrusher"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91-2",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"2",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",type:"elite"}]}]},{index:"91-3",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"3",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lightning-eel",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-wavethrower",player3:"elite",player4:"elite"}]}]},{index:"91-4",name:"Shoreline Scramble",edition:"fh",parent:"91",marker:"4",monsters:["lightning-eel","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"91.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["86"]},{index:"92.2",name:"%game.characterIconColored.astral% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["42.2-6"]},retirement:"astral"},{index:"92.3",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["59.2"]],marker:"4",monsters:["abael-scout","lurker-wavethrower"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"93.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["110.4"]],marker:"5",monsters:["black-imp"],rooms:[{roomNumber:9,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player3:"elite",player4:"elite"}]}]},{index:"94.2",name:"Beneath Sea and Stone",edition:"fh",parent:"49",marker:"1",monsters:["black-imp","frost-demon"],objectives:[{name:"Ice Pillar",health:"[(L+1)xC/2{$math.floor}]"}],rooms:[{roomNumber:1,ref:"11-D",initial:!0,monster:[{name:"black-imp",type:"elite"},{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"frost-demon",type:"elite"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"}],objectives:[1,1]}]},{index:"94.4",name:"Sneak Past the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["49"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"95.1",name:"Depths of Delirium",edition:"fh",parent:"27",marker:"1",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"}],objectives:[1,"1:C>3?1:0"]}]},{index:"95.2",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["150.3"]],marker:"b",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"95.3",name:"Invasion of the Dock",edition:"fh",parent:"71",parentSections:[["111.2"]],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",initiative:99,marker:"c",actions:[{type:"move",value:2},{type:"heal",value:1,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"c",edition:"escort",name:"Artificer"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:1,initial:!0}]},{index:"95.4",name:"Aesther Outpost",edition:"fh",conclusion:!0,unlocks:["66"]},{index:"96.2",name:"Radiant Dust",edition:"fh",parent:"119",marker:"1",monsters:["burrowing-blade","rending-drake","shrike-fiend","spitting-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"96.3",name:"Accept the Fish King's Ascension",edition:"fh",parent:"76",parentSections:[["56.2"]],conclusion:!0,rewards:{items:["201"],events:["boat:B-18"],custom:'"Threat from the Deep" quest complete'}},{index:"97.1",name:"Raised by Wolves",edition:"fh",parent:"112",marker:"1",monsters:["chaos-demon","earth-demon"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"97.3",name:"Life and Death",edition:"fh",parent:"61",parentSections:[["82.2"]],marker:"3",monsters:["deep-terror","earth-demon","harrower-infester"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+4",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,once:!0,note:"All characters and character summons add -1 %game.action.attack% to all their attacks and -1 %game.action.move% to all their move abilities"},{round:"true",always:!0,once:!0,note:"All monsters add +1 %game.action.attack% to all their attacks targeting characters or character summons"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",type:"elite"},{name:"harrower-infester",player4:"normal"}]}]},{index:"98.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["152.1"],marker:"1",monsters:["hungry-maw","snow-imp"],rules:[{round:"true",always:!0,once:!0,sections:["151.1"],figures:[{identifier:{type:"monster",name:"hungry-maw",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"hungry-maw"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:1,ref:"15-C",initial:!0,monster:[{name:"hungry-maw",type:"boss"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"}]}]},{index:"99.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",marker:"1",monsters:["abael-scout","piranha-pig"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"99.3",name:"%game.characterIconColored.kelp% Retires",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-65"]},retirement:"kelp"},{index:"99.4",name:"Call of the Harbinger",edition:"fh",parent:"56",parentSections:[["3.2"]],marker:"1",monsters:["black-imp","shrike-fiend"],objectives:[{name:"Altar 2",health:"(L+1)xC"}],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:66.3%",figures:[{identifier:{type:"objective",edition:"objective",name:"Altar 2"},type:"dead"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"100.3",name:"Business Proposal",edition:"fh",conclusion:!0,unlocks:["129"]},{index:"101.1",name:"Under the Influence",edition:"fh",parent:"120",marker:"1",monsters:["vermling-priest","vermling-scout"],objectives:[{name:"Door 2",health:"(L+1)xC",marker:"2"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]},{round:"true",always:!0,once:!0,sections:["157.1"],figures:[{identifier:{type:"objective",edition:"objective",name:"Door 2"},type:"dead"}]}],rooms:[{roomNumber:2,initial:!0,treasures:[50],monster:[{name:"vermling-priest",type:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",type:"normal"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"normal"}],objectives:[1]}]},{index:"102.1",name:"Inside the Swarm",edition:"fh",parent:"100",parentSections:[["141.3"]],marker:"2",monsters:["burrowing-blade","earth-demon","lurker-mindsnipper","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,note:"All characters return one card from their hand or discard pile to their set-aside deck."}],rooms:[{roomNumber:2,initial:!0,treasures:[79],monster:[{name:"burrowing-blade",player2:"elite",player3:"normal",player4:"normal"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"burrowing-blade",player4:"normal"},{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"elite"}]}]},{index:"102.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["131.2"]],monsters:["night-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"night-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["165.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/4{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/4{$math.ceil}]"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player3:"normal",player4:"elite"}]}]},{index:"103.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["188.1"]],marker:"c",monsters:["steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"103.3",name:"Sunless Trench",edition:"fh",parent:"42",marker:"2",monsters:["night-demon"],rooms:[{roomNumber:1,ref:"03-A",initial:!0,monster:[{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"},{name:"night-demon",player4:"normal"}]}]},{index:"103.4",name:"%game.characterIconColored.drill% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["165.4-10"]},retirement:"drill"},{index:"104.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["92"]},{index:"104.2",name:"The Titan",edition:"fh",parent:"123",marker:"1",monsters:["algox-snowspeaker"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"104.4",name:"Scrap Pit",edition:"fh",parent:"35",marker:"1",monsters:["living-bones","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[61],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"105.1",name:"Life and Death",edition:"fh",parent:"61",marker:"1",monsters:["deep-terror","earth-demon"],objectives:[{name:"Moonshard",escort:!0,allyDeck:!0,health:"(L+(2xC))x2",initiative:50,marker:"a",actions:[{type:"move",value:3},{type:"attack",value:"L+2",subActions:[{type:"custom",small:!0,value:"Attacks are unaffected by %game.action.retaliate%"}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",marker:"a",edition:"escort",name:"Moonshard"},type:"transfer",value:"1"}]},{round:"true",always:!0,figures:[{identifier:{type:"character",name:".*"},type:"permanentCondition",value:"muddle"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"deep-terror",type:"elite"},{name:"deep-terror",player2:"normal",player3:"elite",player4:"normal"},{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"elite"}]}]},{index:"105.3",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["141.1"]],marker:"2",monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"living-bones",type:"normal"},marker:"c"},{monster:{name:"living-bones",player3:"normal",player4:"normal"},marker:"d"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"}]}]},{index:"105.4",name:"Apotheosis",edition:"fh",parent:"76",monsters:["flaming-bladespinner"],rooms:[{roomNumber:2,initial:!0,treasures:[55],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"elite"}]}]},{index:"106.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"2",monsters:["algox-scout","deep-terror"],allies:["algox-scout"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-scout",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"106.2",name:"The True Oak",edition:"fh",parent:"70",parentSections:[["46.1"]],marker:"2",resetRound:"hidden",monsters:["city-guard","flaming-sword-of-justice","sun-demon"],rules:[{round:"R % 4 == 2",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"normal",player4:"elite"},marker:"b"}]},{round:"R % 4 == 0",start:!0,figures:[{identifier:{type:"monster",edition:"fh",name:"flaming-sword-of-justice"},type:"present",value:"1"}],spawns:[{monster:{name:"hound",player2:"normal",player3:"elite",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:3,initial:!0,treasures:[82],monster:[{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player4:"normal"},{name:"flaming-sword-of-justice",type:"boss"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player4:"normal"}]}]},{index:"106.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"107.3",name:"%game.characterIconColored.snowflake% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["177.4-summer:9"]},retirement:"snowflake"},{index:"108.1",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["158.4"]],marker:"2",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:2,initial:!0,treasures:[14],monster:[{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"108.3",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["123.1"]]},{index:"109.2",name:"Derelict Freighter",edition:"fh",parent:"127",parentSections:[["153.1"]],marker:"c",monsters:["frozen-corpse"],rooms:[{roomNumber:2,initial:!0,treasures:[30],monster:[{name:"frozen-corpse",type:"elite"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"109.3",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["8.4"],["145.1"]],monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:1,ref:"15-B",initial:!0,monster:[{name:"ice-wraith",player2:"elite",player3:"elite",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"ice-wraith",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"}]}]},{index:"110.2",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["171.1"]],marker:"b",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"}]}]},{index:"110.4",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"2",monsters:["black-imp","burrowing-blade"],rooms:[{roomNumber:10,initial:!0,monster:[{name:"black-imp",type:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"111.2",name:"Invasion of the Dock",errata:"section111-2",edition:"fh",parent:"71",parentSections:[["129.2"]],marker:"a",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],objectives:[{name:"Artificer",escort:!0,health:"(LxC)+2",marker:"c",initiative:99}],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},marker:"e"},{monster:{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},marker:"f",count:2}]},{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},marker:"f",count:2}]}],rooms:[{roomNumber:1,ref:"02-D",initial:!0},{roomNumber:2,ref:"10-B",initial:!0,treasures:[22],monster:[{name:"abael-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-clawcrusher",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"piranha-pig",type:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}],objectives:[1]},{roomNumber:3,ref:"01-H",initial:!0}]},{index:"112.1",name:"Lush Grotto",edition:"fh",parent:"113",monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"chaos-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"112.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",parentSections:[["191.2"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner","piranha-pig","robotic-boltshooter"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",type:"normal"},{name:"ancient-artillery",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"113.1",name:"Tavern Upgaded",edition:"fh",conclusion:!0,rewards:{items:["245"],removeEvents:["winter-outpost:WO-79","summer-road:SR-50"]}},{index:"114.2",name:"Attacking the Lurkers",edition:"fh",conclusion:!0},{index:"115.2",name:"Black Memories",edition:"fh",parent:"121",marker:"1",monsters:["large-vermling-scout","vermling-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"large-vermling-scout",type:"normal"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",type:"normal"},{name:"vermling-priest",player3:"normal",player4:"elite"}]}]},{index:"115.3",name:"Relief Effort",edition:"fh",parent:"40",marker:"1",monsters:["algox-archer","algox-guard","ruined-machine","steel-automaton"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"},{name:"steel-automaton",type:"normal"}]}]},{index:"116.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["149.4"]],marker:"d",monsters:["living-bones","living-doom"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-doom",type:"elite"}]}]},{index:"116.2",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["18.1"]],marker:"2",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[10],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"normal"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"elite",player3:"normal",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"116.3",name:"Library Upgraded",edition:"fh",conclusion:!0,named:!0,unlocks:["134"],rewards:{events:["winter-road:WR-46","summer-road:SR-48"],unlockCharacter:"astral"}},{index:"117.2",name:"Overrun Barricade",edition:"fh",parent:"43",marker:"1",monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"117.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["104.4"]],monsters:["ruined-machine"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"elite"},marker:"f"},{monster:{name:"ruined-machine",player3:"elite",player4:"elite"},marker:"f",count:"2"}]}]},{index:"118.2",name:"Lurker Necromancy",edition:"fh",parent:"118",parentSections:[["125.2"]],marker:"2",monsters:["frozen-corpse","living-bones","lurker-mindsnipper"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"118.3",name:"A Call for Help",edition:"fh",conclusion:!0,unlocks:["82"]},{index:"119.2",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["36.1"]],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"2"},{type:"attack",value:"L"}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"objective",name:"Faye"},type:"setHp",value:"3+L"}]}]},{index:"119.3",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["109"]},{index:"119.4",name:"A Growing Problem",edition:"fh",parent:"124",marker:"1",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"living-bones",type:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"normal"},{name:"living-spirit",type:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"120.1",name:"Corrupted Camp",edition:"fh",parent:"39",marker:"1",monsters:["algox-guard","deep-terror"],allies:["algox-guard"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"deep-terror",type:"normal"},{name:"deep-terror",type:"elite"},{name:"deep-terror",player3:"normal",player4:"elite"}]}]},{index:"120.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",monsters:["lurker-wavethrower"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"120.3",name:"%game.characterIconColored.fist% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["185.4-10"]},retirement:"fist"},{index:"121.1",name:"Automaton Uprising",edition:"fh",parent:"59",monsters:["steel-automaton"],rooms:[{roomNumber:2,initial:!0,treasures:[7],monster:[{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"122.1",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"forest-imp",player4:"elite"},{name:"rending-drake",player3:"normal",player4:"elite"}]}]},{index:"122.3",name:"Decisive Action",edition:"fh",conclusion:!0,unlocks:["28","29"]},{index:"122.5",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["148.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,once:!0,note:"All monsters add -1 %game.action.attack% to all their attacks.<br>All characters and character summons add +1 %game.action.attack% to all their attacks"},{round:"R == 11",start:!0,always:!0,once:!0,spawns:[{monster:{name:"savvas-lavaflow",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"earth-demon",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 12",start:!0,spawns:[{monster:{name:"savvas-icestorm",player2:"elite",player3:"elite",player4:"elite"},marker:"b"},{monster:{name:"frost-demon",player3:"normal",player4:"elite"},marker:"e"}]}]},{index:"123.1",name:"Black Memories",edition:"fh",parent:"121",parentSections:[["76.2"]],monsters:["augmented-mindthief","large-vermling-scout"],rules:[{round:"true",always:!0,once:!0,sections:["108.3"],figures:[{identifier:{type:"monster",name:"augmented-mindthief",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"augmented-mindthief"},type:"setHp",value:"H/2"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"augmented-mindthief",type:"boss"},{name:"large-vermling-scout",player3:"normal",player4:"normal"},{name:"large-vermling-scout",player4:"normal"}]}]},{index:"123.3",name:"Relief Effort",edition:"fh",parent:"40",parentSections:[["115.3"]],marker:"2",monsters:["algox-archer","algox-guard","flaming-bladespinner","ruined-machine"],allies:["algox-archer","algox-guard"],rooms:[{roomNumber:3,initial:!0,treasures:[41],monster:[{name:"algox-archer",type:"normal"},{name:"algox-guard",type:"normal"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"124.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["17"]},{index:"124.2",name:"Bolt",edition:"fh",parent:"133",parentSections:[["173.3","186.1"]],marker:"3",monsters:["polar-bear"],rooms:[{roomNumber:2,initial:!0,treasures:[34],monster:[{name:"polar-bear",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"}]}]},{index:"124.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["172.2"]]},{index:"125.2",name:"Lurker Necromancy",edition:"fh",parent:"118",marker:"1",monsters:["living-bones","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player4:"normal"},{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"elite"}]}]},{index:"125.4",name:"Disable the mind control device",edition:"fh",parent:"121",parentSections:[["108.3"]],conclusion:!0,rewards:{morale:2}},{index:"126.1",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-1,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"126.2",name:"Harrower Library",edition:"fh",parent:"101",marker:"1",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-archer",type:"normal"},{name:"algox-archer",player2:"elite",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"126.3",name:"Scrap Pit",edition:"fh",parent:"35",parentSections:[["117.3"]],monsters:["spitting-drake"],rules:[{round:"true",start:!0,spawns:[{monster:{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},marker:"g"}],disableRules:[{edition:"fh",scenario:"117.3",index:0,section:!0}]}]},{index:"127.1",name:"Puzzle Solution",edition:"fh",conclusion:!0,named:!0,unlocks:["31"]},{index:"127.2",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:light",monsters:["earth-demon","flame-demon","sun-demon"],rooms:[{roomNumber:4,initial:!0,treasures:["G"],monster:[{name:"earth-demon",player3:"normal",player4:"normal"},{name:"flame-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player4:"elite"}]}]},{index:"127.3",name:"Prison Break",edition:"fh",parent:"99",marker:"1",monsters:["frozen-corpse","robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"steel-automaton",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"128.1",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"3",rules:[{round:"true",always:!0,once:!0,sections:["44.3"]}],rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"128.2",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["35"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"128.4",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2","158.1","193.3"]],marker:"4",monsters:["power-core"],rooms:[{roomNumber:3,initial:!0,treasures:[52],monster:[{name:"power-core",type:"elite"}]}]},{index:"128.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["185.2-1"],removeLootDeckCards:[1419]}},{index:"129.2",name:"Invasion of the Dock",edition:"fh",parent:"71",marker:"1",monsters:["abael-scout","lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower","piranha-pig"],rooms:[{roomNumber:1,ref:"14-A",initial:!0,treasures:[23],monster:[{name:"abael-scout",type:"normal"},{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player3:"normal",player4:"normal"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"129.4",name:"Temple of Feline Power",edition:"fh",parent:"132",parentSections:[["110.2"]],marker:"1",monsters:["frost-demon","ice-wraith","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"frost-demon",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"130.1",name:"Deadly Pastimes",edition:"fh",parent:"85",marker:"1",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:11,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"130.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["90"]},{index:"130.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"130.5",name:"Blizzard Island",edition:"fh",parent:"48",marker:"1",monsters:["frost-demon","wind-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[15],monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"},{name:"wind-demon",type:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.2",name:"Fish King's Ascension",edition:"fh",parent:"77",monsters:["wind-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"wind-demon"},type:"dead"}]},{round:"true",always:!0,once:!0,sections:["102.2"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.ceil}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.ceil}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"131.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["145.3"]],marker:"3",rooms:[{roomNumber:2,initial:!0,monster:[]}]},{index:"131.4",name:"Quatryl Library",edition:"fh",parent:"26",monsters:["ruined-machine"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player4:"normal"},{name:"ruined-machine",player4:"normal"}]}]},{index:"131.5",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["119.2"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-guard",type:"normal"},{name:"algox-priest",type:"elite"},{name:"algox-priest",player3:"normal",player4:"elite"}]}]},{index:"132.1",name:"%game.characterIconColored.shards% Retires",edition:"fh",conclusion:!0,rewards:{inspiration:4},retirement:"shards"},{index:"132.2",name:"A Giant Block of Ice",edition:"fh",parent:"72",parentSections:[["105.3"]],marker:"3",resetRound:"visible",monsters:["frozen-corpse","steel-automaton"],rules:[{round:"R == 2",spawns:[{monster:{name:"steel-automaton",type:"normal"}}],noteTop:"Replace any one metal cabinet"},{round:"R == 4",spawns:[{monster:{name:"steel-automaton",player3:"normal",player4:"normal"}}]},{round:"R == 6",spawns:[{monster:{name:"steel-automaton",player4:"normal"}}]}],rooms:[{roomNumber:3,initial:!0,treasures:[37],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"steel-automaton",type:"elite"}]}]},{index:"132.3",name:"Give Rattusca her share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-10,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted"}},{index:"132.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["166.2"]],monsters:["vermling-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"vermling-scout",type:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"elite",player4:"elite"},{name:"vermling-scout",player4:"elite"}]}]},{index:"133.1",name:"Aesther Enhancements",edition:"fh",conclusion:!0,rewards:{gold:50,hints:{gold:"This gold must immediately be spent on enhancements"}}},{index:"133.2",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"2",monsters:["ancient-artillery","ruined-machine","steel-automaton"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"steel-automaton",type:"normal"}]}]},{index:"133.3",name:"Fleeting Permanence",edition:"fh",parent:"52",marker:"2",monsters:["snow-imp"],rooms:[{roomNumber:5,initial:!0,treasures:[1],monster:[{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"133.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{items:["245"],calendarSection:["80.4-1"],removeLootDeckCards:[1418]}},{index:"133.5",name:"The Lurker Problem",edition:"fh",parent:"78",parentSections:[["51.2"],["92.3"]],marker:"5",monsters:["lurker-soldier","lurker-wavethrower"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"lurker-soldier",type:"elite"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-soldier",player4:"normal"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"134.2",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["159.3"]],marker:"8",rooms:[{roomNumber:12,initial:!0,monster:[]}]},{index:"134.3",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["143.1"]],marker:"a",monsters:["abael-herder","fish-king","piranha-pig"],rules:[{round:"true",always:!0,once:!0,sections:["41.4"],figures:[{identifier:{type:"monster",name:"fish-king",health:"[H/2{$math.floor}]"},type:"present"},{identifier:{type:"monster",name:"fish-king"},type:"setHp",value:"[H/2{$math.floor}]"}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"elite",player4:"elite"},{name:"fish-king",type:"boss"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"135.1",name:"Bathysphere Ready",edition:"fh",conclusion:!0,unlocks:["42"]},{index:"135.2",name:"Sunless Trench",edition:"fh",parent:"42",marker:"3",monsters:["ooze"],rooms:[{roomNumber:1,ref:"12-D",initial:!0,monster:[{name:"ooze",type:"elite"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"},{name:"ooze",player3:"normal",player4:"normal"},{name:"ooze",player4:"normal"}]}]},{index:"136.5",name:"The Longest Second",edition:"fh",parent:"125",parentSections:[["108.1"]],marker:"a",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"elite",player4:"elite"},{name:"ruined-machine",player4:"elite"}]}]},{index:"137.1",name:"Orphan's Halls",edition:"fh",parent:"51",parentSections:[["32.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],objectives:[{name:"Door 2",health:"(L+2)xC"}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"elite"}],objectives:[1]}]},{index:"138.1",name:"%game.characterIconColored.drifter% Returns",edition:"fh",conclusion:!0,rewards:{randomItemBlueprint:1}},{index:"138.2",name:"Ice Cave",edition:"fh",parent:"111",parentSections:[["182.2"]],marker:"2",monsters:["frost-demon","hound"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"normal"},{name:"frost-demon",player4:"normal"},{name:"hound",type:"normal"},{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"elite"},{name:"hound",player4:"normal"}]}]},{index:"139.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["124.3"]],monsters:["abael-scout","lurker-wavethrower","steel-automaton"],rooms:[{roomNumber:3,initial:!0,treasures:[54],monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"abael-scout",player3:"elite",player4:"normal"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player4:"normal"}]}]},{index:"139.2",name:"Boat Build",edition:"fh",conclusion:!0,rewards:{envelopes:["B"],prosperity:1,overlayCampaignSticker:{name:"boat",location:"A",coordinates:{x:1696.125,y:2563.875,width:234,height:160}},custom:"You may now play scenarios with the %game.fhIcon:boat% requirement. Name your boat, then write it on the sticker and the front of B-01 and B-02 in the blanks.<br>Shuffle events B-01 to 13 together and use them to create the boat event deck. Store this deck in envelope B when not in use and use the card divider to separate the boat event deck from the other boat event cards."}},{index:"140.1",name:"Lustrous Pit",edition:"fh",parent:"108",marker:"1",monsters:["ice-wraith","snow-imp"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"140.3",name:"The Work Continues",edition:"fh",conclusion:!0,rewards:{custom:"Do not turn to the next page in the puzzle book. Instead write the solution to the next puzzle on the same page"}},{index:"141.1",name:"A Giant Block of Ice",edition:"fh",parent:"72",marker:"1",monsters:["ice-wraith","living-bones"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"ice-wraith",type:"normal"},marker:"a"},{monster:{name:"ice-wraith",player4:"elite"},marker:"b"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"141.2-1",name:"1 wagon escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1}},{index:"141.2-2",name:"2 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-3",name:"3 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}]}},{index:"141.2-4",name:"4 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,custom:"Gain any 2 material resources each",morale:1,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.2-5",name:"5 wagons escaped",edition:"fh",parent:"116",conclusion:!0,rewards:{experience:10,prosperity:1,custom:"Gain any 2 material resources each",morale:3,collectiveResources:[{type:"lumber",value:1},{type:"metal",value:1},{type:"hide",value:1}],randomItemBlueprint:1}},{index:"141.3",name:"Inside the Swarm",edition:"fh",parent:"100",marker:"1",monsters:["burrowing-blade","lurker-mindsnipper"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-mindsnipper",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"141.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["181.3"],["178.4"]],marker:"12",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:13,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"142.2",name:"A Strong Foundation",edition:"fh",parent:"65",marker:"1",monsters:["frozen-corpse","living-bones","snow-imp"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",type:"elite"},{name:"living-bones",player4:"normal"},{name:"snow-imp",type:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"elite"}]}]},{index:"142.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["107"]},{index:"143.1",name:"Flotsam",edition:"fh",parent:"73",parentSections:[["28.3"]],marker:"2",monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:4,initial:!0,treasures:[33],monster:[{name:"abael-herder",type:"elite"},{name:"abael-herder",player3:"normal",player4:"elite"},{name:"abael-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"143.2",name:"Library Built: Otherwise",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-45","summer-road:SR-47"],calendarSection:["152.3-2"]}},{index:"143.3",name:"Sacred Soil",edition:"fh",parent:"69",monsters:["earth-demon","forest-imp","rending-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",type:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"}]}]},{index:"144.1",name:"The Dead Mile",edition:"fh",parent:"37",parentSections:[["81.5"]],marker:"3",resetRound:"hidden",monsters:["living-bones","living-spirit","ruined-machine"],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},marker:"1"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},marker:"1"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"81.5",index:1,section:!0},{edition:"fh",scenario:"81.5",index:2,section:!0}]}],rooms:[{roomNumber:4,ref:"07-H",initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-bones",player2:"elite",player3:"elite",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"144.3",name:"Lumber Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-road:SR-39","summer-road:SR-44"]}},{index:"144.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:air",monsters:["flame-demon","night-demon","wind-demon"],rooms:[{roomNumber:5,initial:!0,treasures:["G"],monster:[{name:"flame-demon",player3:"normal",player4:"normal"},{name:"night-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player4:"normal"}]}]},{index:"145.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["179.2"]],marker:"5",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"11-B",initial:!0,treasures:[31],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"polar-bear",player4:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player2:"normal",player3:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"145.2",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["summer-road:SR-51","winter-road:WR-40"],custom:"Open the trials deck now. Do not shuffle it. Each player draws one trial and reads it secretly.<br>Once read by a player, a trial cannot be returned to the deck and must be completed by that player. Some trials may take several scenarios to complete, and should be kept secret by the player until completed. If and when a trial is completed by a player, that player may reveal the trial to other players for the first time, then remove it from the game and draw a new trial off the top of the trials deck."}},{index:"145.3",name:"Collapsing Vent",edition:"fh",parent:"98",parentSections:[["160.1"]],marker:"2",monsters:["ancient-artillery","burrowing-blade","spitting-drake"],rooms:[{roomNumber:3,initial:!0,treasures:[35],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"146.1A",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74A"],blocks:["74B"]},{index:"146.1B",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["74B"],blocks:["74A"]},{index:"146.2",name:"Keep Rattusca's share",edition:"fh",parent:"90",conclusion:!0,unlocks:["91"],forcedLinks:["91"],rewards:{collectiveGold:-5,battleGoals:1,custom:"Each character gains 10 gold for each numbered token they looted <br>All characters start the next scenario with %game.condition.muddle% and %game.condition.curse%"}},{index:"146.3",name:"A Contained Fire",edition:"fh",parent:"89",parentSections:[["131.5"]],marker:"3",monsters:["algox-archer","algox-guard","algox-priest","vanjal"],objectives:[{name:"Faye",escort:!0,allyDeck:!0,health:"(Lx3)+8",initiative:11,actions:[{type:"move",value:"3"},{type:"attack",value:"3+L",subActions:[{type:"condition",value:"brittle",small:!0},{type:"custom",value:"When this attack is performed, on the next round at initiative 99 instead perform:",small:!0,subActions:[{type:"heal",value:2,subActions:[{type:"specialTarget",value:"self",small:!0}]}]}]}]}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"objective",edition:"escort",name:"Faye"},type:"transfer",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,treasures:[42],monster:[{name:"algox-archer",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-guard",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-priest",player3:"normal",player4:"normal"},{name:"vanjal",type:"boss"}]}]},{index:"146.4",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["112"]},{index:"146.5",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["112.1"],["183.2"]],monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"147.4",name:"Tower of Knowledge",edition:"fh",parent:"134",marker:"2",rules:[{round:"true",always:!0,once:!0,sections:["33.3"]}],rooms:[{roomNumber:7,initial:!0,monster:[]}]},{index:"148.1",name:"The Savvas Seal",edition:"fh",parent:"63",parentSections:[["7.1"]],monsters:["savvas-icestorm","savvas-lavaflow"],rules:[{round:"true",always:!0,figures:[{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"wound"},{identifier:{type:"monster",name:".*"},type:"permanentCondition",value:"muddle"}],disableRules:[{edition:"fh",scenario:"7.1",index:0,section:!0}]},{round:"R == 9",start:!0,always:!0,once:!0,spawns:[{monster:{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"d"},{monster:{name:"flame-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"e"}]},{round:"R == 10",start:!0,spawns:[{monster:{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"},marker:"d"},{monster:{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]},{round:"R == 10",sections:["122.5"]}]},{index:"148.2",name:"%game.characterIconColored.prism% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-48"]},retirement:"prism"},{index:"148.4",name:"Depths of Delirium",edition:"fh",parent:"27",parentSections:[["69.2"]],marker:"4",monsters:["deep-terror","living-bones"],rules:[{round:"true",always:!0,once:!0,note:"All characters must move one card from their hand or discard pile to their taken pile."}],rooms:[{roomNumber:6,initial:!0,treasures:[24],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player4:"normal"}],objectives:[1,1]}]},{index:"148.5",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["154.2"]],marker:"3",monsters:["algox-guard","algox-priest","algox-scout"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-scout",type:"normal"},{name:"algox-scout",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",player2:"normal",player4:"normal"}]}]},{index:"149.1",name:"Nerve Center",edition:"fh",parent:"44",parentSections:[["52.1"]],marker:"2",monsters:["ancient-artillery","flaming-bladespinner"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"149.3",name:"To Bury the Dead",edition:"fh",parent:"95",parentSections:[["84.1"]],marker:"2",monsters:["ice-wraith","living-bones","living-doom","reluctant-ghost-section-149.3"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"reluctant-ghost-section-149.3",type:"boss"}]}]},{index:"149.4",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["155.1"]],marker:"3",rooms:[{roomNumber:5,initial:!0,monster:[]}]},{index:"149.5",name:"Artificer Recovered",edition:"fh",conclusion:!0,unlocks:["72"]},{index:"150.2",name:"A Grand View",edition:"fh",parent:"94",monsters:["ruined-machine","steel-automaton","vermling-scout-scenario-94"],allies:["vermling-scout-scenario-94"],rules:[{round:"true",note:"one for each character or Vermling Scout adjacent to a Flaming Bladespinner in any empty starting hex.",spawns:[{monster:{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},count:"0",manual:!0}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"94",index:0,section:!1}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"steel-automaton",player4:"normal"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",type:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player3:"elite",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"},{name:"vermling-scout-scenario-94",player4:"elite"}]}]},{index:"150.3",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["168.4"]],marker:"1",rooms:[{roomNumber:6,initial:!0,monster:[]}]},{index:"151.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["98.1"]],marker:"2",monsters:["polar-bear","snow-imp"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"bane"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"brittle"},{identifier:{type:"monster",name:"hungry-maw"},type:"loseCondition",value:"muddle"},{identifier:{type:"monster",name:"hungry-maw"},type:"heal",value:"LxC"}]}],rooms:[{roomNumber:1,ref:"12-B",initial:!0,treasures:[31],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"elite"}]}]},{index:"151.2",name:"Inn Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-71","summer-outpost:SO-55"]}},{index:"151.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["99"]},{index:"151.4",name:"Gaps in the Road B",edition:"fh",parent:"74B",parentSections:[["52.2B"]],marker:"3",monsters:["piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"normal"}]}]},{index:"152.1",name:"The Eternal Crave",edition:"fh",parent:"122",blockedSections:["98.1"],marker:"2",monsters:["polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"12-B",initial:!0,monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},{name:"snow-imp",player4:"normal"}]}]},{index:"152.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["170.1"]],monsters:[],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"ward"}]}],rooms:[]},{index:"152.3",name:"Library Lesson",edition:"fh",conclusion:!0,rewards:{events:["summer-outpost:SO-58"]}},{index:"153.1",name:"Derelict Freighter",edition:"fh",parent:"127",marker:"a",monsters:["frozen-corpse","ice-wraith"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player3:"normal",player4:"elite"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"normal"}]}]},{index:"153.2",name:"Hall of Revelry Built: If %game.trait:aesther%",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"153.4",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"154.1",name:"Lush Grotto",errata:"section154-1",edition:"fh",parent:"113",monsters:["forest-imp","polar-bear"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"154.2",name:"How to Lay an Ambush",edition:"fh",parent:"129",parentSections:[["156.4"]],marker:"2",monsters:["algox-guard","algox-priest"],rooms:[{roomNumber:3,initial:!0,treasures:[78],monster:[{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player3:"normal",player4:"elite"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"normal"},{name:"algox-priest",type:"elite",marker:"b"},{name:"algox-priest",player4:"normal"}]}]},{index:"154.4",name:"Tower of Knowledge",edition:"fh",parent:"134",parentSections:[["11.6","30.5"]],monsters:["steel-automaton"],rules:[{round:"true",always:!0,alwaysApply:!0,statEffects:[{identifier:{type:"monster",edition:"fh",name:"steel-automaton"},statEffect:{health:"[HxC/2{$math.ceil}]",absolute:!0},note:"%data.scenario.rules.fh.134%"}]}],rooms:[{roomNumber:8,initial:!0,monster:[{name:"steel-automaton",type:"elite"}]}]},{index:"155.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["103.1"]],marker:"c",monsters:["flaming-bladespinner","robotic-boltshooter"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"}]}]},{index:"155.3",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Collectively gain any 6 material resources.",morale:5}},{index:"155.4",name:"Hall of Revelry Built: Playing Frosthaven Solo",edition:"fh",parentSections:[["196.1"],["153.2"]],conclusion:!0,named:!0,rewards:{events:["winter-road:WR-40"],custom:"Unlock Personal Quest 23. Any character may abandon all progress on their current personal quest to take it now, otherwise add it to the personal quest deck."}},{index:"156.1",name:"Opening the Pass",edition:"fh",conclusion:!0,unlocks:["114"]},{index:"156.2",name:"Raised by Wolves",edition:"fh",parent:"112",parentSections:[["97.1"]],marker:"2",monsters:["burrowing-blade","chaos-demon"],rooms:[{roomNumber:3,initial:!0,treasures:[25],monster:[{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player2:"normal",player3:"elite",player4:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",type:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"chaos-demon",player4:"normal"}]}]},{index:"156.4",name:"How to Lay an Ambush",edition:"fh",parent:"129",marker:"1",monsters:["algox-guard","algox-scout"],rules:[{round:"true",always:!0,once:!0,note:"All Algox Scouts, then Algox Guards, immediately perform %game.action.move%9 focusing on moving toward %game.mapMarker.a%"},{round:"true",always:!0,once:!0,sections:["154.2"]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-guard",type:"elite"},{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"}]}]},{index:"157.1",name:"Under the Influence",edition:"fh",parent:"120",parentSections:[["101.1"]],marker:"2",monsters:["robotic-boltshooter","steel-automaton"],objectives:[{name:"Glowing Orb",health:"((Lx2)+3)xC"}],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle",scenarioEffect:!0},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1",scenarioEffect:!0}]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"157.2",name:"Enhancer Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"shackles"}},{index:"157.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["93A","93B"]},{index:"158.1",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"2",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"158.4",name:"The Longest Second",edition:"fh",parent:"125",marker:"1",monsters:["robotic-boltshooter","ruined-machine"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"robotic-boltshooter",type:"elite"},{name:"robotic-boltshooter",player3:"normal",player4:"normal"},{name:"robotic-boltshooter",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player3:"normal",player4:"elite"}]}]},{index:"159.1",name:"Work Freeze",edition:"fh",parent:"114",marker:"1",monsters:["hound","polar-bear","snow-imp"],objectives:[{name:"Ice Pillar",health:"(2xL)+2",actions:[{type:"shield",value:"[L/2{$math.ceil}]"}]}],rules:[{round:"R % 2 == 0",start:!0,spawns:[{monster:{name:"hound",player2:"normal",player3:"elite"},marker:"e"},{monster:{name:"polar-bear",player4:"normal"},marker:"e"}]},{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"snow-imp",player2:"normal",player3:"elite",player4:"normal"},marker:"f"},{monster:{name:"snow-imp",player4:"elite"},marker:"f"}]},{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"114",index:0,section:!1},{edition:"fh",scenario:"114",index:1,section:!1}]}],rooms:[{roomNumber:1,ref:"13-C",initial:!0,monster:[{name:"hound",player3:"normal",player4:"normal"},{name:"hound",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",type:"normal"},{name:"snow-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}],objectives:[1,1,1,1]}]},{index:"159.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"],["82.3"]],marker:"7",monsters:["lightning-eel"],rooms:[{roomNumber:14,initial:!0,monster:[{name:"lightning-eel",player2:"normal",player3:"normal",player4:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"159.4",name:"The Forge",edition:"fh",conclusion:!0,unlocks:["106"]},{index:"160.1",name:"Collapsing Vent",edition:"fh",parent:"98",marker:"1",monsters:["ancient-artillery","black-imp","burrowing-blade"],rooms:[{roomNumber:4,initial:!0,treasures:[65],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",type:"normal"},{name:"black-imp",player2:"elite",player3:"normal",player4:"normal"},{name:"black-imp",player4:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"}]}]},{index:"160.2",name:"Tavern Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-79","summer-road:SR-50"],hints:{lootDeckCards:["When drawn, read any one section number depicted."]},lootDeckCards:[1418]}},{index:"160.3",name:"%game.characterIconColored.geminate% Retires",edition:"fh",conclusion:!0,rewards:{calendarSection:["193.2-4"]},retirement:"geminate"},{index:"161.1",name:"Climbing Gear Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"climbing-gear",location:"C",coordinates:{x:1454.875,y:2623.375,width:102,height:89}},custom:"You may now play scenarios with the %game.fhIcon:climbing-gear% requirement."}},{index:"161.2",name:"Radiant Dust",edition:"fh",parent:"119",parentSections:[["96.2"]],marker:"2",monsters:["burrowing-blade","polar-bear","shrike-fiend","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player4:"elite"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"elite",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"161.3",name:"High Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:2,overlayCampaignSticker:{name:"statue",location:"F",coordinates:{x:791.625,y:2334.875,width:78,height:92}}}},{index:"162.1",name:"Furious Factory",edition:"fh",parent:"109",marker:"3",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:3,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"flaming-bladespinner",player3:"normal",player4:"normal"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal"}],objectives:[1]}]},{index:"162.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:dark",monsters:["frost-demon","night-demon","wind-demon"],rooms:[{roomNumber:6,initial:!0,treasures:["G"],monster:[{name:"frost-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",type:"normal"},{name:"night-demon",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]},{index:"163.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["99.2"]],marker:"3",monsters:["abael-herder","abael-scout","frost-demon","piranha-pig"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-scout",player4:"normal"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"164.1",name:"Gaps in the Road A",edition:"fh",parent:"74A",parentSections:[["52.2A"]],marker:"3",monsters:["algox-priest","wind-demon"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player3:"normal",player4:"elite"}]}]},{index:"164.2",name:"Library Built: If %game.trait:educated%",edition:"fh",parentSections:[["190.3"]],conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-58","winter-road:WR-45","summer-road:SR-47"]}},{index:"164.3",name:"Ruins of the Solstice",edition:"fh",parent:"104",marker:"1",monsters:["earth-demon","forest-imp","frost-demon","savvas-icestorm","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"elite"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"forest-imp",player4:"elite"},{name:"savvas-icestorm",type:"normal"},{name:"savvas-icestorm",player3:"normal",player4:"normal"}]}]},{index:"165.2",name:"Fish King's Ascension",edition:"fh",parent:"77",parentSections:[["102.2"]],monsters:["frost-demon"],rules:[{round:"true",always:!0,once:!0,note:"Read %data.section:184.5%",figures:[{identifier:{type:"monster",edition:"fh",name:"frost-demon"},type:"dead"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"frost-demon",type:"normal"},{name:"frost-demon",type:"normal"},{name:"frost-demon",player3:"normal",player4:"elite"}]}]},{index:"165.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"165.4",name:"Letter from %game.characterIconColored.drill%",edition:"fh",conclusion:!0,rewards:{custom:"See Section Book"}},{index:"165.5",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"2",monsters:["ice-wraith"],rooms:[{roomNumber:3,initial:!0,treasures:[3],monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"166.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["139.1"]]},{index:"166.3",name:"Furious Factory",edition:"fh",parent:"109",marker:"1",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:4,initial:!0,treasures:[80],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"elite",player3:"elite",player4:"normal"}],objectives:[1]}]},{index:"166.4",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["85"]},{index:"166.5",name:"Destroy the automaton and pass along the vermling technology",edition:"fh",parent:"121",conclusion:!0,rewards:{calendarSection:["184.3-6"]}},{index:"167.1",name:"Among the Wreckage",edition:"fh",parent:"54",marker:"1",monsters:[],rooms:[{roomNumber:4,initial:!0,treasures:[5],monster:[],objectives:[1,1,1,1,1,1,2,2,2]}]},{index:"167.2",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["78"]},{index:"167.3",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["81.2"],["163.2"]],monsters:["chaos-demon"],rules:[{round:"true",always:!0,once:!0,spawns:[{monster:{name:"chaos-demon",player2:"normal",player4:"elite"},marker:"c",count:"2"},{monster:{name:"chaos-demon",player3:"normal"},marker:"c"},{monster:{name:"chaos-demon",player3:"elite"},marker:"c"}]}],rooms:[{roomNumber:3,initial:!0,monster:[]}]},{index:"167.4",name:"Underground Station",edition:"fh",parent:"96",parentSections:[["116.2"]],marker:"3",monsters:["ancient-artillery","black-imp","rending-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"black-imp",type:"elite"},{name:"black-imp",player3:"elite",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"168.1",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"168.2",name:"Blast the Lurkers",edition:"fh",parentSections:[["114.2"]],conclusion:!0,unlocks:["50"],rewards:{overlaySticker:{name:"Z",location:"F2",coordinates:{x:1444,y:350,width:366,height:288}},custom:"Do not resolve an outpost event this week."}},{index:"168.4",name:"My Private Empire",edition:"fh",parent:"107",marker:"a",monsters:["living-bones"],rooms:[{roomNumber:8,initial:!0,monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-bones",player4:"normal"},{name:"living-bones",player4:"normal"}]}]},{index:"168.6",name:"A Waiting Game",edition:"fh",parent:"117",marker:"1",monsters:["hound","vermling-priest","vermling-scout"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"hound",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"169.1",name:"%game.characterIconColored.trap% Returns",edition:"fh",conclusion:!0,unlocks:["117"]},{index:"169.2",name:"Sled Build",edition:"fh",conclusion:!0,rewards:{prosperity:1,overlayCampaignSticker:{name:"sled",location:"B",coordinates:{x:1579.375,y:2462.375,width:111,height:71}},custom:"You may now play scenarios with the %game.fhIcon:sled% requirement."}},{index:"169.3",name:"Crain's Recovery",edition:"fh",conclusion:!0,unlocks:["36","37"],rewards:{custom:"Open the Puzzle Book to the first page"}},{index:"170.1",name:"A Tall Drunken Tale",edition:"fh",parent:"128",monsters:["abael-scout","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"discard",value:"1"}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"abael-scout",type:"elite"},{name:"abael-scout",type:"elite"},{name:"abael-scout",player3:"elite",player4:"elite"},{name:"abael-scout",player4:"elite"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"170.2",name:"Abandoned Hideout",edition:"fh",parent:"136",marker:"1",monsters:["lightning-eel","piranha-pig"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lightning-eel",type:"elite"},{name:"lightning-eel",player2:"normal",player3:"elite",player4:"elite"},{name:"lightning-eel",player3:"normal",player4:"elite"},{name:"lightning-eel",player4:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"}]}]},{index:"171.1",name:"Temple of Feline Power",edition:"fh",parent:"132",rooms:[{roomNumber:4,initial:!0,monster:[]}]},{index:"171.2",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["108"]},{index:"171.3",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"3",monsters:["algox-archer","algox-priest"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-priest",player3:"elite",player4:"normal"}]}]},{index:"171.5",name:"Return the sun agates to Derrick",edition:"fh",parent:"130",conclusion:!0,rewards:{prosperity:1,custom:"Gain 10 collective gold for each token carried",morale:-3}},{index:"172.1",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["179.2"],marker:"4",monsters:["ice-wraith","polar-bear"],rooms:[{roomNumber:1,ref:"07-A",initial:!0,monster:[{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"polar-bear",type:"normal"},{name:"polar-bear",player4:"normal"}]}]},{index:"172.2",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["176.3"]]},{index:"172.3",name:"Hunting Lodge Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{unlockCharacter:"trap"}},{index:"172.5",name:"Furious Factory",edition:"fh",parent:"109",marker:"4",monsters:["ancient-artillery","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"ancient-artillery",type:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"}],objectives:[1]}]},{index:"173.2",name:"And Then, a Stream",edition:"fh",parent:"130",monsters:["frozen-corpse","lightning-eel","shrike-fiend"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player4:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",type:"normal"},{name:"lightning-eel",player3:"normal",player4:"normal"},{name:"lightning-eel",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"173.3",name:"Bolt",edition:"fh",parent:"133",marker:"1",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"elite",player4:"elite"},{name:"spitting-drake",type:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"173.1",name:"Hide Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-56","summer-road:SR-41"]}},{index:"174.2",name:"%game.characterIconColored.meteor% Returns",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"174.3",name:"Ruinous Research Lab",edition:"fh",parent:"81",marker:"1",monsters:["ancient-artillery","flaming-bladespinner","ruined-machine","steel-automaton"],objectives:[{name:"Barricade",health:"L+5",marker:"e"}],rooms:[{roomNumber:3,initial:!0,treasures:[19],monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",type:"elite"},{name:"flaming-bladespinner",player2:"normal",player3:"elite",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player4:"normal"}],objectives:[1]}]},{index:"174.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"175.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["94"]},{index:"175.2",name:"Low Morale",edition:"fh",conclusion:!0,named:!0,rewards:{prosperity:-2,custom:"<b>%wip%!</b> manually apply:<br>Rebuild all wrecked buildings for free.",morale:5}},{index:"175.4",name:"Elemental Cores",edition:"fh",parent:"66",marker:"element:fire",monsters:["flame-demon","sun-demon","wind-demon"],rooms:[{roomNumber:7,initial:!0,treasures:["G"],monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"wind-demon",type:"normal"}]}]},{index:"176.3",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["152.2"]],monsters:["abael-scout","steel-automaton"],rules:[{round:"true",always:!0,once:!0,figures:[{identifier:{type:"character",name:".*"},type:"gainCondition",value:"bane"},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"impair"},{identifier:{type:"character",name:".*"},type:"amAdd",value:"curse:1"}]},{round:"true",always:!0,once:!0,sections:["172.2"],figures:[{identifier:{type:"all",name:".*"},type:"initiative",value:">=67"}],finish:"round"}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"abael-scout",type:"normal"},{name:"abael-scout",type:"normal"},{name:"abael-scout",player3:"normal",player4:"normal"},{name:"abael-scout",player4:"normal"},{name:"steel-automaton",type:"elite"},{name:"steel-automaton",player3:"normal",player4:"elite"}]}]},{index:"176.4",name:"Funeral for the Winter Fallen",edition:"fh",conclusion:!0,rewards:{morale:2}},{index:"177.2",name:"Infiltrating the Lair",edition:"fh",parent:"75",parentSections:[["163.2"]],marker:"4",monsters:["frost-demon"],rooms:[{roomNumber:5,initial:!0,treasures:[20,51,55],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"177.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"177.4",name:"Care Package from %game.characterIconColored.snowflake%",edition:"fh",conclusion:!0,rewards:{morale:3}},{index:"177.5",name:"1 - 4 episodes overcome",edition:"fh",parent:"107",parentSections:[["150.3"]],conclusion:!0,blockedSections:["116.1"],rewards:{custom:"Gain any X collective material resources, where X is the number of episodes overcome"}},{index:"177.6",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["22.4"]],marker:"e",monsters:["black-imp","burrowing-blade","polar-bear"],rooms:[{roomNumber:15,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"178.2",name:"Hall of Revelry Built",edition:"fh",conclusion:!0,named:!0},{index:"178.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["89"]},{index:"178.4",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["47.3"],["110.4"]],marker:"b",rooms:[{roomNumber:16,initial:!0,monster:[]}]},{index:"179.2",name:"The Eternal Crave",edition:"fh",parent:"122",parentSections:[["152.1"]],blockedSections:["172.1"],marker:"3",monsters:["ice-wraith","polar-bear","snow-imp"],rooms:[{roomNumber:1,ref:"01-F",initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player3:"normal",player4:"elite"},{name:"snow-imp",player3:"elite",player4:"elite"},{name:"snow-imp",player4:"elite"}]}]},{index:"179.6",name:"%game.characterIconColored.shackles% Retires",edition:"fh",conclusion:!0,rewards:{events:["winter-road:WR-32"]},retirement:"shackles"},{index:"180.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["84"]},{index:"180.4",name:"Abandoned Hideout",edition:"fh",parent:"136",parentSections:[["170.2"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,treasures:[83],monster:[{name:"living-bones",type:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"elite"},{name:"living-spirit",type:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player3:"normal",player4:"elite"}]}]},{index:"181.2",name:"HE-RO-IC-S",edition:"fh",conclusion:!0,rewards:{custom:"If building 88 is built, read %data.section:135.4% now.<br>Otherwise, read %data.section:33.1% now."}},{index:"181.3",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["134.2"]],marker:"10",rooms:[{roomNumber:17,initial:!0,monster:[]}]},{index:"181.4",name:"The Lady in White",edition:"fh",parent:"86",parentSections:[["6.3"]],monsters:["lady-in-white"],rooms:[{roomNumber:2,initial:!0,monster:[{name:"lady-in-white",type:"elite"}]}]},{index:"181.5",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["120.2"]],monsters:["lurker-mindsnipper","lurker-soldier"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"lurker-mindsnipper",type:"elite"},{name:"lurker-soldier",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-soldier",player4:"normal"}]}]},{index:"182.1",name:"Keep the sun agates",edition:"fh",parent:"130",conclusion:!0,rewards:{custom:"Gain 5 collective gold for each token carried"}},{index:"182.2",name:"Ice Cave",edition:"fh",parent:"111",marker:"1",monsters:["frost-demon","night-demon","the-shimmer","wind-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"night-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"the-shimmer",type:"boss"}]}]},{index:"182.3",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"183.1",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"4",monsters:["wind-demon"],objectives:[{name:"Altar 4",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",note:"The Altar performs %game.action.push%1, %game.action.target% all characters, %game.action.range%5",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 4"}}]}],rooms:[{roomNumber:4,initial:!0,monster:[{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"183.2",name:"Lush Grotto",edition:"fh",parent:"113",parentSections:[["146.5"],["154.1"]],monsters:["chaos-demon","polar-bear"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"183.5",name:"Alchemist Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{randomItemBlueprints:"59-65"}},{index:"184.3",name:"Rumor of Vengeance",edition:"fh",conclusion:!0,rewards:{inspiration:3}},{index:"184.4",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"2",monsters:["earth-demon"],objectives:[{name:"Altar 2",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 2"}},{identifier:{type:"monster",edition:"fh",name:".*"},type:"heal",value:"2"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"earth-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"184.6",name:"The Collection",edition:"fh",parent:"87",parentSections:[["31.2"]],marker:"2",monsters:["polar-bear"],rooms:[{roomNumber:5,initial:!0,treasures:[38],monster:[{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"185.1",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["181.5"]],monsters:["lurker-wavethrower"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",type:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",player4:"normal"}]}]},{index:"185.4",name:"Letter from %game.characterIconColored.fist%",edition:"fh",conclusion:!0,rewards:{collectiveResources:[{type:"axenut",value:3}]}},{index:"186.1",name:"Bolt",edition:"fh",parent:"133",marker:"2",monsters:["forest-imp","rending-drake","spitting-drake"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"forest-imp",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"spitting-drake",player4:"normal"}]}]},{index:"186.2",name:"Furious Factory",edition:"fh",parent:"109",marker:"2",monsters:["ancient-artillery","ruined-machine"],rules:[{round:"true",always:!0,once:!0,sections:["195.2"]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",type:"normal"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"186.3",name:"Guardian's Temple",edition:"fh",parent:"110",monsters:["living-doom","living-spirit"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"110",index:1,section:!1},{edition:"fh",scenario:"110",index:2,section:!1},{edition:"fh",scenario:"110",index:3,section:!1}]},{round:"true",start:!0,note:"Remaining two Ice Pillars are always active"}],rooms:[{roomNumber:2,initial:!0,treasures:[75],monster:[{name:"living-doom",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player3:"normal"}]}]},{index:"186.4",name:"A Tall Drunken Tale",edition:"fh",parent:"128",parentSections:[["132.4"]],rules:[{round:"true",always:!0,once:!0,note:"Place three snow rocks in any empty hexes on tile 15-A (if able).",figures:[{identifier:{type:"all",name:".*"},type:"setHp",value:"1"}]}]},{index:"186.5",name:"Random Scenario",edition:"fh",conclusion:!0,named:!0,random:!0,unlocks:["104"]},{index:"188.1",name:"My Private Empire",edition:"fh",parent:"107",parentSections:[["95.2"]],marker:"2",rooms:[{roomNumber:9,initial:!0,monster:[]}]},{index:"188.2",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"188.3",name:"5 episodes overcome",edition:"fh",parent:"107",conclusion:!0,rewards:{items:["214"],custom:"Gain any 5 collective material resources"}},{index:"189.1",name:"Town Hall Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-59","summer-outpost:SO-62","summer-road:SR-38"]}},{index:"189.2",name:"The Tempus Forge",edition:"fh",parent:"106",marker:"3",monsters:["frost-demon"],objectives:[{name:"Altar 3",health:"[(L+2)xC/2{$math.floor}]"}],rules:[{round:"true",figures:[{type:"present",identifier:{type:"objective",edition:"objective",name:"Altar 3"}},{identifier:{type:"character",name:".*"},type:"gainCondition",value:"muddle"}]}],rooms:[{roomNumber:6,initial:!0,monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player2:"normal",player3:"elite",player4:"elite"}],objectives:[1]}]},{index:"190-2-1",name:"1 crate looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10}},{index:"190-2-2",name:"2 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-3",name:"3 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190-2-4",name:"4 crates looted",edition:"fh",parent:"127",conclusion:!0,rewards:{collectiveGold:10,prosperity:1,items:["195"],collectiveResources:[{type:"lumber",value:2}]}},{index:"190.3",name:"Library Built",edition:"fh",conclusion:!0,named:!0},{index:"191.2",name:"Pirate Queen's Haul",edition:"fh",parent:"137",marker:"1",monsters:["forest-imp","piranha-pig","polar-bear"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"forest-imp",type:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"elite",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"elite",player4:"elite"},{name:"piranha-pig",player3:"normal",player4:"elite"},{name:"polar-bear",type:"elite"},{name:"polar-bear",player4:"normal"}]}]},{index:"191.3",name:"Ruins of the Equinox",edition:"fh",parent:"105",marker:"1",monsters:["flame-demon","rending-drake"],rules:[{round:"true",always:!0,disableRules:[{edition:"fh",scenario:"105",index:0,section:!1},{edition:"fh",scenario:"105",index:1,section:!1},{edition:"fh",scenario:"105",index:2,section:!1},{edition:"fh",scenario:"105",index:3,section:!1}]},{round:"true",always:!0,once:!0,elements:[{type:"air",state:"strong"},{type:"fire",state:"always"}]},{round:"true",figures:[{identifier:{type:"character",name:".*"},type:"damage",value:"1"}]}],rooms:[{roomNumber:2,initial:!0,monster:[{name:"flame-demon",type:"normal"},{name:"flame-demon",type:"normal"},{name:"flame-demon",player3:"normal",player4:"elite"},{name:"rending-drake",type:"normal"},{name:"rending-drake",type:"elite"},{name:"rending-drake",player3:"normal",player4:"normal"},{name:"rending-drake",player4:"elite"}]}]},{index:"192.1",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["79"]},{index:"192.4",name:"Lustrous Pit",edition:"fh",parent:"108",parentSections:[["140.1"]],marker:"3",monsters:["ice-wraith"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"ice-wraith",player4:"normal"}]}]},{index:"192.5",name:"Temple Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-73","summer-road:SR-43"]}},{index:"193.1",name:"Enhancer Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["summer-outpost:SO-63","winter-road:WR-44"],calendarSectionManual:[{section:"118.3",hint:"If you have completed <b><i>Forgotten Circles</i></b>, add %data.section:118.3% to the calendar in three weeks."}]}},{index:"193.2",name:"%game.characterIconColored.geminate% Returns",edition:"fh",conclusion:!0,rewards:{hints:{campaignSticker:["if not already gained"]},campaignSticker:["into-the-forest"]}},{index:"193.3",name:"The Titan",edition:"fh",parent:"123",parentSections:[["104.2"]],marker:"3",monsters:["algox-snowspeaker","ancient-artillery"],rooms:[{roomNumber:5,initial:!0,monster:[{name:"algox-snowspeaker",type:"elite"},{name:"algox-snowspeaker",player3:"normal",player4:"elite"},{name:"ancient-artillery",type:"elite"},{name:"ancient-artillery",player3:"normal",player4:"elite"}]}]},{index:"193.4",name:"Metal Depot Built",edition:"fh",conclusion:!0,named:!0,rewards:{events:["winter-outpost:WO-72","winter-outpost:WO-74"]}},{index:"193.5",name:"Old Coin",edition:"fh",conclusion:!0,named:!0,rewards:{custom:"The looting character gains X gold, where X is how much gold one money token is worth at L+1 (= [2 + [(L+1)/2{$math.floor}]] gold).",lootingGold:"2 + Math.floor((L+1)/2)"}},{index:"194.1",name:"Deadly Pastimes",edition:"fh",parent:"85",parentSections:[["56.1"]],marker:"9",monsters:["black-imp","polar-bear"],rooms:[{roomNumber:18,initial:!0,monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player4:"elite"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"194.2",name:"The Dancing Iceberg",edition:"fh",parent:"131",parentSections:[["185.1"]],monsters:["lurker-conductor"],rules:[{round:"R % 2 == 1",start:!0,spawns:[{monster:{name:"lurker-wavethrower",player3:"normal",player4:"normal"},marker:"d"},{monster:{name:"lurker-soldier",player2:"normal",player3:"normal",player4:"elite"},marker:"e"}]}],rooms:[{roomNumber:5,initial:!0,monster:[{name:"lurker-conductor",type:"boss"}]}]},{index:"194.3",name:"Job Posting",edition:"fh",conclusion:!0,named:!0,unlocks:["132"]},{index:"194.4",name:"Harrower Library",edition:"fh",parent:"101",parentSections:[["126.2"]],marker:"2",monsters:["algox-archer","algox-guard","algox-priest"],rooms:[{roomNumber:4,initial:!0,monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"normal"},{name:"algox-archer",player4:"elite"},{name:"algox-guard",type:"normal"},{name:"algox-guard",player4:"normal"},{name:"algox-priest",player3:"normal",player4:"normal"}]}]},{index:"195.1",name:"Belara's Keep",edition:"fh",parent:"135",parentSections:[["87.2"]],marker:"f",monsters:["belara","earth-demon","flame-demon","rending-drake","sun-demon"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"belara",type:"boss"},{name:"rending-drake",type:"normal"},{name:"rending-drake",player3:"normal",player4:"elite"},{name:"sun-demon",type:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"},{name:"sun-demon",player4:"normal"}]}]},{index:"195.2",name:"Furious Factory",edition:"fh",parent:"109",monsters:["laser-spires"],rooms:[{roomNumber:7,initial:!0,monster:[{name:"laser-spires",type:"boss"}]}]},{index:"195.3",name:"A Growing Problem",edition:"fh",parent:"124",parentSections:[["119.4"]],marker:"2",monsters:["living-bones","living-spirit"],rooms:[{roomNumber:3,initial:!0,monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player2:"normal",player3:"elite",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"196.1",name:"Hall of Revelry Built: Otherwise",edition:"fh",parentSections:[["178.2"]],conclusion:!0,named:!0},{index:"196.2",name:"Trading Post Upgraded",edition:"fh",conclusion:!0,named:!0,rewards:{itemBlueprints:["147-155"]}},{index:"196-3-1",name:"7 or less embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:1}},{index:"196-3-2",name:"8 to 15 embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{calendarSection:["100.3-3"],morale:2}},{index:"196-3-3",name:"16 or more embellishments",edition:"fh",parent:"128",conclusion:!0,rewards:{items:["215"],calendarSection:["100.3-3"],morale:3}},{index:"891",group:"randomMonsterCard",name:"Smashing",edition:"fh",named:!0,monsters:["algox-archer","algox-icespeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-archer",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-archer",player3:"normal",player4:"normal"},{name:"algox-archer",player3:"normal"},{name:"algox-icespeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-icespeaker",player2:"normal",player4:"normal"}]}]},{index:"892",group:"randomMonsterCard",name:"Stormy",edition:"fh",named:!0,monsters:["algox-guard","algox-snowspeaker"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-guard",player3:"normal",player4:"normal"},{name:"algox-guard",player3:"normal"},{name:"algox-snowspeaker",player2:"normal",player3:"normal",player4:"elite"},{name:"algox-snowspeaker",player2:"normal",player4:"normal"}]}]},{index:"893",group:"randomMonsterCard",name:"Territorial",edition:"fh",named:!0,monsters:["algox-priest","algox-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-priest",type:"normal"},{name:"algox-priest",player2:"normal",player3:"elite",player4:"elite"},{name:"algox-priest",player4:"normal"},{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"normal"},{name:"algox-scout",player4:"normal"}]}]},{index:"894",group:"randomMonsterCard",name:"Feral",edition:"fh",named:!0,monsters:["hound","polar-bear","snow-imp"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"hound",type:"elite"},{name:"hound",player3:"normal",player4:"normal"},{name:"polar-bear",player2:"normal",player3:"normal",player4:"elite"},{name:"polar-bear",player3:"normal",player4:"normal"},{name:"snow-imp",type:"elite"},{name:"snow-imp",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"895",group:"randomMonsterCard",name:"Tamed",edition:"fh",named:!0,monsters:["polar-bear","vermling-priest","vermling-scout"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"polar-bear",player2:"normal",player3:"elite",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-priest",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",type:"elite"},{name:"vermling-scout",player2:"normal",player3:"normal",player4:"elite"},{name:"vermling-scout",player3:"normal",player4:"normal"},{name:"vermling-scout",player3:"normal",player4:"elite"}]}]},{index:"896",group:"randomMonsterCard",name:"Swarming",edition:"fh",named:!0,monsters:["forest-imp","harrower-infester","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"forest-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"forest-imp",player3:"normal",player4:"elite"},{name:"forest-imp",player4:"normal"},{name:"harrower-infester",type:"normal"},{name:"harrower-infester",player3:"normal",player4:"normal"},{name:"shrike-fiend",type:"elite"},{name:"shrike-fiend",player4:"normal"}]}]},{index:"897",group:"randomMonsterCard",name:"Traitorous",edition:"fh",named:!0,monsters:["chaos-demon","city-guard"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player4:"normal"},{name:"city-guard",type:"elite"},{name:"city-guard",player2:"normal",player3:"elite",player4:"elite"},{name:"city-guard",player3:"normal",player4:"normal"},{name:"city-guard",player3:"normal",player4:"normal"}]}]},{index:"898",group:"randomMonsterCard",name:"Bleak",edition:"fh",named:!0,monsters:["living-bones","living-doom","living-spirit"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"living-bones",player2:"normal",player3:"normal",player4:"elite"},{name:"living-bones",player3:"normal",player4:"normal"},{name:"living-doom",type:"elite"},{name:"living-doom",player3:"normal",player4:"normal"},{name:"living-spirit",player2:"normal",player3:"normal",player4:"elite"},{name:"living-spirit",player4:"normal"}]}]},{index:"899",group:"randomMonsterCard",name:"Sapping",edition:"fh",named:!0,monsters:["frost-demon","ice-wraith","snow-imp"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frost-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"frost-demon",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",type:"elite"},{name:"ice-wraith",player3:"normal",player4:"normal"},{name:"snow-imp",player3:"normal",player4:"normal"}]}]},{index:"900",group:"randomMonsterCard",name:"Decayed",edition:"fh",named:!0,monsters:["frozen-corpse","living-bones"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"frozen-corpse",type:"normal"},{name:"frozen-corpse",player2:"normal",player3:"normal",player4:"elite"},{name:"frozen-corpse",player2:"normal",player3:"elite",player4:"elite"},{name:"frozen-corpse",player4:"normal"},{name:"living-bones",type:"normal"},{name:"living-bones",player3:"normal",player4:"normal"}]}]},{index:"901",group:"randomMonsterCard",name:"Deomesticated",edition:"fh",named:!0,monsters:["abael-herder","abael-scout","piranha-pig"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"abael-herder",player2:"normal",player3:"normal",player4:"elite"},{name:"abael-herder",player3:"elite",player4:"elite"},{name:"abael-scout",type:"elite"},{name:"piranha-pig",type:"normal"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"902",group:"randomMonsterCard",name:"Trashing",edition:"fh",named:!0,monsters:["lurker-soldier","lurker-wavethrower","piranha-pig"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"ice",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-soldier",type:"normal"},{name:"lurker-soldier",player3:"normal",player4:"normal"},{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"},{name:"piranha-pig",player2:"normal",player3:"normal",player4:"elite"}]}]},{index:"903",group:"randomMonsterCard",name:"Daunting",edition:"fh",named:!0,monsters:["lurker-clawcrusher","lurker-mindsnipper","lurker-wavethrower"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-clawcrusher",type:"normal"},{name:"lurker-clawcrusher",player2:"normal",player3:"elite",player4:"elite"},{name:"lurker-mindsnipper",type:"normal"},{name:"lurker-mindsnipper",player4:"normal"},{name:"lurker-wavethrower",player3:"normal",player4:"elite"}]}]},{index:"904",group:"randomMonsterCard",name:"Abandoned",edition:"fh",named:!0,monsters:["ancient-artillery","ruined-machine"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"normal",player4:"elite"},{name:"ancient-artillery",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",type:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"ruined-machine",player2:"normal",player3:"elite",player4:"elite"},{name:"ruined-machine",player3:"normal",player4:"normal"},{name:"ruined-machine",player3:"normal",player4:"normal"}]}]},{index:"905",group:"randomMonsterCard",name:"Reinforced",edition:"fh",named:!0,monsters:["robotic-boltshooter","steel-automaton"],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"robotic-boltshooter",type:"normal"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player2:"normal",player3:"normal",player4:"elite"},{name:"robotic-boltshooter",player4:"normal"},{name:"steel-automaton",type:"normal"},{name:"steel-automaton",player3:"normal",player4:"normal"}]}]},{index:"906",group:"randomMonsterCard",name:"Rusted",edition:"fh",named:!0,monsters:["flaming-bladespinner","ruined-machine","steel-automaton"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player4:"normal"},{name:"ruined-machine",player2:"normal",player3:"normal",player4:"elite"},{name:"steel-automaton",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"907",group:"randomMonsterCard",name:"Unsettling",edition:"fh",named:!0,monsters:["black-imp","chaos-demon","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"black-imp",player2:"normal",player3:"normal",player4:"elite"},{name:"black-imp",player3:"normal",player4:"elite"},{name:"chaos-demon",type:"normal"},{name:"chaos-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"chaos-demon",player3:"normal",player4:"normal"},{name:"ooze",type:"elite"},{name:"ooze",player3:"normal",player4:"normal"}]}]},{index:"908",group:"randomMonsterCard",name:"Taloned",edition:"fh",named:!0,monsters:["rending-drake","shrike-fiend"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"rending-drake",type:"normal"},{name:"rending-drake",player2:"normal",player3:"elite",player4:"elite"},{name:"rending-drake",player4:"normal"},{name:"shrike-fiend",type:"normal"},{name:"shrike-fiend",player2:"normal",player3:"normal",player4:"elite"},{name:"shrike-fiend",player3:"normal",player4:"normal"}]}]},{index:"909",group:"randomMonsterCard",name:"Segmented",edition:"fh",named:!0,monsters:["burrowing-blade","spitting-drake"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"burrowing-blade",type:"normal"},{name:"burrowing-blade",player2:"normal",player3:"normal",player4:"elite"},{name:"burrowing-blade",player3:"normal",player4:"normal"},{name:"spitting-drake",player2:"normal",player3:"normal",player4:"elite"},{name:"spitting-drake",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"910",group:"randomMonsterCard",name:"Dirty",edition:"fh",named:!0,monsters:["earth-demon","forest-imp","ooze"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"earth",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"earth-demon",type:"normal"},{name:"earth-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"earth-demon",player4:"normal"},{name:"forest-imp",type:"normal"},{name:"forest-imp",player3:"normal",player4:"normal"},{name:"ooze",player2:"normal",player3:"normal",player4:"elite"},{name:"ooze",player2:"normal",player3:"elite",player4:"elite"}]}]},{index:"911",group:"randomMonsterCard",name:"Grave",edition:"fh",named:!0,monsters:["deep-terror","ice-wraith","night-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"dark",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"deep-terror",type:"normal"},{name:"deep-terror",player4:"normal"},{name:"ice-wraith",type:"normal"},{name:"ice-wraith",player4:"elite"},{name:"night-demon",type:"normal"},{name:"night-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"night-demon",player3:"normal",player4:"normal"}]}]},{index:"912",group:"randomMonsterCard",name:"Luminous",edition:"fh",named:!0,monsters:["lurker-wavethrower","sun-demo"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"light",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"lurker-wavethrower",type:"elite"},{name:"lurker-wavethrower",player2:"normal",player3:"normal",player4:"elite"},{name:"lurker-wavethrower",player4:"elite"},{name:"sun-demon",type:"normal"},{name:"sun-demon",player2:"normal",player3:"elite",player4:"elite"},{name:"sun-demon",player3:"normal",player4:"normal"}]}]},{index:"913",group:"randomMonsterCard",name:"Scorching",edition:"fh",named:!0,monsters:["flame-demon","flaming-bladespinner"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"fire",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"flame-demon",player2:"normal",player3:"elite",player4:"normal"},{name:"flame-demon",player3:"normal",player4:"normal"},{name:"flaming-bladespinner",type:"normal"},{name:"flaming-bladespinner",player2:"normal",player3:"normal",player4:"elite"},{name:"flaming-bladespinner",player4:"normal"}]}]},{index:"914",group:"randomMonsterCard",name:"Swift",edition:"fh",named:!0,monsters:["algox-scout","wind-demon"],rules:[{round:"true",always:!0,once:!0,elements:[{type:"air",state:"new"}]}],rooms:[{roomNumber:1,initial:!0,treasures:[],monster:[{name:"algox-scout",type:"elite"},{name:"algox-scout",player3:"normal",player4:"elite"},{name:"wind-demon",type:"normal"},{name:"wind-demon",player2:"normal",player3:"normal",player4:"elite"},{name:"wind-demon",player3:"normal",player4:"normal"}]}]}],characters:[{name:"astral",traits:["arcane","educated","strong"],color:"#6fb54e",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"banner-spear",traits:["armored","persuasive","resourceful"],color:"#edbc47",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"blinkblade",traits:["educated","nimble","resourceful"],color:"#01b0db",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"boneshaper",traits:["arcane","educated","intimidating"],color:"#49a967",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"coral",traits:["armored","chaotic","strong"],color:"#4c988b",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"deathwalker",traits:["arcane","outcast","persuasive"],color:"#8c97a9",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]},{name:"drifter",traits:["outcast","resourceful","strong"],color:"#a28b7c",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"drill",traits:["armored","resourceful","strong"],color:"#ad8f68",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"fist",traits:["intimidating","persuasive","strong"],color:"#88abc6",stats:[{level:1,health:10},{level:2,health:12},{level:3,health:14},{level:4,health:16},{level:5,health:18},{level:6,health:20},{level:7,health:22},{level:8,health:24},{level:9,health:26}]},{name:"geminate",traits:["arcane","chaotic","nimble"],color:"#c33e69",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"kelp",color:"#987bab",traits:["armored","intimidating","nimble"],stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"meteor",traits:["arcane","chaotic","intimidating"],color:"#eb5b38",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"prism",traits:["armored","educated","resourceful"],color:"#d7ad47",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shackles",traits:["chaotic","intimidating","outcast"],color:"#7476a7",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"shards",traits:["educated","outcast","persuasive"],color:"#c0d7e9",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"snowflake",traits:["chaotic","nimble","persuasive"],color:"#83b5be",stats:[{level:1,health:8},{level:2,health:9},{level:3,health:11},{level:4,health:12},{level:5,health:14},{level:6,health:15},{level:7,health:17},{level:8,health:18},{level:9,health:20}]},{name:"trap",traits:["nimble","outcast","resourceful"],color:"#ddb586",stats:[{level:1,health:6},{level:2,health:7},{level:3,health:8},{level:4,health:9},{level:5,health:10},{level:6,health:11},{level:7,health:12},{level:8,health:13},{level:9,health:14}]}]}}static \u0275fac=function(Z){return new(Z||G)};static \u0275prov=k.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},467:(st,ke,H)=>{"use strict";function k(G,R,me,Z,q,se,we){try{var de=G[se](we),ne=de.value}catch(he){return void me(he)}de.done?R(ne):Promise.resolve(ne).then(Z,q)}function i(G){return function(){var R=this,me=arguments;return new Promise(function(Z,q){var se=G.apply(R,me);function we(ne){k(se,Z,q,we,de,"next",ne)}function de(ne){k(se,Z,q,we,de,"throw",ne)}we(void 0)})}}H.d(ke,{A:()=>i})},591:(st,ke,H)=>{"use strict";function k(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(ke,{L:()=>k})},1026:(st,ke,H)=>{"use strict";H.d(ke,{$:()=>k});const k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(st,ke,H)=>{"use strict";H.d(ke,{F:()=>i,m:()=>G});var k=H(3669);function i(...R){return G(R)}function G(R){return 0===R.length?k.D:1===R.length?R[0]:function(Z){return R.reduce((q,se)=>se(q),Z)}}},1397:(st,ke,H)=>{"use strict";H.d(ke,{Z:()=>se});var k=H(6354),i=H(8750),G=H(9974),R=H(5225),me=H(4360),q=H(8071);function se(we,de,ne=1/0){return(0,q.T)(de)?se((he,ye)=>(0,k.T)((fe,Me)=>de(he,fe,ye,Me))((0,i.Tg)(we(he,ye))),ne):("number"==typeof de&&(ne=de),(0,G.N)((he,ye)=>function Z(we,de,ne,he,ye,fe,Me,Ye){const Re=[];let Ke=0,rt=0,pt=!1;const pe=()=>{pt&&!Re.length&&!Ke&&de.complete()},Pe=Ge=>Ke<he?Ee(Ge):Re.push(Ge),Ee=Ge=>{fe&&de.next(Ge),Ke++;let $e=!1;(0,i.Tg)(ne(Ge,rt++)).subscribe((0,me._)(de,nt=>{ye?.(nt),fe?Pe(nt):de.next(nt)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ke--;Re.length&&Ke<he;){const nt=Re.shift();Me?(0,R.N)(de,Me,()=>Ee(nt)):Ee(nt)}pe()}catch(nt){de.error(nt)}}))};return we.subscribe((0,me._)(de,Pe,()=>{pt=!0,pe()})),()=>{Ye?.()}}(he,ye,we,ne)))}},1413:(st,ke,H)=>{"use strict";H.d(ke,{B:()=>q});var k=H(1985),i=H(8359);const R=(0,H(1853).L)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=H(7908),Z=H(9786);let q=(()=>{class we extends k.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const he=new se(this,this);return he.operator=ne,he}_throwIfClosed(){if(this.closed)throw new R}next(ne){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ne)}})}error(ne){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:he}=this;for(;he.length;)he.shift().error(ne)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:he,isStopped:ye,observers:fe}=this;return he||ye?i.Kn:(this.currentObservers=null,fe.push(ne),new i.yU(()=>{this.currentObservers=null,(0,me.o)(fe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:he,thrownError:ye,isStopped:fe}=this;he?ne.error(ye):fe&&ne.complete()}asObservable(){const ne=new k.c;return ne.source=this,ne}}return we.create=(de,ne)=>new se(de,ne),we})();class se extends q{constructor(de,ne){super(),this.destination=de,this.source=ne}next(de){var ne,he;null===(he=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===he||he.call(ne,de)}error(de){var ne,he;null===(he=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===he||he.call(ne,de)}complete(){var de,ne;null===(ne=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ne||ne.call(de)}_subscribe(de){var ne,he;return null!==(he=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(de))&&void 0!==he?he:i.Kn}}},1635:(st,ke,H)=>{"use strict";H.r(ke),H.d(ke,{__addDisposableResource:()=>Ln,__assign:()=>G,__asyncDelegator:()=>Ee,__asyncGenerator:()=>Pe,__asyncValues:()=>Ge,__await:()=>pe,__awaiter:()=>he,__classPrivateFieldGet:()=>zt,__classPrivateFieldIn:()=>un,__classPrivateFieldSet:()=>Gt,__createBinding:()=>fe,__decorate:()=>me,__disposeResources:()=>Tr,__esDecorate:()=>q,__exportStar:()=>Me,__extends:()=>i,__generator:()=>ye,__importDefault:()=>tn,__importStar:()=>Et,__makeTemplateObject:()=>$e,__metadata:()=>ne,__param:()=>Z,__propKey:()=>we,__read:()=>Re,__rest:()=>R,__rewriteRelativeImportExtension:()=>hn,__runInitializers:()=>se,__setFunctionName:()=>de,__spread:()=>Ke,__spreadArray:()=>pt,__spreadArrays:()=>rt,__values:()=>Ye,default:()=>Se});var k=function(ee,ce){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,ve){ue.__proto__=ve}||function(ue,ve){for(var Ue in ve)Object.prototype.hasOwnProperty.call(ve,Ue)&&(ue[Ue]=ve[Ue])})(ee,ce)};function i(ee,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function ue(){this.constructor=ee}k(ee,ce),ee.prototype=null===ce?Object.create(ce):(ue.prototype=ce.prototype,new ue)}var G=function(){return G=Object.assign||function(ce){for(var ue,ve=1,Ue=arguments.length;ve<Ue;ve++)for(var xe in ue=arguments[ve])Object.prototype.hasOwnProperty.call(ue,xe)&&(ce[xe]=ue[xe]);return ce},G.apply(this,arguments)};function R(ee,ce){var ue={};for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&ce.indexOf(ve)<0&&(ue[ve]=ee[ve]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ve=Object.getOwnPropertySymbols(ee);Ue<ve.length;Ue++)ce.indexOf(ve[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ee,ve[Ue])&&(ue[ve[Ue]]=ee[ve[Ue]])}return ue}function me(ee,ce,ue,ve){var Ve,Ue=arguments.length,xe=Ue<3?ce:null===ve?ve=Object.getOwnPropertyDescriptor(ce,ue):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(ee,ce,ue,ve);else for(var ct=ee.length-1;ct>=0;ct--)(Ve=ee[ct])&&(xe=(Ue<3?Ve(xe):Ue>3?Ve(ce,ue,xe):Ve(ce,ue))||xe);return Ue>3&&xe&&Object.defineProperty(ce,ue,xe),xe}function Z(ee,ce){return function(ue,ve){ce(ue,ve,ee)}}function q(ee,ce,ue,ve,Ue,xe){function Ve(Kt){if(void 0!==Kt&&"function"!=typeof Kt)throw new TypeError("Function expected");return Kt}for(var _e,ct=ve.kind,Xt="getter"===ct?"get":"setter"===ct?"set":"value",mt=!ce&&ee?ve.static?ee:ee.prototype:null,Lt=ce||(mt?Object.getOwnPropertyDescriptor(mt,ve.name):{}),je=!1,We=ue.length-1;We>=0;We--){var kt={};for(var et in ve)kt[et]="access"===et?{}:ve[et];for(var et in ve.access)kt.access[et]=ve.access[et];kt.addInitializer=function(Kt){if(je)throw new TypeError("Cannot add initializers after decoration has completed");xe.push(Ve(Kt||null))};var Zt=(0,ue[We])("accessor"===ct?{get:Lt.get,set:Lt.set}:Lt[Xt],kt);if("accessor"===ct){if(void 0===Zt)continue;if(null===Zt||"object"!=typeof Zt)throw new TypeError("Object expected");(_e=Ve(Zt.get))&&(Lt.get=_e),(_e=Ve(Zt.set))&&(Lt.set=_e),(_e=Ve(Zt.init))&&Ue.unshift(_e)}else(_e=Ve(Zt))&&("field"===ct?Ue.unshift(_e):Lt[Xt]=_e)}mt&&Object.defineProperty(mt,ve.name,Lt),je=!0}function se(ee,ce,ue){for(var ve=arguments.length>2,Ue=0;Ue<ce.length;Ue++)ue=ve?ce[Ue].call(ee,ue):ce[Ue].call(ee);return ve?ue:void 0}function we(ee){return"symbol"==typeof ee?ee:"".concat(ee)}function de(ee,ce,ue){return"symbol"==typeof ce&&(ce=ce.description?"[".concat(ce.description,"]"):""),Object.defineProperty(ee,"name",{configurable:!0,value:ue?"".concat(ue," ",ce):ce})}function ne(ee,ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ee,ce)}function he(ee,ce,ue,ve){return new(ue||(ue=Promise))(function(xe,Ve){function ct(Lt){try{mt(ve.next(Lt))}catch(_e){Ve(_e)}}function Xt(Lt){try{mt(ve.throw(Lt))}catch(_e){Ve(_e)}}function mt(Lt){Lt.done?xe(Lt.value):function Ue(xe){return xe instanceof ue?xe:new ue(function(Ve){Ve(xe)})}(Lt.value).then(ct,Xt)}mt((ve=ve.apply(ee,ce||[])).next())})}function ye(ee,ce){var ve,Ue,xe,ue={label:0,sent:function(){if(1&xe[0])throw xe[1];return xe[1]},trys:[],ops:[]},Ve=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Ve.next=ct(0),Ve.throw=ct(1),Ve.return=ct(2),"function"==typeof Symbol&&(Ve[Symbol.iterator]=function(){return this}),Ve;function ct(mt){return function(Lt){return function Xt(mt){if(ve)throw new TypeError("Generator is already executing.");for(;Ve&&(Ve=0,mt[0]&&(ue=0)),ue;)try{if(ve=1,Ue&&(xe=2&mt[0]?Ue.return:mt[0]?Ue.throw||((xe=Ue.return)&&xe.call(Ue),0):Ue.next)&&!(xe=xe.call(Ue,mt[1])).done)return xe;switch(Ue=0,xe&&(mt=[2&mt[0],xe.value]),mt[0]){case 0:case 1:xe=mt;break;case 4:return ue.label++,{value:mt[1],done:!1};case 5:ue.label++,Ue=mt[1],mt=[0];continue;case 7:mt=ue.ops.pop(),ue.trys.pop();continue;default:if(!(xe=(xe=ue.trys).length>0&&xe[xe.length-1])&&(6===mt[0]||2===mt[0])){ue=0;continue}if(3===mt[0]&&(!xe||mt[1]>xe[0]&&mt[1]<xe[3])){ue.label=mt[1];break}if(6===mt[0]&&ue.label<xe[1]){ue.label=xe[1],xe=mt;break}if(xe&&ue.label<xe[2]){ue.label=xe[2],ue.ops.push(mt);break}xe[2]&&ue.ops.pop(),ue.trys.pop();continue}mt=ce.call(ee,ue)}catch(Lt){mt=[6,Lt],Ue=0}finally{ve=xe=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([mt,Lt])}}}var fe=Object.create?function(ee,ce,ue,ve){void 0===ve&&(ve=ue);var Ue=Object.getOwnPropertyDescriptor(ce,ue);(!Ue||("get"in Ue?!ce.__esModule:Ue.writable||Ue.configurable))&&(Ue={enumerable:!0,get:function(){return ce[ue]}}),Object.defineProperty(ee,ve,Ue)}:function(ee,ce,ue,ve){void 0===ve&&(ve=ue),ee[ve]=ce[ue]};function Me(ee,ce){for(var ue in ee)"default"!==ue&&!Object.prototype.hasOwnProperty.call(ce,ue)&&fe(ce,ee,ue)}function Ye(ee){var ce="function"==typeof Symbol&&Symbol.iterator,ue=ce&&ee[ce],ve=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ve>=ee.length&&(ee=void 0),{value:ee&&ee[ve++],done:!ee}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(ee,ce){var ue="function"==typeof Symbol&&ee[Symbol.iterator];if(!ue)return ee;var Ue,Ve,ve=ue.call(ee),xe=[];try{for(;(void 0===ce||ce-- >0)&&!(Ue=ve.next()).done;)xe.push(Ue.value)}catch(ct){Ve={error:ct}}finally{try{Ue&&!Ue.done&&(ue=ve.return)&&ue.call(ve)}finally{if(Ve)throw Ve.error}}return xe}function Ke(){for(var ee=[],ce=0;ce<arguments.length;ce++)ee=ee.concat(Re(arguments[ce]));return ee}function rt(){for(var ee=0,ce=0,ue=arguments.length;ce<ue;ce++)ee+=arguments[ce].length;var ve=Array(ee),Ue=0;for(ce=0;ce<ue;ce++)for(var xe=arguments[ce],Ve=0,ct=xe.length;Ve<ct;Ve++,Ue++)ve[Ue]=xe[Ve];return ve}function pt(ee,ce,ue){if(ue||2===arguments.length)for(var xe,ve=0,Ue=ce.length;ve<Ue;ve++)(xe||!(ve in ce))&&(xe||(xe=Array.prototype.slice.call(ce,0,ve)),xe[ve]=ce[ve]);return ee.concat(xe||Array.prototype.slice.call(ce))}function pe(ee){return this instanceof pe?(this.v=ee,this):new pe(ee)}function Pe(ee,ce,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ve=ue.apply(ee,ce||[]),xe=[];return Ue=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ct("next"),ct("throw"),ct("return",function Ve(We){return function(kt){return Promise.resolve(kt).then(We,_e)}}),Ue[Symbol.asyncIterator]=function(){return this},Ue;function ct(We,kt){ve[We]&&(Ue[We]=function(et){return new Promise(function(Zt,Kt){xe.push([We,et,Zt,Kt])>1||Xt(We,et)})},kt&&(Ue[We]=kt(Ue[We])))}function Xt(We,kt){try{!function mt(We){We.value instanceof pe?Promise.resolve(We.value.v).then(Lt,_e):je(xe[0][2],We)}(ve[We](kt))}catch(et){je(xe[0][3],et)}}function Lt(We){Xt("next",We)}function _e(We){Xt("throw",We)}function je(We,kt){We(kt),xe.shift(),xe.length&&Xt(xe[0][0],xe[0][1])}}function Ee(ee){var ce,ue;return ce={},ve("next"),ve("throw",function(Ue){throw Ue}),ve("return"),ce[Symbol.iterator]=function(){return this},ce;function ve(Ue,xe){ce[Ue]=ee[Ue]?function(Ve){return(ue=!ue)?{value:pe(ee[Ue](Ve)),done:!1}:xe?xe(Ve):Ve}:xe}}function Ge(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ce=ee[Symbol.asyncIterator];return ce?ce.call(ee):(ee=Ye(ee),ue={},ve("next"),ve("throw"),ve("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ve(xe){ue[xe]=ee[xe]&&function(Ve){return new Promise(function(ct,Xt){!function Ue(xe,Ve,ct,Xt){Promise.resolve(Xt).then(function(mt){xe({value:mt,done:ct})},Ve)}(ct,Xt,(Ve=ee[xe](Ve)).done,Ve.value)})}}}function $e(ee,ce){return Object.defineProperty?Object.defineProperty(ee,"raw",{value:ce}):ee.raw=ce,ee}var nt=Object.create?function(ee,ce){Object.defineProperty(ee,"default",{enumerable:!0,value:ce})}:function(ee,ce){ee.default=ce},Rt=function(ee){return(Rt=Object.getOwnPropertyNames||function(ce){var ue=[];for(var ve in ce)Object.prototype.hasOwnProperty.call(ce,ve)&&(ue[ue.length]=ve);return ue})(ee)};function Et(ee){if(ee&&ee.__esModule)return ee;var ce={};if(null!=ee)for(var ue=Rt(ee),ve=0;ve<ue.length;ve++)"default"!==ue[ve]&&fe(ce,ee,ue[ve]);return nt(ce,ee),ce}function tn(ee){return ee&&ee.__esModule?ee:{default:ee}}function zt(ee,ce,ue,ve){if("a"===ue&&!ve)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ce?ee!==ce||!ve:!ce.has(ee))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ue?ve:"a"===ue?ve.call(ee):ve?ve.value:ce.get(ee)}function Gt(ee,ce,ue,ve,Ue){if("m"===ve)throw new TypeError("Private method is not writable");if("a"===ve&&!Ue)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ce?ee!==ce||!Ue:!ce.has(ee))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ve?Ue.call(ee,ue):Ue?Ue.value=ue:ce.set(ee,ue),ue}function un(ee,ce){if(null===ce||"object"!=typeof ce&&"function"!=typeof ce)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof ee?ce===ee:ee.has(ce)}function Ln(ee,ce,ue){if(null!=ce){if("object"!=typeof ce&&"function"!=typeof ce)throw new TypeError("Object expected.");var ve,Ue;if(ue){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");ve=ce[Symbol.asyncDispose]}if(void 0===ve){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");ve=ce[Symbol.dispose],ue&&(Ue=ve)}if("function"!=typeof ve)throw new TypeError("Object not disposable.");Ue&&(ve=function(){try{Ue.call(this)}catch(xe){return Promise.reject(xe)}}),ee.stack.push({value:ce,dispose:ve,async:ue})}else ue&&ee.stack.push({async:!0});return ce}var rn="function"==typeof SuppressedError?SuppressedError:function(ee,ce,ue){var ve=new Error(ue);return ve.name="SuppressedError",ve.error=ee,ve.suppressed=ce,ve};function Tr(ee){function ce(xe){ee.error=ee.hasError?new rn(xe,ee.error,"An error was suppressed during disposal."):xe,ee.hasError=!0}var ue,ve=0;return function Ue(){for(;ue=ee.stack.pop();)try{if(!ue.async&&1===ve)return ve=0,ee.stack.push(ue),Promise.resolve().then(Ue);if(ue.dispose){var xe=ue.dispose.call(ue.value);if(ue.async)return ve|=2,Promise.resolve(xe).then(Ue,function(Ve){return ce(Ve),Ue()})}else ve|=1}catch(Ve){ce(Ve)}if(1===ve)return ee.hasError?Promise.reject(ee.error):Promise.resolve();if(ee.hasError)throw ee.error}()}function hn(ee,ce){return"string"==typeof ee&&/^\.\.?\//.test(ee)?ee.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(ue,ve,Ue,xe,Ve){return ve?ce?".jsx":".js":!Ue||xe&&Ve?Ue+xe+"."+Ve.toLowerCase()+"js":ue}):ee}const Se={__extends:i,__assign:G,__rest:R,__decorate:me,__param:Z,__esDecorate:q,__runInitializers:se,__propKey:we,__setFunctionName:de,__metadata:ne,__awaiter:he,__generator:ye,__createBinding:fe,__exportStar:Me,__values:Ye,__read:Re,__spread:Ke,__spreadArrays:rt,__spreadArray:pt,__await:pe,__asyncGenerator:Pe,__asyncDelegator:Ee,__asyncValues:Ge,__makeTemplateObject:$e,__importStar:Et,__importDefault:tn,__classPrivateFieldGet:zt,__classPrivateFieldSet:Gt,__classPrivateFieldIn:un,__addDisposableResource:Ln,__disposeResources:Tr,__rewriteRelativeImportExtension:hn}},1853:(st,ke,H)=>{"use strict";function k(i){const R=i(me=>{Error.call(me),me.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}H.d(ke,{L:()=>k})},1985:(st,ke,H)=>{"use strict";H.d(ke,{c:()=>se});var k=H(7707),i=H(8359),G=H(3494),R=H(1203),me=H(1026),Z=H(8071),q=H(9786);let se=(()=>{class he{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const Me=new he;return Me.source=this,Me.operator=fe,Me}subscribe(fe,Me,Ye){const Re=function ne(he){return he&&he instanceof k.vU||function de(he){return he&&(0,Z.T)(he.next)&&(0,Z.T)(he.error)&&(0,Z.T)(he.complete)}(he)&&(0,i.Uv)(he)}(fe)?fe:new k.Ms(fe,Me,Ye);return(0,q.Y)(()=>{const{operator:Ke,source:rt}=this;Re.add(Ke?Ke.call(Re,rt):rt?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(fe){try{return this._subscribe(fe)}catch(Me){fe.error(Me)}}forEach(fe,Me){return new(Me=we(Me))((Ye,Re)=>{const Ke=new k.Ms({next:rt=>{try{fe(rt)}catch(pt){Re(pt),Ke.unsubscribe()}},error:Re,complete:Ye});this.subscribe(Ke)})}_subscribe(fe){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(fe)}[G.s](){return this}pipe(...fe){return(0,R.m)(fe)(this)}toPromise(fe){return new(fe=we(fe))((Me,Ye)=>{let Re;this.subscribe(Ke=>Re=Ke,Ke=>Ye(Ke),()=>Me(Re))})}}return he.create=ye=>new he(ye),he})();function we(he){var ye;return null!==(ye=he??me.$.Promise)&&void 0!==ye?ye:Promise}},2200:(st,ke,H)=>{"use strict";H.d(ke,{Jj:()=>vr,MD:()=>Jo,Sq:()=>zn,YU:()=>Ir,bT:()=>xo,fw:()=>Z,vh:()=>Oo});var k=H(2615),i=H(3664),G=H(7705),R=H(9295),me=H(7303);let Z=(()=>{class M extends me.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(j,B){super(),this._platformLocation=j,null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(j){const B=(0,me.om)(this._baseHref,j);return B.length>0?"#"+B:B}pushState(j,B,le,Fe){const ze=this.prepareExternalUrl(le+(0,me.Q)(Fe))||this._platformLocation.pathname;this._platformLocation.pushState(j,B,ze)}replaceState(j,B,le,Fe){const ze=this.prepareExternalUrl(le+(0,me.Q)(Fe))||this._platformLocation.pathname;this._platformLocation.replaceState(j,B,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static \u0275fac=function(B){return new(B||M)(k.KVO(me.Vw),k.KVO(me.kB,8))};static \u0275prov=k.jDH({token:M,factory:M.\u0275fac})}return M})();var de=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(de||{}),ne=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ne||{}),he=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(he||{});function Pe(M,Y){return hn((0,i.kBR)(M)[i.NSC.DateFormat],Y)}function Ee(M,Y){return hn((0,i.kBR)(M)[i.NSC.TimeFormat],Y)}function Ge(M,Y){return hn((0,i.kBR)(M)[i.NSC.DateTimeFormat],Y)}function $e(M,Y){const j=(0,i.kBR)(M),B=j[i.NSC.NumberSymbols][Y];if(typeof B>"u"){if(12===Y)return j[i.NSC.NumberSymbols][0];if(13===Y)return j[i.NSC.NumberSymbols][1]}return B}function un(M){if(!M[i.NSC.ExtraData])throw new k.buA(2303,!1)}function hn(M,Y){for(let j=Y;j>-1;j--)if(typeof M[j]<"u")return M[j];throw new k.buA(2304,!1)}function Se(M){const[Y,j]=M.split(":");return{hours:+Y,minutes:+j}}const ve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ue={},xe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ve(M,Y,j,B){let le=function Ho(M){if(sr(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[le,Fe=1,ze=1]=M.split("-").map(tt=>+tt);return Xt(le,Fe-1,ze)}const j=parseFloat(M);if(!isNaN(M-j))return new Date(j);let B;if(B=M.match(ve))return function Ur(M){const Y=new Date(0);let j=0,B=0;const le=M[8]?Y.setUTCFullYear:Y.setFullYear,Fe=M[8]?Y.setUTCHours:Y.setHours;M[9]&&(j=Number(M[9]+M[10]),B=Number(M[9]+M[11])),le.call(Y,Number(M[1]),Number(M[2])-1,Number(M[3]));const ze=Number(M[4]||0)-j,tt=Number(M[5]||0)-B,Ut=Number(M[6]||0),qt=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Fe.call(Y,ze,tt,Ut,qt),Y}(B)}const Y=new Date(M);if(!sr(Y))throw new k.buA(2311,!1);return Y}(M);Y=mt(j,Y)||Y;let tt,ze=[];for(;Y;){if(tt=xe.exec(Y),!tt){ze.push(Y);break}{ze=ze.concat(tt.slice(1));const Ht=ze.pop();if(!Ht)break;Y=Ht}}let Ut=le.getTimezoneOffset();B&&(Ut=yr(B,Ut),le=function Hn(M,Y){const le=M.getTimezoneOffset();return function eo(M,Y){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+Y),M}(M,-1*(yr(Y,le)-le))}(le,B));let qt="";return ze.forEach(Ht=>{const jt=function an(M){if(fr[M])return fr[M];let Y;switch(M){case"G":case"GG":case"GGG":Y=et(3,ne.Abbreviated);break;case"GGGG":Y=et(3,ne.Wide);break;case"GGGGG":Y=et(3,ne.Narrow);break;case"y":Y=We(0,1,0,!1,!0);break;case"yy":Y=We(0,2,0,!0,!0);break;case"yyy":Y=We(0,3,0,!1,!0);break;case"yyyy":Y=We(0,4,0,!1,!0);break;case"Y":Y=Ao(1);break;case"YY":Y=Ao(2,!0);break;case"YYY":Y=Ao(3);break;case"YYYY":Y=Ao(4);break;case"M":case"L":Y=We(1,1,1);break;case"MM":case"LL":Y=We(1,2,1);break;case"MMM":Y=et(2,ne.Abbreviated);break;case"MMMM":Y=et(2,ne.Wide);break;case"MMMMM":Y=et(2,ne.Narrow);break;case"LLL":Y=et(2,ne.Abbreviated,de.Standalone);break;case"LLLL":Y=et(2,ne.Wide,de.Standalone);break;case"LLLLL":Y=et(2,ne.Narrow,de.Standalone);break;case"w":Y=on(1);break;case"ww":Y=on(2);break;case"W":Y=on(1,!0);break;case"d":Y=We(2,1);break;case"dd":Y=We(2,2);break;case"c":case"cc":Y=We(7,1);break;case"ccc":Y=et(1,ne.Abbreviated,de.Standalone);break;case"cccc":Y=et(1,ne.Wide,de.Standalone);break;case"ccccc":Y=et(1,ne.Narrow,de.Standalone);break;case"cccccc":Y=et(1,ne.Short,de.Standalone);break;case"E":case"EE":case"EEE":Y=et(1,ne.Abbreviated);break;case"EEEE":Y=et(1,ne.Wide);break;case"EEEEE":Y=et(1,ne.Narrow);break;case"EEEEEE":Y=et(1,ne.Short);break;case"a":case"aa":case"aaa":Y=et(0,ne.Abbreviated);break;case"aaaa":Y=et(0,ne.Wide);break;case"aaaaa":Y=et(0,ne.Narrow);break;case"b":case"bb":case"bbb":Y=et(0,ne.Abbreviated,de.Standalone,!0);break;case"bbbb":Y=et(0,ne.Wide,de.Standalone,!0);break;case"bbbbb":Y=et(0,ne.Narrow,de.Standalone,!0);break;case"B":case"BB":case"BBB":Y=et(0,ne.Abbreviated,de.Format,!0);break;case"BBBB":Y=et(0,ne.Wide,de.Format,!0);break;case"BBBBB":Y=et(0,ne.Narrow,de.Format,!0);break;case"h":Y=We(3,1,-12);break;case"hh":Y=We(3,2,-12);break;case"H":Y=We(3,1);break;case"HH":Y=We(3,2);break;case"m":Y=We(4,1);break;case"mm":Y=We(4,2);break;case"s":Y=We(5,1);break;case"ss":Y=We(5,2);break;case"S":Y=We(6,1);break;case"SS":Y=We(6,2);break;case"SSS":Y=We(6,3);break;case"Z":case"ZZ":case"ZZZ":Y=Kt(0);break;case"ZZZZZ":Y=Kt(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=Kt(1);break;case"OOOO":case"ZZZZ":case"zzzz":Y=Kt(2);break;default:return null}return fr[M]=Y,Y}(Ht);qt+=jt?jt(le,j,Ut):"''"===Ht?"'":Ht.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qt}function Xt(M,Y,j){const B=new Date(0);return B.setFullYear(M,Y,j),B.setHours(0,0,0),B}function mt(M,Y){const j=function Me(M){return(0,i.kBR)(M)[i.NSC.LocaleId]}(M);if(Ue[j]??={},Ue[j][Y])return Ue[j][Y];let B="";switch(Y){case"shortDate":B=Pe(M,he.Short);break;case"mediumDate":B=Pe(M,he.Medium);break;case"longDate":B=Pe(M,he.Long);break;case"fullDate":B=Pe(M,he.Full);break;case"shortTime":B=Ee(M,he.Short);break;case"mediumTime":B=Ee(M,he.Medium);break;case"longTime":B=Ee(M,he.Long);break;case"fullTime":B=Ee(M,he.Full);break;case"short":const le=mt(M,"shortTime"),Fe=mt(M,"shortDate");B=Lt(Ge(M,he.Short),[le,Fe]);break;case"medium":const ze=mt(M,"mediumTime"),tt=mt(M,"mediumDate");B=Lt(Ge(M,he.Medium),[ze,tt]);break;case"long":const Ut=mt(M,"longTime"),qt=mt(M,"longDate");B=Lt(Ge(M,he.Long),[Ut,qt]);break;case"full":const Ht=mt(M,"fullTime"),jt=mt(M,"fullDate");B=Lt(Ge(M,he.Full),[Ht,jt])}return B&&(Ue[j][Y]=B),B}function Lt(M,Y){return Y&&(M=M.replace(/\{([^}]+)}/g,function(j,B){return null!=Y&&B in Y?Y[B]:j})),M}function _e(M,Y,j="-",B,le){let Fe="";(M<0||le&&M<=0)&&(le?M=1-M:(M=-M,Fe=j));let ze=String(M);for(;ze.length<Y;)ze="0"+ze;return B&&(ze=ze.slice(ze.length-Y)),Fe+ze}function We(M,Y,j=0,B=!1,le=!1){return function(Fe,ze){let tt=function kt(M,Y){switch(M){case 0:return Y.getFullYear();case 1:return Y.getMonth();case 2:return Y.getDate();case 3:return Y.getHours();case 4:return Y.getMinutes();case 5:return Y.getSeconds();case 6:return Y.getMilliseconds();case 7:return Y.getDay();default:throw new k.buA(2301,!1)}}(M,Fe);if((j>0||tt>-j)&&(tt+=j),3===M)0===tt&&-12===j&&(tt=12);else if(6===M)return function je(M,Y){return _e(M,3).substring(0,Y)}(tt,Y);const Ut=$e(ze,5);return _e(tt,Y,Ut,B,le)}}function et(M,Y,j=de.Format,B=!1){return function(le,Fe){return function Zt(M,Y,j,B,le,Fe){switch(j){case 2:return function Ke(M,Y,j){const B=(0,i.kBR)(M),Fe=hn([B[i.NSC.MonthsFormat],B[i.NSC.MonthsStandalone]],Y);return hn(Fe,j)}(Y,le,B)[M.getMonth()];case 1:return function Re(M,Y,j){const B=(0,i.kBR)(M),Fe=hn([B[i.NSC.DaysFormat],B[i.NSC.DaysStandalone]],Y);return hn(Fe,j)}(Y,le,B)[M.getDay()];case 0:const ze=M.getHours(),tt=M.getMinutes();if(Fe){const qt=function Ln(M){const Y=(0,i.kBR)(M);return un(Y),(Y[i.NSC.ExtraData][2]||[]).map(B=>"string"==typeof B?Se(B):[Se(B[0]),Se(B[1])])}(Y),Ht=function rn(M,Y,j){const B=(0,i.kBR)(M);un(B);const Fe=hn([B[i.NSC.ExtraData][0],B[i.NSC.ExtraData][1]],Y)||[];return hn(Fe,j)||[]}(Y,le,B),jt=qt.findIndex(_n=>{if(Array.isArray(_n)){const[nn,bn]=_n,Wr=ze>=nn.hours&&tt>=nn.minutes,zr=ze<bn.hours||ze===bn.hours&&tt<bn.minutes;if(nn.hours<bn.hours){if(Wr&&zr)return!0}else if(Wr||zr)return!0}else if(_n.hours===ze&&_n.minutes===tt)return!0;return!1});if(-1!==jt)return Ht[jt]}return function Ye(M,Y,j){const B=(0,i.kBR)(M),Fe=hn([B[i.NSC.DayPeriodsFormat],B[i.NSC.DayPeriodsStandalone]],Y);return hn(Fe,j)}(Y,le,B)[ze<12?0:1];case 3:return function rt(M,Y){return hn((0,i.kBR)(M)[i.NSC.Eras],Y)}(Y,B)[M.getFullYear()<=0?0:1];default:throw new k.buA(2302,!1)}}(le,Fe,M,Y,j,B)}}function Kt(M){return function(Y,j,B){const le=-1*B,Fe=$e(j,5),ze=le>0?Math.floor(le/60):Math.ceil(le/60);switch(M){case 0:return(le>=0?"+":"")+_e(ze,2,Fe)+_e(Math.abs(le%60),2,Fe);case 1:return"GMT"+(le>=0?"+":"")+_e(ze,1,Fe);case 2:return"GMT"+(le>=0?"+":"")+_e(ze,2,Fe)+":"+_e(Math.abs(le%60),2,Fe);case 3:return 0===B?"Z":(le>=0?"+":"")+_e(ze,2,Fe)+":"+_e(Math.abs(le%60),2,Fe);default:throw new k.buA(2310,!1)}}}const Jr=0,ir=4;function Tn(M){const Y=M.getDay(),j=0===Y?-3:ir-Y;return Xt(M.getFullYear(),M.getMonth(),M.getDate()+j)}function on(M,Y=!1){return function(j,B){let le;if(Y){const Fe=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,ze=j.getDate();le=1+Math.floor((ze+Fe)/7)}else{const Fe=Tn(j),ze=function Zr(M){const Y=Xt(M,Jr,1).getDay();return Xt(M,0,1+(Y<=ir?ir:ir+7)-Y)}(Fe.getFullYear()),tt=Fe.getTime()-ze.getTime();le=1+Math.round(tt/6048e5)}return _e(le,M,$e(B,5))}}function Ao(M,Y=!1){return function(j,B){return _e(Tn(j).getFullYear(),M,$e(B,5),Y)}}const fr={};function yr(M,Y){M=M.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(j)?Y:j}function sr(M){return M instanceof Date&&!isNaN(M.valueOf())}const xr=/\s+/,Fn=[];let Ir=(()=>{class M{_ngEl;_renderer;initialClasses=Fn;rawClass;stateMap=new Map;constructor(j,B){this._ngEl=j,this._renderer=B}set klass(j){this.initialClasses=null!=j?j.trim().split(xr):Fn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(xr):j}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const B of j)this._updateState(B,!0);else if(null!=j)for(const B of Object.keys(j))this._updateState(B,!!j[B]);this._applyStateDiff()}_updateState(j,B){const le=this.stateMap.get(j);void 0!==le?(le.enabled!==B&&(le.changed=!0,le.enabled=B),le.touched=!0):this.stateMap.set(j,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const B=j[0],le=j[1];le.changed?(this._toggleClass(B,le.enabled),le.changed=!1):le.touched||(le.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),le.touched=!1}}_toggleClass(j,B){(j=j.trim()).length>0&&j.split(xr).forEach(le=>{B?this._renderer.addClass(this._ngEl.nativeElement,le):this._renderer.removeClass(this._ngEl.nativeElement,le)})}static \u0275fac=function(B){return new(B||M)(i.rXU(i.aKT),i.rXU(i.sFG))};static \u0275dir=i.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return M})();class Ko{$implicit;ngForOf;index;count;constructor(Y,j,B,le){this.$implicit=Y,this.ngForOf=j,this.index=B,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zn=(()=>{class M{_viewContainer;_template;_differs;set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(j,B,le){this._viewContainer=j,this._template=B,this._differs=le}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const B=this._viewContainer;j.forEachOperation((le,Fe,ze)=>{if(null==le.previousIndex)B.createEmbeddedView(this._template,new Ko(le.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)B.remove(null===Fe?void 0:Fe);else if(null!==Fe){const tt=B.get(Fe);B.move(tt,ze),Rr(tt,le)}});for(let le=0,Fe=B.length;le<Fe;le++){const tt=B.get(le).context;tt.index=le,tt.count=Fe,tt.ngForOf=this._ngForOf}j.forEachIdentityChange(le=>{Rr(B.get(le.currentIndex),le)})}static ngTemplateContextGuard(j,B){return!0}static \u0275fac=function(B){return new(B||M)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(G._q3))};static \u0275dir=i.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return M})();function Rr(M,Y){M.context.$implicit=Y.item}let xo=(()=>{class M{_viewContainer;_context=new Io;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(j,B){this._viewContainer=j,this._thenTemplateRef=B}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Kn(j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Kn(j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(j,B){return!0}static \u0275fac=function(B){return new(B||M)(i.rXU(i.c1b),i.rXU(i.C4Q))};static \u0275dir=i.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return M})();class Io{$implicit=null;ngIf=null}function Kn(M,Y){if(M&&!M.createEmbeddedView)throw new k.buA(2020,!1)}function Qt(M,Y){return new k.buA(2100,!1)}class bo{createSubscription(Y,j,B){return(0,R.O8)(()=>Y.subscribe({next:j,error:B}))}dispose(Y){(0,R.O8)(()=>Y.unsubscribe())}}class wo{createSubscription(Y,j,B){return Y.then(le=>j?.(le),le=>B?.(le)),{unsubscribe:()=>{j=null,B=null}}}dispose(Y){Y.unsubscribe()}}const to=new wo,Gn=new bo;let vr=(()=>{class M{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=(0,k.WQX)(k.ZTf);constructor(j){this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){if(!this._obj){if(j)try{this.markForCheckOnValueUpdate=!1,this._subscribe(j)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,B=>this._updateLatestValue(j,B),B=>this.applicationErrorHandler(B))}_selectStrategy(j){if((0,i.yLl)(j))return to;if((0,i.cdK)(j))return Gn;throw Qt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,B){j===this._obj&&(this._latestValue=B,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(B){return new(B||M)(i.rXU(G.gRc,16))};static \u0275pipe=i.EJ8({name:"async",type:M,pure:!1})}return M})();const ya=new k.nKC(""),Yo=new k.nKC("");let Oo=(()=>{class M{locale;defaultTimezone;defaultOptions;constructor(j,B,le){this.locale=j,this.defaultTimezone=B,this.defaultOptions=le}transform(j,B,le,Fe){if(null==j||""===j||j!=j)return null;try{return Ve(j,B??this.defaultOptions?.dateFormat??"mediumDate",Fe||this.locale,le??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ze){throw Qt()}}static \u0275fac=function(B){return new(B||M)(i.rXU(i.xe9,16),i.rXU(ya,24),i.rXU(Yo,24))};static \u0275pipe=i.EJ8({name:"date",type:M,pure:!0})}return M})(),Jo=(()=>{class M{static \u0275fac=function(B){return new(B||M)};static \u0275mod=i.$C({type:M});static \u0275inj=k.G2t({})}return M})()},2615:(st,ke,H)=>{"use strict";let k;function i(){return k}function G(_){const P=k;return k=_,P}H.d(ke,{JEi:()=>kr,Isx:()=>xn,EJG:()=>yn,Yrj:()=>cn,VVG:()=>lt,Y20:()=>jn,SKP:()=>Dt,hk6:()=>il,eVN:()=>Jt,b5C:()=>Jn,rQE:()=>En,X5O:()=>ar,qFA:()=>bi,qQL:()=>lu,abz:()=>rl,tQN:()=>Fr,pcR:()=>Nn,oMQ:()=>Mn,Mlv:()=>qn,MZA:()=>No,M0L:()=>ft,Z63:()=>rr,VML:()=>ll,uvJ:()=>Nr,zcH:()=>Zi,Wg1:()=>Q,Yw1:()=>Dr,jgP:()=>A,tcA:()=>qe,ID:()=>Lr,YEL:()=>Bt,B9r:()=>Lo,GBX:()=>zr,ZTf:()=>oa,nKC:()=>on,zZn:()=>Rs,rJ1:()=>eu,nfM:()=>va,s6P:()=>so,K29:()=>Ce,CQl:()=>Vr,p9y:()=>da,zSs:()=>Mr,ONQ:()=>Tn,hmW:()=>zo,yAH:()=>Zr,KXn:()=>uu,oTH:()=>no,Czx:()=>Nt,f7T:()=>ie,wVl:()=>dn,GYQ:()=>kc,u5s:()=>sl,rev:()=>xi,Ds7:()=>Er,e5P:()=>Zo,Iaj:()=>Ha,GpT:()=>fn,buA:()=>Me,AQb:()=>Dc,jNX:()=>Js,eDl:()=>F,qlT:()=>Be,bm_:()=>ea,RxE:()=>ne,r4V:()=>em,ok8:()=>fe,Evm:()=>aa,Jy$:()=>Mi,laP:()=>Ke,EYC:()=>nr,ng7:()=>qo,llW:()=>Oo,gsJ:()=>Yo,GZS:()=>Uo,iYM:()=>xe,PEr:()=>Jl,z7f:()=>ct,LZP:()=>Xt,Xln:()=>rn,yzR:()=>Cs,TWe:()=>Xl,LIA:()=>Ln,GWr:()=>ue,pbo:()=>ve,bBq:()=>Qr,Af3:()=>U,zQk:()=>Ss,oZy:()=>Wi,tF7:()=>mt,ZFY:()=>_o,cP4:()=>Wa,MdC:()=>za,XvL:()=>ee,KET:()=>ta,Tkx:()=>Zl,iw4:()=>Tr,tdH:()=>al,pr_:()=>_e,IAh:()=>Se,U45:()=>zt,WrV:()=>Gt,kNT:()=>Lt,MI:()=>Xs,biv:()=>ki,ZQF:()=>hn,Cv0:()=>un,W0r:()=>Zn,R2n:()=>Ot,O8q:()=>ae,VKj:()=>$,Rom:()=>yt,z6V:()=>to,n$e:()=>Ge,hjC:()=>Qt,Pz9:()=>wc,PQT:()=>$r,VX4:()=>xr,_Z$:()=>Mo,N79:()=>Yi,xLP:()=>_r,zuh:()=>Wn,BI7:()=>yo,U7d:()=>To,uXy:()=>fo,nZS:()=>sr,ihb:()=>Cr,ID8:()=>gn,gv8:()=>es,dwj:()=>Pe,Bqz:()=>Qo,OsK:()=>Re,Rfq:()=>Rt,c$7:()=>oe,gxQ:()=>X,ckz:()=>qa,kLh:()=>pe,xUg:()=>Fo,KdJ:()=>ra,db4:()=>Ka,VPL:()=>p,MT:()=>Vt,Z9v:()=>gt,Ab:()=>Ti,w7Z:()=>vt,Mx4:()=>Ai,veI:()=>ba,HaV:()=>Jo,Agf:()=>Ia,znI:()=>ui,wGu:()=>vr,ebl:()=>ir,OAn:()=>Qa,_0$:()=>Ga,UaU:()=>nl,vaC:()=>Bn,d31:()=>Di,ZRn:()=>bc,phH:()=>Or,WbQ:()=>ro,WB9:()=>br,d_l:()=>Qi,vNG:()=>Na,oyA:()=>M,_px:()=>au,CpD:()=>Yt,XRZ:()=>Ft,klJ:()=>Ci,Fje:()=>ci,b$O:()=>He,SMZ:()=>pt,WQX:()=>ge,MzJ:()=>vo,jXY:()=>Fe,MME:()=>Wr,JlV:()=>mr,Qs1:()=>ri,srX:()=>$i,vOT:()=>Zs,YWB:()=>f,EPY:()=>D,yoD:()=>wi,P3H:()=>C,Jzi:()=>tn,rFz:()=>b,JjR:()=>Oe,M6u:()=>or,KtD:()=>Ts,muV:()=>Zt,A0l:()=>St,q$2:()=>Bo,yP_:()=>L,EFk:()=>Hi,Hps:()=>ts,UhH:()=>di,QuC:()=>Y,Y3W:()=>bn,n$r:()=>ol,K7h:()=>Xo,FRF:()=>Hr,ezK:()=>xa,m7n:()=>iu,niQ:()=>Ms,krE:()=>ru,bll:()=>ou,Hh6:()=>lo,EmA:()=>j,blu:()=>si,HAh:()=>ai,WfI:()=>ya,xbp:()=>Ie,jvu:()=>el,lQ1:()=>Os,Rc9:()=>ao,E6O:()=>Ro,DyX:()=>qi,eFE:()=>go,dMS:()=>ii,HUe:()=>Ki,nl4:()=>Et,N4e:()=>ga,XaM:()=>Wo,Kw3:()=>be,vQI:()=>Ze,RZ9:()=>Tt,GA0:()=>_t,iMd:()=>E,Pfq:()=>m,xyx:()=>Je,a2B:()=>Kn,kcM:()=>Ho,DFp:()=>an,P2g:()=>O,cBl:()=>W,ypq:()=>xs,vPA:()=>Jd,HO5:()=>Zd,M_e:()=>tu,B22:()=>li,ik5:()=>Gi,AsM:()=>Ee,PP7:()=>lr,$8:()=>Ve,$Hz:()=>ha,zAe:()=>_c,IvY:()=>oi,_gW:()=>As,F1c:()=>zi,ITl:()=>ko,brz:()=>tt,jRZ:()=>Vo,SX7:()=>Is,jDH:()=>je,G2t:()=>kt,fuf:()=>Xi,cSN:()=>Fa,KVO:()=>dr,dmw:()=>fa,joV:()=>uo,By9:()=>tl,qSk:()=>wa,Njj:()=>Si,eBV:()=>Ji});const me=Symbol("NotFound");function q(_){return _===me||"\u0275NotFound"===_?.name}Error;var se=H(8440),we=H(4412),de=H(1985);class ne{full;major;minor;patch;constructor(P){this.full=P;const K=P.split(".");this.major=K[0],this.minor=K[1],this.patch=K.slice(2).join(".")}}const fe="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Me extends Error{code;constructor(P,K){super(Re(P,K)),this.code=P}}function Re(_,P){return`${function Ye(_){return`NG0${Math.abs(_)}`}(_)}${P?": "+P:""}`}const Ke=globalThis;function pt(){return!1}function pe(_){for(let P in _)if(_[P]===pe)return P;throw Error("")}function Pe(_,P){for(const K in P)P.hasOwnProperty(K)&&!_.hasOwnProperty(K)&&(_[K]=P[K])}function Ee(_){if("string"==typeof _)return _;if(Array.isArray(_))return`[${_.map(Ee).join(", ")}]`;if(null==_)return""+_;const P=_.overriddenName||_.name;if(P)return`${P}`;const K=_.toString();if(null==K)return""+K;const De=K.indexOf("\n");return De>=0?K.slice(0,De):K}function Ge(_,P){return _?P?`${_} ${P}`:_:P||""}const nt=pe({__forward_ref__:pe});function Rt(_){return _.__forward_ref__=Rt,_.toString=function(){return Ee(this())},_}function Et(_){return tn(_)?_():_}function tn(_){return"function"==typeof _&&_.hasOwnProperty(nt)&&_.__forward_ref__===Rt}function zt(_,P){"number"!=typeof _&&Ve(P,typeof _,"number","===")}function Gt(_,P,K){zt(_,"Expected a number"),function ce(_,P,K){_<=P||Ve(K,_,P,"<=")}(_,K,"Expected number to be less than or equal to"),ve(_,P,"Expected number to be greater than or equal to")}function un(_,P){"string"!=typeof _&&Ve(P,null===_?"null":typeof _,"string","===")}function Ln(_,P){"function"!=typeof _&&Ve(P,null===_?"null":typeof _,"function","===")}function rn(_,P,K){_!=P&&Ve(K,_,P,"==")}function Tr(_,P,K){_==P&&Ve(K,_,P,"!=")}function hn(_,P,K){_!==P&&Ve(K,_,P,"===")}function Se(_,P,K){_===P&&Ve(K,_,P,"!==")}function ee(_,P,K){_<P||Ve(K,_,P,"<")}function ue(_,P,K){_>P||Ve(K,_,P,">")}function ve(_,P,K){_>=P||Ve(K,_,P,">=")}function xe(_,P){null==_&&Ve(P,_,null,"!=")}function Ve(_,P,K,De){throw new Error(`ASSERTION ERROR: ${_}`+(null==De?"":` [Expected=> ${K} ${De} ${P} <=Actual]`))}function ct(_){_ instanceof Node||Ve(`The provided value must be an instance of a DOM Node but got ${Ee(_)}`)}function Xt(_){_ instanceof Element||Ve(`The provided value must be an element but got ${Ee(_)}`)}function mt(_,P){xe(_,"Array must be defined.");const K=_.length;(P<0||P>=K)&&Ve(`Index expected to be less than ${K} but got ${P}`)}function Lt(_,...P){if(-1!==P.indexOf(_))return!0;Ve(`Expected value to be one of ${JSON.stringify(P)} but was ${JSON.stringify(_)}.`)}function _e(_){null!==(0,se.nR)()&&Ve(`${_}() should never be called in a reactive context.`)}function je(_){return{token:_.token,providedIn:_.providedIn||null,factory:_.factory,value:void 0}}function kt(_){return{providers:_.providers||[],imports:_.imports||[]}}function et(_){return function Kt(_,P){return _.hasOwnProperty(P)&&_[P]||null}(_,Zr)}function Zt(_){return null!==et(_)}function ir(_){return _&&_.hasOwnProperty(Tn)?_[Tn]:null}const Zr=pe({\u0275prov:pe}),Tn=pe({\u0275inj:pe});class on{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(P,K){this._desc=P,this.\u0275prov=void 0,"number"==typeof K?this.__NG_ELEMENT_ID__=K:void 0!==K&&(this.\u0275prov=je({token:this,providedIn:K.providedIn||"root",factory:K.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Ao;function fr(){return Ve("getInjectorProfilerContext should never be called in production mode"),Ao}function an(_){Ve("setInjectorProfilerContext should never be called in production mode");const P=Ao;return Ao=_,P}const yr=[],eo=()=>{};function Ho(_){return Ve("setInjectorProfiler should never be called in production mode"),null!==_?(yr.includes(_)||yr.push(_),()=>function Hn(_){const P=yr.indexOf(_);-1!==P&&yr.splice(P,1)}(_)):(yr.length=0,eo)}function Ur(_){Ve("Injector profiler should never be called in production mode");for(let P=0;P<yr.length;P++)(0,yr[P])(_)}function sr(_,P=!1){let K;Ve("Injector profiler should never be called in production mode"),K="function"==typeof _||_ instanceof on?_:Et(_.provide);let De=_;_ instanceof on&&(De=_.\u0275prov||_),Ur({type:2,context:fr(),providerRecord:{token:K,provider:De,isViewProvider:P}})}function To(_){Ve("Injector profiler should never be called in production mode"),Ur({type:4,context:fr(),token:_})}function fo(_){Ve("Injector profiler should never be called in production mode"),Ur({type:1,context:fr(),instance:{value:_}})}function yo(_,P,K){Ve("Injector profiler should never be called in production mode"),Ur({type:0,context:fr(),service:{token:_,value:P,flags:K}})}function Wn(_){Ve("Injector profiler should never be called in production mode"),Ur({type:3,context:fr(),effect:_})}function Wo(_,P,K){Ve("runInInjectorProfilerContext should never be called in production mode");const De=an({injector:_,token:P});try{K()}finally{an(De)}}function On(_){return _&&!!_.\u0275providers}const Vr=pe({\u0275cmp:pe}),ca=pe({\u0275dir:pe}),Pn=pe({\u0275pipe:pe}),zo=pe({\u0275mod:pe}),Mr=pe({\u0275fac:pe}),da=pe({__NG_ELEMENT_ID__:pe}),ma=pe({__NG_ENV_ID__:pe});function go(_){return"string"==typeof _?_:null==_?"":String(_)}function lr(_){return"function"==typeof _?_.name||_.toString():"object"==typeof _&&null!=_&&"function"==typeof _.type?_.type.name||_.type.toString():go(_)}function Mo(_){let P=_[Vr]||null;return null!==P&&P.debugInfo?function ur(_){return _.filePath&&_.lineNumber?`${_.className} (at ${_.filePath}:${_.lineNumber})`:_.className}(P.debugInfo):lr(_)}const cr=pe({ngErrorCode:pe}),tr=pe({ngErrorMessage:pe}),gr=pe({ngTokenPath:pe});function $r(_,P){return zn("",-200,P)}function xr(_,P){return function Ko(_,P){return _.message=function en(_,P,K=[],De=null){let Le="";K&&K.length>1&&(Le=` Path: ${K.join(" -> ")}.`);return Re(P,`${_}${De?` Source: ${De}.`:""}${Le}`)}(_[tr]||_.message,_[cr],_[gr],P),_}($r(0,P),null)}function ha(_,P){throw new Me(-201,!1)}function zn(_,P,K){const De=new Me(P,_);return De[cr]=P,De[tr]=_,K&&(De[gr]=K),De}let xo;function Io(){return xo}function Kn(_){const P=xo;return xo=_,P}function vo(_,P,K){const De=et(_);return De&&"root"==De.providedIn?void 0===De.value?De.value=De.factory():De.value:8&K?null:void 0!==P?P:void ha()}function _o(_){}const pn={},Ma="__NG_DI_FLAG__";class Go{injector;constructor(P){this.injector=P}retrieve(P,K){const De=Qt(K)||0;try{return this.injector.get(P,8&De?null:pn,De)}catch(Le){if(q(Le))return Le;throw Le}}}function Xn(_,P=0){const K=i();if(void 0===K)throw new Me(-203,!1);if(null===K)return vo(_,void 0,P);{const De=function bo(_){return{optional:!!(8&_),host:!!(1&_),self:!!(2&_),skipSelf:!!(4&_)}}(P),Le=K.retrieve(_,De);if(q(Le)){if(De.optional)return null;throw Le}return Le}}function dr(_,P=0){return(Io()||Xn)(Et(_),P)}function fa(_){throw new Me(202,!1)}function ge(_,P){return dr(_,Qt(P))}function Qt(_){return typeof _>"u"||"number"==typeof _?_:0|(_.optional&&8)|(_.host&&1)|(_.self&&2)|(_.skipSelf&&4)}function wo(_){const P=[];for(let K=0;K<_.length;K++){const De=Et(_[K]);if(Array.isArray(De)){if(0===De.length)throw new Me(900,!1);let Le,at=0;for(let mn=0;mn<De.length;mn++){const co=De[mn],Un=Gn(co);"number"==typeof Un?-1===Un?Le=co.token:at|=Un:Le=co}P.push(dr(Le,at))}else P.push(dr(De))}return P}function to(_,P){return _[Ma]=P,_.prototype[Ma]=P,_}function Gn(_){return _[Ma]}function vr(_,P){return _.hasOwnProperty(Mr)?_[Mr]:null}function qo(_,P,K){if(_.length!==P.length)return!1;for(let De=0;De<_.length;De++){let Le=_[De],at=P[De];if(K&&(Le=K(Le),at=K(at)),at!==Le)return!1}return!0}function Qo(_){return _.flat(Number.POSITIVE_INFINITY)}function _r(_,P){_.forEach(K=>Array.isArray(K)?_r(K,P):P(K))}function nr(_,P,K){P>=_.length?_.push(K):_.splice(P,0,K)}function Ro(_,P){return P>=_.length-1?_.pop():_.splice(P,1)[0]}function ya(_,P){const K=[];for(let De=0;De<_;De++)K.push(P);return K}function Yo(_,P,K){const De=_.length-K;for(;P<De;)_[P]=_[P+K],P++;for(;K--;)_.pop()}function Oo(_,P,K,De){let Le=_.length;if(Le==P)_.push(K,De);else if(1===Le)_.push(De,_[0]),_[0]=K;else{for(Le--,_.push(_[Le-1],_[Le]);Le>P;)_[Le]=_[Le-2],Le--;_[P]=K,_[P+1]=De}}function xa(_,P,K){let De=Hr(_,P);return De>=0?_[1|De]=K:(De=~De,Oo(_,De,P,K)),De}function Xo(_,P){const K=Hr(_,P);if(K>=0)return _[1|K]}function Hr(_,P){return function Po(_,P,K){let De=0,Le=_.length>>K;for(;Le!==De;){const at=De+(Le-De>>1),mn=_[at<<K];if(P===mn)return at<<K;mn>P?Le=at:De=at+1}return~(Le<<K)}(_,P,1)}const No={},qn=[],rr=new on(""),Eo=new on("",-1),Lo=new on("");class no{get(P,K=pn){if(K===pn){const Le=zn("",-201);throw Le.name="\u0275NotFound",Le}return K}}function Or(_){return _[zo]||null}function ro(_){const P=Or(_);if(!P)throw new Me(915,!1);return P}function Fo(_){return _[Vr]||null}function Ia(_){const P=Jo(_);if(!P)throw new Me(916,!1);return P}function Jo(_){return _[ca]||null}function M(_){return _[Pn]||null}function Y(_){const P=Fo(_)||Jo(_)||M(_);return null!==P&&P.standalone}function j(_){return{\u0275providers:_}}function le(..._){return{\u0275providers:Fe(0,_),\u0275fromNgModule:!0}}function Fe(_,...P){const K=[],De=new Set;let Le;const at=mn=>{K.push(mn)};return _r(P,mn=>{const co=mn;tt(co,at,[],De)&&(Le||=[],Le.push(co))}),void 0!==Le&&ze(Le,at),K}function ze(_,P){for(let K=0;K<_.length;K++){const{ngModule:De,providers:Le}=_[K];qt(Le,at=>{P(at,De)})}}function tt(_,P,K,De){if(!(_=Et(_)))return!1;let Le=null,at=ir(_);const mn=!at&&Fo(_);if(at||mn){if(mn&&!mn.standalone)return!1;Le=_}else{const Un=_.ngModule;if(at=ir(Un),!at)return!1;Le=Un}const co=De.has(Le);if(mn){if(co)return!1;if(De.add(Le),mn.dependencies){const Un="function"==typeof mn.dependencies?mn.dependencies():mn.dependencies;for(const In of Un)tt(In,P,K,De)}}else{if(!at)return!1;{if(null!=at.imports&&!co){let In;De.add(Le);try{_r(at.imports,ja=>{tt(ja,P,K,De)&&(In||=[],In.push(ja))})}finally{}void 0!==In&&ze(In,P)}if(!co){const In=vr(Le)||(()=>new Le);P({provide:Le,useFactory:In,deps:qn},Le),P({provide:Lo,useValue:Le,multi:!0},Le),P({provide:rr,useValue:()=>dr(Le),multi:!0},Le)}const Un=at.providers;if(null!=Un&&!co){const In=_;qt(Un,ja=>{P(ja,In)})}}}return Le!==_&&void 0!==_.providers}function qt(_,P){for(let K of _)On(K)&&(K=K.\u0275providers),Array.isArray(K)?qt(K,P):P(K)}const Ht=pe({provide:String,useValue:pe});function jt(_){return null!==_&&"object"==typeof _&&Ht in _}function bn(_){return"function"==typeof _}function Wr(_){return!!_.useClass}const zr=new on(""),Pr={},Kr={};let oo;function br(){return void 0===oo&&(oo=new no),oo}class Nr{}class Zo extends Nr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(P,K,De,Le){super(),this.parent=K,this.source=De,this.scopes=Le,qr(P,mn=>this.processProvider(mn)),this.records.set(Eo,io(void 0,this)),Le.has("environment")&&this.records.set(Nr,io(void 0,this));const at=this.records.get(zr);null!=at&&"string"==typeof at.value&&this.scopes.add(at.value),this.injectorDefTypes=new Set(this.get(Lo,qn,{self:!0}))}retrieve(P,K){const De=Qt(K)||0;try{return this.get(P,pn,De)}catch(Le){if(q(Le))return Le;throw Le}}destroy(){wr(this),this._destroyed=!0;const P=(0,se.Ht)(null);try{for(const De of this._ngOnDestroyHooks)De.ngOnDestroy();const K=this._onDestroyHooks;this._onDestroyHooks=[];for(const De of K)De()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,se.Ht)(P)}}onDestroy(P){return wr(this),this._onDestroyHooks.push(P),()=>this.removeOnDestroy(P)}runInContext(P){wr(this);const K=G(this),De=Kn(void 0);try{return P()}finally{G(K),Kn(De)}}get(P,K=pn,De){if(wr(this),P.hasOwnProperty(ma))return P[ma](this);const Le=Qt(De),mn=G(this),co=Kn(void 0);try{if(!(4&Le)){let In=this.records.get(P);if(void 0===In){const ja=function _i(_){return"function"==typeof _||"object"==typeof _&&"InjectionToken"===_.ngMetadataName}(P)&&et(P);In=ja&&this.injectableDefInScope(ja)?io(Gr(P),Pr):null,this.records.set(P,In)}if(null!=In)return this.hydrate(P,In,Le)}return(2&Le?br():this.parent).get(P,K=8&Le&&K===pn?null:K)}catch(Un){const In=function Rr(_){return _[cr]}(Un);throw-200===In||-201===In?new Me(In,null):Un}finally{Kn(co),G(mn)}}resolveInjectorInitializers(){const P=(0,se.Ht)(null),K=G(this),De=Kn(void 0);try{const at=this.get(rr,qn,{self:!0});for(const mn of at)mn()}finally{G(K),Kn(De),(0,se.Ht)(P)}}toString(){const P=[],K=this.records;for(const De of K.keys())P.push(Ee(De));return`R3Injector[${P.join(", ")}]`}processProvider(P){let K=bn(P=Et(P))?P:Et(P&&P.provide);const De=function Oa(_){return jt(_)?io(void 0,_.useValue):io(ao(_),Pr)}(P);if(!bn(P)&&!0===P.multi){let Le=this.records.get(K);Le||(Le=io(void 0,Pr,!0),Le.factory=()=>wo(Le.multi),this.records.set(K,Le)),K=P,Le.multi.push(P)}this.records.set(K,De)}hydrate(P,K,De){const Le=(0,se.Ht)(null);try{if(K.value===Kr)throw $r(Ee(P));return K.value===Pr&&(K.value=Kr,K.value=K.factory(void 0,De)),"object"==typeof K.value&&K.value&&function jo(_){return null!==_&&"object"==typeof _&&"function"==typeof _.ngOnDestroy}(K.value)&&this._ngOnDestroyHooks.add(K.value),K.value}finally{(0,se.Ht)(Le)}}injectableDefInScope(P){if(!P.providedIn)return!1;const K=Et(P.providedIn);return"string"==typeof K?"any"===K||this.scopes.has(K):this.injectorDefTypes.has(K)}removeOnDestroy(P){const K=this._onDestroyHooks.indexOf(P);-1!==K&&this._onDestroyHooks.splice(K,1)}}function Gr(_){const P=et(_),K=null!==P?P.factory:vr(_);if(null!==K)return K;if(_ instanceof on)throw new Me(204,!1);if(_ instanceof Function)return function Ra(_){if(_.length>0)throw new Me(204,!1);const K=function Jr(_){return(_?.[Zr]??null)||null}(_);return null!==K?()=>K.factory(_):()=>new _}(_);throw new Me(204,!1)}function ao(_,P,K){let De;if(bn(_)){const Le=Et(_);return vr(Le)||Gr(Le)}if(jt(_))De=()=>Et(_.useValue);else if(function nn(_){return!(!_||!_.useFactory)}(_))De=()=>_.useFactory(...wo(_.deps||[]));else if(function _n(_){return!(!_||!_.useExisting)}(_))De=(Le,at)=>dr(Et(_.useExisting),void 0!==at&&8&at?8:void 0);else{const Le=Et(_&&(_.useClass||_.provide));if(!function Pa(_){return!!_.deps}(_))return vr(Le)||Gr(Le);De=()=>new Le(...wo(_.deps))}return De}function wr(_){if(_.destroyed)throw new Me(205,!1)}function io(_,P,K=!1){return{factory:_,value:P,multi:K?[]:void 0}}function qr(_,P){for(const K of _)Array.isArray(K)?qr(K,P):K&&On(K)?qr(K.\u0275providers,P):P(K)}function ga(_,P){let K;_ instanceof Zo?(wr(_),K=_):K=new Go(_);const Le=G(K),at=Kn(void 0);try{return P()}finally{G(Le),Kn(at)}}function or(){return void 0!==Io()||null!=i()}function U(_){if(!or())throw new Me(-203,!1)}const A=0,F=1,Q=2,ie=3,Ce=4,Be=5,qe=6,lt=7,Dt=8,Bt=9,ft=10,fn=11,yn=12,cn=13,ar=14,Jn=15,En=16,dn=17,Er=18,Lr=19,Mn=20,Nt=21,Nn=22,Fr=23,Ha=24,kr=25,xn=26,Dr=27,ni=1,bi=6,so=7,ea=8,va=9,jn=10;function Bo(_){return Array.isArray(_)&&"object"==typeof _[ni]}function St(_){return Array.isArray(_)&&!0===_[ni]}function $i(_){return!!(4&_.flags)}function ri(_){return _.componentOffset>-1}function wi(_){return!(1&~_.flags)}function mr(_){return!!_.template}function Hi(_){return!!(512&_[Q])}function D(_){return!(256&~_[Q])}function $(_,P){yt(_,P[F])}function ae(_,P){const K=P+Dr;mt(_,K),ee(K,_[F].bindingStartIndex,"TNodes should be created before any bindings")}function yt(_,P){Ot(_);const K=P.data;for(let De=Dr;De<K.length;De++)if(K[De]===_)return;Ve("This TNode does not belong to this TView.")}function Ot(_){xe(_,"TNode must be defined"),_&&"object"==typeof _&&_.hasOwnProperty("directiveStylingLast")||Ve("Not of type TNode, got: "+_)}function Zn(_){xe(_,"Expected TIcu to be defined"),"number"!=typeof _.currentCaseLViewIndex&&Ve("Object is not of TIcu type.")}function Uo(_,P="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Fo(_)||Ve(P)}function ta(_,P="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){Or(_)||Ve(P)}function Qr(_){xe(_,"currentTNode should exist!"),xe(_.parent,"currentTNode should have a parent")}function Wa(_){xe(_,"LContainer must be defined"),rn(St(_),!0,"Expecting LContainer")}function za(_){xe(_,"LView must be defined"),rn(Bo(_),!0,"Expecting LView")}function Cs(_,P){rn(_.firstCreatePass,!0,P||"Should only be called in first create pass.")}function Xl(_,P){rn(_.firstUpdatePass,!0,"Should only be called in first update pass.")}function Jl(_){(void 0===_.type||null==_.selectors||void 0===_.inputs)&&Ve("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Ss(_,P){na(Dr,_.bindingStartIndex,P)}function Wi(_,P){na(_[1].expandoStartIndex,_.length,P)}function na(_,P,K){_<=K&&K<P||Ve(`Index out of range (expecting ${_} <= ${K} < ${P})`)}function ki(_,P){xe(_[Jn],"Component views should exist."),xe(_[Jn][Be].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function Xs(_,P){xe(_,"Component views should always have a parent view (component's host view)")}function Zl(_,P){Wi(_,P),Wi(_,P+8),zt(_[P+0],"injectorIndex should point to a bloom filter"),zt(_[P+1],"injectorIndex should point to a bloom filter"),zt(_[P+2],"injectorIndex should point to a bloom filter"),zt(_[P+3],"injectorIndex should point to a bloom filter"),zt(_[P+4],"injectorIndex should point to a bloom filter"),zt(_[P+5],"injectorIndex should point to a bloom filter"),zt(_[P+6],"injectorIndex should point to a bloom filter"),zt(_[P+7],"injectorIndex should point to a bloom filter"),zt(_[P+8],"injectorIndex should point to parent injector")}const Js="svg",eu="math";function oi(_){for(;Array.isArray(_);)_=_[A];return _}function _c(_){for(;Array.isArray(_);){if("object"==typeof _[ni])return _;_=_[A]}return null}function Bn(_,P){return oi(P[_])}function Di(_,P){return oi(P[_.index])}function bc(_,P){const K=null===_?-1:_.index;return-1!==K?oi(P[K]):null}function Ft(_,P){return _.data[P]}function lo(_,P){return _[P]}function tu(_,P,K,De){K>=_.data.length&&(_.data[K]=null,_.blueprint[K]=null),P[K]=De}function ra(_,P){const K=P[_];return Bo(K)?K:K[A]}function Zs(_){return!(4&~_[Q])}function zi(_){return!(128&~_[Q])}function ko(_){return St(_[ie])}function Ka(_,P){return null==P?null:_[P]}function Ki(_){_[dn]=0}function ai(_){1024&_[Q]||(_[Q]|=1024,zi(_)&&si(_))}function Vo(_,P){for(;_>0;)P=P[ar],_--;return P}function ii(_){return!!(9216&_[Q]||_[Ha]?.dirty)}function As(_){_[ft].changeDetectionScheduler?.notify(8),64&_[Q]&&(_[Q]|=1024),ii(_)&&si(_)}function si(_){_[ft].changeDetectionScheduler?.notify(0);let P=Ga(_);for(;null!==P&&!(8192&P[Q])&&(P[Q]|=8192,zi(P));)P=Ga(P)}function Gi(_,P){if(D(_))throw new Me(911,!1);null===_[Nt]&&(_[Nt]=[]),_[Nt].push(P)}function qi(_,P){if(null===_[Nt])return;const K=_[Nt].indexOf(P);-1!==K&&_[Nt].splice(K,1)}function Ga(_){const P=_[ie];return St(P)?P[ie]:P}function Qi(_){return _[lt]??=[]}function Na(_){return _.cleanup??=[]}function li(_,P,K,De){const Le=Qi(P);Le.push(K),_.firstCreatePass&&Na(_).push(De,Le.length-1)}const At={lFrame:Sr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jt=function(_){return _[_.Off=0]="Off",_[_.Exhaustive=1]="Exhaustive",_[_.OnlyDirtyViews=2]="OnlyDirtyViews",_}(Jt||{});let _a=0,La=!1;function ui(){return At.lFrame.elementDepthCount}function ci(){At.lFrame.elementDepthCount++}function Yi(){At.lFrame.elementDepthCount--}function qa(){return At.bindingsEnabled}function Ts(){return null!==At.skipHydrationRootTNode}function di(_){return At.skipHydrationRootTNode===_}function Fa(){At.bindingsEnabled=!0}function Xi(){At.bindingsEnabled=!1}function ru(){At.skipHydrationRootTNode=null}function Qa(){return At.lFrame.lView}function Ci(){return At.lFrame.tView}function Ji(_){return At.lFrame.contextLView=_,_[Dt]}function Si(_){return At.lFrame.contextLView=null,_}function Ai(){let _=ba();for(;null!==_&&64===_.type;)_=_.parent;return _}function ba(){return At.lFrame.currentTNode}function Ti(){const _=At.lFrame,P=_.currentTNode;return _.isParent?P:P.parent}function E(_,P){const K=At.lFrame;K.currentTNode=_,K.isParent=P}function f(){return At.lFrame.isParent}function m(){At.lFrame.isParent=!1}function p(){return At.lFrame.contextLView}function b(){return Ve("Must never be called in production mode"),_a!==Jt.Off}function C(){return Ve("Must never be called in production mode"),_a===Jt.Exhaustive}function O(_){Ve("Must never be called in production mode"),_a=_}function L(){return La}function W(_){const P=La;return La=_,P}function X(){const _=At.lFrame;let P=_.bindingRootIndex;return-1===P&&(P=_.bindingRootIndex=_.tView.bindingStartIndex),P}function oe(){return At.lFrame.bindingIndex}function be(_){return At.lFrame.bindingIndex=_}function Ie(){return At.lFrame.bindingIndex++}function He(_){const P=At.lFrame,K=P.bindingIndex;return P.bindingIndex=P.bindingIndex+_,K}function Oe(){return At.lFrame.inI18n}function Je(_){At.lFrame.inI18n=_}function Ze(_,P){const K=At.lFrame;K.bindingIndex=K.bindingRootIndex=_,Tt(P)}function gt(){return At.lFrame.currentDirectiveIndex}function Tt(_){At.lFrame.currentDirectiveIndex=_}function Vt(_){const P=At.lFrame.currentDirectiveIndex;return-1===P?null:_[P]}function vt(){return At.lFrame.currentQueryIndex}function _t(_){At.lFrame.currentQueryIndex=_}function kn(_){const P=_[F];return 2===P.type?P.declTNode:1===P.type?_[Be]:null}function Cr(_,P,K){if(4&K){let Le=P,at=_;for(;!(Le=Le.parent,null!==Le||1&K||(Le=kn(at),null===Le||(at=at[ar],10&Le.type))););if(null===Le)return!1;P=Le,_=at}const De=At.lFrame=Dn();return De.currentTNode=P,De.lView=_,!0}function gn(_){const P=Dn(),K=_[F];At.lFrame=P,P.currentTNode=K.firstChild,P.lView=_,P.tView=K,P.contextLView=_,P.bindingIndex=K.bindingStartIndex,P.inI18n=!1}function Dn(){const _=At.lFrame,P=null===_?null:_.child;return null===P?Sr(_):P}function Sr(_){const P={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:_,child:null,inI18n:!1};return null!==_&&(_.child=P),P}function Do(){const _=At.lFrame;return At.lFrame=_.parent,_.currentTNode=null,_.lView=null,_}const Ms=Do;function ou(){const _=Do();_.isParent=!0,_.tView=null,_.selectedIndex=-1,_.contextLView=null,_.elementDepthCount=0,_.currentDirectiveIndex=-1,_.currentNamespace=null,_.bindingRootIndex=-1,_.bindingIndex=-1,_.currentQueryIndex=0}function el(_){return(At.lFrame.contextLView=Vo(_,At.lFrame.contextLView))[Dt]}function au(){return At.lFrame.selectedIndex}function xs(_){At.lFrame.selectedIndex=_}function Yt(){const _=At.lFrame;return Ft(_.tView,_.selectedIndex)}function wa(){At.lFrame.currentNamespace=Js}function tl(){At.lFrame.currentNamespace=eu}function uo(){!function hr(){At.lFrame.currentNamespace=null}()}function nl(){return At.lFrame.currentNamespace}let mi=!0;function Is(){return mi}function iu(_){mi=_}function su(_,P=null,K=null,De){const Le=wc(_,P,K,De);return Le.resolveInjectorInitializers(),Le}function wc(_,P=null,K=null,De,Le=new Set){const at=[K||qn,le(_)];return De=De||("object"==typeof _?void 0:Ee(_)),new Zo(at,P||br(),De||null,Le)}class Rs{static THROW_IF_NOT_FOUND=pn;static NULL=new no;static create(P,K){if(Array.isArray(P))return su({name:""},K,P,"");{const De=P.name??"";return su({name:De},P.parent,P.providers,De)}}static \u0275prov=je({token:Rs,providedIn:"any",factory:()=>dr(Eo)});static __NG_ELEMENT_ID__=-1}const lu=new on("");let rl=(()=>class _{static __NG_ELEMENT_ID__=Ec;static __NG_ENV_ID__=K=>K})();class uu extends rl{_lView;constructor(P){super(),this._lView=P}get destroyed(){return D(this._lView)}onDestroy(P){const K=this._lView;return Gi(K,P),()=>qi(K,P)}}function Ec(){return new uu(Qa())}class Zi{_console=console;handleError(P){this._console.error("ERROR",P)}}const oa=new on("",{providedIn:"root",factory:()=>{const _=ge(Nr);let P;return K=>{_.destroyed&&!P?setTimeout(()=>{throw K}):(P??=_.get(Zi),P.handleError(K))}}}),es={provide:rr,useValue:()=>{ge(Zi)},multi:!0};function ts(_){return"function"==typeof _&&void 0!==_[se.bh]}function Jd(_,P){const[K,De,Le]=(0,se.n5)(_,P?.equal),at=K;return at.set=De,at.update=Le,at.asReadonly=Zd.bind(at),at}function Zd(){const _=this[se.bh];if(void 0===_.readonlyFn){const P=()=>this();P[se.bh]=_,_.readonlyFn=P}return _.readonlyFn}function ol(_){return ts(_)&&"function"==typeof _.set}function al(_,P){if(null!==(0,se.nR)())throw new Me(-602,!1)}let em=(()=>class _{view;node;constructor(K,De){this.view=K,this.node=De}static __NG_ELEMENT_ID__=tm})();function tm(){return new em(Qa(),Ai())}class il{}const aa=new on("",{providedIn:"root",factory:()=>!1}),kc=new on("",{providedIn:"root",factory:()=>!1}),Mi=new on(""),Dc=new on("");let xi=(()=>{class _{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new we.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de.c(K=>{K.next(!1),K.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const K=this.taskId++;return this.pendingTasks.add(K),K}has(K){return this.pendingTasks.has(K)}remove(K){this.pendingTasks.delete(K),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=je({token:_,providedIn:"root",factory:()=>new _})}return _})(),sl=(()=>{class _{internalPendingTasks=ge(xi);scheduler=ge(il);errorHandler=ge(oa);add(){const K=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(K)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(K))}}run(K){const De=this.add();K().catch(this.errorHandler).finally(De)}static \u0275prov=je({token:_,providedIn:"root",factory:()=>new _})}return _})();function Os(..._){}let ll=(()=>{class _{static \u0275prov=je({token:_,providedIn:"root",factory:()=>new ia})}return _})();class ia{dirtyEffectCount=0;queues=new Map;add(P){this.enqueue(P),this.schedule(P)}schedule(P){P.dirty&&this.dirtyEffectCount++}remove(P){const De=this.queues.get(P.zone);De.has(P)&&(De.delete(P),P.dirty&&this.dirtyEffectCount--)}enqueue(P){const K=P.zone;this.queues.has(K)||this.queues.set(K,new Set);const De=this.queues.get(K);De.has(P)||De.add(P)}flush(){for(;this.dirtyEffectCount>0;){let P=!1;for(const[K,De]of this.queues)P||=null===K?this.flushQueue(De):K.run(()=>this.flushQueue(De));P||(this.dirtyEffectCount=0)}}flushQueue(P){let K=!1;for(const De of P)De.dirty&&(this.dirtyEffectCount--,K=!0,De.run());return K}}},3073:(st,ke,H)=>{"use strict";H.d(ke,{D:()=>me});const{isArray:k}=Array,{getPrototypeOf:i,prototype:G,keys:R}=Object;function me(q){if(1===q.length){const se=q[0];if(k(se))return{args:se,keys:null};if(function Z(q){return q&&"object"==typeof q&&i(q)===G}(se)){const we=R(se);return{args:we.map(de=>se[de]),keys:we}}}return{args:q,keys:null}}},3077:(st,ke,H)=>{"use strict";H.d(ke,{s:()=>G});var k=H(467),i=H(2615);let G=(()=>{class R{SESSION_ID="sessionId";constructor(){}load(Z){const q=localStorage.getItem(Z);return null!==q?JSON.parse(q):null}loadSessionId(){const Z=this.load(this.SESSION_ID);return null!==Z?Z:0}set(Z,q){localStorage.setItem(Z,q)}setSessionId(Z){this.set(this.SESSION_ID,Z.toString())}clear(Z){localStorage.removeItem(Z)}resetGame(){localStorage.clear(),location.reload()}loadFile(Z,q){var se=this;return(0,k.A)(function*(){if(!Z)throw new Error("Enter a valid scenario number");const we=String(Z).padStart(3,"0"),de=new URL(document.baseURI);de.hash="";const ne=new URL(`scenarios/${we}.json`,de);try{const he=yield fetch(ne.href,{cache:"no-store"});if(!he.ok)throw new Error(`Failed to load file: ${he.status} ${he.statusText}`);const ye=yield he.json();return se.processScenarioData(ye,q)}catch(he){throw console.error("Error loading file:",he),new Error(`Error loading scenario ${Z}. Tried: ${ne.pathname}`)}})()}processScenarioData(Z,q=1){return Z.rooms&&Z.rooms[0]&&Z.rooms[0].monster?Z.rooms[0].monster.map(se=>({type:se.name,level:q,isElite:"elite"===se?.type||"elite"===se?.player4,aggressive:!0})):[]}static \u0275fac=function(q){return new(q||R)};static \u0275prov=i.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},3242:(st,ke,H)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});const k=H(1635),i=k.__importDefault(H(8666)),G=k.__importDefault(H(3608));class R{constructor(Z,{headers:q={},schema:se,fetch:we}={}){this.url=Z,this.headers=new Headers(q),this.schemaName=se,this.fetch=we}from(Z){const q=new URL(`${this.url}/${Z}`);return new i.default(q,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Z){return new R(this.url,{headers:this.headers,schema:Z,fetch:this.fetch})}rpc(Z,q={},{head:se=!1,get:we=!1,count:de}={}){var ne;let he;const ye=new URL(`${this.url}/rpc/${Z}`);let fe;se||we?(he=se?"HEAD":"GET",Object.entries(q).filter(([Ye,Re])=>void 0!==Re).map(([Ye,Re])=>[Ye,Array.isArray(Re)?`{${Re.join(",")}}`:`${Re}`]).forEach(([Ye,Re])=>{ye.searchParams.append(Ye,Re)})):(he="POST",fe=q);const Me=new Headers(this.headers);return de&&Me.set("Prefer",`count=${de}`),new G.default({method:he,url:ye,headers:Me,schema:this.schemaName,body:fe,fetch:null!==(ne=this.fetch)&&void 0!==ne?ne:fetch})}}ke.default=R},3342:(st,ke,H)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});const i=H(1635).__importDefault(H(5958));ke.default=class G extends i.default{select(me){let Z=!1;const q=(me??"*").split("").map(se=>/\s/.test(se)&&!Z?"":('"'===se&&(Z=!Z),se)).join("");return this.url.searchParams.set("select",q),this.headers.append("Prefer","return=representation"),this}order(me,{ascending:Z=!0,nullsFirst:q,foreignTable:se,referencedTable:we=se}={}){const de=we?`${we}.order`:"order",ne=this.url.searchParams.get(de);return this.url.searchParams.set(de,`${ne?`${ne},`:""}${me}.${Z?"asc":"desc"}${void 0===q?"":q?".nullsfirst":".nullslast"}`),this}limit(me,{foreignTable:Z,referencedTable:q=Z}={}){return this.url.searchParams.set(typeof q>"u"?"limit":`${q}.limit`,`${me}`),this}range(me,Z,{foreignTable:q,referencedTable:se=q}={}){const de=typeof se>"u"?"limit":`${se}.limit`;return this.url.searchParams.set(typeof se>"u"?"offset":`${se}.offset`,`${me}`),this.url.searchParams.set(de,""+(Z-me+1)),this}abortSignal(me){return this.signal=me,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:me=!1,verbose:Z=!1,settings:q=!1,buffers:se=!1,wal:we=!1,format:de="text"}={}){var ne;const he=[me?"analyze":null,Z?"verbose":null,q?"settings":null,se?"buffers":null,we?"wal":null].filter(Boolean).join("|"),ye=null!==(ne=this.headers.get("Accept"))&&void 0!==ne?ne:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${de}; for="${ye}"; options=${he};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(me){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${me}`),this}}},3494:(st,ke,H)=>{"use strict";H.d(ke,{s:()=>k});const k="function"==typeof Symbol&&Symbol.observable||"@@observable"},3608:(st,ke,H)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});const i=H(1635).__importDefault(H(3342)),G=new RegExp("[,()]");ke.default=class R extends i.default{eq(Z,q){return this.url.searchParams.append(Z,`eq.${q}`),this}neq(Z,q){return this.url.searchParams.append(Z,`neq.${q}`),this}gt(Z,q){return this.url.searchParams.append(Z,`gt.${q}`),this}gte(Z,q){return this.url.searchParams.append(Z,`gte.${q}`),this}lt(Z,q){return this.url.searchParams.append(Z,`lt.${q}`),this}lte(Z,q){return this.url.searchParams.append(Z,`lte.${q}`),this}like(Z,q){return this.url.searchParams.append(Z,`like.${q}`),this}likeAllOf(Z,q){return this.url.searchParams.append(Z,`like(all).{${q.join(",")}}`),this}likeAnyOf(Z,q){return this.url.searchParams.append(Z,`like(any).{${q.join(",")}}`),this}ilike(Z,q){return this.url.searchParams.append(Z,`ilike.${q}`),this}ilikeAllOf(Z,q){return this.url.searchParams.append(Z,`ilike(all).{${q.join(",")}}`),this}ilikeAnyOf(Z,q){return this.url.searchParams.append(Z,`ilike(any).{${q.join(",")}}`),this}is(Z,q){return this.url.searchParams.append(Z,`is.${q}`),this}in(Z,q){const se=Array.from(new Set(q)).map(we=>"string"==typeof we&&G.test(we)?`"${we}"`:`${we}`).join(",");return this.url.searchParams.append(Z,`in.(${se})`),this}contains(Z,q){return"string"==typeof q?this.url.searchParams.append(Z,`cs.${q}`):Array.isArray(q)?this.url.searchParams.append(Z,`cs.{${q.join(",")}}`):this.url.searchParams.append(Z,`cs.${JSON.stringify(q)}`),this}containedBy(Z,q){return"string"==typeof q?this.url.searchParams.append(Z,`cd.${q}`):Array.isArray(q)?this.url.searchParams.append(Z,`cd.{${q.join(",")}}`):this.url.searchParams.append(Z,`cd.${JSON.stringify(q)}`),this}rangeGt(Z,q){return this.url.searchParams.append(Z,`sr.${q}`),this}rangeGte(Z,q){return this.url.searchParams.append(Z,`nxl.${q}`),this}rangeLt(Z,q){return this.url.searchParams.append(Z,`sl.${q}`),this}rangeLte(Z,q){return this.url.searchParams.append(Z,`nxr.${q}`),this}rangeAdjacent(Z,q){return this.url.searchParams.append(Z,`adj.${q}`),this}overlaps(Z,q){return this.url.searchParams.append(Z,"string"==typeof q?`ov.${q}`:`ov.{${q.join(",")}}`),this}textSearch(Z,q,{config:se,type:we}={}){let de="";return"plain"===we?de="pl":"phrase"===we?de="ph":"websearch"===we&&(de="w"),this.url.searchParams.append(Z,`${de}fts${void 0===se?"":`(${se})`}.${q}`),this}match(Z){return Object.entries(Z).forEach(([q,se])=>{this.url.searchParams.append(q,`eq.${se}`)}),this}not(Z,q,se){return this.url.searchParams.append(Z,`not.${q}.${se}`),this}or(Z,{foreignTable:q,referencedTable:se=q}={}){return this.url.searchParams.append(se?`${se}.or`:"or",`(${Z})`),this}filter(Z,q,se){return this.url.searchParams.append(Z,`${q}.${se}`),this}}},3664:(st,ke,H)=>{"use strict";H.d(ke,{$C:()=>Vn,$Ln:()=>U_,AVh:()=>Lg,Ab1:()=>Ne,Agw:()=>Bt,B4B:()=>Un,BIS:()=>yn,BMQ:()=>ug,C4Q:()=>hs,C5r:()=>Uw,C7A:()=>D_,Co$:()=>bt,CsU:()=>S1,DH7:()=>kw,DNE:()=>Yy,DUP:()=>ls,DkB:()=>Sg,EFF:()=>aw,EJ8:()=>Nd,Ef8:()=>ct,FsC:()=>ei,G5x:()=>Af,GBs:()=>Bb,H1s:()=>z_,HbH:()=>Yb,JRh:()=>jg,Jt5:()=>yb,Jv_:()=>Aw,KED:()=>JD,Lme:()=>Bg,NCX:()=>wl,NSC:()=>fc,NYb:()=>A1,OA$:()=>rn,OR8:()=>_s,Ocv:()=>kC,Ol2:()=>sn,PLl:()=>Dt,PYt:()=>ut,Ql9:()=>vC,R50:()=>Ug,R7$:()=>Sm,RV6:()=>hb,SKi:()=>vn,SdI:()=>a0,SpI:()=>Kp,TFI:()=>Cp,Ts$:()=>u0,UQu:()=>yC,V5L:()=>o0,VBU:()=>Qn,VeQ:()=>ar,Vt3:()=>Pt,VwU:()=>xg,VzW:()=>xt,XpG:()=>Fb,Y8G:()=>_g,YEm:()=>Be,Zhj:()=>zy,_9s:()=>$s,_9u:()=>Ce,_jY:()=>Yr,_qm:()=>qo,_ys:()=>Mf,a8H:()=>fl,aKT:()=>nr,bH1:()=>$t,bIt:()=>Mg,bMT:()=>jw,bVm:()=>Vd,bc$:()=>fn,bkB:()=>hi,c1b:()=>Ll,cDI:()=>B0,cZr:()=>Yg,cdK:()=>H_,czy:()=>is,d80:()=>_C,dOL:()=>B_,dfE:()=>lf,e6s:()=>JE,eq3:()=>Mw,eux:()=>jp,gXe:()=>vt,giA:()=>V_,i5U:()=>Bw,iLQ:()=>K_,j41:()=>Np,k0s:()=>Lp,kBR:()=>Cg,kS0:()=>ti,lJT:()=>G_,l_i:()=>xw,lsd:()=>Vb,mGM:()=>Ub,mal:()=>jm,mxI:()=>Vg,n$t:()=>mu,nI1:()=>Fw,nrm:()=>wg,o8S:()=>Dp,ozJ:()=>Ws,phd:()=>M1,pl0:()=>x1,qex:()=>Bp,rXU:()=>bs,rj2:()=>Fp,sFG:()=>Lh,sMw:()=>Iw,sZ2:()=>qe,sdS:()=>$b,sgu:()=>a,uiO:()=>pt,utN:()=>Hh,vDg:()=>Cd,w6W:()=>dt,wni:()=>jb,xGo:()=>Io,xc7:()=>Ng,xe9:()=>c0,yLl:()=>$_,ypd:()=>I1,zoo:()=>Ba});var k=H(467),i=H(2615),G=H(8440),R=H(1413),me=H(8359),Z=H(6354);function q(e){return{toString:e}.toString()}const se="__annotations__",we="__parameters__",de="__prop__metadata__";function ne(e,t,n,r,l){return q(()=>{const c=he(t);function h(...g){if(this instanceof h)return c.call(this,...g),this;const v=new h(...g);return function(N){return l&&l(N,...g),(N.hasOwnProperty(se)?N[se]:Object.defineProperty(N,se,{value:[]})[se]).push(v),N}}return n&&(h.prototype=Object.create(n.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}function he(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}function ye(e,t,n){return q(()=>{const r=he(t);function l(...c){if(this instanceof l)return r.apply(this,c),this;const h=new l(...c);return g.annotation=h,g;function g(v,S,N){const z=v.hasOwnProperty(we)?v[we]:Object.defineProperty(v,we,{value:[]})[we];for(;z.length<=N;)z.push(null);return(z[N]=z[N]||[]).push(h),v}}return l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Me=(0,i.z6V)(ye("Inject",e=>({token:e})),-1),Ye=(0,i.z6V)(ye("Optional"),8),Re=(0,i.z6V)(ye("Self"),2),Ke=(0,i.z6V)(ye("SkipSelf"),4),rt=(0,i.z6V)(ye("Host"),1);function pt(e){const t=i.laP.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const pe={\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275inject:i.KVO,\u0275\u0275invalidFactoryDep:i.dmw,resolveForwardRef:i.nl4},Pe=Function;function Ee(e){return"function"==typeof e}const Ge=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,$e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,nt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Rt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class tn{_reflect;constructor(t){this._reflect=t||i.laP.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=(0,i.WfI)(typeof t>"u"?n.length:t.length);for(let l=0;l<r.length;l++)r[l]=typeof t>"u"?[]:t[l]&&t[l]!=Object?[t[l]]:[],n&&null!=n[l]&&(r[l]=r[l].concat(n[l]));return r}_ownParameters(t,n){if(function Et(e){return Ge.test(e)||Rt.test(e)||$e.test(e)&&!nt.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const l=t.ctorParameters;if(l&&l!==n.ctorParameters){const g="function"==typeof l?l():l,v=g.map(N=>N&&N.type),S=g.map(N=>N&&zt(N.decorators));return this._zipTypesAndAnnotations(v,S)}const c=t.hasOwnProperty(we)&&t[we],h=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return h||c?this._zipTypesAndAnnotations(h,c):(0,i.WfI)(t.length)}parameters(t){if(!Ee(t))return[];const n=Gt(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?zt(t.decorators):t.hasOwnProperty(se)?t[se]:null}annotations(t){if(!Ee(t))return[];const n=Gt(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,l={};return Object.keys(r).forEach(c=>{l[c]=zt(r[c])}),l}return t.hasOwnProperty(de)?t[de]:null}propMetadata(t){if(!Ee(t))return{};const n=Gt(t),r={};if(n!==Object){const c=this.propMetadata(n);Object.keys(c).forEach(h=>{r[h]=c[h]})}const l=this._ownPropMetadata(t,n);return l&&Object.keys(l).forEach(c=>{const h=[];r.hasOwnProperty(c)&&h.push(...r[c]),h.push(...l[c]),r[c]=h}),r}ownPropMetadata(t){return Ee(t)&&this._ownPropMetadata(t,Gt(t))||{}}hasLifecycleHook(t,n){return t instanceof Pe&&n in t.prototype}}function zt(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Gt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}class un{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ln(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const rn=(()=>{const e=()=>Tr;return e.ngInherit=!0,e})();function Tr(e){return e.type.prototype.ngOnChanges&&(e.setInput=Se),hn}function hn(){const e=ce(this),t=e?.current;if(t){const n=e.previous;if(n===i.MZA)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Se(e,t,n,r,l){const c=this.declaredInputs[r],h=ce(e)||function ue(e,t){return e[ee]=t}(e,{previous:i.MZA,current:null}),g=h.current||(h.current={}),v=h.previous,S=v[c];g[c]=new un(S&&S.currentValue,n,v===i.MZA),Ln(e,t,l,n)}const ee="__ngSimpleChanges__";function ce(e){return e[ee]||null}const ve=[],ct=function(e,t=null,n){for(let r=0;r<ve.length;r++)(0,ve[r])(e,t,n)};function mt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:g,ngAfterViewInit:v,ngAfterViewChecked:S,ngOnDestroy:N}=c;h&&(e.contentHooks??=[]).push(-n,h),g&&((e.contentHooks??=[]).push(n,g),(e.contentCheckHooks??=[]).push(n,g)),v&&(e.viewHooks??=[]).push(-n,v),S&&((e.viewHooks??=[]).push(n,S),(e.viewCheckHooks??=[]).push(n,S)),null!=N&&(e.destroyHooks??=[]).push(n,N)}}function Lt(e,t,n){We(e,t,3,n)}function _e(e,t,n,r){(3&e[i.Wg1])===n&&We(e,t,n,r)}function je(e,t){let n=e[i.Wg1];(3&n)===t&&(n&=16383,n+=1,e[i.Wg1]=n)}function We(e,t,n,r){const c=r??-1,h=t.length-1;let g=0;for(let v=void 0!==r?65535&e[i.wVl]:0;v<h;v++)if("number"==typeof t[v+1]){if(g=t[v],null!=r&&g>=r)break}else t[v]<0&&(e[i.wVl]+=65536),(g<c||-1==c)&&(et(e,n,t,v),e[i.wVl]=(4294901760&e[i.wVl])+v+2),v++}function kt(e,t){ct(4,e,t);const n=(0,G.Ht)(null);try{t.call(e)}finally{(0,G.Ht)(n),ct(5,e,t)}}function et(e,t,n,r){const l=n[r]<0,c=n[r+1],g=e[l?-n[r]:n[r]];l?e[i.Wg1]>>14<e[i.wVl]>>16&&(3&e[i.Wg1])===t&&(e[i.Wg1]+=16384,kt(g,c)):kt(g,c)}const Zt=-1;class Kt{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,l){this.factory=t,this.name=l,this.canSeeViewProviders=n,this.injectImpl=r}}function ir(e){return null!=e&&"object"==typeof e&&(null===e.insertBeforeIndex||"number"==typeof e.insertBeforeIndex||Array.isArray(e.insertBeforeIndex))}function yr(e){return 3===e||4===e||6===e}function eo(e){return 64===e.charCodeAt(0)}function Hn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||Ho(e,n,l,0,-1===n||2===n?t[++r]:null)}}return e}function Ho(e,t,n,r,l){let c=0,h=e.length;if(-1===t)h=-1;else for(;c<e.length;){const g=e[c++];if("number"==typeof g){if(g===t){h=-1;break}if(g>t){h=c-1;break}}}for(;c<e.length;){const g=e[c];if("number"==typeof g)break;if(g===n)return void(null!==l&&(e[c+1]=l));c++,null!==l&&c++}-1!==h&&(e.splice(h,0,t),c=h+1),e.splice(c++,0,n),null!==l&&e.splice(c++,0,l)}function Ur(e){return e!==Zt}function sr(e){return 32767&e}function fo(e,t){let n=function To(e){return e>>16}(e),r=t;for(;n>0;)r=r[i.X5O],n--;return r}let yo=!0;function Wn(e){const t=yo;return yo=e,t}const On=255,Vr=5;let ca=0;const Pn={};function Mr(e,t){const n=ma(e,t);if(-1!==n)return n;const r=t[i.eDl];r.firstCreatePass&&(e.injectorIndex=t.length,da(r.data,e),da(t,null),da(r.blueprint,null));const l=go(e,t),c=e.injectorIndex;if(Ur(l)){const h=sr(l),g=fo(l,t),v=g[i.eDl].data;for(let S=0;S<8;S++)t[c+S]=g[h+S]|v[h+S]}return t[c+8]=l,c}function da(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ma(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function go(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=_o(l),null===r)return Zt;if(n++,l=l[i.X5O],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zt}function lr(e,t,n){!function zo(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(i.p9y)&&(r=n[i.p9y]),null==r&&(r=n[i.p9y]=ca++);const l=r&On;t.data[e+(l>>Vr)]|=1<<l}(e,t,n)}function ur(e,t,n){if(8&n||void 0!==e)return e;(0,i.$Hz)(t,"NodeInjector")}function cr(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const l=e[i.YEL],c=(0,i.a2B)(void 0);try{return l?l.get(t,r,8&n):(0,i.MzJ)(t,r,8&n)}finally{(0,i.a2B)(c)}}return ur(r,t,n)}function tr(e,t,n,r=0,l){if(null!==e){if(2048&t[i.Wg1]&&!(2&r)){const h=function vo(e,t,n,r,l){let c=e,h=t;for(;null!==c&&null!==h&&2048&h[i.Wg1]&&!(0,i.EFk)(h);){const g=gr(c,h,n,2|r,Pn);if(g!==Pn)return g;let v=c.parent;if(!v){const S=h[i.oMQ];if(S){const N=S.get(n,Pn,r);if(N!==Pn)return N}v=_o(h),h=h[i.X5O]}c=v}return l}(e,t,n,r,Pn);if(h!==Pn)return h}const c=gr(e,t,n,r,Pn);if(c!==Pn)return c}return cr(t,n,r,l)}function gr(e,t,n,r,l){const c=function ha(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(i.p9y)?e[i.p9y]:void 0;return"number"==typeof t?t>=0?t&On:xo:t}(n);if("function"==typeof c){if(!(0,i.ihb)(t,e,r))return 1&r?ur(l,n,r):cr(t,n,r,l);try{let h;if(h=c(r),null!=h||8&r)return h;(0,i.$Hz)(n)}finally{(0,i.niQ)()}}else if("number"==typeof c){let h=null,g=ma(e,t),v=Zt,S=1&r?t[i.b5C][i.qlT]:null;for((-1===g||4&r)&&(v=-1===g?go(e,t):t[g+8],v!==Zt&&Ko(r,!1)?(h=t[i.eDl],g=sr(v),t=fo(v,t)):g=-1);-1!==g;){const N=t[i.eDl];if(pa(c,g,N.data)){const z=$r(g,t,n,h,r,S);if(z!==Pn)return z}v=t[g+8],v!==Zt&&Ko(r,t[i.eDl].data[g+8]===S)&&pa(c,g,t)?(h=N,g=sr(v),t=fo(v,t)):g=-1}}return l}function $r(e,t,n,r,l,c){const h=t[i.eDl],g=h.data[e+8],N=xr(g,h,n,null==r?(0,i.Qs1)(g)&&yo:r!=h&&!!(3&g.type),1&l&&c===g);return null!==N?Ir(t,h,N,g,l):Pn}function xr(e,t,n,r,l){const c=e.providerIndexes,h=t.data,g=1048575&c,v=e.directiveStart,N=c>>20,te=l?g+N:e.directiveEnd;for(let re=r?g:g+N;re<te;re++){const Ae=h[re];if(re<v&&n===Ae||re>=v&&Ae.type===n)return re}if(l){const re=h[v];if(re&&(0,i.JlV)(re)&&re.type===n)return v}return null}function Ir(e,t,n,r,l){let c=e[n];const h=t.data;if(c instanceof Kt){const g=c;if(g.resolving){const re=(0,i.PP7)(h[n]);throw(0,i.PQT)(re)}const v=Wn(g.canSeeViewProviders);g.resolving=!0;const z=g.injectImpl?(0,i.a2B)(g.injectImpl):null;(0,i.ihb)(e,r,0);try{c=e[n]=g.factory(void 0,l,h,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Xt(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=t.type.prototype;if(r){const h=Tr(t);(n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h)}l&&(n.preOrderHooks??=[]).push(0-e,l),c&&((n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c))}(n,h[n],t)}finally{null!==z&&(0,i.a2B)(z),Wn(v),g.resolving=!1,(0,i.niQ)()}}return c}function pa(e,t,n){return!!(n[t+(e>>Vr)]&1<<e)}function Ko(e,t){return!(2&e||1&e&&t)}class en{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tr(this._tNode,this._lView,t,(0,i.hjC)(r),n)}}function xo(){return new en((0,i.Mx4)(),(0,i.OAn)())}function Io(e){return q(()=>{const t=e.prototype.constructor,n=t[i.zSs]||Kn(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const c=l[i.zSs]||Kn(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Kn(e){return(0,i.Jzi)(e)?()=>{const t=Kn((0,i.nl4)(e));return t&&t()}:(0,i.wGu)(e)}function _o(e){const t=e[i.eDl],n=t.type;return 2===n?t.declTNode:1===n?e[i.qlT]:null}function ti(e){return function Mo(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const c=n[l];if(yr(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(c===t)return n[l+1];l+=2}}}return null}((0,i.Mx4)(),e)}const pn=ye("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>ti(e)}));let Ma=null;function Xn(e){return dr(function Go(){return Ma=Ma||new tn}().parameters(e))}function dr(e){return e.map(t=>function fa(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const l=Object.getPrototypeOf(r);if(r instanceof Ye||"Optional"===l.ngMetadataName)t.optional=!0;else if(r instanceof Ke||"SkipSelf"===l.ngMetadataName)t.skipSelf=!0;else if(r instanceof Re||"Self"===l.ngMetadataName)t.self=!0;else if(r instanceof rt||"Host"===l.ngMetadataName)t.host=!0;else if(r instanceof Me)t.token=r.token;else if(r instanceof pn){if(void 0===r.attributeName)throw new i.buA(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const Qt=(0,i.kLh)({provide:String,useValue:i.kLh});function bo(e){return void 0!==e.useClass}function to(e){return void 0!==e.useFactory}const qo=ne("Injectable",void 0,void 0,0,(e,t)=>function ge(e,t){let n=null,r=null;e.hasOwnProperty(i.yAH)||Object.defineProperty(e,i.yAH,{get:()=>(null===n&&(n=pt().compileInjectable(pe,`ng:///${e.name}/\u0275prov.js`,function vr(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(bo(n)||to(n))&&void 0!==n.deps&&(r.deps=dr(n.deps)),bo(n)?r.useClass=n.useClass:function wo(e){return Qt in e}(n)?r.useValue=n.useValue:to(n)?r.useFactory=n.useFactory:function Gn(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(i.zSs)||Object.defineProperty(e,i.zSs,{get:()=>{if(null===r){const l=pt();r=l.compileFactory(pe,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Xn(e),target:l.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Qo(){return _r((0,i.Mx4)(),(0,i.OAn)())}function _r(e,t){return new nr((0,i.d31)(e,t))}let nr=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Qo})();function Ro(e){return e instanceof nr?e.nativeElement:e}function ya(){return this._results[Symbol.iterator]()}class Yo{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new R.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=(0,i.Bqz)(t);(this._changesDetected=!(0,i.ng7)(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ya}function Po(e){return!(128&~e.flags)}var rr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rr||{});const Eo=new Map;let Lo=0;function Fo(e){Eo.delete(e[i.ID])}const B="__ngContext__";function le(e,t){(0,i.q$2)(t)?(e[B]=t[i.ID],function Or(e){Eo.set(e[i.ID],e)}(t)):e[B]=t}function Kr(e){return br(e[i.EJG])}function oo(e){return br(e[i.K29])}function br(e){for(;null!==e&&!(0,i.A0l)(e);)e=e[i.K29];return e}let ie;function Ce(e){ie=e}function Be(){if(void 0!==ie)return ie;if(typeof document<"u")return document;throw new i.buA(210,!1)}const qe=new i.nKC("",{providedIn:"root",factory:()=>lt}),lt="ng",Dt=new i.nKC(""),Bt=new i.nKC("",{providedIn:"platform",factory:()=>"unknown"}),fn=new i.nKC(""),yn=new i.nKC("",{providedIn:"root",factory:()=>Be().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),cn={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},ar=new i.nKC("",{providedIn:"root",factory:()=>cn});function En(){const e=new dn;return e.store=function Er(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(Be(),(0,i.WQX)(qe)),e}let dn=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:En});store={};onSerializeCallbacks={};get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const wi=new i.nKC("",{providedIn:"root",factory:()=>!1}),x=new i.nKC(""),ae={passive:!0,capture:!0},yt=new WeakMap,Ot=new WeakMap,Zn=new WeakMap,Uo=["click","keydown"],ta=["mouseenter","mouseover","focusin"];let Qr=null,Wa=0;class Ei{callbacks=new Set;listener=()=>{for(const t of this.callbacks)t()}}function za(e,t){let n=Ot.get(e);if(!n){n=new Ei,Ot.set(e,n);for(const r of Uo)e.addEventListener(r,n.listener,ae)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){Ot.delete(e);for(const c of Uo)e.removeEventListener(c,l,ae)}}}function Cs(e,t){let n=yt.get(e);if(!n){n=new Ei,yt.set(e,n);for(const r of ta)e.addEventListener(r,n.listener,ae)}return n.callbacks.add(t),()=>{const{callbacks:r,listener:l}=n;if(r.delete(t),0===r.size){for(const c of ta)e.removeEventListener(c,l,ae);yt.delete(e)}}}let Di=(e,t,n,r)=>{};const lo=new i.nKC("");function ra(e){return!(32&~e.flags)}function qi(e){let t=e._lView;return 2===t[i.eDl].type?null:((0,i.EFk)(t)&&(t=t[i.Yw1]),t)}function di(e){return e.get(x,!1,{optional:!0})}function gt(e,t){const n=e.contentQueries;if(null!==n){const r=(0,G.Ht)(null);try{for(let l=0;l<n.length;l+=2){const h=n[l+1];if(-1!==h){const g=e.data[h];(0,i.GA0)(n[l]),g.contentQueries(2,t[h],h)}}}finally{(0,G.Ht)(r)}}}function Tt(e,t,n){(0,i.GA0)(0);const r=(0,G.Ht)(null);try{t(e,n)}finally{(0,G.Ht)(r)}}function Vt(e,t,n){if((0,i.srX)(t)){const r=(0,G.Ht)(null);try{const c=t.directiveEnd;for(let h=t.directiveStart;h<c;h++){const g=e.data[h];g.contentQueries&&g.contentQueries(1,n[h],h)}}finally{(0,G.Ht)(r)}}}var vt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vt||{});let _t,Dn;function kn(){if(void 0===_t&&(_t=null,i.laP.trustedTypes))try{_t=i.laP.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _t}function Cr(e){return kn()?.createHTML(e)||e}function Sr(){if(void 0===Dn&&(Dn=null,i.laP.trustedTypes))try{Dn=i.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dn}function Do(e){return Sr()?.createHTML(e)||e}function Ms(e){return Sr()?.createScript(e)||e}function ou(e){return Sr()?.createScriptURL(e)||e}class el{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i.ok8})`}}function uo(e){return e instanceof el?e.changingThisBreaksApplicationSecurity:e}function hr(e,t){const n=function nl(e){return e instanceof el&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${i.ok8})`)}return n===t}function Rs(e){const t=new rl(e);return function uu(){try{return!!(new window.DOMParser).parseFromString(Cr(""),"text/html")}catch{return!1}}()?new lu(t):t}class lu{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Cr(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class rl{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Cr(t),n}}const Ec=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zi(e){return(e=String(e)).match(Ec)?e:"unsafe:"+e}function oa(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function es(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const cu=oa("area,br,col,hr,img,wbr"),Xd=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ts=oa("rp,rt"),ol=es(cu,es(Xd,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),es(ts,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),es(ts,Xd)),al=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),il=es(al,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aa=oa("script,style,template");class kc{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,l=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)l.push(n),n=xi(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=Dc(n);if(c){n=c;break}n=l.pop()}return this.buf.join("")}startElement(t){const n=sl(t).toLowerCase();if(!ol.hasOwnProperty(n))return this.sanitizedSomething=!0,!aa.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const c=r.item(l),h=c.name,g=h.toLowerCase();if(!il.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let v=c.value;al[g]&&(v=Zi(v)),this.buf.push(" ",h,'="',_(v),'"')}return this.buf.push(">"),!0}endElement(t){const n=sl(t).toLowerCase();ol.hasOwnProperty(n)&&!cu.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_(t))}}function Dc(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Os(t);return t}function xi(e){const t=e.firstChild;if(t&&function Mi(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Os(t);return t}function sl(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Os(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const ll=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ia=/([^\#-~ |!])/g;function _(e){return e.replace(/&/g,"&amp;").replace(ll,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ia,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P;function De(e){return"content"in e&&function Le(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var at=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(at||{});function Un(e){const t=hu();return t?t.sanitize(at.URL,e)||"":hr(e,"URL")?uo(e):Zi((0,i.eFE)(e))}function In(e){const t=hu();if(t)return ou(t.sanitize(at.RESOURCE_URL,e)||"");if(hr(e,"ResourceURL"))return ou(uo(e));throw new i.buA(904,!1)}function mu(e,t,n){return function Jp(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?In:Un}(t,n)(e)}function hu(){const e=(0,i.OAn)();return e&&e[i.M0L].sanitizer}const om=/^>|^->|<!--|-->|--!>|<!-$/g,Sc=/(<|>)/g;function sa(e){return e instanceof Function?e():e}function lf(e){if(function uf(e){if(!(0,i.xUg)(e))throw new i.buA(906,`The ${(0,i.PP7)(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(e),!(0,i.xUg)(e).standalone)throw new i.buA(907,`The ${(0,i.PP7)(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,i.PP7)(e)} component has the \`standalone: true\` flag in the decorator.`)}function cf(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const c=t.length;if(l+c===r||e.charCodeAt(l+c)<=32)return l}n=l+1}}const fm="ng-template";function df(e,t,n,r){let l=0;if(r){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==cf(t[l+1].toLowerCase(),n,0))return!0}else if(yu(e))return!1;if(l=t.indexOf(1,l),l>-1){let c;for(;++l<t.length&&"string"==typeof(c=t[l]);)if(c.toLowerCase()===n)return!0}return!1}function yu(e){return 4===e.type&&e.value!==fm}function mf(e,t,n){return t===(4!==e.type||n?e.value:fm)}function Tc(e,t,n){let r=4;const l=e.attrs,c=null!==l?function pf(e){for(let t=0;t<e.length;t++)if(yr(e[t]))return t;return e.length}(l):0;let h=!1;for(let g=0;g<t.length;g++){const v=t[g];if("number"!=typeof v){if(!h)if(4&r){if(r=2|1&r,""!==v&&!mf(e,v,n)||""===v&&1===t.length){if(la(r))return!1;h=!0}}else if(8&r){if(null===l||!df(e,l,v,n)){if(la(r))return!1;h=!0}}else{const S=t[++g],N=Ls(v,l,yu(e),n);if(-1===N){if(la(r))return!1;h=!0;continue}if(""!==S){let z;if(z=N>c?"":l[N+1].toLowerCase(),2&r&&S!==z){if(la(r))return!1;h=!0}}}}else{if(!h&&!la(r)&&!la(v))return!1;if(h&&la(v))continue;h=!1,r=v|1&r}}return la(r)||h}function la(e){return!(1&e)}function Ls(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let c=!1;for(;l<t.length;){const h=t[l];if(h===e)return l;if(3===h||6===h)c=!0;else{if(1===h||2===h){let g=t[++l];for(;"string"==typeof g;)g=t[++l];continue}if(4===h)break;if(0===h){l+=4;continue}}l+=c?1:2}return-1}return function ff(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ym(e,t,n=!1){for(let r=0;r<t.length;r++)if(Tc(e,t[r],n))return!0;return!1}function Mc(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function gm(e,t){return e?":not("+t.trim()+")":t}function vm(e){let t=e[0],n=1,r=2,l="",c=!1;for(;n<e.length;){let h=e[n];if("string"==typeof h)if(2&r){const g=e[++n];l+="["+h+(g.length>0?'="'+g+'"':"")+"]"}else 8&r?l+="."+h:4&r&&(l+=" "+h);else""!==l&&!la(h)&&(t+=gm(c,l),l=""),r=h,c=c||!la(r);n++}return""!==l&&(t+=gm(c,l)),t}const wn={};function xc(e,t){return e.createText(t)}function bm(e,t,n){e.setValue(t,n)}function Ic(e,t){return e.createComment(function Ps(e){return e.replace(om,t=>t.replace(Sc,"\u200b$1\u200b"))}(t))}function os(e,t,n){return e.createElement(t,n)}function as(e,t,n,r,l){e.insertBefore(t,n,r,l)}function wm(e,t,n){e.appendChild(t,n)}function Em(e,t,n,r,l){null!==r?as(e,t,n,r,l):wm(e,t,n)}function cl(e,t,n,r){e.removeChild(null,t,n,r)}function Rc(e,t,n){const{mergedAttrs:r,classes:l,styles:c}=n;null!==r&&function an(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const c=n[r++],h=n[r++],g=n[r++];e.setAttribute(t,h,g,c)}else{const c=l,h=n[++r];eo(c)?e.setProperty(t,c,h):e.setAttribute(t,c,h),r++}}}(e,t,r),null!==l&&function vf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,l),null!==c&&function gf(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Dm(e,t,n,r,l,c,h,g,v,S,N){const z=i.Yw1+r,te=z+l,re=function Cm(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:wn);return n}(z,te),Ae="function"==typeof S?S():S;return re[i.eDl]={type:e,blueprint:re,template:n,queries:null,viewQuery:g,declTNode:t,data:re.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:v,consts:Ae,incompleteFirstPass:!1,ssrId:N}}function Oc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Dm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gu(e,t,n,r,l,c,h,g,v,S,N){const z=t.blueprint.slice();return z[i.jgP]=l,z[i.Wg1]=1228|r,(null!==S||e&&2048&e[i.Wg1])&&(z[i.Wg1]|=2048),(0,i.HUe)(z),z[i.f7T]=z[i.X5O]=e,z[i.SKP]=n,z[i.M0L]=h||e&&e[i.M0L],z[i.GpT]=g||e&&e[i.GpT],z[i.YEL]=v||e&&e[i.YEL]||null,z[i.qlT]=c,z[i.ID]=function no(){return Lo++}(),z[i.tcA]=N,z[i.oMQ]=S,z[i.b5C]=2==t.type?e[i.b5C]:z,z}function vu(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function dl(e,t,n,r){if(0===n)return-1;const l=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function Pc(e,t){return e[i.EJG]?e[i.Yrj][i.K29]=t:e[i.EJG]=t,e[i.Yrj]=t,t}function Sm(e=1){_u((0,i.klJ)(),(0,i.OAn)(),(0,i._px)()+e,!1)}function _u(e,t,n,r){if(!r)if(3&~t[i.Wg1]){const c=e.preOrderHooks;null!==c&&_e(t,c,0,n)}else{const c=e.preOrderCheckHooks;null!==c&&Lt(t,c,n)}(0,i.ypq)(n)}var ml=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ml||{});function hl(e,t,n,r){const l=(0,G.Ht)(null);try{const[c,h,g]=e.inputs[n];let v=null;0!==(h&ml.SignalBased)&&(v=t[c][G.bh]),null!==v&&void 0!==v.transformFn?r=v.transformFn(r):null!==g&&(r=g.call(t,r)),null!==e.setInput?e.setInput(t,v,r,n,c):Ln(t,v,c,r)}finally{(0,G.Ht)(l)}}var is=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(is||{});let pl;function bu(e,t){return pl(e,t)}function wu(e){if(!e)return 0;const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function ss(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function Tm(e,t){return void 0!==e&&e.duration>t.duration}function Mm(e){return(null!=e.animationName||null!=e.propertyName)&&e.duration>0}function Ef(e,t,n){if(!n)return;const r=e.getAnimations();return 0===r.length?function wf(e,t){const n=getComputedStyle(e),r=function Nc(e){const t=ss(e,"animation-name"),n=ss(e,"animation-delay"),r=ss(e,"animation-duration"),l={animationName:"",propertyName:void 0,duration:0};for(let c=0;c<t.length;c++){const h=wu(n[c])+wu(r[c]);h>l.duration&&(l.animationName=t[c],l.duration=h)}return l}(n),l=function Am(e){const t=ss(e,"transition-property"),n=ss(e,"transition-duration"),r=ss(e,"transition-delay"),l={propertyName:"",duration:0,animationName:void 0};for(let c=0;c<t.length;c++){const h=wu(r[c])+wu(n[c]);h>l.duration&&(l.propertyName=t[c],l.duration=h)}return l}(n),c=r.duration>l.duration?r:l;Tm(t.get(e),c)||Mm(c)&&t.set(e,c)}(e,t):function kf(e,t,n){let r={animationName:void 0,propertyName:void 0,duration:0};for(const l of n){const c=l.effect?.getTiming(),h="number"==typeof c?.duration?c.duration:0;let v,S,g=(c?.delay??0)+h;l.animationName?S=l.animationName:v=l.transitionProperty,g>=r.duration&&(r={animationName:S,propertyName:v,duration:g})}Tm(t.get(e),r)||Mm(r)&&t.set(e,r)}(e,t,r)}const ls=new Set;var Lc=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Lc||{});const fl=new i.nKC(""),xm=new Set;function Yr(e){xm.has(e)||(xm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}const Im=!1,hi=class Rm extends R.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,(0,i.M6u)()&&(this.destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0,this.pendingTasks=(0,i.WQX)(i.rev,{optional:!0})??void 0)}emit(t){const n=(0,G.Ht)(null);try{super.next(t)}finally{(0,G.Ht)(n)}}subscribe(t,n,r){let l=t,c=n||(()=>null),h=r;if(t&&"object"==typeof t){const v=t;l=v.next?.bind(v),c=v.error?.bind(v),h=v.complete?.bind(v)}this.__isAsync&&(c=this.wrapInTimeout(c),l&&(l=this.wrapInTimeout(l)),h&&(h=this.wrapInTimeout(h)));const g=super.subscribe({next:l,error:c,complete:h});return t instanceof me.yU&&t.add(g),g}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Om(e){let t,n;function r(){e=i.lQ1;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Pm(e){return queueMicrotask(()=>e()),()=>{e=i.lQ1}}const Ya="isAngularZone",Eu=Ya+"_ID";let Nm=0;class vn{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new hi(!1);onMicrotaskEmpty=new hi(!1);onStable=new hi(!1);onError=new hi(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:c=Im}=t;if(typeof Zone>"u")throw new i.buA(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&r,h.shouldCoalesceRunChangeDetection=l,h.callbackScheduled=!1,h.scheduleInRootZone=c,function mv(e){const t=()=>{!function Cf(e){function t(){Om(()=>{e.callbackScheduled=!1,Lm(e),e.isCheckStableRunning=!0,Fc(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Lm(e))}(e)},n=Nm++;e._inner=e._inner.fork({name:"angular",properties:{[Ya]:!0,[Eu]:n,[Eu+n]:!0},onInvokeTask:(r,l,c,h,g,v)=>{if(function hv(e){return Sf(e,"__ignore_ng_zone__")}(v))return r.invokeTask(c,h,g,v);try{return Fm(e),r.invokeTask(c,h,g,v)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),ku(e)}},onInvoke:(r,l,c,h,g,v,S)=>{try{return Fm(e),r.invoke(c,h,g,v,S)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function pv(e){return Sf(e,"__scheduler_tick__")}(v)&&t(),ku(e)}},onHasTask:(r,l,c,h)=>{r.hasTask(c,h),l===c&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,Lm(e),Fc(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,l,c,h)=>(r.handleError(c,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ya)}static assertInAngularZone(){if(!vn.isInAngularZone())throw new i.buA(909,!1)}static assertNotInAngularZone(){if(vn.isInAngularZone())throw new i.buA(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+l,t,Df,i.lQ1,i.lQ1);try{return c.runTask(h,n,r)}finally{c.cancelTask(h)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Df={};function Fc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Fm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ku(e){e._nesting--,Fc(e)}class Du{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new hi;onMicrotaskEmpty=new hi;onStable=new hi;onError=new hi;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}function Sf(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}function Af(e="zone.js",t){return"noop"===e?new Du:"zone.js"===e?new vn(t):e}let jc=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();const Ba=[0,1,2,3];let Tf=(()=>{class e{ngZone=(0,i.WQX)(vn);scheduler=(0,i.WQX)(i.hk6);errorHandler=(0,i.WQX)(i.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,i.WQX)(fl,{optional:!0})}execute(){const n=this.sequences.size>0;n&&ct(16),this.executing=!0;for(const r of Ba)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[r])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[r])(l.pipelinedValue),l.snapshot))}catch(c){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ct(17)}register(n){const{view:r}=n;void 0!==r?((r[i.JEi]??=[]).push(n),(0,i.blu)(r),r[i.Wg1]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Lc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();class Mf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,l,c,h=null){this.impl=t,this.hooks=n,this.view=r,this.once=l,this.snapshot=h,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[i.JEi];t&&(this.view[i.JEi]=t.filter(n=>n!==this))}}function jm(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return Yr("NgAfterNextRender"),Bc(e,n,t,!0)}function Bc(e,t,n,r){const l=t.get(jc);l.impl??=t.get(Tf);const c=t.get(fl,null,{optional:!0}),h=!0!==n?.manualCleanup?t.get(i.abz):null,g=t.get(i.r4V,null,{optional:!0}),v=new Mf(l.impl,function Bm(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),g?.view,r,h,c?.snapshot(null));return l.impl.register(v),v}const Cu=new i.nKC("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Vm(e,t,n){const r=e.get(Cu);if(Array.isArray(t))for(const l of t)r.queue.add(l),n?.detachedLeaveAnimationFns?.push(l);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function $m(e){const t=e.get(Cu);t.isScheduled||(jm(()=>{t.isScheduled=!1;for(let n of t.queue)n();t.queue.clear()},{injector:e}),t.isScheduled=!0)}function Uc(e){const t=e.get(Cu);t.scheduler=$m,t.scheduler(e)}function Hm(e,t){for(const[n,r]of t)Vm(e,r.animateFns)}function Wm(e,t,n,r){const l=e?.[i.Isx]?.enter;null!==t&&l&&l.has(n.index)&&Hm(r,l)}function yl(e,t,n,r,l,c,h,g){if(null!=l){let v,S=!1;(0,i.A0l)(l)?v=l:(0,i.q$2)(l)&&(S=!0,l=l[i.jgP]);const N=(0,i.IvY)(l);0===e&&null!==r?(Wm(g,r,c,n),null==h?wm(t,r,N):as(t,r,N,h||null,!0)):1===e&&null!==r?(Wm(g,r,c,n),as(t,r,N,h||null,!0)):2===e?Rf(g,c,n,z=>{cl(t,N,S,z)}):3===e&&Rf(g,c,n,()=>{t.destroyNode(N)}),null!=v&&function Ev(e,t,n,r,l,c,h){const g=r[i.s6P];g!==(0,i.IvY)(r)&&yl(t,e,n,c,g,l,h);for(let S=i.Y20;S<r.length;S++){const N=r[S];Hc(N[i.eDl],N,e,t,c,g)}}(t,e,n,v,c,r,h)}}function xf(e,t){If(e,t),t[i.jgP]=null,t[i.qlT]=null}function If(e,t){t[i.M0L].changeDetectionScheduler?.notify(9),Hc(e,t,t[i.GpT],2,null,null)}function zm(e,t){const n=e[i.nfM],r=n.indexOf(t);n.splice(r,1)}function Su(e,t){if((0,i.EPY)(t))return;const n=t[i.GpT];n.destroyNode&&Hc(e,t,n,3,null,null),function vv(e){let t=e[i.EJG];if(!t)return Km(e[i.eDl],e);for(;t;){let n=null;if((0,i.q$2)(t))n=t[i.EJG];else{const r=t[i.Y20];r&&(n=r)}if(!n){for(;t&&!t[i.K29]&&t!==e;)(0,i.q$2)(t)&&Km(t[i.eDl],t),t=t[i.f7T];null===t&&(t=e),(0,i.q$2)(t)&&Km(t[i.eDl],t),n=t&&t[i.K29]}t=n}}(t)}function Km(e,t){if((0,i.EPY)(t))return;const n=(0,G.Ht)(null);try{t[i.Wg1]&=-129,t[i.Wg1]|=256,t[i.Iaj]&&(0,G.XR)(t[i.Iaj]),function wv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof Kt)){const c=n[r+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const g=l[c[h]],v=c[h+1];ct(4,g,v);try{v.call(g)}finally{ct(5,g,v)}}else{ct(4,l,c);try{c.call(l)}finally{ct(5,l,c)}}}}}(e,t),function bv(e,t){const n=e.cleanup,r=t[i.VVG];if(null!==n)for(let h=0;h<n.length-1;h+=2)if("string"==typeof n[h]){const g=n[h+3];g>=0?r[g]():r[-g].unsubscribe(),h+=2}else n[h].call(r[n[h+1]]);null!==r&&(t[i.VVG]=null);const l=t[i.Czx];if(null!==l){t[i.Czx]=null;for(let h=0;h<l.length;h++)(0,l[h])()}const c=t[i.tQN];if(null!==c){t[i.tQN]=null;for(const h of c)h.destroy()}}(e,t),1===t[i.eDl].type&&t[i.GpT].destroy();const r=t[i.rQE];if(null!==r&&(0,i.A0l)(t[i.f7T])){r!==t[i.f7T]&&zm(r,t);const l=t[i.Ds7];null!==l&&l.detachView(e)}Fo(t)}finally{(0,G.Ht)(n)}}function Rf(e,t,n,r){const l=e?.[i.Isx];if(null==l||null==l.leave||!l.leave.has(t.index))return r(!1);e&&ls.add(e),Vm(n,()=>{if(l.leave&&l.leave.has(t.index)){const h=l.leave.get(t.index),g=[];if(h){for(let v=0;v<h.animateFns.length;v++){const S=h.animateFns[v],{promise:N}=S();g.push(N)}l.detachedLeaveAnimationFns=void 0}l.running=Promise.allSettled(g),function _v(e,t){const n=e[i.Isx]?.running;n?n.then(()=>{e[i.Isx].running=void 0,ls.delete(e),t(!0)}):t(!1)}(e,r)}else e&&ls.delete(e),r(!1)},l)}function Au(e,t,n){return Of(e,t.parent,n)}function Of(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[i.jgP];if((0,i.Qs1)(r)){const{encapsulation:l}=e.data[r.directiveStart+r.componentOffset];if(l===vt.None||l===vt.Emulated)return null}return(0,i.d31)(r,n)}function Gm(e,t,n){return Qm(e,t,n)}function qm(e,t,n){return 40&e.type?(0,i.d31)(e,n):null}let Tu,Qm=qm;function Ym(e,t){Qm=e,Tu=t}function Vc(e,t,n,r){const l=Au(e,r,t),c=t[i.GpT],g=Gm(r.parent||t[i.qlT],r,t);if(null!=l)if(Array.isArray(n))for(let v=0;v<n.length;v++)Em(c,l,n[v],g,!1);else Em(c,l,n,g,!1);void 0!==Tu&&Tu(c,r,t,n,l)}function Mt(e,t){if(null!==t){const n=t.type;if(3&n)return(0,i.d31)(t,e);if(4&n)return $c(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Mt(e,r);{const l=e[t.index];return(0,i.A0l)(l)?$c(-1,l):(0,i.IvY)(l)}}if(128&n)return Mt(e,t.next);if(32&n)return bu(t,e)()||(0,i.IvY)(e[t.index]);{const r=Xa(e,t);return null!==r?Array.isArray(r)?r[0]:Mt((0,i._0$)(e[i.b5C]),r):Mt(e,t.next)}}return null}function Xa(e,t){return null!==t?e[i.b5C][i.qlT].projection[t.projection]:null}function $c(e,t){const n=i.Y20+e+1;if(n<t.length){const r=t[n],l=r[i.eDl].firstChild;if(null!==l)return Mt(r,l)}return t[i.s6P]}function Xm(e,t,n,r,l,c,h){for(;null!=n;){const g=r[i.YEL];if(128===n.type){n=n.next;continue}const v=r[n.index],S=n.type;if(h&&0===t&&(v&&le((0,i.IvY)(v),r),n.flags|=2),!ra(n))if(8&S)Xm(e,t,n.child,r,l,c,!1),yl(t,e,g,l,v,n,c,r);else if(32&S){const N=bu(n,r);let z;for(;z=N();)yl(t,e,g,l,z,n,c,r);yl(t,e,g,l,v,n,c,r)}else 16&S?Wc(e,t,r,n,l,c):yl(t,e,g,l,v,n,c,r);n=h?n.projectionNext:n.next}}function Hc(e,t,n,r,l,c){Xm(n,r,e.firstChild,t,l,c,!1)}function Wc(e,t,n,r,l,c){const h=n[i.b5C],v=h[i.qlT].projection[r.projection];if(Array.isArray(v))for(let S=0;S<v.length;S++)yl(t,e,n[i.YEL],l,v[S],r,c,n);else{let S=v;const N=h[i.f7T];Po(r)&&(S.flags|=128),Xm(e,t,S,N,l,c,!0)}}function Nf(e,t,n,r,l){const c=(0,i._px)(),h=2&r;try{(0,i.ypq)(-1),h&&t.length>i.Yw1&&_u(e,t,i.Yw1,!1),ct(h?2:0,l,n),n(r,l)}finally{(0,i.ypq)(c),ct(h?3:1,l,n)}}function zc(e,t,n){(function jf(e,t,n){const r=n.directiveStart,l=n.directiveEnd;(0,i.Qs1)(n)&&function _f(e,t,n){const r=(0,i.d31)(t,e),l=Oc(n),c=e[i.M0L].rendererFactory,h=Pc(e,gu(e,l,null,vu(n),r,t,null,c.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Mr(n,t);const c=n.initialInputs;for(let h=r;h<l;h++){const g=e.data[h],v=Ir(t,e,h,n);le(v,t),null!==c&&$f(0,h-r,v,g,0,c),(0,i.JlV)(g)&&((0,i.KdJ)(n.index,t)[i.SKP]=Ir(t,e,h,n))}})(e,t,n),!(64&~n.flags)&&function Bf(e,t,n){const r=n.directiveStart,l=n.directiveEnd,c=n.index,h=(0,i.Z9v)();try{(0,i.ypq)(c);for(let g=r;g<l;g++){const v=e.data[g],S=t[g];(0,i.RZ9)(g),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Uf(v,S)}}finally{(0,i.ypq)(-1),(0,i.RZ9)(h)}}(e,t,n)}function gl(e,t,n=i.d31){const r=t.localNames;if(null!==r){let l=t.index+1;for(let c=0;c<r.length;c+=2){const h=r[c+1],g=-1===h?n(t,e):e[h];e[l++]=g}}}let Lf=()=>null;function Jm(e,t,n,r,l,c){Ou(e,t[i.eDl],t,n,r)?(0,i.Qs1)(e)&&Zm(t,e.index):(3&e.type&&(n=function Kc(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),Mu(e,t,n,r,l,c))}function Mu(e,t,n,r,l,c){if(3&e.type){const h=(0,i.d31)(e,t);r=null!=c?c(r,e.value||"",n):r,l.setProperty(h,n,r)}}function Zm(e,t){const n=(0,i.KdJ)(t,e);16&n[i.Wg1]||(n[i.Wg1]|=64)}function Uf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gc(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];ym(t,c.selectors,!1)&&(r??=[],(0,i.JlV)(c)?r.unshift(c):r.push(c))}return r}function xu(e,t,n,r,l,c,h){if(null==c)e.removeAttribute(t,l,n);else{const g=null==h?(0,i.eFE)(c):h(c,r||"",l);e.setAttribute(t,l,g,n)}}function $f(e,t,n,r,l,c){const h=c[t];if(null!==h)for(let g=0;g<h.length;g+=2)hl(r,n,h[g],h[g+1])}function Iu(e,t,n,r,l){const c=i.Yw1+n,h=t[i.eDl],g=l(h,t,e,r,n);t[c]=g,(0,i.iMd)(e,!0);const v=2===e.type;return v?(Rc(t[i.GpT],g,e),(0===(0,i.znI)()||(0,i.yoD)(e))&&le(g,t),(0,i.Fje)()):le(g,t),(0,i.SX7)()&&(!v||!ra(e))&&Vc(h,t,g,e),e}function Ru(e){let t=e;return(0,i.YWB)()?(0,i.Pfq)():(t=t.parent,(0,i.iMd)(t,!1)),t}function th(e,t,n){return(null===e||(0,i.JlV)(e))&&(n=(0,i.zAe)(n[t.index])),n[i.GpT]}function qc(e,t){const n=e[i.YEL];if(!n)return;let r;try{r=n.get(i.ZTf,null)}catch{r=null}r?.(t)}function Ou(e,t,n,r,l){const c=e.inputs?.[r],h=e.hostDirectiveInputs?.[r];let g=!1;if(h)for(let v=0;v<h.length;v+=2){const S=h[v];hl(t.data[S],n[S],h[v+1],l),g=!0}if(c)for(const v of c)hl(t.data[v],n[v],r,l),g=!0;return g}function Wf(e,t){const n=(0,i.KdJ)(t,e),r=n[i.eDl];!function zf(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[i.jgP];null!==l&&null===n[i.tcA]&&(n[i.tcA]=null),ct(18),Qc(r,n,n[i.SKP]),ct(19,n[i.SKP])}function Qc(e,t,n){(0,i.ID8)(t);try{const r=e.viewQuery;null!==r&&Tt(1,r,n);const l=e.template;null!==l&&Nf(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[i.Ds7]?.finishViewCreation(e),e.staticContentQueries&&gt(e,t),e.staticViewQueries&&Tt(2,e.viewQuery,n);const c=e.components;null!==c&&function Tv(e,t){for(let n=0;n<t.length;n++)Wf(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[i.Wg1]&=-5,(0,i.bll)()}}function Fs(e,t,n,r){const l=(0,G.Ht)(null);try{const c=t.tView,v=gu(e,c,n,4096&e[i.Wg1]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);v[i.rQE]=e[t.index];const N=e[i.Ds7];return null!==N&&(v[i.Ds7]=N.createEmbeddedView(c)),Qc(c,v,n),v}finally{(0,G.Ht)(l)}}function us(e,t){return!t||null===t.firstChild||Po(e)}function _l(e,t,n,r,l=!1){for(;null!==n;){if(128===n.type){n=l?n.projectionNext:n.next;continue}const c=t[n.index];null!==c&&r.push((0,i.IvY)(c)),(0,i.A0l)(c)&&Kf(c,r);const h=n.type;if(8&h)_l(e,t,n.child,r);else if(32&h){const g=bu(n,t);let v;for(;v=g();)r.push(v)}else if(16&h){const g=Xa(t,n);if(Array.isArray(g))r.push(...g);else{const v=(0,i._0$)(t[i.b5C]);_l(v[i.eDl],v,g,r,!0)}}n=l?n.projectionNext:n.next}return r}function Kf(e,t){for(let n=i.Y20;n<e.length;n++){const r=e[n],l=r[i.eDl].firstChild;null!==l&&_l(r[i.eDl],r,l,t)}e[i.s6P]!==e[i.jgP]&&t.push(e[i.s6P])}function nh(e){if(null!==e[i.JEi]){for(const t of e[i.JEi])t.impl.addSequence(t);e[i.JEi].length=0}}let rh=[];const Yf={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{(0,i.blu)(e.lView)},consumerOnSignalRead(){this.lView[i.Iaj]=this}},Oi={...G.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=(0,i._0$)(e.lView);for(;t&&!Yc(t[i.eDl]);)t=(0,i._0$)(t);t&&(0,i.HAh)(t)},consumerOnSignalRead(){this.lView[i.Iaj]=this}};function Yc(e){return 2!==e.type}function Pu(e){if(null===e[i.tQN])return;let t=!0;for(;t;){let n=!1;for(const r of e[i.tQN])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[i.Wg1])}}function mo(e,t=0){const r=e[i.M0L].rendererFactory;r.begin?.();try{!function ah(e,t){const n=(0,i.yP_)();try{(0,i.cBl)(!0),uh(e,t);let r=0;for(;(0,i.dMS)(e);){if(100===r)throw new i.buA(103,!1);r++,uh(e,1)}}finally{(0,i.cBl)(n)}}(e,t)}finally{r.end?.()}}function Nu(e,t,n,r){if((0,i.EPY)(t))return;const l=t[i.Wg1];(0,i.ID8)(t);let g=!0,v=null,S=null;Yc(e)?(S=function Gf(e){return e[i.Iaj]??function qf(e){const t=rh.pop()??Object.create(Yf);return t.lView=e,t}(e)}(t),v=(0,G.Bg)(S)):null===(0,G.nR)()?(g=!1,S=function Xf(e){const t=e[i.Iaj]??Object.create(Oi);return t.lView=e,t}(t),v=(0,G.Bg)(S)):t[i.Iaj]&&((0,G.XR)(t[i.Iaj]),t[i.Iaj]=null);try{(0,i.HUe)(t),(0,i.Kw3)(e.bindingStartIndex),null!==n&&Nf(e,t,n,2,r);const N=!(3&~l);if(N){const re=e.preOrderCheckHooks;null!==re&&Lt(t,re,null)}else{const re=e.preOrderHooks;null!==re&&_e(t,re,0,null),je(t,0)}if(function cs(e){for(let t=Kr(e);null!==t;t=oo(t)){if(!(2&t[i.Wg1]))continue;const n=t[i.nfM];for(let r=0;r<n.length;r++)(0,i.HAh)(n[r])}}(t),Pu(t),ih(t,0),null!==e.contentQueries&&gt(e,t),N){const re=e.contentCheckHooks;null!==re&&Lt(t,re)}else{const re=e.contentHooks;null!==re&&_e(t,re,1),je(t,1)}!function dh(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)(0,i.ypq)(~l);else{const c=l,h=n[++r],g=n[++r];(0,i.vQI)(h,c);const v=t[c];ct(24,v),g(2,v),ct(25,v)}}}finally{(0,i.ypq)(-1)}}(e,t);const z=e.components;null!==z&&ch(t,z,0);const te=e.viewQuery;if(null!==te&&Tt(2,te,r),N){const re=e.viewCheckHooks;null!==re&&Lt(t,re)}else{const re=e.viewHooks;null!==re&&_e(t,re,2),je(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[i.pcR]){for(const re of t[i.pcR])re();t[i.pcR]=null}nh(t),t[i.Wg1]&=-73}catch(N){throw(0,i.blu)(t),N}finally{null!==S&&((0,G.Wu)(S,v),g&&function Qf(e){e.lView[i.Iaj]!==e&&(e.lView=null,rh.push(e))}(S)),(0,i.bll)()}}function ih(e,t){for(let n=Kr(e);null!==n;n=oo(n))for(let r=i.Y20;r<n.length;r++)lh(n[r],t)}function sh(e,t,n){ct(18);const r=(0,i.KdJ)(t,e);lh(r,n),ct(19,r[i.SKP])}function lh(e,t){(0,i.F1c)(e)&&uh(e,t)}function uh(e,t){const r=e[i.eDl],l=e[i.Wg1],c=e[i.Iaj];let h=!!(0===t&&16&l);if(h||=!!(64&l&&0===t),h||=!!(1024&l),h||=!(!c?.dirty||!(0,G.si)(c)),h||=!1,c&&(c.dirty=!1),e[i.Wg1]&=-9217,h)Nu(r,e,r.template,e[i.SKP]);else if(8192&l){const g=(0,G.Ht)(null);try{Pu(e),ih(e,1);const v=r.components;null!==v&&ch(e,v,1),nh(e)}finally{(0,G.Ht)(g)}}}function ch(e,t,n){for(let r=0;r<t.length;r++)sh(e,t[r],n)}function ds(e,t){const n=(0,i.yP_)()?64:1088;for(e[i.M0L].changeDetectionScheduler?.notify(t);e;){e[i.Wg1]|=n;const r=(0,i._0$)(e);if((0,i.EFk)(e)&&!r)return e;e=r}return null}function mh(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Jc(e,t){const n=i.Y20+t;if(n<e.length)return e[n]}function js(e,t,n,r=!0){const l=t[i.eDl];if(function Fu(e,t,n,r){const l=i.Y20+r,c=n.length;r>0&&(n[l-1][i.K29]=t),r<c-i.Y20?(t[i.K29]=n[l],(0,i.EYC)(n,i.Y20+r,t)):(n.push(t),t[i.K29]=null),t[i.f7T]=n;const h=t[i.rQE];null!==h&&n!==h&&bl(h,t);const g=t[i.Ds7];null!==g&&g.insertView(e),(0,i._gW)(t),t[i.Wg1]|=128}(l,t,e,n),r){const h=$c(n,e),g=t[i.GpT],v=g.parentNode(e[i.s6P]);null!==v&&function gv(e,t,n,r,l,c){r[i.jgP]=l,r[i.qlT]=t,Hc(e,r,n,1,l,c)}(l,e[i.qlT],g,t,v,h)}const c=t[i.tcA];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function Lu(e,t){const n=ms(e,t);return void 0!==n&&Su(n[i.eDl],n),n}function ms(e,t){if(e.length<=i.Y20)return;const n=i.Y20+t,r=e[n];if(r){const l=r[i.rQE];null!==l&&l!==e&&zm(l,r),t>0&&(e[n-1][i.K29]=r[i.K29]);const c=(0,i.E6O)(e,i.Y20+t);xf(r[i.eDl],r);const h=c[i.Ds7];null!==h&&h.detachView(c[i.eDl]),r[i.f7T]=null,r[i.K29]=null,r[i.Wg1]&=-129}return r}function bl(e,t){const n=e[i.nfM],r=t[i.f7T];((0,i.q$2)(r)||t[i.b5C]!==r[i.f7T][i.b5C])&&(e[i.Wg1]|=2),null===n?e[i.nfM]=[t]:n.push(t)}class wl{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[i.eDl];return _l(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[i.SKP]}set context(t){this._lView[i.SKP]=t}get destroyed(){return(0,i.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[i.f7T];if((0,i.A0l)(t)){const n=t[i.bm_],r=n?n.indexOf(this):-1;r>-1&&(ms(t,r),(0,i.E6O)(n,r))}this._attachedToViewContainer=!1}Su(this._lView[i.eDl],this._lView)}onDestroy(t){(0,i.ik5)(this._lView,t)}markForCheck(){ds(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[i.Wg1]&=-129}reattach(){(0,i._gW)(this._lView),this._lView[i.Wg1]|=128}detectChanges(){this._lView[i.Wg1]|=1024,mo(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new i.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=(0,i.EFk)(this._lView),n=this._lView[i.rQE];null!==n&&!t&&zm(n,this._lView),If(this._lView[i.eDl],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new i.buA(902,!1);this._appRef=t;const n=(0,i.EFk)(this._lView),r=this._lView[i.rQE];null!==r&&!n&&bl(r,this._lView),(0,i._gW)(this._lView)}}let hs=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ju;constructor(n,r,l){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,l){const c=Fs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:l});return new wl(c)}})();function ju(){return Bu((0,i.Mx4)(),(0,i.OAn)())}function Bu(e,t){return 4&e.type?new hs(t,e,_r(e,t)):null}function yh(e,t,n){const r=t.insertBeforeIndex,l=Array.isArray(r)?r[0]:r;return null===l?qm(e,0,n):(0,i.IvY)(n[l])}function rd(e,t,n,r,l){const c=t.insertBeforeIndex;if(Array.isArray(c)){let h=r,g=null;if(3&t.type||(g=h,h=l),null!==h&&-1===t.componentOffset)for(let v=1;v<c.length;v++)as(e,h,n[c[v]],g,!1)}}function fi(e,t,n,r,l){let c=e.data[t];if(null===c)c=gh(e,t,n,r,l),(0,i.JjR)()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=l;const h=(0,i.Ab)();c.injectorIndex=null===h?-1:h.injectorIndex}return(0,i.iMd)(c,!0),c}function gh(e,t,n,r,l){const c=(0,i.veI)(),h=(0,i.YWB)(),v=e.data[t]=function Pv(e,t,n,r,l,c){let h=t?t.injectorIndex:-1,g=0;return(0,i.KtD)()&&(g|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,n,t,r,l);return function Ov(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,v,c,h),v}function ty(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Sl(r)||ny(r,t)&&null===ry(r)&&oy(r,t.index)}}function Sl(e){return!(64&e.type)}function ny(e,t){return Sl(t)||e.index>t.index}function ry(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function oy(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Ym(yh,rd),e.insertBeforeIndex=t)}function Ni(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function _h(e,t,n){const r=gh(e,n,64,null,null);return ty(t,r),r}function Hu(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Wu(e){return e>>>17}function od(e){return(131070&e)>>>1}function ad(e,t,n){e.index=0;const r=Hu(t,n);e.removes=null!==r?t.remove[r]:i.Mlv}function zu(e){if(e.index<e.removes.length){const t=e.removes[e.index++];return t>0?e.lView[t]:(e.stack.push(e.index,e.removes),ad(e,e.lView[i.eDl].data[~t],e.lView),zu(e))}return 0===e.stack.length?(e.lView=void 0,null):(e.removes=e.stack.pop(),e.index=e.stack.pop(),zu(e))}function iy(){const e={stack:[],index:-1};return function t(n,r){for(e.lView=r;e.stack.length;)e.stack.pop();return ad(e,n.value,r),zu.bind(null,e)}}function vy(e,t,n){for(const r of n.node.cases[n.case]){const l=t.get(r.index-i.Yw1);l&&cl(e,l,!1)}}function Yu(e){const t=e[i.qFA]??[],r=e[i.f7T][i.GpT],l=[];for(const c of t)void 0!==c.data.di?l.push(c):Mh(c,r);e[i.qFA]=l}function Xu(e){const{lContainer:t}=e,n=t[i.qFA];if(null===n)return;const l=t[i.f7T][i.GpT];for(const c of n)Mh(c,l)}function Mh(e,t){let n=0,r=e.firstChild;if(r){const l=e.data.r;for(;n<l;){const c=r.nextSibling;cl(t,r,!1),r=c,n++}}}function Ml(e){Yu(e);const t=e[i.jgP];(0,i.q$2)(t)&&xl(t);for(let n=i.Y20;n<e.length;n++)xl(e[n])}function xl(e){!function yd(e){const t=e[i.tcA];if(t){const{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){const l=e[i.GpT];for(const c of r.values())vy(l,n,c)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[i.eDl];for(let n=i.Yw1;n<t.bindingStartIndex;n++)(0,i.A0l)(e[n])?Ml(e[n]):(0,i.q$2)(e[n])&&xl(e[n])}let Nh=class{},gd=class{};class Uv{resolveComponentFactory(t){throw new i.buA(917,!1)}}let vd=class{static NULL=new Uv};class $s{}let Lh=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Fh(){const e=(0,i.OAn)(),t=(0,i.Mx4)(),n=(0,i.KdJ)(t.index,e);return((0,i.q$2)(n)?n:e)[i.GpT]}()})(),Ey=(()=>{class e{static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>null})}return e})();function _d(e){return void 0!==e.ngModule}function _s(e){return!!(0,i.phH)(e)}function Zu(e){return!!(0,i.oyA)(e)}function jh(e){return!!(0,i.HaV)(e)}function Rl(e){return!!(0,i.xUg)(e)}function Bh(e,t){if((0,i.Jzi)(e)&&!(e=(0,i.nl4)(e)))throw new Error(`Expected forwardRef function, imported from "${(0,i.PP7)(t)}", to return a standalone entity or NgModule but got "${(0,i.PP7)(e)||e}".`);if(null==(0,i.phH)(e)){const n=(0,i.xUg)(e)||(0,i.HaV)(e)||(0,i.oyA)(e);if(null==n)throw _d(e)?new Error(`A module with providers was imported from "${(0,i.PP7)(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,i.PP7)(e)}" type, imported from "${(0,i.PP7)(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!n.standalone)throw new Error(`The "${(0,i.PP7)(e)}" ${function ky(e){return(0,i.xUg)(e)?"component":(0,i.HaV)(e)?"directive":(0,i.oyA)(e)?"pipe":"type"}(e)}, imported from "${(0,i.PP7)(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class Dy{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const t of this.ngModulesWithSomeUnresolvedDecls){const n=(0,i.phH)(t);if(n?.declarations)for(const r of sa(n.declarations))Rl(r)&&this.ownerNgModule.set(r,t)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(t,n){this.resolveNgModulesDecls();const r=(0,i.xUg)(t);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${t}`);if(r.standalone){const l=this.getStandaloneComponentScope(t,n);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(t))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(t));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(t,n){if(!_s(t))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${t}`);this.ngModulesWithSomeUnresolvedDecls.add(t)}clearScopeCacheFor(t){this.ngModulesScopeCache.delete(t),this.standaloneComponentsScopeCache.delete(t)}getNgModuleScope(t){if(this.ngModulesScopeCache.has(t))return this.ngModulesScopeCache.get(t);const n=this.computeNgModuleScope(t);return this.ngModulesScopeCache.set(t,n),n}computeNgModuleScope(t){const n=(0,i.WbQ)(t),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of sa(n.imports))if(_s(l)){const c=this.getNgModuleScope(l);Fi(c.exported.directives,r.compilation.directives),Fi(c.exported.pipes,r.compilation.pipes)}else{if(!(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}if(jh(l)||Rl(l))r.compilation.directives.add(l);else{if(!Zu(l))throw new i.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(l)}}if(!r.compilation.isPoisoned)for(const l of sa(n.declarations)){if(_s(l)||(0,i.QuC)(l)){r.compilation.isPoisoned=!0;break}Zu(l)?r.compilation.pipes.add(l):r.compilation.directives.add(l)}for(const l of sa(n.exports))if(_s(l)){const c=this.getNgModuleScope(l);Fi(c.exported.directives,r.exported.directives),Fi(c.exported.pipes,r.exported.pipes),Fi(c.exported.directives,r.compilation.directives),Fi(c.exported.pipes,r.compilation.pipes)}else Zu(l)?r.exported.pipes.add(l):r.exported.directives.add(l);return r}getStandaloneComponentScope(t,n){if(this.standaloneComponentsScopeCache.has(t))return this.standaloneComponentsScopeCache.get(t);const r=this.computeStandaloneComponentScope(t,n);return this.standaloneComponentsScopeCache.set(t,r),r}computeStandaloneComponentScope(t,n){const r={compilation:{directives:new Set([t]),pipes:new Set,ngModules:new Set}};for(const l of(0,i.Bqz)(n??[])){const c=(0,i.nl4)(l);try{Bh(c,t)}catch{return r.compilation.isPoisoned=!0,r}if(_s(c)){r.compilation.ngModules.add(c);const h=this.getNgModuleScope(c);if(h.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;Fi(h.exported.directives,r.compilation.directives),Fi(h.exported.pipes,r.compilation.pipes)}else if(Zu(c))r.compilation.pipes.add(c);else{if(!jh(c)&&!Rl(c))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(c)}}return r}isOrphanComponent(t){const n=(0,i.xUg)(t);return!(!n||n.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(t)))}}function Fi(e,t){for(const n of e)t.add(n)}const ec=new Dy,bd={};class Ol{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const l=this.injector.get(t,bd,r);return l!==bd||n===bd?l:this.parentInjector.get(t,n,r)}}function wd(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,c=0;if(null!==t)for(let h=0;h<t.length;h++){const g=t[h];if("number"==typeof g)c=g;else if(1==c)l=(0,i.n$e)(l,g);else if(2==c){const S=t[++h];r=(0,i.n$e)(r,g+": "+S+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function bs(e,t=0){const n=(0,i.OAn)();return null===n?(0,i.KVO)(e,t):tr((0,i.Mx4)(),n,(0,i.nl4)(e),t)}function Pl(e,t,n,r,l){const c=null===r?null:{"":-1},h=l(e,n);if(null!==h){let g=h,v=null,S=null;for(const N of h)if(null!==N.resolveHostDirectives){[g,v,S]=N.resolveHostDirectives(h);break}!function Cy(e,t,n,r,l,c,h){const g=r.length;let v=!1;for(let te=0;te<g;te++){const re=r[te];!v&&(0,i.JlV)(re)&&(v=!0,Vv(e,n,te)),lr(Mr(n,t),e,re.type)}!function $h(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,g);for(let te=0;te<g;te++){const re=r[te];re.providersResolver&&re.providersResolver(re)}let S=!1,N=!1,z=dl(e,t,g,null);g>0&&(n.directiveToIndex=new Map);for(let te=0;te<g;te++){const re=r[te];if(n.mergedAttrs=Hn(n.mergedAttrs,re.hostAttrs),ji(e,n,t,z,re),Ty(z,re,l),null!==h&&h.has(re)){const[Qe,ht]=h.get(re);n.directiveToIndex.set(re.type,[z,Qe+n.directiveStart,ht+n.directiveStart])}else(null===c||!c.has(re))&&n.directiveToIndex.set(re.type,z);null!==re.contentQueries&&(n.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(n.flags|=64);const Ae=re.type.prototype;!S&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),S=!0),!N&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),N=!0),z++}!function Sy(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const l=e.data[r];if(null!==n&&n.has(l)){const c=n.get(l);Vh(0,t,c,r),Vh(1,t,c,r),Nl(t,r,!0)}else Uh(0,t,l,r),Uh(1,t,l,r),Nl(t,r,!1)}}(e,n,c)}(e,t,n,g,c,v,S)}null!==c&&null!==r&&function Va(e,t,n){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const c=n[t[l+1]];if(null==c)throw new i.buA(-301,!1);r.push(t[l],c)}}(n,r,c)}function Vv(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Uh(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){let h;h=0===e?t.inputs??={}:t.outputs??={},h[c]??=[],h[c].push(r),Ed(t,c)}}function Vh(e,t,n,r){const l=0===e?n.inputs:n.outputs;for(const c in l)if(l.hasOwnProperty(c)){const h=l[c];let g;g=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},g[h]??=[],g[h].push(r,c),Ed(t,h)}}function Ed(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function Nl(e,t,n){const{attrs:r,inputs:l,hostDirectiveInputs:c}=e;if(null===r||!n&&null===l||n&&null===c||yu(e))return e.initialInputs??=[],void e.initialInputs.push(null);let h=null,g=0;for(;g<r.length;){const v=r[g];if(0!==v)if(5!==v){if("number"==typeof v)break;if(!n&&l.hasOwnProperty(v)){const S=l[v];for(const N of S)if(N===t){h??=[],h.push(v,r[g+1]);break}}else if(n&&c.hasOwnProperty(v)){const S=c[v];for(let N=0;N<S.length;N+=2)if(S[N]===t){h??=[],h.push(S[N+1],r[g+1]);break}}g+=2}else g+=2;else g+=4}e.initialInputs??=[],e.initialInputs.push(h)}function ji(e,t,n,r,l){e.data[r]=l;const c=l.factory||(l.factory=(0,i.wGu)(l.type,!0)),h=new Kt(c,(0,i.JlV)(l),bs,null);e.blueprint[r]=h,n[r]=h,function $v(e,t,n,r,l){const c=l.hostBindings;if(c){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const g=~t.index;(function Ay(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=g&&h.push(g),h.push(n,r,c)}}(e,t,r,dl(e,n,l.hostVars,wn),l)}function Ty(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;(0,i.JlV)(t)&&(n[""]=e)}}function nc(e,t,n,r,l,c,h,g){const v=t[i.eDl],S=v.consts,z=fi(v,e,n,r,(0,i.db4)(S,h));return c&&Pl(v,t,z,(0,i.db4)(S,g),l),z.mergedAttrs=Hn(z.mergedAttrs,z.attrs),null!==z.attrs&&wd(z,z.attrs,!1),null!==z.mergedAttrs&&wd(z,z.mergedAttrs,!0),null!==v.queries&&v.queries.elementStart(v,z),z}function kd(e,t){mt(e,t),(0,i.srX)(t)&&e.queries.elementEnd(t)}function Hs(e,t,n,r,l,c){const h=t.consts,v=fi(t,e,n,r,(0,i.db4)(h,l));if(v.mergedAttrs=Hn(v.mergedAttrs,v.attrs),null!=c){const S=(0,i.db4)(h,c);v.localNames=[];for(let N=0;N<S.length;N+=2)v.localNames.push(S[N],-1)}return null!==v.attrs&&wd(v,v.attrs,!1),null!==v.mergedAttrs&&wd(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}function Ws(e){return!!Cd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Hh(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}function Cd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $o(e,t,n){return e[t]=n}function ka(e,t){return e[t]}function Sn(e,t,n){return n!==wn&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Ja(e,t,n,r){const l=Sn(e,t,n);return Sn(e,t+1,r)||l}function Bi(e,t,n,r,l){const c=Ja(e,t,n,r);return Sn(e,t+2,l)||c}function jr(e,t,n,r,l,c){const h=Ja(e,t,n,r);return Ja(e,t+2,l,c)||h}function zs(e,t,n){return function r(l){ds((0,i.Qs1)(e)?(0,i.KdJ)(e.index,t):t,5);const h=t[i.SKP];let g=zh(t,h,n,l),v=r.__ngNextListenerFn__;for(;v;)g=zh(t,h,v,l)&&g,v=v.__ngNextListenerFn__;return g}}function zh(e,t,n,r){const l=(0,G.Ht)(null);try{return ct(6,t,n),!1!==n(r)}catch(c){return qc(e,c),!1}finally{ct(7,t,n),(0,G.Ht)(l)}}function Kh(e,t,n,r,l,c,h,g){const v=(0,i.yoD)(e);let S=!1,N=null;if(!r&&v&&(N=function xy(e,t,n,r){const l=e.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const h=l[c];if(h===n&&l[c+1]===r){const g=t[i.VVG],v=l[c+2];return g&&g.length>v?g[v]:null}"string"==typeof h&&(c+=2)}return null}(t,n,c,e.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=h,N.__ngLastListenerFn__=h,S=!0;else{const z=(0,i.d31)(e,n),te=r?r(z):z;!function bc(e,t,n,r){Di(e,t,n,r)}(n,te,c,g);const re=l.listen(te,c,g);(function Sd(e){return e.startsWith("animation")||e.startsWith("transition")})(c)||Gh(r?Qe=>r((0,i.IvY)(Qe[e.index])):e.index,t,n,c,g,re,!1)}return S}function Gh(e,t,n,r,l,c,h){const g=t.firstCreatePass?(0,i.vNG)(t):null,v=(0,i.d_l)(n),S=v.length;v.push(l,c),g&&g.push(r,e,S,(S+1)*(h?-1:1))}function Ks(e,t,n,r,l,c){const g=t[i.eDl],z=t[n][g.data[n].outputs[r]].subscribe(c);Gh(e.index,g,t,l,c,z,!0)}const Za=Symbol("BINDING");class Gs extends vd{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=(0,i.xUg)(t);return new Zh(n,this.ngModule)}}class Zh extends gd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Py(e){return Object.keys(e).map(t=>{const[n,r,l]=e[t],c={propName:n,templateName:t,isSignal:0!==(r&ml.SignalBased)};return l&&(c.transform=l),c})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Xh(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function yf(e){return e.map(vm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,l,c,h){ct(22);const g=(0,G.Ht)(null);try{const v=this.componentDef,S=function Yv(e,t,n,r){const l=e?["ng-version","20.3.12"]:function _m(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===l?""!==c&&t.push(c,e[++r]):8===l&&n.push(c);else{if(!la(l))break;l=c}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let c=null,h=null,g=0;if(n)for(const N of n)g+=N[Za].requiredVars,N.create&&(N.targetIdx=0,(c??=[]).push(N)),N.update&&(N.targetIdx=0,(h??=[]).push(N));if(r)for(let N=0;N<r.length;N++){const z=r[N];if("function"!=typeof z)for(const te of z.bindings){g+=te[Za].requiredVars;const re=N+1;te.create&&(te.targetIdx=re,(c??=[]).push(te)),te.update&&(te.targetIdx=re,(h??=[]).push(te))}}const v=[t];if(r)for(const N of r){const te=(0,i.HaV)("function"==typeof N?N:N.type);v.push(te)}return Dm(0,null,function Xv(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(c,h),1,g,v,null,null,null,[l],null)}(r,v,h,c),N=function Gv(e,t,n){let r=t instanceof i.uvJ?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Ol(n,r):n}(v,l||this.ngModule,t),z=function Jh(e){const t=e.get($s,null);if(null===t)throw new i.buA(407,!1);return{rendererFactory:t,sanitizer:e.get(Ey,null),changeDetectionScheduler:e.get(i.hk6,null),ngReflect:!1}}(N),te=z.rendererFactory.createRenderer(null,v),re=r?function Dv(e,t,n,r){const c=r.get(wi,!1)||n===vt.ShadowDom,h=e.selectRootElement(t,c);return function Cv(e){Lf(e)}(h),h}(te,r,v.encapsulation,N):function qv(e,t){const n=function Qv(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return os(t,n,"svg"===n?i.jNX:"math"===n?i.rJ1:null)}(v,te),Ae=h?.some(Ny)||c?.some(wt=>"function"!=typeof wt&&wt.bindings.some(Ny)),Qe=gu(null,S,null,512|vu(v),null,null,z,te,N,null,null);Qe[i.Yw1]=re,(0,i.ID8)(Qe);let ht=null;try{const wt=nc(i.Yw1,Qe,2,"#host",()=>S.directiveRegistry,!0,0);Rc(te,re,wt),le(re,Qe),zc(S,Qe,wt),Vt(S,wt,Qe),kd(S,wt),void 0!==n&&function Fy(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const c=n[l];r.push(null!=c&&c.length?Array.from(c):null)}}(wt,this.ngContentSelectors,n),ht=(0,i.KdJ)(wt.index,Qe),Qe[i.SKP]=ht[i.SKP],Qc(S,Qe,null)}catch(wt){throw null!==ht&&Fo(ht),Fo(Qe),wt}finally{ct(23),(0,i.bll)()}return new Ly(this.componentType,Qe,!!Ae)}finally{(0,G.Ht)(g)}}}function Ny(e){const t=e[Za].kind;return"input"===t||"twoWay"===t}class Ly extends Nh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=(0,i.XRZ)(n[i.eDl],i.Yw1),this.location=_r(this._tNode,n),this.instance=(0,i.KdJ)(this._tNode.index,n)[i.SKP],this.hostView=this.changeDetectorRef=new wl(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Ou(r,l[i.eDl],l,t,n),this.previousInputValues.set(t,n),ds((0,i.KdJ)(r.index,l),1)}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Ll=(()=>class e{static __NG_ELEMENT_ID__=jy})();function jy(){return By((0,i.Mx4)(),(0,i.OAn)())}const Jv=Ll,ep=class extends Jv{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _r(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=go(this._hostTNode,this._hostLView);if(Ur(t)){const n=fo(t,this._hostLView),r=sr(t);return new en(n[i.eDl].data[r+8],n)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=tp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-i.Y20}createEmbeddedView(t,n,r){let l,c;"number"==typeof r?l=r:null!=r&&(l=r.index,c=r.injector);const g=t.createEmbeddedViewImpl(n||{},c,null);return this.insertImpl(g,l,us(this._hostTNode,null)),g}createComponent(t,n,r,l,c,h,g){const v=t&&!Ee(t);let S;if(v)S=n;else{const ht=n||{};S=ht.index,r=ht.injector,l=ht.projectableNodes,c=ht.environmentInjector||ht.ngModuleRef,h=ht.directives,g=ht.bindings}const N=v?t:new Zh((0,i.xUg)(t)),z=r||this.parentInjector;if(!c&&null==N.ngModule){const wt=(v?z:this.parentInjector).get(i.uvJ,null);wt&&(c=wt)}(0,i.xUg)(N.componentType??{});const Qe=N.create(z,l,null,c,h,g);return this.insertImpl(Qe.hostView,S,us(this._hostTNode,null)),Qe}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const l=t._lView;if((0,i.ITl)(l)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const v=l[i.f7T],S=new ep(v,v[i.qlT],v[i.f7T]);S.detach(S.indexOf(t))}}const c=this._adjustIndex(n),h=this._lContainer;return js(h,l,c,r),t.attachToViewContainerRef(),(0,i.EYC)(Ad(h),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=tp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ms(this._lContainer,n);r&&((0,i.E6O)(Ad(this._lContainer),n),Su(r[i.eDl],r))}detach(t){const n=this._adjustIndex(t,-1),r=ms(this._lContainer,n);return r&&null!=(0,i.E6O)(Ad(this._lContainer),n)?new wl(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function tp(e){return e[i.bm_]}function Ad(e){return e[i.bm_]||(e[i.bm_]=[])}function By(e,t){let n;const r=t[e.index];return(0,i.A0l)(r)?n=r:(n=mh(r,t,null,e),t[e.index]=n,Pc(t,n)),rc(n,t,e,r),new ep(n,e,t)}let rc=function rp(e,t,n,r){if(e[i.s6P])return;let l;l=8&n.type?(0,i.IvY)(r):function np(e,t){const n=e[i.GpT],r=n.createComment(""),l=(0,i.d31)(t,e),c=n.parentNode(l);return as(n,c,r,n.nextSibling(l),!1),r}(t,n),e[i.s6P]=l},Td=()=>!1;function Md(e,t,n){return Td(e,t,n)}class xd{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class ip{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){const h=n.getByIndex(c);l.push(this.queries[h.indexInDeclarationView].clone())}return new ip(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Rd(t,n).matches&&this.queries[n].setDirty()}}class yi{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function r_(e){return e.split(",").map(t=>t.trim())}(t):t}}class gi{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,l);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new gi(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Id{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Id(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const c=r[l];this.matchTNodeWithReadOption(t,n,e_(n,c)),this.matchTNodeWithReadOption(t,n,xr(n,t,c,!1,!1))}else r===hs?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xr(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===nr||l===Ll||l===hs&&4&n.type)this.addMatch(n.index,-2);else{const c=xr(n,t,l,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function e_(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function t_(e,t,n,r){return-1===n?function sp(e,t){return 11&e.type?_r(e,t):4&e.type?Bu(e,t):null}(t,e):-2===n?function n_(e,t,n){return n===nr?_r(t,e):n===hs?Bu(t,e):n===Ll?By(t,e):void 0}(e,t,r):Ir(e,e[i.eDl],n,t)}function Uy(e,t,n,r){const l=t[i.Ds7].queries[r];if(null===l.matches){const c=e.data,h=n.matches,g=[];for(let v=0;null!==h&&v<h.length;v+=2){const S=h[v];g.push(S<0?null:t_(t,c[S],h[v+1],n.metadata.read))}l.matches=g}return l.matches}function lp(e,t,n,r){const l=e.queries.getByIndex(n),c=l.matches;if(null!==c){const h=Uy(e,t,l,n);for(let g=0;g<c.length;g+=2){const v=c[g];if(v>0)r.push(h[g/2]);else{const S=c[g+1],N=t[-v];for(let z=i.Y20;z<N.length;z++){const te=N[z];te[i.rQE]===te[i.f7T]&&lp(te[i.eDl],te,S,r)}if(null!==N[i.nfM]){const z=N[i.nfM];for(let te=0;te<z.length;te++){const re=z[te];lp(re[i.eDl],re,S,r)}}}}}return r}function up(e,t){return e[i.Ds7].queries[t].queryList}function Vy(e,t,n){const r=new Yo(!(4&~n));return(0,i.B22)(e,t,r,r.destroy),(t[i.Ds7]??=new ip).queries.push(new xd(r))-1}function $y(e,t,n){const r=(0,i.klJ)();return r.firstCreatePass&&(cp(r,new yi(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),Vy(r,(0,i.OAn)(),t)}function Hy(e,t,n,r){const l=(0,i.klJ)();if(l.firstCreatePass){const c=(0,i.Mx4)();cp(l,new yi(t,n,r),c.index),function Wy(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),!(2&~n)&&(l.staticContentQueries=!0)}return Vy(l,(0,i.OAn)(),n)}function cp(e,t,n){null===e.queries&&(e.queries=new gi),e.queries.track(new Id(t,n))}function Rd(e,t){return e.queries.getByIndex(t)}function vi(e,t){const n=e[i.eDl],r=Rd(n,t);return r.crossesNgTemplate?lp(n,e,t,[]):Uy(n,e,r,t)}function hp(e,t){const n=e[G.bh];n._lView=(0,i.OAn)(),n._queryIndex=t,n._queryList=up(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function zy(e){const t=[],n=new Map;function r(l){let c=n.get(l);if(!c){const h=e(l);n.set(l,c=h.then(g=>function o(e,t){return"string"==typeof t?t:void 0!==t.status&&200!==t.status?Promise.reject(new i.buA(918,!1)):t.text()}(0,g)))}return c}return ws.forEach((l,c)=>{const h=[];l.templateUrl&&h.push(r(l.templateUrl).then(S=>{l.template=S}));const g="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=g,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const S=l.styles.length,N=l.styleUrls;l.styleUrls.forEach((z,te)=>{g.push(""),h.push(r(z).then(re=>{g[S+te]=re,N.splice(N.indexOf(z),1),0==N.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&h.push(r(l.styleUrl).then(S=>{g.push(S),l.styleUrl=void 0}));const v=Promise.all(h).then(()=>function u(e){Fl.delete(e)}(c));t.push(v)}),function Gy(){const e=ws;ws=new Map}(),Promise.all(t).then(()=>{})}let ws=new Map;const Fl=new Set;function a(){return 0===ws.size}const d=new Map;function I(e,t){(function w(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${(0,i.AsM)(t)} vs ${(0,i.AsM)(t.name)}`)})(t,d.get(t)||null,e),d.set(t,e)}let Ne=class{},ut=class{};function dt(e,t){return new it(e,t??null,[])}class it extends Ne{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gs(this);constructor(t,n,r,l=!0){super(),this.ngModuleType=t,this._parent=n;const c=(0,i.phH)(t);this._bootstrapComponents=sa(c.bootstrap),this._r3Injector=(0,i.Pz9)(t,n,[{provide:Ne,useValue:this},{provide:vd,useValue:this.componentFactoryResolver},...r],(0,i.AsM)(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bt extends ut{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new it(this.moduleType,t,[])}}function xt(e,t,n){return new it(e,t,n,!1)}class $t extends Ne{injector;componentFactoryResolver=new Gs(this);instance=null;constructor(t){super();const n=new i.e5P([...t.providers,{provide:Ne,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],t.parent||(0,i.WB9)(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function sn(e,t,n=null){return new $t({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Wt=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=(0,i.jXY)(!1,n.type),l=r.length>0?sn([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e((0,i.KVO)(i.uvJ))})}return e})();function Qn(e){return q(()=>{const t=Ui(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?l=>l.get(Wt).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vt.Emulated,styles:e.styles||i.Mlv,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Yr("NgStandalone"),oc(n);const r=e.dependencies;return n.directiveDefs=jl(r,An),n.pipeDefs=jl(r,i.oyA),n.id=function Ct(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const c of r.join("|"))t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function An(e){return(0,i.xUg)(e)||(0,i.HaV)(e)}function Vn(e){return q(()=>({type:e.type,bootstrap:e.bootstrap||i.Mlv,declarations:e.declarations||i.Mlv,imports:e.imports||i.Mlv,exports:e.exports||i.Mlv,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $n(e,t){if(null==e)return i.MZA;const n={};for(const r in e)if(e.hasOwnProperty(r)){const l=e[r];let c,h,g,v;Array.isArray(l)?(g=l[0],c=l[1],h=l[2]??c,v=l[3]||null):(c=l,h=l,g=ml.None,v=null),n[c]=[r,g,v],t[c]=h}return n}function $a(e){if(null==e)return i.MZA;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ei(e){return q(()=>{const t=Ui(e);return oc(t),t})}function Nd(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ui(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||i.MZA,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||i.Mlv,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$n(e.inputs,t),outputs:$a(e.outputs),debugInfo:null}}function oc(e){e.features?.forEach(t=>t(e))}function jl(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const l of n){const c=t(l);null!==c&&r.push(c)}return r}:null}function It(e){return Object.getPrototypeOf(e.prototype).constructor}function Pt(e){let t=It(e.type),n=!0;const r=[e];for(;t;){let l;if((0,i.JlV)(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new i.buA(903,!1);l=t.\u0275dir}if(l){if(n){r.push(l);const h=e;h.inputs=Da(e.inputs),h.declaredInputs=Da(e.declaredInputs),h.outputs=Da(e.outputs);const g=l.hostBindings;g&&Yn(e,g);const v=l.viewQuery,S=l.contentQueries;if(v&&ua(e,v),S&&Vi(e,S),ln(e,l),(0,i.dwj)(e.outputs,l.outputs),(0,i.JlV)(l)&&l.data.animation){const N=e.data;N.animation=(N.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let h=0;h<c.length;h++){const g=c[h];g&&g.ngInherit&&g(e),g===Pt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Br(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=Hn(l.hostAttrs,n=Hn(n,l.hostAttrs))}}(r)}function ln(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Da(e){return e===i.MZA?{}:e===i.Mlv?[]:e}function ua(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function Vi(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,c)=>{t(r,l,c),n(r,l,c)}:t}function Yn(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}const yp=["providersResolver"],qy=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ca(e){const t=[];let n=!1,r=null,l=null;for(let c=0;c<e.length;c++){const h=e[c];if(null!==h.hostDirectives){const g=t.length;r??=new Map,l??=new Map,Bl(h,t,r),l.set(h,[g,t.length-1])}0===c&&(0,i.JlV)(h)&&(n=!0,t.push(h))}for(let c=n?1:0;c<e.length;c++)t.push(e[c]);return[t,r,l]}function Bl(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives)if("function"==typeof r){const l=r();for(const c of l)ac(Qy(c),t,n)}else ac(r,t,n)}function ac(e,t,n){const r=(0,i.HaV)(e.directive);(function y0(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])})(r.declaredInputs,e.inputs),Bl(r,t,n),n.set(r,e),t.push(r)}function Qy(e){return"function"==typeof e?{directive:(0,i.nl4)(e),inputs:i.MZA,outputs:i.MZA}:{directive:(0,i.nl4)(e.directive),inputs:i_(e.inputs),outputs:i_(e.outputs)}}function i_(e){if(void 0===e||0===e.length)return i.MZA;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function l_(e,t,n,r,l,c,h,g){if(n.firstCreatePass){e.mergedAttrs=Hn(e.mergedAttrs,e.attrs);const N=e.tView=Dm(2,e,l,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),N.queries=n.queries.embeddedTView(e))}g&&(e.flags|=g),(0,i.iMd)(e,!1);const v=c_(n,t,e,r);(0,i.SX7)()&&Vc(n,t,v,e),le(v,t);const S=mh(v,t,v,e);t[r+i.Yw1]=S,Pc(t,S),Md(S,e,t)}function Ul(e,t,n,r,l,c,h,g,v,S,N){const z=n+i.Yw1;let te;if(t.firstCreatePass){if(te=fi(t,z,4,h||null,g||null),null!=S){const re=(0,i.db4)(t.consts,S);te.localNames=[];for(let Ae=0;Ae<re.length;Ae+=2)te.localNames.push(re[Ae],-1)}}else te=t.data[z];return l_(te,e,t,n,r,l,c,v),null!=S&&gl(e,te,N),te}function Yy(e,t,n,r,l,c,h,g){const v=(0,i.OAn)(),S=(0,i.klJ)();return function g0(e,t,n,r,l,c,h,g,v,S,N){const z=n+i.Yw1;let te;t.firstCreatePass?(te=fi(t,z,4,h||null,g||null),(0,i.ckz)()&&Pl(t,e,te,(0,i.db4)(t.consts,S),Gc),mt(t,te)):te=t.data[z],l_(te,e,t,n,r,l,c,v),(0,i.yoD)(te)&&zc(t,e,te),null!=S&&gl(e,te,N)}(v,S,e,t,n,r,l,(0,i.db4)(S.consts,c),void 0,h,g),Yy}let c_=function d_(e,t,n,r){return(0,i.m7n)(!0),t[i.GpT].createComment("")};var Ar=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Ar||{}),Rn=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Rn||{}),ic=function(e){return e[e.Initial=-1]="Initial",e}(ic||{}),h_=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(h_||{});function Fd(e,t,n){const r=f_(e);null===t[r]&&(t[r]=[]),t[r].push(n)}function _p(e,t){const n=f_(e),r=t[n];if(null!==r){for(const l of r)l();t[n]=null}}function p_(e){_p(1,e),_p(0,e),_p(2,e)}function f_(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}function jd(e){return e+1}function Sa(e,t){return e[jd(t.index)]}function Co(e,t){const n=jd(t.index);return e.data[n]}function Xy(e,t){return t===Rn.Placeholder?e.placeholderBlockConfig?.[0]??null:t===Rn.Loading?e.loadingBlockConfig?.[0]??null:null}function y_(e){return e.loadingBlockConfig?.[1]??null}function g_(e,t){if(!e||0===e.length)return t;const n=new Set(e);for(const r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function Jy(e,t,n){const r=n.get(vn);return function Jl(e,t,n){let r=Zn.get(e);return Qr=Qr||n(),r||(r=new Ei,Qr.observe(e),Zn.set(e,r),Wa++),r.callbacks.add(t),()=>{Zn.has(e)&&(r.callbacks.delete(t),0===r.callbacks.size&&(Qr?.unobserve(e),Zn.delete(e),Wa--),0===Wa&&(Qr?.disconnect(),Qr=null))}}(e,()=>r.run(t),()=>r.runOutsideAngular(()=>function Xl(){return new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&Zn.has(t.target)&&Zn.get(t.target).listener()})}()))}function uc(e,t,n,r,l,c,h){const g=e[i.YEL],v=g.get(vn);let S;S=function fv(e,t){const n=t?.injector??(0,i.WQX)(i.zZn);return Yr("NgAfterRender"),Bc(e,n,t,!1)}({read:function N(){if((0,i.EPY)(e))return void S.destroy();const z=Sa(e,t),te=z[1];if(te!==ic.Initial&&te!==Rn.Placeholder)return void S.destroy();const re=function A0(e,t,n){return null==n?e:n>=0?(0,i.jRZ)(n,e):e[t.index][i.Y20]??null}(e,t,r);if(!re||(S.destroy(),(0,i.EPY)(re)))return;const Ae=function T0(e,t){return(0,i.vaC)(i.Yw1+t,e)}(re,n),Qe=l(Ae,()=>{v.run(()=>{e!==re&&(0,i.DyX)(re,Qe),c()})},g);e!==re&&(0,i.ik5)(re,Qe),Fd(h,z,Qe)}},{injector:g})}function bp(e,t){const n=t.get(I0);return n.add(e),()=>n.remove(e)}let I0=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,i.WQX)(vn);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(n){(this.executingCallbacks?this.deferred:this.current).add(n),null===this.idleId&&this.scheduleIdleCallback()}remove(n){const{current:r,deferred:l}=this;r.delete(n),l.delete(n),0===r.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const n=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const r of this.current)r();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const r of this.deferred)this.current.add(r);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(n))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})();function wp(e){return(t,n)=>__(e,t,n)}function __(e,t,n){const r=n.get(R0),l=n.get(vn);return r.add(e,t,l),()=>r.remove(t)}let R0=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(n,r,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+n,r),this.scheduleTimer(l)}remove(n){const{current:r,deferred:l}=this;-1===this.removeFromQueue(r,n)&&this.removeFromQueue(l,n),0===r.length&&0===l.length&&this.clearTimeout()}addToQueue(n,r,l){let c=n.length;for(let h=0;h<n.length;h+=2)if(n[h]>r){c=h;break}(0,i.llW)(n,c,r,l)}removeFromQueue(n,r){let l=-1;for(let c=0;c<n.length;c+=2)if(n[c+1]===r){l=c;break}return l>-1&&(0,i.gsJ)(n,l,2),l}scheduleTimer(n){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],h=Date.now();for(let v=0;v<c.length;v+=2){const N=c[v+1];if(!(c[v]<=h))break;N()}let g=-1;for(let v=0;v<this.current.length&&this.current[v]<=h;v+=2)g=v+1;if(g>=0&&(0,i.gsJ)(this.current,0,g+1),this.executingCallbacks=!1,this.deferred.length>0){for(let v=0;v<this.deferred.length;v+=2)this.addToQueue(this.current,this.deferred[v],this.deferred[v+1]);this.deferred.length=0}this.scheduleTimer(n)};if(this.current.length>0){const c=Date.now(),h=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-h>16){this.clearTimeout();const g=Math.max(h-c,16);this.invokeTimerAt=h,this.timeoutId=n.runOutsideAngular(()=>setTimeout(()=>n.run(r),g))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,i.jDH)({token:e,providedIn:"root",factory:()=>new e})}return e})(),O0=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,l,c){if(!this.cachedInjectors.has(n)){const h=l.length>0?sn(l,r,c):null;this.cachedInjectors.set(n,h)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,i.jDH)({token:e,providedIn:"environment",factory:()=>new e})}return e})();const P0=new i.nKC("");function Zy(e,t,n){return e.get(O0).getOrCreateInjector(t,e,n,"")}function qs(e,t,n,r=!1){const l=n[i.f7T],c=l[i.eDl];if((0,i.EPY)(l))return;const h=Sa(l,t),v=h[7];if(!(null!==v&&e<v)&&E_(h[1],e)&&E_(h[0]??-1,e)){const S=Co(c,t),z=r||null===y_(S)&&null===Xy(S,Rn.Loading)&&!Xy(S,Rn.Placeholder)?b_:eg;try{z(e,h,n,t,l)}catch(te){qc(l,te)}}}function b_(e,t,n,r,l){ct(20);const c=function C0(e,t,n){const l=Co(t[i.eDl],n);switch(e){case Rn.Complete:return l.primaryTmplIndex;case Rn.Loading:return l.loadingTmplIndex;case Rn.Error:return l.errorTmplIndex;case Rn.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,r);if(null!==c){t[1]=e;const h=l[i.eDl],v=(0,i.XRZ)(h,c+i.Yw1),S=0;let N;if(Lu(n,S),e===Rn.Complete){const Ae=Co(h,r),Qe=Ae.providers;Qe&&Qe.length>0&&(N=function N0(e,t,n){if(e instanceof Ol){const l=e.injector,h=Zy(e.parentInjector,t,n);return new Ol(l,h)}const r=e.get(i.uvJ);if(r!==e){const l=Zy(r,t,n);return new Ol(e,l)}return Zy(e,t,n)}(l[i.YEL],Ae,Qe))}const{dehydratedView:z,dehydratedViewIx:te}=function L0(e,t){const n=e[i.qFA]?.findIndex(l=>l.data.s===t[1])??-1;return{dehydratedView:n>-1?e[i.qFA][n]:null,dehydratedViewIx:n}}(n,t),re=Fs(l,v,null,{injector:N,dehydratedView:z});if(js(n,re,S,us(v,z)),ds(re,2),te>-1&&n[i.qFA]?.splice(te,1),(e===Rn.Complete||e===Rn.Error)&&Array.isArray(t[8])){for(const Ae of t[8])Ae();t[8]=null}}ct(21)}function F0(e,t,n,r,l){const c=Date.now(),g=Co(l[i.eDl],r);if(null===t[2]||t[2]<=c){t[2]=null;const v=y_(g),S=null!==t[3];if(e!==Rn.Loading||null===v||S){e>Rn.Loading&&S&&(t[3](),t[3]=null,t[0]=null),b_(e,t,n,r,l);const N=Xy(g,e);null!==N&&(t[2]=c+N,w_(N,t,r,n,l))}else{t[0]=e;const N=w_(v,t,r,n,l);t[3]=N}}else t[0]=e}function w_(e,t,n,r,l){return __(e,()=>{const h=t[0];t[2]=null,t[0]=null,null!==h&&qs(h,n,r)},l[i.YEL])}function E_(e,t){return e<t}function cc(e,t){qs(Rn.Placeholder,t,e[t.index])}function k_(e,t,n){e.loadingPromise.then(()=>{e.loadingState===Ar.COMPLETE?qs(Rn.Complete,t,n):e.loadingState===Ar.FAILED&&qs(Rn.Error,t,n)})}let eg=null;function B0(e,t,n,r){return q(()=>{const l=e;null!==t&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...t):l.decorators=t),null!==n&&(l.ctorParameters=n),null!==r&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...r}:r)})}let D_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const L_="ng";function S1(e,t){!function j_(e,t){if(typeof COMPILED>"u"||!COMPILED){const n=i.laP;n[L_]??={},n[L_][e]=t}}(e,t)}const B_=new i.nKC(""),U_=new i.nKC("");let rg,A1=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,l){this._ngZone=n,this.registry=r,(0,i.M6u)()&&(this._destroyRef=(0,i.WQX)(i.abz,{optional:!0})??void 0),rg||(function T1(e){rg=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{vn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),n()},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:l})}whenStable(n,r,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static \u0275fac=function(r){return new(r||e)((0,i.KVO)(vn),(0,i.KVO)(V_),(0,i.KVO)(U_))};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac})}return e})(),V_=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return rg?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function $_(e){return!!e&&"function"==typeof e.then}function H_(e){return!!e&&"function"==typeof e.subscribe}const W_=new i.nKC("");function M1(e){return(0,i.EmA)([{provide:W_,multi:!0,useValue:e}])}let z_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=(0,i.WQX)(W_,{optional:!0})??[];injector=(0,i.WQX)(i.zZn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const c=(0,i.N4e)(this.injector,l);if($_(c))n.push(c);else if(H_(c)){const h=new Promise((g,v)=>{c.subscribe({complete:g,error:v})});n.push(h)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const K_=new i.nKC("");function x1(){}function I1(){(0,G.KO)(()=>{throw new i.buA(600,"")})}function G_(e,t){return Array.isArray(t)?t.reduce(G_,e):{...e,...t}}let Dp=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,i.WQX)(i.ZTf);afterRenderManager=(0,i.WQX)(jc);zonelessEnabled=(0,i.WQX)(i.Evm);rootEffectScheduler=(0,i.WQX)(i.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new R.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,i.WQX)(i.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,Z.T)(n=>!n))}constructor(){(0,i.WQX)(fl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:l=>{l&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=(0,i.WQX)(i.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,l=i.zZn.NULL){return this._injector.get(vn).run(()=>{ct(10);const h=n instanceof gd;if(!this._injector.get(z_).done)throw new i.buA(405,"");let v;v=h?n:this._injector.get(vd).resolveComponentFactory(n),this.componentTypes.push(v.componentType);const S=function R1(e){return e.isBoundToModule}(v)?void 0:this._injector.get(Ne),z=v.create(l,[],r||v.selector,S),te=z.location.nativeElement,re=z.injector.get(B_,null);return re?.registerApplication(te),z.onDestroy(()=>{this.detachView(z.hostView),Cp(this.components,z),re?.unregisterApplication(te)}),this._loadComponent(z),ct(11,z),z})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ct(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Lc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new i.buA(101,!1);const n=(0,G.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,G.Ht)(n),this.afterTick.next(),ct(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($s,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)ct(14),this.synchronizeOnce(),ct(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(r||(0,i.dMS)(l))&&(mo(l,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>(0,i.dMS)(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(n),this._injector.get(K_,[]).forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new i.buA(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function og(){let e,t;return{promise:new Promise((r,l)=>{e=r,t=l}),resolve:e,reject:t}}function q_(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();if(cc(t,n),!X_(0,t))return;const r=t[i.YEL];Fd(0,Sa(t,n),e(()=>Hl(0,t,n),r))}function Q_(e){const t=(0,i.OAn)(),n=t[i.YEL],r=(0,i.Mx4)(),c=Co(t[i.eDl],r);c.loadingState===Ar.NOT_STARTED&&Fd(1,Sa(t,r),e(()=>Ud(c,t,r),n))}function Y_(e,t,n){const r=t[i.YEL],l=Sa(t,n),c=l[6];Fd(2,l,e(()=>Wl(r,c),r))}function Ud(e,t,n){ag(e,t,n)}function ag(e,t,n){const r=t[i.YEL],l=t[i.eDl];if(e.loadingState!==Ar.NOT_STARTED)return e.loadingPromise??Promise.resolve();const c=Sa(t,n),h=function S0(e,t){return(0,i.XRZ)(e,t.primaryTmplIndex+i.Yw1)}(l,e);e.loadingState=Ar.IN_PROGRESS,_p(1,c);let g=e.dependencyResolverFn;const v=r.get(i.u5s).add();return g?(e.loadingPromise=Promise.allSettled(g()).then(S=>{let N=!1;const z=[],te=[];for(const re of S){if("fulfilled"!==re.status){N=!0;break}{const Ae=re.value,Qe=(0,i.xUg)(Ae)||(0,i.HaV)(Ae);if(Qe)z.push(Qe);else{const ht=(0,i.oyA)(Ae);ht&&te.push(ht)}}}if(N){if(e.loadingState=Ar.FAILED,null===e.errorTmplIndex){const Ae=new i.buA(-750,!1);qc(t,Ae)}}else{e.loadingState=Ar.COMPLETE;const re=h.tView;if(z.length>0){re.directiveRegistry=g_(re.directiveRegistry,z);const Ae=z.map(ht=>ht.type),Qe=(0,i.jXY)(!1,...Ae);e.providers=Qe}te.length>0&&(re.pipeRegistry=g_(re.pipeRegistry,te))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,v()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Ar.COMPLETE,v()}),e.loadingPromise)}function X_(e,t){return t[i.YEL].get(P0,null,{optional:!0})?.behavior!==h_.Manual}function Hl(e,t,n){const r=t[i.eDl],l=t[n.index];if(!X_(0,t))return;const c=Sa(t,n),h=Co(r,n);switch(p_(c),h.loadingState){case Ar.NOT_STARTED:qs(Rn.Loading,n,l),ag(h,t,n),h.loadingState===Ar.IN_PROGRESS&&k_(h,n,l);break;case Ar.IN_PROGRESS:qs(Rn.Loading,n,l),k_(h,n,l);break;case Ar.COMPLETE:qs(Rn.Complete,n,l);break;case Ar.FAILED:qs(Rn.Error,n,l)}}function Wl(e,t,n){return ig.apply(this,arguments)}function ig(){return(ig=(0,k.A)(function*(e,t,n){const r=e.get(lo);if(r.hydrating.has(t))return;const{parentBlockPromise:c,hydrationQueue:h}=function m(e,t){const n=t.get(lo),l=t.get(dn).get("__nghDeferData__",{});let c=!1,h=e,g=null;const v=[];for(;!c&&h;){c=n.has(h);const S=n.hydrating.get(h);if(null===g&&null!=S){g=S.promise;break}v.unshift(h),h=l[h].p}return{parentBlockPromise:g,hydrationQueue:v}}(t,e);if(0===h.length)return;null!==c&&h.shift(),function L1(e,t){for(let n of t)e.hydrating.set(n,og())}(r,h),null!==c&&(yield c);const g=h[0];r.has(g)?yield J_(e,h,n):r.awaitParentBlock(g,(0,k.A)(function*(){return yield J_(e,h,n)}))})).apply(this,arguments)}function J_(e,t,n){return sg.apply(this,arguments)}function sg(){return(sg=(0,k.A)(function*(e,t,n){const r=e.get(lo),l=r.hydrating,c=e.get(i.rev),h=c.add();for(let v=0;v<t.length;v++){const S=t[v],N=r.get(S);if(null==N){N1(v,t,r),Z_(t.slice(v),r);break}if(yield j1(N),yield F1(e),P1(N)){Xu(N),Z_(t.slice(v),r);break}l.get(S).resolve()}const g=t[t.length-1];yield l.get(g)?.promise,c.remove(h),n&&n(t),function Ea(e,t,n,r){null!==e&&(n.cleanup(t),Ml(e.lContainer),function xh(e){const t=e._views;for(const n of t){const r=qi(n);null!==r&&null!==r[i.jgP]&&((0,i.q$2)(r)?xl(r):Ml(r))}}(r))}(r.get(g),t,r,e.get(Dp))})).apply(this,arguments)}function P1(e){return Sa(e.lView,e.tNode)[1]===Rn.Error}function N1(e,t,n){const r=e-1,l=r>-1?n.get(t[r]):null;l&&Ml(l.lContainer)}function Z_(e,t){const n=t.hydrating;for(const r in e)n.get(r)?.reject();t.cleanup(e)}function F1(e){return new Promise(t=>jm(t,{injector:e}))}function j1(e){return lg.apply(this,arguments)}function lg(){return(lg=(0,k.A)(function*(e){const{tNode:t,lView:n}=e,r=Sa(n,t);return new Promise(l=>{(function B1(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(r,l),Hl(0,n,t)})})).apply(this,arguments)}function pr(e,t,n){return 0===e?eb(t,n):2!==e||!eb(t,n)}function eb(e,t){const n=e[i.YEL],r=Co(e[i.eDl],t),l=di(n),c=function U1(e){return null!=e&&!(1&~e)}(r.flags),g=null!==Sa(e,t)[6];return!(c&&g&&l)}function Qs(e,t){const n=Co(e,t);return n.hydrateTriggers??=new Map}function ug(e,t,n,r){const l=(0,i.OAn)();return Sn(l,(0,i.xbp)(),t)&&((0,i.klJ)(),function Vf(e,t,n,r,l,c){const h=(0,i.d31)(e,t);xu(t[i.GpT],h,c,e.value,n,r,l)}((0,i.CpD)(),l,e,t,n,r)),ug}const pE=new i.nKC("",{providedIn:"root",factory:()=>!1}),fE=new i.nKC("",{providedIn:"root",factory:()=>yE}),yE=4e3,zl=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Sp(e){return e[i.YEL].get(pE,!1)}function cg(e){const t=mc.get(e);if(t){for(const n of t.cleanupFns)n();mc.delete(e)}Kl.delete(e)}const _E=()=>{},mc=new WeakMap,Kl=new WeakMap,hc=new WeakMap;function dg(e,t){const n=hc.get(e);if(n&&n.length>0){const r=n.findIndex(l=>l===t);r>-1&&n.splice(r,1)}0===n?.length&&hc.delete(e)}function Ap(e,t){const n=hc.get(e)?.shift(),r=t[i.rQE];if(r){const c=$c(e.index,r)?.previousSibling;n&&c&&n===c&&n.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function rb(e,t){hc.has(e)?hc.get(e)?.push(t):hc.set(e,[t])}function Tp(e){const t=e[i.Isx]??={};return t.enter??=new Map}function Gl(e){const t=e[i.Isx]??={};return t.leave??=new Map}function ob(e){const t="function"==typeof e?e():e;let n=Array.isArray(t)?t:null;return"string"==typeof t&&(n=t.trim().split(/\s+/).filter(r=>r)),n}function ab(e,t){const n=Kl.get(t);return void 0===n||t===e.target&&(void 0!==n.animationName&&e.animationName===n.animationName||void 0!==n.propertyName&&e.propertyName===n.propertyName)}function Mp(e,t,n){const r=e.get(t.index)??{animateFns:[]};r.animateFns.push(n),e.set(t.index,r)}function mg(e,t){if(e)for(const n of e)n();for(const n of t)n()}function hg(e,t){const n=Gl(e).get(t.index);n&&(n.resolvers=void 0)}function xp(e,t,n,r,l){dg(t,n),mg(r,l),hg(e,t)}class ME{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),l=Math.max(t,n),c=this.detach(l);if(l-r>1){const h=this.detach(r);this.attach(r,c),this.attach(l,h)}else this.attach(r,c)}move(t,n){this.attach(n,this.detach(t))}}function fg(e,t,n,r,l){return e===n&&Object.is(t,r)?1:Object.is(l(e,t),l(n,r))?-1:0}function yg(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function ib(e,t,n,r,l){if(yg(e,t,r,n(r,l)))e.updateValue(r,l);else{const c=e.create(r,l);e.attach(r,c)}}function sb(e,t,n,r){const l=new Set;for(let c=t;c<=n;c++)l.add(r(c,e.at(c)));return l}class lb{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(r);)r=l.get(r);l.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const l=this._vMap;for(;l.has(r);)r=l.get(r),t(r,n)}}}function gg(e,t,n,r,l,c,h,g){Yr("NgControlFlow");const v=(0,i.OAn)(),S=(0,i.klJ)();return Ul(v,S,e,t,n,r,l,(0,i.db4)(S.consts,c),512,h,g),gg}class OE{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-i.Y20}}class LE{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class jE extends ME{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-i.Y20}at(t){return this.getLView(t)[i.SKP].$implicit}attach(t,n){const r=n[i.tcA];this.needsIndexUpdate||=t!==this.length,js(this.lContainer,n,t,us(this.templateTNode,r)),function UE(e,t){if(e.length<=i.Y20)return;const r=e[i.Y20+t],l=r?r[i.Isx]:void 0;r&&l&&l.detachedLeaveAnimationFns&&l.detachedLeaveAnimationFns.length>0&&(function yv(e,t){const n=e.get(Cu);if(t.detachedLeaveAnimationFns){for(const r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}(r[i.YEL],l),ls.delete(r),l.detachedLeaveAnimationFns=void 0)}(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function VE(e,t){if(e.length<=i.Y20)return;const r=e[i.Y20+t],l=r?r[i.Isx]:void 0;l&&l.leave&&l.leave.size>0&&(l.detachedLeaveAnimationFns=[])}(this.lContainer,t),function $E(e,t){return ms(e,t)}(this.lContainer,t)}create(t,n){const l=Fs(this.hostLView,this.templateTNode,new OE(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),l}destroy(t){Su(t[i.eDl],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[i.SKP].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[i.SKP].$index=t}getLView(t){return function HE(e,t){return Jc(e,t)}(this.lContainer,t)}}function Pp(e,t){return e[t]}function vg(e,t){return(0,i.XRZ)(e,t)}function _g(e,t,n){const r=(0,i.OAn)();return Sn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Jm((0,i.CpD)(),r,e,t,r[i.GpT],n)),_g}function bg(e,t,n,r,l){Ou(t,e,n,l?"class":"style",r)}function Np(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],h=e+i.Yw1,g=c.firstCreatePass?nc(h,l,2,t,Gc,(0,i.ckz)(),n,r):c.data[h];if(Iu(g,l,e,t,Eg),(0,i.yoD)(g)){const v=l[i.eDl];zc(v,l,g),Vt(v,g,l)}return null!=r&&gl(l,g),Np}function Lp(){const e=(0,i.klJ)(),n=Ru((0,i.Mx4)());return e.firstCreatePass&&kd(e,n),(0,i.UhH)(n)&&(0,i.krE)(),(0,i.N79)(),null!=n.classesWithoutHost&&function Tn(e){return!!(8&e.flags)}(n)&&bg(e,n,(0,i.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function on(e){return!!(16&e.flags)}(n)&&bg(e,n,(0,i.OAn)(),n.stylesWithoutHost,!1),Lp}function wg(e,t,n,r){return Np(e,t,n,r),Lp(),wg}function Fp(e,t,n,r){const l=(0,i.OAn)(),c=l[i.eDl],h=e+i.Yw1,g=c.firstCreatePass?Hs(h,c,2,t,n,r):c.data[h];return Iu(g,l,e,t,Eg),null!=r&&gl(l,g),Fp}function jp(){const t=Ru((0,i.Mx4)());return(0,i.UhH)(t)&&(0,i.krE)(),(0,i.N79)(),jp}let Eg=(e,t,n,r,l)=>((0,i.m7n)(!0),os(t[i.GpT],r,(0,i.UaU)()));function Bp(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,h=l.firstCreatePass?nc(c,r,8,"ng-container",Gc,(0,i.ckz)(),t,n):l.data[c];if(Iu(h,r,e,"ng-container",Dg),(0,i.yoD)(h)){const g=r[i.eDl];zc(g,r,h),Vt(g,h,r)}return null!=n&&gl(r,h),Bp}function Vd(){const e=(0,i.klJ)(),n=Ru((0,i.Mx4)());return e.firstCreatePass&&kd(e,n),Vd}function kg(e,t,n){const r=(0,i.OAn)(),l=r[i.eDl],c=e+i.Yw1,h=l.firstCreatePass?Hs(c,l,8,"ng-container",t,n):l.data[c];return Iu(h,r,e,"ng-container",Dg),null!=n&&gl(r,h),kg}function db(){return Ru((0,i.Mx4)()),Vd}let Dg=(e,t,n,r,l)=>((0,i.m7n)(!0),Ic(t[i.GpT],""));function hb(){return(0,i.OAn)()}const Up=void 0;var GE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Up,"{1} 'at' {0}",Up],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KE(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let pc={};function Cg(e){const t=function qE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=gb(t);if(n)return n;const r=t.split("-")[0];if(n=gb(r),n)return n;if("en"===r)return GE;throw new i.buA(701,!1)}function yb(e){return Cg(e)[fc.PluralCase]}function gb(e){return e in pc||(pc[e]=i.laP.ng&&i.laP.ng.common&&i.laP.ng.common.locales&&i.laP.ng.common.locales[e]),pc[e]}var fc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(fc||{});const QE=["zero","one","two","few","many"],Sg="en-US",Vp={marker:"element"},$p={marker:"ICU"};var Ta=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Ta||{});let vb=Sg;function JE(e){"string"==typeof e&&(vb=e.toLowerCase().replace(/_/g,"-"))}let $d=0,Hd=0;let Wd=(e,t,n,r)=>((0,i.m7n)(!0),function _b(e,t,n){const r=e[i.GpT];switch(n){case Node.COMMENT_NODE:return Ic(r,t);case Node.TEXT_NODE:return xc(r,t);case Node.ELEMENT_NODE:return os(r,t,null)}}(e,n,r));function bb(e,t,n,r){const l=n[i.GpT];let h,c=null;for(let g=0;g<t.length;g++){const v=t[g];if("string"==typeof v){const S=t[++g];null===n[S]&&(n[S]=Wd(n,0,v,Node.TEXT_NODE))}else if("number"==typeof v)switch(1&v){case 0:const S=Wu(v);let N,z;if(null===c&&(c=S,h=l.parentNode(r)),S===c?(N=r,z=h):(N=null,z=(0,i.IvY)(n[S])),null!==z){const Qe=od(v);as(l,z,n[Qe],N,!1);const wt=Ni(e,Qe);if(null!==wt&&"object"==typeof wt){const Xe=Hu(wt,n);null!==Xe&&bb(e,wt.create[Xe],n,n[wt.anchorIdx])}}break;case 1:const re=t[++g],Ae=t[++g];xu(l,(0,i.vaC)(v>>>1,n),null,null,re,Ae,null)}else switch(v){case $p:const S=t[++g],N=t[++g];null===n[N]&&le(n[N]=Wd(n,0,S,Node.COMMENT_NODE),n);break;case Vp:const z=t[++g],te=t[++g];null===n[te]&&le(n[te]=Wd(n,0,z,Node.ELEMENT_NODE),n)}}}function wb(e,t,n,r,l){for(let c=0;c<n.length;c++){const h=n[c],g=n[++c];if(h&l){let v="";for(let S=c+1;S<=c+g;S++){const N=n[S];if("string"==typeof N)v+=N;else if("number"==typeof N)if(N<0)v+=(0,i.eFE)(t[r-N]);else{const z=N>>>2;switch(3&N){case 1:const te=n[++S],re=n[++S],Ae=e.data[z];"string"==typeof Ae?xu(t[i.GpT],t[z],null,Ae,te,v,re):Jm(Ae,t,te,v,t[i.GpT],re);break;case 0:const Qe=t[z];null!==Qe&&bm(t[i.GpT],Qe,v);break;case 2:ok(e,Ni(e,z),t,v);break;case 3:Eb(e,Ni(e,z),r,t)}}}}else{const v=n[c+1];if(v>0&&!(3&~v)){const N=Ni(e,v>>>2);t[N.currentCaseLViewIndex]<0&&Eb(e,N,r,t)}}c+=g}}function Eb(e,t,n,r){let l=r[t.currentCaseLViewIndex];if(null!==l){let c=$d;l<0&&(l=r[t.currentCaseLViewIndex]=~l,c=-1),wb(e,r,t.update[l],n,c)}}function ok(e,t,n,r){const l=function ak(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function YE(e,t){const n=yb(t)(parseInt(e,10)),r=QE[n];return void 0!==r?r:"other"}(t,function ZE(){return vb}());n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Hu(t,n)!==l&&(kb(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const h=n[t.anchorIdx];h&&bb(e,t.create[l],n,h)}}function kb(e,t,n){let r=Hu(t,n);if(null!==r){const l=t.remove[r];for(let c=0;c<l.length;c++){const h=l[c];if(h>0){const g=(0,i.vaC)(h,n);null!==g&&cl(n[i.GpT],g)}else kb(e,Ni(e,~h),n)}}}const Hp=/\ufffd(\d+):?\d*\ufffd/gi,ik=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,sk=/\ufffd(\d+)\ufffd/,Cb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lk=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uk=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ck=/\uE500/g;function Sb(e,t,n,r,l,c,h){const g=dl(e,r,1,null);let v=g<<Ta.SHIFT,S=(0,i.Ab)();t===S&&(S=null),null===S&&(v|=Ta.APPEND_EAGERLY),h&&(v|=Ta.COMMENT,function bf(e){void 0===pl&&(pl=e())}(iy)),l.push(v,null===c?"":c);const N=gh(e,g,h?32:1,null===c?"":c,null);ty(n,N);const z=N.index;return(0,i.iMd)(N,!1),null!==S&&t!==S&&function vh(e,t){let n=e.insertBeforeIndex;null===n?(Ym(yh,rd),n=e.insertBeforeIndex=[null,t]):((0,i.Xln)(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(S,z),N}function hk(e,t,n,r,l,c,h,g){const v=g.match(Hp),N=Sb(t,n,r,h,l,v?null:g,!1).index;v&&Kd(c,g,N,null,0,null),e.push({kind:0,index:N})}function Kd(e,t,n,r,l,c){const h=e.length,g=h+1;e.push(null,null);const v=h+2,S=t.split(Hp);let N=0;for(let z=0;z<S.length;z++){const te=S[z];if(1&z){const re=l+parseInt(te,10);e.push(-1-re),N|=Ab(re)}else""!==te&&e.push(te)}return e.push(n<<2|(r?1:0)),r&&e.push(r,c),e[h]=N,e[g]=e.length-v,N}function fk(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function Ab(e){return 1<<Math.min(e,31)}function Tb(e){let t,c,n="",r=0,l=!1;for(;null!==(t=lk.exec(e));)l?t[0]===`\ufffd/*${c}\ufffd`&&(r=t.index,l=!1):(n+=e.substring(r,t.index+t[0].length),c=t[1],l=!0);return n+=e.slice(r),n}function Mb(e,t,n,r,l,c,h){let g=0;const v={type:c.type,currentCaseLViewIndex:dl(t,n,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function bk(e,t,n){e.push(Ab(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(r,c,h),function $u(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(t,h,v);const S=c.values,N=[];for(let z=0;z<S.length;z++){const te=S[z],re=[];for(let Qe=0;Qe<te.length;Qe++){const ht=te[Qe];if("string"!=typeof ht){const wt=re.push(ht)-1;te[Qe]=`\x3c!--\ufffd${wt}\ufffd--\x3e`}}const Ae=[];N.push(Ae),g=vk(Ae,t,v,n,r,l,c.cases[z],te.join(""),re)|g}g&&function wk(e,t,n){e.push(t,1,n<<2|3)}(r,g,h),e.push({kind:3,index:h,cases:N,currentCaseLViewIndex:v.currentCaseLViewIndex})}function gk(e){const t=[],n=[];let r=1,l=0;const c=Ag(e=e.replace(Cb,function(h,g,v){return r="select"===v?0:1,l=parseInt(g.slice(1),10),""}));for(let h=0;h<c.length;){let g=c[h++].trim();1===r&&(g=g.replace(/\s*(?:=)?(\w+)\s*/,"$1")),g.length&&t.push(g);const v=Ag(c[h++]);t.length>n.length&&n.push(v)}return{type:r,mainBinding:l,cases:t,values:n}}function Ag(e){if(!e)return[];let t=0;const n=[],r=[],l=/[{}]/g;let c;for(l.lastIndex=0;c=l.exec(e);){const g=c.index;if("}"==c[0]){if(n.pop(),0==n.length){const v=e.substring(t,g);Cb.test(v)?r.push(gk(v)):r.push(v),t=g+1}}else{if(0==n.length){const v=e.substring(t,g);r.push(v),t=g+1}n.push("{")}}const h=e.substring(t);return r.push(h),r}function vk(e,t,n,r,l,c,h,g,v){const S=[],N=[],z=[];n.cases.push(h),n.create.push(S),n.remove.push(N),n.update.push(z);const re=Rs(Be()).getInertBodyElement(g),Ae=De(re)||re;return Ae?xb(e,t,n,r,l,S,N,z,Ae,c,v,0):0}function xb(e,t,n,r,l,c,h,g,v,S,N,z){let te=0,re=v.firstChild;for(;re;){const Ae=dl(t,r,1,null);switch(re.nodeType){case Node.ELEMENT_NODE:const Qe=re,ht=Qe.tagName.toLowerCase();if(ol.hasOwnProperty(ht)){Tg(c,Vp,ht,S,Ae),t.data[Ae]=ht;const So=Qe.attributes;for(let Ds=0;Ds<So.length;Ds++){const Yl=So.item(Ds),p0=Yl.name.toLowerCase();Yl.value.match(Hp)?il.hasOwnProperty(p0)&&Kd(g,Yl.value,Ae,Yl.name,0,al[p0]?Zi:null):Ek(c,Ae,Yl)}const er={kind:1,index:Ae,children:[]};e.push(er),te=xb(er.children,t,n,r,l,c,h,g,re,Ae,N,z+1)|te,Ib(h,Ae,z)}break;case Node.TEXT_NODE:const wt=re.textContent||"",Xe=wt.match(Hp);Tg(c,null,Xe?"":wt,S,Ae),Ib(h,Ae,z),Xe&&(te=Kd(g,wt,Ae,null,0,null)|te),e.push({kind:0,index:Ae});break;case Node.COMMENT_NODE:const Cn=sk.exec(re.textContent||"");if(Cn){const er=N[parseInt(Cn[1],10)];Tg(c,$p,"",S,Ae),Mb(e,t,r,l,S,er,Ae),_k(h,Ae,z)}}re=re.nextSibling}return te}function Ib(e,t,n){0===n&&e.push(t)}function _k(e,t,n){0===n&&(e.push(~t),e.push(t))}function Tg(e,t,n,r,l){null!==t&&e.push(t),e.push(n,l,function ay(e,t,n){return e|t<<17|n<<1}(0,r,l))}function Ek(e,t,n){e.push(t<<1|1,n.name,n.value)}const kk=/\[(\ufffd.+?\ufffd?)\]/,Dk=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Ck=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Sk=/{([A-Z0-9_]+)}/g,Ak=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Tk=/\/\*/,Mk=/\d+\:(\d+)/;function Ob(e,t,n=-1){const r=(0,i.klJ)(),l=(0,i.OAn)(),c=i.Yw1+e,h=(0,i.db4)(r.consts,t),g=(0,i.Ab)();r.firstCreatePass&&function mk(e,t,n,r,l,c){const h=(0,i.Ab)(),g=[],v=[],S=[[]],N=[[]];l=function yk(e,t){if(function wh(e){return-1===e}(t))return Tb(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Tb(e.substring(n,r))}}(l,c);const z=function dk(e){return e.replace(ck," ")}(l).split(uk);for(let te=0;te<z.length;te++){let re=z[te];if(1&te){const Ae=47===re.charCodeAt(0),Qe=re.charCodeAt(Ae?1:0),ht=i.Yw1+Number.parseInt(re.substring(Ae?2:1));if(Ae)S.shift(),N.shift(),(0,i.iMd)((0,i.Ab)(),!1);else{const wt=_h(e,S[0],ht);S.unshift([]),(0,i.iMd)(wt,!0);const Xe={kind:2,index:ht,children:[],type:35===Qe?0:1};N[0].push(Xe),N.unshift(Xe.children)}}else{const Ae=Ag(re);for(let Qe=0;Qe<Ae.length;Qe++){let ht=Ae[Qe];if(1&Qe){const wt=ht;if("object"!=typeof wt)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const Cn=Sb(e,h,S[0],n,g,"",!0).index;Mb(N[0],e,n,v,t,wt,Cn)}else""!==ht&&hk(N[0],e,h,S[0],g,v,n,ht)}}}e.data[r]={create:g,update:v,ast:N[0],parentTNodeIndex:t}}(r,null===g?0:g.index,l,c,h,n),2===r.type?l[i.b5C][i.Wg1]|=32:l[i.Wg1]|=32;const v=r.data[c],N=Of(r,g===l[i.qlT]?null:g,l);(function rk(e,t,n,r){const l=e[i.GpT];for(let c=0;c<t.length;c++){const h=t[c++],S=(h&Ta.APPEND_EAGERLY)===Ta.APPEND_EAGERLY,N=h>>>Ta.SHIFT;let z=e[N],te=!1;null===z&&(z=e[N]=Wd(e,0,t[c],(h&Ta.COMMENT)===Ta.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),te=(0,i.SX7)()),S&&null!==n&&te&&as(l,n,z,r,!1)}})(l,v.create,N,g&&8&g.type?l[g.index]:null),(0,i.xyx)(!0)}function Pb(){(0,i.xyx)(!1)}function Mg(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return Ig(l,r,r[i.GpT],c,e,t,n),Mg}function xg(e,t,n){const r=(0,i.OAn)(),l=(0,i.klJ)(),c=(0,i.Mx4)();return(3&c.type||n)&&Kh(c,l,r,n,r[i.GpT],e,t,zs(c,r,t)),xg}function Ig(e,t,n,r,l,c,h){let g=!0,v=null;if((3&r.type||h)&&(v??=zs(r,t,c),Kh(r,e,t,h,n,l,c,v)&&(g=!1)),g){const S=r.outputs?.[l],N=r.hostDirectiveOutputs?.[l];if(N&&N.length)for(let z=0;z<N.length;z+=2){const te=N[z],re=N[z+1];v??=zs(r,t,c),Ks(r,t,te,re,l,v)}if(S&&S.length)for(const z of S)v??=zs(r,t,c),Ks(r,t,z,l,l,v)}}function Fb(e=1){return(0,i.jvu)(e)}function Nk(e,t){let n=null;const r=function hf(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const c=t[l];if("*"!==c){if(null===r?ym(e,c,!0):Mc(r,c))return l}else n=l}return n}function jb(e,t,n,r){Hy(e,t,n,r)}function Bb(e,t,n){$y(e,t,n)}function Ub(e){const t=(0,i.OAn)(),n=(0,i.klJ)(),r=(0,i.w7Z)();(0,i.GA0)(r+1);const l=Rd(n,r);if(e.dirty&&(0,i.vOT)(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const c=vi(t,r);e.reset(c,Ro),e.notifyOnChanges()}return!0}return!1}function Vb(){return up((0,i.OAn)(),(0,i.w7Z)())}function $b(e){const t=(0,i.VPL)();return(0,i.Hh6)(t,i.Yw1+e)}function Wp(e,t){return e<<17|t<<2}function ql(e){return e>>17&32767}function Rg(e){return 2|e}function yc(e){return(131068&e)>>2}function Og(e,t){return-131069&e|t<<2}function Pg(e){return 1|e}function Hb(e,t,n,r){const l=e[n+1],c=null===t;let h=r?ql(l):yc(l),g=!1;for(;0!==h&&(!1===g||c);){const S=e[h+1];Gk(e[h],t)&&(g=!0,e[h+1]=r?Pg(S):Rg(S)),h=r?ql(S):yc(S)}g&&(e[n+1]=r?Rg(l):Pg(l))}function Gk(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&(0,i.FRF)(e,t)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wb(e){return e.substring(Xr.key,Xr.keyEnd)}function qk(e){return e.substring(Xr.value,Xr.valueEnd)}function zb(e,t){const n=Xr.textEnd;return n===t?-1:(t=Xr.keyEnd=function Xk(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Xr.key=t,n),gc(e,t,n))}function Kb(e,t){const n=Xr.textEnd;let r=Xr.key=gc(e,t,n);return n===r?-1:(r=Xr.keyEnd=function Jk(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=qb(e,r,n),r=Xr.value=gc(e,r,n),r=Xr.valueEnd=function Zk(e,t,n){let r=-1,l=-1,c=-1,h=t,g=h;for(;h<n;){const v=e.charCodeAt(h++);if(59===v)return g;34===v||39===v?g=h=Qb(e,v,h,n):t===h-4&&85===c&&82===l&&76===r&&40===v?g=h=Qb(e,41,h,n):v>32&&(g=h),c=l,l=r,r=-33&v}return g}(e,r,n),qb(e,r,n))}function Gb(e){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=e.length}function gc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function qb(e,t,n,r){return(t=gc(e,t,n))<n&&t++,t}function Qb(e,t,n,r){let l=-1,c=n;for(;c<r;){const h=e.charCodeAt(c++);if(h==t&&92!==l)return c;l=92==h&&92===l?0:h}throw new Error}function Ng(e,t,n){return Xb(e,t,n,!1),Ng}function Lg(e,t){return Xb(e,t,null,!0),Lg}function tD(e,t){for(let n=function Yk(e){return Gb(e),Kb(e,gc(e,0,Xr.textEnd))}(t);n>=0;n=Kb(t,n))tw(e,Wb(t),qk(t))}function Yb(e){Jb(lD,nD,e,!0)}function nD(e,t){for(let n=function Qk(e){return Gb(e),zb(e,gc(e,0,Xr.textEnd))}(t);n>=0;n=zb(t,n))(0,i.ezK)(e,Wb(t),!0)}function Xb(e,t,n,r){const l=(0,i.OAn)(),c=(0,i.klJ)(),h=(0,i.b$O)(2);c.firstUpdatePass&&ew(c,e,h,r),t!==wn&&Sn(l,h,t)&&nw(c,c.data[(0,i._px)()],l,l[i.GpT],e,l[h+1]=function cD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=(0,i.AsM)(uo(e)))),e}(t,n),r,h)}function Jb(e,t,n,r){const l=(0,i.klJ)(),c=(0,i.b$O)(2);l.firstUpdatePass&&ew(l,null,c,r);const h=(0,i.OAn)();if(n!==wn&&Sn(h,c,n)){const g=l.data[(0,i._px)()];if(ow(g,r)&&!Zb(l,c)){let v=r?g.classesWithoutHost:g.stylesWithoutHost;null!==v&&(n=(0,i.n$e)(v,n||"")),bg(l,g,h,n,r)}else!function uD(e,t,n,r,l,c,h,g){l===wn&&(l=i.Mlv);let v=0,S=0,N=0<l.length?l[0]:null,z=0<c.length?c[0]:null;for(;null!==N||null!==z;){const te=v<l.length?l[v+1]:void 0,re=S<c.length?c[S+1]:void 0;let Qe,Ae=null;N===z?(v+=2,S+=2,te!==re&&(Ae=z,Qe=re)):null===z||null!==N&&N<z?(v+=2,Ae=N):(S+=2,Ae=z,Qe=re),null!==Ae&&nw(e,t,n,r,Ae,Qe,h,g),N=v<l.length?l[v]:null,z=S<c.length?c[S]:null}}(l,g,h,h[i.GpT],h[c+1],h[c+1]=function sD(e,t,n){if(null==n||""===n)return i.Mlv;const r=[],l=uo(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)e(r,l[c],!0);else if("object"==typeof l)for(const c in l)l.hasOwnProperty(c)&&e(r,c,l[c]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,c)}}function Zb(e,t){return t>=e.expandoStartIndex}function ew(e,t,n,r){const l=e.data;if(null===l[n+1]){const c=l[(0,i._px)()],h=Zb(e,n);ow(c,r)&&null===t&&!h&&(t=!1),t=function rD(e,t,n,r){const l=(0,i.MT)(e);let c=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=Gd(n=Fg(null,e,t,n,r),t.attrs,r),c=null);else{const h=t.directiveStylingLast;if(-1===h||e[h]!==l)if(n=Fg(l,e,t,n,r),null===c){let v=function oD(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==yc(r))return e[ql(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=Fg(null,e,t,v[1],r),v=Gd(v,t.attrs,r),function aD(e,t,n,r){e[ql(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else c=function iD(e,t,n){let r;const l=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<l;c++)r=Gd(r,e[c].hostAttrs,n);return Gd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(l,c,t,r),function zk(e,t,n,r,l,c){let h=c?t.classBindings:t.styleBindings,g=ql(h),v=yc(h);e[r]=n;let N,S=!1;if(Array.isArray(n)?(N=n[1],(null===N||(0,i.FRF)(n,N)>0)&&(S=!0)):N=n,l)if(0!==v){const te=ql(e[g+1]);e[r+1]=Wp(te,g),0!==te&&(e[te+1]=Og(e[te+1],r)),e[g+1]=function Hk(e,t){return 131071&e|t<<17}(e[g+1],r)}else e[r+1]=Wp(g,0),0!==g&&(e[g+1]=Og(e[g+1],r)),g=r;else e[r+1]=Wp(v,0),0===g?g=r:e[v+1]=Og(e[v+1],r),v=r;S&&(e[r+1]=Rg(e[r+1])),Hb(e,N,r,!0),Hb(e,N,r,!1),function Kk(e,t,n,r,l){const c=l?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&(0,i.FRF)(c,t)>=0&&(n[r+1]=Pg(n[r+1]))}(t,N,e,r,c),h=Wp(g,v),c?t.classBindings=h:t.styleBindings=h}(l,c,t,n,h,r)}}function Fg(e,t,n,r,l){let c=null;const h=n.directiveEnd;let g=n.directiveStylingLast;for(-1===g?g=n.directiveStart:g++;g<h&&(c=t[g],r=Gd(r,c.hostAttrs,l),c!==e);)g++;return null!==e&&(n.directiveStylingLast=g),r}function Gd(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?l=h:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),(0,i.ezK)(e,h,!!n||t[++c]))}return void 0===e?null:e}function tw(e,t,n){(0,i.ezK)(e,t,uo(n))}function lD(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&(0,i.ezK)(e,r,n)}function nw(e,t,n,r,l,c,h,g){if(!(3&t.type))return;const v=e.data,S=v[g+1],N=function Wk(e){return!(1&~e)}(S)?rw(v,t,n,l,yc(S),h):void 0;zp(N)||(zp(c)||function $k(e){return!(2&~e)}(S)&&(c=rw(v,null,n,l,g,h)),function kv(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:is.DashCase;null==l?e.removeStyle(n,r,c):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=is.Important),e.setStyle(n,r,l,c))}}(r,h,(0,i.vaC)((0,i._px)(),n),l,c))}function rw(e,t,n,r,l,c){const h=null===t;let g;for(;l>0;){const v=e[l],S=Array.isArray(v),N=S?v[1]:v,z=null===N;let te=n[l+1];te===wn&&(te=z?i.Mlv:void 0);let re=z?(0,i.K7h)(te,r):N===r?te:void 0;if(S&&!zp(re)&&(re=(0,i.K7h)(v,r)),zp(re)&&(g=re,h))return g;const Ae=e[l+1];l=h?ql(Ae):yc(Ae)}if(null!==t){let v=c?t.residualClasses:t.residualStyles;null!=v&&(g=(0,i.K7h)(v,r))}return g}function zp(e){return void 0!==e}function ow(e,t){return!!(e.flags&(t?8:16))}function aw(e,t=""){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=e+i.Yw1,c=r.firstCreatePass?fi(r,l,1,t,null):r.data[l],h=iw(r,n,c,t,e);n[l]=h,(0,i.SX7)()&&Vc(r,n,h,c),(0,i.iMd)(c,!1)}let iw=(e,t,n,r,l)=>((0,i.m7n)(!0),xc(t[i.GpT],r));function sw(e,t){let n=!1,r=(0,i.c$7)();for(let c=1;c<t.length;c+=2)n=Sn(e,r++,t[c])||n;if((0,i.Kw3)(r),!n)return wn;let l=t[0];for(let c=1;c<t.length;c+=2)l+=(0,i.eFE)(t[c])+(c+1!==t.length?t[c+1]:"");return l}function lw(e,t,n,r=""){return Sn(e,(0,i.xbp)(),n)?t+(0,i.eFE)(n)+r:wn}function uw(e,t,n,r,l,c=""){const g=Ja(e,(0,i.c$7)(),n,l);return(0,i.b$O)(2),g?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c:wn}function cw(e,t,n,r,l,c,h,g=""){const S=Bi(e,(0,i.c$7)(),n,l,h);return(0,i.b$O)(3),S?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g:wn}function dw(e,t,n,r,l,c,h,g,v,S=""){const z=jr(e,(0,i.c$7)(),n,l,h,v);return(0,i.b$O)(4),z?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g+(0,i.eFE)(v)+S:wn}function mw(e,t,n,r,l,c,h,g,v,S,N,z=""){const te=(0,i.c$7)();let re=jr(e,te,n,l,h,v);return re=Sn(e,te+4,N)||re,(0,i.b$O)(5),re?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g+(0,i.eFE)(v)+S+(0,i.eFE)(N)+z:wn}function hw(e,t,n,r,l,c,h,g,v,S,N,z,te,re=""){const Ae=(0,i.c$7)();let Qe=jr(e,Ae,n,l,h,v);return Qe=Ja(e,Ae+4,N,te)||Qe,(0,i.b$O)(6),Qe?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g+(0,i.eFE)(v)+S+(0,i.eFE)(N)+z+(0,i.eFE)(te)+re:wn}function pw(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe=""){const ht=(0,i.c$7)();let wt=jr(e,ht,n,l,h,v);return wt=Bi(e,ht+4,N,te,Ae)||wt,(0,i.b$O)(7),wt?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g+(0,i.eFE)(v)+S+(0,i.eFE)(N)+z+(0,i.eFE)(te)+re+(0,i.eFE)(Ae)+Qe:wn}function fw(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe,ht,wt=""){const Xe=(0,i.c$7)();let Cn=jr(e,Xe,n,l,h,v);return Cn=jr(e,Xe+4,N,te,Ae,ht)||Cn,(0,i.b$O)(8),Cn?t+(0,i.eFE)(n)+r+(0,i.eFE)(l)+c+(0,i.eFE)(h)+g+(0,i.eFE)(v)+S+(0,i.eFE)(N)+z+(0,i.eFE)(te)+re+(0,i.eFE)(Ae)+Qe+(0,i.eFE)(ht)+wt:wn}function jg(e){return Kp("",e),jg}function Kp(e,t,n){const r=(0,i.OAn)(),l=lw(r,e,t,n);return l!==wn&&ks(r,(0,i._px)(),l),Kp}function Bg(e,t,n,r,l){const c=(0,i.OAn)(),h=uw(c,e,t,n,r,l);return h!==wn&&ks(c,(0,i._px)(),h),Bg}function ks(e,t,n){const r=(0,i.vaC)(t,e);bm(e[i.GpT],r,n)}function Ug(e,t,n){(0,i.n$r)(t)&&(t=t());const r=(0,i.OAn)();return Sn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Jm((0,i.CpD)(),r,e,t,r[i.GpT],n)),Ug}function kw(e,t){const n=(0,i.n$r)(e);return n&&e.set(t),n}function Vg(e,t){const n=(0,i.OAn)(),r=(0,i.klJ)(),l=(0,i.Mx4)();return Ig(r,n,n[i.GpT],l,e,t),Vg}const Dw={};function $g(e,t,n,r,l){if(e=(0,i.nl4)(e),Array.isArray(e))for(let c=0;c<e.length;c++)$g(e[c],t,n,r,l);else{const c=(0,i.klJ)(),h=(0,i.OAn)(),g=(0,i.Mx4)();let v=(0,i.Y3W)(e)?e:(0,i.nl4)(e.provide);const S=(0,i.Rc9)(e),N=1048575&g.providerIndexes,z=g.directiveStart,te=g.providerIndexes>>20;if((0,i.Y3W)(e)||!e.multi){const re=new Kt(S,l,bs,null),Ae=Wg(v,t,l?N:N+te,z);-1===Ae?(lr(Mr(g,h),c,v),Hg(c,e,t.length),t.push(v),g.directiveStart++,g.directiveEnd++,l&&(g.providerIndexes+=1048576),n.push(re),h.push(re)):(n[Ae]=re,h[Ae]=re)}else{const re=Wg(v,t,N+te,z),Ae=Wg(v,t,N,N+te),ht=Ae>=0&&n[Ae];if(l&&!ht||!l&&!(re>=0&&n[re])){lr(Mr(g,h),c,v);const wt=function TD(e,t,n,r,l){const h=new Kt(e,n,bs,null);return h.multi=[],h.index=t,h.componentProviders=0,Sw(h,l,r&&!n),h}(l?AD:SD,n.length,l,r,S);!l&&ht&&(n[Ae].providerFactory=wt),Hg(c,e,t.length,0),t.push(v),g.directiveStart++,g.directiveEnd++,l&&(g.providerIndexes+=1048576),n.push(wt),h.push(wt)}else Hg(c,e,re>-1?re:Ae,Sw(n[l?Ae:re],S,!l&&r));!l&&r&&ht&&n[Ae].componentProviders++}}}function Hg(e,t,n,r){const l=(0,i.Y3W)(t),c=(0,i.MME)(t);if(l||c){const v=(c?(0,i.nl4)(t.useClass):t).prototype.ngOnDestroy;if(v){const S=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const N=S.indexOf(n);-1===N?S.push(n,[r,v]):S[N+1].push(r,v)}else S.push(n,v)}}}function Sw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Wg(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function SD(e,t,n,r,l){return zg(this.multi,[])}function AD(e,t,n,r,l){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ir(r,r[i.eDl],this.providerFactory.index,l);h=v.slice(0,g),zg(c,h);for(let S=g;S<v.length;S++)h.push(v[S])}else h=[],zg(c,h);return h}function zg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Aw(e,t=[]){return n=>{n.providersResolver=(r,l)=>function CD(e,t,n){const r=(0,i.klJ)();if(r.firstCreatePass){const l=(0,i.JlV)(e);$g(n,r.data,r.blueprint,l,!0),$g(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}function Gp(e){if("function"==typeof e)return e;const t=(0,i.Bqz)(e);return t.some(i.Jzi)?()=>t.map(i.nl4).map(Tw):t.map(Tw)}function Tw(e){return _d(e)?e.ngModule:e}function Mw(e,t,n,r){return Rw((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)}function xw(e,t,n,r,l){return Ow((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l)}function Iw(e,t,n,r,l,c){return Pw((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c)}function qd(e,t){const n=e[t];return n===wn?void 0:n}function Rw(e,t,n,r,l,c){const h=t+n;return Sn(e,h,l)?$o(e,h+1,c?r.call(c,l):r(l)):qd(e,h+1)}function Ow(e,t,n,r,l,c,h){const g=t+n;return Ja(e,g,l,c)?$o(e,g+2,h?r.call(h,l,c):r(l,c)):qd(e,g+2)}function Pw(e,t,n,r,l,c,h,g){const v=t+n;return Bi(e,v,l,c,h)?$o(e,v+3,g?r.call(g,l,c,h):r(l,c,h)):qd(e,v+3)}function Nw(e,t,n,r,l,c,h,g,v){const S=t+n;return jr(e,S,l,c,h,g)?$o(e,S+4,v?r.call(v,l,c,h,g):r(l,c,h,g)):qd(e,S+4)}function Lw(e,t,n,r,l,c){let h=t+n,g=!1;for(let v=0;v<l.length;v++)Sn(e,h++,l[v])&&(g=!0);return g?$o(e,h,r.apply(c,l)):qd(e,h)}function Fw(e,t){const n=(0,i.klJ)();let r;const l=e+i.Yw1;n.firstCreatePass?(r=function BD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[l]=r,r.onDestroy&&(n.destroyHooks??=[]).push(l,r.onDestroy)):r=n.data[l];const c=r.factory||(r.factory=(0,i.wGu)(r.type,!0)),g=(0,i.a2B)(bs);try{const v=Wn(!1),S=c();return Wn(v),(0,i.M_e)(n,(0,i.OAn)(),l,S),S}finally{(0,i.a2B)(g)}}function jw(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Qd(l,r)?Rw(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform(n)}function Bw(e,t,n,r){const l=e+i.Yw1,c=(0,i.OAn)(),h=(0,i.Hh6)(c,l);return Qd(c,l)?Ow(c,(0,i.gxQ)(),t,h.transform,n,r,h):h.transform(n,r)}function Qd(e,t){return e[i.eDl].data[t].pure}function Uw(e,t){return Bu(e,t)}function qp(e,t,n,r,l){const c=l[i.eDl];if(c!==r.tView)for(let h=i.Yw1;h<c.bindingStartIndex;h++){const g=l[h];if((0,i.A0l)(g)){(0,i.q$2)(g[i.jgP])&&qp(e,t,n,r,g[i.jgP]);for(let v=i.Y20;v<g.length;v++)qp(e,t,n,r,g[v])}else(0,i.q$2)(g)&&qp(e,t,n,r,g)}else!function QD(e,t,n,r,l){const c=l[i.SKP];let h=l[i.jgP];const g=l[i.f7T],v=l[i.qlT],S=l[i.YEL].get(vn,null),N=()=>{if(r.encapsulation===vt.ShadowDom){const Ae=h.cloneNode(!1);h.replaceWith(Ae),h=Ae}const z=Oc(n),te=gu(g,z,c,vu(n),h,v,null,null,null,null,null);(function YD(e,t,n,r){for(let l=i.Yw1;l<e[i.eDl].bindingStartIndex;l++){const c=e[l];if(((0,i.q$2)(c)||(0,i.A0l)(c))&&c[i.K29]===t){c[i.K29]=n;break}}e[i.EJG]===t&&(e[i.EJG]=n),e[i.Yrj]===t&&(e[i.Yrj]=n),n[i.K29]=t[i.K29],t[i.K29]=null,e[r]=n})(g,l,te,v.index),Su(l[i.eDl],l);const re=l[i.M0L].rendererFactory;(function qD(e,t){e.componentReplaced?.(t.id)})(re,r),te[i.GpT]=re.createRenderer(h,n),xf(l[i.eDl],l),function XD(e){if(null!==e.projection){for(const t of e.projection)ir(t)&&(t.projectionNext=null,t.flags&=-3);e.projection=null}}(v),Qc(z,te,c),Nu(z,te,z.template,c)};null===S?Vw(e,t,N):S.run(()=>Vw(e,t,N))}(e,t,n,r,l)}function Vw(e,t,n){try{n()}catch(r){if(null!==t&&r.message){const c=r.message+(r.stack?"\n"+r.stack:"");e?.hot?.send?.("angular:invalidate",{id:t,message:c,error:!0})}throw r}}const Ys={\u0275\u0275animateEnter:function Ip(e){if(Yr("NgAnimateEnter"),!zl)return Ip;const t=(0,i.OAn)();if(Sp(t))return Ip;const n=(0,i.Mx4)();return Ap(n,t),Mp(Tp(t),n,()=>function EE(e,t,n){const r=(0,i.d31)(t,e),l=e[i.GpT],c=e[i.YEL].get(vn),h=ob(n),g=[],v=N=>{if(N.target!==r)return;const z=N instanceof AnimationEvent?"animationend":"transitionend";c.runOutsideAngular(()=>{l.listen(r,z,S)})},S=N=>{N.target===r&&function kE(e,t,n){const r=mc.get(t);if(e.target===t&&r&&ab(e,t)){e.stopImmediatePropagation();for(const l of r.classList)n.removeClass(t,l);cg(t)}}(N,r,l)};if(h&&h.length>0){c.runOutsideAngular(()=>{g.push(l.listen(r,"animationstart",v)),g.push(l.listen(r,"transitionstart",v))}),function vE(e,t,n){const r=mc.get(e);if(r){for(const l of t)r.classList.push(l);for(const l of n)r.cleanupFns.push(l)}else mc.set(e,{classList:t,cleanupFns:n})}(r,h,g);for(const N of h)l.addClass(r,N);c.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(Ef(r,Kl,zl),!Kl.has(r)){for(const N of h)l.removeClass(r,N);cg(r)}})})}}(t,n,e)),Uc(t[i.YEL]),Hm(t[i.YEL],Tp(t)),Ip},\u0275\u0275animateEnterListener:function Rp(e){if(Yr("NgAnimateEnter"),!zl)return Rp;const t=(0,i.OAn)();if(Sp(t))return Rp;const n=(0,i.Mx4)();return Ap(n,t),Mp(Tp(t),n,()=>function DE(e,t,n){const r=(0,i.d31)(t,e);n.call(e[i.SKP],{target:r,animationComplete:_E})}(t,n,e)),Uc(t[i.YEL]),Hm(t[i.YEL],Tp(t)),Rp},\u0275\u0275animateLeave:function Op(e){if(Yr("NgAnimateLeave"),!zl)return Op;const t=(0,i.OAn)();if(Sp(t))return Op;const r=(0,i.Mx4)();return Ap(r,t),Mp(Gl(t),r,()=>function CE(e,t,n){const{promise:r,resolve:l}=og(),c=(0,i.d31)(t,e),h=e[i.GpT],g=e[i.YEL].get(vn);ls.add(e),(Gl(e).get(t.index).resolvers??=[]).push(l);const v=ob(n);return v&&v.length>0?function SE(e,t,n,r,l,c){!function bE(e,t){if(!zl)return;const n=mc.get(e);if(n&&n.classList.length>0&&function wE(e,t){for(const n of t)if(e.classList.contains(n))return!0;return!1}(e,n.classList))for(const r of n.classList)t.removeClass(e,r);cg(e)}(e,l);const h=[],g=Gl(n).get(t.index)?.resolvers,v=S=>{if(S.target===e&&(S instanceof CustomEvent||ab(S,e))){if(S.stopImmediatePropagation(),Kl.delete(e),dg(t,e),Array.isArray(t.projection))for(const N of r)l.removeClass(e,N);mg(g,h),hg(n,t)}};c.runOutsideAngular(()=>{h.push(l.listen(e,"animationend",v)),h.push(l.listen(e,"transitionend",v))}),rb(t,e);for(const S of r)l.addClass(e,S);c.runOutsideAngular(()=>{requestAnimationFrame(()=>{Ef(e,Kl,zl),Kl.has(e)||(dg(t,e),mg(g,h),hg(n,t))})})}(c,t,e,v,h,g):l(),{promise:r,resolve:l}}(t,r,e)),Uc(t[i.YEL]),Op},\u0275\u0275animateLeaveListener:function pg(e){if(Yr("NgAnimateLeave"),!zl)return pg;const t=(0,i.OAn)(),n=(0,i.Mx4)();return Ap(n,t),ls.add(t),Mp(Gl(t),n,()=>function AE(e,t,n){const{promise:r,resolve:l}=og(),c=(0,i.d31)(t,e),h=[],g=e[i.GpT],v=Sp(e),S=e[i.YEL].get(vn),N=e[i.YEL].get(fE);(Gl(e).get(t.index).resolvers??=[]).push(l);const z=Gl(e).get(t.index)?.resolvers;if(v)xp(e,t,c,z,h);else{const te=setTimeout(()=>xp(e,t,c,z,h),N),re={target:c,animationComplete:()=>{xp(e,t,c,z,h),clearTimeout(te)}};rb(t,c),S.runOutsideAngular(()=>{h.push(g.listen(c,"animationend",()=>{xp(e,t,c,z,h),clearTimeout(te)},{once:!0}))}),n.call(e[i.SKP],re)}return{promise:r,resolve:l}}(t,n,e)),Uc(t[i.YEL]),pg},\u0275\u0275attribute:ug,\u0275\u0275defineComponent:Qn,\u0275\u0275defineDirective:ei,\u0275\u0275defineInjectable:i.jDH,\u0275\u0275defineInjector:i.G2t,\u0275\u0275defineNgModule:Vn,\u0275\u0275definePipe:Nd,\u0275\u0275directiveInject:bs,\u0275\u0275getInheritedFactory:Io,\u0275\u0275inject:i.KVO,\u0275\u0275injectAttribute:ti,\u0275\u0275invalidFactory:function tc(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:i.dmw,\u0275\u0275templateRefExtractor:Uw,\u0275\u0275resetView:i.Njj,\u0275\u0275HostDirectivesFeature:function Es(e){const t=n=>{const r=Array.isArray(e);null===n.hostDirectives?(n.resolveHostDirectives=Ca,n.hostDirectives=r?e.map(Qy):[e]):r?n.hostDirectives.unshift(...e.map(Qy)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t},\u0275\u0275NgOnChangesFeature:rn,\u0275\u0275ProvidersFeature:Aw,\u0275\u0275CopyDefinitionFeature:function po(e){let n,t=It(e.type);n=(0,i.JlV)(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const l of yp)r[l]=n[l];if((0,i.JlV)(n))for(const l of qy)r[l]=n[l]},\u0275\u0275InheritDefinitionFeature:Pt,\u0275\u0275ExternalStylesFeature:function MD(e){return t=>{e.length<1||(t.getExternalStyles=n=>e.map(l=>l+"?ngcomp"+(n?"="+encodeURIComponent(n):"")+"&e="+t.encapsulation))}},\u0275\u0275nextContext:Fb,\u0275\u0275namespaceHTML:i.joV,\u0275\u0275namespaceMathML:i.By9,\u0275\u0275namespaceSVG:i.qSk,\u0275\u0275enableBindings:i.cSN,\u0275\u0275disableBindings:i.fuf,\u0275\u0275elementStart:Np,\u0275\u0275elementEnd:Lp,\u0275\u0275element:wg,\u0275\u0275elementContainerStart:Bp,\u0275\u0275elementContainerEnd:Vd,\u0275\u0275domElement:function ub(e,t,n,r){return Fp(e,t,n,r),jp(),ub},\u0275\u0275domElementStart:Fp,\u0275\u0275domElementEnd:jp,\u0275\u0275domElementContainer:function mb(e,t,n){return kg(e,t,n),db(),mb},\u0275\u0275domElementContainerStart:kg,\u0275\u0275domElementContainerEnd:db,\u0275\u0275domTemplate:function u_(e,t,n,r,l,c,h,g){const v=(0,i.OAn)(),S=(0,i.klJ)();return Ul(v,S,e,t,n,r,l,(0,i.db4)(S.consts,c),void 0,h,g),u_},\u0275\u0275domListener:xg,\u0275\u0275elementContainer:function cb(e,t,n){return Bp(e,t,n),Vd(),cb},\u0275\u0275pureFunction0:function RD(e,t,n){const r=(0,i.gxQ)()+e,l=(0,i.OAn)();return l[r]===wn?$o(l,r,n?t.call(n):t()):ka(l,r)},\u0275\u0275pureFunction1:Mw,\u0275\u0275pureFunction2:xw,\u0275\u0275pureFunction3:Iw,\u0275\u0275pureFunction4:function OD(e,t,n,r,l,c,h){return Nw((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r,l,c,h)},\u0275\u0275pureFunction5:function PD(e,t,n,r,l,c,h,g){const v=(0,i.gxQ)()+e,S=(0,i.OAn)(),N=jr(S,v,n,r,l,c);return Sn(S,v+4,h)||N?$o(S,v+5,g?t.call(g,n,r,l,c,h):t(n,r,l,c,h)):ka(S,v+5)},\u0275\u0275pureFunction6:function ND(e,t,n,r,l,c,h,g,v){const S=(0,i.gxQ)()+e,N=(0,i.OAn)(),z=jr(N,S,n,r,l,c);return Ja(N,S+4,h,g)||z?$o(N,S+6,v?t.call(v,n,r,l,c,h,g):t(n,r,l,c,h,g)):ka(N,S+6)},\u0275\u0275pureFunction7:function LD(e,t,n,r,l,c,h,g,v,S){const N=(0,i.gxQ)()+e,z=(0,i.OAn)();let te=jr(z,N,n,r,l,c);return Bi(z,N+4,h,g,v)||te?$o(z,N+7,S?t.call(S,n,r,l,c,h,g,v):t(n,r,l,c,h,g,v)):ka(z,N+7)},\u0275\u0275pureFunction8:function FD(e,t,n,r,l,c,h,g,v,S,N){const z=(0,i.gxQ)()+e,te=(0,i.OAn)(),re=jr(te,z,n,r,l,c);return jr(te,z+4,h,g,v,S)||re?$o(te,z+8,N?t.call(N,n,r,l,c,h,g,v,S):t(n,r,l,c,h,g,v,S)):ka(te,z+8)},\u0275\u0275pureFunctionV:function jD(e,t,n,r){return Lw((0,i.OAn)(),(0,i.gxQ)(),e,t,n,r)},\u0275\u0275getCurrentView:hb,\u0275\u0275restoreView:i.eBV,\u0275\u0275listener:Mg,\u0275\u0275projection:function Fk(e,t=0,n,r,l,c){const h=(0,i.OAn)(),g=(0,i.klJ)(),v=r?e+1:null;null!==v&&Ul(h,g,v,r,l,c,null,n);const S=fi(g,i.Yw1+e,16,null,n||null);null===S.projection&&(S.projection=t),(0,i.Pfq)();const z=!h[i.tcA]||(0,i.KtD)();null===h[i.b5C][i.qlT].projection[S.projection]&&null!==v?function jk(e,t,n){const r=i.Yw1+n,l=t.data[r],c=e[r];js(c,Fs(e,l,void 0,{dehydratedView:null}),0,us(l,null))}(h,g,v):z&&!ra(S)&&function Pf(e,t,n){Wc(t[i.GpT],0,t,n,Au(e,n,t),Gm(n.parent||t[i.qlT],n,t))}(g,h,S)},\u0275\u0275syntheticHostProperty:function fb(e,t,n){const r=(0,i.OAn)();if(Sn(r,(0,i.xbp)(),t)){const c=(0,i.klJ)(),h=(0,i.CpD)();Mu(h,r,e,t,th((0,i.MT)(c.data),h,r),n)}return fb},\u0275\u0275syntheticHostListener:function Lb(e,t){const n=(0,i.Mx4)(),r=(0,i.OAn)(),l=(0,i.klJ)();return Ig(l,r,th((0,i.MT)(l.data),n,r),n,e,t),Lb},\u0275\u0275pipeBind1:jw,\u0275\u0275pipeBind2:Bw,\u0275\u0275pipeBind3:function UD(e,t,n,r,l){const c=e+i.Yw1,h=(0,i.OAn)(),g=(0,i.Hh6)(h,c);return Qd(h,c)?Pw(h,(0,i.gxQ)(),t,g.transform,n,r,l,g):g.transform(n,r,l)},\u0275\u0275pipeBind4:function VD(e,t,n,r,l,c){const h=e+i.Yw1,g=(0,i.OAn)(),v=(0,i.Hh6)(g,h);return Qd(g,h)?Nw(g,(0,i.gxQ)(),t,v.transform,n,r,l,c,v):v.transform(n,r,l,c)},\u0275\u0275pipeBindV:function $D(e,t,n){const r=e+i.Yw1,l=(0,i.OAn)(),c=(0,i.Hh6)(l,r);return Qd(l,r)?Lw(l,(0,i.gxQ)(),t,c.transform,n,c):c.transform.apply(c,n)},\u0275\u0275projectionDef:function Lk(e){const t=(0,i.OAn)()[i.b5C][i.qlT];if(!t.projection){const r=t.projection=(0,i.WfI)(e?e.length:1,null),l=r.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const h=e?Nk(c,e):0;null!==h&&(l[h]?l[h].projectionNext=c:r[h]=c,l[h]=c)}c=c.next}}},\u0275\u0275domProperty:function pb(e,t,n){const r=(0,i.OAn)();return Sn(r,(0,i.xbp)(),t)&&((0,i.klJ)(),Mu((0,i.CpD)(),r,e,t,r[i.GpT],n)),pb},\u0275\u0275ariaProperty:function nb(e,t){const n=(0,i.OAn)();if(Sn(n,(0,i.xbp)(),t)){const l=(0,i.klJ)(),c=(0,i.CpD)();if(Ou(c,l,n,e,t))(0,i.Qs1)(c)&&Zm(n,c.index);else{const g=(0,i.d31)(c,n);xu(n[i.GpT],g,null,c.value,e,t,null)}}return nb},\u0275\u0275property:_g,\u0275\u0275pipe:Fw,\u0275\u0275queryRefresh:Ub,\u0275\u0275queryAdvance:function Vk(e=1){(0,i.GA0)((0,i.w7Z)()+e)},\u0275\u0275viewQuery:Bb,\u0275\u0275viewQuerySignal:function Uk(e,t,n,r){hp(e,$y(t,n,r))},\u0275\u0275loadQuery:Vb,\u0275\u0275contentQuery:jb,\u0275\u0275contentQuerySignal:function Bk(e,t,n,r,l){hp(t,Hy(e,n,r,l))},\u0275\u0275reference:$b,\u0275\u0275classMap:Yb,\u0275\u0275styleMap:function eD(e){Jb(tw,tD,e,!1)},\u0275\u0275styleProp:Ng,\u0275\u0275classProp:Lg,\u0275\u0275advance:Sm,\u0275\u0275template:Yy,\u0275\u0275conditional:function RE(e,t){Yr("NgControlFlow");const n=(0,i.OAn)(),r=(0,i.xbp)(),l=n[r]!==wn?n[r]:-1,c=-1!==l?Pp(n,i.Yw1+l):void 0;if(Sn(n,r,e)){const g=(0,G.Ht)(null);try{if(void 0!==c&&Lu(c,0),-1!==e){const v=i.Yw1+e,S=Pp(n,v),N=vg(n[i.eDl],v),z=null;js(S,Fs(n,N,t,{dehydratedView:z}),0,us(N,z))}}finally{(0,G.Ht)(g)}}else if(void 0!==c){const g=Jc(c,0);void 0!==g&&(g[i.SKP]=t)}},\u0275\u0275conditionalCreate:function IE(e,t,n,r,l,c,h,g){Yr("NgControlFlow");const v=(0,i.OAn)(),S=(0,i.klJ)();return Ul(v,S,e,t,n,r,l,(0,i.db4)(S.consts,c),256,h,g),gg},\u0275\u0275conditionalBranchCreate:gg,\u0275\u0275defer:function z1(e,t,n,r,l,c,h,g,v,S){const N=(0,i.OAn)(),z=(0,i.klJ)(),te=e+i.Yw1,re=Ul(N,z,e,null,0,0),Ae=N[i.YEL],Qe=di(Ae);if(z.firstCreatePass){Yr("NgDefer");const Ds={primaryTmplIndex:t,loadingTmplIndex:r??null,placeholderTmplIndex:l??null,errorTmplIndex:c??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:n??null,loadingState:Ar.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:S??0};v?.(z,Ds,g,h),function D0(e,t,n){const r=jd(t);e.data[r]=n}(z,te,Ds)}const ht=N[te];Md(ht,re,N);let wt=null,Xe=null;if(ht[i.qFA]?.length>0){const Ds=ht[i.qFA][0].data;Xe=Ds.di??null,wt=Ds.s}const Cn=[null,ic.Initial,null,null,null,null,Xe,wt,null,null];!function k0(e,t,n){e[jd(t)]=n}(N,te,Cn);let So=null;null!==Xe&&Qe&&(So=Ae.get(lo),So.add(Xe,{lView:N,tNode:re,lContainer:ht}));const er=()=>{p_(Cn),null!==Xe&&So?.cleanup([Xe])};Fd(0,Cn,()=>(0,i.DyX)(N,er)),(0,i.ik5)(N,er)},\u0275\u0275deferWhen:function K1(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(pr(0,t,n)&&Sn(t,(0,i.xbp)(),e)){const l=(0,G.Ht)(null);try{const c=!!e,g=Sa(t,n)[1];!1===c&&g===ic.Initial?cc(t,n):!0===c&&(g===ic.Initial||g===Rn.Placeholder)&&Hl(0,t,n)}finally{(0,G.Ht)(l)}}},\u0275\u0275deferOnIdle:function Y1(){pr(0,(0,i.OAn)(),(0,i.Mx4)())&&q_(bp)},\u0275\u0275deferOnImmediate:function Z1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(0,e,t)&&(null===Co(e[i.eDl],t).loadingTmplIndex&&cc(e,t),Hl(0,e,t))},\u0275\u0275deferOnTimer:function nE(e){pr(0,(0,i.OAn)(),(0,i.Mx4)())&&q_(wp(e))},\u0275\u0275deferOnHover:function aE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();pr(0,n,r)&&(cc(n,r),uc(n,r,e,t,Cs,()=>Hl(0,n,r),0))},\u0275\u0275deferOnInteraction:function lE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();pr(0,n,r)&&(cc(n,r),uc(n,r,e,t,za,()=>Hl(0,n,r),0))},\u0275\u0275deferOnViewport:function dE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();pr(0,n,r)&&(cc(n,r),uc(n,r,e,t,Jy,()=>Hl(0,n,r),0))},\u0275\u0275deferPrefetchWhen:function G1(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(pr(1,t,n)&&Sn(t,(0,i.xbp)(),e)){const l=(0,G.Ht)(null);try{const c=!!e,g=Co(t[i.eDl],n);!0===c&&g.loadingState===Ar.NOT_STARTED&&Ud(g,t,n)}finally{(0,G.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function X1(){pr(1,(0,i.OAn)(),(0,i.Mx4)())&&Q_(bp)},\u0275\u0275deferPrefetchOnImmediate:function eE(){const e=(0,i.OAn)(),t=(0,i.Mx4)();if(!pr(1,e,t))return;const r=Co(e[i.eDl],t);r.loadingState===Ar.NOT_STARTED&&ag(r,e,t)},\u0275\u0275deferPrefetchOnTimer:function rE(e){pr(1,(0,i.OAn)(),(0,i.Mx4)())&&Q_(wp(e))},\u0275\u0275deferPrefetchOnHover:function iE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!pr(1,n,r))return;const c=Co(n[i.eDl],r);c.loadingState===Ar.NOT_STARTED&&uc(n,r,e,t,Cs,()=>Ud(c,n,r),1)},\u0275\u0275deferPrefetchOnInteraction:function uE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!pr(1,n,r))return;const c=Co(n[i.eDl],r);c.loadingState===Ar.NOT_STARTED&&uc(n,r,e,t,za,()=>Ud(c,n,r),1)},\u0275\u0275deferPrefetchOnViewport:function mE(e,t){const n=(0,i.OAn)(),r=(0,i.Mx4)();if(!pr(1,n,r))return;const c=Co(n[i.eDl],r);c.loadingState===Ar.NOT_STARTED&&uc(n,r,e,t,Jy,()=>Ud(c,n,r),1)},\u0275\u0275deferHydrateWhen:function q1(e){const t=(0,i.OAn)(),n=(0,i.CpD)();if(!pr(2,t,n))return;const r=(0,i.xbp)();if(Qs((0,i.klJ)(),n).set(6,null),Sn(t,r,e)){const h=t[i.YEL],g=(0,G.Ht)(null);try{1==!!e&&Wl(h,Sa(t,n)[6])}finally{(0,G.Ht)(g)}}},\u0275\u0275deferHydrateNever:function Q1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&Qs((0,i.klJ)(),t).set(7,null)},\u0275\u0275deferHydrateOnIdle:function J1(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&(Qs((0,i.klJ)(),t).set(0,null),Y_(bp,e,t))},\u0275\u0275deferHydrateOnImmediate:function tE(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&(Qs((0,i.klJ)(),t).set(1,null),Wl(e[i.YEL],Sa(e,t)[6]))},\u0275\u0275deferHydrateOnTimer:function oE(e){const t=(0,i.OAn)(),n=(0,i.Mx4)();pr(2,t,n)&&(Qs((0,i.klJ)(),n).set(5,{delay:e}),Y_(wp(e),t,n))},\u0275\u0275deferHydrateOnHover:function sE(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&Qs((0,i.klJ)(),t).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function cE(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&Qs((0,i.klJ)(),t).set(3,null)},\u0275\u0275deferHydrateOnViewport:function hE(){const e=(0,i.OAn)(),t=(0,i.Mx4)();pr(2,e,t)&&Qs((0,i.klJ)(),t).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function j0(e,t,n,r){const l=e.consts;null!=n&&(t.placeholderBlockConfig=(0,i.db4)(l,n)),null!=r&&(t.loadingBlockConfig=(0,i.db4)(l,r)),null===eg&&(eg=F0)},\u0275\u0275repeater:function BE(e){const t=(0,G.Ht)(null),n=(0,i._px)();try{const r=(0,i.OAn)(),l=r[i.eDl],c=r[n],h=n+1,g=Pp(r,h);if(void 0===c.liveCollection){const S=vg(l,h);c.liveCollection=new jE(g,r,S)}else c.liveCollection.reset();const v=c.liveCollection;if(function xE(e,t,n){let r,l,c=0,h=e.length-1;if(Array.isArray(t)){let v=t.length-1;for(;c<=h&&c<=v;){const S=e.at(c),N=t[c],z=fg(c,S,c,N,n);if(0!==z){z<0&&e.updateValue(c,N),c++;continue}const te=e.at(h),re=t[v],Ae=fg(h,te,v,re,n);if(0!==Ae){Ae<0&&e.updateValue(h,re),h--,v--;continue}const Qe=n(c,S),ht=n(h,te),wt=n(c,N);if(Object.is(wt,ht)){const Xe=n(v,re);Object.is(Xe,Qe)?(e.swap(c,h),e.updateValue(h,re),v--,h--):e.move(h,c),e.updateValue(c,N),c++;continue}if(r??=new lb,l??=sb(e,c,h,n),yg(e,r,c,wt))e.updateValue(c,N),c++,h++;else if(l.has(wt))r.set(Qe,e.detach(c)),h--;else{const Xe=e.create(c,t[c]);e.attach(c,Xe),c++,h++}}for(;c<=v;)ib(e,r,n,c,t[c]),c++}else if(null!=t){const v=t[Symbol.iterator]();let S=v.next();for(;!S.done&&c<=h;){const N=e.at(c),z=S.value,te=fg(c,N,c,z,n);if(0!==te)te<0&&e.updateValue(c,z),c++,S=v.next();else{r??=new lb,l??=sb(e,c,h,n);const re=n(c,z);if(yg(e,r,c,re))e.updateValue(c,z),c++,h++,S=v.next();else if(l.has(re)){const Ae=n(c,N);r.set(Ae,e.detach(c)),h--}else e.attach(c,e.create(c,z)),c++,h++,S=v.next()}}for(;!S.done;)ib(e,r,n,e.length,S.value),S=v.next()}for(;c<=h;)e.destroy(e.detach(h--));r?.forEach(v=>{e.destroy(v)})}(v,e,c.trackByFn),v.updateIndexes(),c.hasEmptyBlock){const S=(0,i.xbp)(),N=0===v.length;if(Sn(r,S,N)){const z=n+2,te=Pp(r,z);if(N){const re=vg(l,z),Ae=null;js(te,Fs(r,re,void 0,{dehydratedView:Ae}),0,us(re,Ae))}else l.firstUpdatePass&&Yu(te),Lu(te,0)}}}finally{(0,G.Ht)(t)}},\u0275\u0275repeaterCreate:function FE(e,t,n,r,l,c,h,g,v,S,N,z,te){Yr("NgControlFlow");const re=(0,i.OAn)(),Ae=(0,i.klJ)(),Qe=void 0!==v,ht=(0,i.OAn)(),wt=g?h.bind(ht[i.b5C][i.SKP]):h,Xe=new LE(Qe,wt);ht[i.Yw1+e]=Xe,Ul(re,Ae,e+1,t,n,r,l,(0,i.db4)(Ae.consts,c),256),Qe&&Ul(re,Ae,e+2,v,S,N,z,(0,i.db4)(Ae.consts,te),512)},\u0275\u0275repeaterTrackByIndex:function PE(e){return e},\u0275\u0275repeaterTrackByIdentity:function NE(e,t){return t},\u0275\u0275componentInstance:function TE(){return(0,i.OAn)()[i.b5C][i.SKP]},\u0275\u0275text:aw,\u0275\u0275textInterpolate:jg,\u0275\u0275textInterpolate1:Kp,\u0275\u0275textInterpolate2:Bg,\u0275\u0275textInterpolate3:function yw(e,t,n,r,l,c,h){const g=(0,i.OAn)(),v=cw(g,e,t,n,r,l,c,h);return v!==wn&&ks(g,(0,i._px)(),v),yw},\u0275\u0275textInterpolate4:function gw(e,t,n,r,l,c,h,g,v){const S=(0,i.OAn)(),N=dw(S,e,t,n,r,l,c,h,g,v);return N!==wn&&ks(S,(0,i._px)(),N),gw},\u0275\u0275textInterpolate5:function vw(e,t,n,r,l,c,h,g,v,S,N){const z=(0,i.OAn)(),te=mw(z,e,t,n,r,l,c,h,g,v,S,N);return te!==wn&&ks(z,(0,i._px)(),te),vw},\u0275\u0275textInterpolate6:function _w(e,t,n,r,l,c,h,g,v,S,N,z,te){const re=(0,i.OAn)(),Ae=hw(re,e,t,n,r,l,c,h,g,v,S,N,z,te);return Ae!==wn&&ks(re,(0,i._px)(),Ae),_w},\u0275\u0275textInterpolate7:function bw(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae){const Qe=(0,i.OAn)(),ht=pw(Qe,e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae);return ht!==wn&&ks(Qe,(0,i._px)(),ht),bw},\u0275\u0275textInterpolate8:function ww(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe,ht){const wt=(0,i.OAn)(),Xe=fw(wt,e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe,ht);return Xe!==wn&&ks(wt,(0,i._px)(),Xe),ww},\u0275\u0275textInterpolateV:function Ew(e){const t=(0,i.OAn)(),n=sw(t,e);return n!==wn&&ks(t,(0,i._px)(),n),Ew},\u0275\u0275i18n:function Ik(e,t,n){Ob(e,t,n),Pb()},\u0275\u0275i18nAttributes:function Rk(e,t){const n=(0,i.klJ)(),r=(0,i.db4)(n.consts,t);!function pk(e,t,n){const l=(0,i.Mx4)().index,c=[];if(e.firstCreatePass&&null===e.data[t]){for(let h=0;h<n.length;h+=2){const g=n[h],v=n[h+1];if(""!==v){if(ik.test(v))throw new Error(`ICU expressions are not supported in attributes. Message: "${v}".`);Kd(c,v,l,g,fk(c),null)}}e.data[t]=c}}(n,e+i.Yw1,r)},\u0275\u0275i18nExp:function Nb(e){return function ek(e){e&&($d|=1<<Math.min(Hd,31)),Hd++}(Sn((0,i.OAn)(),(0,i.xbp)(),e)),Nb},\u0275\u0275i18nStart:Ob,\u0275\u0275i18nEnd:Pb,\u0275\u0275i18nApply:function Ok(e){!function tk(e,t,n){if(Hd>0){const r=e.data[n];wb(e,t,Array.isArray(r)?r:r.update,(0,i.c$7)()-Hd-1,$d)}$d=0,Hd=0}((0,i.klJ)(),(0,i.OAn)(),e+i.Yw1)},\u0275\u0275i18nPostprocess:function Pk(e,t={}){return function xk(e,t={}){let n=e;if(kk.test(e)){const r={},l=[0];n=n.replace(Dk,(c,h,g)=>{const v=h||g,S=r[v]||[];if(S.length||(v.split("|").forEach(Qe=>{const ht=Qe.match(Mk),wt=ht?parseInt(ht[1],10):0,Xe=Tk.test(Qe);S.push([wt,Xe,Qe])}),r[v]=S),!S.length)throw new Error(`i18n postprocess: unmatched placeholder - ${v}`);const N=l[l.length-1];let z=0;for(let Qe=0;Qe<S.length;Qe++)if(S[Qe][0]===N){z=Qe;break}const[te,re,Ae]=S[z];return re?l.pop():N!==te&&l.push(te),S.splice(z,1),Ae})}return Object.keys(t).length&&(n=n.replace(Ck,(r,l,c,h,g,v)=>t.hasOwnProperty(c)?`${l}${t[c]}${v}`:r),n=n.replace(Sk,(r,l)=>t.hasOwnProperty(l)?t[l]:r),n=n.replace(Ak,(r,l)=>{if(t.hasOwnProperty(l)){const c=t[l];if(!c.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${l}`);return c.shift()}return r})),n}(e,t)},\u0275\u0275resolveWindow:function af(e){return e.ownerDocument.defaultView},\u0275\u0275resolveDocument:function sf(e){return e.ownerDocument},\u0275\u0275resolveBody:function mm(e){return e.ownerDocument.body},\u0275\u0275setComponentScope:function xD(e,t,n){const r=e.\u0275cmp;r.directiveDefs=jl(t,An),r.pipeDefs=jl(n,i.oyA)},\u0275\u0275setNgModuleScope:function ID(e,t){return q(()=>{const n=(0,i.WbQ)(e);n.declarations=Gp(t.declarations||i.Mlv),n.imports=Gp(t.imports||i.Mlv),n.exports=Gp(t.exports||i.Mlv),t.bootstrap&&(n.bootstrap=Gp(t.bootstrap)),ec.registerNgModule(e,t)})},\u0275\u0275registerNgModuleType:I,\u0275\u0275getComponentDepsFactory:function HD(e,t){return()=>{try{return ec.getComponentDependencies(e,t).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}},\u0275setClassDebugInfo:function WD(e,t){const n=(0,i.xUg)(e);null!==n&&(n.debugInfo=t)},\u0275\u0275declareLet:function Cw(e){const t=(0,i.klJ)(),n=(0,i.OAn)(),r=e+i.Yw1,l=fi(t,r,128,null,null);return(0,i.iMd)(l,!1),(0,i.M_e)(t,n,r,Dw),Cw},\u0275\u0275storeLet:function mD(e){Yr("NgLet");const t=(0,i.klJ)(),n=(0,i.OAn)(),r=(0,i._px)();return(0,i.M_e)(t,n,r,e),e},\u0275\u0275readContextLet:function hD(e){const t=(0,i.VPL)(),n=(0,i.Hh6)(t,i.Yw1+e);if(n===Dw)throw new i.buA(314,!1);return n},\u0275\u0275attachSourceLocations:function pD(e,t){const n=(0,i.klJ)(),r=(0,i.OAn)(),l=r[i.GpT],c="data-ng-source-location";for(const[h,g,v,S]of t){(0,i.XRZ)(n,h+i.Yw1);const z=(0,i.vaC)(h+i.Yw1,r);z.hasAttribute(c)||l.setAttribute(z,c,`${e}@o:${g},l:${v},c:${S}`)}},\u0275\u0275interpolate:function fD(e){return Sn((0,i.OAn)(),(0,i.xbp)(),e)?(0,i.eFE)(e):wn},\u0275\u0275interpolate1:function yD(e,t,n=""){return lw((0,i.OAn)(),e,t,n)},\u0275\u0275interpolate2:function gD(e,t,n,r,l=""){return uw((0,i.OAn)(),e,t,n,r,l)},\u0275\u0275interpolate3:function vD(e,t,n,r,l,c,h=""){return cw((0,i.OAn)(),e,t,n,r,l,c,h)},\u0275\u0275interpolate4:function _D(e,t,n,r,l,c,h,g,v=""){return dw((0,i.OAn)(),e,t,n,r,l,c,h,g,v)},\u0275\u0275interpolate5:function bD(e,t,n,r,l,c,h,g,v,S,N=""){return mw((0,i.OAn)(),e,t,n,r,l,c,h,g,v,S,N)},\u0275\u0275interpolate6:function wD(e,t,n,r,l,c,h,g,v,S,N,z,te=""){return hw((0,i.OAn)(),e,t,n,r,l,c,h,g,v,S,N,z,te)},\u0275\u0275interpolate7:function ED(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae=""){return pw((0,i.OAn)(),e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae)},\u0275\u0275interpolate8:function kD(e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe,ht=""){return fw((0,i.OAn)(),e,t,n,r,l,c,h,g,v,S,N,z,te,re,Ae,Qe,ht)},\u0275\u0275interpolateV:function DD(e){return sw((0,i.OAn)(),e)},\u0275\u0275sanitizeHtml:function mn(e){const t=hu();return t?Do(t.sanitize(at.HTML,e)||""):hr(e,"HTML")?Do(uo(e)):function K(e,t){let n=null;try{P=P||Rs(e);let r=t?String(t):"";n=P.getInertBodyElement(r);let l=5,c=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=P.getInertBodyElement(r)}while(r!==c);return Cr((new kc).sanitizeChildren(De(n)||n))}finally{if(n){const r=De(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}(Be(),(0,i.eFE)(e))},\u0275\u0275sanitizeStyle:function co(e){const t=hu();return t?t.sanitize(at.STYLE,e)||"":hr(e,"Style")?uo(e):(0,i.eFE)(e)},\u0275\u0275sanitizeResourceUrl:In,\u0275\u0275sanitizeScript:function ja(e){const t=hu();if(t)return Ms(t.sanitize(at.SCRIPT,e)||"");if(hr(e,"Script"))return Ms(uo(e));throw new i.buA(905,!1)},\u0275\u0275sanitizeUrl:Un,\u0275\u0275sanitizeUrlOrResourceUrl:mu,\u0275\u0275trustConstantHtml:function Cc(e){return Cr(e[0])},\u0275\u0275trustConstantResourceUrl:function nm(e){return function gn(e){return kn()?.createScriptURL(e)||e}(e[0])},\u0275\u0275validateIframeAttribute:function Te(e,t,n){const r=(0,i.OAn)(),l=(0,i.CpD)(),c=(0,i.d31)(l,r);if(2===l.type&&"iframe"===t.toLowerCase()){const h=c;throw h.src="",h.srcdoc=Cr(""),cl(r[i.GpT],h),new i.buA(-910,!1)}return e},forwardRef:i.Rfq,resolveForwardRef:i.nl4,\u0275\u0275twoWayProperty:Ug,\u0275\u0275twoWayBindingSet:kw,\u0275\u0275twoWayListener:Vg,\u0275\u0275replaceMetadata:function KD(e,t,n,r,l=null,c=null){const h=(0,i.xUg)(e);t.apply(null,[e,n,...r]);const{newDef:g,oldDef:v}=function GD(e,t){const n={...e};return{newDef:Object.assign(e,t,{directiveDefs:n.directiveDefs,pipeDefs:n.pipeDefs,setInput:n.setInput,type:n.type}),oldDef:n}}(h,(0,i.xUg)(e));if(e[i.CQl]=g,v.tView){const S=function Ia(){return Eo}().values();for(const N of S)(0,i.EFk)(N)&&null===N[i.f7T]&&qp(l,c,g,v,N)}},\u0275\u0275getReplaceMetadataURL:function zD(e,t,n){const r=`./@ng/component?c=${e}&t=${encodeURIComponent(t)}`;return new URL(r,n).href}};let vc=null;function JD(e){null!==vc&&(e.defaultEncapsulation!==vc.defaultEncapsulation||e.preserveWhitespaces!==vc.preserveWhitespaces)||(vc=e)}const Yd=[];function Gw(e){return _d(e)?e.ngModule:e}const yC=ne("NgModule",e=>e,void 0,0,(e,t)=>function nC(e,t={}){(function rC(e,t){const r=(0,i.Bqz)(t.declarations||i.Mlv);let l=null;Object.defineProperty(e,i.hmW,{configurable:!0,get:()=>(null===l&&(l=pt().compileNgModule(Ys,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:(0,i.Bqz)(t.bootstrap||i.Mlv).map(i.nl4),declarations:r.map(i.nl4),imports:(0,i.Bqz)(t.imports||i.Mlv).map(i.nl4).map(Gw),exports:(0,i.Bqz)(t.exports||i.Mlv).map(i.nl4).map(Gw),schemas:t.schemas?(0,i.Bqz)(t.schemas):null,id:t.id||null}),l.schemas||(l.schemas=[])),l)});let c=null;Object.defineProperty(e,i.zSs,{get:()=>{if(null===c){const g=pt();c=g.compileFactory(Ys,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Xn(e),target:g.FactoryTarget.NgModule,typeArgumentCount:0})}return c},configurable:!1});let h=null;Object.defineProperty(e,i.ONQ,{get:()=>{if(null===h){const g={name:e.name,type:e,providers:t.providers||i.Mlv,imports:[(t.imports||i.Mlv).map(i.nl4),(t.exports||i.Mlv).map(i.nl4)]};h=pt().compileInjector(Ys,`ng:///${e.name}/\u0275inj.js`,g)}return h},configurable:!1})})(e,t),void 0!==t.id&&I(e,t.id),function eC(e,t){Yd.push({moduleType:e,ngModule:t})}(e,t)}(e,t));class gC{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let vC=(()=>{class e{compileModuleSync(n){return new bt(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=sa((0,i.phH)(n).declarations).reduce((h,g)=>{const v=(0,i.xUg)(g);return v&&h.push(new Zh(v)),h},[]);return new gC(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _C=new i.nKC("");let bC=(()=>{class e{zone=(0,i.WQX)(vn);changeDetectionScheduler=(0,i.WQX)(i.hk6);applicationRef=(0,i.WQX)(Dp);applicationErrorHandler=(0,i.WQX)(i.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const o0=new i.nKC("",{factory:()=>!1});function a0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new vn({...Yg(),scheduleInRootZone:n}),[{provide:vn,useFactory:e},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(bC,{optional:!0});return()=>r.initialize()}},{provide:i.Z63,multi:!0,useFactory:()=>{const r=(0,i.WQX)(wC);return()=>{r.initialize()}}},!0===t?{provide:i.Jy$,useValue:!0}:[],{provide:i.AQb,useValue:n??Im},{provide:i.ZTf,useFactory:()=>{const r=(0,i.WQX)(vn),l=(0,i.WQX)(i.uvJ);let c;return h=>{r.runOutsideAngular(()=>{l.destroyed&&!c?setTimeout(()=>{throw h}):(c??=l.get(i.zcH),c.handleError(h))})}}}]}function Yg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let wC=(()=>{class e{subscription=new me.yU;initialized=!1;zone=(0,i.WQX)(vn);pendingTasks=(0,i.WQX)(i.rev);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u0=(()=>{class e{applicationErrorHandler=(0,i.WQX)(i.ZTf);appRef=(0,i.WQX)(Dp);taskService=(0,i.WQX)(i.rev);ngZone=(0,i.WQX)(vn);zonelessEnabled=(0,i.WQX)(i.Evm);tracing=(0,i.WQX)(fl,{optional:!0});disableScheduling=(0,i.WQX)(i.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,i.WQX)(i.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Du||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const l=this.useMicrotaskScheduler?Pm:Om;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=(0,i.jDH)({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const c0=new i.nKC("",{providedIn:"root",factory:()=>(0,i.WQX)(c0,{optional:!0,skipSelf:!0})||function EC(){return typeof $localize<"u"&&$localize.locale||Sg}()}),kC=new i.nKC("",{providedIn:"root",factory:()=>"USD"})},3669:(st,ke,H)=>{"use strict";function k(i){return i}H.d(ke,{D:()=>k})},3757:(st,ke,H)=>{"use strict";H.d(ke,{o:()=>k});var k=function(i){return i.Head="head",i.Twohand="twohand",i.Onehand="onehand",i.Legs="legs",i.Body="body",i.Small="small",i}(k||{})},3794:(st,ke,H)=>{"use strict";H.d(ke,{ms:()=>R,lI:()=>me});var k=H(8071);function G(q){return q[q.length-1]}function R(q){return(0,k.T)(G(q))?q.pop():void 0}function me(q){return function i(q){return q&&(0,k.T)(q.schedule)}(G(q))?q.pop():void 0}},4060:(st,ke,H)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0}),ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const k=H(1635),i=k.__importDefault(H(3242));ke.PostgrestClient=i.default;const G=k.__importDefault(H(8666));ke.PostgrestQueryBuilder=G.default;const R=k.__importDefault(H(3608));ke.PostgrestFilterBuilder=R.default;const me=k.__importDefault(H(3342));ke.PostgrestTransformBuilder=me.default;const Z=k.__importDefault(H(5958));ke.PostgrestBuilder=Z.default;const q=k.__importDefault(H(4659));ke.PostgrestError=q.default,ke.default={PostgrestClient:i.default,PostgrestQueryBuilder:G.default,PostgrestFilterBuilder:R.default,PostgrestTransformBuilder:me.default,PostgrestBuilder:Z.default,PostgrestError:q.default}},4242:(st,ke,H)=>{"use strict";H.d(ke,{Vh:()=>se,im:()=>Z});var k=H(4412),i=H(2615),G=H(4675),R=H(7473),me=H(3077),Z=function(we){return we.Host="host",we.Client="client",we}(Z||{}),q=function(we){return we.JoinSession="join-session",we.ElementsUpdate="elements-update",we.RoundUpdate="round-update",we.GraveyardUpdate="graveyard-update",we.CharactersUpdate="characters-update",we}(q||{});let se=(()=>{class we{appContext;notificationService;localStorageService;ws=null;isConnected=!1;reconnectAttempts=0;maxReconnectAttempts=5;reconnecting=!1;role;updatingFromServer=!1;clientId=null;clientIdSubject=new k.t(null);sessionId=0;sessionIdSubject=new k.t(null);clientId$=this.clientIdSubject.asObservable();sessionId$=this.sessionIdSubject.asObservable();constructor(ne,he,ye){this.appContext=ne,this.notificationService=he,this.localStorageService=ye,this.subscribeAndBroadcast(this.appContext.roundNumber$,q.RoundUpdate,fe=>({roundNumber:fe})),this.subscribeAndBroadcast(this.appContext.creatures$,q.CharactersUpdate,fe=>({characters:fe})),this.subscribeAndBroadcast(this.appContext.elements$,q.ElementsUpdate,fe=>({elements:fe}))}subscribeAndBroadcast(ne,he,ye){ne.subscribe(fe=>{this.updatingFromServer||this.sendUpdateMessage(he,{...ye(fe),originatingClientId:this.clientId})})}connect(ne,he){this.role=ne,null!=he&&(this.sessionId=he,this.localStorageService.setSessionId(he)),null!=he&&(this.sessionId=he,this.localStorageService.setSessionId(he)),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(1e3,"Switching session or reconnecting"),this.ws=new WebSocket(window.location.hostname.includes("github.io")?"wss://frosthaven-assistant.onrender.com":"ws://localhost:8080"),this.ws.onopen=()=>{const ye=this.getSessionId(),fe={type:q.JoinSession,...null!=ye&&{sessionId:ye},characters:this.role===Z.Host?this.appContext.getCreatures():[],roundNumber:this.role===Z.Host?this.appContext.getRoundNumber():1,elementStates:this.role===Z.Host?this.appContext.getElements():[]};this.ws.send(JSON.stringify(fe)),this.isConnected=!0,this.reconnectAttempts=0},this.ws.onerror=ye=>{this.isConnected=!1,this.tryReconnect()},this.ws.onclose=()=>{this.isConnected&&this.notificationService.emitInfoMessage("The connection was closed. Trying to reconnect."),this.isConnected=!1,this.tryReconnect()},this.ws.onmessage=ye=>{const fe=JSON.parse(ye.data);if("session-joined"===fe.type)return this.handleSessionJoined(fe);if(fe.originatingClientId!==this.clientId){switch(this.updatingFromServer=!0,fe.type){case q.CharactersUpdate:this.appContext.setCreatures(fe.characters);break;case q.GraveyardUpdate:this.appContext.setGraveyard(fe.graveyard);break;case q.RoundUpdate:this.appContext.setRoundNumber(fe.roundNumber);break;case q.ElementsUpdate:this.appContext.setElements(fe.elements);break;default:this.notificationService.emitErrorMessage(`Unhandled message type: ${fe.type}`)}this.updatingFromServer=!1}}}tryReconnect(){if(!this.reconnecting&&this.getSessionId())if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnecting=!0,this.reconnectAttempts++;const ne=Math.min(500*Math.pow(2,this.reconnectAttempts-1),3e4);setTimeout(()=>{this.connect(this.role,this.getSessionId()),this.reconnecting=!1},ne)}else this.notificationService.emitErrorMessage("Failed to reconnect after multiple attempts.")}sendUpdateMessage(ne,he){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:ne,...he,originatingClientId:this.clientId}))}handleSessionJoined(ne){this.clientId=ne.clientId,this.clientIdSubject.next(this.clientId),this.sessionId=ne.sessionId,this.localStorageService.setSessionId(ne.sessionId),this.requestServerState(this.getSessionId()),this.notificationService.emitInfoMessage(`Connected to session ${ne.sessionId}.`)}requestServerState(ne){this.sendUpdateMessage("request-latest-state",{sessionId:ne})}getSessionId(){return this.sessionId||this.localStorageService.loadSessionId()}static \u0275fac=function(he){return new(he||we)(i.KVO(G.B),i.KVO(R.J),i.KVO(me.s))};static \u0275prov=i.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})()},4341:(st,ke,H)=>{"use strict";H.d(ke,{Zm:()=>pe,me:()=>$e,YN:()=>mr,tU:()=>Ha,BC:()=>yr,vS:()=>Ht});var k=H(3664),i=H(2615),G=H(9295),R=H(7705),me=H(7303),Z=H(6648),q=H(1985),se=H(3073),we=H(8750),de=H(3794),ne=H(4360),he=H(6450),ye=H(8496),Me=H(1413),Ye=H(6354);let Re=(()=>{class T{_renderer;_elementRef;onChange=D=>{};onTouched=()=>{};constructor(D,$){this._renderer=D,this._elementRef=$}setProperty(D,$){this._renderer.setProperty(this._elementRef.nativeElement,D,$)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}static \u0275fac=function($){return new($||T)(k.rXU(k.sFG),k.rXU(k.aKT))};static \u0275dir=k.FsC({type:T})}return T})(),Ke=(()=>{class T extends Re{static \u0275fac=(()=>{let D;return function(ae){return(D||(D=k.xGo(T)))(ae||T)}})();static \u0275dir=k.FsC({type:T,features:[k.Vt3]})}return T})();const rt=new i.nKC(""),pt={provide:rt,useExisting:(0,i.Rfq)(()=>pe),multi:!0};let pe=(()=>{class T extends Ke{writeValue(D){this.setProperty("checked",D)}static \u0275fac=(()=>{let D;return function(ae){return(D||(D=k.xGo(T)))(ae||T)}})();static \u0275dir=k.FsC({type:T,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,ae){1&$&&k.bIt("change",function(Ot){return ae.onChange(Ot.target.checked)})("blur",function(){return ae.onTouched()})},standalone:!1,features:[k.Jv_([pt]),k.Vt3]})}return T})();const Pe={provide:rt,useExisting:(0,i.Rfq)(()=>$e),multi:!0},Ge=new i.nKC("");let $e=(()=>{class T extends Re{_compositionMode;_composing=!1;constructor(D,$,ae){super(D,$),this._compositionMode=ae,null==this._compositionMode&&(this._compositionMode=!function Ee(){const T=(0,me.rb)()?(0,me.rb)().getUserAgent():"";return/android (\d+)/.test(T.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}static \u0275fac=function($){return new($||T)(k.rXU(k.sFG),k.rXU(k.aKT),k.rXU(Ge,8))};static \u0275dir=k.FsC({type:T,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ae){1&$&&k.bIt("input",function(Ot){return ae._handleInput(Ot.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(Ot){return ae._compositionEnd(Ot.target.value)})},standalone:!1,features:[k.Jv_([Pe]),k.Vt3]})}return T})();const Et=new i.nKC(""),tn=new i.nKC("");function ee(T){return x=>{const D=x.value?.length??function Rt(T){return null==T?null:Array.isArray(T)||"string"==typeof T?T.length:T instanceof Set?T.size:null}(x.value);return null!==D&&D>T?{maxlength:{requiredLength:T,actualLength:D}}:null}}function ue(T){return null}function ve(T){return null!=T}function Ue(T){return(0,k.yLl)(T)?(0,Z.H)(T):T}function xe(T){let x={};return T.forEach(D=>{x=null!=D?{...x,...D}:x}),0===Object.keys(x).length?null:x}function Ve(T,x){return x.map(D=>D(T))}function Xt(T){return T.map(x=>function ct(T){return!T.validate}(x)?x:D=>x.validate(D))}function Lt(T){return null!=T?function mt(T){if(!T)return null;const x=T.filter(ve);return 0==x.length?null:function(D){return xe(Ve(D,x))}}(Xt(T)):null}function je(T){return null!=T?function _e(T){if(!T)return null;const x=T.filter(ve);return 0==x.length?null:function(D){return function fe(...T){const x=(0,de.ms)(T),{args:D,keys:$}=(0,se.D)(T),ae=new q.c(yt=>{const{length:Ot}=D;if(!Ot)return void yt.complete();const Zn=new Array(Ot);let Uo=Ot,ta=Ot;for(let Qr=0;Qr<Ot;Qr++){let Wa=!1;(0,we.Tg)(D[Qr]).subscribe((0,ne._)(yt,Ei=>{Wa||(Wa=!0,ta--),Zn[Qr]=Ei},()=>Uo--,void 0,()=>{(!Uo||!Wa)&&(ta||yt.next($?(0,ye.e)($,Zn):Zn),yt.complete())}))}});return x?ae.pipe((0,he.I)(x)):ae}(Ve(D,x).map(Ue)).pipe((0,Ye.T)(xe))}}(Xt(T)):null}function We(T,x){return null===T?[x]:Array.isArray(T)?[...T,x]:[T,x]}function Zt(T){return T?Array.isArray(T)?T:[T]:[]}function Kt(T,x){return Array.isArray(T)?T.includes(x):T===x}function Jr(T,x){const D=Zt(x);return Zt(T).forEach(ae=>{Kt(D,ae)||D.push(ae)}),D}function ir(T,x){return Zt(x).filter(D=>!Kt(T,D))}class Zr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,D){return!!this.control&&this.control.hasError(x,D)}getError(x,D){return this.control?this.control.getError(x,D):null}}class Tn extends Zr{name;get formDirective(){return null}get path(){return null}}class on extends Zr{_parent=null;name=null;valueAccessor=null}class Ao{_cd;constructor(x){this._cd=x}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let yr=(()=>{class T extends Ao{constructor(D){super(D)}static \u0275fac=function($){return new($||T)(k.rXU(on,2))};static \u0275dir=k.FsC({type:T,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ae){2&$&&k.AVh("ng-untouched",ae.isUntouched)("ng-touched",ae.isTouched)("ng-pristine",ae.isPristine)("ng-dirty",ae.isDirty)("ng-valid",ae.isValid)("ng-invalid",ae.isInvalid)("ng-pending",ae.isPending)},standalone:!1,features:[k.Vt3]})}return T})();const lr="VALID",Mo="INVALID",ur="PENDING",cr="DISABLED";class tr{}class gr extends tr{value;source;constructor(x,D){super(),this.value=x,this.source=D}}class $r extends tr{pristine;source;constructor(x,D){super(),this.pristine=x,this.source=D}}class xr extends tr{touched;source;constructor(x,D){super(),this.touched=x,this.source=D}}class Fn extends tr{status;source;constructor(x,D){super(),this.status=x,this.source=D}}class ha extends tr{source;constructor(x){super(),this.source=x}}function en(T){return null!=T&&!Array.isArray(T)&&"object"==typeof T}class Kn{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(x,D){this._assignValidators(x),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,G.O8)(this.statusReactive)}set status(x){(0,G.O8)(()=>this.statusReactive.set(x))}_status=(0,G.EW)(()=>this.statusReactive());statusReactive=(0,i.vPA)(void 0);get valid(){return this.status===lr}get invalid(){return this.status===Mo}get pending(){return this.status==ur}get disabled(){return this.status===cr}get enabled(){return this.status!==cr}errors;get pristine(){return(0,G.O8)(this.pristineReactive)}set pristine(x){(0,G.O8)(()=>this.pristineReactive.set(x))}_pristine=(0,G.EW)(()=>this.pristineReactive());pristineReactive=(0,i.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,G.O8)(this.touchedReactive)}set touched(x){(0,G.O8)(()=>this.touchedReactive.set(x))}_touched=(0,G.EW)(()=>this.touchedReactive());touchedReactive=(0,i.vPA)(!1);get untouched(){return!this.touched}_events=new Me.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Jr(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Jr(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(ir(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(ir(x,this._rawAsyncValidators))}hasValidator(x){return Kt(this._rawValidators,x)}hasAsyncValidator(x){return Kt(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){const D=!1===this.touched;this.touched=!0;const $=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:$}),D&&!1!==x.emitEvent&&this._events.next(new xr(!0,$))}markAllAsDirty(x={}){this.markAsDirty({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(D=>D.markAllAsDirty(x))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(D=>D.markAllAsTouched(x))}markAsUntouched(x={}){const D=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const $=x.sourceControl??this;this._forEachChild(ae=>{ae.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:$})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,$),D&&!1!==x.emitEvent&&this._events.next(new xr(!1,$))}markAsDirty(x={}){const D=!0===this.pristine;this.pristine=!1;const $=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:$}),D&&!1!==x.emitEvent&&this._events.next(new $r(!1,$))}markAsPristine(x={}){const D=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const $=x.sourceControl??this;this._forEachChild(ae=>{ae.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,$),D&&!1!==x.emitEvent&&this._events.next(new $r(!0,$))}markAsPending(x={}){this.status=ur;const D=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new Fn(this.status,D)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:D})}disable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=cr,this.errors=null,this._forEachChild(ae=>{ae.disable({...x,onlySelf:!0})}),this._updateValue();const $=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new gr(this.value,$)),this._events.next(new Fn(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:D},this),this._onDisabledChange.forEach(ae=>ae(!0))}enable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=lr,this._forEachChild($=>{$.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:D},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(x,D){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},D),this._parent._updateTouched({},D))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const $=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lr||this.status===ur)&&this._runAsyncValidator($,x.emitEvent)}const D=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new gr(this.value,D)),this._events.next(new Fn(this.status,D)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:D})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cr:lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,D){if(this.asyncValidator){this.status=ur,this._hasOwnPendingAsyncValidator={emitEvent:!1!==D,shouldHaveEmitted:!1!==x};const $=Ue(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(ae=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ae,{emitEvent:D,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const x=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,x}return!1}setErrors(x,D={}){this.errors=x,this._updateControlsErrors(!1!==D.emitEvent,this,D.shouldHaveEmitted)}get(x){let D=x;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce(($,ae)=>$&&$._find(ae),this)}getError(x,D){const $=D?this.get(D):this;return $&&$.errors?$.errors[x]:null}hasError(x,D){return!!this.getError(x,D)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,D,$){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||$)&&this._events.next(new Fn(this.status,D)),this._parent&&this._parent._updateControlsErrors(x,D,$)}_initObservables(){this.valueChanges=new k.bkB,this.statusChanges=new k.bkB}_calculateStatus(){return this._allControlsDisabled()?cr:this.errors?Mo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ur)?ur:this._anyControlsHaveStatus(Mo)?Mo:lr}_anyControlsHaveStatus(x){return this._anyControls(D=>D.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,D){const $=!this._anyControlsDirty(),ae=this.pristine!==$;this.pristine=$,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,D),ae&&this._events.next(new $r(this.pristine,D))}_updateTouched(x={},D){this.touched=this._anyControlsTouched(),this._events.next(new xr(this.touched,D)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,D)}_onDisabledChange=[];_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){en(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function Ko(T){return Array.isArray(T)?Lt(T):T||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function Rr(T){return Array.isArray(T)?je(T):T||null}(this._rawAsyncValidators)}}const Xn=new i.nKC("",{providedIn:"root",factory:()=>dr}),dr="always";function ge(T,x,D=dr){(function to(T,x){const D=function kt(T){return T._rawValidators}(T);null!==x.validator?T.setValidators(We(D,x.validator)):"function"==typeof D&&T.setValidators([D]);const $=function et(T){return T._rawAsyncValidators}(T);null!==x.asyncValidator?T.setAsyncValidators(We($,x.asyncValidator)):"function"==typeof $&&T.setAsyncValidators([$]);const ae=()=>T.updateValueAndValidity();bo(x._rawValidators,ae),bo(x._rawAsyncValidators,ae)})(T,x),x.valueAccessor.writeValue(T.value),(T.disabled||"always"===D)&&x.valueAccessor.setDisabledState?.(T.disabled),function vr(T,x){x.valueAccessor.registerOnChange(D=>{T._pendingValue=D,T._pendingChange=!0,T._pendingDirty=!0,"change"===T.updateOn&&Qo(T,x)})}(T,x),function _r(T,x){const D=($,ae)=>{x.valueAccessor.writeValue($),ae&&x.viewToModelUpdate($)};T.registerOnChange(D),x._registerOnDestroy(()=>{T._unregisterOnChange(D)})}(T,x),function qo(T,x){x.valueAccessor.registerOnTouched(()=>{T._pendingTouched=!0,"blur"===T.updateOn&&T._pendingChange&&Qo(T,x),"submit"!==T.updateOn&&T.markAsTouched()})}(T,x),function wo(T,x){if(x.valueAccessor.setDisabledState){const D=$=>{x.valueAccessor.setDisabledState($)};T.registerOnDisabledChange(D),x._registerOnDestroy(()=>{T._unregisterOnDisabledChange(D)})}}(T,x)}function bo(T,x){T.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(x)})}function Qo(T,x){T._pendingDirty&&T.markAsDirty(),T.setValue(T._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(T._pendingValue),T._pendingChange=!1}function ro(T,x){const D=T.indexOf(x);D>-1&&T.splice(D,1)}function Fo(T){return"object"==typeof T&&null!==T&&2===Object.keys(T).length&&"value"in T&&"disabled"in T}Promise.resolve();const Ia=class extends Kn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(x=null,D,$){super(function pa(T){return(en(T)?T.validators:T)||null}(D),function zn(T,x){return(en(x)?x.asyncValidators:T)||null}($,D)),this._applyFormState(x),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),en(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=Fo(x)?x.value:x)}setValue(x,D={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(x,D={}){this.setValue(x,D)}reset(x=this.defaultValue,D={}){this._applyFormState(x),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1,!1!==D?.emitEvent&&this._events.next(new ha(this))}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){ro(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){ro(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){Fo(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Ut={provide:on,useExisting:(0,i.Rfq)(()=>Ht)},qt=Promise.resolve();let Ht=(()=>{class T extends on{_changeDetectorRef;callSetDisabledState;control=new Ia;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new k.bkB;constructor(D,$,ae,yt,Ot,Zn){super(),this._changeDetectorRef=Ot,this.callSetDisabledState=Zn,this._parent=D,this._setValidators($),this._setAsyncValidators(ae),this.valueAccessor=function qn(T,x){if(!x)return null;let D,$,ae;return Array.isArray(x),x.forEach(yt=>{yt.constructor===$e?D=yt:function Po(T){return Object.getPrototypeOf(T.constructor)===Ke}(yt)?$=yt:ae=yt}),ae||$||D||null}(0,yt)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const $=D.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function Hr(T,x){if(!T.hasOwnProperty("model"))return!1;const D=T.model;return!!D.isFirstChange()||!Object.is(x,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ge(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){qt.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const $=D.isDisabled.currentValue,ae=0!==$&&(0,R.L39)($);qt.then(()=>{ae&&!this.control.disabled?this.control.disable():!ae&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?function fa(T,x){return[...x.path,T]}(D,this._parent):[D]}static \u0275fac=function($){return new($||T)(k.rXU(Tn,9),k.rXU(Et,10),k.rXU(tn,10),k.rXU(rt,10),k.rXU(R.gRc,8),k.rXU(Xn,8))};static \u0275dir=k.FsC({type:T,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[k.Jv_([Ut]),k.Vt3,k.OA$]})}return T})();let ft=(()=>{class T{_validator=ue;_onChange;_enabled;ngOnChanges(D){if(this.inputName in D){const $=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):ue,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}static \u0275fac=function($){return new($||T)};static \u0275dir=k.FsC({type:T,features:[k.OA$]})}return T})();const Fr={provide:Et,useExisting:(0,i.Rfq)(()=>Ha),multi:!0};let Ha=(()=>{class T extends ft{maxlength;inputName="maxlength";normalizeInput=D=>function Dt(T){return"number"==typeof T?T:parseInt(T,10)}(D);createValidator=D=>ee(D);static \u0275fac=(()=>{let D;return function(ae){return(D||(D=k.xGo(T)))(ae||T)}})();static \u0275dir=k.FsC({type:T,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,ae){2&$&&k.BMQ("maxlength",ae._enabled?ae.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[k.Jv_([Fr]),k.Vt3]})}return T})(),so=(()=>{class T{static \u0275fac=function($){return new($||T)};static \u0275mod=k.$C({type:T});static \u0275inj=i.G2t({})}return T})(),mr=(()=>{class T{static withConfig(D){return{ngModule:T,providers:[{provide:Xn,useValue:D.callSetDisabledState??dr}]}}static \u0275fac=function($){return new($||T)};static \u0275mod=k.$C({type:T});static \u0275inj=i.G2t({imports:[so]})}return T})()},4360:(st,ke,H)=>{"use strict";H.d(ke,{_:()=>i});var k=H(7707);function i(R,me,Z,q,se){return new G(R,me,Z,q,se)}class G extends k.vU{constructor(me,Z,q,se,we,de){super(me),this.onFinalize=we,this.shouldUnsubscribe=de,this._next=Z?function(ne){try{Z(ne)}catch(he){me.error(he)}}:super._next,this._error=se?function(ne){try{se(ne)}catch(he){me.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(ne){me.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},4412:(st,ke,H)=>{"use strict";H.d(ke,{t:()=>i});var k=H(1413);class i extends k.B{constructor(R){super(),this._value=R}get value(){return this.getValue()}_subscribe(R){const me=super._subscribe(R);return!me.closed&&R.next(this._value),me}getValue(){const{hasError:R,thrownError:me,_value:Z}=this;if(R)throw me;return this._throwIfClosed(),Z}next(R){super.next(this._value=R)}}},4572:(st,ke,H)=>{"use strict";H.d(ke,{z:()=>de});var k=H(1985),i=H(3073),G=H(6648),R=H(3669),me=H(6450),Z=H(3794),q=H(8496),se=H(4360),we=H(5225);function de(...ye){const fe=(0,Z.lI)(ye),Me=(0,Z.ms)(ye),{args:Ye,keys:Re}=(0,i.D)(ye);if(0===Ye.length)return(0,G.H)([],fe);const Ke=new k.c(function ne(ye,fe,Me=R.D){return Ye=>{he(fe,()=>{const{length:Re}=ye,Ke=new Array(Re);let rt=Re,pt=Re;for(let pe=0;pe<Re;pe++)he(fe,()=>{const Pe=(0,G.H)(ye[pe],fe);let Ee=!1;Pe.subscribe((0,se._)(Ye,Ge=>{Ke[pe]=Ge,Ee||(Ee=!0,pt--),pt||Ye.next(Me(Ke.slice()))},()=>{--rt||Ye.complete()}))},Ye)},Ye)}}(Ye,fe,Re?rt=>(0,q.e)(Re,rt):R.D));return Me?Ke.pipe((0,me.I)(Me)):Ke}function he(ye,fe,Me){ye?(0,we.N)(Me,ye,fe):fe()}},4659:(st,ke)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});class H extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}ke.default=H},4675:(st,ke,H)=>{"use strict";H.d(ke,{B:()=>de});var k=H(467),i=H(8880),G=H(4412),R=H(2615),me=H(130),Z=H(5231),q=H(8147),se=H(7473),we=H(4700);let de=(()=>{class ne{dataLoader;creatureFactory;logService;notificationService;db;defaultLevel=1;isGroupSelected=!1;selectedCreature=null;addMonsterToggled=!1;shouldShowSetup=!0;creaturesSubject=new G.t([]);creatures$=this.creaturesSubject.asObservable();graveyardSubject=new G.t([]);graveyard$=this.graveyardSubject.asObservable();roundNumberSubject=new G.t(1);roundNumber$=this.roundNumberSubject.asObservable();defaultLevelSubject=new G.t(1);defaultLevel$=this.defaultLevelSubject.asObservable();elementsSubject=new G.t([{type:i.RJ.Fire,state:i.e_.None},{type:i.RJ.Ice,state:i.e_.None},{type:i.RJ.Earth,state:i.e_.None},{type:i.RJ.Air,state:i.e_.None},{type:i.RJ.Light,state:i.e_.None},{type:i.RJ.Dark,state:i.e_.None}]);elements$=this.elementsSubject.asObservable();constructor(ye,fe,Me,Ye,Re){this.dataLoader=ye,this.creatureFactory=fe,this.logService=Me,this.notificationService=Ye,this.db=Re,this.addDefaultCharacters(),this.logService.init(this.creatures$)}getRoundNumber(){return this.roundNumberSubject.getValue()}setRoundNumber(ye){this.roundNumberSubject.next(ye)}getElements(){return this.elementsSubject.getValue()}setElements(ye){this.elementsSubject.next([...ye])}setElementState(ye,fe){const Me=this.getElements().map(Ye=>Ye.type===ye?{...Ye,state:fe}:Ye);this.setElements(Me)}getCreatures(){return this.creaturesSubject.value}setCreatures(ye){this.creaturesSubject.next(ye)}addCreature(ye){this.creaturesSubject.next([...this.creaturesSubject.value,this.creatureFactory.createCreature(ye)])}addCreatures(ye){this.creaturesSubject.next([...this.creaturesSubject.value,...this.creatureFactory.createCreatureList(ye)])}removeCreature(ye){this.creaturesSubject.next(this.creaturesSubject.value.filter(fe=>fe.id!==ye))}getGraveyard(){return this.graveyardSubject.value}setGraveyard(ye){this.graveyardSubject.next(ye)}addGraveyard(ye){this.graveyardSubject.next([...this.graveyardSubject.value,JSON.parse(JSON.stringify(ye))])}removeGraveyard(ye){this.graveyardSubject.next(this.graveyardSubject.value.filter(fe=>fe.id!==ye))}updateCreatureBaseStat(ye,fe,Me,Ye){const Re=this.getCreatures(),Ke=this.findCreature(ye);"name"===fe&&(Me=this.creatureFactory.createCreatureName(Ke)),Ye?Re.filter(pt=>pt.type===Ke.type).forEach(pt=>{this.updateCreatureBaseStat(pt.id,fe,Me,!1)}):Ke[fe]=Me,this.creaturesSubject.next([...Re])}toggleCreatureConditions(ye,fe){const Me=this.findCreature(ye);if(!Me)return;const Ye=Me.conditions||[];Me.conditions=Ye.indexOf(fe)>-1?Ye.filter(Ke=>Ke!==fe):[...Ye,fe],this.creaturesSubject.next([...this.getCreatures()])}killCreature(ye){const fe=this.findCreature(ye);if(!fe)return;if(!fe.aggressive)return void this.notificationService.emitErrorMessage("haha, can't kill me");const Me=this.creaturesSubject.value.filter(Re=>Re.id!==ye);this.creaturesSubject.next(Me);const Ye=JSON.parse(JSON.stringify(fe));this.addGraveyard(Ye),this.notificationService.emitInfoMessage(`${fe.name} has been killed!`)}reviveCreature(ye,fe){const Me=this.getGraveyard?this.getGraveyard():this.graveyardSubject?.value??[],Ye=Me.findIndex(pe=>pe.id===ye);if(-1===Ye)return;const Re={...Me[Ye]},Ke=[...Me];Ke.splice(Ye,1);const rt=Number.isFinite(fe)?Number(fe):void 0;Re.hp=Math.max(1,Number(rt??Re.hp??1)),Re.aggressive=!0;const pt=[...this.creaturesSubject.value,Re];this.creaturesSubject.next(pt),this.graveyardSubject&&this.graveyardSubject.next(Ke),this.notificationService?.emitInfoMessage?.(`${Re.name} has been revived!`)}findCreature(ye){const Me=this.getCreatures().find(Ye=>Ye.id===ye);if(!Me)throw Error("Creature not found");return Me}addDefaultCharacters(){var ye=this;return(0,k.A)(function*(){try{const fe=yield ye.db.getCharacter(),Me=fe.map(rt=>Number(rt.level)||1),Ye=Me.reduce((rt,pt)=>rt+pt,0)/Me.length,Re=Math.max(1,Math.round(Ye/2));ye.defaultLevelSubject.next(Re);const Ke=fe.map(({name:rt,type:pt,level:pe})=>{const Pe=ye.dataLoader.getData().characters.find(nt=>nt.name===pt),Ee=Pe?.stats?.find(nt=>nt.level===Number(pe)),Ge=Number(Ee?.health)||10;return ye.creatureFactory.createCreature({name:rt,type:pt,hp:Ge,traits:Pe?.traits??[],level:Number(pe)||1,aggressive:!1})});ye.addCreatures(Ke)}catch(fe){console.error("addDefaultCharacters failed",fe)}})()}static \u0275fac=function(fe){return new(fe||ne)(R.KVO(me.X),R.KVO(Z.Z),R.KVO(q.K),R.KVO(se.J),R.KVO(we.a))};static \u0275prov=R.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},4700:(st,ke,H)=>{"use strict";H.d(ke,{a:()=>Ti});var k=H(467),i=H(1635);class R extends Error{constructor(f,m="FunctionsError",p){super(f),this.name=m,this.context=p}}class me extends R{constructor(f){super("Failed to send a request to the Edge Function","FunctionsFetchError",f)}}class Z extends R{constructor(f){super("Relay Error invoking the Edge Function","FunctionsRelayError",f)}}class q extends R{constructor(f){super("Edge Function returned a non-2xx status code","FunctionsHttpError",f)}}var se=function(E){return E.Any="any",E.ApNortheast1="ap-northeast-1",E.ApNortheast2="ap-northeast-2",E.ApSouth1="ap-south-1",E.ApSoutheast1="ap-southeast-1",E.ApSoutheast2="ap-southeast-2",E.CaCentral1="ca-central-1",E.EuCentral1="eu-central-1",E.EuWest1="eu-west-1",E.EuWest2="eu-west-2",E.EuWest3="eu-west-3",E.SaEast1="sa-east-1",E.UsEast1="us-east-1",E.UsWest1="us-west-1",E.UsWest2="us-west-2",E}(se||{});class we{constructor(f,{headers:m={},customFetch:p,region:b=se.Any}={}){var E;this.url=f,this.headers=m,this.region=b,this.fetch=(E=p)?(...f)=>E(...f):(...f)=>fetch(...f)}setAuth(f){this.headers.Authorization=`Bearer ${f}`}invoke(f){return(0,i.__awaiter)(this,arguments,void 0,function*(m,p={}){var b;let C,O;try{const{headers:L,method:W,body:X,signal:oe,timeout:be}=p;let Ie={},{region:He}=p;He||(He=this.region);const Oe=new URL(`${this.url}/${m}`);let Je;He&&"any"!==He&&(Ie["x-region"]=He,Oe.searchParams.set("forceFunctionRegion",He)),X&&(L&&!Object.prototype.hasOwnProperty.call(L,"Content-Type")||!L)?typeof Blob<"u"&&X instanceof Blob||X instanceof ArrayBuffer?(Ie["Content-Type"]="application/octet-stream",Je=X):"string"==typeof X?(Ie["Content-Type"]="text/plain",Je=X):typeof FormData<"u"&&X instanceof FormData?Je=X:(Ie["Content-Type"]="application/json",Je=JSON.stringify(X)):Je=X;let Ze=oe;be&&(O=new AbortController,C=setTimeout(()=>O.abort(),be),oe?(Ze=O.signal,oe.addEventListener("abort",()=>O.abort())):Ze=O.signal);const gt=yield this.fetch(Oe.toString(),{method:W||"POST",headers:Object.assign(Object.assign(Object.assign({},Ie),this.headers),L),body:Je,signal:Ze}).catch(_t=>{throw new me(_t)}),Tt=gt.headers.get("x-relay-error");if(Tt&&"true"===Tt)throw new Z(gt);if(!gt.ok)throw new q(gt);let vt,Vt=(null!==(b=gt.headers.get("Content-Type"))&&void 0!==b?b:"text/plain").split(";")[0].trim();return vt="application/json"===Vt?yield gt.json():"application/octet-stream"===Vt||"application/pdf"===Vt?yield gt.blob():"text/event-stream"===Vt?gt:"multipart/form-data"===Vt?yield gt.formData():yield gt.text(),{data:vt,error:null,response:gt}}catch(L){return{data:null,error:L,response:L instanceof q||L instanceof Z?L.context:void 0}}finally{C&&clearTimeout(C)}})}}var de=H(4060),ne=H.t(de,2);const{PostgrestClient:he}=de||ne,pt=class rt{constructor(){}static detectEnvironment(){var f;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(f=navigator.userAgent)&&void 0!==f&&f.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const m=process.versions;if(m&&m.node){const b=parseInt(m.node.replace(/^v/,"").split(".")[0]);return b>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const f=this.detectEnvironment();if(f.constructor)return f.constructor;let m=f.error||"WebSocket not supported in this environment.";throw f.workaround&&(m+=`\n\nSuggested solution: ${f.workaround}`),new Error(m)}static createWebSocket(f,m){return new(this.getWebSocketConstructor())(f,m)}static isWebSocketSupported(){try{const f=this.detectEnvironment();return"native"===f.type||"ws"===f.type}catch{return!1}}};var zt=function(E){return E[E.connecting=0]="connecting",E[E.open=1]="open",E[E.closing=2]="closing",E[E.closed=3]="closed",E}(zt||{}),Gt=function(E){return E.closed="closed",E.errored="errored",E.joined="joined",E.joining="joining",E.leaving="leaving",E}(Gt||{}),un=function(E){return E.close="phx_close",E.error="phx_error",E.join="phx_join",E.reply="phx_reply",E.leave="phx_leave",E.access_token="access_token",E}(un||{}),Ln=function(E){return E.websocket="websocket",E}(Ln||{}),rn=function(E){return E.Connecting="connecting",E.Open="open",E.Closing="closing",E.Closed="closed",E}(rn||{});class Tr{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(f,m){return this._isArrayBuffer(f.payload)?m(this._binaryEncodePush(f)):f.event!==this.BROADCAST||f.payload instanceof ArrayBuffer||"string"!=typeof f.payload.event?m(JSON.stringify([f.join_ref,f.ref,f.topic,f.event,f.payload])):m(this._binaryEncodeUserBroadcastPush(f))}_binaryEncodePush(f){var m,p;const{event:b,topic:C,payload:O}=f,L=null!==(m=f.ref)&&void 0!==m?m:"",W=null!==(p=f.join_ref)&&void 0!==p?p:"",oe=new ArrayBuffer(this.HEADER_LENGTH+(this.META_LENGTH+W.length+L.length+C.length+b.length));let be=new DataView(oe),Ie=0;be.setUint8(Ie++,this.KINDS.push),be.setUint8(Ie++,W.length),be.setUint8(Ie++,L.length),be.setUint8(Ie++,C.length),be.setUint8(Ie++,b.length),Array.from(W,Oe=>be.setUint8(Ie++,Oe.charCodeAt(0))),Array.from(L,Oe=>be.setUint8(Ie++,Oe.charCodeAt(0))),Array.from(C,Oe=>be.setUint8(Ie++,Oe.charCodeAt(0))),Array.from(b,Oe=>be.setUint8(Ie++,Oe.charCodeAt(0)));var He=new Uint8Array(oe.byteLength+O.byteLength);return He.set(new Uint8Array(oe),0),He.set(new Uint8Array(O),oe.byteLength),He.buffer}_binaryEncodeUserBroadcastPush(f){var m;return this._isArrayBuffer(null===(m=f.payload)||void 0===m?void 0:m.payload)?this._encodeBinaryUserBroadcastPush(f):this._encodeJsonUserBroadcastPush(f)}_encodeBinaryUserBroadcastPush(f){var m,p,b,C;const O=f.topic,L=null!==(m=f.ref)&&void 0!==m?m:"",W=null!==(p=f.join_ref)&&void 0!==p?p:"",X=f.payload.event,oe=null!==(C=null===(b=f.payload)||void 0===b?void 0:b.payload)&&void 0!==C?C:new ArrayBuffer(0),Ie=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+W.length+L.length+O.length+X.length));let He=new DataView(Ie),Oe=0;He.setUint8(Oe++,this.KINDS.userBroadcastPush),He.setUint8(Oe++,W.length),He.setUint8(Oe++,L.length),He.setUint8(Oe++,O.length),He.setUint8(Oe++,X.length),He.setUint8(Oe++,this.BINARY_ENCODING),Array.from(W,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(L,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(O,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0))),Array.from(X,Ze=>He.setUint8(Oe++,Ze.charCodeAt(0)));var Je=new Uint8Array(Ie.byteLength+oe.byteLength);return Je.set(new Uint8Array(Ie),0),Je.set(new Uint8Array(oe),Ie.byteLength),Je.buffer}_encodeJsonUserBroadcastPush(f){var m,p,b,C;const O=f.topic,L=null!==(m=f.ref)&&void 0!==m?m:"",W=null!==(p=f.join_ref)&&void 0!==p?p:"",X=f.payload.event,oe=null!==(C=null===(b=f.payload)||void 0===b?void 0:b.payload)&&void 0!==C?C:{},Ie=(new TextEncoder).encode(JSON.stringify(oe)).buffer,Oe=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+W.length+L.length+O.length+X.length));let Je=new DataView(Oe),Ze=0;Je.setUint8(Ze++,this.KINDS.userBroadcastPush),Je.setUint8(Ze++,W.length),Je.setUint8(Ze++,L.length),Je.setUint8(Ze++,O.length),Je.setUint8(Ze++,X.length),Je.setUint8(Ze++,this.JSON_ENCODING),Array.from(W,Tt=>Je.setUint8(Ze++,Tt.charCodeAt(0))),Array.from(L,Tt=>Je.setUint8(Ze++,Tt.charCodeAt(0))),Array.from(O,Tt=>Je.setUint8(Ze++,Tt.charCodeAt(0))),Array.from(X,Tt=>Je.setUint8(Ze++,Tt.charCodeAt(0)));var gt=new Uint8Array(Oe.byteLength+Ie.byteLength);return gt.set(new Uint8Array(Oe),0),gt.set(new Uint8Array(Ie),Oe.byteLength),gt.buffer}decode(f,m){if(this._isArrayBuffer(f))return m(this._binaryDecode(f));if("string"==typeof f){const p=JSON.parse(f),[b,C,O,L,W]=p;return m({join_ref:b,ref:C,topic:O,event:L,payload:W})}return m({})}_binaryDecode(f){const m=new DataView(f),p=m.getUint8(0),b=new TextDecoder;switch(p){case this.KINDS.push:return this._decodePush(f,m,b);case this.KINDS.reply:return this._decodeReply(f,m,b);case this.KINDS.broadcast:return this._decodeBroadcast(f,m,b);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(f,m,b)}}_decodePush(f,m,p){const b=m.getUint8(1),C=m.getUint8(2),O=m.getUint8(3);let L=this.HEADER_LENGTH+this.META_LENGTH-1;const W=p.decode(f.slice(L,L+b));L+=b;const X=p.decode(f.slice(L,L+C));L+=C;const oe=p.decode(f.slice(L,L+O));return L+=O,{join_ref:W,ref:null,topic:X,event:oe,payload:JSON.parse(p.decode(f.slice(L,f.byteLength)))}}_decodeReply(f,m,p){const b=m.getUint8(1),C=m.getUint8(2),O=m.getUint8(3),L=m.getUint8(4);let W=this.HEADER_LENGTH+this.META_LENGTH;const X=p.decode(f.slice(W,W+b));W+=b;const oe=p.decode(f.slice(W,W+C));W+=C;const be=p.decode(f.slice(W,W+O));W+=O;const Ie=p.decode(f.slice(W,W+L));W+=L;const He=JSON.parse(p.decode(f.slice(W,f.byteLength)));return{join_ref:X,ref:oe,topic:be,event:un.reply,payload:{status:Ie,response:He}}}_decodeBroadcast(f,m,p){const b=m.getUint8(1),C=m.getUint8(2);let O=this.HEADER_LENGTH+2;const L=p.decode(f.slice(O,O+b));O+=b;const W=p.decode(f.slice(O,O+C));return O+=C,{join_ref:null,ref:null,topic:L,event:W,payload:JSON.parse(p.decode(f.slice(O,f.byteLength)))}}_decodeUserBroadcast(f,m,p){const b=m.getUint8(1),C=m.getUint8(2),O=m.getUint8(3),L=m.getUint8(4);let W=this.HEADER_LENGTH+4;const X=p.decode(f.slice(W,W+b));W+=b;const oe=p.decode(f.slice(W,W+C));W+=C;const be=p.decode(f.slice(W,W+O));W+=O;const Ie=f.slice(W,f.byteLength),He=L===this.JSON_ENCODING?JSON.parse(p.decode(Ie)):Ie,Oe={type:this.BROADCAST,event:oe,payload:He};return O>0&&(Oe.meta=JSON.parse(be)),{join_ref:null,ref:null,topic:X,event:this.BROADCAST,payload:Oe}}_isArrayBuffer(f){var m;return f instanceof ArrayBuffer||"ArrayBuffer"===(null===(m=f?.constructor)||void 0===m?void 0:m.name)}}class hn{constructor(f,m){this.callback=f,this.timerCalc=m,this.timer=void 0,this.tries=0,this.callback=f,this.timerCalc=m}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se=function(E){return E.abstime="abstime",E.bool="bool",E.date="date",E.daterange="daterange",E.float4="float4",E.float8="float8",E.int2="int2",E.int4="int4",E.int4range="int4range",E.int8="int8",E.int8range="int8range",E.json="json",E.jsonb="jsonb",E.money="money",E.numeric="numeric",E.oid="oid",E.reltime="reltime",E.text="text",E.time="time",E.timestamp="timestamp",E.timestamptz="timestamptz",E.timetz="timetz",E.tsrange="tsrange",E.tstzrange="tstzrange",E}(Se||{});const ee=(E,f,m={})=>{var p;const b=null!==(p=m.skipTypes)&&void 0!==p?p:[];return f?Object.keys(f).reduce((C,O)=>(C[O]=ce(O,E,f,b),C),{}):{}},ce=(E,f,m,p)=>{const b=f.find(L=>L.name===E),C=b?.type,O=m[E];return C&&!p.includes(C)?ue(C,O):ve(O)},ue=(E,f)=>{if("_"===E.charAt(0)){const m=E.slice(1,E.length);return ct(f,m)}switch(E){case Se.bool:return Ue(f);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return xe(f);case Se.json:case Se.jsonb:return Ve(f);case Se.timestamp:return Xt(f);default:return ve(f)}},ve=E=>E,Ue=E=>{switch(E){case"t":return!0;case"f":return!1;default:return E}},xe=E=>{if("string"==typeof E){const f=parseFloat(E);if(!Number.isNaN(f))return f}return E},Ve=E=>{if("string"==typeof E)try{return JSON.parse(E)}catch(f){return console.log(`JSON parse error: ${f}`),E}return E},ct=(E,f)=>{if("string"!=typeof E)return E;const m=E.length-1;if("{"===E[0]&&"}"===E[m]){let C;const O=E.slice(1,m);try{C=JSON.parse("["+O+"]")}catch{C=O?O.split(","):[]}return C.map(L=>ue(f,L))}return E},Xt=E=>"string"==typeof E?E.replace(" ","T"):E,mt=E=>{const f=new URL(E);return f.protocol=f.protocol.replace(/^ws/i,"http"),f.pathname=f.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),f.pathname=""===f.pathname||"/"===f.pathname?"/api/broadcast":f.pathname+"/api/broadcast",f.href};class Lt{constructor(f,m,p={},b=1e4){this.channel=f,this.event=m,this.payload=p,this.timeout=b,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(f){this.timeout=f,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(f){this.payload=Object.assign(Object.assign({},this.payload),f)}receive(f,m){var p;return this._hasReceived(f)&&m(null===(p=this.receivedResp)||void 0===p?void 0:p.response),this.recHooks.push({status:f,callback:m}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},m=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=m,this._matchReceive(m)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(f,m){this.refEvent&&this.channel._trigger(this.refEvent,{status:f,response:m})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:f,response:m}){this.recHooks.filter(p=>p.status===f).forEach(p=>p.callback(m))}_hasReceived(f){return this.receivedResp&&this.receivedResp.status===f}}class je{constructor(f,m){this.channel=f,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const p=m?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(p.state,{},b=>{const{onJoin:C,onLeave:O,onSync:L}=this.caller;this.joinRef=this.channel._joinRef(),this.state=je.syncState(this.state,b,C,O),this.pendingDiffs.forEach(W=>{this.state=je.syncDiff(this.state,W,C,O)}),this.pendingDiffs=[],L()}),this.channel._on(p.diff,{},b=>{const{onJoin:C,onLeave:O,onSync:L}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(b):(this.state=je.syncDiff(this.state,b,C,O),L())}),this.onJoin((b,C,O)=>{this.channel._trigger("presence",{event:"join",key:b,currentPresences:C,newPresences:O})}),this.onLeave((b,C,O)=>{this.channel._trigger("presence",{event:"leave",key:b,currentPresences:C,leftPresences:O})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(f,m,p,b){const C=this.cloneDeep(f),O=this.transformState(m),L={},W={};return this.map(C,(X,oe)=>{O[X]||(W[X]=oe)}),this.map(O,(X,oe)=>{const be=C[X];if(be){const Ie=oe.map(Ze=>Ze.presence_ref),He=be.map(Ze=>Ze.presence_ref),Oe=oe.filter(Ze=>He.indexOf(Ze.presence_ref)<0),Je=be.filter(Ze=>Ie.indexOf(Ze.presence_ref)<0);Oe.length>0&&(L[X]=Oe),Je.length>0&&(W[X]=Je)}else L[X]=oe}),this.syncDiff(C,{joins:L,leaves:W},p,b)}static syncDiff(f,m,p,b){const{joins:C,leaves:O}={joins:this.transformState(m.joins),leaves:this.transformState(m.leaves)};return p||(p=()=>{}),b||(b=()=>{}),this.map(C,(L,W)=>{var X;const oe=null!==(X=f[L])&&void 0!==X?X:[];if(f[L]=this.cloneDeep(W),oe.length>0){const be=f[L].map(He=>He.presence_ref),Ie=oe.filter(He=>be.indexOf(He.presence_ref)<0);f[L].unshift(...Ie)}p(L,oe,W)}),this.map(O,(L,W)=>{let X=f[L];if(!X)return;const oe=W.map(be=>be.presence_ref);X=X.filter(be=>oe.indexOf(be.presence_ref)<0),f[L]=X,b(L,X,W),0===X.length&&delete f[L]}),f}static map(f,m){return Object.getOwnPropertyNames(f).map(p=>m(p,f[p]))}static transformState(f){return f=this.cloneDeep(f),Object.getOwnPropertyNames(f).reduce((m,p)=>{const b=f[p];return m[p]="metas"in b?b.metas.map(C=>(C.presence_ref=C.phx_ref,delete C.phx_ref,delete C.phx_ref_prev,C)):b,m},{})}static cloneDeep(f){return JSON.parse(JSON.stringify(f))}onJoin(f){this.caller.onJoin=f}onLeave(f){this.caller.onLeave=f}onSync(f){this.caller.onSync=f}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kt=function(E){return E.BROADCAST="broadcast",E.PRESENCE="presence",E.POSTGRES_CHANGES="postgres_changes",E.SYSTEM="system",E}(kt||{}),et=function(E){return E.SUBSCRIBED="SUBSCRIBED",E.TIMED_OUT="TIMED_OUT",E.CLOSED="CLOSED",E.CHANNEL_ERROR="CHANNEL_ERROR",E}(et||{});class Kt{constructor(f,m={config:{}},p){var b,C;if(this.topic=f,this.params=m,this.socket=p,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=f.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},m.config),this.timeout=this.socket.timeout,this.joinPush=new Lt(this,un.join,this.params,this.timeout),this.rejoinTimer=new hn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(O=>O.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(O=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,O),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",O=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,O),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(O,L)=>{this._trigger(this._replyEventName(L),O)}),this.presence=new je(this),this.broadcastEndpointURL=mt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(C=null===(b=this.params.config)||void 0===b?void 0:b.broadcast)&&void 0!==C&&C.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(f,m=this.timeout){var b,C,O,p=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:L,presence:W,private:X}}=this.params,oe=null!==(C=null===(b=this.bindings.postgres_changes)||void 0===b?void 0:b.map(Oe=>Oe.filter))&&void 0!==C?C:[],be=!!this.bindings[kt.PRESENCE]&&this.bindings[kt.PRESENCE].length>0||!0===(null===(O=this.params.config.presence)||void 0===O?void 0:O.enabled),Ie={},He={broadcast:L,presence:Object.assign(Object.assign({},W),{enabled:be}),postgres_changes:oe,private:X};this.socket.accessTokenValue&&(Ie.access_token=this.socket.accessTokenValue),this._onError(Oe=>f?.(et.CHANNEL_ERROR,Oe)),this._onClose(()=>f?.(et.CLOSED)),this.updateJoinPayload(Object.assign({config:He},Ie)),this.joinedOnce=!0,this._rejoin(m),this.joinPush.receive("ok",function(){var Oe=(0,k.A)(function*({postgres_changes:Je}){var Ze;if(p.socket.setAuth(),void 0!==Je){const gt=p.bindings.postgres_changes,Tt=null!==(Ze=gt?.length)&&void 0!==Ze?Ze:0,Vt=[];for(let vt=0;vt<Tt;vt++){const _t=gt[vt],{filter:{event:kn,schema:Cr,table:gn,filter:Dn}}=_t,Sr=Je&&Je[vt];if(!Sr||Sr.event!==kn||Sr.schema!==Cr||Sr.table!==gn||Sr.filter!==Dn)return p.unsubscribe(),p.state=Gt.errored,void f?.(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Vt.push(Object.assign(Object.assign({},_t),{id:Sr.id}))}return p.bindings.postgres_changes=Vt,void(f&&f(et.SUBSCRIBED))}f?.(et.SUBSCRIBED)});return function(Je){return Oe.apply(this,arguments)}}()).receive("error",Oe=>{this.state=Gt.errored,f?.(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Oe).join(", ")||"error")))}).receive("timeout",()=>{f?.(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(f){var m=this;return(0,k.A)(function*(p,b={}){return yield m.send({type:"presence",event:"track",payload:p},b.timeout||m.timeout)}).apply(this,arguments)}untrack(){var f=this;return(0,k.A)(function*(m={}){return yield f.send({type:"presence",event:"untrack"},m)}).apply(this,arguments)}on(f,m,p){return this.state===Gt.joined&&f===kt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(f,m,p)}httpSend(f,m){var p=this;return(0,k.A)(function*(b,C,O={}){var L;const W=p.socket.accessTokenValue?`Bearer ${p.socket.accessTokenValue}`:"";if(null==C)return Promise.reject("Payload is required for httpSend()");const X={method:"POST",headers:{Authorization:W,apikey:p.socket.apiKey?p.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:p.subTopic,event:b,payload:C,private:p.private}]})},oe=yield p._fetchWithTimeout(p.broadcastEndpointURL,X,null!==(L=O.timeout)&&void 0!==L?L:p.timeout);if(202===oe.status)return{success:!0};let be=oe.statusText;try{const Ie=yield oe.json();be=Ie.error||Ie.message||be}catch{}return Promise.reject(new Error(be))}).apply(this,arguments)}send(f){var m=this;return(0,k.A)(function*(p,b={}){var C,O;if(m._canPush()||"broadcast"!==p.type)return new Promise(L=>{var W,X,oe;const be=m._push(p.type,p,b.timeout||m.timeout);"broadcast"===p.type&&!(null!==(oe=null===(X=null===(W=m.params)||void 0===W?void 0:W.config)||void 0===X?void 0:X.broadcast)&&void 0!==oe&&oe.ack)&&L("ok"),be.receive("ok",()=>L("ok")),be.receive("error",()=>L("error")),be.receive("timeout",()=>L("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:L,payload:W}=p,oe={method:"POST",headers:{Authorization:m.socket.accessTokenValue?`Bearer ${m.socket.accessTokenValue}`:"",apikey:m.socket.apiKey?m.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:m.subTopic,event:L,payload:W,private:m.private}]})};try{const be=yield m._fetchWithTimeout(m.broadcastEndpointURL,oe,null!==(C=b.timeout)&&void 0!==C?C:m.timeout);return yield null===(O=be.body)||void 0===O?void 0:O.cancel(),be.ok?"ok":"error"}catch(be){return"AbortError"===be.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(f){this.joinPush.updatePayload(f)}unsubscribe(f=this.timeout){this.state=Gt.leaving;const m=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let p=null;return new Promise(b=>{p=new Lt(this,un.leave,{},f),p.receive("ok",()=>{m(),b("ok")}).receive("timeout",()=>{m(),b("timed out")}).receive("error",()=>{b("error")}),p.send(),this._canPush()||p.trigger("ok",{})}).finally(()=>{p?.destroy()})}teardown(){this.pushBuffer.forEach(f=>f.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}_fetchWithTimeout(f,m,p){var b=this;return(0,k.A)(function*(){const C=new AbortController,O=setTimeout(()=>C.abort(),p),L=yield b.socket.fetch(f,Object.assign(Object.assign({},m),{signal:C.signal}));return clearTimeout(O),L})()}_push(f,m,p=this.timeout){if(!this.joinedOnce)throw`tried to push '${f}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let b=new Lt(this,f,m,p);return this._canPush()?b.send():this._addToPushBuffer(b),b}_addToPushBuffer(f){if(f.startTimeout(),this.pushBuffer.push(f),this.pushBuffer.length>100){const m=this.pushBuffer.shift();m&&(m.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${m.event}`,m.payload))}}_onMessage(f,m,p){return m}_isMember(f){return this.topic===f}_joinRef(){return this.joinPush.ref}_trigger(f,m,p){var b,C;const O=f.toLocaleLowerCase(),{close:L,error:W,leave:X,join:oe}=un;if(p&&[L,W,X,oe].indexOf(O)>=0&&p!==this._joinRef())return;let Ie=this._onMessage(O,m,p);if(m&&!Ie)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(O)?null===(b=this.bindings.postgres_changes)||void 0===b||b.filter(He=>{var Oe,Je,Ze;return"*"===(null===(Oe=He.filter)||void 0===Oe?void 0:Oe.event)||(null===(Ze=null===(Je=He.filter)||void 0===Je?void 0:Je.event)||void 0===Ze?void 0:Ze.toLocaleLowerCase())===O}).map(He=>He.callback(Ie,p)):null===(C=this.bindings[O])||void 0===C||C.filter(He=>{var Oe,Je,Ze,gt,Tt,Vt;if(["broadcast","presence","postgres_changes"].includes(O)){if("id"in He){const vt=He.id,_t=null===(Oe=He.filter)||void 0===Oe?void 0:Oe.event;return vt&&(null===(Je=m.ids)||void 0===Je?void 0:Je.includes(vt))&&("*"===_t||_t?.toLocaleLowerCase()===(null===(Ze=m.data)||void 0===Ze?void 0:Ze.type.toLocaleLowerCase()))}{const vt=null===(Tt=null===(gt=He?.filter)||void 0===gt?void 0:gt.event)||void 0===Tt?void 0:Tt.toLocaleLowerCase();return"*"===vt||vt===(null===(Vt=m?.event)||void 0===Vt?void 0:Vt.toLocaleLowerCase())}}return He.type.toLocaleLowerCase()===O}).map(He=>{if("object"==typeof Ie&&"ids"in Ie){const Oe=Ie.data,{schema:Je,table:Ze,commit_timestamp:gt,type:Tt,errors:Vt}=Oe;Ie=Object.assign(Object.assign({},{schema:Je,table:Ze,commit_timestamp:gt,eventType:Tt,new:{},old:{},errors:Vt}),this._getPayloadRecords(Oe))}He.callback(Ie,p)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(f){return`chan_reply_${f}`}_on(f,m,p){const b=f.toLocaleLowerCase(),C={type:b,filter:m,callback:p};return this.bindings[b]?this.bindings[b].push(C):this.bindings[b]=[C],this}_off(f,m){const p=f.toLocaleLowerCase();return this.bindings[p]&&(this.bindings[p]=this.bindings[p].filter(b=>{var C;return!((null===(C=b.type)||void 0===C?void 0:C.toLocaleLowerCase())===p&&Kt.isEqual(b.filter,m))})),this}static isEqual(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const p in f)if(f[p]!==m[p])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(f){this._on(un.close,{},f)}_onError(f){this._on(un.error,{},m=>f(m))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(f=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(f))}_getPayloadRecords(f){const m={new:{},old:{}};return("INSERT"===f.type||"UPDATE"===f.type)&&(m.new=ee(f.columns,f.record)),("UPDATE"===f.type||"DELETE"===f.type)&&(m.old=ee(f.columns,f.old_record)),m}}const Jr=()=>{},Zr=[1e3,2e3,5e3,1e4];class Ao{constructor(f,m){var p;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jr,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Jr,this.conn=null,this.sendBuffer=[],this.serializer=new Tr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=b=>b?(...C)=>b(...C):(...C)=>fetch(...C),null===(p=m?.params)||void 0===p||!p.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=m.params.apikey,this.endPoint=`${f}/${Ln.websocket}`,this.httpEndpoint=mt(f),this._initializeOptions(m),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(m?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pt.createWebSocket(this.endpointURL())}catch(f){this._setConnectionState("disconnected");const m=f.message;throw m.includes("Node.js")?new Error(`${m}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${m}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(f,m){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const p=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(p),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(f?this.conn.close(f,m??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(f){var m=this;return(0,k.A)(function*(){const p=yield f.unsubscribe();return 0===m.channels.length&&m.disconnect(),p})()}removeAllChannels(){var f=this;return(0,k.A)(function*(){const m=yield Promise.all(f.channels.map(p=>p.unsubscribe()));return f.channels=[],f.disconnect(),m})()}log(f,m,p){this.logger(f,m,p)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return rn.Connecting;case zt.open:return rn.Open;case zt.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(f,m={config:{}}){const p=`realtime:${f}`,b=this.getChannels().find(C=>C.topic===p);if(b)return b;{const C=new Kt(`realtime:${f}`,m,this);return this.channels.push(C),C}}push(f){const{topic:m,event:p,payload:b,ref:C}=f,O=()=>{this.encode(f,L=>{var W;null===(W=this.conn)||void 0===W||W.send(L)})};this.log("push",`${m} ${p} (${C})`,b),this.isConnected()?O():this.sendBuffer.push(O)}setAuth(){var f=this;return(0,k.A)(function*(m=null){f._authPromise=f._performAuth(m);try{yield f._authPromise}finally{f._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var f=this;return(0,k.A)(function*(){var m;if(f.isConnected()){if(f.pendingHeartbeatRef){f.pendingHeartbeatRef=null,f.log("transport","heartbeat timeout. Attempting to re-establish connection");try{f.heartbeatCallback("timeout")}catch(p){f.log("error","error in heartbeat callback",p)}return f._wasManualDisconnect=!1,null===(m=f.conn)||void 0===m||m.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var p;f.isConnected()||null===(p=f.reconnectTimer)||void 0===p||p.scheduleTimeout()},100)}f.pendingHeartbeatRef=f._makeRef(),f.push({topic:"phoenix",event:"heartbeat",payload:{},ref:f.pendingHeartbeatRef});try{f.heartbeatCallback("sent")}catch(p){f.log("error","error in heartbeat callback",p)}f._setAuthSafely("heartbeat")}else try{f.heartbeatCallback("disconnected")}catch(p){f.log("error","error in heartbeat callback",p)}})()}onHeartbeat(f){this.heartbeatCallback=f}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(f=>f()),this.sendBuffer=[])}_makeRef(){let f=this.ref+1;return this.ref=f===this.ref?0:f,this.ref.toString()}_leaveOpenTopic(f){let m=this.channels.find(p=>p.topic===f&&(p._isJoined()||p._isJoining()));m&&(this.log("transport",`leaving duplicate topic "${f}"`),m.unsubscribe())}_remove(f){this.channels=this.channels.filter(m=>m.topic!==f.topic)}_onConnMessage(f){this.decode(f.data,m=>{if("phoenix"===m.topic&&"phx_reply"===m.event)try{this.heartbeatCallback("ok"===m.payload.status?"ok":"error")}catch(X){this.log("error","error in heartbeat callback",X)}m.ref&&m.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:p,event:b,payload:C,ref:O}=m;this.log("receive",`${C.status||""} ${p} ${b} ${O?`(${O})`:""}`.trim(),C),this.channels.filter(X=>X._isMember(p)).forEach(X=>X._trigger(b,C,O)),this._triggerStateCallbacks("message",m)})}_clearTimer(f){var m;"heartbeat"===f&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===f&&(null===(m=this.reconnectTimer)||void 0===m||m.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=f=>this._onConnError(f),this.conn.onmessage=f=>this._onConnMessage(f),this.conn.onclose=f=>this._onConnClose(f))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zt.open||this.conn.readyState===zt.connecting)try{this.conn.close()}catch(f){this.log("error","Error closing connection",f)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(f=>f.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(m=>{this.log("error","error waiting for auth on connect",m),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const f=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(f),this.workerRef.onerror=m=>{this.log("worker","worker error",m.message),this.workerRef.terminate()},this.workerRef.onmessage=m=>{"keepAlive"===m.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(f){var m;this._setConnectionState("disconnected"),this.log("transport","close",f),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(m=this.reconnectTimer)||void 0===m||m.scheduleTimeout(),this._triggerStateCallbacks("close",f)}_onConnError(f){this._setConnectionState("disconnected"),this.log("transport",`${f}`),this._triggerChanError(),this._triggerStateCallbacks("error",f)}_triggerChanError(){this.channels.forEach(f=>f._trigger(un.error))}_appendParams(f,m){if(0===Object.keys(m).length)return f;const p=f.match(/\?/)?"&":"?";return`${f}${p}${new URLSearchParams(m)}`}_workerObjectUrl(f){let m;if(f)m=f;else{const p=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});m=URL.createObjectURL(p)}return m}_setConnectionState(f,m=!1){this._connectionState=f,"connecting"===f?this._wasManualDisconnect=!1:"disconnecting"===f&&(this._wasManualDisconnect=m)}_performAuth(){var f=this;return(0,k.A)(function*(m=null){let p;p=m||(f.accessToken?yield f.accessToken():f.accessTokenValue),f.accessTokenValue!=p&&(f.accessTokenValue=p,f.channels.forEach(b=>{p&&b.updateJoinPayload({access_token:p,version:"realtime-js/2.83.0"}),b.joinedOnce&&b._isJoined()&&b._push(un.access_token,{access_token:p})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var f=this;return(0,k.A)(function*(){f._authPromise&&(yield f._authPromise)})()}_setAuthSafely(f="general"){this.setAuth().catch(m=>{this.log("error",`error setting auth in ${f}`,m)})}_triggerStateCallbacks(f,m){try{this.stateChangeCallbacks[f].forEach(p=>{try{p(m)}catch(b){this.log("error",`error in ${f} callback`,b)}})}catch(p){this.log("error",`error triggering ${f} callbacks`,p)}}_setupReconnectionTimer(){var f=this;this.reconnectTimer=new hn((0,k.A)(function*(){setTimeout((0,k.A)(function*(){yield f._waitForAuthIfNeeded(),f.isConnected()||f.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(f){var m,p,b,C,O,L,W,X,oe,be,Ie,He;switch(this.transport=null!==(m=f?.transport)&&void 0!==m?m:null,this.timeout=null!==(p=f?.timeout)&&void 0!==p?p:1e4,this.heartbeatIntervalMs=null!==(b=f?.heartbeatIntervalMs)&&void 0!==b?b:25e3,this.worker=null!==(C=f?.worker)&&void 0!==C&&C,this.accessToken=null!==(O=f?.accessToken)&&void 0!==O?O:null,this.heartbeatCallback=null!==(L=f?.heartbeatCallback)&&void 0!==L?L:Jr,this.vsn=null!==(W=f?.vsn)&&void 0!==W?W:"1.0.0",f?.params&&(this.params=f.params),f?.logger&&(this.logger=f.logger),(f?.logLevel||f?.log_level)&&(this.logLevel=f.logLevel||f.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(X=f?.reconnectAfterMs)&&void 0!==X?X:Oe=>Zr[Oe-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(oe=f?.encode)&&void 0!==oe?oe:(Oe,Je)=>Je(JSON.stringify(Oe)),this.decode=null!==(be=f?.decode)&&void 0!==be?be:(Oe,Je)=>Je(JSON.parse(Oe));break;case"2.0.0":this.encode=null!==(Ie=f?.encode)&&void 0!==Ie?Ie:this.serializer.encode.bind(this.serializer),this.decode=null!==(He=f?.decode)&&void 0!==He?He:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=f?.workerUrl}}}class fr extends Error{constructor(f){super(f),this.__isStorageError=!0,this.name="StorageError"}}function an(E){return"object"==typeof E&&null!==E&&"__isStorageError"in E}class yr extends fr{constructor(f,m,p){super(f),this.name="StorageApiError",this.status=m,this.statusCode=p}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eo extends fr{constructor(f,m){super(f),this.name="StorageUnknownError",this.originalError=m}}const Hn=E=>E?(...f)=>E(...f):(...f)=>fetch(...f),Ur=E=>{if(Array.isArray(E))return E.map(m=>Ur(m));if("function"==typeof E||E!==Object(E))return E;const f={};return Object.entries(E).forEach(([m,p])=>{const b=m.replace(/([-_][a-z])/gi,C=>C.toUpperCase().replace(/[-_]/g,""));f[b]=Ur(p)}),f},To=E=>{var f;return E.msg||E.message||E.error_description||("string"==typeof E.error?E.error:null===(f=E.error)||void 0===f?void 0:f.message)||JSON.stringify(E)};function Wn(E,f,m,p,b,C){return(0,i.__awaiter)(this,void 0,void 0,function*(){return new Promise((O,L)=>{E(m,((E,f,m,p)=>{const b={method:E,headers:f?.headers||{}};return"GET"!==E&&p?((E=>{if("object"!=typeof E||null===E)return!1;const f=Object.getPrototypeOf(E);return!(null!==f&&f!==Object.prototype&&null!==Object.getPrototypeOf(f)||Symbol.toStringTag in E||Symbol.iterator in E)})(p)?(b.headers=Object.assign({"Content-Type":"application/json"},f?.headers),b.body=JSON.stringify(p)):b.body=p,f?.duplex&&(b.duplex=f.duplex),Object.assign(Object.assign({},b),m)):b})(f,p,b,C)).then(W=>{if(!W.ok)throw W;return p?.noResolveJson?W:W.json()}).then(W=>O(W)).catch(W=>((E,f,m)=>(0,i.__awaiter)(void 0,void 0,void 0,function*(){const p=yield Response;E instanceof p&&!m?.noResolveJson?E.json().then(b=>{const C=E.status||500,O=b?.statusCode||C+"";f(new yr(To(b),C,O))}).catch(b=>{f(new eo(To(b),b))}):f(new eo(To(E),E))}))(W,L,p))})})}function Wo(E,f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){return Wn(E,"GET",f,m,p)})}function On(E,f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){return Wn(E,"POST",f,p,b,m)})}function Vr(E,f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){return Wn(E,"PUT",f,p,b,m)})}function Pn(E,f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){return Wn(E,"DELETE",f,p,b,m)})}class zo{constructor(f,m){this.downloadFn=f,this.shouldThrowOnError=m}then(f,m){return this.execute().then(f,m)}execute(){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(an(f))return{data:null,error:f};throw f}})}}var Mr;Mr=Symbol.toStringTag;const ma=class da{constructor(f,m){this.downloadFn=f,this.shouldThrowOnError=m,this[Mr]="BlobDownloadBuilder",this.promise=null}asStream(){return new zo(this.downloadFn,this.shouldThrowOnError)}then(f,m){return this.getPromise().then(f,m)}catch(f){return this.getPromise().catch(f)}finally(f){return this.getPromise().finally(f)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(an(f))return{data:null,error:f};throw f}})}},go={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mo{constructor(f,m={},p,b){this.shouldThrowOnError=!1,this.url=f,this.headers=m,this.bucketId=p,this.fetch=Hn(b)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{let C;const O=Object.assign(Object.assign({},lr),b);let L=Object.assign(Object.assign({},this.headers),"POST"===f&&{"x-upsert":String(O.upsert)});const W=O.metadata;typeof Blob<"u"&&p instanceof Blob?(C=new FormData,C.append("cacheControl",O.cacheControl),W&&C.append("metadata",this.encodeMetadata(W)),C.append("",p)):typeof FormData<"u"&&p instanceof FormData?(C=p,C.has("cacheControl")||C.append("cacheControl",O.cacheControl),W&&!C.has("metadata")&&C.append("metadata",this.encodeMetadata(W))):(C=p,L["cache-control"]=`max-age=${O.cacheControl}`,L["content-type"]=O.contentType,W&&(L["x-metadata"]=this.toBase64(this.encodeMetadata(W))),(typeof ReadableStream<"u"&&C instanceof ReadableStream||C&&"object"==typeof C&&"pipe"in C&&"function"==typeof C.pipe)&&!O.duplex&&(O.duplex="half")),b?.headers&&(L=Object.assign(Object.assign({},L),b.headers));const X=this._removeEmptyFolders(m),oe=this._getFinalPath(X),be=yield("PUT"==f?Vr:On)(this.fetch,`${this.url}/object/${oe}`,C,Object.assign({headers:L},O?.duplex?{duplex:O.duplex}:{}));return{data:{path:X,id:be.Id,fullPath:be.Key},error:null}}catch(C){if(this.shouldThrowOnError)throw C;if(an(C))return{data:null,error:C};throw C}})}upload(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",f,m,p)})}uploadToSignedUrl(f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){const C=this._removeEmptyFolders(f),O=this._getFinalPath(C),L=new URL(this.url+`/object/upload/sign/${O}`);L.searchParams.set("token",m);try{let W;const X=Object.assign({upsert:lr.upsert},b),oe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(X.upsert)});return typeof Blob<"u"&&p instanceof Blob?(W=new FormData,W.append("cacheControl",X.cacheControl),W.append("",p)):typeof FormData<"u"&&p instanceof FormData?(W=p,W.append("cacheControl",X.cacheControl)):(W=p,oe["cache-control"]=`max-age=${X.cacheControl}`,oe["content-type"]=X.contentType),{data:{path:C,fullPath:(yield Vr(this.fetch,L.toString(),W,{headers:oe})).Key},error:null}}catch(W){if(this.shouldThrowOnError)throw W;if(an(W))return{data:null,error:W};throw W}})}createSignedUploadUrl(f,m){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{let p=this._getFinalPath(f);const b=Object.assign({},this.headers);m?.upsert&&(b["x-upsert"]="true");const C=yield On(this.fetch,`${this.url}/object/upload/sign/${p}`,{},{headers:b}),O=new URL(this.url+C.url),L=O.searchParams.get("token");if(!L)throw new fr("No token returned by API");return{data:{signedUrl:O.toString(),path:f,token:L},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(an(p))return{data:null,error:p};throw p}})}update(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",f,m,p)})}move(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:f,destinationKey:m,destinationBucket:p?.destinationBucket},{headers:this.headers}),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}copy(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield On(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:f,destinationKey:m,destinationBucket:p?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}createSignedUrl(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{let b=this._getFinalPath(f),C=yield On(this.fetch,`${this.url}/object/sign/${b}`,Object.assign({expiresIn:m},p?.transform?{transform:p.transform}:{}),{headers:this.headers});const O=p?.download?`&download=${!0===p.download?"":p.download}`:"";return C={signedUrl:encodeURI(`${this.url}${C.signedURL}${O}`)},{data:C,error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}createSignedUrls(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{const b=yield On(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:m,paths:f},{headers:this.headers}),C=p?.download?`&download=${!0===p.download?"":p.download}`:"";return{data:b.map(O=>Object.assign(Object.assign({},O),{signedUrl:O.signedURL?encodeURI(`${this.url}${O.signedURL}${C}`):null})),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}download(f,m){const b=typeof m?.transform<"u"?"render/image/authenticated":"object",C=this.transformOptsToQueryString(m?.transform||{}),O=C?`?${C}`:"",L=this._getFinalPath(f);return new ma(()=>Wo(this.fetch,`${this.url}/${b}/${L}${O}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){const m=this._getFinalPath(f);try{const p=yield Wo(this.fetch,`${this.url}/object/info/${m}`,{headers:this.headers});return{data:Ur(p),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(an(p))return{data:null,error:p};throw p}})}exists(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){const m=this._getFinalPath(f);try{return yield function ca(E,f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){return Wn(E,"HEAD",f,Object.assign(Object.assign({},m),{noResolveJson:!0}),p)})}(this.fetch,`${this.url}/object/${m}`,{headers:this.headers}),{data:!0,error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(an(p)&&p instanceof eo){const b=p.originalError;if([400,404].includes(b?.status))return{data:!1,error:p}}throw p}})}getPublicUrl(f,m){const p=this._getFinalPath(f),b=[],C=m?.download?`download=${!0===m.download?"":m.download}`:"";""!==C&&b.push(C);const L=typeof m?.transform<"u"?"render/image":"object",W=this.transformOptsToQueryString(m?.transform||{});""!==W&&b.push(W);let X=b.join("&");return""!==X&&(X=`?${X}`),{data:{publicUrl:encodeURI(`${this.url}/${L}/public/${p}${X}`)}}}remove(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}list(f,m,p){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{const b=Object.assign(Object.assign(Object.assign({},go),m),{prefix:f||""});return{data:yield On(this.fetch,`${this.url}/object/list/${this.bucketId}`,b,{headers:this.headers},p),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}listV2(f,m){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{const p=Object.assign({},f);return{data:yield On(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,p,{headers:this.headers},m),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(an(p))return{data:null,error:p};throw p}})}encodeMetadata(f){return JSON.stringify(f)}toBase64(f){return typeof Buffer<"u"?Buffer.from(f).toString("base64"):btoa(f)}_getFinalPath(f){return`${this.bucketId}/${f.replace(/^\/+/,"")}`}_removeEmptyFolders(f){return f.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(f){const m=[];return f.width&&m.push(`width=${f.width}`),f.height&&m.push(`height=${f.height}`),f.resize&&m.push(`resize=${f.resize}`),f.format&&m.push(`format=${f.format}`),f.quality&&m.push(`quality=${f.quality}`),m.join("&")}}const cr={"X-Client-Info":"storage-js/2.83.0"};class tr{constructor(f,m={},p,b){this.shouldThrowOnError=!1;const C=new URL(f);b?.useNewHostname&&/supabase\.(co|in|red)$/.test(C.hostname)&&!C.hostname.includes("storage.supabase.")&&(C.hostname=C.hostname.replace("supabase.","storage.supabase.")),this.url=C.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cr),m),this.fetch=Hn(p)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{const m=this.listBucketOptionsToQueryString(f);return{data:yield Wo(this.fetch,`${this.url}/bucket${m}`,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}getBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${f}`,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}createBucket(f){return(0,i.__awaiter)(this,arguments,void 0,function*(m,p={public:!1}){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{id:m,name:m,type:p.type,public:p.public,file_size_limit:p.fileSizeLimit,allowed_mime_types:p.allowedMimeTypes},{headers:this.headers}),error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(an(b))return{data:null,error:b};throw b}})}updateBucket(f,m){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${f}`,{id:f,name:f,public:m.public,file_size_limit:m.fileSizeLimit,allowed_mime_types:m.allowedMimeTypes},{headers:this.headers}),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(an(p))return{data:null,error:p};throw p}})}emptyBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket/${f}/empty`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${f}`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}listBucketOptionsToQueryString(f){const m={};return f&&("limit"in f&&(m.limit=String(f.limit)),"offset"in f&&(m.offset=String(f.offset)),f.search&&(m.search=f.search),f.sortColumn&&(m.sortColumn=f.sortColumn),f.sortOrder&&(m.sortOrder=f.sortOrder)),Object.keys(m).length>0?"?"+new URLSearchParams(m).toString():""}}class gr{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cr),m),this.fetch=Hn(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/bucket`,{name:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}listBuckets(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{const m=new URLSearchParams;void 0!==f?.limit&&m.set("limit",f.limit.toString()),void 0!==f?.offset&&m.set("offset",f.offset.toString()),f?.sortColumn&&m.set("sortColumn",f.sortColumn),f?.sortOrder&&m.set("sortOrder",f.sortOrder),f?.search&&m.set("search",f.search);const p=m.toString(),b=p?`${this.url}/bucket?${p}`:`${this.url}/bucket`;return{data:yield Wo(this.fetch,b,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${f}`,{},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(an(m))return{data:null,error:m};throw m}})}}const $r={"X-Client-Info":"storage-js/2.83.0","Content-Type":"application/json"};class xr extends Error{constructor(f){super(f),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fn(E){return"object"==typeof E&&null!==E&&"__isStorageVectorsError"in E}class Ir extends xr{constructor(f,m,p){super(f),this.name="StorageVectorsApiError",this.status=m,this.statusCode=p}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ha extends xr{constructor(f,m){super(f),this.name="StorageVectorsUnknownError",this.originalError=m}}const Ko=E=>E?(...f)=>E(...f):(...f)=>fetch(...f),Io=E=>E.msg||E.message||E.error_description||E.error||JSON.stringify(E);function _o(E,f,m,p,b,C){return(0,i.__awaiter)(this,void 0,void 0,function*(){return new Promise((O,L)=>{E(m,((E,f,m,p)=>{const b={method:E,headers:f?.headers||{}};return"GET"!==E&&p?((E=>{if("object"!=typeof E||null===E)return!1;const f=Object.getPrototypeOf(E);return!(null!==f&&f!==Object.prototype&&null!==Object.getPrototypeOf(f)||Symbol.toStringTag in E||Symbol.iterator in E)})(p)?(b.headers=Object.assign({"Content-Type":"application/json"},f?.headers),b.body=JSON.stringify(p)):b.body=p,Object.assign(Object.assign({},b),m)):b})(f,p,b,C)).then(W=>{if(!W.ok)throw W;if(p?.noResolveJson)return W;const X=W.headers.get("content-type");return X&&X.includes("application/json")?W.json():{}}).then(W=>O(W)).catch(W=>((E,f,m)=>(0,i.__awaiter)(void 0,void 0,void 0,function*(){if(E&&"object"==typeof E&&"status"in E&&"ok"in E&&"number"==typeof E.status&&!m?.noResolveJson){const b=E.status||500,C=E;"function"==typeof C.json?C.json().then(O=>{const L=O?.statusCode||O?.code||b+"";f(new Ir(Io(O),b,L))}).catch(()=>{f(new Ir(C.statusText||`HTTP ${b} error`,b,b+""))}):f(new Ir(C.statusText||`HTTP ${b} error`,b,b+""))}else f(new ha(Io(E),E))}))(W,L,p))})})}function pn(E,f,m,p,b){return(0,i.__awaiter)(this,void 0,void 0,function*(){return _o(E,"POST",f,p,b,m)})}class Xn{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$r),m),this.fetch=Ko(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/CreateIndex`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getIndex(f,m){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:f,indexName:m},{headers:this.headers}),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Fn(p))return{data:null,error:p};throw p}})}listIndexes(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/ListIndexes`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteIndex(f,m){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:f,indexName:m},{headers:this.headers}))||{},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Fn(p))return{data:null,error:p};throw p}})}}class dr{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$r),m),this.fetch=Ko(p)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{if(f.vectors.length<1||f.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pn(this.fetch,`${this.url}/PutVectors`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getVectors(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}listVectors(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==f.segmentCount){if(f.segmentCount<1||f.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==f.segmentIndex&&(f.segmentIndex<0||f.segmentIndex>=f.segmentCount))throw new Error("segmentIndex must be between 0 and "+(f.segmentCount-1))}return{data:yield pn(this.fetch,`${this.url}/ListVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}queryVectors(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/QueryVectors`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteVectors(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{if(f.keys.length<1||f.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pn(this.fetch,`${this.url}/DeleteVectors`,f,{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}}class fa{constructor(f,m={},p){this.shouldThrowOnError=!1,this.url=f.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$r),m),this.fetch=Ko(p)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:f},{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}getBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:f},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}listBuckets(){return(0,i.__awaiter)(this,arguments,void 0,function*(f={}){try{return{data:yield pn(this.fetch,`${this.url}/ListVectorBuckets`,f,{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}deleteBucket(f){return(0,i.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:f},{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fn(m))return{data:null,error:m};throw m}})}}class ge extends fa{constructor(f,m={}){super(f,m.headers||{},m.fetch)}from(f){return new Qt(this.url,this.headers,f,this.fetch)}}class Qt extends Xn{constructor(f,m,p,b){super(f,m,b),this.vectorBucketName=p}createIndex(f){const m=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.createIndex.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const f=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,i.__awaiter)(this,arguments,void 0,function*(m={}){return f.listIndexes.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName}))})}getIndex(f){const m=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.getIndex.call(this,this.vectorBucketName,f)})}deleteIndex(f){const m=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.deleteIndex.call(this,this.vectorBucketName,f)})}index(f){return new bo(this.url,this.headers,this.vectorBucketName,f,this.fetch)}}class bo extends dr{constructor(f,m,p,b,C){super(f,m,C),this.vectorBucketName=p,this.indexName=b}putVectors(f){const m=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.putVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(f){const m=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.getVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const f=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,i.__awaiter)(this,arguments,void 0,function*(m={}){return f.listVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(f){const m=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.queryVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(f){const m=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,i.__awaiter)(this,void 0,void 0,function*(){return m.deleteVectors.call(this,Object.assign(Object.assign({},f),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wo extends tr{constructor(f,m={},p,b){super(f,m,p,b)}from(f){return new Mo(this.url,this.headers,f,this.fetch)}get vectors(){return new ge(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gr(this.url+"/iceberg",this.headers,this.fetch)}}let Gn="";Gn=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const qo={headers:{"X-Client-Info":`supabase-js-${Gn}/2.83.0`}},Qo={schema:"public"},_r={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nr={},Yo=(E,f,m)=>{const p=(E=>E?(...f)=>E(...f):(...f)=>fetch(...f))(m),b=Headers;return function(){var C=(0,k.A)(function*(O,L){var W;const X=null!==(W=yield f())&&void 0!==W?W:E;let oe=new b(L?.headers);return oe.has("apikey")||oe.set("apikey",E),oe.has("Authorization")||oe.set("Authorization",`Bearer ${X}`),p(O,Object.assign(Object.assign({},L),{headers:oe}))});return function(O,L){return C.apply(this,arguments)}}()},qn=3e4,Ia="X-Supabase-Api-Version",Jo_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),Jo_2024_01_01_name="2024-01-01",M=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class j extends Error{constructor(f,m,p){super(f),this.__isAuthError=!0,this.name="AuthError",this.status=m,this.code=p}}function B(E){return"object"==typeof E&&null!==E&&"__isAuthError"in E}class le extends j{constructor(f,m,p){super(f,m,p),this.name="AuthApiError",this.status=m,this.code=p}}class ze extends j{constructor(f,m){super(f),this.name="AuthUnknownError",this.originalError=m}}class tt extends j{constructor(f,m,p,b){super(f,p,b),this.name=m,this.status=p}}class Ut extends tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ht extends tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jt extends tt{constructor(f){super(f,"AuthInvalidCredentialsError",400,void 0)}}class _n extends tt{constructor(f,m=null){super(f,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=m}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bn extends tt{constructor(f,m=null){super(f,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=m}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wr extends tt{constructor(f,m){super(f,"AuthRetryableFetchError",m,void 0)}}function zr(E){return B(E)&&"AuthRetryableFetchError"===E.name}class Pr extends tt{constructor(f,m,p){super(f,"AuthWeakPasswordError",m,"weak_password"),this.reasons=p}}class oo extends tt{constructor(f){super(f,"AuthInvalidJwtError",400,"invalid_jwt")}}const br="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nr=" \t\n\r=".split(""),Zo=(()=>{const E=new Array(128);for(let f=0;f<E.length;f+=1)E[f]=-1;for(let f=0;f<Nr.length;f+=1)E[Nr[f].charCodeAt(0)]=-2;for(let f=0;f<br.length;f+=1)E[br[f].charCodeAt(0)]=f;return E})();function Gr(E,f,m){if(null!==E)for(f.queue=f.queue<<8|E,f.queuedBits+=8;f.queuedBits>=6;)m(br[f.queue>>f.queuedBits-6&63]),f.queuedBits-=6;else if(f.queuedBits>0)for(f.queue=f.queue<<6-f.queuedBits,f.queuedBits=6;f.queuedBits>=6;)m(br[f.queue>>f.queuedBits-6&63]),f.queuedBits-=6}function Ra(E,f,m){const p=Zo[E];if(!(p>-1)){if(-2===p)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(E)}"`)}for(f.queue=f.queue<<6|p,f.queuedBits+=6;f.queuedBits>=8;)m(f.queue>>f.queuedBits-8&255),f.queuedBits-=8}function ao(E){const f=[],m=O=>{f.push(String.fromCodePoint(O))},p={utf8seq:0,codepoint:0},b={queue:0,queuedBits:0},C=O=>{!function Pa(E,f,m){if(0===f.utf8seq){if(E<=127)return void m(E);for(let p=1;p<6;p+=1)if(!(E>>7-p&1)){f.utf8seq=p;break}if(2===f.utf8seq)f.codepoint=31&E;else if(3===f.utf8seq)f.codepoint=15&E;else{if(4!==f.utf8seq)throw new Error("Invalid UTF-8 sequence");f.codepoint=7&E}f.utf8seq-=1}else if(f.utf8seq>0){if(E<=127)throw new Error("Invalid UTF-8 sequence");f.codepoint=f.codepoint<<6|63&E,f.utf8seq-=1,0===f.utf8seq&&m(f.codepoint)}}(O,p,m)};for(let O=0;O<E.length;O+=1)Ra(E.charCodeAt(O),b,C);return f.join("")}function wr(E,f){if(!(E<=127)){if(E<=2047)return f(192|E>>6),void f(128|63&E);if(E<=65535)return f(224|E>>12),f(128|E>>6&63),void f(128|63&E);if(E<=1114111)return f(240|E>>18),f(128|E>>12&63),f(128|E>>6&63),void f(128|63&E);throw new Error(`Unrecognized Unicode codepoint: ${E.toString(16)}`)}f(E)}function jo(E){const f=[],m={queue:0,queuedBits:0},p=b=>{f.push(b)};for(let b=0;b<E.length;b+=1)Ra(E.charCodeAt(b),m,p);return new Uint8Array(f)}function qr(E){const f=[],m={queue:0,queuedBits:0},p=b=>{f.push(b)};return E.forEach(b=>Gr(b,m,p)),Gr(null,m,p),f.join("")}const U=()=>typeof window<"u"&&typeof document<"u",A={tested:!1,writable:!1},F=()=>{if(!U())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(A.tested)return A.writable;const E=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(E,E),globalThis.localStorage.removeItem(E),A.tested=!0,A.writable=!0}catch{A.tested=!0,A.writable=!1}return A.writable},ie=E=>E?(...f)=>E(...f):(...f)=>fetch(...f),Be=function(){var E=(0,k.A)(function*(f,m,p){yield f.setItem(m,JSON.stringify(p))});return function(m,p,b){return E.apply(this,arguments)}}(),qe=function(){var E=(0,k.A)(function*(f,m){const p=yield f.getItem(m);if(!p)return null;try{return JSON.parse(p)}catch{return p}});return function(m,p){return E.apply(this,arguments)}}(),lt=function(){var E=(0,k.A)(function*(f,m){yield f.removeItem(m)});return function(m,p){return E.apply(this,arguments)}}();class Dt{constructor(){this.promise=new Dt.promiseConstructor((f,m)=>{this.resolve=f,this.reject=m})}}function Bt(E){const f=E.split(".");if(3!==f.length)throw new oo("Invalid JWT structure");for(let p=0;p<f.length;p++)if(!M.test(f[p]))throw new oo("JWT not in base64url format");return{header:JSON.parse(ao(f[0])),payload:JSON.parse(ao(f[1])),signature:jo(f[2]),raw:{header:f[0],payload:f[1]}}}function fn(){return(fn=(0,k.A)(function*(E){return yield new Promise(f=>{setTimeout(()=>f(null),E)})})).apply(this,arguments)}function cn(E){return("0"+E.toString(16)).substr(-2)}function En(){return(En=(0,k.A)(function*(E){const m=(new TextEncoder).encode(E),p=yield crypto.subtle.digest("SHA-256",m),b=new Uint8Array(p);return Array.from(b).map(C=>String.fromCharCode(C)).join("")})).apply(this,arguments)}function Er(){return Er=(0,k.A)(function*(E){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),E;const m=yield function Jn(E){return En.apply(this,arguments)}(E);return btoa(m).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Er.apply(this,arguments)}function Lr(E,f){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,k.A)(function*(E,f,m=!1){const p=function ar(){const f=new Uint32Array(56);if(typeof crypto>"u"){const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",p=m.length;let b="";for(let C=0;C<56;C++)b+=m.charAt(Math.floor(Math.random()*p));return b}return crypto.getRandomValues(f),Array.from(f,cn).join("")}();let b=p;m&&(b+="/PASSWORD_RECOVERY"),yield Be(E,`${f}-code-verifier`,b);const C=yield function dn(E){return Er.apply(this,arguments)}(p);return[C,p===C?"plain":"s256"]}),Mn.apply(this,arguments)}Dt.promiseConstructor=Promise;const Nt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,kr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(E){if(!kr.test(E))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dr(){return new Proxy({},{get:(f,m)=>{if("__isUserNotAvailableProxy"===m)return!0;if("symbol"==typeof m){const p=m.toString();if("Symbol(Symbol.toPrimitive)"===p||"Symbol(Symbol.toStringTag)"===p||"Symbol(util.inspect.custom)"===p)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${m}" property of the session object is not supported. Please use getUser() instead.`)},set:(f,m)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${m}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(f,m)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${m}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bi(E){return JSON.parse(JSON.stringify(E))}const so=E=>E.msg||E.message||E.error_description||E.error||JSON.stringify(E),ea=[502,503,504];function va(E){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.A)(function*(E){var f;if(!(E=>"object"==typeof E&&null!==E&&"status"in E&&"ok"in E&&"json"in E&&"function"==typeof E.json)(E))throw new Wr(so(E),0);if(ea.includes(E.status))throw new Wr(so(E),E.status);let m,p;try{m=yield E.json()}catch(C){throw new ze(so(C),C)}const b=function Nn(E){const f=E.headers.get(Ia);if(!f||!f.match(Nt))return null;try{return new Date(`${f}T00:00:00.0Z`)}catch{return null}}(E);if(b&&b.getTime()>=Jo_2024_01_01_timestamp&&"object"==typeof m&&m&&"string"==typeof m.code?p=m.code:"object"==typeof m&&m&&"string"==typeof m.error_code&&(p=m.error_code),p){if("weak_password"===p)throw new Pr(so(m),E.status,(null===(f=m.weak_password)||void 0===f?void 0:f.reasons)||[]);if("session_not_found"===p)throw new Ut}else if("object"==typeof m&&m&&"object"==typeof m.weak_password&&m.weak_password&&Array.isArray(m.weak_password.reasons)&&m.weak_password.reasons.length&&m.weak_password.reasons.reduce((C,O)=>C&&"string"==typeof O,!0))throw new Pr(so(m),E.status,m.weak_password.reasons);throw new le(so(m),E.status||500,p)})).apply(this,arguments)}function St(E,f,m,p){return $i.apply(this,arguments)}function $i(){return $i=(0,k.A)(function*(E,f,m,p){var b;const C=Object.assign({},p?.headers);C[Ia]||(C[Ia]=Jo_2024_01_01_name),p?.jwt&&(C.Authorization=`Bearer ${p.jwt}`);const O=null!==(b=p?.query)&&void 0!==b?b:{};p?.redirectTo&&(O.redirect_to=p.redirectTo);const L=Object.keys(O).length?"?"+new URLSearchParams(O).toString():"",W=yield function ri(E,f,m,p,b,C){return wi.apply(this,arguments)}(E,f,m+L,{headers:C,noResolveJson:p?.noResolveJson},{},p?.body);return p?.xform?p?.xform(W):{data:Object.assign({},W),error:null}}),$i.apply(this,arguments)}function wi(){return(wi=(0,k.A)(function*(E,f,m,p,b,C){const O=((E,f,m,p)=>{const b={method:E,headers:f?.headers||{}};return"GET"===E?b:(b.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},f?.headers),b.body=JSON.stringify(p),Object.assign(Object.assign({},b),m))})(f,p,b,C);let L;try{L=yield E(m,Object.assign({},O))}catch(W){throw console.error(W),new Wr(so(W),0)}if(L.ok||(yield va(L)),p?.noResolveJson)return L;try{return yield L.json()}catch(W){yield va(W)}})).apply(this,arguments)}function mr(E){var f;let m=null;return function ae(E){return E.access_token&&E.refresh_token&&E.expires_in}(E)&&(m=Object.assign({},E),E.expires_at||(m.expires_at=function ga(E){return Math.round(Date.now()/1e3)+E}(E.expires_in))),{data:{session:m,user:null!==(f=E.user)&&void 0!==f?f:E},error:null}}function Hi(E){const f=mr(E);return!f.error&&E.weak_password&&"object"==typeof E.weak_password&&Array.isArray(E.weak_password.reasons)&&E.weak_password.reasons.length&&E.weak_password.message&&"string"==typeof E.weak_password.message&&E.weak_password.reasons.reduce((m,p)=>m&&"string"==typeof p,!0)&&(f.data.weak_password=E.weak_password),f}function T(E){var f;return{data:{user:null!==(f=E.user)&&void 0!==f?f:E},error:null}}function x(E){return{data:E,error:null}}function D(E){const{action_link:f,email_otp:m,hashed_token:p,redirect_to:b,verification_type:C}=E,O=(0,i.__rest)(E,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:f,email_otp:m,hashed_token:p,redirect_to:b,verification_type:C},user:Object.assign({},O)},error:null}}function $(E){return E}const Qr=["global","local","others"];class Wa{constructor({url:f="",headers:m={},fetch:p}){this.url=f,this.headers=m,this.fetch=ie(p),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(f){var m=this;return(0,k.A)(function*(p,b=Qr[0]){if(Qr.indexOf(b)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qr.join(", ")}`);try{return yield St(m.fetch,"POST",`${m.url}/logout?scope=${b}`,{headers:m.headers,jwt:p,noResolveJson:!0}),{data:null,error:null}}catch(C){if(B(C))return{data:null,error:C};throw C}}).apply(this,arguments)}inviteUserByEmail(f){var m=this;return(0,k.A)(function*(p,b={}){try{return yield St(m.fetch,"POST",`${m.url}/invite`,{body:{email:p,data:b.data},headers:m.headers,redirectTo:b.redirectTo,xform:T})}catch(C){if(B(C))return{data:{user:null},error:C};throw C}}).apply(this,arguments)}generateLink(f){var m=this;return(0,k.A)(function*(){try{const{options:p}=f,b=(0,i.__rest)(f,["options"]),C=Object.assign(Object.assign({},b),p);return"newEmail"in b&&(C.new_email=b?.newEmail,delete C.newEmail),yield St(m.fetch,"POST",`${m.url}/admin/generate_link`,{body:C,headers:m.headers,xform:D,redirectTo:p?.redirectTo})}catch(p){if(B(p))return{data:{properties:null,user:null},error:p};throw p}})()}createUser(f){var m=this;return(0,k.A)(function*(){try{return yield St(m.fetch,"POST",`${m.url}/admin/users`,{body:f,headers:m.headers,xform:T})}catch(p){if(B(p))return{data:{user:null},error:p};throw p}})()}listUsers(f){var m=this;return(0,k.A)(function*(){var p,b,C,O,L,W,X;try{const oe={nextPage:null,lastPage:0,total:0},be=yield St(m.fetch,"GET",`${m.url}/admin/users`,{headers:m.headers,noResolveJson:!0,query:{page:null!==(b=null===(p=f?.page)||void 0===p?void 0:p.toString())&&void 0!==b?b:"",per_page:null!==(O=null===(C=f?.perPage)||void 0===C?void 0:C.toString())&&void 0!==O?O:""},xform:$});if(be.error)throw be.error;const Ie=yield be.json(),He=null!==(L=be.headers.get("x-total-count"))&&void 0!==L?L:0,Oe=null!==(X=null===(W=be.headers.get("link"))||void 0===W?void 0:W.split(","))&&void 0!==X?X:[];return Oe.length>0&&(Oe.forEach(Je=>{const Ze=parseInt(Je.split(";")[0].split("=")[1].substring(0,1)),gt=JSON.parse(Je.split(";")[1].split("=")[1]);oe[`${gt}Page`]=Ze}),oe.total=parseInt(He)),{data:Object.assign(Object.assign({},Ie),oe),error:null}}catch(oe){if(B(oe))return{data:{users:[]},error:oe};throw oe}})()}getUserById(f){var m=this;return(0,k.A)(function*(){xn(f);try{return yield St(m.fetch,"GET",`${m.url}/admin/users/${f}`,{headers:m.headers,xform:T})}catch(p){if(B(p))return{data:{user:null},error:p};throw p}})()}updateUserById(f,m){var p=this;return(0,k.A)(function*(){xn(f);try{return yield St(p.fetch,"PUT",`${p.url}/admin/users/${f}`,{body:m,headers:p.headers,xform:T})}catch(b){if(B(b))return{data:{user:null},error:b};throw b}})()}deleteUser(f){var m=this;return(0,k.A)(function*(p,b=!1){xn(p);try{return yield St(m.fetch,"DELETE",`${m.url}/admin/users/${p}`,{headers:m.headers,body:{should_soft_delete:b},xform:T})}catch(C){if(B(C))return{data:{user:null},error:C};throw C}}).apply(this,arguments)}_listFactors(f){var m=this;return(0,k.A)(function*(){xn(f.userId);try{const{data:p,error:b}=yield St(m.fetch,"GET",`${m.url}/admin/users/${f.userId}/factors`,{headers:m.headers,xform:C=>({data:{factors:C},error:null})});return{data:p,error:b}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_deleteFactor(f){var m=this;return(0,k.A)(function*(){xn(f.userId),xn(f.id);try{return{data:yield St(m.fetch,"DELETE",`${m.url}/admin/users/${f.userId}/factors/${f.id}`,{headers:m.headers}),error:null}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_listOAuthClients(f){var m=this;return(0,k.A)(function*(){var p,b,C,O,L,W,X;try{const oe={nextPage:null,lastPage:0,total:0},be=yield St(m.fetch,"GET",`${m.url}/admin/oauth/clients`,{headers:m.headers,noResolveJson:!0,query:{page:null!==(b=null===(p=f?.page)||void 0===p?void 0:p.toString())&&void 0!==b?b:"",per_page:null!==(O=null===(C=f?.perPage)||void 0===C?void 0:C.toString())&&void 0!==O?O:""},xform:$});if(be.error)throw be.error;const Ie=yield be.json(),He=null!==(L=be.headers.get("x-total-count"))&&void 0!==L?L:0,Oe=null!==(X=null===(W=be.headers.get("link"))||void 0===W?void 0:W.split(","))&&void 0!==X?X:[];return Oe.length>0&&(Oe.forEach(Je=>{const Ze=parseInt(Je.split(";")[0].split("=")[1].substring(0,1)),gt=JSON.parse(Je.split(";")[1].split("=")[1]);oe[`${gt}Page`]=Ze}),oe.total=parseInt(He)),{data:Object.assign(Object.assign({},Ie),oe),error:null}}catch(oe){if(B(oe))return{data:{clients:[]},error:oe};throw oe}})()}_createOAuthClient(f){var m=this;return(0,k.A)(function*(){try{return yield St(m.fetch,"POST",`${m.url}/admin/oauth/clients`,{body:f,headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_getOAuthClient(f){var m=this;return(0,k.A)(function*(){try{return yield St(m.fetch,"GET",`${m.url}/admin/oauth/clients/${f}`,{headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_updateOAuthClient(f,m){var p=this;return(0,k.A)(function*(){try{return yield St(p.fetch,"PUT",`${p.url}/admin/oauth/clients/${f}`,{body:m,headers:p.headers,xform:b=>({data:b,error:null})})}catch(b){if(B(b))return{data:null,error:b};throw b}})()}_deleteOAuthClient(f){var m=this;return(0,k.A)(function*(){try{return yield St(m.fetch,"DELETE",`${m.url}/admin/oauth/clients/${f}`,{headers:m.headers,noResolveJson:!0}),{data:null,error:null}}catch(p){if(B(p))return{data:null,error:p};throw p}})()}_regenerateOAuthClientSecret(f){var m=this;return(0,k.A)(function*(){try{return yield St(m.fetch,"POST",`${m.url}/admin/oauth/clients/${f}/regenerate_secret`,{headers:m.headers,xform:p=>({data:p,error:null})})}catch(p){if(B(p))return{data:null,error:p};throw p}})()}}function Ei(E={}){return{getItem:f=>E[f]||null,setItem:(f,m)=>{E[f]=m},removeItem:f=>{delete E[f]}}}const za_debug=!!(globalThis&&F()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Cs extends Error{constructor(f){super(f),this.isAcquireTimeout=!0}}class Xl extends Cs{}function Ss(E,f,m){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,k.A)(function*(E,f,m){za_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",E,f);const p=new globalThis.AbortController;return f>0&&setTimeout(()=>{p.abort(),za_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",E)},f),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(E,0===f?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:p.signal},function(){var b=(0,k.A)(function*(C){if(!C){if(0===f)throw za_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",E),new Xl(`Acquiring an exclusive Navigator LockManager lock "${E}" immediately failed`);if(za_debug)try{const O=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(O,null,"  "))}catch(O){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",O)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield m()}za_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",E,C.name);try{return yield m()}finally{za_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",E,C.name)}});return function(C){return b.apply(this,arguments)}}()))}),Wi.apply(this,arguments)}function Js(E){if(!/^0x[a-fA-F0-9]{40}$/.test(E))throw new Error(`@supabase/auth-js: Address "${E}" is invalid.`);return E.toLowerCase()}function oi(E){const f=(new TextEncoder).encode(E);return"0x"+Array.from(f,p=>p.toString(16).padStart(2,"0")).join("")}class Bn extends Error{constructor({message:f,code:m,cause:p,name:b}){var C;super(f,{cause:p}),this.__isWebAuthnError=!0,this.name=null!==(C=b??(p instanceof Error?p.name:void 0))&&void 0!==C?C:"Unknown Error",this.code=m}}class Di extends Bn{constructor(f,m){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m,message:f}),this.name="WebAuthnUnknownError",this.originalError=m}}function Ft({error:E,options:f}){var m,p,b;const{publicKey:C}=f;if(!C)throw Error("options was missing required publicKey property");if("AbortError"===E.name){if(f.signal instanceof AbortSignal)return new Bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:E})}else if("ConstraintError"===E.name){if(!0===(null===(m=C.authenticatorSelection)||void 0===m?void 0:m.requireResidentKey))return new Bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:E});if("conditional"===f.mediation&&"required"===(null===(p=C.authenticatorSelection)||void 0===p?void 0:p.userVerification))return new Bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:E});if("required"===(null===(b=C.authenticatorSelection)||void 0===b?void 0:b.userVerification))return new Bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:E})}else{if("InvalidStateError"===E.name)return new Bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:E});if("NotAllowedError"===E.name)return new Bn({message:E.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:E});if("NotSupportedError"===E.name)return 0===C.pubKeyCredParams.filter(L=>"public-key"===L.type).length?new Bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:E}):new Bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:E});if("SecurityError"===E.name){const O=window.location.hostname;if(!Ki(O))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:E});if(C.rp.id!==O)return new Bn({message:`The RP ID "${C.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:E})}else if("TypeError"===E.name){if(C.user.id.byteLength<1||C.user.id.byteLength>64)return new Bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:E})}else if("UnknownError"===E.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:E})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:E})}function lo({error:E,options:f}){const{publicKey:m}=f;if(!m)throw Error("options was missing required publicKey property");if("AbortError"===E.name){if(f.signal instanceof AbortSignal)return new Bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:E})}else{if("NotAllowedError"===E.name)return new Bn({message:E.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:E});if("SecurityError"===E.name){const p=window.location.hostname;if(!Ki(p))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:E});if(m.rpId!==p)return new Bn({message:`The RP ID "${m.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:E})}else if("UnknownError"===E.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:E})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:E})}const ra=new class tu{createNewAbortSignal(){if(this.controller){const m=new Error("Cancelling existing WebAuthn API call for new one");m.name="AbortError",this.controller.abort(m)}const f=new AbortController;return this.controller=f,f.signal}cancelCeremony(){if(this.controller){const f=new Error("Manually cancelling existing WebAuthn API call");f.name="AbortError",this.controller.abort(f),this.controller=void 0}}};function Zs(E){if(!E)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(E);const{challenge:f,user:m,excludeCredentials:p}=E,b=(0,i.__rest)(E,["challenge","user","excludeCredentials"]),C=jo(f).buffer,O=Object.assign(Object.assign({},m),{id:jo(m.id).buffer}),L=Object.assign(Object.assign({},b),{challenge:C,user:O});if(p&&p.length>0){L.excludeCredentials=new Array(p.length);for(let W=0;W<p.length;W++){const X=p[W];L.excludeCredentials[W]=Object.assign(Object.assign({},X),{id:jo(X.id).buffer,type:X.type||"public-key",transports:X.transports})}}return L}function zi(E){if(!E)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(E);const{challenge:f,allowCredentials:m}=E,p=(0,i.__rest)(E,["challenge","allowCredentials"]),b=jo(f).buffer,C=Object.assign(Object.assign({},p),{challenge:b});if(m&&m.length>0){C.allowCredentials=new Array(m.length);for(let O=0;O<m.length;O++){const L=m[O];C.allowCredentials[O]=Object.assign(Object.assign({},L),{id:jo(L.id).buffer,type:L.type||"public-key",transports:L.transports})}}return C}function ko(E){var f;if("toJSON"in E&&"function"==typeof E.toJSON)return E.toJSON();const m=E;return{id:E.id,rawId:E.id,response:{attestationObject:qr(new Uint8Array(E.response.attestationObject)),clientDataJSON:qr(new Uint8Array(E.response.clientDataJSON))},type:"public-key",clientExtensionResults:E.getClientExtensionResults(),authenticatorAttachment:null!==(f=m.authenticatorAttachment)&&void 0!==f?f:void 0}}function Ka(E){var f;if("toJSON"in E&&"function"==typeof E.toJSON)return E.toJSON();const m=E,p=E.getClientExtensionResults(),b=E.response;return{id:E.id,rawId:E.id,response:{authenticatorData:qr(new Uint8Array(b.authenticatorData)),clientDataJSON:qr(new Uint8Array(b.clientDataJSON)),signature:qr(new Uint8Array(b.signature)),userHandle:b.userHandle?qr(new Uint8Array(b.userHandle)):void 0},type:"public-key",clientExtensionResults:p,authenticatorAttachment:null!==(f=m.authenticatorAttachment)&&void 0!==f?f:void 0}}function Ki(E){return"localhost"===E||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(E)}function ai(){var E,f;return!!(U()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(E=navigator?.credentials)||void 0===E?void 0:E.create)&&"function"==typeof(null===(f=navigator?.credentials)||void 0===f?void 0:f.get))}function ii(){return(ii=(0,k.A)(function*(E){try{const f=yield navigator.credentials.create(E);return f?f instanceof PublicKeyCredential?{data:f,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",f)}:{data:null,error:new Di("Empty credential response",f)}}catch(f){return{data:null,error:Ft({error:f,options:E})}}})).apply(this,arguments)}function si(){return(si=(0,k.A)(function*(E){try{const f=yield navigator.credentials.get(E);return f?f instanceof PublicKeyCredential?{data:f,error:null}:{data:null,error:new Di("Browser returned unexpected credential type",f)}:{data:null,error:new Di("Empty credential response",f)}}catch(f){return{data:null,error:lo({error:f,options:E})}}})).apply(this,arguments)}const Gi={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qi={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ga(...E){const f=b=>null!==b&&"object"==typeof b&&!Array.isArray(b),m=b=>b instanceof ArrayBuffer||ArrayBuffer.isView(b),p={};for(const b of E)if(b)for(const C in b){const O=b[C];if(void 0!==O)if(Array.isArray(O))p[C]=O;else if(m(O))p[C]=O;else if(f(O)){const L=p[C];p[C]=f(L)?Ga(L,O):Ga(O)}else p[C]=O}return p}class li{constructor(f){this.client=f,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(f){var m=this;return(0,k.A)(function*(){return m.client.mfa.enroll(Object.assign(Object.assign({},f),{factorType:"webauthn"}))})()}_challenge(f,m){var p=this;return(0,k.A)(function*({factorId:b,webauthn:C,friendlyName:O,signal:L},W){try{const{data:X,error:oe}=yield p.client.mfa.challenge({factorId:b,webauthn:C});if(!X)return{data:null,error:oe};const be=L??ra.createNewAbortSignal();if("create"===X.webauthn.type){const{user:Ie}=X.webauthn.credential_options.publicKey;Ie.name||(Ie.name=`${Ie.id}:${O}`),Ie.displayName||(Ie.displayName=Ie.name)}switch(X.webauthn.type){case"create":{const Ie=function Qi(E,f){return Ga(Gi,E,f||{})}(X.webauthn.credential_options.publicKey,W?.create),{data:He,error:Oe}=yield function Vo(E){return ii.apply(this,arguments)}({publicKey:Ie,signal:be});return He?{data:{factorId:b,challengeId:X.id,webauthn:{type:X.webauthn.type,credential_response:He}},error:null}:{data:null,error:Oe}}case"request":{const Ie=function Na(E,f){return Ga(qi,E,f||{})}(X.webauthn.credential_options.publicKey,W?.request),{data:He,error:Oe}=yield function As(E){return si.apply(this,arguments)}(Object.assign(Object.assign({},X.webauthn.credential_options),{publicKey:Ie,signal:be}));return He?{data:{factorId:b,challengeId:X.id,webauthn:{type:X.webauthn.type,credential_response:He}},error:null}:{data:null,error:Oe}}}}catch(X){return B(X)?{data:null,error:X}:{data:null,error:new ze("Unexpected error in challenge",X)}}}).apply(this,arguments)}_verify(f){var m=this;return(0,k.A)(function*({challengeId:p,factorId:b,webauthn:C}){return m.client.mfa.verify({factorId:b,challengeId:p,webauthn:C})}).apply(this,arguments)}_authenticate(f,m){var p=this;return(0,k.A)(function*({factorId:b,webauthn:{rpId:C=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:O=(typeof window<"u"?[window.location.origin]:void 0),signal:L}={}},W){if(!C)return{data:null,error:new j("rpId is required for WebAuthn authentication")};try{if(!ai())return{data:null,error:new ze("Browser does not support WebAuthn",null)};const{data:X,error:oe}=yield p.challenge({factorId:b,webauthn:{rpId:C,rpOrigins:O},signal:L},{request:W});if(!X)return{data:null,error:oe};const{webauthn:be}=X;return p._verify({factorId:b,challengeId:X.challengeId,webauthn:{type:be.type,rpId:C,rpOrigins:O,credential_response:be.credential_response}})}catch(X){return B(X)?{data:null,error:X}:{data:null,error:new ze("Unexpected error in authenticate",X)}}}).apply(this,arguments)}_register(f,m){var p=this;return(0,k.A)(function*({friendlyName:b,webauthn:{rpId:C=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:O=(typeof window<"u"?[window.location.origin]:void 0),signal:L}={}},W){if(!C)return{data:null,error:new j("rpId is required for WebAuthn registration")};try{if(!ai())return{data:null,error:new ze("Browser does not support WebAuthn",null)};const{data:X,error:oe}=yield p._enroll({friendlyName:b});if(!X)return yield p.client.mfa.listFactors().then(He=>{var Oe;return null===(Oe=He.data)||void 0===Oe?void 0:Oe.all.find(Je=>"webauthn"===Je.factor_type&&Je.friendly_name===b&&"unverified"!==Je.status)}).then(He=>He?p.client.mfa.unenroll({factorId:He?.id}):void 0),{data:null,error:oe};const{data:be,error:Ie}=yield p._challenge({factorId:X.id,friendlyName:X.friendly_name,webauthn:{rpId:C,rpOrigins:O},signal:L},{create:W});return be?p._verify({factorId:X.id,challengeId:be.challengeId,webauthn:{rpId:C,rpOrigins:O,type:be.webauthn.type,credential_response:be.webauthn.credential_response}}):{data:null,error:Ie}}catch(X){return B(X)?{data:null,error:X}:{data:null,error:new ze("Unexpected error in register",X)}}}).apply(this,arguments)}}!function Zl(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const At={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.83.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Jt(E,f,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,k.A)(function*(E,f,m){return yield m()})).apply(this,arguments)}const La={},di=(()=>{class E{get jwks(){var m,p;return null!==(p=null===(m=La[this.storageKey])||void 0===m?void 0:m.jwks)&&void 0!==p?p:{keys:[]}}set jwks(m){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{jwks:m})}get jwks_cached_at(){var m,p;return null!==(p=null===(m=La[this.storageKey])||void 0===m?void 0:m.cachedAt)&&void 0!==p?p:Number.MIN_SAFE_INTEGER}set jwks_cached_at(m){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{cachedAt:m})}constructor(m){var b,C,O,p=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const L=Object.assign(Object.assign({},At),m);if(this.storageKey=L.storageKey,this.instanceID=null!==(b=E.nextInstanceID[this.storageKey])&&void 0!==b?b:0,E.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!L.debug,"function"==typeof L.debug&&(this.logger=L.debug),this.instanceID>0&&U()){const W=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(W),this.logDebugMessages&&console.trace(W)}if(this.persistSession=L.persistSession,this.autoRefreshToken=L.autoRefreshToken,this.admin=new Wa({url:L.url,headers:L.headers,fetch:L.fetch}),this.url=L.url,this.headers=L.headers,this.fetch=ie(L.fetch),this.lock=L.lock||Jt,this.detectSessionInUrl=L.detectSessionInUrl,this.flowType=L.flowType,this.hasCustomAuthorizationHeader=L.hasCustomAuthorizationHeader,this.throwOnError=L.throwOnError,this.lock=L.lock?L.lock:U()&&null!==(C=globalThis?.navigator)&&void 0!==C&&C.locks?Ss:Jt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new li(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(L.storage?this.storage=L.storage:F()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ei(this.memoryStorage)),L.userStorage&&(this.userStorage=L.userStorage)):(this.memoryStorage={},this.storage=Ei(this.memoryStorage)),U()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(W){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",W)}null===(O=this.broadcastChannel)||void 0===O||O.addEventListener("message",function(){var W=(0,k.A)(function*(X){p._debug("received broadcast notification from other tab or client",X),yield p._notifyAllSubscribers(X.data.event,X.data.session,!1)});return function(X){return W.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(m){if(this.throwOnError&&m&&m.error)throw m.error;return m}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.83.0) ${(new Date).toISOString()}`}_debug(...m){return this.logDebugMessages&&this.logger(this._logPrefix(),...m),this}initialize(){var m=this;return(0,k.A)(function*(){return m.initializePromise||(m.initializePromise=(0,k.A)(function*(){return yield m._acquireLock(-1,(0,k.A)(function*(){return yield m._initialize()}))})()),yield m.initializePromise})()}_initialize(){var m=this;return(0,k.A)(function*(){var p;try{let b={},C="none";if(U()&&(b=function Q(E){const f={},m=new URL(E);if(m.hash&&"#"===m.hash[0])try{new URLSearchParams(m.hash.substring(1)).forEach((b,C)=>{f[C]=b})}catch{}return m.searchParams.forEach((p,b)=>{f[b]=p}),f}(window.location.href),m._isImplicitGrantCallback(b)?C="implicit":(yield m._isPKCECallback(b))&&(C="pkce")),U()&&m.detectSessionInUrl&&"none"!==C){const{data:O,error:L}=yield m._getSessionFromURL(b,C);if(L){if(m._debug("#_initialize()","error detecting session from URL",L),function nn(E){return B(E)&&"AuthImplicitGrantRedirectError"===E.name}(L)){const oe=null===(p=L.details)||void 0===p?void 0:p.code;if("identity_already_exists"===oe||"identity_not_found"===oe||"single_identity_not_deletable"===oe)return{error:L}}return yield m._removeSession(),{error:L}}const{session:W,redirectType:X}=O;return m._debug("#_initialize()","detected session in URL",W,"redirect type",X),yield m._saveSession(W),setTimeout((0,k.A)(function*(){"recovery"===X?yield m._notifyAllSubscribers("PASSWORD_RECOVERY",W):yield m._notifyAllSubscribers("SIGNED_IN",W)}),0),{error:null}}return yield m._recoverAndRefresh(),{error:null}}catch(b){return B(b)?m._returnResult({error:b}):m._returnResult({error:new ze("Unexpected error during initialization",b)})}finally{yield m._handleVisibilityChange(),m._debug("#_initialize()","end")}})()}signInAnonymously(m){var p=this;return(0,k.A)(function*(){var b,C,O;try{const L=yield St(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,body:{data:null!==(C=null===(b=m?.options)||void 0===b?void 0:b.data)&&void 0!==C?C:{},gotrue_meta_security:{captcha_token:null===(O=m?.options)||void 0===O?void 0:O.captchaToken}},xform:mr}),{data:W,error:X}=L;if(X||!W)return p._returnResult({data:{user:null,session:null},error:X});const oe=W.session,be=W.user;return W.session&&(yield p._saveSession(W.session),yield p._notifyAllSubscribers("SIGNED_IN",oe)),p._returnResult({data:{user:be,session:oe},error:null})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}})()}signUp(m){var p=this;return(0,k.A)(function*(){var b,C,O;try{let L;if("email"in m){const{email:Ie,password:He,options:Oe}=m;let Je=null,Ze=null;"pkce"===p.flowType&&([Je,Ze]=yield Lr(p.storage,p.storageKey)),L=yield St(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,redirectTo:Oe?.emailRedirectTo,body:{email:Ie,password:He,data:null!==(b=Oe?.data)&&void 0!==b?b:{},gotrue_meta_security:{captcha_token:Oe?.captchaToken},code_challenge:Je,code_challenge_method:Ze},xform:mr})}else{if(!("phone"in m))throw new jt("You must provide either an email or phone number and a password");{const{phone:Ie,password:He,options:Oe}=m;L=yield St(p.fetch,"POST",`${p.url}/signup`,{headers:p.headers,body:{phone:Ie,password:He,data:null!==(C=Oe?.data)&&void 0!==C?C:{},channel:null!==(O=Oe?.channel)&&void 0!==O?O:"sms",gotrue_meta_security:{captcha_token:Oe?.captchaToken}},xform:mr})}}const{data:W,error:X}=L;if(X||!W)return p._returnResult({data:{user:null,session:null},error:X});const oe=W.session,be=W.user;return W.session&&(yield p._saveSession(W.session),yield p._notifyAllSubscribers("SIGNED_IN",oe)),p._returnResult({data:{user:be,session:oe},error:null})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}})()}signInWithPassword(m){var p=this;return(0,k.A)(function*(){try{let b;if("email"in m){const{email:L,password:W,options:X}=m;b=yield St(p.fetch,"POST",`${p.url}/token?grant_type=password`,{headers:p.headers,body:{email:L,password:W,gotrue_meta_security:{captcha_token:X?.captchaToken}},xform:Hi})}else{if(!("phone"in m))throw new jt("You must provide either an email or phone number and a password");{const{phone:L,password:W,options:X}=m;b=yield St(p.fetch,"POST",`${p.url}/token?grant_type=password`,{headers:p.headers,body:{phone:L,password:W,gotrue_meta_security:{captcha_token:X?.captchaToken}},xform:Hi})}}const{data:C,error:O}=b;if(O)return p._returnResult({data:{user:null,session:null},error:O});if(!C||!C.session||!C.user){const L=new Ht;return p._returnResult({data:{user:null,session:null},error:L})}return C.session&&(yield p._saveSession(C.session),yield p._notifyAllSubscribers("SIGNED_IN",C.session)),p._returnResult({data:Object.assign({user:C.user,session:C.session},C.weak_password?{weakPassword:C.weak_password}:null),error:O})}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithOAuth(m){var p=this;return(0,k.A)(function*(){var b,C,O,L;return yield p._handleProviderSignIn(m.provider,{redirectTo:null===(b=m.options)||void 0===b?void 0:b.redirectTo,scopes:null===(C=m.options)||void 0===C?void 0:C.scopes,queryParams:null===(O=m.options)||void 0===O?void 0:O.queryParams,skipBrowserRedirect:null===(L=m.options)||void 0===L?void 0:L.skipBrowserRedirect})})()}exchangeCodeForSession(m){var p=this;return(0,k.A)(function*(){return yield p.initializePromise,p._acquireLock(-1,(0,k.A)(function*(){return p._exchangeCodeForSession(m)}))})()}signInWithWeb3(m){var p=this;return(0,k.A)(function*(){const{chain:b}=m;switch(b){case"ethereum":return yield p.signInWithEthereum(m);case"solana":return yield p.signInWithSolana(m);default:throw new Error(`@supabase/auth-js: Unsupported chain "${b}"`)}})()}signInWithEthereum(m){var p=this;return(0,k.A)(function*(){var b,C,O,L,W,X,oe,be,Ie,He,Oe;let Je,Ze;if("message"in m)Je=m.message,Ze=m.signature;else{const{wallet:Tt,statement:Vt,options:vt}=m;let _t;if(U())if("object"==typeof Tt)_t=Tt;else{const Do=window;if(!("ethereum"in Do)||"object"!=typeof Do.ethereum||!("request"in Do.ethereum)||"function"!=typeof Do.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");_t=Do.ethereum}else{if("object"!=typeof Tt||!vt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_t=Tt}const kn=new URL(null!==(b=vt?.url)&&void 0!==b?b:window.location.href),Cr=yield _t.request({method:"eth_requestAccounts"}).then(Do=>Do).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Cr||0===Cr.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const gn=Js(Cr[0]);let Dn=null===(C=vt?.signInWithEthereum)||void 0===C?void 0:C.chainId;Dn||(Dn=function eu(E){return parseInt(E,16)}(yield _t.request({method:"eth_chainId"}))),Je=function _c(E){var f;const{chainId:m,domain:p,expirationTime:b,issuedAt:C=new Date,nonce:O,notBefore:L,requestId:W,resources:X,scheme:oe,uri:be,version:Ie}=E;if(!Number.isInteger(m))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${m}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(O&&O.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${O}`);if(!be)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==Ie)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${Ie}`);if(null!==(f=E.statement)&&void 0!==f&&f.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${E.statement}`);const Ze=`${oe?`${oe}://${p}`:p} wants you to sign in with your Ethereum account:\n${Js(E.address)}\n\n${E.statement?`${E.statement}\n`:""}`;let gt=`URI: ${be}\nVersion: ${Ie}\nChain ID: ${m}${O?`\nNonce: ${O}`:""}\nIssued At: ${C.toISOString()}`;if(b&&(gt+=`\nExpiration Time: ${b.toISOString()}`),L&&(gt+=`\nNot Before: ${L.toISOString()}`),W&&(gt+=`\nRequest ID: ${W}`),X){let Tt="\nResources:";for(const Vt of X){if(!Vt||"string"!=typeof Vt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Vt}`);Tt+=`\n- ${Vt}`}gt+=Tt}return`${Ze}\n${gt}`}({domain:kn.host,address:gn,statement:Vt,uri:kn.href,version:"1",chainId:Dn,nonce:null===(O=vt?.signInWithEthereum)||void 0===O?void 0:O.nonce,issuedAt:null!==(W=null===(L=vt?.signInWithEthereum)||void 0===L?void 0:L.issuedAt)&&void 0!==W?W:new Date,expirationTime:null===(X=vt?.signInWithEthereum)||void 0===X?void 0:X.expirationTime,notBefore:null===(oe=vt?.signInWithEthereum)||void 0===oe?void 0:oe.notBefore,requestId:null===(be=vt?.signInWithEthereum)||void 0===be?void 0:be.requestId,resources:null===(Ie=vt?.signInWithEthereum)||void 0===Ie?void 0:Ie.resources}),Ze=yield _t.request({method:"personal_sign",params:[oi(Je),gn]})}try{const{data:gt,error:Tt}=yield St(p.fetch,"POST",`${p.url}/token?grant_type=web3`,{headers:p.headers,body:Object.assign({chain:"ethereum",message:Je,signature:Ze},null!==(He=m.options)&&void 0!==He&&He.captchaToken?{gotrue_meta_security:{captcha_token:null===(Oe=m.options)||void 0===Oe?void 0:Oe.captchaToken}}:null),xform:mr});if(Tt)throw Tt;if(!gt||!gt.session||!gt.user){const Vt=new Ht;return p._returnResult({data:{user:null,session:null},error:Vt})}return gt.session&&(yield p._saveSession(gt.session),yield p._notifyAllSubscribers("SIGNED_IN",gt.session)),p._returnResult({data:Object.assign({},gt),error:Tt})}catch(gt){if(B(gt))return p._returnResult({data:{user:null,session:null},error:gt});throw gt}})()}signInWithSolana(m){var p=this;return(0,k.A)(function*(){var b,C,O,L,W,X,oe,be,Ie,He,Oe,Je;let Ze,gt;if("message"in m)Ze=m.message,gt=m.signature;else{const{wallet:Vt,statement:vt,options:_t}=m;let kn;if(U())if("object"==typeof Vt)kn=Vt;else{const gn=window;if(!("solana"in gn)||"object"!=typeof gn.solana||!("signIn"in gn.solana&&"function"==typeof gn.solana.signIn||"signMessage"in gn.solana&&"function"==typeof gn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");kn=gn.solana}else{if("object"!=typeof Vt||!_t?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");kn=Vt}const Cr=new URL(null!==(b=_t?.url)&&void 0!==b?b:window.location.href);if("signIn"in kn&&kn.signIn){const gn=yield kn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},_t?.signInWithSolana),{version:"1",domain:Cr.host,uri:Cr.href}),vt?{statement:vt}:null));let Dn;if(Array.isArray(gn)&&gn[0]&&"object"==typeof gn[0])Dn=gn[0];else{if(!(gn&&"object"==typeof gn&&"signedMessage"in gn&&"signature"in gn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Dn=gn}if(!("signedMessage"in Dn&&"signature"in Dn&&("string"==typeof Dn.signedMessage||Dn.signedMessage instanceof Uint8Array)&&Dn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Ze="string"==typeof Dn.signedMessage?Dn.signedMessage:(new TextDecoder).decode(Dn.signedMessage),gt=Dn.signature}else{if(!("signMessage"in kn&&"function"==typeof kn.signMessage&&"publicKey"in kn&&"object"==typeof kn&&kn.publicKey&&"toBase58"in kn.publicKey&&"function"==typeof kn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Ze=[`${Cr.host} wants you to sign in with your Solana account:`,kn.publicKey.toBase58(),...vt?["",vt,""]:[""],"Version: 1",`URI: ${Cr.href}`,`Issued At: ${null!==(O=null===(C=_t?.signInWithSolana)||void 0===C?void 0:C.issuedAt)&&void 0!==O?O:(new Date).toISOString()}`,...null!==(L=_t?.signInWithSolana)&&void 0!==L&&L.notBefore?[`Not Before: ${_t.signInWithSolana.notBefore}`]:[],...null!==(W=_t?.signInWithSolana)&&void 0!==W&&W.expirationTime?[`Expiration Time: ${_t.signInWithSolana.expirationTime}`]:[],...null!==(X=_t?.signInWithSolana)&&void 0!==X&&X.chainId?[`Chain ID: ${_t.signInWithSolana.chainId}`]:[],...null!==(oe=_t?.signInWithSolana)&&void 0!==oe&&oe.nonce?[`Nonce: ${_t.signInWithSolana.nonce}`]:[],...null!==(be=_t?.signInWithSolana)&&void 0!==be&&be.requestId?[`Request ID: ${_t.signInWithSolana.requestId}`]:[],...null!==(He=null===(Ie=_t?.signInWithSolana)||void 0===Ie?void 0:Ie.resources)&&void 0!==He&&He.length?["Resources",..._t.signInWithSolana.resources.map(Dn=>`- ${Dn}`)]:[]].join("\n");const gn=yield kn.signMessage((new TextEncoder).encode(Ze),"utf8");if(!(gn&&gn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");gt=gn}}try{const{data:Tt,error:Vt}=yield St(p.fetch,"POST",`${p.url}/token?grant_type=web3`,{headers:p.headers,body:Object.assign({chain:"solana",message:Ze,signature:qr(gt)},null!==(Oe=m.options)&&void 0!==Oe&&Oe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Je=m.options)||void 0===Je?void 0:Je.captchaToken}}:null),xform:mr});if(Vt)throw Vt;if(!Tt||!Tt.session||!Tt.user){const vt=new Ht;return p._returnResult({data:{user:null,session:null},error:vt})}return Tt.session&&(yield p._saveSession(Tt.session),yield p._notifyAllSubscribers("SIGNED_IN",Tt.session)),p._returnResult({data:Object.assign({},Tt),error:Vt})}catch(Tt){if(B(Tt))return p._returnResult({data:{user:null,session:null},error:Tt});throw Tt}})()}_exchangeCodeForSession(m){var p=this;return(0,k.A)(function*(){const b=yield qe(p.storage,`${p.storageKey}-code-verifier`),[C,O]=(b??"").split("/");try{const{data:L,error:W}=yield St(p.fetch,"POST",`${p.url}/token?grant_type=pkce`,{headers:p.headers,body:{auth_code:m,code_verifier:C},xform:mr});if(yield lt(p.storage,`${p.storageKey}-code-verifier`),W)throw W;if(!L||!L.session||!L.user){const X=new Ht;return p._returnResult({data:{user:null,session:null,redirectType:null},error:X})}return L.session&&(yield p._saveSession(L.session),yield p._notifyAllSubscribers("SIGNED_IN",L.session)),p._returnResult({data:Object.assign(Object.assign({},L),{redirectType:O??null}),error:W})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null,redirectType:null},error:L});throw L}})()}signInWithIdToken(m){var p=this;return(0,k.A)(function*(){try{const{options:b,provider:C,token:O,access_token:L,nonce:W}=m,X=yield St(p.fetch,"POST",`${p.url}/token?grant_type=id_token`,{headers:p.headers,body:{provider:C,id_token:O,access_token:L,nonce:W,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:mr}),{data:oe,error:be}=X;if(be)return p._returnResult({data:{user:null,session:null},error:be});if(!oe||!oe.session||!oe.user){const Ie=new Ht;return p._returnResult({data:{user:null,session:null},error:Ie})}return oe.session&&(yield p._saveSession(oe.session),yield p._notifyAllSubscribers("SIGNED_IN",oe.session)),p._returnResult({data:oe,error:be})}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithOtp(m){var p=this;return(0,k.A)(function*(){var b,C,O,L,W;try{if("email"in m){const{email:X,options:oe}=m;let be=null,Ie=null;"pkce"===p.flowType&&([be,Ie]=yield Lr(p.storage,p.storageKey));const{error:He}=yield St(p.fetch,"POST",`${p.url}/otp`,{headers:p.headers,body:{email:X,data:null!==(b=oe?.data)&&void 0!==b?b:{},create_user:null===(C=oe?.shouldCreateUser)||void 0===C||C,gotrue_meta_security:{captcha_token:oe?.captchaToken},code_challenge:be,code_challenge_method:Ie},redirectTo:oe?.emailRedirectTo});return p._returnResult({data:{user:null,session:null},error:He})}if("phone"in m){const{phone:X,options:oe}=m,{data:be,error:Ie}=yield St(p.fetch,"POST",`${p.url}/otp`,{headers:p.headers,body:{phone:X,data:null!==(O=oe?.data)&&void 0!==O?O:{},create_user:null===(L=oe?.shouldCreateUser)||void 0===L||L,gotrue_meta_security:{captcha_token:oe?.captchaToken},channel:null!==(W=oe?.channel)&&void 0!==W?W:"sms"}});return p._returnResult({data:{user:null,session:null,messageId:be?.message_id},error:Ie})}throw new jt("You must provide either an email or phone number.")}catch(X){if(B(X))return p._returnResult({data:{user:null,session:null},error:X});throw X}})()}verifyOtp(m){var p=this;return(0,k.A)(function*(){var b,C;try{let O,L;"options"in m&&(O=null===(b=m.options)||void 0===b?void 0:b.redirectTo,L=null===(C=m.options)||void 0===C?void 0:C.captchaToken);const{data:W,error:X}=yield St(p.fetch,"POST",`${p.url}/verify`,{headers:p.headers,body:Object.assign(Object.assign({},m),{gotrue_meta_security:{captcha_token:L}}),redirectTo:O,xform:mr});if(X)throw X;if(!W)throw new Error("An error occurred on token verification.");const oe=W.session,be=W.user;return oe?.access_token&&(yield p._saveSession(oe),yield p._notifyAllSubscribers("recovery"==m.type?"PASSWORD_RECOVERY":"SIGNED_IN",oe)),p._returnResult({data:{user:be,session:oe},error:null})}catch(O){if(B(O))return p._returnResult({data:{user:null,session:null},error:O});throw O}})()}signInWithSSO(m){var p=this;return(0,k.A)(function*(){var b,C,O,L,W;try{let X=null,oe=null;"pkce"===p.flowType&&([X,oe]=yield Lr(p.storage,p.storageKey));const be=yield St(p.fetch,"POST",`${p.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in m?{provider_id:m.providerId}:null),"domain"in m?{domain:m.domain}:null),{redirect_to:null!==(C=null===(b=m.options)||void 0===b?void 0:b.redirectTo)&&void 0!==C?C:void 0}),null!==(O=m?.options)&&void 0!==O&&O.captchaToken?{gotrue_meta_security:{captcha_token:m.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:X,code_challenge_method:oe}),headers:p.headers,xform:x});return!(null===(L=be.data)||void 0===L)&&L.url&&U()&&!(null!==(W=m.options)&&void 0!==W&&W.skipBrowserRedirect)&&window.location.assign(be.data.url),p._returnResult(be)}catch(X){if(B(X))return p._returnResult({data:null,error:X});throw X}})()}reauthenticate(){var m=this;return(0,k.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,k.A)(function*(){return yield m._reauthenticate()}))})()}_reauthenticate(){var m=this;return(0,k.A)(function*(){try{return yield m._useSession(function(){var p=(0,k.A)(function*(b){const{data:{session:C},error:O}=b;if(O)throw O;if(!C)throw new Ut;const{error:L}=yield St(m.fetch,"GET",`${m.url}/reauthenticate`,{headers:m.headers,jwt:C.access_token});return m._returnResult({data:{user:null,session:null},error:L})});return function(b){return p.apply(this,arguments)}}())}catch(p){if(B(p))return m._returnResult({data:{user:null,session:null},error:p});throw p}})()}resend(m){var p=this;return(0,k.A)(function*(){try{const b=`${p.url}/resend`;if("email"in m){const{email:C,type:O,options:L}=m,{error:W}=yield St(p.fetch,"POST",b,{headers:p.headers,body:{email:C,type:O,gotrue_meta_security:{captcha_token:L?.captchaToken}},redirectTo:L?.emailRedirectTo});return p._returnResult({data:{user:null,session:null},error:W})}if("phone"in m){const{phone:C,type:O,options:L}=m,{data:W,error:X}=yield St(p.fetch,"POST",b,{headers:p.headers,body:{phone:C,type:O,gotrue_meta_security:{captcha_token:L?.captchaToken}}});return p._returnResult({data:{user:null,session:null,messageId:W?.message_id},error:X})}throw new jt("You must provide either an email or phone number and a type")}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}getSession(){var m=this;return(0,k.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,k.A)(function*(){return m._useSession(function(){var b=(0,k.A)(function*(C){return C});return function(C){return b.apply(this,arguments)}}())}))})()}_acquireLock(m,p){var b=this;return(0,k.A)(function*(){b._debug("#_acquireLock","begin",m);try{if(b.lockAcquired){const C=b.pendingInLock.length?b.pendingInLock[b.pendingInLock.length-1]:Promise.resolve(),O=(0,k.A)(function*(){return yield C,yield p()})();return b.pendingInLock.push((0,k.A)(function*(){try{yield O}catch{}})()),O}return yield b.lock(`lock:${b.storageKey}`,m,(0,k.A)(function*(){b._debug("#_acquireLock","lock acquired for storage key",b.storageKey);try{b.lockAcquired=!0;const C=p();for(b.pendingInLock.push((0,k.A)(function*(){try{yield C}catch{}})()),yield C;b.pendingInLock.length;){const O=[...b.pendingInLock];yield Promise.all(O),b.pendingInLock.splice(0,O.length)}return yield C}finally{b._debug("#_acquireLock","lock released for storage key",b.storageKey),b.lockAcquired=!1}}))}finally{b._debug("#_acquireLock","end")}})()}_useSession(m){var p=this;return(0,k.A)(function*(){p._debug("#_useSession","begin");try{const b=yield p.__loadSession();return yield m(b)}finally{p._debug("#_useSession","end")}})()}__loadSession(){var m=this;return(0,k.A)(function*(){m._debug("#__loadSession()","begin"),m.lockAcquired||m._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let p=null;const b=yield qe(m.storage,m.storageKey);if(m._debug("#getSession()","session from storage",b),null!==b&&(m._isValidSession(b)?p=b:(m._debug("#getSession()","session from storage is not valid"),yield m._removeSession())),!p)return{data:{session:null},error:null};const C=!!p.expires_at&&1e3*p.expires_at-Date.now()<9e4;if(m._debug("#__loadSession()",`session has${C?"":" not"} expired`,"expires_at",p.expires_at),!C){if(m.userStorage){const W=yield qe(m.userStorage,m.storageKey+"-user");p.user=W?.user?W.user:Dr()}if(m.storage.isServer&&p.user&&!p.user.__isUserNotAvailableProxy){const W={value:m.suppressGetSessionWarning};p.user=function ni(E,f){return new Proxy(E,{get:(m,p,b)=>{if("__isInsecureUserWarningProxy"===p)return!0;if("symbol"==typeof p){const C=p.toString();if("Symbol(Symbol.toPrimitive)"===C||"Symbol(Symbol.toStringTag)"===C||"Symbol(util.inspect.custom)"===C||"Symbol(nodejs.util.inspect.custom)"===C)return Reflect.get(m,p,b)}return!f.value&&"string"==typeof p&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f.value=!0),Reflect.get(m,p,b)}})}(p.user,W),W.value&&(m.suppressGetSessionWarning=!0)}return{data:{session:p},error:null}}const{data:O,error:L}=yield m._callRefreshToken(p.refresh_token);return m._returnResult(L?{data:{session:null},error:L}:{data:{session:O},error:null})}finally{m._debug("#__loadSession()","end")}})()}getUser(m){var p=this;return(0,k.A)(function*(){return m?yield p._getUser(m):(yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){return yield p._getUser()})))})()}_getUser(m){var p=this;return(0,k.A)(function*(){try{return m?yield St(p.fetch,"GET",`${p.url}/user`,{headers:p.headers,jwt:m,xform:T}):yield p._useSession(function(){var b=(0,k.A)(function*(C){var O,L,W;const{data:X,error:oe}=C;if(oe)throw oe;return null!==(O=X.session)&&void 0!==O&&O.access_token||p.hasCustomAuthorizationHeader?yield St(p.fetch,"GET",`${p.url}/user`,{headers:p.headers,jwt:null!==(W=null===(L=X.session)||void 0===L?void 0:L.access_token)&&void 0!==W?W:void 0,xform:T}):{data:{user:null},error:new Ut}});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return function qt(E){return B(E)&&"AuthSessionMissingError"===E.name}(b)&&(yield p._removeSession(),yield lt(p.storage,`${p.storageKey}-code-verifier`)),p._returnResult({data:{user:null},error:b});throw b}})()}updateUser(m){var p=this;return(0,k.A)(function*(b,C={}){return yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){return yield p._updateUser(b,C)}))}).apply(this,arguments)}_updateUser(m){var p=this;return(0,k.A)(function*(b,C={}){try{return yield p._useSession(function(){var O=(0,k.A)(function*(L){const{data:W,error:X}=L;if(X)throw X;if(!W.session)throw new Ut;const oe=W.session;let be=null,Ie=null;"pkce"===p.flowType&&null!=b.email&&([be,Ie]=yield Lr(p.storage,p.storageKey));const{data:He,error:Oe}=yield St(p.fetch,"PUT",`${p.url}/user`,{headers:p.headers,redirectTo:C?.emailRedirectTo,body:Object.assign(Object.assign({},b),{code_challenge:be,code_challenge_method:Ie}),jwt:oe.access_token,xform:T});if(Oe)throw Oe;return oe.user=He.user,yield p._saveSession(oe),yield p._notifyAllSubscribers("USER_UPDATED",oe),p._returnResult({data:{user:oe.user},error:null})});return function(L){return O.apply(this,arguments)}}())}catch(O){if(B(O))return p._returnResult({data:{user:null},error:O});throw O}}).apply(this,arguments)}setSession(m){var p=this;return(0,k.A)(function*(){return yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){return yield p._setSession(m)}))})()}_setSession(m){var p=this;return(0,k.A)(function*(){try{if(!m.access_token||!m.refresh_token)throw new Ut;const b=Date.now()/1e3;let C=b,O=!0,L=null;const{payload:W}=Bt(m.access_token);if(W.exp&&(C=W.exp,O=C<=b),O){const{data:X,error:oe}=yield p._callRefreshToken(m.refresh_token);if(oe)return p._returnResult({data:{user:null,session:null},error:oe});if(!X)return{data:{user:null,session:null},error:null};L=X}else{const{data:X,error:oe}=yield p._getUser(m.access_token);if(oe)throw oe;L={access_token:m.access_token,refresh_token:m.refresh_token,user:X.user,token_type:"bearer",expires_in:C-b,expires_at:C},yield p._saveSession(L),yield p._notifyAllSubscribers("SIGNED_IN",L)}return p._returnResult({data:{user:L.user,session:L},error:null})}catch(b){if(B(b))return p._returnResult({data:{session:null,user:null},error:b});throw b}})()}refreshSession(m){var p=this;return(0,k.A)(function*(){return yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){return yield p._refreshSession(m)}))})()}_refreshSession(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O;if(!m){const{data:X,error:oe}=C;if(oe)throw oe;m=null!==(O=X.session)&&void 0!==O?O:void 0}if(!m?.refresh_token)throw new Ut;const{data:L,error:W}=yield p._callRefreshToken(m.refresh_token);return p._returnResult(W?{data:{user:null,session:null},error:W}:L?{data:{user:L.user,session:L},error:null}:{data:{user:null,session:null},error:null})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:{user:null,session:null},error:b});throw b}})()}_getSessionFromURL(m,p){var b=this;return(0,k.A)(function*(){try{if(!U())throw new _n("No browser detected.");if(m.error||m.error_description||m.error_code)throw new _n(m.error_description||"Error in URL with unspecified error_description",{error:m.error||"unspecified_error",code:m.error_code||"unspecified_code"});switch(p){case"implicit":if("pkce"===b.flowType)throw new bn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===b.flowType)throw new _n("Not a valid implicit grant flow url.")}if("pkce"===p){if(b._debug("#_initialize()","begin","is PKCE flow",!0),!m.code)throw new bn("No code detected.");const{data:vt,error:_t}=yield b._exchangeCodeForSession(m.code);if(_t)throw _t;const kn=new URL(window.location.href);return kn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",kn.toString()),{data:{session:vt.session,redirectType:null},error:null}}const{provider_token:C,provider_refresh_token:O,access_token:L,refresh_token:W,expires_in:X,expires_at:oe,token_type:be}=m;if(!(L&&X&&W&&be))throw new _n("No session defined in URL");const Ie=Math.round(Date.now()/1e3),He=parseInt(X);let Oe=Ie+He;oe&&(Oe=parseInt(oe));const Je=Oe-Ie;1e3*Je<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Je}s, should have been closer to ${He}s`);const Ze=Oe-He;Ie-Ze>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Ze,Oe,Ie):Ie-Ze<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Ze,Oe,Ie);const{data:gt,error:Tt}=yield b._getUser(L);if(Tt)throw Tt;const Vt={provider_token:C,provider_refresh_token:O,access_token:L,expires_in:He,expires_at:Oe,refresh_token:W,token_type:be,user:gt.user};return window.location.hash="",b._debug("#_getSessionFromURL()","clearing window.location.hash"),b._returnResult({data:{session:Vt,redirectType:m.type},error:null})}catch(C){if(B(C))return b._returnResult({data:{session:null,redirectType:null},error:C});throw C}})()}_isImplicitGrantCallback(m){return!(!m.access_token&&!m.error_description)}_isPKCECallback(m){var p=this;return(0,k.A)(function*(){const b=yield qe(p.storage,`${p.storageKey}-code-verifier`);return!(!m.code||!b)})()}signOut(){var m=this;return(0,k.A)(function*(p={scope:"global"}){return yield m.initializePromise,yield m._acquireLock(-1,(0,k.A)(function*(){return yield m._signOut(p)}))}).apply(this,arguments)}_signOut(){var m=this;return(0,k.A)(function*({scope:p}={scope:"global"}){return yield m._useSession(function(){var b=(0,k.A)(function*(C){var O;const{data:L,error:W}=C;if(W)return m._returnResult({error:W});const X=null===(O=L.session)||void 0===O?void 0:O.access_token;if(X){const{error:oe}=yield m.admin.signOut(X,p);if(oe&&(!function Fe(E){return B(E)&&"AuthApiError"===E.name}(oe)||404!==oe.status&&401!==oe.status&&403!==oe.status))return m._returnResult({error:oe})}return"others"!==p&&(yield m._removeSession(),yield lt(m.storage,`${m.storageKey}-code-verifier`)),m._returnResult({error:null})});return function(C){return b.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(m){var p=this;const b=function or(){return Symbol("auth-callback")}(),C={id:b,callback:m,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,C),(0,k.A)(function*(){yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){p._emitInitialSession(b)}))})(),{data:{subscription:C}}}_emitInitialSession(m){var p=this;return(0,k.A)(function*(){return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O,L;try{const{data:{session:W},error:X}=C;if(X)throw X;yield null===(O=p.stateChangeEmitters.get(m))||void 0===O?void 0:O.callback("INITIAL_SESSION",W),p._debug("INITIAL_SESSION","callback id",m,"session",W)}catch(W){yield null===(L=p.stateChangeEmitters.get(m))||void 0===L?void 0:L.callback("INITIAL_SESSION",null),p._debug("INITIAL_SESSION","callback id",m,"error",W),console.error(W)}});return function(C){return b.apply(this,arguments)}}())})()}resetPasswordForEmail(m){var p=this;return(0,k.A)(function*(b,C={}){let O=null,L=null;"pkce"===p.flowType&&([O,L]=yield Lr(p.storage,p.storageKey,!0));try{return yield St(p.fetch,"POST",`${p.url}/recover`,{body:{email:b,code_challenge:O,code_challenge_method:L,gotrue_meta_security:{captcha_token:C.captchaToken}},headers:p.headers,redirectTo:C.redirectTo})}catch(W){if(B(W))return p._returnResult({data:null,error:W});throw W}}).apply(this,arguments)}getUserIdentities(){var m=this;return(0,k.A)(function*(){var p;try{const{data:b,error:C}=yield m.getUser();if(C)throw C;return m._returnResult({data:{identities:null!==(p=b.user.identities)&&void 0!==p?p:[]},error:null})}catch(b){if(B(b))return m._returnResult({data:null,error:b});throw b}})()}linkIdentity(m){var p=this;return(0,k.A)(function*(){return"token"in m?p.linkIdentityIdToken(m):p.linkIdentityOAuth(m)})()}linkIdentityOAuth(m){var p=this;return(0,k.A)(function*(){var b;try{const{data:C,error:O}=yield p._useSession(function(){var L=(0,k.A)(function*(W){var X,oe,be,Ie,He;const{data:Oe,error:Je}=W;if(Je)throw Je;const Ze=yield p._getUrlForProvider(`${p.url}/user/identities/authorize`,m.provider,{redirectTo:null===(X=m.options)||void 0===X?void 0:X.redirectTo,scopes:null===(oe=m.options)||void 0===oe?void 0:oe.scopes,queryParams:null===(be=m.options)||void 0===be?void 0:be.queryParams,skipBrowserRedirect:!0});return yield St(p.fetch,"GET",Ze,{headers:p.headers,jwt:null!==(He=null===(Ie=Oe.session)||void 0===Ie?void 0:Ie.access_token)&&void 0!==He?He:void 0})});return function(W){return L.apply(this,arguments)}}());if(O)throw O;return U()&&!(null!==(b=m.options)&&void 0!==b&&b.skipBrowserRedirect)&&window.location.assign(C?.url),p._returnResult({data:{provider:m.provider,url:C?.url},error:null})}catch(C){if(B(C))return p._returnResult({data:{provider:m.provider,url:null},error:C});throw C}})()}linkIdentityIdToken(m){var p=this;return(0,k.A)(function*(){return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O;try{const{error:L,data:{session:W}}=C;if(L)throw L;const{options:X,provider:oe,token:be,access_token:Ie,nonce:He}=m,Oe=yield St(p.fetch,"POST",`${p.url}/token?grant_type=id_token`,{headers:p.headers,jwt:null!==(O=W?.access_token)&&void 0!==O?O:void 0,body:{provider:oe,id_token:be,access_token:Ie,nonce:He,link_identity:!0,gotrue_meta_security:{captcha_token:X?.captchaToken}},xform:mr}),{data:Je,error:Ze}=Oe;return Ze?p._returnResult({data:{user:null,session:null},error:Ze}):Je&&Je.session&&Je.user?(Je.session&&(yield p._saveSession(Je.session),yield p._notifyAllSubscribers("USER_UPDATED",Je.session)),p._returnResult({data:Je,error:Ze})):p._returnResult({data:{user:null,session:null},error:new Ht})}catch(L){if(B(L))return p._returnResult({data:{user:null,session:null},error:L});throw L}});return function(C){return b.apply(this,arguments)}}())})()}unlinkIdentity(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O,L;const{data:W,error:X}=C;if(X)throw X;return yield St(p.fetch,"DELETE",`${p.url}/user/identities/${m.identity_id}`,{headers:p.headers,jwt:null!==(L=null===(O=W.session)||void 0===O?void 0:O.access_token)&&void 0!==L?L:void 0})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_refreshAccessToken(m){var p=this;return(0,k.A)(function*(){const b=`#_refreshAccessToken(${m.substring(0,5)}...)`;p._debug(b,"begin");try{const C=Date.now();return yield function yn(E,f){return new Promise((p,b)=>{(0,k.A)(function*(){for(let C=0;C<1/0;C++)try{const O=yield E(C);if(!f(C,null,O))return void p(O)}catch(O){if(!f(C,O))return void b(O)}})()})}(function(){var O=(0,k.A)(function*(L){return L>0&&(yield function ft(E){return fn.apply(this,arguments)}(200*Math.pow(2,L-1))),p._debug(b,"refreshing attempt",L),yield St(p.fetch,"POST",`${p.url}/token?grant_type=refresh_token`,{body:{refresh_token:m},headers:p.headers,xform:mr})});return function(L){return O.apply(this,arguments)}}(),(O,L)=>{const W=200*Math.pow(2,O);return L&&zr(L)&&Date.now()+W-C<qn})}catch(C){if(p._debug(b,"error",C),B(C))return p._returnResult({data:{session:null,user:null},error:C});throw C}finally{p._debug(b,"end")}})()}_isValidSession(m){return"object"==typeof m&&null!==m&&"access_token"in m&&"refresh_token"in m&&"expires_at"in m}_handleProviderSignIn(m,p){var b=this;return(0,k.A)(function*(){const C=yield b._getUrlForProvider(`${b.url}/authorize`,m,{redirectTo:p.redirectTo,scopes:p.scopes,queryParams:p.queryParams});return b._debug("#_handleProviderSignIn()","provider",m,"options",p,"url",C),U()&&!p.skipBrowserRedirect&&window.location.assign(C),{data:{provider:m,url:C},error:null}})()}_recoverAndRefresh(){var m=this;return(0,k.A)(function*(){var p,b;const C="#_recoverAndRefresh()";m._debug(C,"begin");try{const O=yield qe(m.storage,m.storageKey);if(O&&m.userStorage){let W=yield qe(m.userStorage,m.storageKey+"-user");!m.storage.isServer&&Object.is(m.storage,m.userStorage)&&!W&&(W={user:O.user},yield Be(m.userStorage,m.storageKey+"-user",W)),O.user=null!==(p=W?.user)&&void 0!==p?p:Dr()}else if(O&&!O.user&&!O.user){const W=yield qe(m.storage,m.storageKey+"-user");W&&W?.user?(O.user=W.user,yield lt(m.storage,m.storageKey+"-user"),yield Be(m.storage,m.storageKey,O)):O.user=Dr()}if(m._debug(C,"session from storage",O),!m._isValidSession(O))return m._debug(C,"session is not valid"),void(null!==O&&(yield m._removeSession()));const L=1e3*(null!==(b=O.expires_at)&&void 0!==b?b:1/0)-Date.now()<9e4;if(m._debug(C,`session has${L?"":" not"} expired with margin of 90000s`),L){if(m.autoRefreshToken&&O.refresh_token){const{error:W}=yield m._callRefreshToken(O.refresh_token);W&&(console.error(W),zr(W)||(m._debug(C,"refresh failed with a non-retryable error, removing the session",W),yield m._removeSession()))}}else if(O.user&&!0===O.user.__isUserNotAvailableProxy)try{const{data:W,error:X}=yield m._getUser(O.access_token);!X&&W?.user?(O.user=W.user,yield m._saveSession(O),yield m._notifyAllSubscribers("SIGNED_IN",O)):m._debug(C,"could not get user data, skipping SIGNED_IN notification")}catch(W){console.error("Error getting user data:",W),m._debug(C,"error getting user data, skipping SIGNED_IN notification",W)}else yield m._notifyAllSubscribers("SIGNED_IN",O)}catch(O){return m._debug(C,"error",O),void console.error(O)}finally{m._debug(C,"end")}})()}_callRefreshToken(m){var p=this;return(0,k.A)(function*(){var b,C;if(!m)throw new Ut;if(p.refreshingDeferred)return p.refreshingDeferred.promise;const O=`#_callRefreshToken(${m.substring(0,5)}...)`;p._debug(O,"begin");try{p.refreshingDeferred=new Dt;const{data:L,error:W}=yield p._refreshAccessToken(m);if(W)throw W;if(!L.session)throw new Ut;yield p._saveSession(L.session),yield p._notifyAllSubscribers("TOKEN_REFRESHED",L.session);const X={data:L.session,error:null};return p.refreshingDeferred.resolve(X),X}catch(L){if(p._debug(O,"error",L),B(L)){const W={data:null,error:L};return zr(L)||(yield p._removeSession()),null===(b=p.refreshingDeferred)||void 0===b||b.resolve(W),W}throw null===(C=p.refreshingDeferred)||void 0===C||C.reject(L),L}finally{p.refreshingDeferred=null,p._debug(O,"end")}})()}_notifyAllSubscribers(m,p){var b=this;return(0,k.A)(function*(C,O,L=!0){const W=`#_notifyAllSubscribers(${C})`;b._debug(W,"begin",O,`broadcast = ${L}`);try{b.broadcastChannel&&L&&b.broadcastChannel.postMessage({event:C,session:O});const X=[],oe=Array.from(b.stateChangeEmitters.values()).map(function(){var be=(0,k.A)(function*(Ie){try{yield Ie.callback(C,O)}catch(He){X.push(He)}});return function(Ie){return be.apply(this,arguments)}}());if(yield Promise.all(oe),X.length>0){for(let be=0;be<X.length;be+=1)console.error(X[be]);throw X[0]}}finally{b._debug(W,"end")}}).apply(this,arguments)}_saveSession(m){var p=this;return(0,k.A)(function*(){p._debug("#_saveSession()",m),p.suppressGetSessionWarning=!0;const b=Object.assign({},m);if(p.userStorage){(!b.user||!0!==b.user.__isUserNotAvailableProxy)&&b.user&&(yield Be(p.userStorage,p.storageKey+"-user",{user:b.user}));const O=Object.assign({},b);delete O.user;const L=bi(O);yield Be(p.storage,p.storageKey,L)}else{const O=bi(b);yield Be(p.storage,p.storageKey,O)}})()}_removeSession(){var m=this;return(0,k.A)(function*(){m._debug("#_removeSession()"),yield lt(m.storage,m.storageKey),yield lt(m.storage,m.storageKey+"-code-verifier"),yield lt(m.storage,m.storageKey+"-user"),m.userStorage&&(yield lt(m.userStorage,m.storageKey+"-user")),yield m._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const m=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{m&&U()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",m)}catch(p){console.error("removing visibilitychange callback failed",p)}}_startAutoRefresh(){var m=this;return(0,k.A)(function*(){yield m._stopAutoRefresh(),m._debug("#_startAutoRefresh()");const p=setInterval(()=>m._autoRefreshTokenTick(),qn);m.autoRefreshTicker=p,p&&"object"==typeof p&&"function"==typeof p.unref?p.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(p),setTimeout((0,k.A)(function*(){yield m.initializePromise,yield m._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var m=this;return(0,k.A)(function*(){m._debug("#_stopAutoRefresh()");const p=m.autoRefreshTicker;m.autoRefreshTicker=null,p&&clearInterval(p)})()}startAutoRefresh(){var m=this;return(0,k.A)(function*(){m._removeVisibilityChangedCallback(),yield m._startAutoRefresh()})()}stopAutoRefresh(){var m=this;return(0,k.A)(function*(){m._removeVisibilityChangedCallback(),yield m._stopAutoRefresh()})()}_autoRefreshTokenTick(){var m=this;return(0,k.A)(function*(){m._debug("#_autoRefreshTokenTick()","begin");try{yield m._acquireLock(0,(0,k.A)(function*(){try{const p=Date.now();try{return yield m._useSession(function(){var b=(0,k.A)(function*(C){const{data:{session:O}}=C;if(!O||!O.refresh_token||!O.expires_at)return void m._debug("#_autoRefreshTokenTick()","no session");const L=Math.floor((1e3*O.expires_at-p)/qn);m._debug("#_autoRefreshTokenTick()",`access token expires in ${L} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),L<=3&&(yield m._callRefreshToken(O.refresh_token))});return function(C){return b.apply(this,arguments)}}())}catch(b){console.error("Auto refresh tick failed with error. This is likely a transient error.",b)}}finally{m._debug("#_autoRefreshTokenTick()","end")}}))}catch(p){if(!(p.isAcquireTimeout||p instanceof Cs))throw p;m._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var m=this;return(0,k.A)(function*(){if(m._debug("#_handleVisibilityChange()"),!U()||!window?.addEventListener)return m.autoRefreshToken&&m.startAutoRefresh(),!1;try{m.visibilityChangedCallback=(0,k.A)(function*(){return yield m._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",m.visibilityChangedCallback),yield m._onVisibilityChanged(!0)}catch(p){console.error("_handleVisibilityChange",p)}})()}_onVisibilityChanged(m){var p=this;return(0,k.A)(function*(){const b=`#_onVisibilityChanged(${m})`;p._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(p.autoRefreshToken&&p._startAutoRefresh(),m||(yield p.initializePromise,yield p._acquireLock(-1,(0,k.A)(function*(){"visible"===document.visibilityState?yield p._recoverAndRefresh():p._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&p.autoRefreshToken&&p._stopAutoRefresh()})()}_getUrlForProvider(m,p,b){var C=this;return(0,k.A)(function*(){const O=[`provider=${encodeURIComponent(p)}`];if(b?.redirectTo&&O.push(`redirect_to=${encodeURIComponent(b.redirectTo)}`),b?.scopes&&O.push(`scopes=${encodeURIComponent(b.scopes)}`),"pkce"===C.flowType){const[L,W]=yield Lr(C.storage,C.storageKey),X=new URLSearchParams({code_challenge:`${encodeURIComponent(L)}`,code_challenge_method:`${encodeURIComponent(W)}`});O.push(X.toString())}if(b?.queryParams){const L=new URLSearchParams(b.queryParams);O.push(L.toString())}return b?.skipBrowserRedirect&&O.push(`skip_http_redirect=${b.skipBrowserRedirect}`),`${m}?${O.join("&")}`})()}_unenroll(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O;const{data:L,error:W}=C;return W?p._returnResult({data:null,error:W}):yield St(p.fetch,"DELETE",`${p.url}/factors/${m.factorId}`,{headers:p.headers,jwt:null===(O=L?.session)||void 0===O?void 0:O.access_token})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_enroll(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O,L;const{data:W,error:X}=C;if(X)return p._returnResult({data:null,error:X});const oe=Object.assign({friendly_name:m.friendlyName,factor_type:m.factorType},"phone"===m.factorType?{phone:m.phone}:"totp"===m.factorType?{issuer:m.issuer}:{}),{data:be,error:Ie}=yield St(p.fetch,"POST",`${p.url}/factors`,{body:oe,headers:p.headers,jwt:null===(O=W?.session)||void 0===O?void 0:O.access_token});return Ie?p._returnResult({data:null,error:Ie}):("totp"===m.factorType&&"totp"===be.type&&!(null===(L=be?.totp)||void 0===L)&&L.qr_code&&(be.totp.qr_code=`data:image/svg+xml;utf-8,${be.totp.qr_code}`),p._returnResult({data:be,error:null}))});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_verify(m){var p=this;return(0,k.A)(function*(){return p._acquireLock(-1,(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O;const{data:L,error:W}=C;if(W)return p._returnResult({data:null,error:W});const X=Object.assign({challenge_id:m.challengeId},"webauthn"in m?{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_response:"create"===m.webauthn.type?ko(m.webauthn.credential_response):Ka(m.webauthn.credential_response)})}:{code:m.code}),{data:oe,error:be}=yield St(p.fetch,"POST",`${p.url}/factors/${m.factorId}/verify`,{body:X,headers:p.headers,jwt:null===(O=L?.session)||void 0===O?void 0:O.access_token});return be?p._returnResult({data:null,error:be}):(yield p._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+oe.expires_in},oe)),yield p._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",oe),p._returnResult({data:oe,error:be}))});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}}))})()}_challenge(m){var p=this;return(0,k.A)(function*(){return p._acquireLock(-1,(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){var O;const{data:L,error:W}=C;if(W)return p._returnResult({data:null,error:W});const X=yield St(p.fetch,"POST",`${p.url}/factors/${m.factorId}/challenge`,{body:m,headers:p.headers,jwt:null===(O=L?.session)||void 0===O?void 0:O.access_token});if(X.error)return X;const{data:oe}=X;if("webauthn"!==oe.type)return{data:oe,error:null};switch(oe.webauthn.type){case"create":return{data:Object.assign(Object.assign({},oe),{webauthn:Object.assign(Object.assign({},oe.webauthn),{credential_options:Object.assign(Object.assign({},oe.webauthn.credential_options),{publicKey:Zs(oe.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},oe),{webauthn:Object.assign(Object.assign({},oe.webauthn),{credential_options:Object.assign(Object.assign({},oe.webauthn.credential_options),{publicKey:zi(oe.webauthn.credential_options.publicKey)})})}),error:null}}});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}}))})()}_challengeAndVerify(m){var p=this;return(0,k.A)(function*(){const{data:b,error:C}=yield p._challenge({factorId:m.factorId});return C?p._returnResult({data:null,error:C}):yield p._verify({factorId:m.factorId,challengeId:b.id,code:m.code})})()}_listFactors(){var m=this;return(0,k.A)(function*(){var p;const{data:{user:b},error:C}=yield m.getUser();if(C)return{data:null,error:C};const O={all:[],phone:[],totp:[],webauthn:[]};for(const L of null!==(p=b?.factors)&&void 0!==p?p:[])O.all.push(L),"verified"===L.status&&O[L.factor_type].push(L);return{data:O,error:null}})()}_getAuthenticatorAssuranceLevel(){var m=this;return(0,k.A)(function*(){var p,b;const{data:{session:C},error:O}=yield m.getSession();if(O)return m._returnResult({data:null,error:O});if(!C)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:L}=Bt(C.access_token);let W=null;L.aal&&(W=L.aal);let X=W;return(null!==(b=null===(p=C.user.factors)||void 0===p?void 0:p.filter(Ie=>"verified"===Ie.status))&&void 0!==b?b:[]).length>0&&(X="aal2"),{data:{currentLevel:W,nextLevel:X,currentAuthenticationMethods:L.amr||[]},error:null}})()}_getAuthorizationDetails(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){const{data:{session:O},error:L}=C;return L?p._returnResult({data:null,error:L}):O?yield St(p.fetch,"GET",`${p.url}/oauth/authorizations/${m}`,{headers:p.headers,jwt:O.access_token,xform:W=>({data:W,error:null})}):p._returnResult({data:null,error:new Ut})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}_approveAuthorization(m,p){var b=this;return(0,k.A)(function*(){try{return yield b._useSession(function(){var C=(0,k.A)(function*(O){const{data:{session:L},error:W}=O;if(W)return b._returnResult({data:null,error:W});if(!L)return b._returnResult({data:null,error:new Ut});const X=yield St(b.fetch,"POST",`${b.url}/oauth/authorizations/${m}/consent`,{headers:b.headers,jwt:L.access_token,body:{action:"approve"},xform:oe=>({data:oe,error:null})});return X.data&&X.data.redirect_url&&U()&&!p?.skipBrowserRedirect&&window.location.assign(X.data.redirect_url),X});return function(O){return C.apply(this,arguments)}}())}catch(C){if(B(C))return b._returnResult({data:null,error:C});throw C}})()}_denyAuthorization(m,p){var b=this;return(0,k.A)(function*(){try{return yield b._useSession(function(){var C=(0,k.A)(function*(O){const{data:{session:L},error:W}=O;if(W)return b._returnResult({data:null,error:W});if(!L)return b._returnResult({data:null,error:new Ut});const X=yield St(b.fetch,"POST",`${b.url}/oauth/authorizations/${m}/consent`,{headers:b.headers,jwt:L.access_token,body:{action:"deny"},xform:oe=>({data:oe,error:null})});return X.data&&X.data.redirect_url&&U()&&!p?.skipBrowserRedirect&&window.location.assign(X.data.redirect_url),X});return function(O){return C.apply(this,arguments)}}())}catch(C){if(B(C))return b._returnResult({data:null,error:C});throw C}})()}_listOAuthGrants(){var m=this;return(0,k.A)(function*(){try{return yield m._useSession(function(){var p=(0,k.A)(function*(b){const{data:{session:C},error:O}=b;return O?m._returnResult({data:null,error:O}):C?yield St(m.fetch,"GET",`${m.url}/user/oauth/grants`,{headers:m.headers,jwt:C.access_token,xform:L=>({data:L,error:null})}):m._returnResult({data:null,error:new Ut})});return function(b){return p.apply(this,arguments)}}())}catch(p){if(B(p))return m._returnResult({data:null,error:p});throw p}})()}_revokeOAuthGrant(m){var p=this;return(0,k.A)(function*(){try{return yield p._useSession(function(){var b=(0,k.A)(function*(C){const{data:{session:O},error:L}=C;return L?p._returnResult({data:null,error:L}):O?yield St(p.fetch,"DELETE",`${p.url}/user/oauth/grants`,{headers:p.headers,jwt:O.access_token,query:{client_id:m.clientId},xform:()=>({data:{},error:null})}):p._returnResult({data:null,error:new Ut})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(B(b))return p._returnResult({data:null,error:b});throw b}})()}fetchJwk(m){var p=this;return(0,k.A)(function*(b,C={keys:[]}){let O=C.keys.find(oe=>oe.kid===b);if(O)return O;const L=Date.now();if(O=p.jwks.keys.find(oe=>oe.kid===b),O&&p.jwks_cached_at+6e5>L)return O;const{data:W,error:X}=yield St(p.fetch,"GET",`${p.url}/.well-known/jwks.json`,{headers:p.headers});if(X)throw X;return W.keys&&0!==W.keys.length&&(p.jwks=W,p.jwks_cached_at=L,O=W.keys.find(oe=>oe.kid===b),O)?O:null}).apply(this,arguments)}getClaims(m){var p=this;return(0,k.A)(function*(b,C={}){try{let O=b;if(!O){const{data:Ze,error:gt}=yield p.getSession();if(gt||!Ze.session)return p._returnResult({data:null,error:gt});O=Ze.session.access_token}const{header:L,payload:W,signature:X,raw:{header:oe,payload:be}}=Bt(O);C?.allowExpired||function Fr(E){if(!E)throw new Error("Missing exp claim");if(E<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(W.exp);const Ie=L.alg&&!L.alg.startsWith("HS")&&L.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield p.fetchJwk(L.kid,C?.keys?{keys:C.keys}:C?.jwks):null;if(!Ie){const{error:Ze}=yield p.getUser(O);if(Ze)throw Ze;return{data:{claims:W,header:L,signature:X},error:null}}const He=function Ha(E){switch(E){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(L.alg),Oe=yield crypto.subtle.importKey("jwk",Ie,He,!0,["verify"]);if(!(yield crypto.subtle.verify(He,Oe,X,function _i(E){const f=[];return function io(E,f){for(let m=0;m<E.length;m+=1){let p=E.charCodeAt(m);if(p>55295&&p<=56319){const b=1024*(p-55296)&65535;p=65536+(E.charCodeAt(m+1)-56320&65535|b),m+=1}wr(p,f)}}(E,m=>f.push(m)),new Uint8Array(f)}(`${oe}.${be}`))))throw new oo("Invalid JWT signature");return{data:{claims:W,header:L,signature:X},error:null}}catch(O){if(B(O))return p._returnResult({data:null,error:O});throw O}}).apply(this,arguments)}}return E.nextInstanceID={},E})();class Fa extends di{constructor(f){super(f)}}(function ru(){if(typeof window<"u"||typeof process>"u")return!1;const E=process.version;if(null==E)return!1;const f=E.match(/^v(\d+)\./);return!!f&&parseInt(f[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Qa=H(3757),Ci=H(2615);const Ai=globalThis,ba=Ai.__supabaseClient??new class nu{constructor(f,m,p){var b,C,O;this.supabaseUrl=f,this.supabaseKey=m;const L=function Po(E){const f=E?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function xa(E){return E.endsWith("/")?E:E+"/"}(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(f);if(!m)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",L),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",L),this.storageUrl=new URL("storage/v1",L),this.functionsUrl=new URL("functions/v1",L);const W=`sb-${L.hostname.split(".")[0]}-auth-token`,oe=function Hr(E,f){var m,p;const{db:b,auth:C,realtime:O,global:L}=E,{db:W,auth:X,realtime:oe,global:be}=f,Ie={db:Object.assign(Object.assign({},W),b),auth:Object.assign(Object.assign({},X),C),realtime:Object.assign(Object.assign({},oe),O),storage:{},global:Object.assign(Object.assign(Object.assign({},be),L),{headers:Object.assign(Object.assign({},null!==(m=be?.headers)&&void 0!==m?m:{}),null!==(p=L?.headers)&&void 0!==p?p:{})}),accessToken:(He=(0,k.A)(function*(){return""}),function(){return He.apply(this,arguments)})};var He;return E.accessToken?Ie.accessToken=E.accessToken:delete Ie.accessToken,Ie}(p??{},{db:Qo,realtime:nr,auth:Object.assign(Object.assign({},_r),{storageKey:W}),global:qo});this.storageKey=null!==(b=oe.auth.storageKey)&&void 0!==b?b:"",this.headers=null!==(C=oe.global.headers)&&void 0!==C?C:{},oe.accessToken?(this.accessToken=oe.accessToken,this.auth=new Proxy({},{get:(be,Ie)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Ie)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(O=oe.auth)&&void 0!==O?O:{},this.headers,oe.global.fetch),this.fetch=Yo(m,this._getAccessToken.bind(this),oe.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},oe.realtime)),this.accessToken&&this.accessToken().then(be=>this.realtime.setAuth(be)).catch(be=>console.warn("Failed to set initial Realtime auth token:",be)),this.rest=new he(new URL("rest/v1",L).href,{headers:this.headers,schema:oe.db.schema,fetch:this.fetch}),this.storage=new wo(this.storageUrl.href,this.headers,this.fetch,p?.storage),oe.accessToken||this._listenForAuthEvents()}get functions(){return new we(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(f){return this.rest.from(f)}schema(f){return this.rest.schema(f)}rpc(f,m={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(f,m,p)}channel(f,m={config:{}}){return this.realtime.channel(f,m)}getChannels(){return this.realtime.getChannels()}removeChannel(f){return this.realtime.removeChannel(f)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var f=this;return(0,k.A)(function*(){var m,p;if(f.accessToken)return yield f.accessToken();const{data:b}=yield f.auth.getSession();return null!==(p=null===(m=b.session)||void 0===m?void 0:m.access_token)&&void 0!==p?p:f.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:f,persistSession:m,detectSessionInUrl:p,storage:b,userStorage:C,storageKey:O,flowType:L,lock:W,debug:X,throwOnError:oe},be,Ie){return new Fa({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),be),storageKey:O,autoRefreshToken:f,persistSession:m,detectSessionInUrl:p,storage:b,userStorage:C,flowType:L,lock:W,debug:X,throwOnError:oe,fetch:Ie,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Oe=>"authorization"===Oe.toLowerCase())})}_initRealtimeClient(f){return new Ao(this.realtimeUrl.href,Object.assign(Object.assign({},f),{params:Object.assign({apikey:this.supabaseKey},f?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((m,p)=>{this._handleTokenChanged(m,"CLIENT",p?.access_token)})}_handleTokenChanged(f,m,p){"TOKEN_REFRESHED"!==f&&"SIGNED_IN"!==f||this.changedAccessToken===p?"SIGNED_OUT"===f&&(this.realtime.setAuth(),"STORAGE"==m&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=p,this.realtime.setAuth(p))}}("https://ymlekirbwjanuxrclsgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InltbGVraXJid2phbnV4cmNsc2dmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwNjk4OTUsImV4cCI6MjA3MTY0NTg5NX0._a0-aMgphg5_bFCzy7oHhPRkP9Q54dRWGrZN4rzVnHM",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});Ai.__supabaseClient=ba;let Ti=(()=>{class E{getCharacter(){return(0,k.A)(function*(){const{data:m,error:p}=yield ba.from("character").select("id,name,type,level").order("id",{ascending:!0});if(p)throw p;return m??[]})()}getUnlockedItems(){return(0,k.A)(function*(){let m=ba.from("craftable_item").select("id").eq("unlocked",!0).order("id",{ascending:!0});const{data:p,error:b}=yield m;if(b)throw b;return p??[]})()}getUnlockedPotions(){return(0,k.A)(function*(){let m=ba.from("craftable_item").select("id").eq("unlocked",!0).eq("type",Qa.o.Small).eq("sub_type","potion").order("id",{ascending:!0});const{data:p,error:b}=yield m;if(b)throw b;return p??[]})()}static \u0275fac=function(p){return new(p||E)};static \u0275prov=Ci.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},4761:(st,ke,H)=>{"use strict";H.d(ke,{l:()=>i});const i=function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(st,ke,H)=>{"use strict";H.d(ke,{l:()=>G});var k=H(3494),i=H(8071);function G(R){return(0,i.T)(R[k.s])}},5196:(st,ke,H)=>{"use strict";H.d(ke,{C:()=>G,U:()=>R});var k=H(1635),i=H(8071);function G(me){return(0,k.__asyncGenerator)(this,arguments,function*(){const q=me.getReader();try{for(;;){const{value:se,done:we}=yield(0,k.__await)(q.read());if(we)return yield(0,k.__await)(void 0);yield yield(0,k.__await)(se)}}finally{q.releaseLock()}})}function R(me){return(0,i.T)(me?.getReader)}},5225:(st,ke,H)=>{"use strict";function k(i,G,R,me=0,Z=!1){const q=G.schedule(function(){R(),Z?i.add(this.schedule(null,me)):this.unsubscribe()},me);if(i.add(q),!Z)return q}H.d(ke,{N:()=>k})},5231:(st,ke,H)=>{"use strict";H.d(ke,{Z:()=>R});var k=H(2615),i=H(130);let G=(()=>{class me{parseInt(q){return parseInt(void 0!==q?String(q):"0")||0}static \u0275fac=function(se){return new(se||me)};static \u0275prov=k.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),R=(()=>{class me{dataLoader;stringUtils;creatureIdCounter=0;dataFile;constructor(q,se){this.dataLoader=q,this.stringUtils=se,this.dataFile=this.dataLoader.getData()}generateCreatureId(){return Date.now()+""+ ++this.creatureIdCounter}createCreature(q){const se=this.findMonsterStats(q),we={id:this.generateCreatureId(),name:q.aggressive?this.createCreatureName(q):q.name,type:q.type,standee:q.standee??"#",level:q.level??1,hp:Math.max(this.stringUtils.parseInt(se?.baseStat?.health??0),this.stringUtils.parseInt(se?.stats[0]?.health??0),this.stringUtils.parseInt(q.hp??0)),attack:Math.max(this.stringUtils.parseInt(se?.baseStat?.attack??0),this.stringUtils.parseInt(se?.stats[0]?.attack??0)),attackTarget:this.getTargetStat(se),movement:Math.max(this.stringUtils.parseInt(se?.baseStat?.movement??0),this.stringUtils.parseInt(se?.stats[0]?.movement??0)),initiative:q.initiative??0,armor:this.stringUtils.parseInt(se?.stats?.[0]?.actions?.find(de=>"shield"===de.type)?.value??se?.stats?.[0]?.baseStat?.actions?.find(de=>"shield"===de.type)?.value??0),retaliate:this.getRetaliateStat(se,"value"),retaliateRange:this.getRetaliateStat(se,"range"),aggressive:q.aggressive,boss:se?.boss??!1,flying:se?.flying??!1,isElite:q.isElite??!1,conditions:q.conditions??[],immunities:(se?.stats?.[0]?.immunities??se?.baseStat?.immunities??[]).map(de=>de),roundArmor:q.roundArmor??0,roundRetaliate:q.roundRetaliate??0,sessionExperience:q.sessionExperience??0,actions:se?.actions?.filter(de=>"condition"===de.type)??se?.baseStat?.actions?.filter(de=>"condition"===de.type)??se?.stats?.flatMap(de=>de.actions??[]).filter(de=>"condition"===de.type)??[],log:q.log??[],traits:q.traits??[]};return we.maxHp=0===we.hp?999:we.hp,we}createCreatureName(q){let se=`${q.type} ${q.standee??""}`;return q.isElite?`\u2605 ${se}`:se}getRetaliateStat(q,se){const we=q?.stats?.[0]?.actions?.find(de=>"retaliate"===de.type)??q?.baseStat?.actions?.find(de=>"retaliate"===de.type);return we?"value"===se?this.stringUtils.parseInt(we.value??0):"range"===se?this.stringUtils.parseInt(we.range??we.subActions?.find(de=>"range"===de.type)?.value??0):0:0}getTargetStat(q){const se=q?.stats?.[0]?.actions?.find(we=>"target"===we.type)??q?.baseStat?.actions?.find(we=>"target"===we.type);return se?this.stringUtils.parseInt(se.value??1):1}createCreatureList(q){const se=[];return q.forEach(we=>{se.push(this.createCreature(we))}),se}findMonsterStats(q){const se=this.dataFile.monsters.find(ne=>ne.name===q.name||ne.name===q.type);if(!se)return;const we=this.isCreatureElite(q),de=se.stats.find(ne=>(we?"elite"===ne.type:"normal"===ne.type||!ne.type)&&ne.level===q.level);return de?{...se,stats:[de]}:void 0}isCreatureElite(q){return"elite"===q.type||"elite"===q.player4||!0===q.isElite}static \u0275fac=function(se){return new(se||me)(k.KVO(i.X),k.KVO(G))};static \u0275prov=k.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},5334:(st,ke,H)=>{"use strict";H.d(ke,{m:()=>G});var k=H(1026),i=H(9270);function G(R){i.f.setTimeout(()=>{const{onUnhandledError:me}=k.$;if(!me)throw R;me(R)})}},5343:(st,ke,H)=>{"use strict";function k(){}H.d(ke,{l:()=>k})},5397:(st,ke,H)=>{"use strict";H.d(ke,{x:()=>G});var k=H(4761),i=H(8071);function G(R){return(0,i.T)(R?.[k.l])}},5958:(st,ke,H)=>{"use strict";var k=H(9293).default;Object.defineProperty(ke,"__esModule",{value:!0});const G=H(1635).__importDefault(H(4659));ke.default=class R{constructor(Z){var q,se;this.shouldThrowOnError=!1,this.method=Z.method,this.url=Z.url,this.headers=new Headers(Z.headers),this.schema=Z.schema,this.body=Z.body,this.shouldThrowOnError=null!==(q=Z.shouldThrowOnError)&&void 0!==q&&q,this.signal=Z.signal,this.isMaybeSingle=null!==(se=Z.isMaybeSingle)&&void 0!==se&&se,this.fetch=Z.fetch?Z.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Z,q){return this.headers=new Headers(this.headers),this.headers.set(Z,q),this}then(Z,q){var se=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let de=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ne=k(function*(he){var ye,fe,Me,Ye;let Re=null,Ke=null,rt=null,pt=he.status,pe=he.statusText;if(he.ok){if("HEAD"!==se.method){const $e=yield he.text();""===$e||(Ke="text/csv"===se.headers.get("Accept")||se.headers.get("Accept")&&null!==(ye=se.headers.get("Accept"))&&void 0!==ye&&ye.includes("application/vnd.pgrst.plan+text")?$e:JSON.parse($e))}const Ee=null===(fe=se.headers.get("Prefer"))||void 0===fe?void 0:fe.match(/count=(exact|planned|estimated)/),Ge=null===(Me=he.headers.get("content-range"))||void 0===Me?void 0:Me.split("/");Ee&&Ge&&Ge.length>1&&(rt=parseInt(Ge[1])),se.isMaybeSingle&&"GET"===se.method&&Array.isArray(Ke)&&(Ke.length>1?(Re={code:"PGRST116",details:`Results contain ${Ke.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Ke=null,rt=null,pt=406,pe="Not Acceptable"):Ke=1===Ke.length?Ke[0]:null)}else{const Ee=yield he.text();try{Re=JSON.parse(Ee),Array.isArray(Re)&&404===he.status&&(Ke=[],Re=null,pt=200,pe="OK")}catch{404===he.status&&""===Ee?(pt=204,pe="No Content"):Re={message:Ee}}if(Re&&se.isMaybeSingle&&!(null===(Ye=Re?.details)||void 0===Ye)&&Ye.includes("0 rows")&&(Re=null,pt=200,pe="OK"),Re&&se.shouldThrowOnError)throw new G.default(Re)}return{error:Re,data:Ke,count:rt,status:pt,statusText:pe}});return function(he){return ne.apply(this,arguments)}}());return this.shouldThrowOnError||(de=de.catch(ne=>{var he,ye,fe,Me,Ye,Re;let Ke="";const rt=ne?.cause;if(rt){const pt=null!==(he=rt?.message)&&void 0!==he?he:"",pe=null!==(ye=rt?.code)&&void 0!==ye?ye:"";Ke=`${null!==(fe=ne?.name)&&void 0!==fe?fe:"FetchError"}: ${ne?.message}`,Ke+=`\n\nCaused by: ${null!==(Me=rt?.name)&&void 0!==Me?Me:"Error"}: ${pt}`,pe&&(Ke+=` (${pe})`),rt?.stack&&(Ke+=`\n${rt.stack}`)}else Ke=null!==(Ye=ne?.stack)&&void 0!==Ye?Ye:"";return{error:{message:`${null!==(Re=ne?.name)&&void 0!==Re?Re:"FetchError"}: ${ne?.message}`,details:Ke,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),de.then(Z,q)}returns(){return this}overrideTypes(){return this}}},5964:(st,ke,H)=>{"use strict";H.d(ke,{p:()=>G});var k=H(9974),i=H(4360);function G(R,me){return(0,k.N)((Z,q)=>{let se=0;Z.subscribe((0,i._)(q,we=>R.call(me,we,se++)&&q.next(we)))})}},6354:(st,ke,H)=>{"use strict";H.d(ke,{T:()=>G});var k=H(9974),i=H(4360);function G(R,me){return(0,k.N)((Z,q)=>{let se=0;Z.subscribe((0,i._)(q,we=>{q.next(R.call(me,we,se++))}))})}},6365:(st,ke,H)=>{"use strict";H.d(ke,{U:()=>G});var k=H(1397),i=H(3669);function G(R=1/0){return(0,k.Z)(i.D,R)}},6450:(st,ke,H)=>{"use strict";H.d(ke,{I:()=>R});var k=H(6354);const{isArray:i}=Array;function R(me){return(0,k.T)(Z=>function G(me,Z){return i(Z)?me(...Z):me(Z)}(me,Z))}},6648:(st,ke,H)=>{"use strict";H.d(ke,{H:()=>Ge});var k=H(8750),i=H(5225),G=H(9974),R=H(4360);function me($e,nt=0){return(0,G.N)((Rt,Et)=>{Rt.subscribe((0,R._)(Et,tn=>(0,i.N)(Et,$e,()=>Et.next(tn),nt),()=>(0,i.N)(Et,$e,()=>Et.complete(),nt),tn=>(0,i.N)(Et,$e,()=>Et.error(tn),nt)))})}function Z($e,nt=0){return(0,G.N)((Rt,Et)=>{Et.add($e.schedule(()=>Rt.subscribe(Et),nt))})}var we=H(1985),ne=H(4761),he=H(8071);function fe($e,nt){if(!$e)throw new Error("Iterable cannot be null");return new we.c(Rt=>{(0,i.N)(Rt,nt,()=>{const Et=$e[Symbol.asyncIterator]();(0,i.N)(Rt,nt,()=>{Et.next().then(tn=>{tn.done?Rt.complete():Rt.next(tn.value)})},0,!0)})})}var Me=H(5055),Ye=H(9858),Re=H(7441),Ke=H(5397),rt=H(7953),pt=H(591),pe=H(5196);function Ge($e,nt){return nt?function Ee($e,nt){if(null!=$e){if((0,Me.l)($e))return function q($e,nt){return(0,k.Tg)($e).pipe(Z(nt),me(nt))}($e,nt);if((0,Re.X)($e))return function de($e,nt){return new we.c(Rt=>{let Et=0;return nt.schedule(function(){Et===$e.length?Rt.complete():(Rt.next($e[Et++]),Rt.closed||this.schedule())})})}($e,nt);if((0,Ye.y)($e))return function se($e,nt){return(0,k.Tg)($e).pipe(Z(nt),me(nt))}($e,nt);if((0,rt.T)($e))return fe($e,nt);if((0,Ke.x)($e))return function ye($e,nt){return new we.c(Rt=>{let Et;return(0,i.N)(Rt,nt,()=>{Et=$e[ne.l](),(0,i.N)(Rt,nt,()=>{let tn,zt;try{({value:tn,done:zt}=Et.next())}catch(Gt){return void Rt.error(Gt)}zt?Rt.complete():Rt.next(tn)},0,!0)}),()=>(0,he.T)(Et?.return)&&Et.return()})}($e,nt);if((0,pe.U)($e))return function Pe($e,nt){return fe((0,pe.C)($e),nt)}($e,nt)}throw(0,pt.L)($e)}($e,nt):(0,k.Tg)($e)}},6977:(st,ke,H)=>{"use strict";H.d(ke,{Q:()=>me});var k=H(9974),i=H(4360),G=H(8750),R=H(5343);function me(Z){return(0,k.N)((q,se)=>{(0,G.Tg)(Z).subscribe((0,i._)(se,()=>se.complete(),R.l)),!se.closed&&q.subscribe(se)})}},7303:(st,ke,H)=>{"use strict";H.d(ke,{Q:()=>he,Vw:()=>q,aZ:()=>Ye,hb:()=>ye,ig:()=>me,kB:()=>fe,om:()=>de,qj:()=>Z,rb:()=>R});var k=H(2615),i=H(1413);let G=null;function R(){return G}function me(pe){G??=pe}class Z{}let q=(()=>{class pe{historyGo(Ee){throw new Error("")}static \u0275fac=function(Ge){return new(Ge||pe)};static \u0275prov=k.jDH({token:pe,factory:()=>(0,k.WQX)(we),providedIn:"platform"})}return pe})(),we=(()=>{class pe extends q{_location;_history;_doc=(0,k.WQX)(k.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(Ee){const Ge=R().getGlobalEventTarget(this._doc,"window");return Ge.addEventListener("popstate",Ee,!1),()=>Ge.removeEventListener("popstate",Ee)}onHashChange(Ee){const Ge=R().getGlobalEventTarget(this._doc,"window");return Ge.addEventListener("hashchange",Ee,!1),()=>Ge.removeEventListener("hashchange",Ee)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ee){this._location.pathname=Ee}pushState(Ee,Ge,$e){this._history.pushState(Ee,Ge,$e)}replaceState(Ee,Ge,$e){this._history.replaceState(Ee,Ge,$e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ee=0){this._history.go(Ee)}getState(){return this._history.state}static \u0275fac=function(Ge){return new(Ge||pe)};static \u0275prov=k.jDH({token:pe,factory:()=>new pe,providedIn:"platform"})}return pe})();function de(pe,Pe){return pe?Pe?pe.endsWith("/")?Pe.startsWith("/")?pe+Pe.slice(1):pe+Pe:Pe.startsWith("/")?pe+Pe:`${pe}/${Pe}`:pe:Pe}function ne(pe){const Pe=pe.search(/#|\?|$/);return"/"===pe[Pe-1]?pe.slice(0,Pe-1)+pe.slice(Pe):pe}function he(pe){return pe&&"?"!==pe[0]?`?${pe}`:pe}let ye=(()=>{class pe{historyGo(Ee){throw new Error("")}static \u0275fac=function(Ge){return new(Ge||pe)};static \u0275prov=k.jDH({token:pe,factory:()=>(0,k.WQX)(Me),providedIn:"root"})}return pe})();const fe=new k.nKC("");let Me=(()=>{class pe extends ye{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Ee,Ge){super(),this._platformLocation=Ee,this._baseHref=Ge??this._platformLocation.getBaseHrefFromDOM()??(0,k.WQX)(k.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ee){this._removeListenerFns.push(this._platformLocation.onPopState(Ee),this._platformLocation.onHashChange(Ee))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ee){return de(this._baseHref,Ee)}path(Ee=!1){const Ge=this._platformLocation.pathname+he(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&Ee?`${Ge}${$e}`:Ge}pushState(Ee,Ge,$e,nt){const Rt=this.prepareExternalUrl($e+he(nt));this._platformLocation.pushState(Ee,Ge,Rt)}replaceState(Ee,Ge,$e,nt){const Rt=this.prepareExternalUrl($e+he(nt));this._platformLocation.replaceState(Ee,Ge,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ee=0){this._platformLocation.historyGo?.(Ee)}static \u0275fac=function(Ge){return new(Ge||pe)(k.KVO(q),k.KVO(fe,8))};static \u0275prov=k.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),Ye=(()=>{class pe{_subject=new i.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Ee){this._locationStrategy=Ee;const Ge=this._locationStrategy.getBaseHref();this._basePath=function pt(pe){if(new RegExp("^(https?:)?//").test(pe)){const[,Ee]=pe.split(/\/\/[^\/]+/);return Ee}return pe}(ne(rt(Ge))),this._locationStrategy.onPopState($e=>{this._subject.next({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ee=!1){return this.normalize(this._locationStrategy.path(Ee))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ee,Ge=""){return this.path()==this.normalize(Ee+he(Ge))}normalize(Ee){return pe.stripTrailingSlash(function Ke(pe,Pe){if(!pe||!Pe.startsWith(pe))return Pe;const Ee=Pe.substring(pe.length);return""===Ee||["/",";","?","#"].includes(Ee[0])?Ee:Pe}(this._basePath,rt(Ee)))}prepareExternalUrl(Ee){return Ee&&"/"!==Ee[0]&&(Ee="/"+Ee),this._locationStrategy.prepareExternalUrl(Ee)}go(Ee,Ge="",$e=null){this._locationStrategy.pushState($e,"",Ee,Ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ee+he(Ge)),$e)}replaceState(Ee,Ge="",$e=null){this._locationStrategy.replaceState($e,"",Ee,Ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ee+he(Ge)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ee=0){this._locationStrategy.historyGo?.(Ee)}onUrlChange(Ee){return this._urlChangeListeners.push(Ee),this._urlChangeSubscription??=this.subscribe(Ge=>{this._notifyUrlChangeListeners(Ge.url,Ge.state)}),()=>{const Ge=this._urlChangeListeners.indexOf(Ee);this._urlChangeListeners.splice(Ge,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ee="",Ge){this._urlChangeListeners.forEach($e=>$e(Ee,Ge))}subscribe(Ee,Ge,$e){return this._subject.subscribe({next:Ee,error:Ge??void 0,complete:$e??void 0})}static normalizeQueryParams=he;static joinWithSlash=de;static stripTrailingSlash=ne;static \u0275fac=function(Ge){return new(Ge||pe)(k.KVO(ye))};static \u0275prov=k.jDH({token:pe,factory:()=>function Re(){return new Ye((0,k.KVO)(ye))}(),providedIn:"root"})}return pe})();function rt(pe){return pe.replace(/\/index.html$/,"")}},7441:(st,ke,H)=>{"use strict";H.d(ke,{X:()=>k});const k=i=>i&&"number"==typeof i.length&&"function"!=typeof i},7473:(st,ke,H)=>{"use strict";H.d(ke,{J:()=>G});var k=H(1413),i=H(2615);let G=(()=>{class R{messageSubject=new k.B;message$=this.messageSubject.asObservable();emitErrorMessage(Z){this.messageSubject.next({type:"error",message:Z})}emitInfoMessage(Z){this.messageSubject.next({type:"info",message:Z})}static \u0275fac=function(q){return new(q||R)};static \u0275prov=i.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},7705:(st,ke,H)=>{"use strict";H.d(ke,{ES_:()=>ne,L39:()=>M,MKu:()=>gr,TL3:()=>Ko,_q3:()=>ur,gRc:()=>To,hFB:()=>Re,naY:()=>eo});var k=H(2615),i=H(8440),G=H(3664);const R=Symbol("InputSignalNode#UNSET"),me={...i.s0,transformFn:void 0,applyValueToInputSignal(U,A){(0,i.j2)(U,A)}};function q(U,A){const F=Object.create(me);function Q(){if((0,i.mK)(F),F.value===R)throw new k.buA(-950,null);return F.value}return F.value=U,F.transformFn=A?.transform,Q[i.bh]=F,Q}class ne{attributeName;constructor(A){this.attributeName=A}__NG_ELEMENT_ID__=()=>(0,G.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function Me(U,A){return q(U,A)}new k.nKC("").__NG_ELEMENT_ID__=U=>{const A=(0,k.Mx4)();if(null===A)throw new k.buA(204,!1);if(2&A.type)return A.value;if(8&U)return null;throw new k.buA(204,!1)};const Re=(Me.required=function Ye(U){return q(R,U)},Me),Ve=new k.nKC(""),ct=new k.nKC("");function Xt(U){return!U.moduleRef}let Lt,et=null;function eo(){return!1}let To=(()=>class U{static __NG_ELEMENT_ID__=fo})();function fo(U){return function yo(U,A,F){if((0,k.Qs1)(U)&&!F){const Q=(0,k.KdJ)(U.index,A);return new G.NCX(Q,Q)}return 175&U.type?new G.NCX(A[k.b5C],A):null}((0,k.Mx4)(),(0,k.OAn)(),!(16&~U))}class On{constructor(){}supports(A){return(0,G.ozJ)(A)}create(A){return new ca(A)}}const Vr=(U,A)=>A;class ca{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(A){this._trackByFn=A||Vr}forEachItem(A){let F;for(F=this._itHead;null!==F;F=F._next)A(F)}forEachOperation(A){let F=this._itHead,Q=this._removalsHead,ie=0,Ce=null;for(;F||Q;){const Be=!Q||F&&F.currentIndex<da(Q,ie,Ce)?F:Q,qe=da(Be,ie,Ce),lt=Be.currentIndex;if(Be===Q)ie--,Q=Q._nextRemoved;else if(F=F._next,null==Be.previousIndex)ie++;else{Ce||(Ce=[]);const Dt=qe-ie,Bt=lt-ie;if(Dt!=Bt){for(let fn=0;fn<Dt;fn++){const yn=fn<Ce.length?Ce[fn]:Ce[fn]=0,cn=yn+fn;Bt<=cn&&cn<Dt&&(Ce[fn]=yn+1)}Ce[Be.previousIndex]=Bt-Dt}}qe!==lt&&A(Be,qe,lt)}}forEachPreviousItem(A){let F;for(F=this._previousItHead;null!==F;F=F._nextPrevious)A(F)}forEachAddedItem(A){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)A(F)}forEachMovedItem(A){let F;for(F=this._movesHead;null!==F;F=F._nextMoved)A(F)}forEachRemovedItem(A){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)A(F)}forEachIdentityChange(A){let F;for(F=this._identityChangesHead;null!==F;F=F._nextIdentityChange)A(F)}diff(A){if(null==A&&(A=[]),!(0,G.ozJ)(A))throw new k.buA(900,!1);return this.check(A)?this:null}onDestroy(){}check(A){this._reset();let ie,Ce,Be,F=this._itHead,Q=!1;if(Array.isArray(A)){this.length=A.length;for(let qe=0;qe<this.length;qe++)Ce=A[qe],Be=this._trackByFn(qe,Ce),null!==F&&Object.is(F.trackById,Be)?(Q&&(F=this._verifyReinsertion(F,Ce,Be,qe)),Object.is(F.item,Ce)||this._addIdentityChange(F,Ce)):(F=this._mismatch(F,Ce,Be,qe),Q=!0),F=F._next}else ie=0,(0,G.utN)(A,qe=>{Be=this._trackByFn(ie,qe),null!==F&&Object.is(F.trackById,Be)?(Q&&(F=this._verifyReinsertion(F,qe,Be,ie)),Object.is(F.item,qe)||this._addIdentityChange(F,qe)):(F=this._mismatch(F,qe,Be,ie),Q=!0),F=F._next,ie++}),this.length=ie;return this._truncate(F),this.collection=A,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let A;for(A=this._previousItHead=this._itHead;null!==A;A=A._next)A._nextPrevious=A._next;for(A=this._additionsHead;null!==A;A=A._nextAdded)A.previousIndex=A.currentIndex;for(this._additionsHead=this._additionsTail=null,A=this._movesHead;null!==A;A=A._nextMoved)A.previousIndex=A.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(A,F,Q,ie){let Ce;return null===A?Ce=this._itTail:(Ce=A._prev,this._remove(A)),null!==(A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Q,null))?(Object.is(A.item,F)||this._addIdentityChange(A,F),this._reinsertAfter(A,Ce,ie)):null!==(A=null===this._linkedRecords?null:this._linkedRecords.get(Q,ie))?(Object.is(A.item,F)||this._addIdentityChange(A,F),this._moveAfter(A,Ce,ie)):A=this._addAfter(new Pn(F,Q),Ce,ie),A}_verifyReinsertion(A,F,Q,ie){let Ce=null===this._unlinkedRecords?null:this._unlinkedRecords.get(Q,null);return null!==Ce?A=this._reinsertAfter(Ce,A._prev,ie):A.currentIndex!=ie&&(A.currentIndex=ie,this._addToMoves(A,ie)),A}_truncate(A){for(;null!==A;){const F=A._next;this._addToRemovals(this._unlink(A)),A=F}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(A,F,Q){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(A);const ie=A._prevRemoved,Ce=A._nextRemoved;return null===ie?this._removalsHead=Ce:ie._nextRemoved=Ce,null===Ce?this._removalsTail=ie:Ce._prevRemoved=ie,this._insertAfter(A,F,Q),this._addToMoves(A,Q),A}_moveAfter(A,F,Q){return this._unlink(A),this._insertAfter(A,F,Q),this._addToMoves(A,Q),A}_addAfter(A,F,Q){return this._insertAfter(A,F,Q),this._additionsTail=null===this._additionsTail?this._additionsHead=A:this._additionsTail._nextAdded=A,A}_insertAfter(A,F,Q){const ie=null===F?this._itHead:F._next;return A._next=ie,A._prev=F,null===ie?this._itTail=A:ie._prev=A,null===F?this._itHead=A:F._next=A,null===this._linkedRecords&&(this._linkedRecords=new Mr),this._linkedRecords.put(A),A.currentIndex=Q,A}_remove(A){return this._addToRemovals(this._unlink(A))}_unlink(A){null!==this._linkedRecords&&this._linkedRecords.remove(A);const F=A._prev,Q=A._next;return null===F?this._itHead=Q:F._next=Q,null===Q?this._itTail=F:Q._prev=F,A}_addToMoves(A,F){return A.previousIndex===F||(this._movesTail=null===this._movesTail?this._movesHead=A:this._movesTail._nextMoved=A),A}_addToRemovals(A){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mr),this._unlinkedRecords.put(A),A.currentIndex=null,A._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=A,A._prevRemoved=null):(A._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=A),A}_addIdentityChange(A,F){return A.item=F,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=A:this._identityChangesTail._nextIdentityChange=A,A}}class Pn{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(A,F){this.item=A,this.trackById=F}}class zo{_head=null;_tail=null;add(A){null===this._head?(this._head=this._tail=A,A._nextDup=null,A._prevDup=null):(this._tail._nextDup=A,A._prevDup=this._tail,A._nextDup=null,this._tail=A)}get(A,F){let Q;for(Q=this._head;null!==Q;Q=Q._nextDup)if((null===F||F<=Q.currentIndex)&&Object.is(Q.trackById,A))return Q;return null}remove(A){const F=A._prevDup,Q=A._nextDup;return null===F?this._head=Q:F._nextDup=Q,null===Q?this._tail=F:Q._prevDup=F,null===this._head}}class Mr{map=new Map;put(A){const F=A.trackById;let Q=this.map.get(F);Q||(Q=new zo,this.map.set(F,Q)),Q.add(A)}get(A,F){const ie=this.map.get(A);return ie?ie.get(A,F):null}remove(A){const F=A.trackById;return this.map.get(F).remove(A)&&this.map.delete(F),A}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function da(U,A,F){const Q=U.previousIndex;if(null===Q)return Q;let ie=0;return F&&Q<F.length&&(ie=F[Q]),Q+A+ie}class ma{constructor(){}supports(A){return A instanceof Map||(0,G.vDg)(A)}create(){return new go}}class go{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(A){let F;for(F=this._mapHead;null!==F;F=F._next)A(F)}forEachPreviousItem(A){let F;for(F=this._previousMapHead;null!==F;F=F._nextPrevious)A(F)}forEachChangedItem(A){let F;for(F=this._changesHead;null!==F;F=F._nextChanged)A(F)}forEachAddedItem(A){let F;for(F=this._additionsHead;null!==F;F=F._nextAdded)A(F)}forEachRemovedItem(A){let F;for(F=this._removalsHead;null!==F;F=F._nextRemoved)A(F)}diff(A){if(A){if(!(A instanceof Map||(0,G.vDg)(A)))throw new k.buA(900,!1)}else A=new Map;return this.check(A)?this:null}onDestroy(){}check(A){this._reset();let F=this._mapHead;if(this._appendAfter=null,this._forEach(A,(Q,ie)=>{if(F&&F.key===ie)this._maybeAddToChanges(F,Q),this._appendAfter=F,F=F._next;else{const Ce=this._getOrCreateRecordForKey(ie,Q);F=this._insertBeforeOrAppend(F,Ce)}}),F){F._prev&&(F._prev._next=null),this._removalsHead=F;for(let Q=F;null!==Q;Q=Q._nextRemoved)Q===this._mapHead&&(this._mapHead=null),this._records.delete(Q.key),Q._nextRemoved=Q._next,Q.previousValue=Q.currentValue,Q.currentValue=null,Q._prev=null,Q._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(A,F){if(A){const Q=A._prev;return F._next=A,F._prev=Q,A._prev=F,Q&&(Q._next=F),A===this._mapHead&&(this._mapHead=F),this._appendAfter=A,A}return this._appendAfter?(this._appendAfter._next=F,F._prev=this._appendAfter):this._mapHead=F,this._appendAfter=F,null}_getOrCreateRecordForKey(A,F){if(this._records.has(A)){const ie=this._records.get(A);this._maybeAddToChanges(ie,F);const Ce=ie._prev,Be=ie._next;return Ce&&(Ce._next=Be),Be&&(Be._prev=Ce),ie._next=null,ie._prev=null,ie}const Q=new lr(A);return this._records.set(A,Q),Q.currentValue=F,this._addToAdditions(Q),Q}_reset(){if(this.isDirty){let A;for(this._previousMapHead=this._mapHead,A=this._previousMapHead;null!==A;A=A._next)A._nextPrevious=A._next;for(A=this._changesHead;null!==A;A=A._nextChanged)A.previousValue=A.currentValue;for(A=this._additionsHead;null!=A;A=A._nextAdded)A.previousValue=A.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(A,F){Object.is(F,A.currentValue)||(A.previousValue=A.currentValue,A.currentValue=F,this._addToChanges(A))}_addToAdditions(A){null===this._additionsHead?this._additionsHead=this._additionsTail=A:(this._additionsTail._nextAdded=A,this._additionsTail=A)}_addToChanges(A){null===this._changesHead?this._changesHead=this._changesTail=A:(this._changesTail._nextChanged=A,this._changesTail=A)}_forEach(A,F){A instanceof Map?A.forEach(F):Object.keys(A).forEach(Q=>F(A[Q],Q))}}class lr{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(A){this.key=A}}function Mo(){return new ur([new On])}let ur=(()=>{class U{factories;static \u0275prov=(0,k.jDH)({token:U,providedIn:"root",factory:Mo});constructor(F){this.factories=F}static create(F,Q){if(null!=Q){const ie=Q.factories.slice();F=F.concat(ie)}return new U(F)}static extend(F){return{provide:U,useFactory:()=>{const Q=(0,k.WQX)(U,{optional:!0,skipSelf:!0});return U.create(F,Q||Mo())}}}find(F){const Q=this.factories.find(ie=>ie.supports(F));if(null!=Q)return Q;throw new k.buA(901,!1)}}return U})();function tr(){return new gr([new ma])}let gr=(()=>{class U{static \u0275prov=(0,k.jDH)({token:U,providedIn:"root",factory:tr});factories;constructor(F){this.factories=F}static create(F,Q){if(Q){const ie=Q.factories.slice();F=F.concat(ie)}return new U(F)}static extend(F){return{provide:U,useFactory:()=>{const Q=(0,k.WQX)(U,{optional:!0,skipSelf:!0});return U.create(F,Q||tr())}}}find(F){const Q=this.factories.find(ie=>ie.supports(F));if(Q)return Q;throw new k.buA(901,!1)}}return U})();function Ko(U){const{rootComponent:A,appProviders:F,platformProviders:Q,platformRef:ie}=U;(0,G.Ef8)(8);try{const Ce=ie?.injector??function on(U=[]){if(et)return et;(0,G.pl0)();const A=function Jr(U=[],A){return k.zZn.create({name:A,providers:[{provide:k.GBX,useValue:"platform"},{provide:Ve,useValue:new Set([()=>et=null])},...U]})}(U);return et=A,(0,G.ypd)(),function fr(U){const A=U.get(G.PLl,null);(0,k.N4e)(U,()=>{A?.forEach(F=>F())})}(A),A}(Q),Be=[(0,G.SdI)({}),{provide:k.hk6,useExisting:G.Ts$},k.gv8,...F||[]];return function mt(U){const A=Xt(U)?U.r3Injector:U.moduleRef.injector,F=A.get(G.SKi);return F.run(()=>{Xt(U)?U.r3Injector.resolveInjectorInitializers():U.moduleRef.resolveInjectorInitializers();const Q=A.get(k.ZTf);let ie;if(F.runOutsideAngular(()=>{ie=F.onError.subscribe({next:Q})}),Xt(U)){const Ce=()=>A.destroy(),Be=U.platformInjector.get(Ve);Be.add(Ce),A.onDestroy(()=>{ie.unsubscribe(),Be.delete(Ce)})}else{const Ce=()=>U.moduleRef.destroy(),Be=U.platformInjector.get(Ve);Be.add(Ce),U.moduleRef.onDestroy(()=>{(0,G.TFI)(U.allPlatformModules,U.moduleRef),ie.unsubscribe(),Be.delete(Ce)})}return function We(U,A,F){try{const Q=F();return(0,G.yLl)(Q)?Q.catch(ie=>{throw A.runOutsideAngular(()=>U(ie)),ie}):Q}catch(Q){throw A.runOutsideAngular(()=>U(Q)),Q}}(Q,F,()=>{const Ce=A.get(k.rev),Be=Ce.add(),qe=A.get(G.H1s);return qe.runInitializers(),qe.donePromise.then(()=>{const lt=A.get(G.xe9,G.DkB);if((0,G.e6s)(lt||G.DkB),!A.get(ct,!0))return Xt(U)?A.get(G.o8S):(U.allPlatformModules.push(U.moduleRef),U.moduleRef);if(Xt(U)){const Bt=A.get(G.o8S);return void 0!==U.rootComponent&&Bt.bootstrap(U.rootComponent),Bt}return Lt?.(U.moduleRef,U.allPlatformModules),U.moduleRef}).finally(()=>{Ce.remove(Be)})})})}({r3Injector:new G.bH1({providers:Be,parent:Ce,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Ce,rootComponent:A})}catch(Ce){return Promise.reject(Ce)}finally{(0,G.Ef8)(9)}}function M(U){return"boolean"==typeof U?U:null!=U&&"false"!==U}},7707:(st,ke,H)=>{"use strict";H.d(ke,{Ms:()=>Ye,vU:()=>he});var k=H(8071),i=H(8359),G=H(1026),R=H(5334),me=H(5343);const Z=we("C",void 0,void 0);function we(pe,Pe,Ee){return{kind:pe,value:Pe,error:Ee}}var de=H(9270),ne=H(9786);class he extends i.yU{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,i.Uv)(Pe)&&Pe.add(this)):this.destination=pt}static create(Pe,Ee,Ge){return new Ye(Pe,Ee,Ge)}next(Pe){this.isStopped?rt(function se(pe){return we("N",pe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?rt(function q(pe){return we("E",void 0,pe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?rt(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function fe(pe,Pe){return ye.call(pe,Pe)}class Me{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Pe)}catch(Ge){Re(Ge)}}error(Pe){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Pe)}catch(Ge){Re(Ge)}else Re(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ee){Re(Ee)}}}class Ye extends he{constructor(Pe,Ee,Ge){let $e;if(super(),(0,k.T)(Pe)||!Pe)$e={next:Pe??void 0,error:Ee??void 0,complete:Ge??void 0};else{let nt;this&&G.$.useDeprecatedNextContext?(nt=Object.create(Pe),nt.unsubscribe=()=>this.unsubscribe(),$e={next:Pe.next&&fe(Pe.next,nt),error:Pe.error&&fe(Pe.error,nt),complete:Pe.complete&&fe(Pe.complete,nt)}):$e=Pe}this.destination=new Me($e)}}function Re(pe){G.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(pe):(0,R.m)(pe)}function rt(pe,Pe){const{onStoppedNotification:Ee}=G.$;Ee&&de.f.setTimeout(()=>Ee(pe,Pe))}const pt={closed:!0,next:me.l,error:function Ke(pe){throw pe},complete:me.l}},7908:(st,ke,H)=>{"use strict";function k(i,G){if(i){const R=i.indexOf(G);0<=R&&i.splice(R,1)}}H.d(ke,{o:()=>k})},7953:(st,ke,H)=>{"use strict";H.d(ke,{T:()=>i});var k=H(8071);function i(G){return Symbol.asyncIterator&&(0,k.T)(G?.[Symbol.asyncIterator])}},8071:(st,ke,H)=>{"use strict";function k(i){return"function"==typeof i}H.d(ke,{T:()=>k})},8147:(st,ke,H)=>{"use strict";H.d(ke,{K:()=>we});var k=H(4412),i=H(6354),G=H(9974),R=H(4360),Z=H(5964),q=H(2615);const se=["name","standee","level","initiative","hp","aggressive","armor","roundArmor","retaliate","roundRetaliate","conditions"];let we=(()=>{class de{logsSubject=new k.t([]);logs$=this.logsSubject.asObservable();init(he){he.pipe((0,i.T)(fe=>(fe??[]).map(Me=>{const Ye={id:Me.id,type:Me.type};for(const Re of se)Ye[Re]=Me[Re];return Ye}))).pipe(function me(){return(0,G.N)((de,ne)=>{let he,ye=!1;de.subscribe((0,R._)(ne,fe=>{const Me=he;he=fe,ye&&ne.next([Me,fe]),ye=!0}))})}(),(0,i.T)(([fe,Me])=>this.diff(fe,Me)),(0,Z.p)(fe=>fe.length>0)).subscribe(fe=>{this.logsSubject.next([...fe,...this.logsSubject.value])})}characterOptions$=this.logs$.pipe((0,i.T)(he=>{const ye=new Map;for(const fe of he)fe.creatureId&&!ye.has(fe.creatureId)&&ye.set(fe.creatureId,fe.creature);return Array.from(ye.entries()).map(([fe,Me])=>({value:fe,text:Me}))}));getLastAliveHpBefore(he,ye){const fe=this.logsSubject.value,Me=fe.findIndex(Ye=>Ye.id===he);if(-1!==Me)for(let Ye=Me+1;Ye<fe.length;Ye++){const Re=fe[Ye];if(Re.creatureId===ye&&"hp"===Re.stat){const Ke="number"==typeof Re.value?Re.value:void 0;if(void 0!==Ke&&Ke>0)return Ke}}}getLastPositiveHp(he){const ye=this.logsSubject.value;for(const fe of ye)if(fe.creatureId===he&&"hp"===fe.stat){const Me="number"==typeof fe.value?fe.value:void 0;if(void 0!==Me&&Me>0)return Me}}diff(he,ye){const fe=new Map((he??[]).map(Re=>[Re.id,Re])),Me=new Map((ye??[]).map(Re=>[Re.id,Re])),Ye=[];for(const[Re,Ke]of Me){const rt=fe.get(Re);if(rt)for(const pt of se){const pe=rt[pt],Pe=Ke[pt];Object.is(pe,Pe)||Ye.push(this.entry(Re,Ke.name??"(unknown)",String(pt),Pe,pe))}else Ye.push(this.entry(Re,Ke.name??"(unknown)","created",this.pretty(Ke),null,{new:this.snap(Ke)}))}for(const[Re,Ke]of fe)Me.has(Re)||Ye.push(this.entry(Re,`${Ke.name??"(unknown)"} (killed)`,"killed",null,this.pretty(Ke),{old:this.snap(Ke)}));return Ye}pretty(he){return`hp=${he.hp}, lvl=${he.level}`}entry(he,ye,fe,Me,Ye,Re){return{id:this.randId(),time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),creatureId:he,creature:ye,stat:fe,value:Me,oldValue:Ye,data:Re}}snap(he){return{name:he.name,type:he.type,standee:he.standee,level:he.level,hp:he.hp,aggressive:he?.aggressive}}randId(){return Math.random().toString(36).slice(2,10)}static \u0275fac=function(ye){return new(ye||de)};static \u0275prov=q.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},8359:(st,ke,H)=>{"use strict";H.d(ke,{Kn:()=>Z,yU:()=>me,Uv:()=>q});var k=H(8071);const G=(0,H(1853).L)(we=>function(ne){we(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((he,ye)=>`${ye+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var R=H(7908);class me{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const fe of ne)fe.remove(this);else ne.remove(this);const{initialTeardown:he}=this;if((0,k.T)(he))try{he()}catch(fe){de=fe instanceof G?fe.errors:[fe]}const{_finalizers:ye}=this;if(ye){this._finalizers=null;for(const fe of ye)try{se(fe)}catch(Me){de=de??[],Me instanceof G?de=[...de,...Me.errors]:de.push(Me)}}if(de)throw new G(de)}}add(de){var ne;if(de&&de!==this)if(this.closed)se(de);else{if(de instanceof me){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(de)}}_hasParent(de){const{_parentage:ne}=this;return ne===de||Array.isArray(ne)&&ne.includes(de)}_addParent(de){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(de),ne):ne?[ne,de]:de}_removeParent(de){const{_parentage:ne}=this;ne===de?this._parentage=null:Array.isArray(ne)&&(0,R.o)(ne,de)}remove(de){const{_finalizers:ne}=this;ne&&(0,R.o)(ne,de),de instanceof me&&de._removeParent(this)}}me.EMPTY=(()=>{const we=new me;return we.closed=!0,we})();const Z=me.EMPTY;function q(we){return we instanceof me||we&&"closed"in we&&(0,k.T)(we.remove)&&(0,k.T)(we.add)&&(0,k.T)(we.unsubscribe)}function se(we){(0,k.T)(we)?we():we.unsubscribe()}},8440:(st,ke,H)=>{"use strict";H.d(ke,{Ag:()=>un,Bg:()=>Ke,EF:()=>rn,H8:()=>zt,Ht:()=>Z,JC:()=>ye,KE:()=>se,KO:()=>ce,KZ:()=>Gt,Ny:()=>Ln,TO:()=>Re,Wu:()=>pt,XR:()=>Ee,a7:()=>Rt,bh:()=>me,j2:()=>Ve,mC:()=>ct,mK:()=>ne,n5:()=>ve,nR:()=>q,pL:()=>de,s0:()=>mt,si:()=>Pe});let k=null,i=!1,G=1,R=null;const me=Symbol("SIGNAL");function Z(_e){const je=k;return k=_e,je}function q(){return k}function se(){return i}const de={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ne(_e){if(i)throw new Error("");if(null===k)return;k.consumerOnSignalRead(_e);const je=k.producersTail;if(void 0!==je&&je.producer===_e)return;let We;const kt=k.recomputing;if(kt&&(We=void 0!==je?je.nextProducer:k.producers,void 0!==We&&We.producer===_e))return k.producersTail=We,void(We.lastReadVersion=_e.version);const et=_e.consumersTail;if(void 0!==et&&et.consumer===k&&(!kt||function tn(_e,je){const We=je.producersTail;if(void 0!==We){let kt=je.producers;do{if(kt===_e)return!0;if(kt===We)break;kt=kt.nextProducer}while(void 0!==kt)}return!1}(et,k)))return;const Zt=nt(k),Kt={producer:_e,consumer:k,nextProducer:We,prevConsumer:et,lastReadVersion:_e.version,nextConsumer:void 0};k.producersTail=Kt,void 0!==je?je.nextProducer=Kt:k.producers=Kt,Zt&&Ge(_e,Kt)}function ye(_e){if((!nt(_e)||_e.dirty)&&(_e.dirty||_e.lastCleanEpoch!==G)){if(!_e.producerMustRecompute(_e)&&!Pe(_e))return void Re(_e);_e.producerRecomputeValue(_e),Re(_e)}}function fe(_e){if(void 0===_e.consumers)return;const je=i;i=!0;try{for(let We=_e.consumers;void 0!==We;We=We.nextConsumer){const kt=We.consumer;kt.dirty||Ye(kt)}}finally{i=je}}function Me(){return!1!==k?.consumerAllowSignalWrites}function Ye(_e){_e.dirty=!0,fe(_e),_e.consumerMarkedDirty?.(_e)}function Re(_e){_e.dirty=!1,_e.lastCleanEpoch=G}function Ke(_e){return _e&&function rt(_e){_e.producersTail=void 0,_e.recomputing=!0}(_e),Z(_e)}function pt(_e,je){Z(je),_e&&function pe(_e){_e.recomputing=!1;const je=_e.producersTail;let We=void 0!==je?je.nextProducer:_e.producers;if(void 0!==We){if(nt(_e))do{We=$e(We)}while(void 0!==We);void 0!==je?je.nextProducer=void 0:_e.producers=void 0}}(_e)}function Pe(_e){for(let je=_e.producers;void 0!==je;je=je.nextProducer){const We=je.producer,kt=je.lastReadVersion;if(kt!==We.version||(ye(We),kt!==We.version))return!0}return!1}function Ee(_e){if(nt(_e)){let je=_e.producers;for(;void 0!==je;)je=$e(je)}_e.producers=void 0,_e.producersTail=void 0,_e.consumers=void 0,_e.consumersTail=void 0}function Ge(_e,je){const We=_e.consumersTail,kt=nt(_e);if(void 0!==We?(je.nextConsumer=We.nextConsumer,We.nextConsumer=je):(je.nextConsumer=void 0,_e.consumers=je),je.prevConsumer=We,_e.consumersTail=je,!kt)for(let et=_e.producers;void 0!==et;et=et.nextProducer)Ge(et.producer,et)}function $e(_e){const je=_e.producer,We=_e.nextProducer,kt=_e.nextConsumer,et=_e.prevConsumer;if(_e.nextConsumer=void 0,_e.prevConsumer=void 0,void 0!==kt?kt.prevConsumer=et:je.consumersTail=et,void 0!==et)et.nextConsumer=kt;else if(je.consumers=kt,!nt(je)){let Zt=je.producers;for(;void 0!==Zt;)Zt=$e(Zt)}return We}function nt(_e){return _e.consumerIsAlwaysLive||void 0!==_e.consumers}function Rt(_e){R?.(_e)}function zt(_e,je){return Object.is(_e,je)}function Gt(_e,je){const We=Object.create(Tr);We.computation=_e,void 0!==je&&(We.equal=je);const kt=()=>{if(ye(We),ne(We),We.value===rn)throw We.error;return We.value};return kt[me]=We,Rt(We),kt}const un=Symbol("UNSET"),Ln=Symbol("COMPUTING"),rn=Symbol("ERRORED"),Tr={...de,value:un,dirty:!0,error:null,equal:zt,kind:"computed",producerMustRecompute:_e=>_e.value===un||_e.value===Ln,producerRecomputeValue(_e){if(_e.value===Ln)throw new Error("");const je=_e.value;_e.value=Ln;const We=Ke(_e);let kt,et=!1;try{kt=_e.computation(),Z(null),et=je!==un&&je!==rn&&kt!==rn&&_e.equal(je,kt)}catch(Zt){kt=rn,_e.error=Zt}finally{pt(_e,We)}et?_e.value=je:(_e.value=kt,_e.version++)}};let Se=function hn(){throw new Error};function ee(_e){Se(_e)}function ce(_e){Se=_e}let ue=null;function ve(_e,je){const We=Object.create(mt);We.value=_e,void 0!==je&&(We.equal=je);const kt=()=>function xe(_e){return ne(_e),_e.value}(We);return kt[me]=We,Rt(We),[kt,Kt=>Ve(We,Kt),Kt=>ct(We,Kt)]}function Ve(_e,je){Me()||ee(_e),_e.equal(_e.value,je)||(_e.value=je,function Lt(_e){_e.version++,function he(){G++}(),fe(_e),ue?.(_e)}(_e))}function ct(_e,je){Me()||ee(_e),Ve(_e,je(_e.value))}const mt={...de,equal:zt,value:void 0,kind:"signal"}},8455:(st,ke,H)=>{"use strict";var k=H(7303);function i(s,a){a=encodeURIComponent(a);for(const o of s.split(";")){const u=o.indexOf("="),[d,y]=-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)];if(d.trim()===a)return decodeURIComponent(y)}return null}class G{}var R=H(2615);var ge=H(3664),Qt=H(7705);class bo{_doc;constructor(a){this._doc=a}manager}let wo=(()=>{class s extends bo{constructor(o){super(o)}supports(o){return!0}addEventListener(o,u,d,y){return o.addEventListener(u,d,y),()=>this.removeEventListener(o,u,d,y)}removeEventListener(o,u,d,y){return o.removeEventListener(u,d,y)}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const to=new R.nKC("");let Gn=(()=>{class s{_zone;_plugins;_eventNameToPlugin=new Map;constructor(o,u){this._zone=u,o.forEach(w=>{w.manager=this});const d=o.filter(w=>!(w instanceof wo));this._plugins=d.slice().reverse();const y=o.find(w=>w instanceof wo);y&&this._plugins.push(y)}addEventListener(o,u,d,y){return this._findPluginFor(u).addEventListener(o,u,d,y)}getZone(){return this._zone}_findPluginFor(o){let u=this._eventNameToPlugin.get(o);if(u)return u;if(u=this._plugins.find(y=>y.supports(o)),!u)throw new R.buA(5101,!1);return this._eventNameToPlugin.set(o,u),u}static \u0275fac=function(u){return new(u||s)(R.KVO(to),R.KVO(ge.SKi))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const vr="ng-app-id";function qo(s){for(const a of s)a.remove()}function Qo(s,a){const o=a.createElement("style");return o.textContent=s,o}function nr(s,a){const o=a.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",s),o}let Ro=(()=>{class s{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(o,u,d,y={}){this.doc=o,this.appId=u,this.nonce=d,function _r(s,a,o,u){const d=s.head?.querySelectorAll(`style[${vr}="${a}"],link[${vr}="${a}"]`);if(d)for(const y of d)y.removeAttribute(vr),y instanceof HTMLLinkElement?u.set(y.href.slice(y.href.lastIndexOf("/")+1),{usage:0,elements:[y]}):y.textContent&&o.set(y.textContent,{usage:0,elements:[y]})}(o,u,this.inline,this.external),this.hosts.add(o.head)}addStyles(o,u){for(const d of o)this.addUsage(d,this.inline,Qo);u?.forEach(d=>this.addUsage(d,this.external,nr))}removeStyles(o,u){for(const d of o)this.removeUsage(d,this.inline);u?.forEach(d=>this.removeUsage(d,this.external))}addUsage(o,u,d){const y=u.get(o);y?y.usage++:u.set(o,{usage:1,elements:[...this.hosts].map(w=>this.addElement(w,d(o,this.doc)))})}removeUsage(o,u){const d=u.get(o);d&&(d.usage--,d.usage<=0&&(qo(d.elements),u.delete(o)))}ngOnDestroy(){for(const[,{elements:o}]of[...this.inline,...this.external])qo(o);this.hosts.clear()}addHost(o){this.hosts.add(o);for(const[u,{elements:d}]of this.inline)d.push(this.addElement(o,Qo(u,this.doc)));for(const[u,{elements:d}]of this.external)d.push(this.addElement(o,nr(u,this.doc)))}removeHost(o){this.hosts.delete(o)}addElement(o,u){return this.nonce&&u.setAttribute("nonce",this.nonce),o.appendChild(u)}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL),R.KVO(ge.sZ2),R.KVO(ge.BIS,8),R.KVO(ge.Agw))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yo=/%COMP%/g,qn=new R.nKC("",{providedIn:"root",factory:()=>!0});function Lo(s,a){return a.map(o=>o.replace(Yo,s))}let Or=(()=>{class s{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(o,u,d,y,w,I,V=null,J=null){this.eventManager=o,this.sharedStylesHost=u,this.appId=d,this.removeStylesOnCompDestroy=y,this.doc=w,this.ngZone=I,this.nonce=V,this.tracingService=J,this.platformIsServer=!1,this.defaultRenderer=new ro(o,w,I,this.platformIsServer,this.tracingService)}createRenderer(o,u){if(!o||!u)return this.defaultRenderer;const d=this.getOrCreateRenderer(o,u);return d instanceof j?d.applyToHost(o):d instanceof Y&&d.applyStyles(),d}getOrCreateRenderer(o,u){const d=this.rendererByCompId;let y=d.get(u.id);if(!y){const w=this.doc,I=this.ngZone,V=this.eventManager,J=this.sharedStylesHost,Te=this.removeStylesOnCompDestroy,Ne=this.platformIsServer,ut=this.tracingService;switch(u.encapsulation){case ge.gXe.Emulated:y=new j(V,J,u,this.appId,Te,w,I,Ne,ut);break;case ge.gXe.ShadowDom:return new M(V,J,o,u,w,I,this.nonce,Ne,ut);default:y=new Y(V,J,u,Te,w,I,Ne,ut)}d.set(u.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(o){this.rendererByCompId.delete(o)}static \u0275fac=function(u){return new(u||s)(R.KVO(Gn),R.KVO(Ro),R.KVO(ge.sZ2),R.KVO(qn),R.KVO(R.qQL),R.KVO(ge.SKi),R.KVO(ge.BIS),R.KVO(ge.a8H,8))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();class ro{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(a,o,u,d,y){this.eventManager=a,this.doc=o,this.ngZone=u,this.platformIsServer=d,this.tracingService=y}destroy(){}destroyNode=null;createElement(a,o){return o?this.doc.createElementNS(ya[o]||o,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,o){(Jo(a)?a.content:a).appendChild(o)}insertBefore(a,o,u){a&&(Jo(a)?a.content:a).insertBefore(o,u)}removeChild(a,o){o.remove()}selectRootElement(a,o){let u="string"==typeof a?this.doc.querySelector(a):a;if(!u)throw new R.buA(-5104,!1);return o||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,o,u,d){if(d){o=d+":"+o;const y=ya[d];y?a.setAttributeNS(y,o,u):a.setAttribute(o,u)}else a.setAttribute(o,u)}removeAttribute(a,o,u){if(u){const d=ya[u];d?a.removeAttributeNS(d,o):a.removeAttribute(`${u}:${o}`)}else a.removeAttribute(o)}addClass(a,o){a.classList.add(o)}removeClass(a,o){a.classList.remove(o)}setStyle(a,o,u,d){d&(ge.czy.DashCase|ge.czy.Important)?a.style.setProperty(o,u,d&ge.czy.Important?"important":""):a.style[o]=u}removeStyle(a,o,u){u&ge.czy.DashCase?a.style.removeProperty(o):a.style[o]=""}setProperty(a,o,u){null!=a&&(a[o]=u)}setValue(a,o){a.nodeValue=o}listen(a,o,u,d){if("string"==typeof a&&!(a=(0,k.rb)().getGlobalEventTarget(this.doc,a)))throw new R.buA(5102,!1);let y=this.decoratePreventDefault(u);return this.tracingService?.wrapEventListener&&(y=this.tracingService.wrapEventListener(a,o,y)),this.eventManager.addEventListener(a,o,y,d)}decoratePreventDefault(a){return o=>{if("__ngUnwrap__"===o)return a;!1===a(o)&&o.preventDefault()}}}function Jo(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class M extends ro{sharedStylesHost;hostEl;shadowRoot;constructor(a,o,u,d,y,w,I,V,J){super(a,y,w,V,J),this.sharedStylesHost=o,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Te=d.styles;Te=Lo(d.id,Te);for(const ut of Te){const dt=document.createElement("style");I&&dt.setAttribute("nonce",I),dt.textContent=ut,this.shadowRoot.appendChild(dt)}const Ne=d.getExternalStyles?.();if(Ne)for(const ut of Ne){const dt=nr(ut,y);I&&dt.setAttribute("nonce",I),this.shadowRoot.appendChild(dt)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,o){return super.appendChild(this.nodeOrShadowRoot(a),o)}insertBefore(a,o,u){return super.insertBefore(this.nodeOrShadowRoot(a),o,u)}removeChild(a,o){return super.removeChild(null,o)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Y extends ro{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(a,o,u,d,y,w,I,V,J){super(a,y,w,I,V),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=d;let Te=u.styles;this.styles=J?Lo(J,Te):Te,this.styleUrls=u.getExternalStyles?.(J)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===ge.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class j extends Y{contentAttr;hostAttr;constructor(a,o,u,d,y,w,I,V,J){const Te=d+"-"+u.id;super(a,o,u,y,w,I,V,J,Te),this.contentAttr=function rr(s){return"_ngcontent-%COMP%".replace(Yo,s)}(Te),this.hostAttr=function Eo(s){return"_nghost-%COMP%".replace(Yo,s)}(Te)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,o){const u=super.createElement(a,o);return super.setAttribute(u,this.contentAttr,""),u}}class B extends k.qj{supportsDOMEvents=!0;static makeCurrent(){(0,k.ig)(new B)}onAndCancel(a,o,u,d){return a.addEventListener(o,u,d),()=>{a.removeEventListener(o,u,d)}}dispatchEvent(a,o){a.dispatchEvent(o)}remove(a){a.remove()}createElement(a,o){return(o=o||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,o){return"window"===o?window:"document"===o?a:"body"===o?a.body:null}getBaseHref(a){const o=function Fe(){return le=le||document.head.querySelector("base"),le?le.getAttribute("href"):null}();return null==o?null:function ze(s){return new URL(s,document.baseURI).pathname}(o)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return i(document.cookie,a)}}let le=null,Ut=(()=>{class s{build(){return new XMLHttpRequest}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const qt=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let _n=(()=>{class s extends bo{constructor(o){super(o)}supports(o){return null!=s.parseEventName(o)}addEventListener(o,u,d,y){const w=s.parseEventName(u),I=s.eventCallback(w.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.rb)().onAndCancel(o,w.domEventName,I,y))}static parseEventName(o){const u=o.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const y=s._normalizeKey(u.pop());let w="",I=u.indexOf("code");if(I>-1&&(u.splice(I,1),w="code."),qt.forEach(J=>{const Te=u.indexOf(J);Te>-1&&(u.splice(Te,1),w+=J+".")}),w+=y,0!=u.length||0===y.length)return null;const V={};return V.domEventName=d,V.fullKey=w,V}static matchEventFullKeyCode(o,u){let d=Ht[o.key]||o.key,y="";return u.indexOf("code.")>-1&&(d=o.code,y="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),qt.forEach(w=>{w!==d&&(0,jt[w])(o)&&(y+=w+".")}),y+=d,y===u)}static eventCallback(o,u,d){return y=>{s.matchEventFullKeyCode(y,o)&&d.runGuarded(()=>u(y))}}static _normalizeKey(o){return"esc"===o?"escape":o}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();function Wr(s){return{appProviders:[...Ra,...s?.providers??[]],platformProviders:br}}const br=[{provide:ge.Agw,useValue:"browser"},{provide:ge.PLl,useValue:function Pr(){B.makeCurrent()},multi:!0},{provide:R.qQL,useFactory:function oo(){return(0,ge._9u)(document),document}}],Ra=[{provide:R.GBX,useValue:"root"},{provide:R.zcH,useFactory:function Kr(){return new R.zcH}},{provide:to,useClass:wo,multi:!0,deps:[R.qQL]},{provide:to,useClass:_n,multi:!0,deps:[R.qQL]},Or,Ro,Gn,{provide:ge._9s,useExisting:Or},{provide:G,useClass:Ut},[]];var ao=H(2200),wr=H(8359),io=H(7473);const Pa=(s,a)=>({"toast-error":s,"toast-info":a});function jo(s,a){if(1&s){const o=ge.RV6();ge.j41(0,"div",2)(1,"div",3)(2,"strong",4),ge.EFF(3),ge.k0s(),ge.j41(4,"small"),ge.EFF(5),ge.nI1(6,"date"),ge.k0s(),ge.j41(7,"button",5),ge.bIt("click",function(){const d=R.eBV(o).$implicit,y=ge.XpG();return R.Njj(y.removeMessage(d.id))}),ge.EFF(8,"\xd7"),ge.k0s()(),ge.j41(9,"div",6),ge.EFF(10),ge.k0s()()}if(2&s){const o=a.$implicit;ge.Y8G("ngClass",ge.l_i(7,Pa,"error"===o.type,"info"===o.type)),ge.R7$(3),ge.JRh("error"===o.type?"Error":"Information"),ge.R7$(2),ge.JRh(ge.i5U(6,4,o.timestamp,"HH:mm:ss")),ge.R7$(5),ge.SpI(" ",o.message," ")}}let _i=(()=>{class s{notificationService;messages=[];subscription=new wr.yU;messageCounter=0;displayDuration=3500;constructor(o){this.notificationService=o}ngOnInit(){this.subscription.add(this.notificationService.message$.subscribe(o=>{const u=this.messageCounter++;this.messages.push({id:u,type:o.type,message:o.message,timestamp:new Date}),setTimeout(()=>{this.removeMessage(u)},this.displayDuration)}))}ngOnDestroy(){this.subscription.unsubscribe()}removeMessage(o){const u=this.messages.findIndex(d=>d.id===o);-1!==u&&this.messages.splice(u,1)}static \u0275fac=function(u){return new(u||s)(ge.rXU(io.J))};static \u0275cmp=ge.VBU({type:s,selectors:[["app-toast-notification"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"toast-header"],[1,"toast-title"],["type","button",1,"toast-close",3,"click"],[1,"toast-body"]],template:function(u,d){1&u&&(ge.j41(0,"div",0),ge.DNE(1,jo,11,10,"div",1),ge.k0s()),2&u&&(ge.R7$(),ge.Y8G("ngForOf",d.messages))},dependencies:[ao.MD,ao.YU,ao.Sq,ao.vh],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:350px}.toast[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;padding:12px 15px;border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_slide-in .5s ease-out;background-color:var(--base-color-spots);border-left:4px solid #777;color:var(--font-color)}.toast.toast-error[_ngcontent-%COMP%]{border-left-color:#d9534f}.toast.toast-error[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#d9534f}.toast.toast-info[_ngcontent-%COMP%]{border-left-color:var(--font-color)}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.toast-header[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.toast-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.8em}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;line-height:1;color:#6c757d;cursor:pointer;padding:0;margin-left:10px}.toast-header[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{color:#212529}.toast-body[_ngcontent-%COMP%]{word-wrap:break-word}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"]})}return s})();var qr=H(4341),ga=H(9295),or=H(1985),U=H(8071),F=H(6648),Q=H(3794);function ie(...s){const a=(0,Q.lI)(s);return(0,F.H)(s,a)}var Ce=H(4412);const qe=(0,H(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var lt=H(4572),Dt=H(8793),Bt=H(8750);function ft(s){return new or.c(a=>{(0,Bt.Tg)(s()).subscribe(a)})}var fn=H(1203);function yn(s,a){const o=(0,U.T)(s)?s:()=>s,u=d=>d.error(o());return new or.c(a?d=>a.schedule(u,0,d):u)}const cn=new or.c(s=>s.complete());var En=H(9974),dn=H(4360);function Er(){return(0,En.N)((s,a)=>{let o=null;s._refCount++;const u=(0,dn._)(a,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(o=null);const d=s._connection,y=o;o=null,d&&(!y||d===y)&&d.unsubscribe(),a.unsubscribe()});s.subscribe(u),u.closed||(o=s.connect())})}class Lr extends or.c{constructor(a,o){super(),this.source=a,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,(0,En.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new wr.yU;const o=this.getSubject();a.add(this.source.subscribe((0,dn._)(o,void 0,()=>{this._teardown(),o.complete()},u=>{this._teardown(),o.error(u)},()=>this._teardown()))),a.closed&&(this._connection=null,a=wr.yU.EMPTY)}return a}refCount(){return Er()(this)}}var Mn=H(1413),Nt=H(6354);function Nn(s,a){return(0,En.N)((o,u)=>{let d=null,y=0,w=!1;const I=()=>w&&!d&&u.complete();o.subscribe((0,dn._)(u,V=>{d?.unsubscribe();let J=0;const Te=y++;(0,Bt.Tg)(s(V,Te)).subscribe(d=(0,dn._)(u,Ne=>u.next(a?a(V,Ne,Te,J++):Ne),()=>{d=null,I()}))},()=>{w=!0,I()}))})}function Fr(s){return s<=0?()=>cn:(0,En.N)((a,o)=>{let u=0;a.subscribe((0,dn._)(o,d=>{++u<=s&&(o.next(d),s<=u&&o.complete())}))})}var Ha=H(9172),kr=H(5964),xn=H(1397);function Dr(s){return(0,En.N)((a,o)=>{let u=!1;a.subscribe((0,dn._)(o,d=>{u=!0,o.next(d)},()=>{u||o.next(s),o.complete()}))})}function ni(s=bi){return(0,En.N)((a,o)=>{let u=!1;a.subscribe((0,dn._)(o,d=>{u=!0,o.next(d)},()=>u?o.complete():o.error(s())))})}function bi(){return new qe}var so=H(3669);function ea(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kr.p)((d,y)=>s(d,y,u)):so.D,Fr(1),o?Dr(a):ni(()=>new qe))}function va(s,a){return(0,U.T)(a)?(0,xn.Z)(s,a,1):(0,xn.Z)(s,1)}function jn(s,a,o){const u=(0,U.T)(s)||a||o?{next:s,error:a,complete:o}:s;return u?(0,En.N)((d,y)=>{var w;null===(w=u.subscribe)||void 0===w||w.call(u);let I=!0;d.subscribe((0,dn._)(y,V=>{var J;null===(J=u.next)||void 0===J||J.call(u,V),y.next(V)},()=>{var V;I=!1,null===(V=u.complete)||void 0===V||V.call(u),y.complete()},V=>{var J;I=!1,null===(J=u.error)||void 0===J||J.call(u,V),y.error(V)},()=>{var V,J;I&&(null===(V=u.unsubscribe)||void 0===V||V.call(u)),null===(J=u.finalize)||void 0===J||J.call(u)}))}):so.D}function Bo(s){return(0,En.N)((a,o)=>{let y,u=null,d=!1;u=a.subscribe((0,dn._)(o,void 0,void 0,w=>{y=(0,Bt.Tg)(s(w,Bo(s)(a))),u?(u.unsubscribe(),u=null,y.subscribe(o)):d=!0})),d&&(u.unsubscribe(),u=null,y.subscribe(o))})}function ri(s){return s<=0?()=>cn:(0,En.N)((a,o)=>{let u=[];a.subscribe((0,dn._)(o,d=>{u.push(d),s<u.length&&u.shift()},()=>{for(const d of u)o.next(d);o.complete()},void 0,()=>{u=null}))})}function mr(s){return(0,En.N)((a,o)=>{try{a.subscribe(o)}finally{o.add(s)}})}var Hi=H(6977);let D=(()=>{class s{_doc;constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ft="primary",lo=Symbol("RouteTitle");class tu{params;constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o[0]:o}return null}getAll(a){if(this.has(a)){const o=this.params[a];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function ra(s){return new tu(s)}function Zs(s,a,o){const u=o.path.split("/");if(u.length>s.length||"full"===o.pathMatch&&(a.hasChildren()||u.length<s.length))return null;const d={};for(let y=0;y<u.length;y++){const w=u[y],I=s[y];if(":"===w[0])d[w.substring(1)]=I;else if(w!==I.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function ko(s,a){const o=s?Ka(s):void 0,u=a?Ka(a):void 0;if(!o||!u||o.length!=u.length)return!1;let d;for(let y=0;y<o.length;y++)if(d=o[y],!Ki(s[d],a[d]))return!1;return!0}function Ka(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function Ki(s,a){if(Array.isArray(s)&&Array.isArray(a)){if(s.length!==a.length)return!1;const o=[...s].sort(),u=[...a].sort();return o.every((d,y)=>u[y]===d)}return s===a}function ai(s){return s.length>0?s[s.length-1]:null}function Vo(s){return function A(s){return!!s&&(s instanceof or.c||(0,U.T)(s.lift)&&(0,U.T)(s.subscribe))}(s)?s:(0,ge.yLl)(s)?(0,F.H)(Promise.resolve(s)):ie(s)}const ii={exact:function qi(s,a,o){if(!ui(s.segments,a.segments)||!li(s.segments,a.segments,o)||s.numberOfChildren!==a.numberOfChildren)return!1;for(const u in a.children)if(!s.children[u]||!qi(s.children[u],a.children[u],o))return!1;return!0},subset:Qi},As={exact:function Gi(s,a){return ko(s,a)},subset:function Ga(s,a){return Object.keys(a).length<=Object.keys(s).length&&Object.keys(a).every(o=>Ki(s[o],a[o]))},ignored:()=>!0};function si(s,a,o){return ii[o.paths](s.root,a.root,o.matrixParams)&&As[o.queryParams](s.queryParams,a.queryParams)&&!("exact"===o.fragment&&s.fragment!==a.fragment)}function Qi(s,a,o){return Na(s,a,a.segments,o)}function Na(s,a,o,u){if(s.segments.length>o.length){const d=s.segments.slice(0,o.length);return!(!ui(d,o)||a.hasChildren()||!li(d,o,u))}if(s.segments.length===o.length){if(!ui(s.segments,o)||!li(s.segments,o,u))return!1;for(const d in a.children)if(!s.children[d]||!Qi(s.children[d],a.children[d],u))return!1;return!0}{const d=o.slice(0,s.segments.length),y=o.slice(s.segments.length);return!!(ui(s.segments,d)&&li(s.segments,d,u)&&s.children[Ft])&&Na(s.children[Ft],a,y,u)}}function li(s,a,o){return a.every((u,d)=>As[o](s[d].parameters,u.parameters))}class At{root;queryParams;fragment;_queryParamMap;constructor(a=new Jt([],{}),o={},u=null){this.root=a,this.queryParams=o,this.fragment=u}get queryParamMap(){return this._queryParamMap??=ra(this.queryParams),this._queryParamMap}toString(){return Ts.serialize(this)}}class Jt{segments;children;parent=null;constructor(a,o){this.segments=a,this.children=o,Object.values(o).forEach(u=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return di(this)}}class _a{path;parameters;_parameterMap;constructor(a,o){this.path=a,this.parameters=o}get parameterMap(){return this._parameterMap??=ra(this.parameters),this._parameterMap}toString(){return Si(this)}}function ui(s,a){return s.length===a.length&&s.every((o,u)=>o.path===a[u].path)}let Yi=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:()=>new qa,providedIn:"root"})}return s})();class qa{parse(a){const o=new L(a);return new At(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(a){const o=`/${Fa(a.root,!0)}`,u=function ba(s){const a=Object.entries(s).map(([o,u])=>Array.isArray(u)?u.map(d=>`${Xi(o)}=${Xi(d)}`).join("&"):`${Xi(o)}=${Xi(u)}`).filter(o=>o);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${o}${u}${"string"==typeof a.fragment?`#${function ru(s){return encodeURI(s)}(a.fragment)}`:""}`}}const Ts=new qa;function di(s){return s.segments.map(a=>Si(a)).join("/")}function Fa(s,a){if(!s.hasChildren())return di(s);if(a){const o=s.children[Ft]?Fa(s.children[Ft],!1):"",u=[];return Object.entries(s.children).forEach(([d,y])=>{d!==Ft&&u.push(`${d}:${Fa(y,!1)}`)}),u.length>0?`${o}(${u.join("//")})`:o}{const o=function ci(s,a){let o=[];return Object.entries(s.children).forEach(([u,d])=>{u===Ft&&(o=o.concat(a(d,u)))}),Object.entries(s.children).forEach(([u,d])=>{u!==Ft&&(o=o.concat(a(d,u)))}),o}(s,(u,d)=>d===Ft?[Fa(s.children[Ft],!1)]:[`${d}:${Fa(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ft]?`${di(s)}/${o[0]}`:`${di(s)}/(${o.join("//")})`}}function nu(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xi(s){return nu(s).replace(/%3B/gi,";")}function Qa(s){return nu(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ci(s){return decodeURIComponent(s)}function Ji(s){return Ci(s.replace(/\+/g,"%20"))}function Si(s){return`${Qa(s.path)}${function Ai(s){return Object.entries(s).map(([a,o])=>`;${Qa(a)}=${Qa(o)}`).join("")}(s.parameters)}`}const Ti=/^[^\/()?;#]+/;function E(s){const a=s.match(Ti);return a?a[0]:""}const f=/^[^\/()?;=#]+/,p=/^[^=?&#]+/,C=/^[^&#]+/;class L{url;remaining;constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(a.length>0||Object.keys(o).length>0)&&(u[Ft]=new Jt(a,o)),u}parseSegment(){const a=E(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new R.buA(4009,!1);return this.capture(a),new _a(Ci(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const o=function m(s){const a=s.match(f);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const d=E(this.remaining);d&&(u=d,this.capture(u))}a[Ci(o)]=Ci(u)}parseQueryParam(a){const o=function b(s){const a=s.match(p);return a?a[0]:""}(this.remaining);if(!o)return;this.capture(o);let u="";if(this.consumeOptional("=")){const w=function O(s){const a=s.match(C);return a?a[0]:""}(this.remaining);w&&(u=w,this.capture(u))}const d=Ji(o),y=Ji(u);if(a.hasOwnProperty(d)){let w=a[d];Array.isArray(w)||(w=[w],a[d]=w),w.push(y)}else a[d]=y}parseParens(a){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=E(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new R.buA(4010,!1);let y;u.indexOf(":")>-1?(y=u.slice(0,u.indexOf(":")),this.capture(y),this.capture(":")):a&&(y=Ft);const w=this.parseChildren();o[y??Ft]=1===Object.keys(w).length&&w[Ft]?w[Ft]:new Jt([],w),this.consumeOptional("//")}return o}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new R.buA(4011,!1)}}function W(s){return s.segments.length>0?new Jt([],{[Ft]:s}):s}function X(s){const a={};for(const[u,d]of Object.entries(s.children)){const y=X(d);if(u===Ft&&0===y.segments.length&&y.hasChildren())for(const[w,I]of Object.entries(y.children))a[w]=I;else(y.segments.length>0||y.hasChildren())&&(a[u]=y)}return function oe(s){if(1===s.numberOfChildren&&s.children[Ft]){const a=s.children[Ft];return new Jt(s.segments.concat(a.segments),a.children)}return s}(new Jt(s.segments,a))}function be(s){return s instanceof At}function He(s){let a;const d=W(function o(y){const w={};for(const V of y.children){const J=o(V);w[V.outlet]=J}const I=new Jt(y.url,w);return y===s&&(a=I),I}(s.root));return a??d}function Oe(s,a,o,u){let d=s;for(;d.parent;)d=d.parent;if(0===a.length)return gt(d,d,d,o,u);const y=function vt(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Vt(!0,0,s);let a=0,o=!1;const u=s.reduce((d,y,w)=>{if("object"==typeof y&&null!=y){if(y.outlets){const I={};return Object.entries(y.outlets).forEach(([V,J])=>{I[V]="string"==typeof J?J.split("/"):J}),[...d,{outlets:I}]}if(y.segmentPath)return[...d,y.segmentPath]}return"string"!=typeof y?[...d,y]:0===w?(y.split("/").forEach((I,V)=>{0==V&&"."===I||(0==V&&""===I?o=!0:".."===I?a++:""!=I&&d.push(I))}),d):[...d,y]},[]);return new Vt(o,a,u)}(a);if(y.toRoot())return gt(d,d,new Jt([],{}),o,u);const w=function kn(s,a,o){if(s.isAbsolute)return new _t(a,!0,0);if(!o)return new _t(a,!1,NaN);if(null===o.parent)return new _t(o,!0,0);const u=Je(s.commands[0])?0:1;return function Cr(s,a,o){let u=s,d=a,y=o;for(;y>d;){if(y-=d,u=u.parent,!u)throw new R.buA(4005,!1);d=u.segments.length}return new _t(u,!1,d-y)}(o,o.segments.length-1+u,s.numberOfDoubleDots)}(y,d,s),I=w.processChildren?Sr(w.segmentGroup,w.index,y.commands):Dn(w.segmentGroup,w.index,y.commands);return gt(d,w.segmentGroup,I,o,u)}function Je(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Ze(s){return"object"==typeof s&&null!=s&&s.outlets}function gt(s,a,o,u,d){let w,y={};u&&Object.entries(u).forEach(([V,J])=>{y[V]=Array.isArray(J)?J.map(Te=>`${Te}`):`${J}`}),w=s===a?o:Tt(s,a,o);const I=W(X(w));return new At(I,y,d)}function Tt(s,a,o){const u={};return Object.entries(s.children).forEach(([d,y])=>{u[d]=y===a?o:Tt(y,a,o)}),new Jt(s.segments,u)}class Vt{isAbsolute;numberOfDoubleDots;commands;constructor(a,o,u){if(this.isAbsolute=a,this.numberOfDoubleDots=o,this.commands=u,a&&u.length>0&&Je(u[0]))throw new R.buA(4003,!1);const d=u.find(Ze);if(d&&d!==ai(u))throw new R.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _t{segmentGroup;processChildren;index;constructor(a,o,u){this.segmentGroup=a,this.processChildren=o,this.index=u}}function Dn(s,a,o){if(s??=new Jt([],{}),0===s.segments.length&&s.hasChildren())return Sr(s,a,o);const u=function Do(s,a,o){let u=0,d=a;const y={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=o.length)return y;const w=s.segments[d],I=o[u];if(Ze(I))break;const V=`${I}`,J=u<o.length-1?o[u+1]:null;if(d>0&&void 0===V)break;if(V&&J&&"object"==typeof J&&void 0===J.outlets){if(!au(V,J,w))return y;u+=2}else{if(!au(V,{},w))return y;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,a,o),d=o.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const y=new Jt(s.segments.slice(0,u.pathIndex),{});return y.children[Ft]=new Jt(s.segments.slice(u.pathIndex),s.children),Sr(y,0,d)}return u.match&&0===d.length?new Jt(s.segments,{}):u.match&&!s.hasChildren()?Ms(s,a,o):u.match?Sr(s,0,d):Ms(s,a,o)}function Sr(s,a,o){if(0===o.length)return new Jt(s.segments,{});{const u=function gn(s){return Ze(s[0])?s[0].outlets:{[Ft]:s}}(o),d={};if(Object.keys(u).some(y=>y!==Ft)&&s.children[Ft]&&1===s.numberOfChildren&&0===s.children[Ft].segments.length){const y=Sr(s.children[Ft],a,o);return new Jt(s.segments,y.children)}return Object.entries(u).forEach(([y,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(d[y]=Dn(s.children[y],a,w))}),Object.entries(s.children).forEach(([y,w])=>{void 0===u[y]&&(d[y]=w)}),new Jt(s.segments,d)}}function Ms(s,a,o){const u=s.segments.slice(0,a);let d=0;for(;d<o.length;){const y=o[d];if(Ze(y)){const V=ou(y.outlets);return new Jt(u,V)}if(0===d&&Je(o[0])){u.push(new _a(s.segments[a].path,el(o[0]))),d++;continue}const w=Ze(y)?y.outlets[Ft]:`${y}`,I=d<o.length-1?o[d+1]:null;w&&I&&Je(I)?(u.push(new _a(w,el(I))),d+=2):(u.push(new _a(w,{})),d++)}return new Jt(u,{})}function ou(s){const a={};return Object.entries(s).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(a[o]=Ms(new Jt([],{}),0,u))}),a}function el(s){const a={};return Object.entries(s).forEach(([o,u])=>a[o]=`${u}`),a}function au(s,a,o){return s==o.path&&ko(a,o.parameters)}const xs="imperative";var Yt=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Yt||{});class wa{id;url;constructor(a,o){this.id=a,this.url=o}}class tl extends wa{type=Yt.NavigationStart;navigationTrigger;restoredState;constructor(a,o,u="imperative",d=null){super(a,o),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uo extends wa{urlAfterRedirects;type=Yt.NavigationEnd;constructor(a,o,u){super(a,o),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var hr=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s[s.Aborted=4]="Aborted",s}(hr||{}),nl=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(nl||{});class mi extends wa{reason;code;type=Yt.NavigationCancel;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Is extends wa{reason;code;type=Yt.NavigationSkipped;constructor(a,o,u,d){super(a,o),this.reason=u,this.code=d}}class iu extends wa{error;target;type=Yt.NavigationError;constructor(a,o,u,d){super(a,o),this.error=u,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class su extends wa{urlAfterRedirects;state;type=Yt.RoutesRecognized;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wc extends wa{urlAfterRedirects;state;type=Yt.GuardsCheckStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends wa{urlAfterRedirects;state;shouldActivate;type=Yt.GuardsCheckEnd;constructor(a,o,u,d,y){super(a,o),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lu extends wa{urlAfterRedirects;state;type=Yt.ResolveStart;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rl extends wa{urlAfterRedirects;state;type=Yt.ResolveEnd;constructor(a,o,u,d){super(a,o),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uu{route;type=Yt.RouteConfigLoadStart;constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ec{route;type=Yt.RouteConfigLoadEnd;constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zi{snapshot;type=Yt.ChildActivationStart;constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{snapshot;type=Yt.ChildActivationEnd;constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{snapshot;type=Yt.ActivationStart;constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{snapshot;type=Yt.ActivationEnd;constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{}class du{url;navigationBehaviorOptions;constructor(a,o){this.url=a,this.navigationBehaviorOptions=o}}function aa(s){return s.outlet||Ft}function Mi(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let a=s.parent;a;a=a.parent){const o=a.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}class Dc{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mi(this.route?.snapshot)??this.rootInjector}constructor(a){this.rootInjector=a,this.children=new xi(this.rootInjector)}}let xi=(()=>{class s{rootInjector;contexts=new Map;constructor(o){this.rootInjector=o}onChildOutletCreated(o,u){const d=this.getOrCreateContext(o);d.outlet=u,this.contexts.set(o,d)}onChildOutletDestroyed(o){const u=this.getContext(o);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let u=this.getContext(o);return u||(u=new Dc(this.rootInjector),this.contexts.set(o,u)),u}getContext(o){return this.contexts.get(o)||null}static \u0275fac=function(u){return new(u||s)(R.KVO(R.uvJ))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class sl{_root;constructor(a){this._root=a}get root(){return this._root.value}parent(a){const o=this.pathFromRoot(a);return o.length>1?o[o.length-2]:null}children(a){const o=Os(a,this._root);return o?o.children.map(u=>u.value):[]}firstChild(a){const o=Os(a,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(a){const o=ll(a,this._root);return o.length<2?[]:o[o.length-2].children.map(d=>d.value).filter(d=>d!==a)}pathFromRoot(a){return ll(a,this._root).map(o=>o.value)}}function Os(s,a){if(s===a.value)return a;for(const o of a.children){const u=Os(s,o);if(u)return u}return null}function ll(s,a){if(s===a.value)return[a];for(const o of a.children){const u=ll(s,o);if(u.length)return u.unshift(a),u}return[]}class ia{value;children;constructor(a,o){this.value=a,this.children=o}toString(){return`TreeNode(${this.value})`}}function _(s){const a={};return s&&s.children.forEach(o=>a[o.value.outlet]=o),a}class P extends sl{snapshot;constructor(a,o){super(a),this.snapshot=o,Un(this,a)}toString(){return this.snapshot.toString()}}function K(s){const a=function De(s){const y=new mn([],{},{},"",{},Ft,s,null,{});return new co("",new ia(y,[]))}(s),o=new Ce.t([new _a("",{})]),u=new Ce.t({}),d=new Ce.t({}),y=new Ce.t({}),w=new Ce.t(""),I=new Le(o,u,y,w,d,Ft,s,a.root);return I.snapshot=a.root,new P(new ia(I,[]),a)}class Le{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(a,o,u,d,y,w,I,V){this.urlSubject=a,this.paramsSubject=o,this.queryParamsSubject=u,this.fragmentSubject=d,this.dataSubject=y,this.outlet=w,this.component=I,this._futureSnapshot=V,this.title=this.dataSubject?.pipe((0,Nt.T)(J=>J[lo]))??ie(void 0),this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Nt.T)(a=>ra(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Nt.T)(a=>ra(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function at(s,a,o="emptyOnly"){let u;const{routeConfig:d}=s;return u=null===a||"always"!==o&&""!==d?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...a.params,...s.params},data:{...a.data,...s.data},resolve:{...s.data,...a.data,...d?.data,...s._resolvedData}},d&&nm(d)&&(u.resolve[lo]=d.title),u}class mn{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lo]}constructor(a,o,u,d,y,w,I,V,J){this.url=a,this.params=o,this.queryParams=u,this.fragment=d,this.data=y,this.outlet=w,this.component=I,this.routeConfig=V,this._resolve=J}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ra(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class co extends sl{url;constructor(a,o){super(o),this.url=a,Un(this,o)}toString(){return In(this._root)}}function Un(s,a){a.value._routerState=s,a.children.forEach(o=>Un(s,o))}function In(s){const a=s.children.length>0?` { ${s.children.map(In).join(", ")} } `:"";return`${s.value}${a}`}function ja(s){if(s.snapshot){const a=s.snapshot,o=s._futureSnapshot;s.snapshot=o,ko(a.queryParams,o.queryParams)||s.queryParamsSubject.next(o.queryParams),a.fragment!==o.fragment&&s.fragmentSubject.next(o.fragment),ko(a.params,o.params)||s.paramsSubject.next(o.params),function zi(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(!ko(s[o],a[o]))return!1;return!0}(a.url,o.url)||s.urlSubject.next(o.url),ko(a.data,o.data)||s.dataSubject.next(o.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function Cc(s,a){const o=ko(s.params,a.params)&&function La(s,a){return ui(s,a)&&s.every((o,u)=>ko(o.parameters,a[u].parameters))}(s.url,a.url);return o&&!(!s.parent!=!a.parent)&&(!s.parent||Cc(s.parent,a.parent))}function nm(s){return"string"==typeof s.title||null===s.title}const Jp=new R.nKC("");let mu=(()=>{class s{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ft;activateEvents=new ge.bkB;deactivateEvents=new ge.bkB;attachEvents=new ge.bkB;detachEvents=new ge.bkB;routerOutletData=(0,Qt.hFB)();parentContexts=(0,R.WQX)(xi);location=(0,R.WQX)(ge.c1b);changeDetector=(0,R.WQX)(Qt.gRc);inputBinder=(0,R.WQX)(rm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(o){if(o.name){const{firstChange:u,previousValue:d}=o.name;if(u)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.buA(4012,!1);this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,u){this.activated=o,this._activatedRoute=u,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,u){if(this.isActivated)throw new R.buA(4013,!1);this._activatedRoute=o;const d=this.location,w=o.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,V=new tv(o,I,d.injector,this.routerOutletData);this.activated=d.createComponent(w,{index:d.length,injector:V,environmentInjector:u}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(u){return new(u||s)};static \u0275dir=ge.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ge.OA$]})}return s})();class tv{route;childContexts;parent;outletData;constructor(a,o,u,d){this.route=a,this.childContexts=o,this.parent=u,this.outletData=d}get(a,o){return a===Le?this.route:a===xi?this.childContexts:a===Jp?this.outletData:this.parent.get(a,o)}}const rm=new R.nKC("");let om=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275cmp=ge.VBU({type:s,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(u,d){1&u&&ge.nrm(0,"router-outlet")},dependencies:[mu],encapsulation:2})}return s})();function Sc(s){const a=s.children&&s.children.map(Sc),o=a?{...s,children:a}:{...s};return!o.component&&!o.loadComponent&&(a||o.loadChildren)&&o.outlet&&o.outlet!==Ft&&(o.component=om),o}function Ps(s,a,o){if(o&&s.shouldReuseRoute(a.value,o.value.snapshot)){const u=o.value;u._futureSnapshot=a.value;const d=function ef(s,a,o){return a.children.map(u=>{for(const d of o.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return Ps(s,u,d);return Ps(s,u)})}(s,a,o);return new ia(u,d)}{if(s.shouldAttach(a.value)){const y=s.retrieve(a.value);if(null!==y){const w=y.route;return w.value._futureSnapshot=a.value,w.children=a.children.map(I=>Ps(s,I)),w}}const u=function nv(s){return new Le(new Ce.t(s.url),new Ce.t(s.params),new Ce.t(s.queryParams),new Ce.t(s.fragment),new Ce.t(s.data),s.outlet,s.component,s)}(a.value),d=a.children.map(y=>Ps(s,y));return new ia(u,d)}}class am{redirectTo;navigationBehaviorOptions;constructor(a,o){this.redirectTo=a,this.navigationBehaviorOptions=o}}const im="ngNavigationCancelingError";function pu(s,a){const{redirectTo:o,navigationBehaviorOptions:u}=be(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,d=sm(!1,hr.Redirect);return d.url=o,d.navigationBehaviorOptions=u,d}function sm(s,a){const o=new Error(`NavigationCancelingError: ${s||""}`);return o[im]=!0,o.cancellationCode=a,o}function lm(s){return!!s&&s[im]}class ov{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(a,o,u,d,y){this.routeReuseStrategy=a,this.futureState=o,this.currState=u,this.forwardEvent=d,this.inputBindingEnabled=y}activate(a){const o=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,u,a),ja(this.futureState.root),this.activateChildRoutes(o,u,a)}deactivateChildRoutes(a,o,u){const d=_(o);a.children.forEach(y=>{const w=y.value.outlet;this.deactivateRoutes(y,d[w],u),delete d[w]}),Object.values(d).forEach(y=>{this.deactivateRouteAndItsChildren(y,u)})}deactivateRoutes(a,o,u){const d=a.value,y=o?o.value:null;if(d===y)if(d.component){const w=u.getContext(d.outlet);w&&this.deactivateChildRoutes(a,o,w.children)}else this.deactivateChildRoutes(a,o,u);else y&&this.deactivateRouteAndItsChildren(o,u)}deactivateRouteAndItsChildren(a,o){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,o):this.deactivateRouteAndOutlet(a,o)}detachAndStoreRouteSubtree(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,y=_(a);for(const w of Object.values(y))this.deactivateRouteAndItsChildren(w,d);if(u&&u.outlet){const w=u.outlet.detach(),I=u.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:w,route:a,contexts:I})}}deactivateRouteAndOutlet(a,o){const u=o.getContext(a.value.outlet),d=u&&a.value.component?u.children:o,y=_(a);for(const w of Object.values(y))this.deactivateRouteAndItsChildren(w,d);u&&(u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated()),u.attachRef=null,u.route=null)}activateChildRoutes(a,o,u){const d=_(o);a.children.forEach(y=>{this.activateRoutes(y,d[y.value.outlet],u),this.forwardEvent(new cu(y.value.snapshot))}),a.children.length&&this.forwardEvent(new oa(a.value.snapshot))}activateRoutes(a,o,u){const d=a.value,y=o?o.value:null;if(ja(d),d===y)if(d.component){const w=u.getOrCreateContext(d.outlet);this.activateChildRoutes(a,o,w.children)}else this.activateChildRoutes(a,o,u);else if(d.component){const w=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const I=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),w.children.onOutletReAttached(I.contexts),w.attachRef=I.componentRef,w.route=I.route.value,w.outlet&&w.outlet.attach(I.componentRef,I.route.value),ja(I.route.value),this.activateChildRoutes(a,null,w.children)}else w.attachRef=null,w.route=d,w.outlet&&w.outlet.activateWith(d,w.injector),this.activateChildRoutes(a,null,w.children)}else this.activateChildRoutes(a,null,u)}}class nf{path;route;constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class Ns{component;route;constructor(a,o){this.component=a,this.route=o}}function av(s,a,o){const u=s._root;return fu(u,a?a._root:null,o,[u.value])}function ul(s,a){const o=Symbol(),u=a.get(s,o);return u===o?"function"!=typeof s||(0,R.muV)(s)?a.get(s):s:u}function fu(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=_(a);return s.children.forEach(w=>{(function sv(s,a,o,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=s.value,w=a?a.value:null,I=o?o.getContext(s.value.outlet):null;if(w&&y.routeConfig===w.routeConfig){const V=function rf(s,a,o){if("function"==typeof o)return o(s,a);switch(o){case"pathParamsChange":return!ui(s.url,a.url);case"pathParamsOrQueryParamsChange":return!ui(s.url,a.url)||!ko(s.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cc(s,a)||!ko(s.queryParams,a.queryParams);default:return!Cc(s,a)}}(w,y,y.routeConfig.runGuardsAndResolvers);V?d.canActivateChecks.push(new nf(u)):(y.data=w.data,y._resolvedData=w._resolvedData),fu(s,a,y.component?I?I.children:null:o,u,d),V&&I&&I.outlet&&I.outlet.isActivated&&d.canDeactivateChecks.push(new Ns(I.outlet.component,w))}else w&&Ii(a,I,d),d.canActivateChecks.push(new nf(u)),fu(s,null,y.component?I?I.children:null:o,u,d)})(w,y[w.value.outlet],o,u.concat([w.value]),d),delete y[w.value.outlet]}),Object.entries(y).forEach(([w,I])=>Ii(I,o.getContext(w),d)),d}function Ii(s,a,o){const u=_(s),d=s.value;Object.entries(u).forEach(([y,w])=>{Ii(w,d.component?a?a.children.getContext(y):null:a,o)}),o.canDeactivateChecks.push(new Ns(d.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,d))}function Ri(s){return"function"==typeof s}function ns(s){return s instanceof qe||"EmptyError"===s?.name}const sa=Symbol("INITIAL_VALUE");function rs(){return Nn(s=>(0,lt.z)(s.map(a=>a.pipe(Fr(1),(0,Ha.Z)(sa)))).pipe((0,Nt.T)(a=>{for(const o of a)if(!0!==o){if(o===sa)return sa;if(!1===o||lf(o))return o}return!0}),(0,kr.p)(a=>a!==sa),Fr(1)))}function lf(s){return be(s)||s instanceof am}function yu(s){return(0,fn.F)(jn(a=>{if("boolean"!=typeof a)throw pu(0,a)}),(0,Nt.T)(a=>!0===a))}class Tc{segmentGroup;constructor(a){this.segmentGroup=a||null}}class la extends Error{urlTree;constructor(a){super(),this.urlTree=a}}function Ls(s){return yn(new Tc(s))}function ym(s){return yn(new R.buA(4e3,!1))}class pf{urlSerializer;urlTree;constructor(a,o){this.urlSerializer=a,this.urlTree=o}lineralizeSegments(a,o){let u=[],d=o.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return ie(u);if(d.numberOfChildren>1||!d.children[Ft])return ym();d=d.children[Ft]}}applyRedirectCommands(a,o,u,d,y){return function ff(s,a,o){if("string"==typeof s)return ie(s);const u=s,{queryParams:d,fragment:y,routeConfig:w,url:I,outlet:V,params:J,data:Te,title:Ne}=a;return Vo((0,R.N4e)(o,()=>u({params:J,data:Te,queryParams:d,fragment:y,routeConfig:w,url:I,outlet:V,title:Ne})))}(o,d,y).pipe((0,Nt.T)(w=>{if(w instanceof At)throw new la(w);const I=this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),a,u);if("/"===w[0])throw new la(I);return I}))}applyRedirectCreateUrlTree(a,o,u,d){const y=this.createSegmentGroup(a,o.root,u,d);return new At(y,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(a,o){const u={};return Object.entries(a).forEach(([d,y])=>{if("string"==typeof y&&":"===y[0]){const I=y.substring(1);u[d]=o[I]}else u[d]=y}),u}createSegmentGroup(a,o,u,d){const y=this.createSegments(a,o.segments,u,d);let w={};return Object.entries(o.children).forEach(([I,V])=>{w[I]=this.createSegmentGroup(a,V,u,d)}),new Jt(y,w)}createSegments(a,o,u,d){return o.map(y=>":"===y.path[0]?this.findPosParam(a,y,d):this.findOrReturn(y,u))}findPosParam(a,o,u){const d=u[o.path.substring(1)];if(!d)throw new R.buA(4001,!1);return d}findOrReturn(a,o){let u=0;for(const d of o){if(d.path===a.path)return o.splice(u),d;u++}return a}}const Mc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gm(s,a,o,u,d){const y=vm(s,a,o);return y.matched?(u=function ol(s,a){return s.providers&&!s._injector&&(s._injector=(0,ge.Ol2)(s.providers,a,`Route: ${s.path}`)),s._injector??a}(a,u),function mf(s,a,o,u){const d=a.canMatch;return d&&0!==d.length?ie(d.map(w=>{const I=ul(w,s);return Vo(function mm(s){return s&&Ri(s.canMatch)}(I)?I.canMatch(a,o):(0,R.N4e)(s,()=>I(a,o)))})).pipe(rs(),yu()):ie(!0)}(u,a,o).pipe((0,Nt.T)(w=>!0===w?y:{...Mc}))):ie(y)}function vm(s,a,o){if("**"===a.path)return function yf(s){return{matched:!0,parameters:s.length>0?ai(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(o);if(""===a.path)return"full"===a.pathMatch&&(s.hasChildren()||o.length>0)?{...Mc}:{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};const d=(a.matcher||Zs)(o,s,a);if(!d)return{...Mc};const y={};Object.entries(d.posParams??{}).forEach(([I,V])=>{y[I]=V.path});const w=d.consumed.length>0?{...y,...d.consumed[d.consumed.length-1].parameters}:y;return{matched:!0,consumedSegments:d.consumed,remainingSegments:o.slice(d.consumed.length),parameters:w,positionalParamSegments:d.posParams??{}}}function _m(s,a,o,u){return o.length>0&&function bm(s,a,o){return o.some(u=>os(s,a,u)&&aa(u)!==Ft)}(s,o,u)?{segmentGroup:new Jt(a,xc(u,new Jt(o,s.children))),slicedSegments:[]}:0===o.length&&function Ic(s,a,o){return o.some(u=>os(s,a,u))}(s,o,u)?{segmentGroup:new Jt(s.segments,wn(s,o,u,s.children)),slicedSegments:o}:{segmentGroup:new Jt(s.segments,s.children),slicedSegments:o}}function wn(s,a,o,u){const d={};for(const y of o)if(os(s,a,y)&&!u[aa(y)]){const w=new Jt([],{});d[aa(y)]=w}return{...u,...d}}function xc(s,a){const o={};o[Ft]=a;for(const u of s)if(""===u.path&&aa(u)!==Ft){const d=new Jt([],{});o[aa(u)]=d}return o}function os(s,a,o){return(!(s.hasChildren()||a.length>0)||"full"!==o.pathMatch)&&""===o.path}class wm{}class km{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(a,o,u,d,y,w,I){this.injector=a,this.configLoader=o,this.rootComponentType=u,this.config=d,this.urlTree=y,this.paramsInheritanceStrategy=w,this.urlSerializer=I,this.applyRedirects=new pf(this.urlSerializer,this.urlTree)}noMatchError(a){return new R.buA(4002,`'${a.segmentGroup}'`)}recognize(){const a=_m(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,Nt.T)(({children:o,rootSnapshot:u})=>{const d=new ia(u,o),y=new co("",d),w=function Ie(s,a,o=null,u=null){return Oe(He(s),a,o,u)}(u,[],this.urlTree.queryParams,this.urlTree.fragment);return w.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(w),{state:y,tree:w}}))}match(a){const o=new mn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,Ft,o).pipe((0,Nt.T)(u=>({children:u,rootSnapshot:o})),Bo(u=>{if(u instanceof la)return this.urlTree=u.urlTree,this.match(u.urlTree.root);throw u instanceof Tc?this.noMatchError(u):u}))}processSegmentGroup(a,o,u,d,y){return 0===u.segments.length&&u.hasChildren()?this.processChildren(a,o,u,y):this.processSegment(a,o,u,u.segments,d,!0,y).pipe((0,Nt.T)(w=>w instanceof ia?[w]:[]))}processChildren(a,o,u,d){const y=[];for(const w of Object.keys(u.children))"primary"===w?y.unshift(w):y.push(w);return(0,F.H)(y).pipe(va(w=>{const I=u.children[w],V=function kc(s,a){const o=s.filter(u=>aa(u)===a);return o.push(...s.filter(u=>aa(u)!==a)),o}(o,w);return this.processSegmentGroup(a,V,I,w,d)}),function $i(s,a){return(0,En.N)(function St(s,a,o,u,d){return(y,w)=>{let I=o,V=a,J=0;y.subscribe((0,dn._)(w,Te=>{const Ne=J++;V=I?s(V,Te,Ne):(I=!0,Te),u&&w.next(V)},d&&(()=>{I&&w.next(V),w.complete()})))}}(s,a,arguments.length>=2,!0))}((w,I)=>(w.push(...I),w)),Dr(null),function wi(s,a){const o=arguments.length>=2;return u=>u.pipe(s?(0,kr.p)((d,y)=>s(d,y,u)):so.D,ri(1),o?Dr(a):ni(()=>new qe))}(),(0,xn.Z)(w=>{if(null===w)return Ls(u);const I=Rc(w);return function gf(s){s.sort((a,o)=>a.value.outlet===Ft?-1:o.value.outlet===Ft?1:a.value.outlet.localeCompare(o.value.outlet))}(I),ie(I)}))}processSegment(a,o,u,d,y,w,I){return(0,F.H)(o).pipe(va(V=>this.processSegmentAgainstRoute(V._injector??a,o,V,u,d,y,w,I).pipe(Bo(J=>{if(J instanceof Tc)return ie(null);throw J}))),ea(V=>!!V),Bo(V=>{if(ns(V))return function as(s,a,o){return 0===a.length&&!s.children[o]}(u,d,y)?ie(new wm):Ls(u);throw V}))}processSegmentAgainstRoute(a,o,u,d,y,w,I,V){return aa(u)===w||w!==Ft&&os(d,y,u)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(a,d,u,y,w,V):this.allowRedirects&&I?this.expandSegmentAgainstRouteUsingRedirect(a,d,o,u,y,w,V):Ls(d):Ls(d)}expandSegmentAgainstRouteUsingRedirect(a,o,u,d,y,w,I){const{matched:V,parameters:J,consumedSegments:Te,positionalParamSegments:Ne,remainingSegments:ut}=vm(o,d,y);if(!V)return Ls(o);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const dt=new mn(y,J,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cm(d),aa(d),d.component??d._loadedComponent??null,d,Oc(d)),ot=at(dt,I,this.paramsInheritanceStrategy);return dt.params=Object.freeze(ot.params),dt.data=Object.freeze(ot.data),this.applyRedirects.applyRedirectCommands(Te,d.redirectTo,Ne,dt,a).pipe(Nn(bt=>this.applyRedirects.lineralizeSegments(d,bt)),(0,xn.Z)(bt=>this.processSegment(a,u,o,bt.concat(ut),w,!1,I)))}matchSegmentAgainstRoute(a,o,u,d,y,w){const I=gm(o,u,d,a);return"**"===u.path&&(o.children={}),I.pipe(Nn(V=>V.matched?this.getChildConfig(a=u._injector??a,u,d).pipe(Nn(({routes:J})=>{const Te=u._loadedInjector??a,{parameters:Ne,consumedSegments:ut,remainingSegments:dt}=V,ot=new mn(ut,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cm(u),aa(u),u.component??u._loadedComponent??null,u,Oc(u)),it=at(ot,w,this.paramsInheritanceStrategy);ot.params=Object.freeze(it.params),ot.data=Object.freeze(it.data);const{segmentGroup:bt,slicedSegments:xt}=_m(o,ut,dt,J);if(0===xt.length&&bt.hasChildren())return this.processChildren(Te,J,bt,ot).pipe((0,Nt.T)(sn=>new ia(ot,sn)));if(0===J.length&&0===xt.length)return ie(new ia(ot,[]));const $t=aa(u)===y;return this.processSegment(Te,J,bt,xt,$t?Ft:y,!0,ot).pipe((0,Nt.T)(sn=>new ia(ot,sn instanceof ia?[sn]:[])))})):Ls(o)))}getChildConfig(a,o,u){return o.children?ie({routes:o.children,injector:a}):o.loadChildren?void 0!==o._loadedRoutes?ie({routes:o._loadedRoutes,injector:o._loadedInjector}):function df(s,a,o,u){const d=a.canLoad;return void 0===d||0===d.length?ie(!0):ie(d.map(w=>{const I=ul(w,s);return Vo(function cm(s){return s&&Ri(s.canLoad)}(I)?I.canLoad(a,o):(0,R.N4e)(s,()=>I(a,o)))})).pipe(rs(),yu())}(a,o,u).pipe((0,xn.Z)(d=>d?this.configLoader.loadChildren(a,o).pipe(jn(y=>{o._loadedRoutes=y.routes,o._loadedInjector=y.injector})):function hf(){return yn(sm(!1,hr.GuardRejected))}())):ie({routes:[],injector:a})}}function vf(s){const a=s.value.routeConfig;return a&&""===a.path}function Rc(s){const a=[],o=new Set;for(const u of s){if(!vf(u)){a.push(u);continue}const d=a.find(y=>u.value.routeConfig===y.value.routeConfig);void 0!==d?(d.children.push(...u.children),o.add(d)):a.push(u)}for(const u of o){const d=Rc(u.children);a.push(new ia(u.value,d))}return a.filter(u=>!o.has(u))}function Cm(s){return s.data||{}}function Oc(s){return s.resolve||{}}function vu(s){const a=s.children.map(o=>vu(o)).flat();return[s,...a]}function _u(s){return Nn(a=>{const o=s(a);return o?(0,F.H)(o).pipe((0,Nt.T)(()=>a)):ie(a)})}let ml=(()=>{class s{buildTitle(o){let u,d=o.root;for(;void 0!==d;)u=this.getResolvedTitleForRoute(d)??u,d=d.children.find(y=>y.outlet===Ft);return u}getResolvedTitleForRoute(o){return o.data[lo]}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:()=>(0,R.WQX)(hl),providedIn:"root"})}return s})(),hl=(()=>{class s extends ml{title;constructor(o){super(),this.title=o}updateTitle(o){const u=this.buildTitle(o);void 0!==u&&this.title.setTitle(u)}static \u0275fac=function(u){return new(u||s)(R.KVO(D))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const is=new R.nKC("",{providedIn:"root",factory:()=>({})}),pl=new R.nKC("");let bu=(()=>{class s{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,R.WQX)(ge.Ql9);loadComponent(o,u){if(this.componentLoaders.get(u))return this.componentLoaders.get(u);if(u._loadedComponent)return ie(u._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(u);const d=Vo((0,R.N4e)(o,()=>u.loadComponent())).pipe((0,Nt.T)(ss),Nn(Am),jn(w=>{this.onLoadEndListener&&this.onLoadEndListener(u),u._loadedComponent=w}),mr(()=>{this.componentLoaders.delete(u)})),y=new Lr(d,()=>new Mn.B).pipe(Er());return this.componentLoaders.set(u,y),y}loadChildren(o,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return ie({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const y=function bf(s,a,o,u){return Vo((0,R.N4e)(o,()=>s.loadChildren())).pipe((0,Nt.T)(ss),Nn(Am),(0,xn.Z)(d=>d instanceof ge.PYt||Array.isArray(d)?ie(d):(0,F.H)(a.compileModuleAsync(d))),(0,Nt.T)(d=>{u&&u(s);let y,w,I=!1;return Array.isArray(d)?(w=d,!0):(y=d.create(o).injector,w=y.get(pl,[],{optional:!0,self:!0}).flat()),{routes:w.map(Sc),injector:y}}))}(u,this.compiler,o,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(u)})),w=new Lr(y,()=>new Mn.B).pipe(Er());return this.childrenLoaders.set(u,w),w}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ss(s){return function wu(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}function Am(s){return ie(s)}let Nc=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:()=>(0,R.WQX)(Tm),providedIn:"root"})}return s})(),Tm=(()=>{class s{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,u){return o}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Mm=new R.nKC(""),ls=new R.nKC("");let Lc=(()=>{class s{currentNavigation=(0,R.vPA)(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Mn.B;transitionAbortWithErrorSubject=new Mn.B;configLoader=(0,R.WQX)(bu);environmentInjector=(0,R.WQX)(R.uvJ);destroyRef=(0,R.WQX)(R.abz);urlSerializer=(0,R.WQX)(Yi);rootContexts=(0,R.WQX)(xi);location=(0,R.WQX)(k.aZ);inputBindingEnabled=null!==(0,R.WQX)(rm,{optional:!0});titleStrategy=(0,R.WQX)(ml);options=(0,R.WQX)(is,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,R.WQX)(Nc);createViewTransition=(0,R.WQX)(Mm,{optional:!0});navigationErrorHandler=(0,R.WQX)(ls,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new Ec(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new uu(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(o){const u=++this.navigationId;(0,ga.O8)(()=>{this.transitions?.next({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:u})})}setupNavigations(o){return this.transitions=new Ce.t(null),this.transitions.pipe((0,kr.p)(u=>null!==u),Nn(u=>{let d=!1;return ie(u).pipe(Nn(y=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",hr.SupersededByNewNavigation),cn;this.currentTransition=u,this.currentNavigation.set({id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,targetBrowserUrl:"string"==typeof y.extras.browserUrl?this.urlSerializer.parse(y.extras.browserUrl):y.extras.browserUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>y.abortController.abort()});const w=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(y.extras.onSameUrlNavigation??o.onSameUrlNavigation))return this.events.next(new Is(y.id,this.urlSerializer.serialize(y.rawUrl),"",nl.IgnoredSameUrlNavigation)),y.resolve(!1),cn;if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return ie(y).pipe(Nn(V=>(this.events.next(new tl(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),V.id!==this.navigationId?cn:Promise.resolve(V))),function gu(s,a,o,u,d,y){return(0,xn.Z)(w=>function Em(s,a,o,u,d,y,w="emptyOnly"){return new km(s,a,o,u,d,w,y).recognize()}(s,a,o,u,w.extractedUrl,d,y).pipe((0,Nt.T)(({state:I,tree:V})=>({...w,targetSnapshot:I,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),jn(V=>{u.targetSnapshot=V.targetSnapshot,u.urlAfterRedirects=V.urlAfterRedirects,this.currentNavigation.update(Te=>(Te.finalUrl=V.urlAfterRedirects,Te));const J=new su(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(J)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:V,extractedUrl:J,source:Te,restoredState:Ne,extras:ut}=y,dt=new tl(V,this.urlSerializer.serialize(J),Te,Ne);this.events.next(dt);const ot=K(this.rootComponentType).snapshot;return this.currentTransition=u={...y,targetSnapshot:ot,urlAfterRedirects:J,extras:{...ut,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(it=>(it.finalUrl=J,it)),ie(u)}return this.events.next(new Is(y.id,this.urlSerializer.serialize(y.extractedUrl),"",nl.IgnoredByUrlHandlingStrategy)),y.resolve(!1),cn}),jn(y=>{const w=new wc(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),(0,Nt.T)(y=>(this.currentTransition=u={...y,guards:av(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},u)),function uf(s,a){return(0,xn.Z)(o=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:y,canDeactivateChecks:w}}=o;return 0===w.length&&0===y.length?ie({...o,guardsResult:!0}):function lv(s,a,o,u){return(0,F.H)(s).pipe((0,xn.Z)(d=>function fm(s,a,o,u,d){const y=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return y&&0!==y.length?ie(y.map(I=>{const V=Mi(a)??d,J=ul(I,V);return Vo(function sf(s){return s&&Ri(s.canDeactivate)}(J)?J.canDeactivate(s,a,o,u):(0,R.N4e)(V,()=>J(s,a,o,u))).pipe(ea())})).pipe(rs()):ie(!0)}(d.component,d.route,o,a,u)),ea(d=>!0!==d,!0))}(w,u,d,s).pipe((0,xn.Z)(I=>I&&function um(s){return"boolean"==typeof s}(I)?function uv(s,a,o,u){return(0,F.H)(a).pipe(va(d=>(0,Dt.x)(function pm(s,a){return null!==s&&a&&a(new Zi(s)),ie(!0)}(d.route.parent,u),function hm(s,a){return null!==s&&a&&a(new es(s)),ie(!0)}(d.route,u),function cf(s,a,o){const u=a[a.length-1],y=a.slice(0,a.length-1).reverse().map(w=>function iv(s){const a=s.routeConfig?s.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:s,guards:a}:null}(w)).filter(w=>null!==w).map(w=>ft(()=>ie(w.guards.map(V=>{const J=Mi(w.node)??o,Te=ul(V,J);return Vo(function af(s){return s&&Ri(s.canActivateChild)}(Te)?Te.canActivateChild(u,s):(0,R.N4e)(J,()=>Te(u,s))).pipe(ea())})).pipe(rs())));return ie(y).pipe(rs())}(s,d.path,o),function cv(s,a,o){const u=a.routeConfig?a.routeConfig.canActivate:null;if(!u||0===u.length)return ie(!0);const d=u.map(y=>ft(()=>{const w=Mi(a)??o,I=ul(y,w);return Vo(function dm(s){return s&&Ri(s.canActivate)}(I)?I.canActivate(a,s):(0,R.N4e)(w,()=>I(a,s))).pipe(ea())}));return ie(d).pipe(rs())}(s,d.route,o))),ea(d=>!0!==d,!0))}(u,y,s,a):ie(I)),(0,Nt.T)(I=>({...o,guardsResult:I})))})}(this.environmentInjector,y=>this.events.next(y)),jn(y=>{if(u.guardsResult=y.guardsResult,y.guardsResult&&"boolean"!=typeof y.guardsResult)throw pu(0,y.guardsResult);const w=new Rs(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),(0,kr.p)(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",hr.GuardRejected),!1)),_u(y=>{if(0!==y.guards.canActivateChecks.length)return ie(y).pipe(jn(w=>{const I=new lu(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}),Nn(w=>{let I=!1;return ie(w).pipe(function _f(s,a){return(0,xn.Z)(o=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=o;if(!d.length)return ie(o);const y=new Set(d.map(V=>V.route)),w=new Set;for(const V of y)if(!w.has(V))for(const J of vu(V))w.add(J);let I=0;return(0,F.H)(w).pipe(va(V=>y.has(V)?function dl(s,a,o,u){const d=s.routeConfig,y=s._resolve;return void 0!==d?.title&&!nm(d)&&(y[lo]=d.title),ft(()=>(s.data=at(s,s.parent,o).resolve,function Pc(s,a,o,u){const d=Ka(s);if(0===d.length)return ie({});const y={};return(0,F.H)(d).pipe((0,xn.Z)(w=>function Sm(s,a,o,u){const d=Mi(a)??u,y=ul(s,d);return Vo(y.resolve?y.resolve(a,o):(0,R.N4e)(d,()=>y(a,o)))}(s[w],a,o,u).pipe(ea(),jn(I=>{if(I instanceof am)throw pu(new qa,I);y[w]=I}))),ri(1),(0,Nt.T)(()=>y),Bo(w=>ns(w)?cn:yn(w)))}(y,s,a,u).pipe((0,Nt.T)(w=>(s._resolvedData=w,s.data={...s.data,...w},null)))))}(V,u,s,a):(V.data=at(V,V.parent,s).resolve,ie(void 0))),jn(()=>I++),ri(1),(0,xn.Z)(V=>I===w.size?ie(o):cn))})}(this.paramsInheritanceStrategy,this.environmentInjector),jn({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(w,"",hr.NoDataFromResolver)}}))}),jn(w=>{const I=new rl(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}))}),_u(y=>{const w=I=>{const V=[];if(I.routeConfig?.loadComponent){const J=Mi(I)??this.environmentInjector;V.push(this.configLoader.loadComponent(J,I.routeConfig).pipe(jn(Te=>{I.component=Te}),(0,Nt.T)(()=>{})))}for(const J of I.children)V.push(...w(J));return V};return(0,lt.z)(w(y.targetSnapshot.root)).pipe(Dr(null),Fr(1))}),_u(()=>this.afterPreactivation()),Nn(()=>{const{currentSnapshot:y,targetSnapshot:w}=u,I=this.createViewTransition?.(this.environmentInjector,y.root,w.root);return I?(0,F.H)(I).pipe((0,Nt.T)(()=>u)):ie(u)}),(0,Nt.T)(y=>{const w=function Zp(s,a,o){const u=Ps(s,a._root,o?o._root:void 0);return new P(u,a)}(o.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u={...y,targetRouterState:w},this.currentNavigation.update(I=>(I.targetRouterState=w,I)),u}),jn(()=>{this.events.next(new ts)}),((s,a,o,u)=>(0,Nt.T)(d=>(new ov(a,d.targetRouterState,d.currentRouterState,o,u).activate(s),d)))(this.rootContexts,o.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Fr(1),(0,Hi.Q)(new or.c(y=>{const w=u.abortController.signal,I=()=>y.next();return w.addEventListener("abort",I),()=>w.removeEventListener("abort",I)}).pipe((0,kr.p)(()=>!d&&!u.targetRouterState),jn(()=>{this.cancelNavigationTransition(u,u.abortController.signal.reason+"",hr.Aborted)}))),jn({next:y=>{d=!0,this.lastSuccessfulNavigation=(0,ga.O8)(this.currentNavigation),this.events.next(new uo(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{d=!0}}),(0,Hi.Q)(this.transitionAbortWithErrorSubject.pipe(jn(y=>{throw y}))),mr(()=>{d||this.cancelNavigationTransition(u,"",hr.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Bo(y=>{if(this.destroyed)return u.resolve(!1),cn;if(d=!0,lm(y))this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),function tf(s){return lm(s)&&be(s.url)}(y)?this.events.next(new du(y.url,y.navigationBehaviorOptions)):u.resolve(!1);else{const w=new iu(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0);try{const I=(0,R.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(!(I instanceof am))throw this.events.next(w),y;{const{message:V,cancellationCode:J}=pu(0,I);this.events.next(new mi(u.id,this.urlSerializer.serialize(u.extractedUrl),V,J)),this.events.next(new du(I.redirectTo,I.navigationBehaviorOptions))}}catch(I){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(I)}}return cn}))}))}cancelNavigationTransition(o,u,d){const y=new mi(o.id,this.urlSerializer.serialize(o.extractedUrl),u,d);this.events.next(y),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const o=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),u=(0,ga.O8)(this.currentNavigation),d=u?.targetBrowserUrl??u?.extractedUrl;return o.toString()!==d?.toString()&&!u?.extras.skipLocationChange}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function fl(s){return s!==xs}let xm=(()=>{class s{static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:()=>(0,R.WQX)(Im),providedIn:"root"})}return s})();class Yr{shouldDetach(a){return!1}store(a,o){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,o){return a.routeConfig===o.routeConfig}}let Im=(()=>{class s extends Yr{static \u0275fac=(()=>{let o;return function(d){return(o||(o=ge.xGo(s)))(d||s)}})();static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Rm=(()=>{class s{urlSerializer=(0,R.WQX)(Yi);options=(0,R.WQX)(is,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,R.WQX)(k.aZ);urlHandlingStrategy=(0,R.WQX)(Nc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new At;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:o,initialUrl:u,targetBrowserUrl:d}){const y=void 0!==o?this.urlHandlingStrategy.merge(o,u):u,w=d??y;return w instanceof At?this.urlSerializer.serialize(w):w}commitTransition({targetRouterState:o,finalUrl:u,initialUrl:d}){u&&o?(this.currentUrlTree=u,this.rawUrlTree=this.urlHandlingStrategy.merge(u,d),this.routerState=o):this.rawUrlTree=d}routerState=K(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:o}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o??this.rawUrlTree)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:()=>(0,R.WQX)(hi),providedIn:"root"})}return s})(),hi=(()=>{class s extends Rm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(u=>{"popstate"===u.type&&setTimeout(()=>{o(u.url,u.state,"popstate")})})}handleRouterEvent(o,u){o instanceof tl?this.updateStateMemento():o instanceof Is?this.commitTransition(u):o instanceof su?"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof ts?(this.commitTransition(u),"deferred"===this.urlUpdateStrategy&&!u.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(u),u)):o instanceof mi&&o.code!==hr.SupersededByNewNavigation&&o.code!==hr.Redirect?this.restoreHistory(u):o instanceof iu?this.restoreHistory(u,!0):o instanceof uo&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,{extras:u,id:d}){const{replaceUrl:y,state:w}=u;if(this.location.isCurrentPathEqualTo(o)||y){const I=this.browserPageId,V={...w,...this.generateNgRouterState(d,I)};this.location.replaceState(o,"",V)}else{const I={...w,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(o,"",I)}}restoreHistory(o,u=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-this.browserPageId;0!==y?this.location.historyGo(y):this.getCurrentUrlTree()===o.finalUrl&&0===y&&(this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(u&&this.resetInternalState(o),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,u){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:u}:{navigationId:o}}static \u0275fac=(()=>{let o;return function(d){return(o||(o=ge.xGo(s)))(d||s)}})();static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Pm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ya=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,R.WQX)(ge.C7A);stateManager=(0,R.WQX)(Rm);options=(0,R.WQX)(is,{optional:!0})||{};pendingTasks=(0,R.WQX)(R.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,R.WQX)(Lc);urlSerializer=(0,R.WQX)(Yi);location=(0,R.WQX)(k.aZ);urlHandlingStrategy=(0,R.WQX)(Nc);injector=(0,R.WQX)(R.uvJ);_events=new Mn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,R.WQX)(xm);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,R.WQX)(pl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,R.WQX)(rm,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new wr.yU;subscribeToNavigationEvents(){const o=this.navigationTransitions.events.subscribe(u=>{try{const d=this.navigationTransitions.currentTransition,y=(0,ga.O8)(this.navigationTransitions.currentNavigation);if(null!==d&&null!==y)if(this.stateManager.handleRouterEvent(u,y),u instanceof mi&&u.code!==hr.Redirect&&u.code!==hr.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof uo)this.navigated=!0;else if(u instanceof du){const w=u.navigationBehaviorOptions,I=this.urlHandlingStrategy.merge(u.url,d.currentRawUrl),V={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||fl(d.source),...w};this.scheduleNavigation(I,xs,null,V,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function Jd(s){return!(s instanceof ts||s instanceof du)})(u)&&this._events.next(u)}catch(d){this.navigationTransitions.transitionAbortWithErrorSubject.next(d)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,u,d)=>{this.navigateToSyncWithBrowser(o,d,u)})}navigateToSyncWithBrowser(o,u,d){const y={replaceUrl:!0},w=d?.navigationId?d:null;if(d){const V={...d};delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(y.state=V)}const I=this.parseUrl(o);this.scheduleNavigation(I,u,w,y).catch(V=>{this.disposed||this.injector.get(R.ZTf)(V)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return(0,ga.O8)(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(Sc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,u={}){const{relativeTo:d,queryParams:y,fragment:w,queryParamsHandling:I,preserveFragment:V}=u,J=V?this.currentUrlTree.fragment:w;let Ne,Te=null;switch(I??this.options.defaultQueryParamsHandling){case"merge":Te={...this.currentUrlTree.queryParams,...y};break;case"preserve":Te=this.currentUrlTree.queryParams;break;default:Te=y||null}null!==Te&&(Te=this.removeEmptyProps(Te));try{Ne=He(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof o[0]||"/"!==o[0][0])&&(o=[]),Ne=this.currentUrlTree.root}return Oe(Ne,o,Te,J??null)}navigateByUrl(o,u={skipLocationChange:!1}){const d=be(o)?o:this.parseUrl(o),y=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(y,xs,null,u)}navigate(o,u={skipLocationChange:!1}){return function Eu(s){for(let a=0;a<s.length;a++)if(null==s[a])throw new R.buA(4008,!1)}(o),this.navigateByUrl(this.createUrlTree(o,u),u)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.console.warn((0,R.OsK)(4018,!1)),this.urlSerializer.parse("/")}}isActive(o,u){let d;if(d=!0===u?{...Pm}:!1===u?{...dv}:u,be(o))return si(this.currentUrlTree,o,d);const y=this.parseUrl(o);return si(this.currentUrlTree,y,d)}removeEmptyProps(o){return Object.entries(o).reduce((u,[d,y])=>(null!=y&&(u[d]=y),u),{})}scheduleNavigation(o,u,d,y,w){if(this.disposed)return Promise.resolve(!1);let I,V,J;w?(I=w.resolve,V=w.reject,J=w.promise):J=new Promise((Ne,ut)=>{I=Ne,V=ut});const Te=this.pendingTasks.add();return function Om(s,a){s.events.pipe((0,kr.p)(o=>o instanceof uo||o instanceof mi||o instanceof iu||o instanceof Is),(0,Nt.T)(o=>o instanceof uo||o instanceof Is?0:o instanceof mi&&(o.code===hr.Redirect||o.code===hr.SupersededByNewNavigation)?2:1),(0,kr.p)(o=>2!==o),Fr(1)).subscribe(()=>{a()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Te))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:y,resolve:I,reject:V,promise:J,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),J.catch(Ne=>Promise.reject(Ne))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();H(6365);let vn=(()=>{class s{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,R.vPA)(null);get href(){return(0,ga.O8)(this.reactiveHref)}set href(o){this.reactiveHref.set(o)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Mn.B;applicationErrorHandler=(0,R.WQX)(R.ZTf);options=(0,R.WQX)(is,{optional:!0});constructor(o,u,d,y,w,I){this.router=o,this.route=u,this.tabIndexAttribute=d,this.renderer=y,this.el=w,this.locationStrategy=I,this.reactiveHref.set((0,R.WQX)(new Qt.ES_("href"),{optional:!0}));const V=w.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===V||"area"===V||!("object"!=typeof customElements||!customElements.get(V)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let o=this.preserveFragment;const u=d=>"merge"===d||"preserve"===d;o||=u(this.queryParamsHandling),o||=!this.queryParamsHandling&&!u(this.options?.defaultQueryParamsHandling),o&&(this.subscription=this.router.events.subscribe(d=>{d instanceof uo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(o){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(o){null==o?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=be(o)||Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0"))}onClick(o,u,d,y,w){const I=this.urlTree;if(null===I||this.isAnchorElement&&(0!==o||u||d||y||w||"string"==typeof this.target&&"_self"!=this.target))return!0;const V={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(I,V)?.catch(J=>{this.applicationErrorHandler(J)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const o=this.urlTree;this.reactiveHref.set(null!==o&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o))??"":null)}applyAttributeValue(o,u){const d=this.renderer,y=this.el.nativeElement;null!==u?d.setAttribute(y,o,u):d.removeAttribute(y,o)}get urlTree(){return null===this.routerLinkInput?null:be(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(u){return new(u||s)(ge.rXU(Ya),ge.rXU(Le),ge.kS0("tabindex"),ge.rXU(ge.sFG),ge.rXU(ge.aKT),ge.rXU(k.hb))};static \u0275dir=ge.FsC({type:s,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(u,d){1&u&&ge.bIt("click",function(w){return d.onClick(w.button,w.ctrlKey,w.shiftKey,w.altKey,w.metaKey)}),2&u&&ge.BMQ("href",d.reactiveHref(),ge.n$t)("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qt.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qt.L39],replaceUrl:[2,"replaceUrl","replaceUrl",Qt.L39],routerLink:"routerLink"},features:[ge.OA$]})}return s})();const ku=new R.nKC("");function jc(s){return s.routerState.root}function Bm(){const s=(0,R.WQX)(R.zZn);return a=>{const o=s.get(ge.o8S);if(a!==o.components[0])return;const u=s.get(Ya),d=s.get(Bc);1===s.get(Um)&&u.initialNavigation(),s.get($m,null,{optional:!0})?.setUpPreloading(),s.get(ku,null,{optional:!0})?.init(),u.resetRootComponentType(o.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const Bc=new R.nKC("",{factory:()=>new Mn.B}),Um=new R.nKC("",{providedIn:"root",factory:()=>1}),$m=new R.nKC("");var Qm=H(4675),Tu=H(4242);function Ym(s,a){if(1&s&&(ge.j41(0,"span"),ge.EFF(1),ge.k0s()),2&s){const o=ge.XpG();ge.R7$(),ge.Lme("client ",o.clientId," connected to session: ",o.sessionId)}}let Vc=(()=>{class s{appContext;webSocketService;title=(0,R.vPA)("app");clientId=null;sessionId=1;version="v1.22 ";constructor(o,u){this.appContext=o,this.webSocketService=u,this.webSocketService.clientId$.subscribe(d=>{this.clientId=d}),this.webSocketService.sessionId$.subscribe(d=>{null!=d&&(this.sessionId=d)})}static \u0275fac=function(u){return new(u||s)(ge.rXU(Qm.B),ge.rXU(Tu.Vh))};static \u0275cmp=ge.VBU({type:s,selectors:[["app-root"]],decls:18,vars:4,consts:[["id","master-container",1,"app-viewport"],[1,"navigaiton"],["routerLink","/"],["routerLink","/potions"],["routerLink","/armory"],[1,"technical-info"],[4,"ngIf"],["href","https://grey-astronaut-764049.postman.co/collection/1419604-3345b5ec-84d0-4b3c-9b89-30bdc88ac94a?source=rip_html&active-environment=1419604-50e897d1-5175-44ef-a5fc-6f70370eae60","target","_blank","title","Postman",1,"button-link"],["href","https://supabase.com/dashboard/project/ymlekirbwjanuxrclsgf/editor/17421?schema=public","target","_blank","title","Postman",1,"button-link"]],template:function(u,d){1&u&&(ge.j41(0,"div",0)(1,"div",1)(2,"a",2),ge.EFF(3,"Game"),ge.k0s(),ge.j41(4,"a",3),ge.EFF(5,"Alchemy"),ge.k0s(),ge.j41(6,"a",4),ge.EFF(7,"Armory"),ge.k0s()(),ge.nrm(8,"router-outlet"),ge.k0s(),ge.j41(9,"div",5)(10,"span"),ge.EFF(11),ge.k0s(),ge.DNE(12,Ym,2,2,"span",6),ge.j41(13,"a",7),ge.EFF(14,"Run Postman "),ge.k0s(),ge.j41(15,"a",8),ge.EFF(16,"Open DB "),ge.k0s()(),ge.nrm(17,"app-toast-notification")),2&u&&(ge.R7$(),ge.xc7("display",d.appContext.shouldShowSetup?null:"none"),ge.R7$(10),ge.JRh(d.version),ge.R7$(),ge.Y8G("ngIf",d.clientId))},dependencies:[ao.MD,ao.bT,qr.YN,mu,vn,_i],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;overflow-x:clip}.navigaiton[_ngcontent-%COMP%]{display:flex;gap:1rem}.navigaiton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--font-color)}.technical-info[_ngcontent-%COMP%]{position:absolute;bottom:-10em;left:0;width:100%;text-align:center;padding:8px;font-size:.7em;color:var(--font-color)}"]})}return s})();var Mt=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(Mt||{});const Xa="*";function Wc(s){return{type:Mt.Style,styles:s,offset:null}}class vl{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(a=0,o=0){this.totalTime=a+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class Ff{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(a){this.players=a;let o=0,u=0,d=0;const y=this.players.length;0==y?queueMicrotask(()=>this._onFinish()):this.players.forEach(w=>{w.onDone(()=>{++o==y&&this._onFinish()}),w.onDestroy(()=>{++u==y&&this._onDestroy()}),w.onStart(()=>{++d==y&&this._onStart()})}),this.totalTime=this.players.reduce((w,I)=>Math.max(w,I.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const o=a*this.totalTime;this.players.forEach(u=>{const d=u.totalTime?Math.min(1,o/u.totalTime):1;u.setPosition(d)})}getPosition(){const a=this.players.reduce((o,u)=>null===o||u.totalTime>o.totalTime?u:o,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}function Mu(s){return new R.buA(3e3,!1)}function $f(s){return new R.buA(3002,!1)}function Oi(s){switch(s.length){case 0:return new vl;case 1:return s[0];default:return new Ff(s)}}function Yc(s,a,o=new Map,u=new Map){const d=[],y=[];let w=-1,I=null;if(a.forEach(V=>{const J=V.get("offset"),Te=J==w,Ne=Te&&I||new Map;V.forEach((ut,dt)=>{let ot=dt,it=ut;if("offset"!==dt)switch(ot=s.normalizePropertyName(ot,d),it){case"!":it=o.get(dt);break;case Xa:it=u.get(dt);break;default:it=s.normalizeStyleValue(dt,ot,it,d)}Ne.set(ot,it)}),Te||y.push(Ne),I=Ne,w=J}),d.length)throw function us(){return new R.buA(3502,!1)}();return y}function oh(s,a,o,u){switch(a){case"start":s.onStart(()=>u(o&&Pu(o,"start",s)));break;case"done":s.onDone(()=>u(o&&Pu(o,"done",s)));break;case"destroy":s.onDestroy(()=>u(o&&Pu(o,"destroy",s)))}}function Pu(s,a,o){const y=Xc(s.element,s.triggerName,s.fromState,s.toState,a||s.phaseName,o.totalTime??s.totalTime,!!o.disabled),w=s._data;return null!=w&&(y._data=w),y}function Xc(s,a,o,u,d="",y=0,w){return{element:s,triggerName:a,fromState:o,toState:u,phaseName:d,totalTime:y,disabled:!!w}}function mo(s,a,o){let u=s.get(a);return u||s.set(a,u=o),u}function ah(s){const a=s.indexOf(":");return[s.substring(1,a),s.slice(a+1)]}const Iv=typeof document>"u"?null:document.documentElement;function Nu(s){const a=s.parentNode||s.host||null;return a===Iv?null:a}let cs=null,sh=!1;function dh(s,a){for(;a;){if(a===s)return!0;a=Nu(a)}return!1}function ds(s,a,o){if(o)return Array.from(s.querySelectorAll(a));const u=s.querySelector(a);return u?[u]:[]}const Lu="ng-enter",ms="ng-leave",Fu="ng-trigger",bl=".ng-trigger",wl="ng-animating",hh=".ng-animating";function Pi(s){if("number"==typeof s)return s;const a=s.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:hs(parseFloat(a[1]),a[2])}function hs(s,a){return"s"===a?1e3*s:s}function ju(s,a,o){return s.hasOwnProperty("duration")?s:function Zc(s,a,o){let u,d=0,y="";if("string"==typeof s){const w=s.match(Bu);if(null===w)return a.push(Mu()),{duration:0,delay:0,easing:""};u=hs(parseFloat(w[1]),w[2]);const I=w[3];null!=I&&(d=hs(parseFloat(I),w[4]));const V=w[5];V&&(y=V)}else u=s;if(!o){let w=!1,I=a.length;u<0&&(a.push(function Zm(){return new R.buA(3100,!1)}()),w=!0),d<0&&(a.push(function eh(){return new R.buA(3101,!1)}()),w=!0),w&&a.splice(I,0,Mu())}return{duration:u,delay:d,easing:y}}(s,a,o)}const Bu=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function pi(s,a,o){a.forEach((u,d)=>{const y=ed(d);o&&!o.has(d)&&o.set(d,s.style[y]),s.style[y]=u})}function ps(s,a){a.forEach((o,u)=>{const d=ed(u);s.style[d]=""})}function El(s){return Array.isArray(s)?1==s.length?s[0]:function Pf(s,a=null){return{type:Mt.Sequence,steps:s,options:a}}(s):s}const ph=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zf(s){let a=[];if("string"==typeof s){let o;for(;o=ph.exec(s);)a.push(o[1]);ph.lastIndex=0}return a}function kl(s,a,o){const u=`${s}`,d=u.replace(ph,(y,w)=>{let I=a[w];return null==I&&(o.push(function jf(){return new R.buA(3003,!1)}()),I=""),I.toString()});return d==u?s:d}const ey=/-+([a-z0-9])/g;function ed(s){return s.replace(ey,(...a)=>a[1].toUpperCase())}function ho(s,a,o){switch(a.type){case Mt.Trigger:return s.visitTrigger(a,o);case Mt.State:return s.visitState(a,o);case Mt.Transition:return s.visitTransition(a,o);case Mt.Sequence:return s.visitSequence(a,o);case Mt.Group:return s.visitGroup(a,o);case Mt.Animate:return s.visitAnimate(a,o);case Mt.Keyframes:return s.visitKeyframes(a,o);case Mt.Style:return s.visitStyle(a,o);case Mt.Reference:return s.visitReference(a,o);case Mt.AnimateChild:return s.visitAnimateChild(a,o);case Mt.AnimateRef:return s.visitAnimateRef(a,o);case Mt.Query:return s.visitQuery(a,o);case Mt.Stagger:return s.visitStagger(a,o);default:throw function Bf(){return new R.buA(3004,!1)}()}}function Uu(s,a){return window.getComputedStyle(s)[a]}let fs=(()=>{class s{validateStyleProperty(o){return function lh(s){cs||(cs=function ch(){return typeof document<"u"?document.body:null}()||{},sh=!!cs.style&&"WebkitAppearance"in cs.style);let a=!0;return cs.style&&!function ih(s){return"ebkit"==s.substring(1,6)}(s)&&(a=s in cs.style,!a&&sh&&(a="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in cs.style)),a}(o)}containsElement(o,u){return dh(o,u)}getParentElement(o){return Nu(o)}query(o,u,d){return ds(o,u,d)}computeStyle(o,u,d){return d||""}animate(o,u,d,y,w,I=[],V){return new vl(d,y)}static \u0275fac=function(u){return new(u||s)};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();class Vu{static NOOP=new fs}class nd{}const yh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rd extends nd{normalizePropertyName(a,o){return ed(a)}normalizeStyleValue(a,o,u,d){let y="";const w=u.toString().trim();if(yh.has(o)&&0!==u&&"0"!==u)if("number"==typeof u)y="px";else{const I=u.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&d.push(function Uf(){return new R.buA(3005,!1)}())}return w+y}}const Ni=new Set(["true","1"]),$u=new Set(["false","0"]);function vh(s,a){const o=Ni.has(s)||$u.has(s),u=Ni.has(a)||$u.has(a);return(d,y)=>{let w="*"==s||s==d,I="*"==a||a==y;return!w&&o&&"boolean"==typeof d&&(w=d?Ni.has(s):$u.has(s)),!I&&u&&"boolean"==typeof y&&(I=y?Ni.has(a):$u.has(a)),w&&I}}const Hu=new RegExp("s*:selfs*,?","g");function Wu(s,a,o,u){return new bh(s).build(a,o,u)}class bh{_driver;constructor(a){this._driver=a}build(a,o,u){const d=new ad(o);return this._resetContextStyleTimingState(d),ho(this,El(a),d)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,o){let u=o.queryCount=0,d=o.depCount=0;const y=[],w=[];return"@"==a.name.charAt(0)&&o.errors.push(function Gc(){return new R.buA(3006,!1)}()),a.definitions.forEach(I=>{if(this._resetContextStyleTimingState(o),I.type==Mt.State){const V=I,J=V.name;J.toString().split(/\s*,\s*/).forEach(Te=>{V.name=Te,y.push(this.visitState(V,o))}),V.name=J}else if(I.type==Mt.Transition){const V=this.visitTransition(I,o);u+=V.queryCount,d+=V.depCount,w.push(V)}else o.errors.push(function Vf(){return new R.buA(3007,!1)}())}),{type:Mt.Trigger,name:a.name,states:y,transitions:w,queryCount:u,depCount:d,options:null}}visitState(a,o){const u=this.visitStyle(a.styles,o),d=a.options&&a.options.params||null;if(u.containsDynamicStyles){const y=new Set,w=d||{};u.styles.forEach(I=>{I instanceof Map&&I.forEach(V=>{Zf(V).forEach(J=>{w.hasOwnProperty(J)||y.add(J)})})}),y.size&&o.errors.push(function xu(){return new R.buA(3008,!1)}(0,y.values()))}return{type:Mt.State,name:a.name,style:u,options:d?{params:d}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const u=ho(this,El(a.animation),o),d=function ny(s,a){const o=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(u=>function ry(s,a,o){if(":"==s[0]){const V=function oy(s,a){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,u)=>parseFloat(u)>parseFloat(o);case":decrement":return(o,u)=>parseFloat(u)<parseFloat(o);default:return a.push(function zf(){return new R.buA(3016,!1)}()),"* => *"}}(s,o);if("function"==typeof V)return void a.push(V);s=V}const u=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return o.push(function Wf(){return new R.buA(3015,!1)}()),a;const d=u[1],y=u[2],w=u[3];a.push(vh(d,w)),"<"==y[0]&&("*"!=d||"*"!=w)&&a.push(vh(w,d))}(u,o,a)):o.push(s),o}(a.expr,o.errors);return{type:Mt.Transition,matchers:d,animation:u,queryCount:o.queryCount,depCount:o.depCount,options:ys(a.options)}}visitSequence(a,o){return{type:Mt.Sequence,steps:a.steps.map(u=>ho(this,u,o)),options:ys(a.options)}}visitGroup(a,o){const u=o.currentTime;let d=0;const y=a.steps.map(w=>{o.currentTime=u;const I=ho(this,w,o);return d=Math.max(d,o.currentTime),I});return o.currentTime=d,{type:Mt.Group,steps:y,options:ys(a.options)}}visitAnimate(a,o){const u=function iy(s,a){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return id(ju(s,a).duration,0,"");const o=s;if(o.split(/\s+/).some(y=>"{"==y.charAt(0)&&"{"==y.charAt(1))){const y=id(0,0,"");return y.dynamic=!0,y.strValue=o,y}const d=ju(o,a);return id(d.duration,d.delay,d.easing)}(a.timings,o.errors);o.currentAnimateTimings=u;let d,y=a.styles?a.styles:Wc({});if(y.type==Mt.Keyframes)d=this.visitKeyframes(y,o);else{let w=a.styles,I=!1;if(!w){I=!0;const J={};u.easing&&(J.easing=u.easing),w=Wc(J)}o.currentTime+=u.duration+u.delay;const V=this.visitStyle(w,o);V.isEmptyStep=I,d=V}return o.currentAnimateTimings=null,{type:Mt.Animate,timings:u,style:d,options:null}}visitStyle(a,o){const u=this._makeStyleAst(a,o);return this._validateStyleAst(u,o),u}_makeStyleAst(a,o){const u=[],d=Array.isArray(a.styles)?a.styles:[a.styles];for(let I of d)"string"==typeof I?I===Xa?u.push(I):o.errors.push($f()):u.push(new Map(Object.entries(I)));let y=!1,w=null;return u.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(w=I.get("easing"),I.delete("easing")),!y))for(let V of I.values())if(V.toString().indexOf("{{")>=0){y=!0;break}}),{type:Mt.Style,styles:u,easing:w,offset:a.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(a,o){const u=o.currentAnimateTimings;let d=o.currentTime,y=o.currentTime;u&&y>0&&(y-=u.duration+u.delay),a.styles.forEach(w=>{"string"!=typeof w&&w.forEach((I,V)=>{const J=o.collectedStyles.get(o.currentQuerySelector),Te=J.get(V);let Ne=!0;Te&&(y!=d&&y>=Te.startTime&&d<=Te.endTime&&(o.errors.push(function Iu(){return new R.buA(3010,!1)}()),Ne=!1),y=Te.startTime),Ne&&J.set(V,{startTime:y,endTime:d}),o.options&&function Rv(s,a,o){const u=a.params||{},d=Zf(s);d.length&&d.forEach(y=>{u.hasOwnProperty(y)||o.push(function Sv(){return new R.buA(3001,!1)}())})}(I,o.options,o.errors)})})}visitKeyframes(a,o){const u={type:Mt.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Ru(){return new R.buA(3011,!1)}()),u;let y=0;const w=[];let I=!1,V=!1,J=0;const Te=a.steps.map(xt=>{const $t=this._makeStyleAst(xt,o);let sn=null!=$t.offset?$t.offset:function zu(s){if("string"==typeof s)return null;let a=null;if(Array.isArray(s))s.forEach(o=>{if(o instanceof Map&&o.has("offset")){const u=o;a=parseFloat(u.get("offset")),u.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const o=s;a=parseFloat(o.get("offset")),o.delete("offset")}return a}($t.styles),Wt=0;return null!=sn&&(y++,Wt=$t.offset=sn),V=V||Wt<0||Wt>1,I=I||Wt<J,J=Wt,w.push(Wt),$t});V&&o.errors.push(function Av(){return new R.buA(3012,!1)}()),I&&o.errors.push(function th(){return new R.buA(3200,!1)}());const Ne=a.steps.length;let ut=0;y>0&&y<Ne?o.errors.push(function qc(){return new R.buA(3202,!1)}()):0==y&&(ut=1/(Ne-1));const dt=Ne-1,ot=o.currentTime,it=o.currentAnimateTimings,bt=it.duration;return Te.forEach((xt,$t)=>{const sn=ut>0?$t==dt?1:ut*$t:w[$t],Wt=sn*bt;o.currentTime=ot+it.delay+Wt,it.duration=Wt,this._validateStyleAst(xt,o),xt.offset=sn,u.styles.push(xt)}),u}visitReference(a,o){return{type:Mt.Reference,animation:ho(this,El(a.animation),o),options:ys(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:Mt.AnimateChild,options:ys(a.options)}}visitAnimateRef(a,o){return{type:Mt.AnimateRef,animation:this.visitReference(a.animation,o),options:ys(a.options)}}visitQuery(a,o){const u=o.currentQuerySelector,d=a.options||{};o.queryCount++,o.currentQuery=a;const[y,w]=function ay(s){const a=!!s.split(/\s*,\s*/).find(o=>":self"==o);return a&&(s=s.replace(Hu,"")),s=s.replace(/@\*/g,bl).replace(/@\w+/g,o=>bl+"-"+o.slice(1)).replace(/:animating/g,hh),[s,a]}(a.selector);o.currentQuerySelector=u.length?u+" "+y:y,mo(o.collectedStyles,o.currentQuerySelector,new Map);const I=ho(this,El(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=u,{type:Mt.Query,selector:y,limit:d.limit||0,optional:!!d.optional,includeSelf:w,animation:I,originalSelector:a.selector,options:ys(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push(function Ou(){return new R.buA(3013,!1)}());const u="full"===a.timings?{duration:0,delay:0,easing:"full"}:ju(a.timings,o.errors,!0);return{type:Mt.Stagger,animation:ho(this,El(a.animation),o),timings:u,options:null}}}class ad{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(a){this.errors=a}}function ys(s){return s?(s={...s}).params&&(s.params=function wh(s){return s?{...s}:null}(s.params)):s={},s}function id(s,a,o){return{duration:s,delay:a,easing:o}}function sd(s,a,o,u,d,y,w=null,I=!1){return{type:1,element:s,keyframes:a,preStyleProps:o,postStyleProps:u,duration:d,delay:y,totalTime:d+y,easing:w,subTimeline:I}}class Ku{_map=new Map;get(a){return this._map.get(a)||[]}append(a,o){let u=this._map.get(a);u||this._map.set(a,u=[]),u.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const ly=new RegExp(":enter","g"),kh=new RegExp(":leave","g");function ud(s,a,o,u,d,y=new Map,w=new Map,I,V,J=[]){return(new Al).buildKeyframes(s,a,o,u,d,y,w,I,V,J)}class Al{buildKeyframes(a,o,u,d,y,w,I,V,J,Te=[]){J=J||new Ku;const Ne=new Dh(a,o,J,d,y,Te,[]);Ne.options=V;const ut=V.delay?Pi(V.delay):0;Ne.currentTimeline.delayNextStep(ut),Ne.currentTimeline.setStyles([w],null,Ne.errors,V),ho(this,u,Ne);const dt=Ne.timelines.filter(ot=>ot.containsAnimation());if(dt.length&&I.size){let ot;for(let it=dt.length-1;it>=0;it--){const bt=dt[it];if(bt.element===o){ot=bt;break}}ot&&!ot.allowOnlyTimelineStyles()&&ot.setStyles([I],null,Ne.errors,V)}return dt.length?dt.map(ot=>ot.buildKeyframes()):[sd(o,[],[],[],0,ut,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const u=o.subInstructions.get(o.element);if(u){const d=o.createSubContext(a.options),y=o.currentTimeline.currentTime,w=this._visitSubInstructions(u,d,d.options);y!=w&&o.transformIntoNewTimeline(w)}o.previousNode=a}visitAnimateRef(a,o){const u=o.createSubContext(a.options);u.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],o,u),this.visitReference(a.animation,u),o.transformIntoNewTimeline(u.currentTimeline.currentTime),o.previousNode=a}_applyAnimationRefDelays(a,o,u){for(const d of a){const y=d?.delay;if(y){const w="number"==typeof y?y:Pi(kl(y,d?.params??{},o.errors));u.delayNextStep(w)}}}_visitSubInstructions(a,o,u){let y=o.currentTimeline.currentTime;const w=null!=u.duration?Pi(u.duration):null,I=null!=u.delay?Pi(u.delay):null;return 0!==w&&a.forEach(V=>{const J=o.appendInstructionToTimeline(V,w,I);y=Math.max(y,J.duration+J.delay)}),y}visitReference(a,o){o.updateOptions(a.options,!0),ho(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const u=o.subContextCount;let d=o;const y=a.options;if(y&&(y.params||y.delay)&&(d=o.createSubContext(y),d.transformIntoNewTimeline(),null!=y.delay)){d.previousNode.type==Mt.Style&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=gs);const w=Pi(y.delay);d.delayNextStep(w)}a.steps.length&&(a.steps.forEach(w=>ho(this,w,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>u&&d.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const u=[];let d=o.currentTimeline.currentTime;const y=a.options&&a.options.delay?Pi(a.options.delay):0;a.steps.forEach(w=>{const I=o.createSubContext(a.options);y&&I.delayNextStep(y),ho(this,w,I),d=Math.max(d,I.currentTimeline.currentTime),u.push(I.currentTimeline)}),u.forEach(w=>o.currentTimeline.mergeTimelineCollectedStyles(w)),o.transformIntoNewTimeline(d),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const u=a.strValue;return ju(o.params?kl(u,o.params,o.errors):u,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const u=o.currentAnimateTimings=this._visitTiming(a.timings,o),d=o.currentTimeline;u.delay&&(o.incrementTime(u.delay),d.snapshotCurrentStyles());const y=a.style;y.type==Mt.Keyframes?this.visitKeyframes(y,o):(o.incrementTime(u.duration),this.visitStyle(y,o),d.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const u=o.currentTimeline,d=o.currentAnimateTimings;!d&&u.hasCurrentStyleProperties()&&u.forwardFrame();const y=d&&d.easing||a.easing;a.isEmptyStep?u.applyEmptyStep(y):u.setStyles(a.styles,y,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const u=o.currentAnimateTimings,d=o.currentTimeline.duration,y=u.duration,I=o.createSubContext().currentTimeline;I.easing=u.easing,a.styles.forEach(V=>{I.forwardTime((V.offset||0)*y),I.setStyles(V.styles,V.easing,o.errors,o.options),I.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(I),o.transformIntoNewTimeline(d+y),o.previousNode=a}visitQuery(a,o){const u=o.currentTimeline.currentTime,d=a.options||{},y=d.delay?Pi(d.delay):0;y&&(o.previousNode.type===Mt.Style||0==u&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=gs);let w=u;const I=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!d.optional,o.errors);o.currentQueryTotal=I.length;let V=null;I.forEach((J,Te)=>{o.currentQueryIndex=Te;const Ne=o.createSubContext(a.options,J);y&&Ne.delayNextStep(y),J===o.element&&(V=Ne.currentTimeline),ho(this,a.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),w=Math.max(w,Ne.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(w),V&&(o.currentTimeline.mergeTimelineCollectedStyles(V),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const u=o.parentContext,d=o.currentTimeline,y=a.timings,w=Math.abs(y.duration),I=w*(o.currentQueryTotal-1);let V=w*o.currentQueryIndex;switch(y.duration<0?"reverse":y.easing){case"reverse":V=I-V;break;case"full":V=u.currentStaggerTime}const Te=o.currentTimeline;V&&Te.delayNextStep(V);const Ne=Te.currentTime;ho(this,a.animation,o),o.previousNode=a,u.currentStaggerTime=d.currentTime-Ne+(d.startTime-u.currentTimeline.startTime)}}const gs={};class Dh{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=gs;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(a,o,u,d,y,w,I,V){this._driver=a,this.element=o,this.subInstructions=u,this._enterClassName=d,this._leaveClassName=y,this.errors=w,this.timelines=I,this.currentTimeline=V||new Gu(this._driver,o,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const u=a;let d=this.options;null!=u.duration&&(d.duration=Pi(u.duration)),null!=u.delay&&(d.delay=Pi(u.delay));const y=u.params;if(y){let w=d.params;w||(w=this.options.params={}),Object.keys(y).forEach(I=>{(!o||!w.hasOwnProperty(I))&&(w[I]=kl(y[I],w,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const u=a.params={};Object.keys(o).forEach(d=>{u[d]=o[d]})}}return a}createSubContext(a=null,o,u){const d=o||this.element,y=new Dh(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,u||0));return y.previousNode=this.previousNode,y.currentAnimateTimings=this.currentAnimateTimings,y.options=this._copyOptions(),y.updateOptions(a),y.currentQueryIndex=this.currentQueryIndex,y.currentQueryTotal=this.currentQueryTotal,y.parentContext=this,this.subContextCount++,y}transformIntoNewTimeline(a){return this.previousNode=gs,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,u){const d={duration:o??a.duration,delay:this.currentTimeline.currentTime+(u??0)+a.delay,easing:""},y=new Ch(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,d,a.stretchStartingKeyframe);return this.timelines.push(y),d}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,u,d,y,w){let I=[];if(d&&I.push(this.element),a.length>0){a=(a=a.replace(ly,"."+this._enterClassName)).replace(kh,"."+this._leaveClassName);let J=this._driver.query(this.element,a,1!=u);0!==u&&(J=u<0?J.slice(J.length+u,J.length):J.slice(0,u)),I.push(...J)}return!y&&0==I.length&&w.push(function Hf(){return new R.buA(3014,!1)}()),I}}class Gu{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(a,o,u,d){this._driver=a,this.element=o,this.startTime=u,this._elementTimelineStylesLookup=d,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new Gu(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles.set(a,o),this._globalTimelineStyles.set(a,o),this._styleSummary.set(a,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[o,u]of this._globalTimelineStyles)this._backFill.set(o,u||Xa),this._currentKeyframe.set(o,Xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,u,d){o&&this._previousKeyframe.set("easing",o);const y=d&&d.params||{},w=function uy(s,a){const o=new Map;let u;return s.forEach(d=>{if("*"===d){u??=a.keys();for(let y of u)o.set(y,Xa)}else for(let[y,w]of d)o.set(y,w)}),o}(a,this._globalTimelineStyles);for(let[I,V]of w){const J=kl(V,y,u);this._pendingStyles.set(I,J),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??Xa),this._updateStyle(I,J)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,o)=>{this._currentKeyframe.set(o,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,a)}))}snapshotCurrentStyles(){for(let[a,o]of this._localTimelineStyles)this._pendingStyles.set(a,o),this._updateStyle(a,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((o,u)=>{const d=this._styleSummary.get(u);(!d||o.time>d.time)&&this._updateStyle(u,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,u=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((I,V)=>{const J=new Map([...this._backFill,...I]);J.forEach((Te,Ne)=>{"!"===Te?a.add(Ne):Te===Xa&&o.add(Ne)}),u||J.set("offset",V/this.duration),d.push(J)});const y=[...a.values()],w=[...o.values()];if(u){const I=d[0],V=new Map(I);I.set("offset",0),V.set("offset",1),d=[I,V]}return sd(this.element,d,y,w,this.duration,this.startTime,this.easing,!1)}}class Ch extends Gu{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(a,o,u,d,y,w,I=!1){super(a,o,w.delay),this.keyframes=u,this.preStyleProps=d,this.postStyleProps=y,this._stretchStartingKeyframe=I,this.timings={duration:w.duration,delay:w.delay,easing:w.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:u,easing:d}=this.timings;if(this._stretchStartingKeyframe&&o){const y=[],w=u+o,I=o/w,V=new Map(a[0]);V.set("offset",0),y.push(V);const J=new Map(a[0]);J.set("offset",qu(I)),y.push(J);const Te=a.length-1;for(let Ne=1;Ne<=Te;Ne++){let ut=new Map(a[Ne]);const dt=ut.get("offset");ut.set("offset",qu((o+dt*u)/w)),y.push(ut)}u=w,o=0,d="",a=y}return sd(this.element,a,this.preStyleProps,this.postStyleProps,u,o,d,!0)}}function qu(s,a=3){const o=Math.pow(10,a-1);return Math.round(s*o)/o}function cd(s,a,o,u,d,y,w,I,V,J,Te,Ne,ut){return{type:0,element:s,triggerName:a,isRemovalTransition:d,fromState:o,fromStyles:y,toState:u,toStyles:w,timelines:I,queriedElements:V,preStyleProps:J,postStyleProps:Te,totalTime:Ne,errors:ut}}const Sh={};class cy{_triggerName;ast;_stateStyles;constructor(a,o,u){this._triggerName=a,this.ast=o,this._stateStyles=u}match(a,o,u,d){return function Ah(s,a,o,u,d){return s.some(y=>y(a,o,u,d))}(this.ast.matchers,a,o,u,d)}buildStyles(a,o,u){let d=this._stateStyles.get("*");return void 0!==a&&(d=this._stateStyles.get(a?.toString())||d),d?d.buildStyles(o,u):new Map}build(a,o,u,d,y,w,I,V,J,Te){const Ne=[],ut=this.ast.options&&this.ast.options.params||Sh,ot=this.buildStyles(u,I&&I.params||Sh,Ne),it=V&&V.params||Sh,bt=this.buildStyles(d,it,Ne),xt=new Set,$t=new Map,sn=new Map,Wt="void"===d,Qn={params:dd(it,ut),delay:this.ast.options?.delay},An=Te?[]:ud(a,o,this.ast.animation,y,w,ot,bt,Qn,J,Ne);let Vn=0;return An.forEach($n=>{Vn=Math.max($n.duration+$n.delay,Vn)}),Ne.length?cd(o,this._triggerName,u,d,Wt,ot,bt,[],[],$t,sn,Vn,Ne):(An.forEach($n=>{const $a=$n.element,ei=mo($t,$a,new Set);$n.preStyleProps.forEach(Ui=>ei.add(Ui));const Nd=mo(sn,$a,new Set);$n.postStyleProps.forEach(Ui=>Nd.add(Ui)),$a!==o&&xt.add($a)}),cd(o,this._triggerName,u,d,Wt,ot,bt,An,[...xt.values()],$t,sn,Vn))}}function dd(s,a){const o={...a};return Object.entries(s).forEach(([u,d])=>{null!=d&&(o[u]=d)}),o}class Lv{styles;defaultParams;normalizer;constructor(a,o,u){this.styles=a,this.defaultParams=o,this.normalizer=u}buildStyles(a,o){const u=new Map,d=dd(a,this.defaultParams);return this.styles.styles.forEach(y=>{"string"!=typeof y&&y.forEach((w,I)=>{w&&(w=kl(w,d,o));const V=this.normalizer.normalizePropertyName(I,o);w=this.normalizer.normalizeStyleValue(I,V,w,o),u.set(I,w)})}),u}}class dy{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(a,o,u){this.name=a,this.ast=o,this._normalizer=u,o.states.forEach(d=>{this.states.set(d.name,new Lv(d.style,d.options&&d.options.params||{},u))}),my(this.states,"true","1"),my(this.states,"false","0"),o.transitions.forEach(d=>{this.transitionFactories.push(new cy(a,d,this.states))}),this.fallbackTransition=function Fv(s,a){return new cy(s,{type:Mt.Transition,animation:{type:Mt.Sequence,steps:[],options:null},matchers:[(w,I)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,u,d){return this.transitionFactories.find(w=>w.match(a,o,u,d))||null}matchStyles(a,o,u){return this.fallbackTransition.buildStyles(a,o,u)}}function my(s,a,o){s.has(a)?s.has(o)||s.set(o,s.get(a)):s.has(o)&&s.set(a,s.get(o))}const jv=new Ku;class hy{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(a,o,u){this.bodyNode=a,this._driver=o,this._normalizer=u}register(a,o){const u=[],y=Wu(this._driver,o,u,[]);if(u.length)throw function Mv(){return new R.buA(3503,!1)}();this._animations.set(a,y)}_buildPlayer(a,o,u){const d=a.element,y=Yc(this._normalizer,a.keyframes,o,u);return this._driver.animate(d,y,a.duration,a.delay,a.easing,[],!0)}create(a,o,u={}){const d=[],y=this._animations.get(a);let w;const I=new Map;if(y?(w=ud(this._driver,o,y,Lu,ms,new Map,new Map,u,jv,d),w.forEach(Te=>{const Ne=mo(I,Te.element,new Map);Te.postStyleProps.forEach(ut=>Ne.set(ut,null))})):(d.push(function xv(){return new R.buA(3300,!1)}()),w=[]),d.length)throw function _l(){return new R.buA(3504,!1)}();I.forEach((Te,Ne)=>{Te.forEach((ut,dt)=>{Te.set(dt,this._driver.computeStyle(Ne,dt,Xa))})});const J=Oi(w.map(Te=>{const Ne=I.get(Te.element);return this._buildPlayer(Te,new Map,Ne)}));return this._playersById.set(a,J),J.onDestroy(()=>this.destroy(a)),this.players.push(J),J}destroy(a){const o=this._getPlayer(a);o.destroy(),this._playersById.delete(a);const u=this.players.indexOf(o);u>=0&&this.players.splice(u,1)}_getPlayer(a){const o=this._playersById.get(a);if(!o)throw function Kf(){return new R.buA(3301,!1)}();return o}listen(a,o,u,d){const y=Xc(o,"","","");return oh(this._getPlayer(a),u,y,d),()=>{}}command(a,o,u,d){if("register"==u)return void this.register(a,d[0]);if("create"==u)return void this.create(a,o,d[0]||{});const y=this._getPlayer(a);switch(u){case"play":y.play();break;case"pause":y.pause();break;case"reset":y.reset();break;case"restart":y.restart();break;case"finish":y.finish();break;case"init":y.init();break;case"setPosition":y.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(a)}}}const py="ng-animate-queued",hd="ng-animate-disabled",Tl=[],Qu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class Li{namespaceId;value;options;get params(){return this.options.params}constructor(a,o=""){this.namespaceId=o;const u=a&&a.hasOwnProperty("value");if(this.value=function Yu(s){return s??null}(u?a.value:a),u){const{value:y,...w}=a;this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const o=a.params;if(o){const u=this.options.params;Object.keys(o).forEach(d=>{null==u[d]&&(u[d]=o[d])})}}}const Bs="void",fd=new Li(Bs);class Bv{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(a,o,u){this.id=a,this.hostElement=o,this._engine=u,this._hostClassName="ng-tns-"+a,Ea(o,this._hostClassName)}listen(a,o,u,d){if(!this._triggers.has(o))throw function nh(){return new R.buA(3302,!1)}();if(null==u||0==u.length)throw function rh(){return new R.buA(3303,!1)}();if(!function Mh(s){return"start"==s||"done"==s}(u))throw function Gf(){return new R.buA(3400,!1)}();const y=mo(this._elementListeners,a,[]),w={name:o,phase:u,callback:d};y.push(w);const I=mo(this._engine.statesByElement,a,new Map);return I.has(o)||(Ea(a,Fu),Ea(a,Fu+"-"+o),I.set(o,fd)),()=>{this._engine.afterFlush(()=>{const V=y.indexOf(w);V>=0&&y.splice(V,1),this._triggers.has(o)||I.delete(o)})}}register(a,o){return!this._triggers.has(a)&&(this._triggers.set(a,o),!0)}_getTrigger(a){const o=this._triggers.get(a);if(!o)throw function qf(){return new R.buA(3401,!1)}();return o}trigger(a,o,u,d=!0){const y=this._getTrigger(o),w=new yd(this.id,o,a);let I=this._engine.statesByElement.get(a);I||(Ea(a,Fu),Ea(a,Fu+"-"+o),this._engine.statesByElement.set(a,I=new Map));let V=I.get(o);const J=new Li(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&V&&J.absorbOptions(V.options),I.set(o,J),V||(V=fd),J.value!==Bs&&V.value===J.value){if(!function by(s,a){const o=Object.keys(s),u=Object.keys(a);if(o.length!=u.length)return!1;for(let d=0;d<o.length;d++){const y=o[d];if(!a.hasOwnProperty(y)||s[y]!==a[y])return!1}return!0}(V.params,J.params)){const it=[],bt=y.matchStyles(V.value,V.params,it),xt=y.matchStyles(J.value,J.params,it);it.length?this._engine.reportError(it):this._engine.afterFlush(()=>{ps(a,bt),pi(a,xt)})}return}const ut=mo(this._engine.playersByElement,a,[]);ut.forEach(it=>{it.namespaceId==this.id&&it.triggerName==o&&it.queued&&it.destroy()});let dt=y.matchTransition(V.value,J.value,a,J.params),ot=!1;if(!dt){if(!d)return;dt=y.fallbackTransition,ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:dt,fromState:V,toState:J,player:w,isFallbackTransition:ot}),ot||(Ea(a,py),w.onStart(()=>{Us(a,py)})),w.onDone(()=>{let it=this.players.indexOf(w);it>=0&&this.players.splice(it,1);const bt=this._engine.playersByElement.get(a);if(bt){let xt=bt.indexOf(w);xt>=0&&bt.splice(xt,1)}}),this.players.push(w),ut.push(w),w}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(o=>o.delete(a)),this._elementListeners.forEach((o,u)=>{this._elementListeners.set(u,o.filter(d=>d.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(u=>u.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const u=this._engine.driver.query(a,bl,!0);u.forEach(d=>{if(d[Ua])return;const y=this._engine.fetchNamespacesByElement(d);y.size?y.forEach(w=>w.triggerLeaveAnimation(d,o,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(a,o,u,d){const y=this._engine.statesByElement.get(a),w=new Map;if(y){const I=[];if(y.forEach((V,J)=>{if(w.set(J,V.value),this._triggers.has(J)){const Te=this.trigger(a,J,Bs,d);Te&&I.push(Te)}}),I.length)return this._engine.markElementAsRemoved(this.id,a,!0,o,w),u&&Oi(I).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),u=this._engine.statesByElement.get(a);if(o&&u){const d=new Set;o.forEach(y=>{const w=y.name;if(d.has(w))return;d.add(w);const V=this._triggers.get(w).fallbackTransition,J=u.get(w)||fd,Te=new Li(Bs),Ne=new yd(this.id,w,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:w,transition:V,fromState:J,toState:Te,player:Ne,isFallbackTransition:!0})})}}removeNode(a,o){const u=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let d=!1;if(u.totalAnimations){const y=u.players.length?u.playersByQueriedElement.get(a):[];if(y&&y.length)d=!0;else{let w=a;for(;w=w.parentNode;)if(u.statesByElement.get(w)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(a),d)u.markElementAsRemoved(this.id,a,!1,o);else{const y=a[Ua];(!y||y===Qu)&&(u.afterFlush(()=>this.clearElementCache(a)),u.destroyInnerAnimations(a),u._onRemovalComplete(a,o))}}insertNode(a,o){Ea(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(u=>{const d=u.player;if(d.destroyed)return;const y=u.element,w=this._elementListeners.get(y);w&&w.forEach(I=>{if(I.name==u.triggerName){const V=Xc(y,u.triggerName,u.fromState.value,u.toState.value);V._data=a,oh(u.player,I.phase,V,I.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):o.push(u)}),this._queue=[],o.sort((u,d)=>{const y=u.transition.ast.depCount,w=d.transition.ast.depCount;return 0==y||0==w?y-w:this._engine.driver.containsElement(u.element,d.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}}class gy{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(a,o)=>{};_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}constructor(a,o,u){this.bodyNode=a,this.driver=o,this._normalizer=u}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(u=>{u.queued&&a.push(u)})}),a}createNamespace(a,o){const u=new Bv(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(u,o):(this.newHostElements.set(o,u),this.collectEnterElement(o)),this._namespaceLookup[a]=u}_balanceNamespaceList(a,o){const u=this._namespaceList,d=this.namespacesByHostElement;if(u.length-1>=0){let w=!1,I=this.driver.getParentElement(o);for(;I;){const V=d.get(I);if(V){const J=u.indexOf(V);u.splice(J+1,0,a),w=!0;break}I=this.driver.getParentElement(I)}w||u.unshift(a)}else u.push(a);return d.set(o,a),a}register(a,o){let u=this._namespaceLookup[a];return u||(u=this.createNamespace(a,o)),u}registerTrigger(a,o,u){let d=this._namespaceLookup[a];d&&d.register(o,u)&&this.totalAnimations++}destroy(a,o){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const u=this._fetchNamespace(a);this.namespacesByHostElement.delete(u.hostElement);const d=this._namespaceList.indexOf(u);d>=0&&this._namespaceList.splice(d,1),u.destroy(o),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,u=this.statesByElement.get(a);if(u)for(let d of u.values())if(d.namespaceId){const y=this._fetchNamespace(d.namespaceId);y&&o.add(y)}return o}trigger(a,o,u,d){if(Xu(o)){const y=this._fetchNamespace(a);if(y)return y.trigger(o,u,d),!0}return!1}insertNode(a,o,u,d){if(!Xu(o))return;const y=o[Ua];if(y&&y.setForRemoval){y.setForRemoval=!1,y.setForMove=!0;const w=this.collectedLeaveElements.indexOf(o);w>=0&&this.collectedLeaveElements.splice(w,1)}if(a){const w=this._fetchNamespace(a);w&&w.insertNode(o,u)}d&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Ea(a,hd)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Us(a,hd))}removeNode(a,o,u){if(Xu(o)){const d=a?this._fetchNamespace(a):null;d?d.removeNode(o,u):this.markElementAsRemoved(a,o,!1,u);const y=this.namespacesByHostElement.get(o);y&&y.id!==a&&y.removeNode(o,u)}else this._onRemovalComplete(o,u)}markElementAsRemoved(a,o,u,d,y){this.collectedLeaveElements.push(o),o[Ua]={namespaceId:a,setForRemoval:d,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:y}}listen(a,o,u,d,y){return Xu(o)?this._fetchNamespace(a).listen(o,u,d,y):()=>{}}_buildInstruction(a,o,u,d,y){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,u,d,a.fromState.options,a.toState.options,o,y)}destroyInnerAnimations(a){let o=this.driver.query(a,bl,!0);o.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,hh,!0),o.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Oi(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[Ua];if(o&&o.setForRemoval){if(a[Ua]=Qu,o.namespaceId){this.destroyInnerAnimations(a);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(hd)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,d)=>this._balanceNamespaceList(u,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)Ea(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{o=this._flushAnimations(u,a)}finally{for(let d=0;d<u.length;d++)u[d]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],o.length?Oi(o).onDone(()=>{u.forEach(d=>d())}):u.forEach(d=>d())}}reportError(a){throw function Qf(){return new R.buA(3402,!1)}()}_flushAnimations(a,o){const u=new Ku,d=[],y=new Map,w=[],I=new Map,V=new Map,J=new Map,Te=new Set;this.disabledNodes.forEach(Ct=>{Te.add(Ct);const It=this.driver.query(Ct,".ng-animate-queued",!0);for(let Pt=0;Pt<It.length;Pt++)Te.add(It[Pt])});const Ne=this.bodyNode,ut=Array.from(this.statesByElement.keys()),dt=xh(ut,this.collectedEnterElements),ot=new Map;let it=0;dt.forEach((Ct,It)=>{const Pt=Lu+it++;ot.set(It,Pt),Ct.forEach(ln=>Ea(ln,Pt))});const bt=[],xt=new Set,$t=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const It=this.collectedLeaveElements[Ct],Pt=It[Ua];Pt&&Pt.setForRemoval&&(bt.push(It),xt.add(It),Pt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(ln=>xt.add(ln)):$t.add(It))}const sn=new Map,Wt=xh(ut,Array.from(xt));Wt.forEach((Ct,It)=>{const Pt=ms+it++;sn.set(It,Pt),Ct.forEach(ln=>Ea(ln,Pt))}),a.push(()=>{dt.forEach((Ct,It)=>{const Pt=ot.get(It);Ct.forEach(ln=>Us(ln,Pt))}),Wt.forEach((Ct,It)=>{const Pt=sn.get(It);Ct.forEach(ln=>Us(ln,Pt))}),bt.forEach(Ct=>{this.processLeaveNode(Ct)})});const Qn=[],An=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(o).forEach(Pt=>{const ln=Pt.player,Br=Pt.element;if(Qn.push(ln),this.collectedEnterElements.length){const po=Br[Ua];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(Pt.triggerName)){const Es=po.previousTriggersValues.get(Pt.triggerName),Ca=this.statesByElement.get(Pt.element);if(Ca&&Ca.has(Pt.triggerName)){const Bl=Ca.get(Pt.triggerName);Bl.value=Es,Ca.set(Pt.triggerName,Bl)}}return void ln.destroy()}}const Da=!Ne||!this.driver.containsElement(Ne,Br),ua=sn.get(Br),Vi=ot.get(Br),Yn=this._buildInstruction(Pt,u,Vi,ua,Da);if(Yn.errors&&Yn.errors.length)return void An.push(Yn);if(Da)return ln.onStart(()=>ps(Br,Yn.fromStyles)),ln.onDestroy(()=>pi(Br,Yn.toStyles)),void d.push(ln);if(Pt.isFallbackTransition)return ln.onStart(()=>ps(Br,Yn.fromStyles)),ln.onDestroy(()=>pi(Br,Yn.toStyles)),void d.push(ln);const yp=[];Yn.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||yp.push(po)}),Yn.timelines=yp,u.append(Br,Yn.timelines),w.push({instruction:Yn,player:ln,element:Br}),Yn.queriedElements.forEach(po=>mo(I,po,[]).push(ln)),Yn.preStyleProps.forEach((po,Es)=>{if(po.size){let Ca=V.get(Es);Ca||V.set(Es,Ca=new Set),po.forEach((Bl,ac)=>Ca.add(ac))}}),Yn.postStyleProps.forEach((po,Es)=>{let Ca=J.get(Es);Ca||J.set(Es,Ca=new Set),po.forEach((Bl,ac)=>Ca.add(ac))})});if(An.length){const Ct=[];An.forEach(It=>{Ct.push(function Yf(){return new R.buA(3505,!1)}())}),Qn.forEach(It=>It.destroy()),this.reportError(Ct)}const Vn=new Map,$n=new Map;w.forEach(Ct=>{const It=Ct.element;u.has(It)&&($n.set(It,It),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Vn))}),d.forEach(Ct=>{const It=Ct.element;this._getPreviousPlayers(It,!1,Ct.namespaceId,Ct.triggerName,null).forEach(ln=>{mo(Vn,It,[]).push(ln),ln.destroy()})});const $a=bt.filter(Ct=>Vs(Ct,V,J)),ei=new Map;xl(ei,this.driver,$t,J,Xa).forEach(Ct=>{Vs(Ct,V,J)&&$a.push(Ct)});const Ui=new Map;dt.forEach((Ct,It)=>{xl(Ui,this.driver,new Set(Ct),V,"!")}),$a.forEach(Ct=>{const It=ei.get(Ct),Pt=Ui.get(Ct);ei.set(Ct,new Map([...It?.entries()??[],...Pt?.entries()??[]]))});const oc=[],jl=[],fp={};w.forEach(Ct=>{const{element:It,player:Pt,instruction:ln}=Ct;if(u.has(It)){if(Te.has(It))return Pt.onDestroy(()=>pi(It,ln.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(ln.totalTime),void d.push(Pt);let Br=fp;if($n.size>1){let ua=It;const Vi=[];for(;ua=ua.parentNode;){const Yn=$n.get(ua);if(Yn){Br=Yn;break}Vi.push(ua)}Vi.forEach(Yn=>$n.set(Yn,Br))}const Da=this._buildAnimation(Pt.namespaceId,ln,Vn,y,Ui,ei);if(Pt.setRealPlayer(Da),Br===fp)oc.push(Pt);else{const ua=this.playersByElement.get(Br);ua&&ua.length&&(Pt.parentPlayer=Oi(ua)),d.push(Pt)}}else ps(It,ln.fromStyles),Pt.onDestroy(()=>pi(It,ln.toStyles)),jl.push(Pt),Te.has(It)&&d.push(Pt)}),jl.forEach(Ct=>{const It=y.get(Ct.element);if(It&&It.length){const Pt=Oi(It);Ct.setRealPlayer(Pt)}}),d.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<bt.length;Ct++){const It=bt[Ct],Pt=It[Ua];if(Us(It,ms),Pt&&Pt.hasAnimation)continue;let ln=[];if(I.size){let Da=I.get(It);Da&&Da.length&&ln.push(...Da);let ua=this.driver.query(It,hh,!0);for(let Vi=0;Vi<ua.length;Vi++){let Yn=I.get(ua[Vi]);Yn&&Yn.length&&ln.push(...Yn)}}const Br=ln.filter(Da=>!Da.destroyed);Br.length?Ih(this,It,Br):this.processLeaveNode(It)}return bt.length=0,oc.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const It=this.players.indexOf(Ct);this.players.splice(It,1)}),Ct.play()}),oc}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,u,d,y){let w=[];if(o){const I=this.playersByQueriedElement.get(a);I&&(w=I)}else{const I=this.playersByElement.get(a);if(I){const V=!y||y==Bs;I.forEach(J=>{J.queued||!V&&J.triggerName!=d||w.push(J)})}}return(u||d)&&(w=w.filter(I=>!(u&&u!=I.namespaceId||d&&d!=I.triggerName))),w}_beforeAnimationBuild(a,o,u){const y=o.element,w=o.isRemovalTransition?void 0:a,I=o.isRemovalTransition?void 0:o.triggerName;for(const V of o.timelines){const J=V.element,Te=J!==y,Ne=mo(u,J,[]);this._getPreviousPlayers(J,Te,w,I,o.toState).forEach(dt=>{const ot=dt.getRealPlayer();ot.beforeDestroy&&ot.beforeDestroy(),dt.destroy(),Ne.push(dt)})}ps(y,o.fromStyles)}_buildAnimation(a,o,u,d,y,w){const I=o.triggerName,V=o.element,J=[],Te=new Set,Ne=new Set,ut=o.timelines.map(ot=>{const it=ot.element;Te.add(it);const bt=it[Ua];if(bt&&bt.removedBeforeQueried)return new vl(ot.duration,ot.delay);const xt=it!==V,$t=function Rh(s){const a=[];return _y(s,a),a}((u.get(it)||Tl).map(Vn=>Vn.getRealPlayer())).filter(Vn=>!!Vn.element&&Vn.element===it),sn=y.get(it),Wt=w.get(it),Qn=Yc(this._normalizer,ot.keyframes,sn,Wt),An=this._buildPlayer(ot,Qn,$t);if(ot.subTimeline&&d&&Ne.add(it),xt){const Vn=new yd(a,I,it);Vn.setRealPlayer(An),J.push(Vn)}return An});J.forEach(ot=>{mo(this.playersByQueriedElement,ot.element,[]).push(ot),ot.onDone(()=>function vy(s,a,o){let u=s.get(a);if(u){if(u.length){const d=u.indexOf(o);u.splice(d,1)}0==u.length&&s.delete(a)}return u}(this.playersByQueriedElement,ot.element,ot))}),Te.forEach(ot=>Ea(ot,wl));const dt=Oi(ut);return dt.onDestroy(()=>{Te.forEach(ot=>Us(ot,wl)),pi(V,o.toStyles)}),Ne.forEach(ot=>{mo(d,ot,[]).push(dt)}),dt}_buildPlayer(a,o,u){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,u):new vl(a.duration,a.delay)}}class yd{namespaceId;triggerName;element;_player=new vl;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(a,o,u){this.namespaceId=a,this.triggerName=o,this.element=u}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((o,u)=>{o.forEach(d=>oh(a,u,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){mo(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function Xu(s){return s&&1===s.nodeType}function Ml(s,a){const o=s.style.display;return s.style.display=a??"none",o}function xl(s,a,o,u,d){const y=[];o.forEach(V=>y.push(Ml(V)));const w=[];u.forEach((V,J)=>{const Te=new Map;V.forEach(Ne=>{const ut=a.computeStyle(J,Ne,d);Te.set(Ne,ut),(!ut||0==ut.length)&&(J[Ua]=pd,w.push(J))}),s.set(J,Te)});let I=0;return o.forEach(V=>Ml(V,y[I++])),w}function xh(s,a){const o=new Map;if(s.forEach(I=>o.set(I,[])),0==a.length)return o;const d=new Set(a),y=new Map;function w(I){if(!I)return 1;let V=y.get(I);if(V)return V;const J=I.parentNode;return V=o.has(J)?J:d.has(J)?1:w(J),y.set(I,V),V}return a.forEach(I=>{const V=w(I);1!==V&&o.get(V).push(I)}),o}function Ea(s,a){s.classList?.add(a)}function Us(s,a){s.classList?.remove(a)}function Ih(s,a,o){Oi(o).onDone(()=>s.processLeaveNode(a))}function _y(s,a){for(let o=0;o<s.length;o++){const u=s[o];u instanceof Ff?_y(u.players,a):a.push(u)}}function Vs(s,a,o){const u=o.get(s);if(!u)return!1;let d=a.get(s);return d?u.forEach(y=>d.add(y)):a.set(s,u),o.delete(s),!0}class Il{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(a,o)=>{};constructor(a,o,u){this._driver=o,this._normalizer=u,this._transitionEngine=new gy(a.body,o,u),this._timelineEngine=new hy(a.body,o,u),this._transitionEngine.onRemovalComplete=(d,y)=>this.onRemovalComplete(d,y)}registerTrigger(a,o,u,d,y){const w=a+"-"+d;let I=this._triggerCache[w];if(!I){const V=[],Te=Wu(this._driver,y,V,[]);if(V.length)throw function Fs(){return new R.buA(3404,!1)}();I=function Th(s,a,o){return new dy(s,a,o)}(d,Te,this._normalizer),this._triggerCache[w]=I}this._transitionEngine.registerTrigger(o,d,I)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,u,d){this._transitionEngine.insertNode(a,o,u,d)}onRemove(a,o,u){this._transitionEngine.removeNode(a,o,u)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,u,d){if("@"==u.charAt(0)){const[y,w]=ah(u);this._timelineEngine.command(y,o,w,d)}else this._transitionEngine.trigger(a,o,u,d)}listen(a,o,u,d,y){if("@"==u.charAt(0)){const[w,I]=ah(u);return this._timelineEngine.listen(w,o,I,y)}return this._transitionEngine.listen(a,o,u,d,y)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}}let wy=(()=>{class s{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(o,u,d){this._element=o,this._startStyles=u,this._endStyles=d;let y=s.initialStylesByElement.get(o);y||s.initialStylesByElement.set(o,y=new Map),this._initialStyles=y}start(){this._state<1&&(this._startStyles&&pi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pi(this._element,this._initialStyles),this._endStyles&&(pi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(ps(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ps(this._element,this._endStyles),this._endStyles=null),pi(this._element,this._initialStyles),this._state=3)}}return s})();function Ju(s){let a=null;return s.forEach((o,u)=>{(function Ph(s){return"display"===s||"position"===s})(u)&&(a=a||new Map,a.set(u,o))}),a}class Nh{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(a,o,u,d){this.element=a,this.keyframes=o,this.options=u,this._specialStyles=d,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;const a=this.keyframes,o=this._triggerWebAnimation(this.element,a,this.options);if(!o)return this._onFinish(),null;this.domPlayer=o,this._finalKeyframe=a.length?a[a.length-1]:new Map;const u=()=>this._onFinish();return o.addEventListener("finish",u),this.onDestroy(()=>{o.removeEventListener("finish",u)}),o}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(a){const o=[];return a.forEach(u=>{o.push(Object.fromEntries(u))}),o}_triggerWebAnimation(a,o,u){const d=this._convertKeyframesToObject(o);try{return a.animate(d,u)}catch{return null}}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){const a=this._buildPlayer();a&&(this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),a.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=a*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,d)=>{"offset"!==d&&a.set(d,this._finished?u:Uu(this.element,d))}),this.currentSnapshot=a}triggerCallback(a){const o="start"===a?this._onStartFns:this._onDoneFns;o.forEach(u=>u()),o.length=0}}class gd{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}containsElement(a,o){return dh(a,o)}getParentElement(a){return Nu(a)}query(a,o,u){return ds(a,o,u)}computeStyle(a,o,u){return Uu(a,o)}animate(a,o,u,d,y,w=[]){const V={duration:u,delay:d,fill:0==d?"both":"forwards"};y&&(V.easing=y);const J=new Map,Te=w.filter(dt=>dt instanceof Nh);(function Dl(s,a){return 0===s||0===a})(u,d)&&Te.forEach(dt=>{dt.currentSnapshot.forEach((ot,it)=>J.set(it,ot))});let Ne=function Jf(s){return s.length?s[0]instanceof Map?s:s.map(a=>new Map(Object.entries(a))):[]}(o).map(dt=>new Map(dt));Ne=function td(s,a,o){if(o.size&&a.length){let u=a[0],d=[];if(o.forEach((y,w)=>{u.has(w)||d.push(w),u.set(w,y)}),d.length)for(let y=1;y<a.length;y++){let w=a[y];d.forEach(I=>w.set(I,Uu(s,I)))}}return a}(a,Ne,J);const ut=function Oh(s,a){let o=null,u=null;return Array.isArray(a)&&a.length?(o=Ju(a[0]),a.length>1&&(u=Ju(a[a.length-1]))):a instanceof Map&&(o=Ju(a)),o||u?new wy(s,o,u):null}(a,Ne);return new Nh(a,Ne,V,ut)}}const Lh="@.disabled";class Fh{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(a,o,u,d){this.namespaceId=a,this.delegate=o,this.engine=u,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,u,d=!0){this.delegate.insertBefore(a,o,u),this.engine.onInsert(this.namespaceId,o,a,d)}removeChild(a,o,u,d){d?this.delegate.removeChild(a,o,u,d):this.parentNode(o)&&this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,u,d){this.delegate.setAttribute(a,o,u,d)}removeAttribute(a,o,u){this.delegate.removeAttribute(a,o,u)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,u,d){this.delegate.setStyle(a,o,u,d)}removeStyle(a,o,u){this.delegate.removeStyle(a,o,u)}setProperty(a,o,u){"@"==o.charAt(0)&&o==Lh?this.disableAnimations(a,!!u):this.delegate.setProperty(a,o,u)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,u,d){return this.delegate.listen(a,o,u,d)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class Ey extends Fh{factory;constructor(a,o,u,d,y){super(o,u,d,y),this.factory=a,this.namespaceId=o}setProperty(a,o,u){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Lh?this.disableAnimations(a,u=void 0===u||!!u):this.engine.process(this.namespaceId,a,o.slice(1),u):this.delegate.setProperty(a,o,u)}listen(a,o,u,d){if("@"==o.charAt(0)){const y=function _d(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(a);let w=o.slice(1),I="";return"@"!=w.charAt(0)&&([w,I]=function _s(s){const a=s.indexOf(".");return[s.substring(0,a),s.slice(a+1)]}(w)),this.engine.listen(this.namespaceId,y,w,I,V=>{this.factory.scheduleListenerCallback(V._data||-1,u,V)})}return this.delegate.listen(a,o,u,d)}}class Zu{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(a,o,u){this.delegate=a,this.engine=o,this._zone=u,o.onRemovalComplete=(d,y)=>{y?.removeChild(null,d)}}createRenderer(a,o){const d=this.delegate.createRenderer(a,o);if(!a||!o?.data?.animation){const J=this._rendererCache;let Te=J.get(d);return Te||(Te=new Fh("",d,this.engine,()=>J.delete(d)),J.set(d,Te)),Te}const y=o.id,w=o.id+"-"+this._currentId;this._currentId++,this.engine.register(w,a);const I=J=>{Array.isArray(J)?J.forEach(I):this.engine.registerTrigger(y,w,a,J.name,J)};return o.data.animation.forEach(I),new Ey(this,w,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,o,u){if(a>=0&&a<this._microtaskId)return void this._zone.run(()=>o(u));const d=this._animationCallbacksBuffer;0==d.length&&queueMicrotask(()=>{this._zone.run(()=>{d.forEach(y=>{const[w,I]=y;w(I)}),this._animationCallbacksBuffer=[]})}),d.push([o,u])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(a){this.engine.flush(),this.delegate.componentReplaced?.(a)}}const Fi=[{provide:Vu,useFactory:()=>new gd},{provide:ge.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:nd,useFactory:function Rl(){return new rd}},{provide:Il,useClass:(()=>{class s extends Il{constructor(o,u,d){super(o,u,d)}ngOnDestroy(){this.flush()}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL),R.KVO(Vu),R.KVO(nd))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:ge._9s,useFactory:function ky(s,a,o){return new Zu(s,a,o)},deps:[Or,Il,ge.SKi]}]];H(467);class tc{}class Pl{}class Va{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(a){a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(o=>{const u=o.indexOf(":");if(u>0){const d=o.slice(0,u),y=o.slice(u+1).trim();this.addHeaderEntry(d,y)}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((o,u)=>{this.addHeaderEntry(u,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([o,u])=>{this.setHeaderEntries(o,u)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const o=this.headers.get(a.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,o){return this.clone({name:a,value:o,op:"a"})}set(a,o){return this.clone({name:a,value:o,op:"s"})}delete(a,o){return this.clone({name:a,value:o,op:"d"})}maybeSetNormalizedName(a,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,a)}init(){this.lazyInit&&(this.lazyInit instanceof Va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(o=>{this.headers.set(o,a.headers.get(o)),this.normalizedNames.set(o,a.normalizedNames.get(o))})}clone(a){const o=new Va;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof Va?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([a]),o}applyUpdate(a){const o=a.name.toLowerCase();switch(a.op){case"a":case"s":let u=a.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(a.name,o);const d=("a"===a.op?this.headers.get(o):void 0)||[];d.push(...u),this.headers.set(o,d);break;case"d":const y=a.value;if(y){let w=this.headers.get(o);if(!w)return;w=w.filter(I=>-1===y.indexOf(I)),0===w.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,w)}else this.headers.delete(o),this.normalizedNames.delete(o)}}addHeaderEntry(a,o){const u=a.toLowerCase();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(o):this.headers.set(u,[o])}setHeaderEntries(a,o){const u=(Array.isArray(o)?o:[o]).map(y=>y.toString()),d=a.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(a,d)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>a(this.normalizedNames.get(o),this.headers.get(o)))}}class Cy{encodeKey(a){return Ed(a)}encodeValue(a){return Ed(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const Uh=/%(\d[a-f0-9])/gi,Vh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ed(s){return encodeURIComponent(s).replace(Uh,(a,o)=>Vh[o]??a)}function Nl(s){return`${s}`}class ji{map;encoder;updates=null;cloneFrom=null;constructor(a={}){if(this.encoder=a.encoder||new Cy,a.fromString){if(a.fromObject)throw new R.buA(2805,!1);this.map=function Sy(s,a){const o=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(d=>{const y=d.indexOf("="),[w,I]=-1==y?[a.decodeKey(d),""]:[a.decodeKey(d.slice(0,y)),a.decodeValue(d.slice(y+1))],V=o.get(w)||[];V.push(I),o.set(w,V)}),o}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(o=>{const u=a.fromObject[o],d=Array.isArray(u)?u.map(Nl):[Nl(u)];this.map.set(o,d)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const o=this.map.get(a);return o?o[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,o){return this.clone({param:a,value:o,op:"a"})}appendAll(a){const o=[];return Object.keys(a).forEach(u=>{const d=a[u];Array.isArray(d)?d.forEach(y=>{o.push({param:u,value:y,op:"a"})}):o.push({param:u,value:d,op:"a"})}),this.clone(o)}set(a,o){return this.clone({param:a,value:o,op:"s"})}delete(a,o){return this.clone({param:a,value:o,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const o=this.encoder.encodeKey(a);return this.map.get(a).map(u=>o+"="+this.encoder.encodeValue(u)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const o=new ji({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(a),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const o=("a"===a.op?this.map.get(a.param):void 0)||[];o.push(Nl(a.value)),this.map.set(a.param,o);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let u=this.map.get(a.param)||[];const d=u.indexOf(Nl(a.value));-1!==d&&u.splice(d,1),u.length>0?this.map.set(a.param,u):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class Ay{map=new Map;set(a,o){return this.map.set(a,o),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function $h(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function My(s){return typeof Blob<"u"&&s instanceof Blob}function nc(s){return typeof FormData<"u"&&s instanceof FormData}const Hs="Content-Type",Dd="X-Request-URL",Hh="text/plain",Cd="application/json",Wh=`${Cd}, ${Hh}, */*`;class $o{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(a,o,u,d){let y;if(this.url=o,this.method=a.toUpperCase(),function Ty(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==u?u:null,y=d):y=u,y){if(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,this.keepalive=!!y.keepalive,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),y.priority&&(this.priority=y.priority),y.cache&&(this.cache=y.cache),y.credentials&&(this.credentials=y.credentials),"number"==typeof y.timeout){if(y.timeout<1||!Number.isInteger(y.timeout))throw new R.buA(2822,"");this.timeout=y.timeout}y.mode&&(this.mode=y.mode),y.redirect&&(this.redirect=y.redirect),y.integrity&&(this.integrity=y.integrity),y.referrer&&(this.referrer=y.referrer),this.transferCache=y.transferCache}if(this.headers??=new Va,this.context??=new Ay,this.params){const w=this.params.toString();if(0===w.length)this.urlWithParams=o;else{const I=o.indexOf("?");this.urlWithParams=o+(-1===I?"?":I<o.length-1?"&":"")+w}}else this.params=new ji,this.urlWithParams=o}serializeBody(){return null===this.body?null:"string"==typeof this.body||$h(this.body)||My(this.body)||nc(this.body)||function kd(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ji?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nc(this.body)?null:My(this.body)?this.body.type||null:$h(this.body)?null:"string"==typeof this.body?Hh:this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Cd:null}clone(a={}){const o=a.method||this.method,u=a.url||this.url,d=a.responseType||this.responseType,y=a.keepalive??this.keepalive,w=a.priority||this.priority,I=a.cache||this.cache,V=a.mode||this.mode,J=a.redirect||this.redirect,Te=a.credentials||this.credentials,Ne=a.referrer||this.referrer,ut=a.integrity||this.integrity,dt=a.transferCache??this.transferCache,ot=a.timeout??this.timeout,it=void 0!==a.body?a.body:this.body,bt=a.withCredentials??this.withCredentials,xt=a.reportProgress??this.reportProgress;let $t=a.headers||this.headers,sn=a.params||this.params;const Wt=a.context??this.context;return void 0!==a.setHeaders&&($t=Object.keys(a.setHeaders).reduce((Qn,An)=>Qn.set(An,a.setHeaders[An]),$t)),a.setParams&&(sn=Object.keys(a.setParams).reduce((Qn,An)=>Qn.set(An,a.setParams[An]),sn)),new $o(o,u,it,{params:sn,headers:$t,context:Wt,reportProgress:xt,responseType:d,withCredentials:bt,transferCache:dt,keepalive:y,cache:I,priority:w,timeout:ot,mode:V,redirect:J,credentials:Te,referrer:Ne,integrity:ut})}}var ka=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(ka||{});class Sn{headers;status;statusText;url;ok;type;redirected;constructor(a,o=200,u="OK"){this.headers=a.headers||new Va,this.status=void 0!==a.status?a.status:o,this.statusText=a.statusText||u,this.url=a.url||null,this.redirected=a.redirected,this.ok=this.status>=200&&this.status<300}}class Ja extends Sn{constructor(a={}){super(a)}type=ka.ResponseHeader;clone(a={}){return new Ja({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Bi extends Sn{body;constructor(a={}){super(a),this.body=void 0!==a.body?a.body:null}type=ka.Response;clone(a={}){return new Bi({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0,redirected:a.redirected??this.redirected})}}class jr extends Sn{name="HttpErrorResponse";message;error;ok=!1;constructor(a){super(a,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Sd(s,a){return{body:a,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,credentials:s.credentials,transferCache:s.transferCache,timeout:s.timeout,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect,integrity:s.integrity,referrer:s.referrer}}let xy=(()=>{class s{handler;constructor(o){this.handler=o}request(o,u,d={}){let y;if(o instanceof $o)y=o;else{let V,J;V=d.headers instanceof Va?d.headers:new Va(d.headers),d.params&&(J=d.params instanceof ji?d.params:new ji({fromObject:d.params})),y=new $o(o,u,void 0!==d.body?d.body:null,{headers:V,context:d.context,params:J,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache,keepalive:d.keepalive,priority:d.priority,cache:d.cache,mode:d.mode,redirect:d.redirect,credentials:d.credentials,referrer:d.referrer,integrity:d.integrity,timeout:d.timeout})}const w=ie(y).pipe(va(V=>this.handler.handle(V)));if(o instanceof $o||"events"===d.observe)return w;const I=w.pipe((0,kr.p)(V=>V instanceof Bi));switch(d.observe||"body"){case"body":switch(y.responseType){case"arraybuffer":return I.pipe((0,Nt.T)(V=>{if(null!==V.body&&!(V.body instanceof ArrayBuffer))throw new R.buA(2806,!1);return V.body}));case"blob":return I.pipe((0,Nt.T)(V=>{if(null!==V.body&&!(V.body instanceof Blob))throw new R.buA(2807,!1);return V.body}));case"text":return I.pipe((0,Nt.T)(V=>{if(null!==V.body&&"string"!=typeof V.body)throw new R.buA(2808,!1);return V.body}));default:return I.pipe((0,Nt.T)(V=>V.body))}case"response":return I;default:throw new R.buA(2809,!1)}}delete(o,u={}){return this.request("DELETE",o,u)}get(o,u={}){return this.request("GET",o,u)}head(o,u={}){return this.request("HEAD",o,u)}jsonp(o,u){return this.request("JSONP",o,{params:(new ji).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,u={}){return this.request("OPTIONS",o,u)}patch(o,u,d={}){return this.request("PATCH",o,Sd(d,u))}post(o,u,d={}){return this.request("POST",o,Sd(d,u))}put(o,u,d={}){return this.request("PUT",o,Sd(d,u))}static \u0275fac=function(u){return new(u||s)(R.KVO(tc))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const Qh=new R.nKC("");function Yh(s,a){return a(s)}const Gs=new R.nKC(""),Py=new R.nKC(""),Xh=new R.nKC("",{providedIn:"root",factory:()=>!0});let Jh=(()=>{class s extends tc{backend;injector;chain=null;pendingTasks=(0,R.WQX)(R.u5s);contributeToStability=(0,R.WQX)(Xh);constructor(o,u){super(),this.backend=o,this.injector=u}handle(o){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(Gs),...this.injector.get(Py,[])]));this.chain=u.reduceRight((d,y)=>function Oy(s,a,o){return(u,d)=>(0,R.N4e)(o,()=>a(u,y=>s(y,d)))}(d,y,this.injector),Yh)}if(this.contributeToStability){const u=this.pendingTasks.add();return this.chain(o,d=>this.backend.handle(d)).pipe(mr(u))}return this.chain(o,u=>this.backend.handle(u))}static \u0275fac=function(u){return new(u||s)(R.KVO(Pl),R.KVO(R.uvJ))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const ep=/^\)\]\}',?\n/,tp=RegExp(`^${Dd}:`,"m");let np=(()=>{class s{xhrFactory;constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new R.buA(-2800,!1);const u=this.xhrFactory;return ie(null).pipe(Nn(()=>new or.c(y=>{const w=u.build();if(w.open(o.method,o.urlWithParams),o.withCredentials&&(w.withCredentials=!0),o.headers.forEach((bt,xt)=>w.setRequestHeader(bt,xt.join(","))),o.headers.has("Accept")||w.setRequestHeader("Accept",Wh),!o.headers.has(Hs)){const bt=o.detectContentTypeHeader();null!==bt&&w.setRequestHeader(Hs,bt)}if(o.timeout&&(w.timeout=o.timeout),o.responseType){const bt=o.responseType.toLowerCase();w.responseType="json"!==bt?bt:"text"}const I=o.serializeBody();let V=null;const J=()=>{if(null!==V)return V;const bt=w.statusText||"OK",xt=new Va(w.getAllResponseHeaders()),$t=function Ad(s){return"responseURL"in s&&s.responseURL?s.responseURL:tp.test(s.getAllResponseHeaders())?s.getResponseHeader(Dd):null}(w)||o.url;return V=new Ja({headers:xt,status:w.status,statusText:bt,url:$t}),V},Te=()=>{let{headers:bt,status:xt,statusText:$t,url:sn}=J(),Wt=null;204!==xt&&(Wt=typeof w.response>"u"?w.responseText:w.response),0===xt&&(xt=Wt?200:0);let Qn=xt>=200&&xt<300;if("json"===o.responseType&&"string"==typeof Wt){const An=Wt;Wt=Wt.replace(ep,"");try{Wt=""!==Wt?JSON.parse(Wt):null}catch(Vn){Wt=An,Qn&&(Qn=!1,Wt={error:Vn,text:Wt})}}Qn?(y.next(new Bi({body:Wt,headers:bt,status:xt,statusText:$t,url:sn||void 0})),y.complete()):y.error(new jr({error:Wt,headers:bt,status:xt,statusText:$t,url:sn||void 0}))},Ne=bt=>{const{url:xt}=J(),$t=new jr({error:bt,status:w.status||0,statusText:w.statusText||"Unknown Error",url:xt||void 0});y.error($t)};let ut=Ne;o.timeout&&(ut=bt=>{const{url:xt}=J(),$t=new jr({error:new DOMException("Request timed out","TimeoutError"),status:w.status||0,statusText:w.statusText||"Request timeout",url:xt||void 0});y.error($t)});let dt=!1;const ot=bt=>{dt||(y.next(J()),dt=!0);let xt={type:ka.DownloadProgress,loaded:bt.loaded};bt.lengthComputable&&(xt.total=bt.total),"text"===o.responseType&&w.responseText&&(xt.partialText=w.responseText),y.next(xt)},it=bt=>{let xt={type:ka.UploadProgress,loaded:bt.loaded};bt.lengthComputable&&(xt.total=bt.total),y.next(xt)};return w.addEventListener("load",Te),w.addEventListener("error",Ne),w.addEventListener("timeout",ut),w.addEventListener("abort",Ne),o.reportProgress&&(w.addEventListener("progress",ot),null!==I&&w.upload&&w.upload.addEventListener("progress",it)),w.send(I),y.next({type:ka.Sent}),()=>{w.removeEventListener("error",Ne),w.removeEventListener("abort",Ne),w.removeEventListener("load",Te),w.removeEventListener("timeout",ut),o.reportProgress&&(w.removeEventListener("progress",ot),null!==I&&w.upload&&w.upload.removeEventListener("progress",it)),w.readyState!==w.DONE&&w.abort()}})))}static \u0275fac=function(u){return new(u||s)(R.KVO(G))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const rc=new R.nKC(""),Md=new R.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),op=new R.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ap{}let Zv=(()=>{class s{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(o,u){this.doc=o,this.cookieName=u}getToken(){const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i(o,this.cookieName),this.lastCookieString=o),this.lastToken}static \u0275fac=function(u){return new(u||s)(R.KVO(R.qQL),R.KVO(Md))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();function xd(s,a){const o=s.url.toLowerCase();if(!(0,R.WQX)(rc)||"GET"===s.method||"HEAD"===s.method||o.startsWith("http://")||o.startsWith("https://"))return a(s);const u=(0,R.WQX)(ap).getToken(),d=(0,R.WQX)(op);return null!=u&&!s.headers.has(d)&&(s=s.clone({headers:s.headers.set(d,u)})),a(s)}var cp=H(3077),Wy=H(130),Rd=H(5343);const vi=new or.c(Rd.l),mp="Service workers are disabled or not supported by this browser";class Od{serviceWorker;worker;registration;events;constructor(a,o){if(this.serviceWorker=a,a){let u=null;const d=new Mn.B;this.worker=new or.c(J=>(null!==u&&J.next(u),d.subscribe(Te=>J.next(Te))));const y=()=>{const{controller:J}=a;null!==J&&(u=J,d.next(u))};a.addEventListener("controllerchange",y),y(),this.registration=this.worker.pipe(Nn(()=>a.getRegistration().then(J=>{if(!J)throw new R.buA(5601,!1);return J})));const w=new Mn.B;this.events=w.asObservable();const I=J=>{const{data:Te}=J;Te?.type&&w.next(Te)};a.addEventListener("message",I),o?.get(ge.o8S,null,{optional:!0})?.onDestroy(()=>{a.removeEventListener("controllerchange",y),a.removeEventListener("message",I)})}else this.worker=this.events=this.registration=new or.c(u=>u.error(new R.buA(5601,!1)))}postMessage(a,o){return new Promise(u=>{this.worker.pipe(Fr(1)).subscribe(d=>{d.postMessage({action:a,...o}),u()})})}postMessageWithOperation(a,o,u){const d=this.waitForOperationCompleted(u),y=this.postMessage(a,o);return Promise.all([y,d]).then(([,w])=>w)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(a){let o;return o="string"==typeof a?u=>u.type===a:u=>a.includes(u.type),this.events.pipe((0,kr.p)(o))}nextEventOfType(a){return this.eventsOfType(a).pipe(Fr(1))}waitForOperationCompleted(a){return new Promise((o,u)=>{this.eventsOfType("OPERATION_COMPLETED").pipe((0,kr.p)(d=>d.nonce===a),Fr(1),(0,Nt.T)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).subscribe({next:o,error:u})})}get isEnabled(){return!!this.serviceWorker}}let o_=(()=>{class s{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Mn.B;constructor(o){if(this.sw=o,!o.isEnabled)return this.messages=vi,this.notificationClicks=vi,this.notificationCloses=vi,this.pushSubscriptionChanges=vi,void(this.subscription=vi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Nt.T)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Nt.T)(d=>d.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe((0,Nt.T)(d=>d.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe((0,Nt.T)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,Nt.T)(d=>d.pushManager));const u=this.pushManager.pipe(Nn(d=>d.getSubscription()));this.subscription=new or.c(d=>{const y=u.subscribe(d),w=this.subscriptionChanges.subscribe(d);return()=>{y.unsubscribe(),w.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(mp));const u={userVisibleOnly:!0};let d=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),y=new Uint8Array(new ArrayBuffer(d.length));for(let w=0;w<d.length;w++)y[w]=d.charCodeAt(w);return u.applicationServerKey=y,new Promise((w,I)=>{this.pushManager.pipe(Nn(V=>V.subscribe(u)),Fr(1)).subscribe({next:V=>{this.subscriptionChanges.next(V),w(V)},error:I})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(mp));const o=u=>{if(null===u)throw new R.buA(5602,!1);return u.unsubscribe().then(d=>{if(!d)throw new R.buA(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((u,d)=>{this.subscription.pipe(Fr(1),Nn(o)).subscribe({next:u,error:d})})}decodeBase64(o){return atob(o)}static \u0275fac=function(u){return new(u||s)(R.KVO(Od))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})(),hp=(()=>{class s{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled)return this.versionUpdates=vi,void(this.unrecoverable=vi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mp));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;const o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new R.buA(5601,!1));const o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(u){return new(u||s)(R.KVO(Od))};static \u0275prov=R.jDH({token:s,factory:s.\u0275fac})}return s})();const pp=new R.nKC("");function zy(){const s=(0,R.WQX)(Pd);if(!("serviceWorker"in navigator)||!1===s.enabled)return;const a=(0,R.WQX)(pp),o=(0,R.WQX)(ge.SKi),u=(0,R.WQX)(ge.o8S);o.runOutsideAngular(()=>{const d=navigator.serviceWorker,y=()=>d.controller?.postMessage({action:"INITIALIZE"});d.addEventListener("controllerchange",y),u.onDestroy(()=>{d.removeEventListener("controllerchange",y)})}),o.runOutsideAngular(()=>{let d;const{registrationStrategy:y}=s;if("function"==typeof y)d=new Promise(w=>y().subscribe(()=>w()));else{const[w,...I]=(y||"registerWhenStable:30000").split(":");switch(w){case"registerImmediately":d=Promise.resolve();break;case"registerWithDelay":d=ws(+I[0]||0);break;case"registerWhenStable":d=Promise.race([u.whenStable(),ws(+I[0])]);break;default:throw new R.buA(5600,!1)}}d.then(()=>{u.destroyed||navigator.serviceWorker.register(a,{scope:s.scope,updateViaCache:s.updateViaCache,type:s.type}).catch(w=>console.error((0,R.OsK)(5604,!1)))})})}function ws(s){return new Promise(a=>setTimeout(a,s))}function Fl(s,a){return new Od(!1!==s.enabled?navigator.serviceWorker:void 0,a)}class Pd{enabled;updateViaCache;type;scope;registrationStrategy}const Gy=[{path:"",loadComponent:()=>H.e(622).then(H.bind(H,5622)).then(s=>s.ScenarioComponent)},{path:"potions",loadComponent:()=>Promise.all([H.e(53),H.e(559)]).then(H.bind(H,8559)).then(s=>s.AlchemyComponent)},{path:"armory",loadComponent:()=>Promise.all([H.e(53),H.e(699)]).then(H.bind(H,4699)).then(s=>s.ArmoryComponent)},{path:"**",redirectTo:""}];(function nn(s,a,o){const u={rootComponent:s,platformRef:o?.platformRef,...Wr(a)};return(0,Qt.TL3)(u)})(Vc,{providers:[function bd(){return(0,ge._jY)("NgEagerAnimations"),[...Fi]}(),function Id(...s){const a=[xy,np,Jh,{provide:tc,useExisting:Jh},{provide:Pl,useFactory:()=>(0,R.WQX)(Qh,{optional:!0})??(0,R.WQX)(np)},{provide:Gs,useValue:xd,multi:!0},{provide:rc,useValue:!0},{provide:ap,useClass:Zv}];for(const o of s)a.push(...o.\u0275providers);return(0,R.EmA)(a)}(),function Af(s,...a){return(0,R.EmA)([{provide:pl,multi:!0,useValue:s},[],{provide:Le,useFactory:jc,deps:[Ya]},{provide:ge.iLQ,multi:!0,useFactory:Bm},a.map(o=>o.\u0275providers)])}(Gy,function Wm(){return function Ba(s,a){return{\u0275kind:s,\u0275providers:a}}(6,[{provide:k.hb,useClass:ao.fw}])}()),Tu.Vh,cp.s,io.J,Wy.X,function a_(s,a={}){return(0,R.EmA)([o_,hp,{provide:pp,useValue:s},{provide:Pd,useValue:a},{provide:Od,useFactory:Fl,deps:[Pd,R.zZn]},(0,ge.phd)(zy)])}("ngsw-worker.js",{enabled:!(0,Qt.naY)(),registrationStrategy:"registerWhenStable:30000"})]}).catch(s=>console.error(s))},8496:(st,ke,H)=>{"use strict";function k(i,G){return i.reduce((R,me,Z)=>(R[me]=G[Z],R),{})}H.d(ke,{e:()=>k})},8666:(st,ke,H)=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});const i=H(1635).__importDefault(H(3608));ke.default=class G{constructor(me,{headers:Z={},schema:q,fetch:se}){this.url=me,this.headers=new Headers(Z),this.schema=q,this.fetch=se}select(me,Z){const{head:q=!1,count:se}=Z??{},we=q?"HEAD":"GET";let de=!1;const ne=(me??"*").split("").map(he=>/\s/.test(he)&&!de?"":('"'===he&&(de=!de),he)).join("");return this.url.searchParams.set("select",ne),se&&this.headers.append("Prefer",`count=${se}`),new i.default({method:we,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(me,{count:Z,defaultToNull:q=!0}={}){var se;if(Z&&this.headers.append("Prefer",`count=${Z}`),q||this.headers.append("Prefer","missing=default"),Array.isArray(me)){const de=me.reduce((ne,he)=>ne.concat(Object.keys(he)),[]);if(de.length>0){const ne=[...new Set(de)].map(he=>`"${he}"`);this.url.searchParams.set("columns",ne.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:me,fetch:null!==(se=this.fetch)&&void 0!==se?se:fetch})}upsert(me,{onConflict:Z,ignoreDuplicates:q=!1,count:se,defaultToNull:we=!0}={}){var de;if(this.headers.append("Prefer",`resolution=${q?"ignore":"merge"}-duplicates`),void 0!==Z&&this.url.searchParams.set("on_conflict",Z),se&&this.headers.append("Prefer",`count=${se}`),we||this.headers.append("Prefer","missing=default"),Array.isArray(me)){const he=me.reduce((ye,fe)=>ye.concat(Object.keys(fe)),[]);if(he.length>0){const ye=[...new Set(he)].map(fe=>`"${fe}"`);this.url.searchParams.set("columns",ye.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:me,fetch:null!==(de=this.fetch)&&void 0!==de?de:fetch})}update(me,{count:Z}={}){var q;return Z&&this.headers.append("Prefer",`count=${Z}`),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:me,fetch:null!==(q=this.fetch)&&void 0!==q?q:fetch})}delete({count:me}={}){var Z;return me&&this.headers.append("Prefer",`count=${me}`),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}}},8750:(st,ke,H)=>{"use strict";H.d(ke,{Tg:()=>ye});var k=H(1635),i=H(7441),G=H(9858),R=H(1985),me=H(5055),Z=H(7953),q=H(591),se=H(5397),we=H(5196),de=H(8071),ne=H(5334),he=H(3494);function ye(pe){if(pe instanceof R.c)return pe;if(null!=pe){if((0,me.l)(pe))return function fe(pe){return new R.c(Pe=>{const Ee=pe[he.s]();if((0,de.T)(Ee.subscribe))return Ee.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,i.X)(pe))return function Me(pe){return new R.c(Pe=>{for(let Ee=0;Ee<pe.length&&!Pe.closed;Ee++)Pe.next(pe[Ee]);Pe.complete()})}(pe);if((0,G.y)(pe))return function Ye(pe){return new R.c(Pe=>{pe.then(Ee=>{Pe.closed||(Pe.next(Ee),Pe.complete())},Ee=>Pe.error(Ee)).then(null,ne.m)})}(pe);if((0,Z.T)(pe))return Ke(pe);if((0,se.x)(pe))return function Re(pe){return new R.c(Pe=>{for(const Ee of pe)if(Pe.next(Ee),Pe.closed)return;Pe.complete()})}(pe);if((0,we.U)(pe))return function rt(pe){return Ke((0,we.C)(pe))}(pe)}throw(0,q.L)(pe)}function Ke(pe){return new R.c(Pe=>{(function pt(pe,Pe){var Ee,Ge,$e,nt;return(0,k.__awaiter)(this,void 0,void 0,function*(){try{for(Ee=(0,k.__asyncValues)(pe);!(Ge=yield Ee.next()).done;)if(Pe.next(Ge.value),Pe.closed)return}catch(Rt){$e={error:Rt}}finally{try{Ge&&!Ge.done&&(nt=Ee.return)&&(yield nt.call(Ee))}finally{if($e)throw $e.error}}Pe.complete()})})(pe,Pe).catch(Ee=>Pe.error(Ee))})}},8793:(st,ke,H)=>{"use strict";H.d(ke,{x:()=>me});var k=H(6365),G=H(3794),R=H(6648);function me(...Z){return function i(){return(0,k.U)(1)}()((0,R.H)(Z,(0,G.lI)(Z)))}},8880:(st,ke,H)=>{"use strict";H.d(ke,{Mm:()=>k,RJ:()=>G,e_:()=>i});var k=function(R){return R.poison="poison",R.wound="wound",R.muddle="muddle",R.immobilize="immobilize",R.bane="bane",R.stun="stun",R.disarm="disarm",R.brittle="brittle",R.ward="ward",R.invisible="invisible",R.strengthen="strengthen",R.regenerate="regenerate",R}(k||{}),i=function(R){return R.None="none",R.Full="full",R.Half="half",R}(i||{}),G=function(R){return R.Fire="fire",R.Ice="ice",R.Earth="earth",R.Air="air",R.Light="light",R.Dark="dark",R}(G||{})},9172:(st,ke,H)=>{"use strict";H.d(ke,{Z:()=>R});var k=H(8793),i=H(3794),G=H(9974);function R(...me){const Z=(0,i.lI)(me);return(0,G.N)((q,se)=>{(Z?(0,k.x)(me,q,Z):(0,k.x)(me,q)).subscribe(se)})}},9270:(st,ke,H)=>{"use strict";H.d(ke,{f:()=>k});const k={setTimeout(i,G,...R){const{delegate:me}=k;return me?.setTimeout?me.setTimeout(i,G,...R):setTimeout(i,G,...R)},clearTimeout(i){const{delegate:G}=k;return(G?.clearTimeout||clearTimeout)(i)},delegate:void 0}},9293:st=>{function ke(k,i,G,R,me,Z,q){try{var se=k[Z](q),we=se.value}catch(de){return void G(de)}se.done?i(we):Promise.resolve(we).then(R,me)}st.exports=function H(k){return function(){var i=this,G=arguments;return new Promise(function(R,me){var Z=k.apply(i,G);function q(we){ke(Z,R,me,q,se,"next",we)}function se(we){ke(Z,R,me,q,se,"throw",we)}q(void 0)})}},st.exports.__esModule=!0,st.exports.default=st.exports},9295:(st,ke,H)=>{"use strict";H.d(ke,{EW:()=>fe,O8:()=>ye}),H(467);var i=H(2615),G=H(8440);function ye(Se){return function se(Se){const ee=(0,G.Ht)(null);try{return Se()}finally{(0,G.Ht)(ee)}}(Se)}function fe(Se,ee){return(0,G.KZ)(Se,ee?.equal)}Error,Error},9786:(st,ke,H)=>{"use strict";H.d(ke,{Y:()=>G,l:()=>R});var k=H(1026);let i=null;function G(me){if(k.$.useDeprecatedSynchronousErrorHandling){const Z=!i;if(Z&&(i={errorThrown:!1,error:null}),me(),Z){const{errorThrown:q,error:se}=i;if(i=null,q)throw se}}else me()}function R(me){k.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=me)}},9858:(st,ke,H)=>{"use strict";H.d(ke,{y:()=>i});var k=H(8071);function i(G){return(0,k.T)(G?.then)}},9974:(st,ke,H)=>{"use strict";H.d(ke,{N:()=>G,S:()=>i});var k=H(8071);function i(R){return(0,k.T)(R?.lift)}function G(R){return me=>{if(i(me))return me.lift(function(Z){try{return R(Z,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}}},st=>{st(st.s=8455)}]);