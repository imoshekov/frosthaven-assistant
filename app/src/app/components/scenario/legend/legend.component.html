<div class="legend-container">
  <div class="title-row">
    <h3>Scenario References</h3>

    <div class="chevron" [ngClass]="shouldExpand ? 'expanded' : ''" (click)="shouldExpand = !shouldExpand" tabindex="0"
      role="button">
      <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
        stroke-linejoin="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </div>
  </div>

  @if (vm$ | async; as vm) {
  <table class="legend-table" [style.display]="shouldExpand ? null : 'none'">
    @if (vm.ref; as ref) {
    <tbody>
      @for (label of [
      ['Bonus Experience', ref.bonus_experience],
      ['Gold Multiplier', ref.gold_conversion],
      ['Trap Damage', ref.trap_damage],
      ['Hazardous Damage', ref.hazardous_terrain],
      ['Monster Level', ref.monster_level],
      ]; track label[0]) {
      <tr>
        <td>{{ label[0] }}</td>
        <td>{{ label[1] }}</td>
      </tr>
      }
    </tbody>
    }
  </table>
  }
</div>